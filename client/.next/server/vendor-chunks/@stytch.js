"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stytch";
exports.ids = ["vendor-chunks/@stytch"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stytch/core/dist/public/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@stytch/core/dist/public/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar ui = __webpack_require__(/*! ../ui-56246f7e.js */ \"(ssr)/./node_modules/@stytch/core/dist/ui-56246f7e.js\");\nObject.defineProperty(exports, \"AuthFlowType\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.AuthFlowType;\n  }\n}));\nObject.defineProperty(exports, \"B2BMFAProducts\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.B2BMFAProducts;\n  }\n}));\nObject.defineProperty(exports, \"B2BOAuthProviders\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.B2BOAuthProviders;\n  }\n}));\nObject.defineProperty(exports, \"B2BProducts\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.B2BProducts;\n  }\n}));\nexports.BiometricsFailedError = ui.BiometricsFailedError;\nexports.BiometricsUnavailableError = ui.BiometricsUnavailableError;\nexports.ChallengeSigningFailedError = ui.ChallengeSigningFailedError;\nexports.DeviceCredentialsNotAllowedError = ui.DeviceCredentialsNotAllowedError;\nexports.FailedCodeChallengeError = ui.FailedCodeChallengeError;\nexports.FailedToDecryptDataError = ui.FailedToDecryptDataError;\nexports.InternalError = ui.InternalError;\nexports.InvalidAuthorizationCredentialError = ui.InvalidAuthorizationCredentialError;\nexports.InvalidCredentialTypeError = ui.InvalidCredentialTypeError;\nexports.InvalidRedirectSchemeError = ui.InvalidRedirectSchemeError;\nexports.InvalidStartUrlError = ui.InvalidStartUrlError;\nexports.JSONDataNotConvertibleToStringError = ui.JSONDataNotConvertibleToStringError;\nexports.KeyInvalidatedError = ui.KeyInvalidatedError;\nexports.KeystoreUnavailableError = ui.KeystoreUnavailableError;\nexports.MissingAttestationObjectError = ui.MissingAttestationObjectError;\nexports.MissingAuthorizationCredentialIDTokenError = ui.MissingAuthorizationCredentialIDTokenError;\nexports.MissingGoogleClientIDError = ui.MissingGoogleClientIDError;\nexports.MissingPKCEError = ui.MissingPKCEError;\nexports.MissingPublicKeyError = ui.MissingPublicKeyError;\nexports.MissingUrlError = ui.MissingUrlError;\nexports.NoBiometricsEnrolledError = ui.NoBiometricsEnrolledError;\nexports.NoBiometricsRegistrationError = ui.NoBiometricsRegistrationError;\nexports.NoCredentialsPresentError = ui.NoCredentialsPresentError;\nexports.NoCurrentSessionError = ui.NoCurrentSessionError;\nObject.defineProperty(exports, \"OAuthProviders\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.OAuthProviders;\n  }\n}));\nObject.defineProperty(exports, \"OTPMethods\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.OTPMethods;\n  }\n}));\nObject.defineProperty(exports, \"OneTapPositions\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.OneTapPositions;\n  }\n}));\nexports.PasskeysInvalidEncoding = ui.PasskeysInvalidEncoding;\nexports.PasskeysMisconfigured = ui.PasskeysMisconfigured;\nexports.PasskeysUnsupportedError = ui.PasskeysUnsupportedError;\nObject.defineProperty(exports, \"Products\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.Products;\n  }\n}));\nObject.defineProperty(exports, \"RNUIProducts\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.RNUIProducts;\n  }\n}));\nexports.RandomNumberGenerationFailed = ui.RandomNumberGenerationFailed;\nexports.SDKAPIUnreachableError = ui.SDKAPIUnreachableError;\nexports.SDKNotConfiguredError = ui.SDKNotConfiguredError;\nexports.SignInWithAppleMisconfigured = ui.SignInWithAppleMisconfigured;\nexports.StytchAPIError = ui.StytchAPIError;\nexports.StytchAPISchemaError = ui.StytchAPISchemaError;\nexports.StytchAPIUnreachableError = ui.StytchAPIUnreachableError;\nexports.StytchError = ui.StytchError;\nObject.defineProperty(exports, \"StytchEventType\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.StytchEventType;\n  }\n}));\nexports.StytchSDKAPIError = ui.StytchSDKAPIError;\nexports.StytchSDKError = ui.StytchSDKError;\nexports.StytchSDKSchemaError = ui.StytchSDKSchemaError;\nexports.StytchSDKUsageError = ui.StytchSDKUsageError;\nexports.UNRECOVERABLE_ERROR_TYPES = ui.UNRECOVERABLE_ERROR_TYPES;\nexports.UserCancellationError = ui.UserCancellationError;\nexports.UserLockedOutError = ui.UserLockedOutError;\nObject.defineProperty(exports, \"Wallets\", ({\n  enumerable: true,\n  get: function get() {\n    return ui.Wallets;\n  }\n}));\nexports.errorToStytchError = ui.errorToStytchError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9jb3JlL2Rpc3QvcHVibGljL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLFNBQVMsbUJBQU8sQ0FBQyxnRkFBbUI7QUFDcEMsZ0RBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0RBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YscURBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsK0NBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsNkJBQTZCO0FBQzdCLGtDQUFrQztBQUNsQyxtQ0FBbUM7QUFDbkMsd0NBQXdDO0FBQ3hDLGdDQUFnQztBQUNoQyxnQ0FBZ0M7QUFDaEMscUJBQXFCO0FBQ3JCLDJDQUEyQztBQUMzQyxrQ0FBa0M7QUFDbEMsa0NBQWtDO0FBQ2xDLDRCQUE0QjtBQUM1QiwyQ0FBMkM7QUFDM0MsMkJBQTJCO0FBQzNCLGdDQUFnQztBQUNoQyxxQ0FBcUM7QUFDckMsa0RBQWtEO0FBQ2xELGtDQUFrQztBQUNsQyx3QkFBd0I7QUFDeEIsNkJBQTZCO0FBQzdCLHVCQUF1QjtBQUN2QixpQ0FBaUM7QUFDakMscUNBQXFDO0FBQ3JDLGlDQUFpQztBQUNqQyw2QkFBNkI7QUFDN0Isa0RBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsOENBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsbURBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsK0JBQStCO0FBQy9CLDZCQUE2QjtBQUM3QixnQ0FBZ0M7QUFDaEMsNENBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZ0RBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysb0NBQW9DO0FBQ3BDLDhCQUE4QjtBQUM5Qiw2QkFBNkI7QUFDN0Isb0NBQW9DO0FBQ3BDLHNCQUFzQjtBQUN0Qiw0QkFBNEI7QUFDNUIsaUNBQWlDO0FBQ2pDLG1CQUFtQjtBQUNuQixtREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRix5QkFBeUI7QUFDekIsc0JBQXNCO0FBQ3RCLDRCQUE0QjtBQUM1QiwyQkFBMkI7QUFDM0IsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QiwwQkFBMEI7QUFDMUIsMkNBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMEJBQTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtbC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9jb3JlL2Rpc3QvcHVibGljL2luZGV4LmpzPzZmMmEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciB1aSA9IHJlcXVpcmUoJy4uL3VpLTU2MjQ2ZjdlLmpzJyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0F1dGhGbG93VHlwZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHVpLkF1dGhGbG93VHlwZTtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0IyQk1GQVByb2R1Y3RzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdWkuQjJCTUZBUHJvZHVjdHM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCMkJPQXV0aFByb3ZpZGVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHVpLkIyQk9BdXRoUHJvdmlkZXJzO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQjJCUHJvZHVjdHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB1aS5CMkJQcm9kdWN0cztcbiAgfVxufSk7XG5leHBvcnRzLkJpb21ldHJpY3NGYWlsZWRFcnJvciA9IHVpLkJpb21ldHJpY3NGYWlsZWRFcnJvcjtcbmV4cG9ydHMuQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IgPSB1aS5CaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcjtcbmV4cG9ydHMuQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yID0gdWkuQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yO1xuZXhwb3J0cy5EZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvciA9IHVpLkRldmljZUNyZWRlbnRpYWxzTm90QWxsb3dlZEVycm9yO1xuZXhwb3J0cy5GYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IgPSB1aS5GYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3I7XG5leHBvcnRzLkZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciA9IHVpLkZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcjtcbmV4cG9ydHMuSW50ZXJuYWxFcnJvciA9IHVpLkludGVybmFsRXJyb3I7XG5leHBvcnRzLkludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yID0gdWkuSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3I7XG5leHBvcnRzLkludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yID0gdWkuSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3I7XG5leHBvcnRzLkludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yID0gdWkuSW52YWxpZFJlZGlyZWN0U2NoZW1lRXJyb3I7XG5leHBvcnRzLkludmFsaWRTdGFydFVybEVycm9yID0gdWkuSW52YWxpZFN0YXJ0VXJsRXJyb3I7XG5leHBvcnRzLkpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yID0gdWkuSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3I7XG5leHBvcnRzLktleUludmFsaWRhdGVkRXJyb3IgPSB1aS5LZXlJbnZhbGlkYXRlZEVycm9yO1xuZXhwb3J0cy5LZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IgPSB1aS5LZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3I7XG5leHBvcnRzLk1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yID0gdWkuTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3I7XG5leHBvcnRzLk1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvciA9IHVpLk1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcjtcbmV4cG9ydHMuTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IgPSB1aS5NaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvcjtcbmV4cG9ydHMuTWlzc2luZ1BLQ0VFcnJvciA9IHVpLk1pc3NpbmdQS0NFRXJyb3I7XG5leHBvcnRzLk1pc3NpbmdQdWJsaWNLZXlFcnJvciA9IHVpLk1pc3NpbmdQdWJsaWNLZXlFcnJvcjtcbmV4cG9ydHMuTWlzc2luZ1VybEVycm9yID0gdWkuTWlzc2luZ1VybEVycm9yO1xuZXhwb3J0cy5Ob0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yID0gdWkuTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcjtcbmV4cG9ydHMuTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IgPSB1aS5Ob0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvcjtcbmV4cG9ydHMuTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvciA9IHVpLk5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3I7XG5leHBvcnRzLk5vQ3VycmVudFNlc3Npb25FcnJvciA9IHVpLk5vQ3VycmVudFNlc3Npb25FcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT0F1dGhQcm92aWRlcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB1aS5PQXV0aFByb3ZpZGVycztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ09UUE1ldGhvZHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB1aS5PVFBNZXRob2RzO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT25lVGFwUG9zaXRpb25zJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdWkuT25lVGFwUG9zaXRpb25zO1xuICB9XG59KTtcbmV4cG9ydHMuUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcgPSB1aS5QYXNza2V5c0ludmFsaWRFbmNvZGluZztcbmV4cG9ydHMuUGFzc2tleXNNaXNjb25maWd1cmVkID0gdWkuUGFzc2tleXNNaXNjb25maWd1cmVkO1xuZXhwb3J0cy5QYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IgPSB1aS5QYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Byb2R1Y3RzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdWkuUHJvZHVjdHM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSTlVJUHJvZHVjdHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB1aS5STlVJUHJvZHVjdHM7XG4gIH1cbn0pO1xuZXhwb3J0cy5SYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkID0gdWkuUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZDtcbmV4cG9ydHMuU0RLQVBJVW5yZWFjaGFibGVFcnJvciA9IHVpLlNES0FQSVVucmVhY2hhYmxlRXJyb3I7XG5leHBvcnRzLlNES05vdENvbmZpZ3VyZWRFcnJvciA9IHVpLlNES05vdENvbmZpZ3VyZWRFcnJvcjtcbmV4cG9ydHMuU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCA9IHVpLlNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQ7XG5leHBvcnRzLlN0eXRjaEFQSUVycm9yID0gdWkuU3R5dGNoQVBJRXJyb3I7XG5leHBvcnRzLlN0eXRjaEFQSVNjaGVtYUVycm9yID0gdWkuU3R5dGNoQVBJU2NoZW1hRXJyb3I7XG5leHBvcnRzLlN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IgPSB1aS5TdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yO1xuZXhwb3J0cy5TdHl0Y2hFcnJvciA9IHVpLlN0eXRjaEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTdHl0Y2hFdmVudFR5cGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB1aS5TdHl0Y2hFdmVudFR5cGU7XG4gIH1cbn0pO1xuZXhwb3J0cy5TdHl0Y2hTREtBUElFcnJvciA9IHVpLlN0eXRjaFNES0FQSUVycm9yO1xuZXhwb3J0cy5TdHl0Y2hTREtFcnJvciA9IHVpLlN0eXRjaFNES0Vycm9yO1xuZXhwb3J0cy5TdHl0Y2hTREtTY2hlbWFFcnJvciA9IHVpLlN0eXRjaFNES1NjaGVtYUVycm9yO1xuZXhwb3J0cy5TdHl0Y2hTREtVc2FnZUVycm9yID0gdWkuU3R5dGNoU0RLVXNhZ2VFcnJvcjtcbmV4cG9ydHMuVU5SRUNPVkVSQUJMRV9FUlJPUl9UWVBFUyA9IHVpLlVOUkVDT1ZFUkFCTEVfRVJST1JfVFlQRVM7XG5leHBvcnRzLlVzZXJDYW5jZWxsYXRpb25FcnJvciA9IHVpLlVzZXJDYW5jZWxsYXRpb25FcnJvcjtcbmV4cG9ydHMuVXNlckxvY2tlZE91dEVycm9yID0gdWkuVXNlckxvY2tlZE91dEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdXYWxsZXRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdWkuV2FsbGV0cztcbiAgfVxufSk7XG5leHBvcnRzLmVycm9yVG9TdHl0Y2hFcnJvciA9IHVpLmVycm9yVG9TdHl0Y2hFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/core/dist/public/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/core/dist/ui-56246f7e.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stytch/core/dist/ui-56246f7e.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/**\n * The authentication methods we support through our UI.\n * Currently we support `emailMagicLinks`, `oauth`, `otp`, `crypto` and `passwords`.\n */\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(fn) { try { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; } catch (e) { return typeof fn === \"function\"; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nexports.Products = void 0;\n(function (Products) {\n  Products[\"emailMagicLinks\"] = \"emailMagicLinks\";\n  Products[\"oauth\"] = \"oauth\";\n  Products[\"otp\"] = \"otp\";\n  Products[\"crypto\"] = \"crypto\";\n  Products[\"passwords\"] = \"passwords\";\n  Products[\"passkeys\"] = \"passkeys\";\n})(exports.Products || (exports.Products = {}));\n/**\n * The OAuth providers we support in our OAuth product.\n * Currently we support `Amazon`, `Apple`, `Bitbucket`, `Discord`, `Facebook`, `Figma`, `Google`, `GitLab`,\n * `LinkedIn`, `Microsoft`, `Salesforce`, `Slack`, `Snapchat`, `TikTok`, `Twitch`, `Twitter`, and `Yahoo`.\n */\nexports.OAuthProviders = void 0;\n(function (OAuthProviders) {\n  OAuthProviders[\"Google\"] = \"google\";\n  OAuthProviders[\"Microsoft\"] = \"microsoft\";\n  OAuthProviders[\"Apple\"] = \"apple\";\n  OAuthProviders[\"Github\"] = \"github\";\n  OAuthProviders[\"GitLab\"] = \"gitlab\";\n  OAuthProviders[\"Facebook\"] = \"facebook\";\n  OAuthProviders[\"Discord\"] = \"discord\";\n  OAuthProviders[\"Salesforce\"] = \"salesforce\";\n  OAuthProviders[\"Slack\"] = \"slack\";\n  OAuthProviders[\"Amazon\"] = \"amazon\";\n  OAuthProviders[\"Bitbucket\"] = \"bitbucket\";\n  OAuthProviders[\"LinkedIn\"] = \"linkedin\";\n  OAuthProviders[\"Coinbase\"] = \"coinbase\";\n  OAuthProviders[\"Twitch\"] = \"twitch\";\n  OAuthProviders[\"Twitter\"] = \"twitter\";\n  OAuthProviders[\"TikTok\"] = \"tiktok\";\n  OAuthProviders[\"Snapchat\"] = \"snapchat\";\n  OAuthProviders[\"Figma\"] = \"figma\";\n  OAuthProviders[\"Yahoo\"] = \"yahoo\";\n})(exports.OAuthProviders || (exports.OAuthProviders = {}));\n/**\n * The Crypto Wallets we support in our crypto product.\n * Currently we support all ethereum and solana wallets.\n * We additionally detect and show popular wallets as distinct options.\n * The list of poular wallets include `Binance`, `Coinbase`, `Metamask`, `Phantom`, and `Vessel`\n */\nexports.Wallets = void 0;\n(function (Wallets) {\n  Wallets[\"Vessel\"] = \"Vessel\";\n  Wallets[\"Phantom\"] = \"Phantom\";\n  Wallets[\"Metamask\"] = \"Metamask\";\n  Wallets[\"Coinbase\"] = \"Coinbase\";\n  Wallets[\"Binance\"] = \"Binance\";\n  Wallets[\"GenericEthereumWallet\"] = \"Other Ethereum Wallet\";\n  Wallets[\"GenericSolanaWallet\"] = \"Other Solana Wallet\";\n})(exports.Wallets || (exports.Wallets = {}));\n/**\n * Supported behaviors for positioning Google One Tap. The actual behavior\n * depends on browser support and Google's One Tap implementation.\n */\nexports.OneTapPositions = void 0;\n(function (OneTapPositions) {\n  /**\n   * Display Google One Tap using a native browser prompt if available, or\n   * embedded in the existing SDK login form otherwise.\n   * @deprecated This option has been renamed to `floatingOrEmbedded`\n   */\n  OneTapPositions[\"embedded\"] = \"embedded\";\n  /**\n   * Display the One Tap prompt using a native browser prompt if available, or\n   * in the top right corner otherwise. This is the default option.\n   */\n  OneTapPositions[\"floating\"] = \"floating\";\n  /**\n   * Display the One Tap prompt embedded in the existing SDK login form if a\n   * native browser prompt is not available, or not at all otherwise. This\n   * option is not recommended for new applications.\n   */\n  OneTapPositions[\"embeddedOnly\"] = \"embeddedOnly\";\n  /**\n   * Display the One Tap prompt using a native browser prompt if available, or\n   * embedded in the existing SDK login form otherwise.\n   */\n  OneTapPositions[\"floatingOrEmbedded\"] = \"floatingOrEmbedded\";\n  /**\n   * Attempt to display the One Tap prompt embedded in the existing SDK login\n   * form, even if a native browser prompt is supported. This option is not\n   * recommended. It disables native browser FedCM support even where it is\n   * available, and will stop being honored by Google in the future.\n   */\n  OneTapPositions[\"forceLegacyEmbedded\"] = \"forceLegacyEmbedded\";\n})(exports.OneTapPositions || (exports.OneTapPositions = {}));\n/**\n * The methods array allows you to specify the authentication methods that you would like to expose\n * to your users. The order of the products that you include here will also be the order in which\n * they appear in the login form, with the first product specified appearing at the top of the login\n * form. We currently support passcodes on `email`, `sms` and `whatsapp`\n */\nexports.OTPMethods = void 0;\n(function (OTPMethods) {\n  OTPMethods[\"SMS\"] = \"sms\";\n  OTPMethods[\"WhatsApp\"] = \"whatsapp\";\n  OTPMethods[\"Email\"] = \"email\";\n})(exports.OTPMethods || (exports.OTPMethods = {}));\nexports.StytchEventType = void 0;\n(function (StytchEventType) {\n  StytchEventType[\"MagicLinkLoginOrCreateEvent\"] = \"MAGIC_LINK_LOGIN_OR_CREATE\";\n  StytchEventType[\"OTPsLoginOrCreateEvent\"] = \"OTP_LOGIN_OR_CREATE\";\n  StytchEventType[\"OTPsAuthenticate\"] = \"OTP_AUTHENTICATE\";\n  StytchEventType[\"CryptoWalletAuthenticateStart\"] = \"CRYPTO_WALLET_AUTHENTICATE_START\";\n  StytchEventType[\"CryptoWalletAuthenticate\"] = \"CRYPTO_WALLET_AUTHENTICATE\";\n  StytchEventType[\"PasswordCreate\"] = \"PASSWORD_CREATE\";\n  StytchEventType[\"PasswordAuthenticate\"] = \"PASSWORD_AUTHENTICATE\";\n  StytchEventType[\"PasswordResetByEmailStart\"] = \"PASSWORD_RESET_BY_EMAIL_START\";\n  StytchEventType[\"PasswordResetByEmail\"] = \"PASSWORD_RESET_BY_EMAIL\";\n  StytchEventType[\"PasskeyRegister\"] = \"PASSKEY_REGISTER\";\n  StytchEventType[\"PasskeyAuthenticate\"] = \"PASSKEY_AUTHENTICATE\";\n  StytchEventType[\"PasskeySkip\"] = \"PASSKEY_SKIP\";\n  StytchEventType[\"PasskeyDone\"] = \"PASSKEY_DONE\";\n  // More Events will go here ...\n  // B2B Events\n  StytchEventType[\"B2BMagicLinkEmailLoginOrSignup\"] = \"B2B_MAGIC_LINK_EMAIL_LOGIN_OR_SIGNUP\";\n  StytchEventType[\"B2BMagicLinkAuthenticate\"] = \"B2B_MAGIC_LINK_AUTHENTICATE\";\n  StytchEventType[\"B2BMagicLinkEmailDiscoverySend\"] = \"B2B_MAGIC_LINK_EMAIL_DISCOVERY_SEND\";\n  StytchEventType[\"B2BMagicLinkDiscoveryAuthenticate\"] = \"B2B_MAGIC_LINK_DISCOVERY_AUTHENTICATE\";\n  StytchEventType[\"B2BSSOStart\"] = \"B2B_SSO_START\";\n  StytchEventType[\"B2BSSOAuthenticate\"] = \"B2B_SSO_AUTHENTICATE\";\n  StytchEventType[\"B2BOAuthAuthenticate\"] = \"B2B_OAUTH_AUTHENTICATE\";\n  StytchEventType[\"B2BOAuthDiscoveryAuthenticate\"] = \"B2B_OAUTH_DISCOVERY_AUTHENTICATE\";\n  StytchEventType[\"B2BDiscoveryOrganizationsCreate\"] = \"B2B_DISCOVERY_ORGANIZATIONS_CREATE\";\n  StytchEventType[\"B2BDiscoveryIntermediateSessionExchange\"] = \"B2B_DISCOVERY_INTERMEDIATE_SESSION_EXCHANGE\";\n  StytchEventType[\"B2BPasswordAuthenticate\"] = \"B2B_PASSWORD_AUTHENTICATE\";\n  StytchEventType[\"B2BPasswordResetByEmailStart\"] = \"B2B_PASSWORD_RESET_BY_EMAIL_START\";\n  StytchEventType[\"B2BPasswordResetByEmail\"] = \"B2B_PASSWORD_RESET_BY_EMAIL\";\n  StytchEventType[\"B2BPasswordResetBySession\"] = \"B2B_PASSWORD_RESET_BY_SESSION\";\n  StytchEventType[\"B2BSMSOTPSend\"] = \"B2B_SMS_OTP_SEND\";\n  StytchEventType[\"B2BSMSOTPAuthenticate\"] = \"B2B_SMS_OTP_AUTHENTICATE\";\n  StytchEventType[\"B2BTOTPCreate\"] = \"B2B_TOTP_CREATE\";\n  StytchEventType[\"B2BTOTPAuthenticate\"] = \"B2B_TOTP_AUTHENTICATE\";\n  StytchEventType[\"B2BRecoveryCodesRecover\"] = \"B2B_RECOVERY_CODES_RECOVER\";\n})(exports.StytchEventType || (exports.StytchEventType = {}));\nexports.RNUIProducts = void 0;\n(function (RNUIProducts) {\n  RNUIProducts[RNUIProducts[\"emailMagicLinks\"] = 0] = \"emailMagicLinks\";\n  RNUIProducts[RNUIProducts[\"oauth\"] = 1] = \"oauth\";\n  RNUIProducts[RNUIProducts[\"otp\"] = 2] = \"otp\";\n  RNUIProducts[RNUIProducts[\"passwords\"] = 3] = \"passwords\";\n})(exports.RNUIProducts || (exports.RNUIProducts = {}));\n\n/**\n * An Error class thrown when the SDK is unable to reach the Stytch servers,\n * or when the Stytch servers return a value the SDK cannot understand.\n * Usually - it means that you're offline!\n */\nvar SDKAPIUnreachableError = /*#__PURE__*/function (_Error) {\n  _inherits(SDKAPIUnreachableError, _Error);\n  function SDKAPIUnreachableError(message, details) {\n    var _this;\n    _classCallCheck(this, SDKAPIUnreachableError);\n    _this = _callSuper(this, SDKAPIUnreachableError, [message + '\\n' + details]);\n    _this.message = message + '\\n' + details;\n    _this.name = 'SDKAPIUnreachableError';\n    _this.details = details;\n    Object.setPrototypeOf(_assertThisInitialized(_this), SDKAPIUnreachableError.prototype);\n    return _this;\n  }\n  return _createClass(SDKAPIUnreachableError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * An Error class thrown when the provided input fails client-side validation -\n * for example if a field that was expected to be a number is instead a string.\n */\nvar StytchSDKUsageError = /*#__PURE__*/function (_Error2) {\n  _inherits(StytchSDKUsageError, _Error2);\n  function StytchSDKUsageError(methodName, message) {\n    var _this2;\n    _classCallCheck(this, StytchSDKUsageError);\n    _this2 = _callSuper(this, StytchSDKUsageError);\n    _this2.name = 'StytchSDKUsageError';\n    _this2.message = \"Invalid call to \".concat(methodName, \"\\n\") + message;\n    return _this2;\n  }\n  return _createClass(StytchSDKUsageError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * An Error class thrown when the provided input does not adhere to the Stytch API schema -\n * for example if a field that was expected to be a number is instead a string.\n */\nvar StytchSDKSchemaError = /*#__PURE__*/function (_Error3) {\n  _inherits(StytchSDKSchemaError, _Error3);\n  function StytchSDKSchemaError(schemaError) {\n    var _this3;\n    _classCallCheck(this, StytchSDKSchemaError);\n    var _a;\n    _this3 = _callSuper(this, StytchSDKSchemaError);\n    _this3.name = 'StytchSDKSchemaError';\n    var messages = (_a = schemaError.body) === null || _a === void 0 ? void 0 : _a.map(function (err) {\n      return \"\".concat(err.dataPath, \": \").concat(err.message);\n    }).join('\\n');\n    _this3.message = \"[400] Request does not match expected schema\\n\".concat(messages);\n    return _this3;\n  }\n  return _createClass(StytchSDKSchemaError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * An Error class wrapping a well-formed JSON error from the Stytch API.\n * The Stytch error should match one listed at {@link https://stytch.com/docs/api/errors}\n */\nvar StytchSDKAPIError = /*#__PURE__*/function (_Error4) {\n  _inherits(StytchSDKAPIError, _Error4);\n  function StytchSDKAPIError(details) {\n    var _this4;\n    _classCallCheck(this, StytchSDKAPIError);\n    _this4 = _callSuper(this, StytchSDKAPIError);\n    _this4.name = 'StytchSDKAPIError';\n    var status_code = details.status_code,\n      error_type = details.error_type,\n      error_message = details.error_message,\n      error_url = details.error_url,\n      request_id = details.request_id;\n    _this4.error_type = error_type;\n    _this4.error_message = error_message;\n    _this4.error_url = error_url;\n    _this4.request_id = request_id;\n    _this4.status_code = status_code;\n    _this4.message = \"[\".concat(status_code, \"] \").concat(error_type, \"\\n\") + \"\".concat(error_message, \"\\n\") + \"See \".concat(error_url, \" for more information.\\n\") + (\n    // Web-Backend doesn't have request IDs yet, so if a request fails there it won't have one.\n    // We should figure out how returning tracing info should work\n    request_id ? \"request_id: \".concat(request_id, \"\\n\") : '');\n    return _this4;\n  }\n  return _createClass(StytchSDKAPIError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * If the SDK throws an error with an error type included in this array, the local session and\n * user state will be cleared locally.\n */\nvar UNRECOVERABLE_ERROR_TYPES = ['unauthorized_credentials', 'user_unauthenticated', 'invalid_secret_authentication', 'session_not_found'];\n/**\n * An Error class representing an error within Stytch.\n */\nvar StytchError = /*#__PURE__*/function (_Error5) {\n  _inherits(StytchError, _Error5);\n  function StytchError(name, message) {\n    var _this5;\n    _classCallCheck(this, StytchError);\n    _this5 = _callSuper(this, StytchError, [message]);\n    _this5.name = name;\n    return _this5;\n  }\n  return _createClass(StytchError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * An Error class thrown when the SDK is unable to reach the Stytch servers,\n * or when the Stytch servers return a value the SDK cannot understand.\n * Usually - it means that you're offline!\n */\nvar StytchAPIUnreachableError = /*#__PURE__*/function (_StytchError) {\n  _inherits(StytchAPIUnreachableError, _StytchError);\n  function StytchAPIUnreachableError(details) {\n    var _this6;\n    _classCallCheck(this, StytchAPIUnreachableError);\n    _this6 = _callSuper(this, StytchAPIUnreachableError, ['StytchAPIUnreachableError', details]);\n    Object.setPrototypeOf(_assertThisInitialized(_this6), StytchAPIUnreachableError.prototype);\n    return _this6;\n  }\n  return _createClass(StytchAPIUnreachableError);\n}(StytchError);\n/**\n * An Error class thrown when the provided input does not adhere to the Stytch API schema -\n * for example if a field that was expected to be a number is instead a string.\n */\nvar StytchAPISchemaError = /*#__PURE__*/function (_StytchError2) {\n  _inherits(StytchAPISchemaError, _StytchError2);\n  function StytchAPISchemaError(schemaError) {\n    _classCallCheck(this, StytchAPISchemaError);\n    var _a;\n    var messages = (_a = schemaError.body) === null || _a === void 0 ? void 0 : _a.map(function (err) {\n      return \"\".concat(err.dataPath, \": \").concat(err.message);\n    }).join('\\n');\n    return _callSuper(this, StytchAPISchemaError, ['StytchAPISchemaError', \"Request does not match expected schema\\n\".concat(messages)]);\n  }\n  return _createClass(StytchAPISchemaError);\n}(StytchError);\n/**\n * An Error class wrapping a well-formed JSON error from the Stytch API.\n * The Stytch error should match one listed at {@link https://stytch.com/docs/api/errors}\n */\nvar StytchAPIError = /*#__PURE__*/function (_StytchError3) {\n  _inherits(StytchAPIError, _StytchError3);\n  function StytchAPIError(details) {\n    var _this7;\n    _classCallCheck(this, StytchAPIError);\n    var status_code = details.status_code,\n      error_type = details.error_type,\n      error_message = details.error_message,\n      error_url = details.error_url,\n      request_id = details.request_id;\n    _this7 = _callSuper(this, StytchAPIError, ['StytchAPIError', \"[\".concat(status_code, \"] \").concat(error_type, \"\\n\") + \"\".concat(error_message, \"\\n\") + \"See \".concat(error_url, \" for more information.\\n\") + (\n    // Web-Backend doesn't have request IDs yet, so if a request fails there it won't have one.\n    // We should figure out how returning tracing info should work\n    request_id ? \"request_id: \".concat(request_id, \"\\n\") : '')]);\n    _this7.error_type = error_type;\n    _this7.error_message = error_message;\n    _this7.error_url = error_url;\n    _this7.request_id = request_id;\n    _this7.status_code = status_code;\n    return _this7;\n  }\n  return _createClass(StytchAPIError);\n}(StytchError);\n/**\n * An Error class used in the Stytch SDK.\n */\nvar StytchSDKError = /*#__PURE__*/function (_StytchError4) {\n  _inherits(StytchSDKError, _StytchError4);\n  function StytchSDKError(name, description, options) {\n    var _this8;\n    _classCallCheck(this, StytchSDKError);\n    _this8 = _callSuper(this, StytchSDKError, [name, description]);\n    _this8.options = options;\n    return _this8;\n  }\n  return _createClass(StytchSDKError);\n}(StytchError);\n/**\n * Thrown when you attempt to perform an action that requires a session, but no local session exists\n */\nvar NoCurrentSessionError = /*#__PURE__*/function (_StytchSDKError) {\n  _inherits(NoCurrentSessionError, _StytchSDKError);\n  function NoCurrentSessionError() {\n    _classCallCheck(this, NoCurrentSessionError);\n    return _callSuper(this, NoCurrentSessionError, ['NoCurrentSessionError', 'There is no session currently available. Make sure the user is authenticated with a valid session.']);\n  }\n  return _createClass(NoCurrentSessionError);\n}(StytchSDKError);\n/**\n * Thrown when an unrecognized error is thrown\n */\nvar InternalError = /*#__PURE__*/function (_StytchSDKError2) {\n  _inherits(InternalError, _StytchSDKError2);\n  function InternalError(message) {\n    _classCallCheck(this, InternalError);\n    return _callSuper(this, InternalError, ['InternalError', message ? message : 'An internal error has occurred. Please contact Stytch if this occurs.']);\n  }\n  return _createClass(InternalError);\n}(StytchSDKError);\n/**\n * Thrown when no biometric registration exists\n */\nvar NoBiometricsRegistrationError = /*#__PURE__*/function (_StytchSDKError3) {\n  _inherits(NoBiometricsRegistrationError, _StytchSDKError3);\n  function NoBiometricsRegistrationError() {\n    _classCallCheck(this, NoBiometricsRegistrationError);\n    return _callSuper(this, NoBiometricsRegistrationError, ['NoBiometricsRegistrationError', 'There is no biometric registration available. Authenticate with another method and add a new biometric registration first.']);\n  }\n  return _createClass(NoBiometricsRegistrationError);\n}(StytchSDKError);\n/**\n * Thrown when biometrics are unavailable on the device\n */\nvar BiometricsUnavailableError = /*#__PURE__*/function (_StytchSDKError4) {\n  _inherits(BiometricsUnavailableError, _StytchSDKError4);\n  function BiometricsUnavailableError() {\n    _classCallCheck(this, BiometricsUnavailableError);\n    return _callSuper(this, BiometricsUnavailableError, ['BiometricsUnavailableError', 'Biometrics is not available on the device.']);\n  }\n  return _createClass(BiometricsUnavailableError);\n}(StytchSDKError);\n/**\n * Thrown when the biometrics enrollment has changed, and the underlying key is no longer usable\n */\nvar KeyInvalidatedError = /*#__PURE__*/function (_StytchSDKError5) {\n  _inherits(KeyInvalidatedError, _StytchSDKError5);\n  function KeyInvalidatedError() {\n    _classCallCheck(this, KeyInvalidatedError);\n    return _callSuper(this, KeyInvalidatedError, ['KeyInvalidatedError', 'The biometrics enrollment on the device has changed.']);\n  }\n  return _createClass(KeyInvalidatedError);\n}(StytchSDKError);\n/**\n * Thrown when the Keystore is determined to be unavailable\n */\nvar KeystoreUnavailableError = /*#__PURE__*/function (_StytchSDKError6) {\n  _inherits(KeystoreUnavailableError, _StytchSDKError6);\n  function KeystoreUnavailableError() {\n    _classCallCheck(this, KeystoreUnavailableError);\n    return _callSuper(this, KeystoreUnavailableError, ['KeystoreUnavailableError', 'The Android keystore is unavailable on the device. Consider setting allowFallbackToCleartext to true.']);\n  }\n  return _createClass(KeystoreUnavailableError);\n}(StytchSDKError);\n/**\n * Thrown when there is no biometric factor enrolled on device\n */\nvar NoBiometricsEnrolledError = /*#__PURE__*/function (_StytchSDKError7) {\n  _inherits(NoBiometricsEnrolledError, _StytchSDKError7);\n  function NoBiometricsEnrolledError() {\n    _classCallCheck(this, NoBiometricsEnrolledError);\n    return _callSuper(this, NoBiometricsEnrolledError, ['NoBiometricsEnrolledError', 'There is no biometric factor enrolled on the device. Add a biometric factor in the device settings.']);\n  }\n  return _createClass(NoBiometricsEnrolledError);\n}(StytchSDKError);\n/**\n * Thrown when the user has cancelled the prompt\n */\nvar UserCancellationError = /*#__PURE__*/function (_StytchSDKError8) {\n  _inherits(UserCancellationError, _StytchSDKError8);\n  function UserCancellationError() {\n    _classCallCheck(this, UserCancellationError);\n    return _callSuper(this, UserCancellationError, ['UserCancellationError', 'The user canceled the prompt. Ask the user to try again.']);\n  }\n  return _createClass(UserCancellationError);\n}(StytchSDKError);\n/**\n * Thrown when the user has been locked out of biometrics\n */\nvar UserLockedOutError = /*#__PURE__*/function (_StytchSDKError9) {\n  _inherits(UserLockedOutError, _StytchSDKError9);\n  function UserLockedOutError() {\n    _classCallCheck(this, UserLockedOutError);\n    return _callSuper(this, UserLockedOutError, ['UserLockedOutError', 'The user has been locked out due to too many failed attempts. Ask the user to try again later.']);\n  }\n  return _createClass(UserLockedOutError);\n}(StytchSDKError);\n/**\n * Thrown when biometrics register/authenticate calls are made with mismatched `allowDeviceCredentials` parameter\n */\nvar DeviceCredentialsNotAllowedError = /*#__PURE__*/function (_StytchSDKError10) {\n  _inherits(DeviceCredentialsNotAllowedError, _StytchSDKError10);\n  function DeviceCredentialsNotAllowedError() {\n    _classCallCheck(this, DeviceCredentialsNotAllowedError);\n    return _callSuper(this, DeviceCredentialsNotAllowedError, ['DeviceCredentialsNotAllowedError', 'The device credentials allowment is mismatched. Change the allowDeviceCredentials parameter to be the same in both the register and authenticate methods.']);\n  }\n  return _createClass(DeviceCredentialsNotAllowedError);\n}(StytchSDKError);\n/**\n * Thrown when no Google client ID is found for the project\n */\nvar MissingGoogleClientIDError = /*#__PURE__*/function (_StytchSDKError11) {\n  _inherits(MissingGoogleClientIDError, _StytchSDKError11);\n  function MissingGoogleClientIDError() {\n    _classCallCheck(this, MissingGoogleClientIDError);\n    return _callSuper(this, MissingGoogleClientIDError, ['MissingGoogleClientIDError', 'No Google client ID was found in the project.']);\n  }\n  return _createClass(MissingGoogleClientIDError);\n}(StytchSDKError);\n/**\n * Thrown when there was an error generating or retrieving a PKCE keypair\n */\nvar MissingPKCEError = /*#__PURE__*/function (_StytchSDKError12) {\n  _inherits(MissingPKCEError, _StytchSDKError12);\n  function MissingPKCEError() {\n    _classCallCheck(this, MissingPKCEError);\n    return _callSuper(this, MissingPKCEError, ['MissingPKCEError', 'Make sure this flow is completed on the same device on which it was started.']);\n  }\n  return _createClass(MissingPKCEError);\n}(StytchSDKError);\n/**\n * Thrown when a native OAuth flow is missing the id_token\n */\nvar MissingAuthorizationCredentialIDTokenError = /*#__PURE__*/function (_StytchSDKError13) {\n  _inherits(MissingAuthorizationCredentialIDTokenError, _StytchSDKError13);\n  function MissingAuthorizationCredentialIDTokenError() {\n    _classCallCheck(this, MissingAuthorizationCredentialIDTokenError);\n    return _callSuper(this, MissingAuthorizationCredentialIDTokenError, ['MissingAuthorizationCredentialIDTokenError', 'The authorization credential is missing an ID token.']);\n  }\n  return _createClass(MissingAuthorizationCredentialIDTokenError);\n}(StytchSDKError);\n/**\n * Thrown when a native OAuth flow returns an invalid credential\n */\nvar InvalidAuthorizationCredentialError = /*#__PURE__*/function (_StytchSDKError14) {\n  _inherits(InvalidAuthorizationCredentialError, _StytchSDKError14);\n  function InvalidAuthorizationCredentialError() {\n    _classCallCheck(this, InvalidAuthorizationCredentialError);\n    return _callSuper(this, InvalidAuthorizationCredentialError, ['InvalidAuthorizationCredentialError', 'The authorization credential is invalid. Verify that OAuth is set up correctly in the developer console, and call the start flow method.']);\n  }\n  return _createClass(InvalidAuthorizationCredentialError);\n}(StytchSDKError);\n/**\n * Thrown when a Google OneTap flow is not completed successfully\n */\nvar NoCredentialsPresentError = /*#__PURE__*/function (_StytchSDKError15) {\n  _inherits(NoCredentialsPresentError, _StytchSDKError15);\n  function NoCredentialsPresentError() {\n    _classCallCheck(this, NoCredentialsPresentError);\n    return _callSuper(this, NoCredentialsPresentError, ['NoCredentialsPresentError', 'The user did not provide credentials for a Google OneTap attempt']);\n  }\n  return _createClass(NoCredentialsPresentError);\n}(StytchSDKError);\n/**\n * Thrown when a public key was not found\n */\nvar MissingPublicKeyError = /*#__PURE__*/function (_StytchSDKError16) {\n  _inherits(MissingPublicKeyError, _StytchSDKError16);\n  function MissingPublicKeyError() {\n    _classCallCheck(this, MissingPublicKeyError);\n    return _callSuper(this, MissingPublicKeyError, ['MissingPublicKeyError', 'Failed to retrieve the public key. Add a new biometric registration.']);\n  }\n  return _createClass(MissingPublicKeyError);\n}(StytchSDKError);\n/**\n * Thrown when the challenge string failed to be signed\n */\nvar ChallengeSigningFailedError = /*#__PURE__*/function (_StytchSDKError17) {\n  _inherits(ChallengeSigningFailedError, _StytchSDKError17);\n  function ChallengeSigningFailedError() {\n    _classCallCheck(this, ChallengeSigningFailedError);\n    return _callSuper(this, ChallengeSigningFailedError, ['ChallengeSigningFailedError', 'Failed to sign the challenge with the key.']);\n  }\n  return _createClass(ChallengeSigningFailedError);\n}(StytchSDKError);\n/**\n * Thrown when the SDK has not been configured\n */\nvar SDKNotConfiguredError = /*#__PURE__*/function (_StytchSDKError18) {\n  _inherits(SDKNotConfiguredError, _StytchSDKError18);\n  function SDKNotConfiguredError() {\n    _classCallCheck(this, SDKNotConfiguredError);\n    return _callSuper(this, SDKNotConfiguredError, ['SDKNotConfiguredError', 'Stytch client is not confiured. You must call the configure method before using the SDK']);\n  }\n  return _createClass(SDKNotConfiguredError);\n}(StytchSDKError);\n/**\n * Thrown when the code challenge failed to be generated\n */\nvar FailedCodeChallengeError = /*#__PURE__*/function (_StytchSDKError19) {\n  _inherits(FailedCodeChallengeError, _StytchSDKError19);\n  function FailedCodeChallengeError() {\n    _classCallCheck(this, FailedCodeChallengeError);\n    return _callSuper(this, FailedCodeChallengeError, ['FailedCodeChallengeError', 'Failed to create a code challenge']);\n  }\n  return _createClass(FailedCodeChallengeError);\n}(StytchSDKError);\n/**\n * Thrown when Passkeys are unsupported on a device\n */\nvar PasskeysUnsupportedError = /*#__PURE__*/function (_StytchSDKError20) {\n  _inherits(PasskeysUnsupportedError, _StytchSDKError20);\n  function PasskeysUnsupportedError() {\n    _classCallCheck(this, PasskeysUnsupportedError);\n    return _callSuper(this, PasskeysUnsupportedError, ['PasskeysUnsupportedError', 'Passkeys are not supported on this device']);\n  }\n  return _createClass(PasskeysUnsupportedError);\n}(StytchSDKError);\n/**\n * Thrown when user data failed to be decrypted\n */\nvar FailedToDecryptDataError = /*#__PURE__*/function (_StytchSDKError21) {\n  _inherits(FailedToDecryptDataError, _StytchSDKError21);\n  function FailedToDecryptDataError() {\n    _classCallCheck(this, FailedToDecryptDataError);\n    return _callSuper(this, FailedToDecryptDataError, ['FailedToDecryptDataError', 'Failed to decrypt user data']);\n  }\n  return _createClass(FailedToDecryptDataError);\n}(StytchSDKError);\n/**\n * Thrown when Biometrics failed\n */\nvar BiometricsFailedError = /*#__PURE__*/function (_StytchSDKError22) {\n  _inherits(BiometricsFailedError, _StytchSDKError22);\n  function BiometricsFailedError() {\n    _classCallCheck(this, BiometricsFailedError);\n    return _callSuper(this, BiometricsFailedError, ['BiometricsFailedError', 'Biometric authentication failed']);\n  }\n  return _createClass(BiometricsFailedError);\n}(StytchSDKError);\n/**\n * Thrown when a start URL was invalid\n */\nvar InvalidStartUrlError = /*#__PURE__*/function (_StytchSDKError23) {\n  _inherits(InvalidStartUrlError, _StytchSDKError23);\n  function InvalidStartUrlError() {\n    _classCallCheck(this, InvalidStartUrlError);\n    return _callSuper(this, InvalidStartUrlError, ['InvalidStartUrlError', 'The start URL was invalid or improperly formatted.']);\n  }\n  return _createClass(InvalidStartUrlError);\n}(StytchSDKError);\n/**\n * Thrown when a redirect url was invalid\n */\nvar InvalidRedirectSchemeError = /*#__PURE__*/function (_StytchSDKError24) {\n  _inherits(InvalidRedirectSchemeError, _StytchSDKError24);\n  function InvalidRedirectSchemeError() {\n    _classCallCheck(this, InvalidRedirectSchemeError);\n    return _callSuper(this, InvalidRedirectSchemeError, ['InvalidRedirectSchemeError', 'The scheme from the given redirect urls was invalid. Possible reasons include: nil scheme, non-custom scheme (using http or https), or differing schemes for login/signup urls.']);\n  }\n  return _createClass(InvalidRedirectSchemeError);\n}(StytchSDKError);\n/**\n * Thrown when the underlying web authentication service failed to return a URL.\n */\nvar MissingUrlError = /*#__PURE__*/function (_StytchSDKError25) {\n  _inherits(MissingUrlError, _StytchSDKError25);\n  function MissingUrlError() {\n    _classCallCheck(this, MissingUrlError);\n    return _callSuper(this, MissingUrlError, ['MissingUrlError', 'The underlying web authentication service failed to return a URL.']);\n  }\n  return _createClass(MissingUrlError);\n}(StytchSDKError);\n/**\n * Thrown when the public key credential type was not of the expected type.\n */\nvar InvalidCredentialTypeError = /*#__PURE__*/function (_StytchSDKError26) {\n  _inherits(InvalidCredentialTypeError, _StytchSDKError26);\n  function InvalidCredentialTypeError() {\n    _classCallCheck(this, InvalidCredentialTypeError);\n    return _callSuper(this, InvalidCredentialTypeError, ['InvalidCredentialTypeError', 'The public key credential type was not of the expected type.']);\n  }\n  return _createClass(InvalidCredentialTypeError);\n}(StytchSDKError);\n/**\n * Thrown when the public key credential is missing the attestation object\n */\nvar MissingAttestationObjectError = /*#__PURE__*/function (_StytchSDKError27) {\n  _inherits(MissingAttestationObjectError, _StytchSDKError27);\n  function MissingAttestationObjectError() {\n    _classCallCheck(this, MissingAttestationObjectError);\n    return _callSuper(this, MissingAttestationObjectError, ['MissingAttestationObjectError', 'The public key credential is missing the attestation object.']);\n  }\n  return _createClass(MissingAttestationObjectError);\n}(StytchSDKError);\n/**\n * Thrown when we received JSON data that could not be converted to a string\n */\nvar JSONDataNotConvertibleToStringError = /*#__PURE__*/function (_StytchSDKError28) {\n  _inherits(JSONDataNotConvertibleToStringError, _StytchSDKError28);\n  function JSONDataNotConvertibleToStringError() {\n    _classCallCheck(this, JSONDataNotConvertibleToStringError);\n    return _callSuper(this, JSONDataNotConvertibleToStringError, ['JSONDataNotConvertibleToStringError', 'JSON data unable to be converted to String type.']);\n  }\n  return _createClass(JSONDataNotConvertibleToStringError);\n}(StytchSDKError);\n/**\n * Thrown when RNG fails\n */\nvar RandomNumberGenerationFailed = /*#__PURE__*/function (_StytchSDKError29) {\n  _inherits(RandomNumberGenerationFailed, _StytchSDKError29);\n  function RandomNumberGenerationFailed() {\n    _classCallCheck(this, RandomNumberGenerationFailed);\n    return _callSuper(this, RandomNumberGenerationFailed, ['RandomNumberGenerationFailed', 'Random number generation failed']);\n  }\n  return _createClass(RandomNumberGenerationFailed);\n}(StytchSDKError);\n/**\n * Thrown when there was an invalid encoding used for a Passkeys request\n */\nvar PasskeysInvalidEncoding = /*#__PURE__*/function (_StytchSDKError30) {\n  _inherits(PasskeysInvalidEncoding, _StytchSDKError30);\n  function PasskeysInvalidEncoding() {\n    _classCallCheck(this, PasskeysInvalidEncoding);\n    return _callSuper(this, PasskeysInvalidEncoding, ['PasskeysInvalidEncoding', 'Invalid passkey encoding']);\n  }\n  return _createClass(PasskeysInvalidEncoding);\n}(StytchSDKError);\n/**\n * Thrown when Passkeys support is misconfigured\n */\nvar PasskeysMisconfigured = /*#__PURE__*/function (_StytchSDKError31) {\n  _inherits(PasskeysMisconfigured, _StytchSDKError31);\n  function PasskeysMisconfigured() {\n    _classCallCheck(this, PasskeysMisconfigured);\n    return _callSuper(this, PasskeysMisconfigured, ['PasskeysMisconfigured', 'Passkeys are misconfigured. Verify that you have added the correct associated domain for your application, and that the signing information is correct.']);\n  }\n  return _createClass(PasskeysMisconfigured);\n}(StytchSDKError);\n/**\n * Thrown when there was an invalid encoding used for a Passkeys request\n */\nvar SignInWithAppleMisconfigured = /*#__PURE__*/function (_StytchSDKError32) {\n  _inherits(SignInWithAppleMisconfigured, _StytchSDKError32);\n  function SignInWithAppleMisconfigured() {\n    _classCallCheck(this, SignInWithAppleMisconfigured);\n    return _callSuper(this, SignInWithAppleMisconfigured, ['SignInWithAppleMisconfigured', 'Sign In With Apple is misconfigured. Verify that you have correctly configured Apple OAuth in the Stytch Dashboard and added the Sign In With Apple capability to your project.']);\n  }\n  return _createClass(SignInWithAppleMisconfigured);\n}(StytchSDKError);\nfunction errorToStytchError(error) {\n  switch (error.message) {\n    case 'internal_error':\n      return new InternalError(error.message);\n    case 'no_current_session':\n      return new NoCurrentSessionError();\n    case 'no_biometrics_registration':\n      return new NoBiometricsRegistrationError();\n    case 'biometrics_unavailable':\n      return new BiometricsUnavailableError();\n    case 'key_invalidated':\n      return new KeyInvalidatedError();\n    case 'device_hardware_error':\n      return new BiometricsUnavailableError();\n    case 'biometrics_not_available':\n      return new BiometricsUnavailableError();\n    case 'no_biometrics_enrolled':\n      return new NoBiometricsEnrolledError();\n    case 'keystore_unavailable':\n      return new KeystoreUnavailableError();\n    case 'no_biometric_key':\n      return new KeyInvalidatedError();\n    case 'device_credentials_not_allowed':\n      return new DeviceCredentialsNotAllowedError();\n    case 'user_cancellation':\n      return new UserCancellationError();\n    case 'user_locked_out':\n      return new UserLockedOutError();\n    case 'google_onetap_missing_id_token':\n      return new MissingAuthorizationCredentialIDTokenError();\n    case 'google_onetap_missing_member':\n      return new InvalidAuthorizationCredentialError();\n    case 'oauth_apple_missing_id_token':\n      return new MissingAuthorizationCredentialIDTokenError();\n    case 'oauth_apple_credential_invalid':\n      return new InvalidAuthorizationCredentialError();\n    case 'missing_public_key':\n      return new MissingPublicKeyError();\n    case 'challenge_signing_failed':\n      return new ChallengeSigningFailedError();\n    case 'missing_authorization_credential_id_token':\n      return new MissingAuthorizationCredentialIDTokenError();\n    case 'invalid_authorization_credential':\n      return new InvalidAuthorizationCredentialError();\n    case 'no_credentials_present':\n      return new NoCredentialsPresentError();\n    case 'sdk_not_configured':\n      return new SDKNotConfiguredError();\n    case 'failed_code_challenge':\n      return new FailedCodeChallengeError();\n    case 'passkeys_unsupported':\n      return new PasskeysUnsupportedError();\n    case 'failed_to_decrypt_data':\n      return new FailedToDecryptDataError();\n    case 'biometrics_failed':\n      return new BiometricsFailedError();\n    case 'invalid_start_url':\n      return new InvalidStartUrlError();\n    case 'invalid_redirect_scheme':\n      return new InvalidRedirectSchemeError();\n    case 'missing_url':\n      return new MissingUrlError();\n    case 'invalid_credential_type':\n      return new InvalidCredentialTypeError();\n    case 'missing_attestation_object':\n      return new MissingAttestationObjectError();\n    case 'json_data_not_convertible_to_string':\n      return new JSONDataNotConvertibleToStringError();\n    case 'random_number_generation_failed':\n      return new RandomNumberGenerationFailed();\n    case 'passkeys_invalid_encoding':\n      return new PasskeysInvalidEncoding();\n    case 'passkeys_misconfigured':\n      return new PasskeysMisconfigured();\n    case 'signinwithapple_misconfigured':\n      return new SignInWithAppleMisconfigured();\n    default:\n      return new StytchSDKError(error.name, error.message);\n  }\n}\n\n/**\n * The authentication methods we support through our UI.\n * Currently we support `emailMagicLinks`, `sso`, `passwords`, and `oauth`.\n */\nexports.B2BProducts = void 0;\n(function (B2BProducts) {\n  B2BProducts[\"emailMagicLinks\"] = \"emailMagicLinks\";\n  B2BProducts[\"sso\"] = \"sso\";\n  B2BProducts[\"passwords\"] = \"passwords\";\n  B2BProducts[\"oauth\"] = \"oauth\";\n})(exports.B2BProducts || (exports.B2BProducts = {}));\nexports.AuthFlowType = void 0;\n(function (AuthFlowType) {\n  AuthFlowType[\"Discovery\"] = \"Discovery\";\n  AuthFlowType[\"Organization\"] = \"Organization\";\n  AuthFlowType[\"PasswordReset\"] = \"PasswordReset\";\n})(exports.AuthFlowType || (exports.AuthFlowType = {}));\nexports.B2BMFAProducts = void 0;\n(function (B2BMFAProducts) {\n  B2BMFAProducts[\"smsOtp\"] = \"smsOtp\";\n  B2BMFAProducts[\"totp\"] = \"totp\";\n})(exports.B2BMFAProducts || (exports.B2BMFAProducts = {}));\n/**\n * The OAuth providers we support in our B2B OAuth product.\n * Currently we support `google`, and `microsoft`.\n */\nexports.B2BOAuthProviders = void 0;\n(function (B2BOAuthProviders) {\n  B2BOAuthProviders[\"Google\"] = \"google\";\n  B2BOAuthProviders[\"Microsoft\"] = \"microsoft\";\n})(exports.B2BOAuthProviders || (exports.B2BOAuthProviders = {}));\nexports.BiometricsFailedError = BiometricsFailedError;\nexports.BiometricsUnavailableError = BiometricsUnavailableError;\nexports.ChallengeSigningFailedError = ChallengeSigningFailedError;\nexports.DeviceCredentialsNotAllowedError = DeviceCredentialsNotAllowedError;\nexports.FailedCodeChallengeError = FailedCodeChallengeError;\nexports.FailedToDecryptDataError = FailedToDecryptDataError;\nexports.InternalError = InternalError;\nexports.InvalidAuthorizationCredentialError = InvalidAuthorizationCredentialError;\nexports.InvalidCredentialTypeError = InvalidCredentialTypeError;\nexports.InvalidRedirectSchemeError = InvalidRedirectSchemeError;\nexports.InvalidStartUrlError = InvalidStartUrlError;\nexports.JSONDataNotConvertibleToStringError = JSONDataNotConvertibleToStringError;\nexports.KeyInvalidatedError = KeyInvalidatedError;\nexports.KeystoreUnavailableError = KeystoreUnavailableError;\nexports.MissingAttestationObjectError = MissingAttestationObjectError;\nexports.MissingAuthorizationCredentialIDTokenError = MissingAuthorizationCredentialIDTokenError;\nexports.MissingGoogleClientIDError = MissingGoogleClientIDError;\nexports.MissingPKCEError = MissingPKCEError;\nexports.MissingPublicKeyError = MissingPublicKeyError;\nexports.MissingUrlError = MissingUrlError;\nexports.NoBiometricsEnrolledError = NoBiometricsEnrolledError;\nexports.NoBiometricsRegistrationError = NoBiometricsRegistrationError;\nexports.NoCredentialsPresentError = NoCredentialsPresentError;\nexports.NoCurrentSessionError = NoCurrentSessionError;\nexports.PasskeysInvalidEncoding = PasskeysInvalidEncoding;\nexports.PasskeysMisconfigured = PasskeysMisconfigured;\nexports.PasskeysUnsupportedError = PasskeysUnsupportedError;\nexports.RandomNumberGenerationFailed = RandomNumberGenerationFailed;\nexports.SDKAPIUnreachableError = SDKAPIUnreachableError;\nexports.SDKNotConfiguredError = SDKNotConfiguredError;\nexports.SignInWithAppleMisconfigured = SignInWithAppleMisconfigured;\nexports.StytchAPIError = StytchAPIError;\nexports.StytchAPISchemaError = StytchAPISchemaError;\nexports.StytchAPIUnreachableError = StytchAPIUnreachableError;\nexports.StytchError = StytchError;\nexports.StytchSDKAPIError = StytchSDKAPIError;\nexports.StytchSDKError = StytchSDKError;\nexports.StytchSDKSchemaError = StytchSDKSchemaError;\nexports.StytchSDKUsageError = StytchSDKUsageError;\nexports.UNRECOVERABLE_ERROR_TYPES = UNRECOVERABLE_ERROR_TYPES;\nexports.UserCancellationError = UserCancellationError;\nexports.UserLockedOutError = UserLockedOutError;\nexports.errorToStytchError = errorToStytchError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9jb3JlL2Rpc3QvdWktNTYyNDZmN2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw0Q0FBNEMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RDtBQUMvUCw4REFBOEQsc0VBQXNFLDhEQUE4RCxrREFBa0QsaUJBQWlCLEdBQUc7QUFDeFEsNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1Esa0RBQWtELDBDQUEwQztBQUM1RiwrQkFBK0I7QUFDL0Isa0RBQWtELDBFQUEwRSxlQUFlLDRCQUE0QixtRkFBbUY7QUFDMVAsd0NBQXdDLHVCQUF1Qix5RkFBeUY7QUFDeEosMkNBQTJDLCtEQUErRCw2RUFBNkUseUVBQXlFLGVBQWUsdURBQXVELEdBQUcsK0NBQStDLGlCQUFpQixHQUFHO0FBQzVZLG1DQUFtQyxnRUFBZ0Usc0RBQXNELCtEQUErRCxtQ0FBbUMsNkVBQTZFLHFDQUFxQyxpREFBaUQsOEJBQThCLHFCQUFxQiwwRUFBMEUscURBQXFELGVBQWUseUVBQXlFLEdBQUcsMkNBQTJDO0FBQ3R0QiwrQkFBK0Isa0ZBQWtGLGdCQUFnQixvQkFBb0Isb0NBQW9DO0FBQ3pMLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08saUNBQWlDLE1BQU0scUVBQXFFLFlBQVk7QUFDeEgsaUNBQWlDLDBHQUEwRyxpQkFBaUIsYUFBYTtBQUN6Syw4QkFBOEIsdUdBQXVHLG1EQUFtRDtBQUN4TCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHVCQUF1QixnQkFBZ0IsS0FBSztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDZCQUE2QixzQkFBc0IsS0FBSztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCLGVBQWUsS0FBSztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4Qix1QkFBdUIsS0FBSztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QixrQkFBa0IsS0FBSztBQUNqRCx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEJBQThCLHVCQUF1QixLQUFLO0FBQzNELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywyQkFBMkIsb0JBQW9CLEtBQUs7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCLG1CQUFtQixLQUFLO0FBQ25ELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMkJBQTJCLG9CQUFvQixLQUFLO0FBQ3JELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxDQUFDLDZCQUE2QixzQkFBc0IsS0FBSztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQyx5QkFBeUIsS0FBSztBQUMvRCw2QkFBNkI7QUFDN0Isa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUNuQyx3Q0FBd0M7QUFDeEMsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxxQkFBcUI7QUFDckIsMkNBQTJDO0FBQzNDLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFDbEMsNEJBQTRCO0FBQzVCLDJDQUEyQztBQUMzQywyQkFBMkI7QUFDM0IsZ0NBQWdDO0FBQ2hDLHFDQUFxQztBQUNyQyxrREFBa0Q7QUFDbEQsa0NBQWtDO0FBQ2xDLHdCQUF3QjtBQUN4Qiw2QkFBNkI7QUFDN0IsdUJBQXVCO0FBQ3ZCLGlDQUFpQztBQUNqQyxxQ0FBcUM7QUFDckMsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QiwrQkFBK0I7QUFDL0IsNkJBQTZCO0FBQzdCLGdDQUFnQztBQUNoQyxvQ0FBb0M7QUFDcEMsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3QixvQ0FBb0M7QUFDcEMsc0JBQXNCO0FBQ3RCLDRCQUE0QjtBQUM1QixpQ0FBaUM7QUFDakMsbUJBQW1CO0FBQ25CLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEIsNEJBQTRCO0FBQzVCLDJCQUEyQjtBQUMzQixpQ0FBaUM7QUFDakMsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQiwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1sLWNsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3R5dGNoL2NvcmUvZGlzdC91aS01NjI0NmY3ZS5qcz8zNTU1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGUgYXV0aGVudGljYXRpb24gbWV0aG9kcyB3ZSBzdXBwb3J0IHRocm91Z2ggb3VyIFVJLlxuICogQ3VycmVudGx5IHdlIHN1cHBvcnQgYGVtYWlsTWFnaWNMaW5rc2AsIGBvYXV0aGAsIGBvdHBgLCBgY3J5cHRvYCBhbmQgYHBhc3N3b3Jkc2AuXG4gKi9cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBTdHJpbmcoaSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QodCwgZSwgcikgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgdmFyIG8gPSBbbnVsbF07IG8ucHVzaC5hcHBseShvLCBlKTsgdmFyIHAgPSBuZXcgKHQuYmluZC5hcHBseSh0LCBvKSkoKTsgcmV0dXJuIHIgJiYgX3NldFByb3RvdHlwZU9mKHAsIHIucHJvdG90eXBlKSwgcDsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyB0cnkgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9IGNhdGNoIChlKSB7IHJldHVybiB0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIjsgfSB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cbmV4cG9ydHMuUHJvZHVjdHMgPSB2b2lkIDA7XG4oZnVuY3Rpb24gKFByb2R1Y3RzKSB7XG4gIFByb2R1Y3RzW1wiZW1haWxNYWdpY0xpbmtzXCJdID0gXCJlbWFpbE1hZ2ljTGlua3NcIjtcbiAgUHJvZHVjdHNbXCJvYXV0aFwiXSA9IFwib2F1dGhcIjtcbiAgUHJvZHVjdHNbXCJvdHBcIl0gPSBcIm90cFwiO1xuICBQcm9kdWN0c1tcImNyeXB0b1wiXSA9IFwiY3J5cHRvXCI7XG4gIFByb2R1Y3RzW1wicGFzc3dvcmRzXCJdID0gXCJwYXNzd29yZHNcIjtcbiAgUHJvZHVjdHNbXCJwYXNza2V5c1wiXSA9IFwicGFzc2tleXNcIjtcbn0pKGV4cG9ydHMuUHJvZHVjdHMgfHwgKGV4cG9ydHMuUHJvZHVjdHMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgT0F1dGggcHJvdmlkZXJzIHdlIHN1cHBvcnQgaW4gb3VyIE9BdXRoIHByb2R1Y3QuXG4gKiBDdXJyZW50bHkgd2Ugc3VwcG9ydCBgQW1hem9uYCwgYEFwcGxlYCwgYEJpdGJ1Y2tldGAsIGBEaXNjb3JkYCwgYEZhY2Vib29rYCwgYEZpZ21hYCwgYEdvb2dsZWAsIGBHaXRMYWJgLFxuICogYExpbmtlZEluYCwgYE1pY3Jvc29mdGAsIGBTYWxlc2ZvcmNlYCwgYFNsYWNrYCwgYFNuYXBjaGF0YCwgYFRpa1Rva2AsIGBUd2l0Y2hgLCBgVHdpdHRlcmAsIGFuZCBgWWFob29gLlxuICovXG5leHBvcnRzLk9BdXRoUHJvdmlkZXJzID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChPQXV0aFByb3ZpZGVycykge1xuICBPQXV0aFByb3ZpZGVyc1tcIkdvb2dsZVwiXSA9IFwiZ29vZ2xlXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiTWljcm9zb2Z0XCJdID0gXCJtaWNyb3NvZnRcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJBcHBsZVwiXSA9IFwiYXBwbGVcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJHaXRodWJcIl0gPSBcImdpdGh1YlwiO1xuICBPQXV0aFByb3ZpZGVyc1tcIkdpdExhYlwiXSA9IFwiZ2l0bGFiXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiRmFjZWJvb2tcIl0gPSBcImZhY2Vib29rXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiRGlzY29yZFwiXSA9IFwiZGlzY29yZFwiO1xuICBPQXV0aFByb3ZpZGVyc1tcIlNhbGVzZm9yY2VcIl0gPSBcInNhbGVzZm9yY2VcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJTbGFja1wiXSA9IFwic2xhY2tcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJBbWF6b25cIl0gPSBcImFtYXpvblwiO1xuICBPQXV0aFByb3ZpZGVyc1tcIkJpdGJ1Y2tldFwiXSA9IFwiYml0YnVja2V0XCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiTGlua2VkSW5cIl0gPSBcImxpbmtlZGluXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiQ29pbmJhc2VcIl0gPSBcImNvaW5iYXNlXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiVHdpdGNoXCJdID0gXCJ0d2l0Y2hcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJUd2l0dGVyXCJdID0gXCJ0d2l0dGVyXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiVGlrVG9rXCJdID0gXCJ0aWt0b2tcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJTbmFwY2hhdFwiXSA9IFwic25hcGNoYXRcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJGaWdtYVwiXSA9IFwiZmlnbWFcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJZYWhvb1wiXSA9IFwieWFob29cIjtcbn0pKGV4cG9ydHMuT0F1dGhQcm92aWRlcnMgfHwgKGV4cG9ydHMuT0F1dGhQcm92aWRlcnMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgQ3J5cHRvIFdhbGxldHMgd2Ugc3VwcG9ydCBpbiBvdXIgY3J5cHRvIHByb2R1Y3QuXG4gKiBDdXJyZW50bHkgd2Ugc3VwcG9ydCBhbGwgZXRoZXJldW0gYW5kIHNvbGFuYSB3YWxsZXRzLlxuICogV2UgYWRkaXRpb25hbGx5IGRldGVjdCBhbmQgc2hvdyBwb3B1bGFyIHdhbGxldHMgYXMgZGlzdGluY3Qgb3B0aW9ucy5cbiAqIFRoZSBsaXN0IG9mIHBvdWxhciB3YWxsZXRzIGluY2x1ZGUgYEJpbmFuY2VgLCBgQ29pbmJhc2VgLCBgTWV0YW1hc2tgLCBgUGhhbnRvbWAsIGFuZCBgVmVzc2VsYFxuICovXG5leHBvcnRzLldhbGxldHMgPSB2b2lkIDA7XG4oZnVuY3Rpb24gKFdhbGxldHMpIHtcbiAgV2FsbGV0c1tcIlZlc3NlbFwiXSA9IFwiVmVzc2VsXCI7XG4gIFdhbGxldHNbXCJQaGFudG9tXCJdID0gXCJQaGFudG9tXCI7XG4gIFdhbGxldHNbXCJNZXRhbWFza1wiXSA9IFwiTWV0YW1hc2tcIjtcbiAgV2FsbGV0c1tcIkNvaW5iYXNlXCJdID0gXCJDb2luYmFzZVwiO1xuICBXYWxsZXRzW1wiQmluYW5jZVwiXSA9IFwiQmluYW5jZVwiO1xuICBXYWxsZXRzW1wiR2VuZXJpY0V0aGVyZXVtV2FsbGV0XCJdID0gXCJPdGhlciBFdGhlcmV1bSBXYWxsZXRcIjtcbiAgV2FsbGV0c1tcIkdlbmVyaWNTb2xhbmFXYWxsZXRcIl0gPSBcIk90aGVyIFNvbGFuYSBXYWxsZXRcIjtcbn0pKGV4cG9ydHMuV2FsbGV0cyB8fCAoZXhwb3J0cy5XYWxsZXRzID0ge30pKTtcbi8qKlxuICogU3VwcG9ydGVkIGJlaGF2aW9ycyBmb3IgcG9zaXRpb25pbmcgR29vZ2xlIE9uZSBUYXAuIFRoZSBhY3R1YWwgYmVoYXZpb3JcbiAqIGRlcGVuZHMgb24gYnJvd3NlciBzdXBwb3J0IGFuZCBHb29nbGUncyBPbmUgVGFwIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnRzLk9uZVRhcFBvc2l0aW9ucyA9IHZvaWQgMDtcbihmdW5jdGlvbiAoT25lVGFwUG9zaXRpb25zKSB7XG4gIC8qKlxuICAgKiBEaXNwbGF5IEdvb2dsZSBPbmUgVGFwIHVzaW5nIGEgbmF0aXZlIGJyb3dzZXIgcHJvbXB0IGlmIGF2YWlsYWJsZSwgb3JcbiAgICogZW1iZWRkZWQgaW4gdGhlIGV4aXN0aW5nIFNESyBsb2dpbiBmb3JtIG90aGVyd2lzZS5cbiAgICogQGRlcHJlY2F0ZWQgVGhpcyBvcHRpb24gaGFzIGJlZW4gcmVuYW1lZCB0byBgZmxvYXRpbmdPckVtYmVkZGVkYFxuICAgKi9cbiAgT25lVGFwUG9zaXRpb25zW1wiZW1iZWRkZWRcIl0gPSBcImVtYmVkZGVkXCI7XG4gIC8qKlxuICAgKiBEaXNwbGF5IHRoZSBPbmUgVGFwIHByb21wdCB1c2luZyBhIG5hdGl2ZSBicm93c2VyIHByb21wdCBpZiBhdmFpbGFibGUsIG9yXG4gICAqIGluIHRoZSB0b3AgcmlnaHQgY29ybmVyIG90aGVyd2lzZS4gVGhpcyBpcyB0aGUgZGVmYXVsdCBvcHRpb24uXG4gICAqL1xuICBPbmVUYXBQb3NpdGlvbnNbXCJmbG9hdGluZ1wiXSA9IFwiZmxvYXRpbmdcIjtcbiAgLyoqXG4gICAqIERpc3BsYXkgdGhlIE9uZSBUYXAgcHJvbXB0IGVtYmVkZGVkIGluIHRoZSBleGlzdGluZyBTREsgbG9naW4gZm9ybSBpZiBhXG4gICAqIG5hdGl2ZSBicm93c2VyIHByb21wdCBpcyBub3QgYXZhaWxhYmxlLCBvciBub3QgYXQgYWxsIG90aGVyd2lzZS4gVGhpc1xuICAgKiBvcHRpb24gaXMgbm90IHJlY29tbWVuZGVkIGZvciBuZXcgYXBwbGljYXRpb25zLlxuICAgKi9cbiAgT25lVGFwUG9zaXRpb25zW1wiZW1iZWRkZWRPbmx5XCJdID0gXCJlbWJlZGRlZE9ubHlcIjtcbiAgLyoqXG4gICAqIERpc3BsYXkgdGhlIE9uZSBUYXAgcHJvbXB0IHVzaW5nIGEgbmF0aXZlIGJyb3dzZXIgcHJvbXB0IGlmIGF2YWlsYWJsZSwgb3JcbiAgICogZW1iZWRkZWQgaW4gdGhlIGV4aXN0aW5nIFNESyBsb2dpbiBmb3JtIG90aGVyd2lzZS5cbiAgICovXG4gIE9uZVRhcFBvc2l0aW9uc1tcImZsb2F0aW5nT3JFbWJlZGRlZFwiXSA9IFwiZmxvYXRpbmdPckVtYmVkZGVkXCI7XG4gIC8qKlxuICAgKiBBdHRlbXB0IHRvIGRpc3BsYXkgdGhlIE9uZSBUYXAgcHJvbXB0IGVtYmVkZGVkIGluIHRoZSBleGlzdGluZyBTREsgbG9naW5cbiAgICogZm9ybSwgZXZlbiBpZiBhIG5hdGl2ZSBicm93c2VyIHByb21wdCBpcyBzdXBwb3J0ZWQuIFRoaXMgb3B0aW9uIGlzIG5vdFxuICAgKiByZWNvbW1lbmRlZC4gSXQgZGlzYWJsZXMgbmF0aXZlIGJyb3dzZXIgRmVkQ00gc3VwcG9ydCBldmVuIHdoZXJlIGl0IGlzXG4gICAqIGF2YWlsYWJsZSwgYW5kIHdpbGwgc3RvcCBiZWluZyBob25vcmVkIGJ5IEdvb2dsZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgT25lVGFwUG9zaXRpb25zW1wiZm9yY2VMZWdhY3lFbWJlZGRlZFwiXSA9IFwiZm9yY2VMZWdhY3lFbWJlZGRlZFwiO1xufSkoZXhwb3J0cy5PbmVUYXBQb3NpdGlvbnMgfHwgKGV4cG9ydHMuT25lVGFwUG9zaXRpb25zID0ge30pKTtcbi8qKlxuICogVGhlIG1ldGhvZHMgYXJyYXkgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSBhdXRoZW50aWNhdGlvbiBtZXRob2RzIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gZXhwb3NlXG4gKiB0byB5b3VyIHVzZXJzLiBUaGUgb3JkZXIgb2YgdGhlIHByb2R1Y3RzIHRoYXQgeW91IGluY2x1ZGUgaGVyZSB3aWxsIGFsc28gYmUgdGhlIG9yZGVyIGluIHdoaWNoXG4gKiB0aGV5IGFwcGVhciBpbiB0aGUgbG9naW4gZm9ybSwgd2l0aCB0aGUgZmlyc3QgcHJvZHVjdCBzcGVjaWZpZWQgYXBwZWFyaW5nIGF0IHRoZSB0b3Agb2YgdGhlIGxvZ2luXG4gKiBmb3JtLiBXZSBjdXJyZW50bHkgc3VwcG9ydCBwYXNzY29kZXMgb24gYGVtYWlsYCwgYHNtc2AgYW5kIGB3aGF0c2FwcGBcbiAqL1xuZXhwb3J0cy5PVFBNZXRob2RzID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChPVFBNZXRob2RzKSB7XG4gIE9UUE1ldGhvZHNbXCJTTVNcIl0gPSBcInNtc1wiO1xuICBPVFBNZXRob2RzW1wiV2hhdHNBcHBcIl0gPSBcIndoYXRzYXBwXCI7XG4gIE9UUE1ldGhvZHNbXCJFbWFpbFwiXSA9IFwiZW1haWxcIjtcbn0pKGV4cG9ydHMuT1RQTWV0aG9kcyB8fCAoZXhwb3J0cy5PVFBNZXRob2RzID0ge30pKTtcbmV4cG9ydHMuU3R5dGNoRXZlbnRUeXBlID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChTdHl0Y2hFdmVudFR5cGUpIHtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiTWFnaWNMaW5rTG9naW5PckNyZWF0ZUV2ZW50XCJdID0gXCJNQUdJQ19MSU5LX0xPR0lOX09SX0NSRUFURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJPVFBzTG9naW5PckNyZWF0ZUV2ZW50XCJdID0gXCJPVFBfTE9HSU5fT1JfQ1JFQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIk9UUHNBdXRoZW50aWNhdGVcIl0gPSBcIk9UUF9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQ3J5cHRvV2FsbGV0QXV0aGVudGljYXRlU3RhcnRcIl0gPSBcIkNSWVBUT19XQUxMRVRfQVVUSEVOVElDQVRFX1NUQVJUXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkNyeXB0b1dhbGxldEF1dGhlbnRpY2F0ZVwiXSA9IFwiQ1JZUFRPX1dBTExFVF9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiUGFzc3dvcmRDcmVhdGVcIl0gPSBcIlBBU1NXT1JEX0NSRUFURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJQYXNzd29yZEF1dGhlbnRpY2F0ZVwiXSA9IFwiUEFTU1dPUkRfQVVUSEVOVElDQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIlBhc3N3b3JkUmVzZXRCeUVtYWlsU3RhcnRcIl0gPSBcIlBBU1NXT1JEX1JFU0VUX0JZX0VNQUlMX1NUQVJUXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIlBhc3N3b3JkUmVzZXRCeUVtYWlsXCJdID0gXCJQQVNTV09SRF9SRVNFVF9CWV9FTUFJTFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJQYXNza2V5UmVnaXN0ZXJcIl0gPSBcIlBBU1NLRVlfUkVHSVNURVJcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiUGFzc2tleUF1dGhlbnRpY2F0ZVwiXSA9IFwiUEFTU0tFWV9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiUGFzc2tleVNraXBcIl0gPSBcIlBBU1NLRVlfU0tJUFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJQYXNza2V5RG9uZVwiXSA9IFwiUEFTU0tFWV9ET05FXCI7XG4gIC8vIE1vcmUgRXZlbnRzIHdpbGwgZ28gaGVyZSAuLi5cbiAgLy8gQjJCIEV2ZW50c1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtFbWFpbExvZ2luT3JTaWdudXBcIl0gPSBcIkIyQl9NQUdJQ19MSU5LX0VNQUlMX0xPR0lOX09SX1NJR05VUFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtBdXRoZW50aWNhdGVcIl0gPSBcIkIyQl9NQUdJQ19MSU5LX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtFbWFpbERpc2NvdmVyeVNlbmRcIl0gPSBcIkIyQl9NQUdJQ19MSU5LX0VNQUlMX0RJU0NPVkVSWV9TRU5EXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQk1hZ2ljTGlua0Rpc2NvdmVyeUF1dGhlbnRpY2F0ZVwiXSA9IFwiQjJCX01BR0lDX0xJTktfRElTQ09WRVJZX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJTU09TdGFydFwiXSA9IFwiQjJCX1NTT19TVEFSVFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJTU09BdXRoZW50aWNhdGVcIl0gPSBcIkIyQl9TU09fQVVUSEVOVElDQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQk9BdXRoQXV0aGVudGljYXRlXCJdID0gXCJCMkJfT0FVVEhfQVVUSEVOVElDQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQk9BdXRoRGlzY292ZXJ5QXV0aGVudGljYXRlXCJdID0gXCJCMkJfT0FVVEhfRElTQ09WRVJZX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJEaXNjb3ZlcnlPcmdhbml6YXRpb25zQ3JlYXRlXCJdID0gXCJCMkJfRElTQ09WRVJZX09SR0FOSVpBVElPTlNfQ1JFQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQkRpc2NvdmVyeUludGVybWVkaWF0ZVNlc3Npb25FeGNoYW5nZVwiXSA9IFwiQjJCX0RJU0NPVkVSWV9JTlRFUk1FRElBVEVfU0VTU0lPTl9FWENIQU5HRVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJQYXNzd29yZEF1dGhlbnRpY2F0ZVwiXSA9IFwiQjJCX1BBU1NXT1JEX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJQYXNzd29yZFJlc2V0QnlFbWFpbFN0YXJ0XCJdID0gXCJCMkJfUEFTU1dPUkRfUkVTRVRfQllfRU1BSUxfU1RBUlRcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCUGFzc3dvcmRSZXNldEJ5RW1haWxcIl0gPSBcIkIyQl9QQVNTV09SRF9SRVNFVF9CWV9FTUFJTFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJQYXNzd29yZFJlc2V0QnlTZXNzaW9uXCJdID0gXCJCMkJfUEFTU1dPUkRfUkVTRVRfQllfU0VTU0lPTlwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJTTVNPVFBTZW5kXCJdID0gXCJCMkJfU01TX09UUF9TRU5EXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQlNNU09UUEF1dGhlbnRpY2F0ZVwiXSA9IFwiQjJCX1NNU19PVFBfQVVUSEVOVElDQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQlRPVFBDcmVhdGVcIl0gPSBcIkIyQl9UT1RQX0NSRUFURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJUT1RQQXV0aGVudGljYXRlXCJdID0gXCJCMkJfVE9UUF9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCUmVjb3ZlcnlDb2Rlc1JlY292ZXJcIl0gPSBcIkIyQl9SRUNPVkVSWV9DT0RFU19SRUNPVkVSXCI7XG59KShleHBvcnRzLlN0eXRjaEV2ZW50VHlwZSB8fCAoZXhwb3J0cy5TdHl0Y2hFdmVudFR5cGUgPSB7fSkpO1xuZXhwb3J0cy5STlVJUHJvZHVjdHMgPSB2b2lkIDA7XG4oZnVuY3Rpb24gKFJOVUlQcm9kdWN0cykge1xuICBSTlVJUHJvZHVjdHNbUk5VSVByb2R1Y3RzW1wiZW1haWxNYWdpY0xpbmtzXCJdID0gMF0gPSBcImVtYWlsTWFnaWNMaW5rc1wiO1xuICBSTlVJUHJvZHVjdHNbUk5VSVByb2R1Y3RzW1wib2F1dGhcIl0gPSAxXSA9IFwib2F1dGhcIjtcbiAgUk5VSVByb2R1Y3RzW1JOVUlQcm9kdWN0c1tcIm90cFwiXSA9IDJdID0gXCJvdHBcIjtcbiAgUk5VSVByb2R1Y3RzW1JOVUlQcm9kdWN0c1tcInBhc3N3b3Jkc1wiXSA9IDNdID0gXCJwYXNzd29yZHNcIjtcbn0pKGV4cG9ydHMuUk5VSVByb2R1Y3RzIHx8IChleHBvcnRzLlJOVUlQcm9kdWN0cyA9IHt9KSk7XG5cbi8qKlxuICogQW4gRXJyb3IgY2xhc3MgdGhyb3duIHdoZW4gdGhlIFNESyBpcyB1bmFibGUgdG8gcmVhY2ggdGhlIFN0eXRjaCBzZXJ2ZXJzLFxuICogb3Igd2hlbiB0aGUgU3R5dGNoIHNlcnZlcnMgcmV0dXJuIGEgdmFsdWUgdGhlIFNESyBjYW5ub3QgdW5kZXJzdGFuZC5cbiAqIFVzdWFsbHkgLSBpdCBtZWFucyB0aGF0IHlvdSdyZSBvZmZsaW5lIVxuICovXG52YXIgU0RLQVBJVW5yZWFjaGFibGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0cyhTREtBUElVbnJlYWNoYWJsZUVycm9yLCBfRXJyb3IpO1xuICBmdW5jdGlvbiBTREtBUElVbnJlYWNoYWJsZUVycm9yKG1lc3NhZ2UsIGRldGFpbHMpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNES0FQSVVucmVhY2hhYmxlRXJyb3IpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBTREtBUElVbnJlYWNoYWJsZUVycm9yLCBbbWVzc2FnZSArICdcXG4nICsgZGV0YWlsc10pO1xuICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlICsgJ1xcbicgKyBkZXRhaWxzO1xuICAgIF90aGlzLm5hbWUgPSAnU0RLQVBJVW5yZWFjaGFibGVFcnJvcic7XG4gICAgX3RoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBTREtBUElVbnJlYWNoYWJsZUVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU0RLQVBJVW5yZWFjaGFibGVFcnJvcik7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuLyoqXG4gKiBBbiBFcnJvciBjbGFzcyB0aHJvd24gd2hlbiB0aGUgcHJvdmlkZWQgaW5wdXQgZmFpbHMgY2xpZW50LXNpZGUgdmFsaWRhdGlvbiAtXG4gKiBmb3IgZXhhbXBsZSBpZiBhIGZpZWxkIHRoYXQgd2FzIGV4cGVjdGVkIHRvIGJlIGEgbnVtYmVyIGlzIGluc3RlYWQgYSBzdHJpbmcuXG4gKi9cbnZhciBTdHl0Y2hTREtVc2FnZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IyKSB7XG4gIF9pbmhlcml0cyhTdHl0Y2hTREtVc2FnZUVycm9yLCBfRXJyb3IyKTtcbiAgZnVuY3Rpb24gU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIF90aGlzMjtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5dGNoU0RLVXNhZ2VFcnJvcik7XG4gICAgX3RoaXMyID0gX2NhbGxTdXBlcih0aGlzLCBTdHl0Y2hTREtVc2FnZUVycm9yKTtcbiAgICBfdGhpczIubmFtZSA9ICdTdHl0Y2hTREtVc2FnZUVycm9yJztcbiAgICBfdGhpczIubWVzc2FnZSA9IFwiSW52YWxpZCBjYWxsIHRvIFwiLmNvbmNhdChtZXRob2ROYW1lLCBcIlxcblwiKSArIG1lc3NhZ2U7XG4gICAgcmV0dXJuIF90aGlzMjtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFN0eXRjaFNES1VzYWdlRXJyb3IpO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbi8qKlxuICogQW4gRXJyb3IgY2xhc3MgdGhyb3duIHdoZW4gdGhlIHByb3ZpZGVkIGlucHV0IGRvZXMgbm90IGFkaGVyZSB0byB0aGUgU3R5dGNoIEFQSSBzY2hlbWEgLVxuICogZm9yIGV4YW1wbGUgaWYgYSBmaWVsZCB0aGF0IHdhcyBleHBlY3RlZCB0byBiZSBhIG51bWJlciBpcyBpbnN0ZWFkIGEgc3RyaW5nLlxuICovXG52YXIgU3R5dGNoU0RLU2NoZW1hRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcjMpIHtcbiAgX2luaGVyaXRzKFN0eXRjaFNES1NjaGVtYUVycm9yLCBfRXJyb3IzKTtcbiAgZnVuY3Rpb24gU3R5dGNoU0RLU2NoZW1hRXJyb3Ioc2NoZW1hRXJyb3IpIHtcbiAgICB2YXIgX3RoaXMzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHl0Y2hTREtTY2hlbWFFcnJvcik7XG4gICAgdmFyIF9hO1xuICAgIF90aGlzMyA9IF9jYWxsU3VwZXIodGhpcywgU3R5dGNoU0RLU2NoZW1hRXJyb3IpO1xuICAgIF90aGlzMy5uYW1lID0gJ1N0eXRjaFNES1NjaGVtYUVycm9yJztcbiAgICB2YXIgbWVzc2FnZXMgPSAoX2EgPSBzY2hlbWFFcnJvci5ib2R5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChlcnIuZGF0YVBhdGgsIFwiOiBcIikuY29uY2F0KGVyci5tZXNzYWdlKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgICBfdGhpczMubWVzc2FnZSA9IFwiWzQwMF0gUmVxdWVzdCBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFcXG5cIi5jb25jYXQobWVzc2FnZXMpO1xuICAgIHJldHVybiBfdGhpczM7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTdHl0Y2hTREtTY2hlbWFFcnJvcik7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuLyoqXG4gKiBBbiBFcnJvciBjbGFzcyB3cmFwcGluZyBhIHdlbGwtZm9ybWVkIEpTT04gZXJyb3IgZnJvbSB0aGUgU3R5dGNoIEFQSS5cbiAqIFRoZSBTdHl0Y2ggZXJyb3Igc2hvdWxkIG1hdGNoIG9uZSBsaXN0ZWQgYXQge0BsaW5rIGh0dHBzOi8vc3R5dGNoLmNvbS9kb2NzL2FwaS9lcnJvcnN9XG4gKi9cbnZhciBTdHl0Y2hTREtBUElFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yNCkge1xuICBfaW5oZXJpdHMoU3R5dGNoU0RLQVBJRXJyb3IsIF9FcnJvcjQpO1xuICBmdW5jdGlvbiBTdHl0Y2hTREtBUElFcnJvcihkZXRhaWxzKSB7XG4gICAgdmFyIF90aGlzNDtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5dGNoU0RLQVBJRXJyb3IpO1xuICAgIF90aGlzNCA9IF9jYWxsU3VwZXIodGhpcywgU3R5dGNoU0RLQVBJRXJyb3IpO1xuICAgIF90aGlzNC5uYW1lID0gJ1N0eXRjaFNES0FQSUVycm9yJztcbiAgICB2YXIgc3RhdHVzX2NvZGUgPSBkZXRhaWxzLnN0YXR1c19jb2RlLFxuICAgICAgZXJyb3JfdHlwZSA9IGRldGFpbHMuZXJyb3JfdHlwZSxcbiAgICAgIGVycm9yX21lc3NhZ2UgPSBkZXRhaWxzLmVycm9yX21lc3NhZ2UsXG4gICAgICBlcnJvcl91cmwgPSBkZXRhaWxzLmVycm9yX3VybCxcbiAgICAgIHJlcXVlc3RfaWQgPSBkZXRhaWxzLnJlcXVlc3RfaWQ7XG4gICAgX3RoaXM0LmVycm9yX3R5cGUgPSBlcnJvcl90eXBlO1xuICAgIF90aGlzNC5lcnJvcl9tZXNzYWdlID0gZXJyb3JfbWVzc2FnZTtcbiAgICBfdGhpczQuZXJyb3JfdXJsID0gZXJyb3JfdXJsO1xuICAgIF90aGlzNC5yZXF1ZXN0X2lkID0gcmVxdWVzdF9pZDtcbiAgICBfdGhpczQuc3RhdHVzX2NvZGUgPSBzdGF0dXNfY29kZTtcbiAgICBfdGhpczQubWVzc2FnZSA9IFwiW1wiLmNvbmNhdChzdGF0dXNfY29kZSwgXCJdIFwiKS5jb25jYXQoZXJyb3JfdHlwZSwgXCJcXG5cIikgKyBcIlwiLmNvbmNhdChlcnJvcl9tZXNzYWdlLCBcIlxcblwiKSArIFwiU2VlIFwiLmNvbmNhdChlcnJvcl91cmwsIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcblwiKSArIChcbiAgICAvLyBXZWItQmFja2VuZCBkb2Vzbid0IGhhdmUgcmVxdWVzdCBJRHMgeWV0LCBzbyBpZiBhIHJlcXVlc3QgZmFpbHMgdGhlcmUgaXQgd29uJ3QgaGF2ZSBvbmUuXG4gICAgLy8gV2Ugc2hvdWxkIGZpZ3VyZSBvdXQgaG93IHJldHVybmluZyB0cmFjaW5nIGluZm8gc2hvdWxkIHdvcmtcbiAgICByZXF1ZXN0X2lkID8gXCJyZXF1ZXN0X2lkOiBcIi5jb25jYXQocmVxdWVzdF9pZCwgXCJcXG5cIikgOiAnJyk7XG4gICAgcmV0dXJuIF90aGlzNDtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFN0eXRjaFNES0FQSUVycm9yKTtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG4vKipcbiAqIElmIHRoZSBTREsgdGhyb3dzIGFuIGVycm9yIHdpdGggYW4gZXJyb3IgdHlwZSBpbmNsdWRlZCBpbiB0aGlzIGFycmF5LCB0aGUgbG9jYWwgc2Vzc2lvbiBhbmRcbiAqIHVzZXIgc3RhdGUgd2lsbCBiZSBjbGVhcmVkIGxvY2FsbHkuXG4gKi9cbnZhciBVTlJFQ09WRVJBQkxFX0VSUk9SX1RZUEVTID0gWyd1bmF1dGhvcml6ZWRfY3JlZGVudGlhbHMnLCAndXNlcl91bmF1dGhlbnRpY2F0ZWQnLCAnaW52YWxpZF9zZWNyZXRfYXV0aGVudGljYXRpb24nLCAnc2Vzc2lvbl9ub3RfZm91bmQnXTtcbi8qKlxuICogQW4gRXJyb3IgY2xhc3MgcmVwcmVzZW50aW5nIGFuIGVycm9yIHdpdGhpbiBTdHl0Y2guXG4gKi9cbnZhciBTdHl0Y2hFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yNSkge1xuICBfaW5oZXJpdHMoU3R5dGNoRXJyb3IsIF9FcnJvcjUpO1xuICBmdW5jdGlvbiBTdHl0Y2hFcnJvcihuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIF90aGlzNTtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5dGNoRXJyb3IpO1xuICAgIF90aGlzNSA9IF9jYWxsU3VwZXIodGhpcywgU3R5dGNoRXJyb3IsIFttZXNzYWdlXSk7XG4gICAgX3RoaXM1Lm5hbWUgPSBuYW1lO1xuICAgIHJldHVybiBfdGhpczU7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTdHl0Y2hFcnJvcik7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuLyoqXG4gKiBBbiBFcnJvciBjbGFzcyB0aHJvd24gd2hlbiB0aGUgU0RLIGlzIHVuYWJsZSB0byByZWFjaCB0aGUgU3R5dGNoIHNlcnZlcnMsXG4gKiBvciB3aGVuIHRoZSBTdHl0Y2ggc2VydmVycyByZXR1cm4gYSB2YWx1ZSB0aGUgU0RLIGNhbm5vdCB1bmRlcnN0YW5kLlxuICogVXN1YWxseSAtIGl0IG1lYW5zIHRoYXQgeW91J3JlIG9mZmxpbmUhXG4gKi9cbnZhciBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoRXJyb3IpIHtcbiAgX2luaGVyaXRzKFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IsIF9TdHl0Y2hFcnJvcik7XG4gIGZ1bmN0aW9uIFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IoZGV0YWlscykge1xuICAgIHZhciBfdGhpczY7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IpO1xuICAgIF90aGlzNiA9IF9jYWxsU3VwZXIodGhpcywgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvciwgWydTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yJywgZGV0YWlsc10pO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzNiksIFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gX3RoaXM2O1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcik7XG59KFN0eXRjaEVycm9yKTtcbi8qKlxuICogQW4gRXJyb3IgY2xhc3MgdGhyb3duIHdoZW4gdGhlIHByb3ZpZGVkIGlucHV0IGRvZXMgbm90IGFkaGVyZSB0byB0aGUgU3R5dGNoIEFQSSBzY2hlbWEgLVxuICogZm9yIGV4YW1wbGUgaWYgYSBmaWVsZCB0aGF0IHdhcyBleHBlY3RlZCB0byBiZSBhIG51bWJlciBpcyBpbnN0ZWFkIGEgc3RyaW5nLlxuICovXG52YXIgU3R5dGNoQVBJU2NoZW1hRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hFcnJvcjIpIHtcbiAgX2luaGVyaXRzKFN0eXRjaEFQSVNjaGVtYUVycm9yLCBfU3R5dGNoRXJyb3IyKTtcbiAgZnVuY3Rpb24gU3R5dGNoQVBJU2NoZW1hRXJyb3Ioc2NoZW1hRXJyb3IpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5dGNoQVBJU2NoZW1hRXJyb3IpO1xuICAgIHZhciBfYTtcbiAgICB2YXIgbWVzc2FnZXMgPSAoX2EgPSBzY2hlbWFFcnJvci5ib2R5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChlcnIuZGF0YVBhdGgsIFwiOiBcIikuY29uY2F0KGVyci5tZXNzYWdlKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBTdHl0Y2hBUElTY2hlbWFFcnJvciwgWydTdHl0Y2hBUElTY2hlbWFFcnJvcicsIFwiUmVxdWVzdCBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFcXG5cIi5jb25jYXQobWVzc2FnZXMpXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTdHl0Y2hBUElTY2hlbWFFcnJvcik7XG59KFN0eXRjaEVycm9yKTtcbi8qKlxuICogQW4gRXJyb3IgY2xhc3Mgd3JhcHBpbmcgYSB3ZWxsLWZvcm1lZCBKU09OIGVycm9yIGZyb20gdGhlIFN0eXRjaCBBUEkuXG4gKiBUaGUgU3R5dGNoIGVycm9yIHNob3VsZCBtYXRjaCBvbmUgbGlzdGVkIGF0IHtAbGluayBodHRwczovL3N0eXRjaC5jb20vZG9jcy9hcGkvZXJyb3JzfVxuICovXG52YXIgU3R5dGNoQVBJRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hFcnJvcjMpIHtcbiAgX2luaGVyaXRzKFN0eXRjaEFQSUVycm9yLCBfU3R5dGNoRXJyb3IzKTtcbiAgZnVuY3Rpb24gU3R5dGNoQVBJRXJyb3IoZGV0YWlscykge1xuICAgIHZhciBfdGhpczc7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0eXRjaEFQSUVycm9yKTtcbiAgICB2YXIgc3RhdHVzX2NvZGUgPSBkZXRhaWxzLnN0YXR1c19jb2RlLFxuICAgICAgZXJyb3JfdHlwZSA9IGRldGFpbHMuZXJyb3JfdHlwZSxcbiAgICAgIGVycm9yX21lc3NhZ2UgPSBkZXRhaWxzLmVycm9yX21lc3NhZ2UsXG4gICAgICBlcnJvcl91cmwgPSBkZXRhaWxzLmVycm9yX3VybCxcbiAgICAgIHJlcXVlc3RfaWQgPSBkZXRhaWxzLnJlcXVlc3RfaWQ7XG4gICAgX3RoaXM3ID0gX2NhbGxTdXBlcih0aGlzLCBTdHl0Y2hBUElFcnJvciwgWydTdHl0Y2hBUElFcnJvcicsIFwiW1wiLmNvbmNhdChzdGF0dXNfY29kZSwgXCJdIFwiKS5jb25jYXQoZXJyb3JfdHlwZSwgXCJcXG5cIikgKyBcIlwiLmNvbmNhdChlcnJvcl9tZXNzYWdlLCBcIlxcblwiKSArIFwiU2VlIFwiLmNvbmNhdChlcnJvcl91cmwsIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcblwiKSArIChcbiAgICAvLyBXZWItQmFja2VuZCBkb2Vzbid0IGhhdmUgcmVxdWVzdCBJRHMgeWV0LCBzbyBpZiBhIHJlcXVlc3QgZmFpbHMgdGhlcmUgaXQgd29uJ3QgaGF2ZSBvbmUuXG4gICAgLy8gV2Ugc2hvdWxkIGZpZ3VyZSBvdXQgaG93IHJldHVybmluZyB0cmFjaW5nIGluZm8gc2hvdWxkIHdvcmtcbiAgICByZXF1ZXN0X2lkID8gXCJyZXF1ZXN0X2lkOiBcIi5jb25jYXQocmVxdWVzdF9pZCwgXCJcXG5cIikgOiAnJyldKTtcbiAgICBfdGhpczcuZXJyb3JfdHlwZSA9IGVycm9yX3R5cGU7XG4gICAgX3RoaXM3LmVycm9yX21lc3NhZ2UgPSBlcnJvcl9tZXNzYWdlO1xuICAgIF90aGlzNy5lcnJvcl91cmwgPSBlcnJvcl91cmw7XG4gICAgX3RoaXM3LnJlcXVlc3RfaWQgPSByZXF1ZXN0X2lkO1xuICAgIF90aGlzNy5zdGF0dXNfY29kZSA9IHN0YXR1c19jb2RlO1xuICAgIHJldHVybiBfdGhpczc7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTdHl0Y2hBUElFcnJvcik7XG59KFN0eXRjaEVycm9yKTtcbi8qKlxuICogQW4gRXJyb3IgY2xhc3MgdXNlZCBpbiB0aGUgU3R5dGNoIFNESy5cbiAqL1xudmFyIFN0eXRjaFNES0Vycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoRXJyb3I0KSB7XG4gIF9pbmhlcml0cyhTdHl0Y2hTREtFcnJvciwgX1N0eXRjaEVycm9yNCk7XG4gIGZ1bmN0aW9uIFN0eXRjaFNES0Vycm9yKG5hbWUsIGRlc2NyaXB0aW9uLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzODtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5dGNoU0RLRXJyb3IpO1xuICAgIF90aGlzOCA9IF9jYWxsU3VwZXIodGhpcywgU3R5dGNoU0RLRXJyb3IsIFtuYW1lLCBkZXNjcmlwdGlvbl0pO1xuICAgIF90aGlzOC5vcHRpb25zID0gb3B0aW9ucztcbiAgICByZXR1cm4gX3RoaXM4O1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU3R5dGNoU0RLRXJyb3IpO1xufShTdHl0Y2hFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHlvdSBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYWN0aW9uIHRoYXQgcmVxdWlyZXMgYSBzZXNzaW9uLCBidXQgbm8gbG9jYWwgc2Vzc2lvbiBleGlzdHNcbiAqL1xudmFyIE5vQ3VycmVudFNlc3Npb25FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yKSB7XG4gIF9pbmhlcml0cyhOb0N1cnJlbnRTZXNzaW9uRXJyb3IsIF9TdHl0Y2hTREtFcnJvcik7XG4gIGZ1bmN0aW9uIE5vQ3VycmVudFNlc3Npb25FcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9DdXJyZW50U2Vzc2lvbkVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBOb0N1cnJlbnRTZXNzaW9uRXJyb3IsIFsnTm9DdXJyZW50U2Vzc2lvbkVycm9yJywgJ1RoZXJlIGlzIG5vIHNlc3Npb24gY3VycmVudGx5IGF2YWlsYWJsZS4gTWFrZSBzdXJlIHRoZSB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgd2l0aCBhIHZhbGlkIHNlc3Npb24uJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTm9DdXJyZW50U2Vzc2lvbkVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhbiB1bnJlY29nbml6ZWQgZXJyb3IgaXMgdGhyb3duXG4gKi9cbnZhciBJbnRlcm5hbEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyKSB7XG4gIF9pbmhlcml0cyhJbnRlcm5hbEVycm9yLCBfU3R5dGNoU0RLRXJyb3IyKTtcbiAgZnVuY3Rpb24gSW50ZXJuYWxFcnJvcihtZXNzYWdlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVybmFsRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEludGVybmFsRXJyb3IsIFsnSW50ZXJuYWxFcnJvcicsIG1lc3NhZ2UgPyBtZXNzYWdlIDogJ0FuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC4gUGxlYXNlIGNvbnRhY3QgU3R5dGNoIGlmIHRoaXMgb2NjdXJzLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEludGVybmFsRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIG5vIGJpb21ldHJpYyByZWdpc3RyYXRpb24gZXhpc3RzXG4gKi9cbnZhciBOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMykge1xuICBfaW5oZXJpdHMoTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjMpO1xuICBmdW5jdGlvbiBOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yLCBbJ05vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yJywgJ1RoZXJlIGlzIG5vIGJpb21ldHJpYyByZWdpc3RyYXRpb24gYXZhaWxhYmxlLiBBdXRoZW50aWNhdGUgd2l0aCBhbm90aGVyIG1ldGhvZCBhbmQgYWRkIGEgbmV3IGJpb21ldHJpYyByZWdpc3RyYXRpb24gZmlyc3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIGJpb21ldHJpY3MgYXJlIHVuYXZhaWxhYmxlIG9uIHRoZSBkZXZpY2VcbiAqL1xudmFyIEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3I0KSB7XG4gIF9pbmhlcml0cyhCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvciwgX1N0eXRjaFNES0Vycm9yNCk7XG4gIGZ1bmN0aW9uIEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IsIFsnQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3InLCAnQmlvbWV0cmljcyBpcyBub3QgYXZhaWxhYmxlIG9uIHRoZSBkZXZpY2UuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBiaW9tZXRyaWNzIGVucm9sbG1lbnQgaGFzIGNoYW5nZWQsIGFuZCB0aGUgdW5kZXJseWluZyBrZXkgaXMgbm8gbG9uZ2VyIHVzYWJsZVxuICovXG52YXIgS2V5SW52YWxpZGF0ZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yNSkge1xuICBfaW5oZXJpdHMoS2V5SW52YWxpZGF0ZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yNSk7XG4gIGZ1bmN0aW9uIEtleUludmFsaWRhdGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleUludmFsaWRhdGVkRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEtleUludmFsaWRhdGVkRXJyb3IsIFsnS2V5SW52YWxpZGF0ZWRFcnJvcicsICdUaGUgYmlvbWV0cmljcyBlbnJvbGxtZW50IG9uIHRoZSBkZXZpY2UgaGFzIGNoYW5nZWQuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoS2V5SW52YWxpZGF0ZWRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIEtleXN0b3JlIGlzIGRldGVybWluZWQgdG8gYmUgdW5hdmFpbGFibGVcbiAqL1xudmFyIEtleXN0b3JlVW5hdmFpbGFibGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yNikge1xuICBfaW5oZXJpdHMoS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yLCBfU3R5dGNoU0RLRXJyb3I2KTtcbiAgZnVuY3Rpb24gS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEtleXN0b3JlVW5hdmFpbGFibGVFcnJvciwgWydLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3InLCAnVGhlIEFuZHJvaWQga2V5c3RvcmUgaXMgdW5hdmFpbGFibGUgb24gdGhlIGRldmljZS4gQ29uc2lkZXIgc2V0dGluZyBhbGxvd0ZhbGxiYWNrVG9DbGVhcnRleHQgdG8gdHJ1ZS4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZXJlIGlzIG5vIGJpb21ldHJpYyBmYWN0b3IgZW5yb2xsZWQgb24gZGV2aWNlXG4gKi9cbnZhciBOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3I3KSB7XG4gIF9pbmhlcml0cyhOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yLCBfU3R5dGNoU0RLRXJyb3I3KTtcbiAgZnVuY3Rpb24gTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvciwgWydOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yJywgJ1RoZXJlIGlzIG5vIGJpb21ldHJpYyBmYWN0b3IgZW5yb2xsZWQgb24gdGhlIGRldmljZS4gQWRkIGEgYmlvbWV0cmljIGZhY3RvciBpbiB0aGUgZGV2aWNlIHNldHRpbmdzLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSB1c2VyIGhhcyBjYW5jZWxsZWQgdGhlIHByb21wdFxuICovXG52YXIgVXNlckNhbmNlbGxhdGlvbkVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3I4KSB7XG4gIF9pbmhlcml0cyhVc2VyQ2FuY2VsbGF0aW9uRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjgpO1xuICBmdW5jdGlvbiBVc2VyQ2FuY2VsbGF0aW9uRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVzZXJDYW5jZWxsYXRpb25FcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgVXNlckNhbmNlbGxhdGlvbkVycm9yLCBbJ1VzZXJDYW5jZWxsYXRpb25FcnJvcicsICdUaGUgdXNlciBjYW5jZWxlZCB0aGUgcHJvbXB0LiBBc2sgdGhlIHVzZXIgdG8gdHJ5IGFnYWluLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFVzZXJDYW5jZWxsYXRpb25FcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIHVzZXIgaGFzIGJlZW4gbG9ja2VkIG91dCBvZiBiaW9tZXRyaWNzXG4gKi9cbnZhciBVc2VyTG9ja2VkT3V0RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjkpIHtcbiAgX2luaGVyaXRzKFVzZXJMb2NrZWRPdXRFcnJvciwgX1N0eXRjaFNES0Vycm9yOSk7XG4gIGZ1bmN0aW9uIFVzZXJMb2NrZWRPdXRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlckxvY2tlZE91dEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBVc2VyTG9ja2VkT3V0RXJyb3IsIFsnVXNlckxvY2tlZE91dEVycm9yJywgJ1RoZSB1c2VyIGhhcyBiZWVuIGxvY2tlZCBvdXQgZHVlIHRvIHRvbyBtYW55IGZhaWxlZCBhdHRlbXB0cy4gQXNrIHRoZSB1c2VyIHRvIHRyeSBhZ2FpbiBsYXRlci4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhVc2VyTG9ja2VkT3V0RXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIGJpb21ldHJpY3MgcmVnaXN0ZXIvYXV0aGVudGljYXRlIGNhbGxzIGFyZSBtYWRlIHdpdGggbWlzbWF0Y2hlZCBgYWxsb3dEZXZpY2VDcmVkZW50aWFsc2AgcGFyYW1ldGVyXG4gKi9cbnZhciBEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTApIHtcbiAgX2luaGVyaXRzKERldmljZUNyZWRlbnRpYWxzTm90QWxsb3dlZEVycm9yLCBfU3R5dGNoU0RLRXJyb3IxMCk7XG4gIGZ1bmN0aW9uIERldmljZUNyZWRlbnRpYWxzTm90QWxsb3dlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IsIFsnRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3InLCAnVGhlIGRldmljZSBjcmVkZW50aWFscyBhbGxvd21lbnQgaXMgbWlzbWF0Y2hlZC4gQ2hhbmdlIHRoZSBhbGxvd0RldmljZUNyZWRlbnRpYWxzIHBhcmFtZXRlciB0byBiZSB0aGUgc2FtZSBpbiBib3RoIHRoZSByZWdpc3RlciBhbmQgYXV0aGVudGljYXRlIG1ldGhvZHMuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIG5vIEdvb2dsZSBjbGllbnQgSUQgaXMgZm91bmQgZm9yIHRoZSBwcm9qZWN0XG4gKi9cbnZhciBNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTEpIHtcbiAgX2luaGVyaXRzKE1pc3NpbmdHb29nbGVDbGllbnRJREVycm9yLCBfU3R5dGNoU0RLRXJyb3IxMSk7XG4gIGZ1bmN0aW9uIE1pc3NpbmdHb29nbGVDbGllbnRJREVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IsIFsnTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3InLCAnTm8gR29vZ2xlIGNsaWVudCBJRCB3YXMgZm91bmQgaW4gdGhlIHByb2plY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZXJlIHdhcyBhbiBlcnJvciBnZW5lcmF0aW5nIG9yIHJldHJpZXZpbmcgYSBQS0NFIGtleXBhaXJcbiAqL1xudmFyIE1pc3NpbmdQS0NFRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjEyKSB7XG4gIF9pbmhlcml0cyhNaXNzaW5nUEtDRUVycm9yLCBfU3R5dGNoU0RLRXJyb3IxMik7XG4gIGZ1bmN0aW9uIE1pc3NpbmdQS0NFRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pc3NpbmdQS0NFRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE1pc3NpbmdQS0NFRXJyb3IsIFsnTWlzc2luZ1BLQ0VFcnJvcicsICdNYWtlIHN1cmUgdGhpcyBmbG93IGlzIGNvbXBsZXRlZCBvbiB0aGUgc2FtZSBkZXZpY2Ugb24gd2hpY2ggaXQgd2FzIHN0YXJ0ZWQuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTWlzc2luZ1BLQ0VFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBuYXRpdmUgT0F1dGggZmxvdyBpcyBtaXNzaW5nIHRoZSBpZF90b2tlblxuICovXG52YXIgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxMykge1xuICBfaW5oZXJpdHMoTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yLCBfU3R5dGNoU0RLRXJyb3IxMyk7XG4gIGZ1bmN0aW9uIE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IsIFsnTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yJywgJ1RoZSBhdXRob3JpemF0aW9uIGNyZWRlbnRpYWwgaXMgbWlzc2luZyBhbiBJRCB0b2tlbi4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIGEgbmF0aXZlIE9BdXRoIGZsb3cgcmV0dXJucyBhbiBpbnZhbGlkIGNyZWRlbnRpYWxcbiAqL1xudmFyIEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxNCkge1xuICBfaW5oZXJpdHMoSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjE0KTtcbiAgZnVuY3Rpb24gSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvciwgWydJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcicsICdUaGUgYXV0aG9yaXphdGlvbiBjcmVkZW50aWFsIGlzIGludmFsaWQuIFZlcmlmeSB0aGF0IE9BdXRoIGlzIHNldCB1cCBjb3JyZWN0bHkgaW4gdGhlIGRldmVsb3BlciBjb25zb2xlLCBhbmQgY2FsbCB0aGUgc3RhcnQgZmxvdyBtZXRob2QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIGEgR29vZ2xlIE9uZVRhcCBmbG93IGlzIG5vdCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5XG4gKi9cbnZhciBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxNSkge1xuICBfaW5oZXJpdHMoTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvciwgX1N0eXRjaFNES0Vycm9yMTUpO1xuICBmdW5jdGlvbiBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yLCBbJ05vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3InLCAnVGhlIHVzZXIgZGlkIG5vdCBwcm92aWRlIGNyZWRlbnRpYWxzIGZvciBhIEdvb2dsZSBPbmVUYXAgYXR0ZW1wdCddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIGEgcHVibGljIGtleSB3YXMgbm90IGZvdW5kXG4gKi9cbnZhciBNaXNzaW5nUHVibGljS2V5RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjE2KSB7XG4gIF9pbmhlcml0cyhNaXNzaW5nUHVibGljS2V5RXJyb3IsIF9TdHl0Y2hTREtFcnJvcjE2KTtcbiAgZnVuY3Rpb24gTWlzc2luZ1B1YmxpY0tleUVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaXNzaW5nUHVibGljS2V5RXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE1pc3NpbmdQdWJsaWNLZXlFcnJvciwgWydNaXNzaW5nUHVibGljS2V5RXJyb3InLCAnRmFpbGVkIHRvIHJldHJpZXZlIHRoZSBwdWJsaWMga2V5LiBBZGQgYSBuZXcgYmlvbWV0cmljIHJlZ2lzdHJhdGlvbi4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhNaXNzaW5nUHVibGljS2V5RXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjaGFsbGVuZ2Ugc3RyaW5nIGZhaWxlZCB0byBiZSBzaWduZWRcbiAqL1xudmFyIENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTcpIHtcbiAgX2luaGVyaXRzKENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yMTcpO1xuICBmdW5jdGlvbiBDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yLCBbJ0NoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcicsICdGYWlsZWQgdG8gc2lnbiB0aGUgY2hhbGxlbmdlIHdpdGggdGhlIGtleS4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBTREsgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWRcbiAqL1xudmFyIFNES05vdENvbmZpZ3VyZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTgpIHtcbiAgX2luaGVyaXRzKFNES05vdENvbmZpZ3VyZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yMTgpO1xuICBmdW5jdGlvbiBTREtOb3RDb25maWd1cmVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNES05vdENvbmZpZ3VyZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgU0RLTm90Q29uZmlndXJlZEVycm9yLCBbJ1NES05vdENvbmZpZ3VyZWRFcnJvcicsICdTdHl0Y2ggY2xpZW50IGlzIG5vdCBjb25maXVyZWQuIFlvdSBtdXN0IGNhbGwgdGhlIGNvbmZpZ3VyZSBtZXRob2QgYmVmb3JlIHVzaW5nIHRoZSBTREsnXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTREtOb3RDb25maWd1cmVkRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjb2RlIGNoYWxsZW5nZSBmYWlsZWQgdG8gYmUgZ2VuZXJhdGVkXG4gKi9cbnZhciBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjE5KSB7XG4gIF9pbmhlcml0cyhGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjE5KTtcbiAgZnVuY3Rpb24gRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEZhaWxlZENvZGVDaGFsbGVuZ2VFcnJvciwgWydGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3InLCAnRmFpbGVkIHRvIGNyZWF0ZSBhIGNvZGUgY2hhbGxlbmdlJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBQYXNza2V5cyBhcmUgdW5zdXBwb3J0ZWQgb24gYSBkZXZpY2VcbiAqL1xudmFyIFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjApIHtcbiAgX2luaGVyaXRzKFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yMjApO1xuICBmdW5jdGlvbiBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgUGFzc2tleXNVbnN1cHBvcnRlZEVycm9yLCBbJ1Bhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcicsICdQYXNza2V5cyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZSddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gdXNlciBkYXRhIGZhaWxlZCB0byBiZSBkZWNyeXB0ZWRcbiAqL1xudmFyIEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjEpIHtcbiAgX2luaGVyaXRzKEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciwgX1N0eXRjaFNES0Vycm9yMjEpO1xuICBmdW5jdGlvbiBGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yLCBbJ0ZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcicsICdGYWlsZWQgdG8gZGVjcnlwdCB1c2VyIGRhdGEnXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIEJpb21ldHJpY3MgZmFpbGVkXG4gKi9cbnZhciBCaW9tZXRyaWNzRmFpbGVkRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjIyKSB7XG4gIF9pbmhlcml0cyhCaW9tZXRyaWNzRmFpbGVkRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjIyKTtcbiAgZnVuY3Rpb24gQmlvbWV0cmljc0ZhaWxlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCaW9tZXRyaWNzRmFpbGVkRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEJpb21ldHJpY3NGYWlsZWRFcnJvciwgWydCaW9tZXRyaWNzRmFpbGVkRXJyb3InLCAnQmlvbWV0cmljIGF1dGhlbnRpY2F0aW9uIGZhaWxlZCddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEJpb21ldHJpY3NGYWlsZWRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBzdGFydCBVUkwgd2FzIGludmFsaWRcbiAqL1xudmFyIEludmFsaWRTdGFydFVybEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyMykge1xuICBfaW5oZXJpdHMoSW52YWxpZFN0YXJ0VXJsRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjIzKTtcbiAgZnVuY3Rpb24gSW52YWxpZFN0YXJ0VXJsRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludmFsaWRTdGFydFVybEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBJbnZhbGlkU3RhcnRVcmxFcnJvciwgWydJbnZhbGlkU3RhcnRVcmxFcnJvcicsICdUaGUgc3RhcnQgVVJMIHdhcyBpbnZhbGlkIG9yIGltcHJvcGVybHkgZm9ybWF0dGVkLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEludmFsaWRTdGFydFVybEVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIHJlZGlyZWN0IHVybCB3YXMgaW52YWxpZFxuICovXG52YXIgSW52YWxpZFJlZGlyZWN0U2NoZW1lRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjI0KSB7XG4gIF9pbmhlcml0cyhJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvciwgX1N0eXRjaFNES0Vycm9yMjQpO1xuICBmdW5jdGlvbiBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52YWxpZFJlZGlyZWN0U2NoZW1lRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yLCBbJ0ludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yJywgJ1RoZSBzY2hlbWUgZnJvbSB0aGUgZ2l2ZW4gcmVkaXJlY3QgdXJscyB3YXMgaW52YWxpZC4gUG9zc2libGUgcmVhc29ucyBpbmNsdWRlOiBuaWwgc2NoZW1lLCBub24tY3VzdG9tIHNjaGVtZSAodXNpbmcgaHR0cCBvciBodHRwcyksIG9yIGRpZmZlcmluZyBzY2hlbWVzIGZvciBsb2dpbi9zaWdudXAgdXJscy4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIHVuZGVybHlpbmcgd2ViIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgZmFpbGVkIHRvIHJldHVybiBhIFVSTC5cbiAqL1xudmFyIE1pc3NpbmdVcmxFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjUpIHtcbiAgX2luaGVyaXRzKE1pc3NpbmdVcmxFcnJvciwgX1N0eXRjaFNES0Vycm9yMjUpO1xuICBmdW5jdGlvbiBNaXNzaW5nVXJsRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pc3NpbmdVcmxFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgTWlzc2luZ1VybEVycm9yLCBbJ01pc3NpbmdVcmxFcnJvcicsICdUaGUgdW5kZXJseWluZyB3ZWIgYXV0aGVudGljYXRpb24gc2VydmljZSBmYWlsZWQgdG8gcmV0dXJuIGEgVVJMLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE1pc3NpbmdVcmxFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIHB1YmxpYyBrZXkgY3JlZGVudGlhbCB0eXBlIHdhcyBub3Qgb2YgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKi9cbnZhciBJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjYpIHtcbiAgX2luaGVyaXRzKEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yLCBfU3R5dGNoU0RLRXJyb3IyNik7XG4gIGZ1bmN0aW9uIEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IsIFsnSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3InLCAnVGhlIHB1YmxpYyBrZXkgY3JlZGVudGlhbCB0eXBlIHdhcyBub3Qgb2YgdGhlIGV4cGVjdGVkIHR5cGUuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBwdWJsaWMga2V5IGNyZWRlbnRpYWwgaXMgbWlzc2luZyB0aGUgYXR0ZXN0YXRpb24gb2JqZWN0XG4gKi9cbnZhciBNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjcpIHtcbiAgX2luaGVyaXRzKE1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yLCBfU3R5dGNoU0RLRXJyb3IyNyk7XG4gIGZ1bmN0aW9uIE1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IsIFsnTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3InLCAnVGhlIHB1YmxpYyBrZXkgY3JlZGVudGlhbCBpcyBtaXNzaW5nIHRoZSBhdHRlc3RhdGlvbiBvYmplY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHdlIHJlY2VpdmVkIEpTT04gZGF0YSB0aGF0IGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWQgdG8gYSBzdHJpbmdcbiAqL1xudmFyIEpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyOCkge1xuICBfaW5oZXJpdHMoSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjI4KTtcbiAgZnVuY3Rpb24gSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvciwgWydKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvcicsICdKU09OIGRhdGEgdW5hYmxlIHRvIGJlIGNvbnZlcnRlZCB0byBTdHJpbmcgdHlwZS4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbi8qKlxuICogVGhyb3duIHdoZW4gUk5HIGZhaWxzXG4gKi9cbnZhciBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyOSkge1xuICBfaW5oZXJpdHMoUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZCwgX1N0eXRjaFNES0Vycm9yMjkpO1xuICBmdW5jdGlvbiBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkLCBbJ1JhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQnLCAnUmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIGZhaWxlZCddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQpO1xufShTdHl0Y2hTREtFcnJvcik7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZXJlIHdhcyBhbiBpbnZhbGlkIGVuY29kaW5nIHVzZWQgZm9yIGEgUGFzc2tleXMgcmVxdWVzdFxuICovXG52YXIgUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjMwKSB7XG4gIF9pbmhlcml0cyhQYXNza2V5c0ludmFsaWRFbmNvZGluZywgX1N0eXRjaFNES0Vycm9yMzApO1xuICBmdW5jdGlvbiBQYXNza2V5c0ludmFsaWRFbmNvZGluZygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIFBhc3NrZXlzSW52YWxpZEVuY29kaW5nLCBbJ1Bhc3NrZXlzSW52YWxpZEVuY29kaW5nJywgJ0ludmFsaWQgcGFzc2tleSBlbmNvZGluZyddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFBhc3NrZXlzSW52YWxpZEVuY29kaW5nKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBQYXNza2V5cyBzdXBwb3J0IGlzIG1pc2NvbmZpZ3VyZWRcbiAqL1xudmFyIFBhc3NrZXlzTWlzY29uZmlndXJlZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMzEpIHtcbiAgX2luaGVyaXRzKFBhc3NrZXlzTWlzY29uZmlndXJlZCwgX1N0eXRjaFNES0Vycm9yMzEpO1xuICBmdW5jdGlvbiBQYXNza2V5c01pc2NvbmZpZ3VyZWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhc3NrZXlzTWlzY29uZmlndXJlZCk7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgUGFzc2tleXNNaXNjb25maWd1cmVkLCBbJ1Bhc3NrZXlzTWlzY29uZmlndXJlZCcsICdQYXNza2V5cyBhcmUgbWlzY29uZmlndXJlZC4gVmVyaWZ5IHRoYXQgeW91IGhhdmUgYWRkZWQgdGhlIGNvcnJlY3QgYXNzb2NpYXRlZCBkb21haW4gZm9yIHlvdXIgYXBwbGljYXRpb24sIGFuZCB0aGF0IHRoZSBzaWduaW5nIGluZm9ybWF0aW9uIGlzIGNvcnJlY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoUGFzc2tleXNNaXNjb25maWd1cmVkKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xuLyoqXG4gKiBUaHJvd24gd2hlbiB0aGVyZSB3YXMgYW4gaW52YWxpZCBlbmNvZGluZyB1c2VkIGZvciBhIFBhc3NrZXlzIHJlcXVlc3RcbiAqL1xudmFyIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjMyKSB7XG4gIF9pbmhlcml0cyhTaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkLCBfU3R5dGNoU0RLRXJyb3IzMik7XG4gIGZ1bmN0aW9uIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQsIFsnU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCcsICdTaWduIEluIFdpdGggQXBwbGUgaXMgbWlzY29uZmlndXJlZC4gVmVyaWZ5IHRoYXQgeW91IGhhdmUgY29ycmVjdGx5IGNvbmZpZ3VyZWQgQXBwbGUgT0F1dGggaW4gdGhlIFN0eXRjaCBEYXNoYm9hcmQgYW5kIGFkZGVkIHRoZSBTaWduIEluIFdpdGggQXBwbGUgY2FwYWJpbGl0eSB0byB5b3VyIHByb2plY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCk7XG59KFN0eXRjaFNES0Vycm9yKTtcbmZ1bmN0aW9uIGVycm9yVG9TdHl0Y2hFcnJvcihlcnJvcikge1xuICBzd2l0Y2ggKGVycm9yLm1lc3NhZ2UpIHtcbiAgICBjYXNlICdpbnRlcm5hbF9lcnJvcic6XG4gICAgICByZXR1cm4gbmV3IEludGVybmFsRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgY2FzZSAnbm9fY3VycmVudF9zZXNzaW9uJzpcbiAgICAgIHJldHVybiBuZXcgTm9DdXJyZW50U2Vzc2lvbkVycm9yKCk7XG4gICAgY2FzZSAnbm9fYmlvbWV0cmljc19yZWdpc3RyYXRpb24nOlxuICAgICAgcmV0dXJuIG5ldyBOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvcigpO1xuICAgIGNhc2UgJ2Jpb21ldHJpY3NfdW5hdmFpbGFibGUnOlxuICAgICAgcmV0dXJuIG5ldyBCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcigpO1xuICAgIGNhc2UgJ2tleV9pbnZhbGlkYXRlZCc6XG4gICAgICByZXR1cm4gbmV3IEtleUludmFsaWRhdGVkRXJyb3IoKTtcbiAgICBjYXNlICdkZXZpY2VfaGFyZHdhcmVfZXJyb3InOlxuICAgICAgcmV0dXJuIG5ldyBCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcigpO1xuICAgIGNhc2UgJ2Jpb21ldHJpY3Nfbm90X2F2YWlsYWJsZSc6XG4gICAgICByZXR1cm4gbmV3IEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgY2FzZSAnbm9fYmlvbWV0cmljc19lbnJvbGxlZCc6XG4gICAgICByZXR1cm4gbmV3IE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IoKTtcbiAgICBjYXNlICdrZXlzdG9yZV91bmF2YWlsYWJsZSc6XG4gICAgICByZXR1cm4gbmV3IEtleXN0b3JlVW5hdmFpbGFibGVFcnJvcigpO1xuICAgIGNhc2UgJ25vX2Jpb21ldHJpY19rZXknOlxuICAgICAgcmV0dXJuIG5ldyBLZXlJbnZhbGlkYXRlZEVycm9yKCk7XG4gICAgY2FzZSAnZGV2aWNlX2NyZWRlbnRpYWxzX25vdF9hbGxvd2VkJzpcbiAgICAgIHJldHVybiBuZXcgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IoKTtcbiAgICBjYXNlICd1c2VyX2NhbmNlbGxhdGlvbic6XG4gICAgICByZXR1cm4gbmV3IFVzZXJDYW5jZWxsYXRpb25FcnJvcigpO1xuICAgIGNhc2UgJ3VzZXJfbG9ja2VkX291dCc6XG4gICAgICByZXR1cm4gbmV3IFVzZXJMb2NrZWRPdXRFcnJvcigpO1xuICAgIGNhc2UgJ2dvb2dsZV9vbmV0YXBfbWlzc2luZ19pZF90b2tlbic6XG4gICAgICByZXR1cm4gbmV3IE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcigpO1xuICAgIGNhc2UgJ2dvb2dsZV9vbmV0YXBfbWlzc2luZ19tZW1iZXInOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcigpO1xuICAgIGNhc2UgJ29hdXRoX2FwcGxlX21pc3NpbmdfaWRfdG9rZW4nOlxuICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IoKTtcbiAgICBjYXNlICdvYXV0aF9hcHBsZV9jcmVkZW50aWFsX2ludmFsaWQnOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcigpO1xuICAgIGNhc2UgJ21pc3NpbmdfcHVibGljX2tleSc6XG4gICAgICByZXR1cm4gbmV3IE1pc3NpbmdQdWJsaWNLZXlFcnJvcigpO1xuICAgIGNhc2UgJ2NoYWxsZW5nZV9zaWduaW5nX2ZhaWxlZCc6XG4gICAgICByZXR1cm4gbmV3IENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcigpO1xuICAgIGNhc2UgJ21pc3NpbmdfYXV0aG9yaXphdGlvbl9jcmVkZW50aWFsX2lkX3Rva2VuJzpcbiAgICAgIHJldHVybiBuZXcgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yKCk7XG4gICAgY2FzZSAnaW52YWxpZF9hdXRob3JpemF0aW9uX2NyZWRlbnRpYWwnOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcigpO1xuICAgIGNhc2UgJ25vX2NyZWRlbnRpYWxzX3ByZXNlbnQnOlxuICAgICAgcmV0dXJuIG5ldyBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yKCk7XG4gICAgY2FzZSAnc2RrX25vdF9jb25maWd1cmVkJzpcbiAgICAgIHJldHVybiBuZXcgU0RLTm90Q29uZmlndXJlZEVycm9yKCk7XG4gICAgY2FzZSAnZmFpbGVkX2NvZGVfY2hhbGxlbmdlJzpcbiAgICAgIHJldHVybiBuZXcgRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yKCk7XG4gICAgY2FzZSAncGFzc2tleXNfdW5zdXBwb3J0ZWQnOlxuICAgICAgcmV0dXJuIG5ldyBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IoKTtcbiAgICBjYXNlICdmYWlsZWRfdG9fZGVjcnlwdF9kYXRhJzpcbiAgICAgIHJldHVybiBuZXcgRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yKCk7XG4gICAgY2FzZSAnYmlvbWV0cmljc19mYWlsZWQnOlxuICAgICAgcmV0dXJuIG5ldyBCaW9tZXRyaWNzRmFpbGVkRXJyb3IoKTtcbiAgICBjYXNlICdpbnZhbGlkX3N0YXJ0X3VybCc6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRTdGFydFVybEVycm9yKCk7XG4gICAgY2FzZSAnaW52YWxpZF9yZWRpcmVjdF9zY2hlbWUnOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcigpO1xuICAgIGNhc2UgJ21pc3NpbmdfdXJsJzpcbiAgICAgIHJldHVybiBuZXcgTWlzc2luZ1VybEVycm9yKCk7XG4gICAgY2FzZSAnaW52YWxpZF9jcmVkZW50aWFsX3R5cGUnOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvcigpO1xuICAgIGNhc2UgJ21pc3NpbmdfYXR0ZXN0YXRpb25fb2JqZWN0JzpcbiAgICAgIHJldHVybiBuZXcgTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IoKTtcbiAgICBjYXNlICdqc29uX2RhdGFfbm90X2NvbnZlcnRpYmxlX3RvX3N0cmluZyc6XG4gICAgICByZXR1cm4gbmV3IEpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yKCk7XG4gICAgY2FzZSAncmFuZG9tX251bWJlcl9nZW5lcmF0aW9uX2ZhaWxlZCc6XG4gICAgICByZXR1cm4gbmV3IFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQoKTtcbiAgICBjYXNlICdwYXNza2V5c19pbnZhbGlkX2VuY29kaW5nJzpcbiAgICAgIHJldHVybiBuZXcgUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcoKTtcbiAgICBjYXNlICdwYXNza2V5c19taXNjb25maWd1cmVkJzpcbiAgICAgIHJldHVybiBuZXcgUGFzc2tleXNNaXNjb25maWd1cmVkKCk7XG4gICAgY2FzZSAnc2lnbmlud2l0aGFwcGxlX21pc2NvbmZpZ3VyZWQnOlxuICAgICAgcmV0dXJuIG5ldyBTaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBuZXcgU3R5dGNoU0RLRXJyb3IoZXJyb3IubmFtZSwgZXJyb3IubWVzc2FnZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgYXV0aGVudGljYXRpb24gbWV0aG9kcyB3ZSBzdXBwb3J0IHRocm91Z2ggb3VyIFVJLlxuICogQ3VycmVudGx5IHdlIHN1cHBvcnQgYGVtYWlsTWFnaWNMaW5rc2AsIGBzc29gLCBgcGFzc3dvcmRzYCwgYW5kIGBvYXV0aGAuXG4gKi9cbmV4cG9ydHMuQjJCUHJvZHVjdHMgPSB2b2lkIDA7XG4oZnVuY3Rpb24gKEIyQlByb2R1Y3RzKSB7XG4gIEIyQlByb2R1Y3RzW1wiZW1haWxNYWdpY0xpbmtzXCJdID0gXCJlbWFpbE1hZ2ljTGlua3NcIjtcbiAgQjJCUHJvZHVjdHNbXCJzc29cIl0gPSBcInNzb1wiO1xuICBCMkJQcm9kdWN0c1tcInBhc3N3b3Jkc1wiXSA9IFwicGFzc3dvcmRzXCI7XG4gIEIyQlByb2R1Y3RzW1wib2F1dGhcIl0gPSBcIm9hdXRoXCI7XG59KShleHBvcnRzLkIyQlByb2R1Y3RzIHx8IChleHBvcnRzLkIyQlByb2R1Y3RzID0ge30pKTtcbmV4cG9ydHMuQXV0aEZsb3dUeXBlID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChBdXRoRmxvd1R5cGUpIHtcbiAgQXV0aEZsb3dUeXBlW1wiRGlzY292ZXJ5XCJdID0gXCJEaXNjb3ZlcnlcIjtcbiAgQXV0aEZsb3dUeXBlW1wiT3JnYW5pemF0aW9uXCJdID0gXCJPcmdhbml6YXRpb25cIjtcbiAgQXV0aEZsb3dUeXBlW1wiUGFzc3dvcmRSZXNldFwiXSA9IFwiUGFzc3dvcmRSZXNldFwiO1xufSkoZXhwb3J0cy5BdXRoRmxvd1R5cGUgfHwgKGV4cG9ydHMuQXV0aEZsb3dUeXBlID0ge30pKTtcbmV4cG9ydHMuQjJCTUZBUHJvZHVjdHMgPSB2b2lkIDA7XG4oZnVuY3Rpb24gKEIyQk1GQVByb2R1Y3RzKSB7XG4gIEIyQk1GQVByb2R1Y3RzW1wic21zT3RwXCJdID0gXCJzbXNPdHBcIjtcbiAgQjJCTUZBUHJvZHVjdHNbXCJ0b3RwXCJdID0gXCJ0b3RwXCI7XG59KShleHBvcnRzLkIyQk1GQVByb2R1Y3RzIHx8IChleHBvcnRzLkIyQk1GQVByb2R1Y3RzID0ge30pKTtcbi8qKlxuICogVGhlIE9BdXRoIHByb3ZpZGVycyB3ZSBzdXBwb3J0IGluIG91ciBCMkIgT0F1dGggcHJvZHVjdC5cbiAqIEN1cnJlbnRseSB3ZSBzdXBwb3J0IGBnb29nbGVgLCBhbmQgYG1pY3Jvc29mdGAuXG4gKi9cbmV4cG9ydHMuQjJCT0F1dGhQcm92aWRlcnMgPSB2b2lkIDA7XG4oZnVuY3Rpb24gKEIyQk9BdXRoUHJvdmlkZXJzKSB7XG4gIEIyQk9BdXRoUHJvdmlkZXJzW1wiR29vZ2xlXCJdID0gXCJnb29nbGVcIjtcbiAgQjJCT0F1dGhQcm92aWRlcnNbXCJNaWNyb3NvZnRcIl0gPSBcIm1pY3Jvc29mdFwiO1xufSkoZXhwb3J0cy5CMkJPQXV0aFByb3ZpZGVycyB8fCAoZXhwb3J0cy5CMkJPQXV0aFByb3ZpZGVycyA9IHt9KSk7XG5leHBvcnRzLkJpb21ldHJpY3NGYWlsZWRFcnJvciA9IEJpb21ldHJpY3NGYWlsZWRFcnJvcjtcbmV4cG9ydHMuQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IgPSBCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcjtcbmV4cG9ydHMuQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yID0gQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yO1xuZXhwb3J0cy5EZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvciA9IERldmljZUNyZWRlbnRpYWxzTm90QWxsb3dlZEVycm9yO1xuZXhwb3J0cy5GYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IgPSBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3I7XG5leHBvcnRzLkZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciA9IEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcjtcbmV4cG9ydHMuSW50ZXJuYWxFcnJvciA9IEludGVybmFsRXJyb3I7XG5leHBvcnRzLkludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yID0gSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3I7XG5leHBvcnRzLkludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yID0gSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3I7XG5leHBvcnRzLkludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yID0gSW52YWxpZFJlZGlyZWN0U2NoZW1lRXJyb3I7XG5leHBvcnRzLkludmFsaWRTdGFydFVybEVycm9yID0gSW52YWxpZFN0YXJ0VXJsRXJyb3I7XG5leHBvcnRzLkpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yID0gSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3I7XG5leHBvcnRzLktleUludmFsaWRhdGVkRXJyb3IgPSBLZXlJbnZhbGlkYXRlZEVycm9yO1xuZXhwb3J0cy5LZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IgPSBLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3I7XG5leHBvcnRzLk1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yID0gTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3I7XG5leHBvcnRzLk1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvciA9IE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcjtcbmV4cG9ydHMuTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IgPSBNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvcjtcbmV4cG9ydHMuTWlzc2luZ1BLQ0VFcnJvciA9IE1pc3NpbmdQS0NFRXJyb3I7XG5leHBvcnRzLk1pc3NpbmdQdWJsaWNLZXlFcnJvciA9IE1pc3NpbmdQdWJsaWNLZXlFcnJvcjtcbmV4cG9ydHMuTWlzc2luZ1VybEVycm9yID0gTWlzc2luZ1VybEVycm9yO1xuZXhwb3J0cy5Ob0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yID0gTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcjtcbmV4cG9ydHMuTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IgPSBOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvcjtcbmV4cG9ydHMuTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvciA9IE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3I7XG5leHBvcnRzLk5vQ3VycmVudFNlc3Npb25FcnJvciA9IE5vQ3VycmVudFNlc3Npb25FcnJvcjtcbmV4cG9ydHMuUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcgPSBQYXNza2V5c0ludmFsaWRFbmNvZGluZztcbmV4cG9ydHMuUGFzc2tleXNNaXNjb25maWd1cmVkID0gUGFzc2tleXNNaXNjb25maWd1cmVkO1xuZXhwb3J0cy5QYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IgPSBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3I7XG5leHBvcnRzLlJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQgPSBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkO1xuZXhwb3J0cy5TREtBUElVbnJlYWNoYWJsZUVycm9yID0gU0RLQVBJVW5yZWFjaGFibGVFcnJvcjtcbmV4cG9ydHMuU0RLTm90Q29uZmlndXJlZEVycm9yID0gU0RLTm90Q29uZmlndXJlZEVycm9yO1xuZXhwb3J0cy5TaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkID0gU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZDtcbmV4cG9ydHMuU3R5dGNoQVBJRXJyb3IgPSBTdHl0Y2hBUElFcnJvcjtcbmV4cG9ydHMuU3R5dGNoQVBJU2NoZW1hRXJyb3IgPSBTdHl0Y2hBUElTY2hlbWFFcnJvcjtcbmV4cG9ydHMuU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvciA9IFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3I7XG5leHBvcnRzLlN0eXRjaEVycm9yID0gU3R5dGNoRXJyb3I7XG5leHBvcnRzLlN0eXRjaFNES0FQSUVycm9yID0gU3R5dGNoU0RLQVBJRXJyb3I7XG5leHBvcnRzLlN0eXRjaFNES0Vycm9yID0gU3R5dGNoU0RLRXJyb3I7XG5leHBvcnRzLlN0eXRjaFNES1NjaGVtYUVycm9yID0gU3R5dGNoU0RLU2NoZW1hRXJyb3I7XG5leHBvcnRzLlN0eXRjaFNES1VzYWdlRXJyb3IgPSBTdHl0Y2hTREtVc2FnZUVycm9yO1xuZXhwb3J0cy5VTlJFQ09WRVJBQkxFX0VSUk9SX1RZUEVTID0gVU5SRUNPVkVSQUJMRV9FUlJPUl9UWVBFUztcbmV4cG9ydHMuVXNlckNhbmNlbGxhdGlvbkVycm9yID0gVXNlckNhbmNlbGxhdGlvbkVycm9yO1xuZXhwb3J0cy5Vc2VyTG9ja2VkT3V0RXJyb3IgPSBVc2VyTG9ja2VkT3V0RXJyb3I7XG5leHBvcnRzLmVycm9yVG9TdHl0Y2hFcnJvciA9IGVycm9yVG9TdHl0Y2hFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/core/dist/ui-56246f7e.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/nextjs/dist/StytchB2BContext-162fadb4.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stytch/nextjs/dist/StytchB2BContext-162fadb4.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S: () => (/* binding */ StytchB2BProvider),\n/* harmony export */   a: () => (/* binding */ useStytchB2BClient),\n/* harmony export */   b: () => (/* binding */ useStytchMemberSession),\n/* harmony export */   c: () => (/* binding */ useStytchMember),\n/* harmony export */   d: () => (/* binding */ useStytchIsAuthorized),\n/* harmony export */   e: () => (/* binding */ useStytchOrganization),\n/* harmony export */   f: () => (/* binding */ withStytchMemberSession),\n/* harmony export */   g: () => (/* binding */ withStytchMember),\n/* harmony export */   h: () => (/* binding */ withStytchOrganization),\n/* harmony export */   i: () => (/* binding */ isUIClient),\n/* harmony export */   j: () => (/* binding */ withStytchPermissions),\n/* harmony export */   u: () => (/* binding */ useIsMounted__INTERNAL),\n/* harmony export */   w: () => (/* binding */ withStytchB2BClient)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StytchSSRProxy-14916009.js */ \"(ssr)/./node_modules/@stytch/nextjs/dist/StytchSSRProxy-14916009.js\");\n/* harmony import */ var _async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./async-b1e10055.js */ \"(ssr)/./node_modules/@stytch/nextjs/dist/async-b1e10055.js\");\n\n\n\n\nconst initialMember = {\n    member: null,\n    fromCache: false,\n    isInitialized: false,\n};\nconst initialMemberSession = {\n    session: null,\n    fromCache: false,\n    isInitialized: false,\n};\nconst initialOrganization = {\n    organization: null,\n    fromCache: false,\n    isInitialized: false,\n};\nconst StytchContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({ isMounted: false });\nconst StytchMemberContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(initialMember);\nconst StytchMemberSessionContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(initialMemberSession);\nconst StytchOrganizationContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(initialOrganization);\nconst useIsMounted__INTERNAL = () => (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StytchContext).isMounted;\nconst isUIClient = (client) => {\n    return client.mount !== undefined;\n};\n/**\n * Returns the active member.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the session data is from persistent storage.\n * See Next's {@link https://nextjs.org/docs/authentication#authenticating-statically-generated-pages documentation} for more.\n * @example\n * const {member, isInitialized, fromCache} = useStytchMember();\n * if (!isInitialized) {\n *     return <p>Loading...</p>;\n * }\n * return (<h1>Welcome, {member.name}</h1>);\n */\nconst useStytchMember = () => {\n    (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('useStytchMember', 'StytchB2BProvider'));\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StytchMemberContext);\n};\n/**\n * Returns the member's active Stytch member session.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the session data is from persistent storage.\n * See Next's {@link https://nextjs.org/docs/authentication#authenticating-statically-generated-pages documentation} for more.\n * @example\n * const {session, isInitialized, fromCache} = useStytchMemberSession();\n * useEffect(() => {\n *   if (!isInitialized) {\n *     return;\n *   }\n *   if (!session) {\n *     router.replace('/login')\n *   }\n * }, [session, isInitialized]);\n */\nconst useStytchMemberSession = () => {\n    (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('useStytchMemberSession', 'StytchB2BProvider'));\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StytchMemberSessionContext);\n};\n/**\n * Returns the active Stytch organization.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the session data is from persistent storage.\n * See Next's {@link https://nextjs.org/docs/authentication#authenticating-statically-generated-pages documentation} for more.\n * @example\n * const {organization, isInitialized, fromCache} = useStytchOrganization();\n * if (!isInitialized) {\n *     return <p>Loading...</p>;\n * }\n * return (<p>Welcome to {organization.organization_name}</p>);\n */\nconst useStytchOrganization = () => {\n    (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('useStytchOrganization', 'StytchB2BProvider'));\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StytchOrganizationContext);\n};\n/**\n * Determines whether the logged-in member is allowed to perform the specified action on the specified resource.\n * Returns `true` if the member can perform the action, `false` otherwise.\n *\n * If the member is not logged in, this method will always return false.\n * If the resource or action provided are not valid for the configured RBAC policy, this method will return false.\n *\n * Remember - authorization checks for sensitive actions should always occur on the backend as well.\n * @example\n * const isAuthorized = useStytchIsAuthorized<Permissions>('documents', 'edit');\n * return <button disabled={!isAuthorized}>Edit</button>\n */\nconst useStytchIsAuthorized = (resourceId, action) => {\n    (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('useStytchIsAuthorized', 'StytchB2BProvider'));\n    const client = useStytchB2BClient();\n    const { session } = useStytchMemberSession();\n    const [isAuthorized, setIsAuthorized] = (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.u)({\n        isInitialized: false,\n        fromCache: false,\n        isAuthorized: false,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if ((0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.i)(client)) {\n            return;\n        }\n        setIsAuthorized({\n            isInitialized: true,\n            fromCache: true,\n            isAuthorized: client.rbac.isAuthorizedSync(resourceId, action),\n        });\n    }, [action, client, resourceId, setIsAuthorized]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if ((0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.i)(client)) {\n            return;\n        }\n        client.rbac.isAuthorized(resourceId, action).then((isAuthorized) => {\n            setIsAuthorized({ isAuthorized, fromCache: false, isInitialized: true });\n        });\n    }, [client, session === null || session === void 0 ? void 0 : session.roles, resourceId, action, setIsAuthorized]);\n    return isAuthorized;\n};\n/**\n * Returns the Stytch client stored in the Stytch context.\n *\n * @example\n * const stytch = useStytch();\n * useEffect(() => {\n *   stytch.magicLinks.authenticate('...')\n * }, [stytch]);\n */\nconst useStytchB2BClient = () => {\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StytchContext);\n    (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(ctx.isMounted, (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('useStytchB2BClient', 'StytchB2BProvider'));\n    return ctx.client;\n};\nconst withStytchB2BClient = (Component) => {\n    const WithStytch = (props) => {\n        (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('withStytchB2BClient', 'StytchB2BProvider'));\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props, { stytch: useStytchB2BClient() }));\n    };\n    WithStytch.displayName = `withStytch(${Component.displayName || Component.name || 'Component'})`;\n    return WithStytch;\n};\nconst withStytchMember = (Component) => {\n    const WithStytchUser = (props) => {\n        (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('withStytchMember', 'StytchB2BProvider'));\n        const { member, isInitialized, fromCache } = useStytchMember();\n        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props, { stytchMember: member, stytchMemberIsInitialized: isInitialized, stytchMemberIsFromCache: fromCache })));\n    };\n    WithStytchUser.displayName = `withStytchMember(${Component.displayName || Component.name || 'Component'})`;\n    return WithStytchUser;\n};\nconst withStytchMemberSession = (Component) => {\n    const WithStytchSession = (props) => {\n        (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('withStytchMemberSession', 'StytchB2BProvider'));\n        const { session, isInitialized, fromCache } = useStytchMemberSession();\n        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props, { stytchMemberSession: session, stytchMemberSessionIsInitialized: isInitialized, stytchMemberSessionIsFromCache: fromCache })));\n    };\n    WithStytchSession.displayName = `withStytchMemberSession(${Component.displayName || Component.name || 'Component'})`;\n    return WithStytchSession;\n};\nconst withStytchOrganization = (Component) => {\n    const WithStytchOrganization = (props) => {\n        (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('withStytchOrganization', 'StytchB2BProvider'));\n        const { organization, isInitialized, fromCache } = useStytchOrganization();\n        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props, { stytchOrganization: organization, stytchOrganizationIsInitialized: isInitialized, stytchOrganizationIsFromCache: fromCache })));\n    };\n    WithStytchOrganization.displayName = `withStytchOrganization(${Component.displayName || Component.name || 'Component'})`;\n    return WithStytchOrganization;\n};\n/**\n * Wrap your component with this HOC in order to receive the permissions for the logged-in member.\n * Evaluates all permissions granted to the logged-in member.\n * Returns a Record<RoleId, Record<Action, boolean>> response indicating the member's permissions.\n * Each boolean will be `true` if the member can perform the action, `false` otherwise.\n *\n * If the member is not logged in, all values will be false.\n *\n * Remember - authorization checks for sensitive actions should always occur on the backend as well.\n * @example\n * type Permissions = {\n *   document: 'create' | 'read' | 'write\n *   image: 'create' | 'read'\n * }\n *\n * const MyComponent = (props) => {\n *   const canEditDocuments = props.stytchPermissions.document.edit;\n *   const canReadImages = props.stytchPermissions.image.read;\n * }\n * return withStytchPermissions<Permissions>(MyComponent)\n */\nconst withStytchPermissions = (Component) => {\n    const WithStytchPermissions = (props) => {\n        (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)(useIsMounted__INTERNAL(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.n)('useRBACPermissions', 'StytchB2BProvider'));\n        const client = useStytchB2BClient();\n        const { session } = useStytchMemberSession();\n        const [permissions, setPermissions] = (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.u)({ loaded: false, value: null });\n        (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n            client.rbac\n                .allPermissions()\n                .then((permissions) => setPermissions({ loaded: true, value: permissions }));\n        }, [client, session === null || session === void 0 ? void 0 : session.roles, setPermissions]);\n        if (!permissions.loaded) {\n            return null;\n        }\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, Object.assign({}, props, { stytchPermissions: permissions.value }));\n    };\n    WithStytchPermissions.displayName = `withStytchPermissions(${Component.displayName || Component.name || 'Component'})`;\n    return WithStytchPermissions;\n};\n/**\n * The Stytch Context Provider.\n * Wrap your application with this component in `_app.js` in order to use Stytch everywhere in your app.\n * @example\n * const stytch = createStytchB2BHeadlessClient('public-token-<find yours in the stytch dashboard>')\n *\n * return (\n *   <StytchB2BProvider stytch={stytch}>\n *     <App />\n *   </StytchB2BProvider>\n * )\n */\nconst StytchB2BProvider = ({ stytch, children }) => {\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({ client: stytch, isMounted: true }), [stytch]);\n    const [{ member, session, organization }, setClientState] = (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.u)({\n        member: initialMember,\n        session: initialMemberSession,\n        organization: initialOrganization,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if ((0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.i)(stytch)) {\n            return;\n        }\n        setClientState({\n            member: Object.assign(Object.assign({}, stytch.self.getInfo()), { isInitialized: true }),\n            session: Object.assign(Object.assign({}, stytch.session.getInfo()), { isInitialized: true }),\n            organization: Object.assign(Object.assign({}, stytch.organization.getInfo()), { isInitialized: true }),\n        });\n        return stytch.onStateChange(() => {\n            setClientState((oldState) => {\n                const newState = {\n                    member: Object.assign(Object.assign({}, stytch.self.getInfo()), { isInitialized: true }),\n                    session: Object.assign(Object.assign({}, stytch.session.getInfo()), { isInitialized: true }),\n                    organization: Object.assign(Object.assign({}, stytch.organization.getInfo()), { isInitialized: true }),\n                };\n                return (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.m)(oldState, newState);\n            });\n        });\n    }, [setClientState, stytch]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StytchContext.Provider, { value: ctx },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StytchOrganizationContext.Provider, { value: organization },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StytchMemberContext.Provider, { value: member },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StytchMemberSessionContext.Provider, { value: session }, children)))));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9TdHl0Y2hCMkJDb250ZXh0LTE2MmZhZGI0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZFO0FBQ2M7QUFDUzs7QUFFcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9EQUFhLEdBQUcsa0JBQWtCO0FBQ3hELDRCQUE0QixvREFBYTtBQUN6QyxtQ0FBbUMsb0RBQWE7QUFDaEQsa0NBQWtDLG9EQUFhO0FBQy9DLHFDQUFxQyxpREFBVTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzR0FBc0c7QUFDckg7QUFDQSxVQUFVLGtDQUFrQztBQUM1QztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0EsSUFBSSxxREFBUywyQkFBMkIsOERBQWU7QUFDdkQsV0FBVyxpREFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNHQUFzRztBQUNySDtBQUNBLFVBQVUsbUNBQW1DO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJLHFEQUFTLDJCQUEyQiw4REFBZTtBQUN2RCxXQUFXLGlEQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0dBQXNHO0FBQ3JIO0FBQ0EsVUFBVSx3Q0FBd0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtCQUErQjtBQUN6RDtBQUNBO0FBQ0EsSUFBSSxxREFBUywyQkFBMkIsOERBQWU7QUFDdkQsV0FBVyxpREFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGNB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LFlBQVksMERBQW1CLGlDQUFpQyxlQUFlO0FBQy9FLGdCQUFnQiwwREFBbUIsd0NBQXdDLGdCQUFnQjtBQUMzRjs7QUFFNFYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1sLWNsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3R5dGNoL25leHRqcy9kaXN0L1N0eXRjaEIyQkNvbnRleHQtMTYyZmFkYjQuanM/ZmQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaSBhcyBpc1N0eXRjaFNTUlByb3h5LCBuIGFzIG5vUHJvdmlkZXJFcnJvciB9IGZyb20gJy4vU3R5dGNoU1NSUHJveHktMTQ5MTYwMDkuanMnO1xuaW1wb3J0IHsgaSBhcyBpbnZhcmlhbnQsIHUgYXMgdXNlQXN5bmNTdGF0ZSwgbSBhcyBtZXJnZVdpdGhTdGFibGVQcm9wcyB9IGZyb20gJy4vYXN5bmMtYjFlMTAwNTUuanMnO1xuXG5jb25zdCBpbml0aWFsTWVtYmVyID0ge1xuICAgIG1lbWJlcjogbnVsbCxcbiAgICBmcm9tQ2FjaGU6IGZhbHNlLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxufTtcbmNvbnN0IGluaXRpYWxNZW1iZXJTZXNzaW9uID0ge1xuICAgIHNlc3Npb246IG51bGwsXG4gICAgZnJvbUNhY2hlOiBmYWxzZSxcbiAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbn07XG5jb25zdCBpbml0aWFsT3JnYW5pemF0aW9uID0ge1xuICAgIG9yZ2FuaXphdGlvbjogbnVsbCxcbiAgICBmcm9tQ2FjaGU6IGZhbHNlLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxufTtcbmNvbnN0IFN0eXRjaENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHsgaXNNb3VudGVkOiBmYWxzZSB9KTtcbmNvbnN0IFN0eXRjaE1lbWJlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KGluaXRpYWxNZW1iZXIpO1xuY29uc3QgU3R5dGNoTWVtYmVyU2Vzc2lvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KGluaXRpYWxNZW1iZXJTZXNzaW9uKTtcbmNvbnN0IFN0eXRjaE9yZ2FuaXphdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KGluaXRpYWxPcmdhbml6YXRpb24pO1xuY29uc3QgdXNlSXNNb3VudGVkX19JTlRFUk5BTCA9ICgpID0+IHVzZUNvbnRleHQoU3R5dGNoQ29udGV4dCkuaXNNb3VudGVkO1xuY29uc3QgaXNVSUNsaWVudCA9IChjbGllbnQpID0+IHtcbiAgICByZXR1cm4gY2xpZW50Lm1vdW50ICE9PSB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhY3RpdmUgbWVtYmVyLlxuICogVGhlIFN0eXRjaCBTREtzIGFyZSB1c2VkIGZvciBjbGllbnQtc2lkZSBhdXRoZW50aWNhdGlvbiBhbmQgc2Vzc2lvbiBtYW5hZ2VtZW50LlxuICogQ2hlY2sgdGhlIGlzSW5pdGlhbGl6ZWQgcHJvcGVydHkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBTREsgaGFzIGNvbXBsZXRlZCBpbml0aWFsaXphdGlvbi5cbiAqIENoZWNrIHRoZSBmcm9tQ2FjaGUgcHJvcGVydHkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBzZXNzaW9uIGRhdGEgaXMgZnJvbSBwZXJzaXN0ZW50IHN0b3JhZ2UuXG4gKiBTZWUgTmV4dCdzIHtAbGluayBodHRwczovL25leHRqcy5vcmcvZG9jcy9hdXRoZW50aWNhdGlvbiNhdXRoZW50aWNhdGluZy1zdGF0aWNhbGx5LWdlbmVyYXRlZC1wYWdlcyBkb2N1bWVudGF0aW9ufSBmb3IgbW9yZS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB7bWVtYmVyLCBpc0luaXRpYWxpemVkLCBmcm9tQ2FjaGV9ID0gdXNlU3R5dGNoTWVtYmVyKCk7XG4gKiBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAqICAgICByZXR1cm4gPHA+TG9hZGluZy4uLjwvcD47XG4gKiB9XG4gKiByZXR1cm4gKDxoMT5XZWxjb21lLCB7bWVtYmVyLm5hbWV9PC9oMT4pO1xuICovXG5jb25zdCB1c2VTdHl0Y2hNZW1iZXIgPSAoKSA9PiB7XG4gICAgaW52YXJpYW50KHVzZUlzTW91bnRlZF9fSU5URVJOQUwoKSwgbm9Qcm92aWRlckVycm9yKCd1c2VTdHl0Y2hNZW1iZXInLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoU3R5dGNoTWVtYmVyQ29udGV4dCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtZW1iZXIncyBhY3RpdmUgU3R5dGNoIG1lbWJlciBzZXNzaW9uLlxuICogVGhlIFN0eXRjaCBTREtzIGFyZSB1c2VkIGZvciBjbGllbnQtc2lkZSBhdXRoZW50aWNhdGlvbiBhbmQgc2Vzc2lvbiBtYW5hZ2VtZW50LlxuICogQ2hlY2sgdGhlIGlzSW5pdGlhbGl6ZWQgcHJvcGVydHkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBTREsgaGFzIGNvbXBsZXRlZCBpbml0aWFsaXphdGlvbi5cbiAqIENoZWNrIHRoZSBmcm9tQ2FjaGUgcHJvcGVydHkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBzZXNzaW9uIGRhdGEgaXMgZnJvbSBwZXJzaXN0ZW50IHN0b3JhZ2UuXG4gKiBTZWUgTmV4dCdzIHtAbGluayBodHRwczovL25leHRqcy5vcmcvZG9jcy9hdXRoZW50aWNhdGlvbiNhdXRoZW50aWNhdGluZy1zdGF0aWNhbGx5LWdlbmVyYXRlZC1wYWdlcyBkb2N1bWVudGF0aW9ufSBmb3IgbW9yZS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB7c2Vzc2lvbiwgaXNJbml0aWFsaXplZCwgZnJvbUNhY2hlfSA9IHVzZVN0eXRjaE1lbWJlclNlc3Npb24oKTtcbiAqIHVzZUVmZmVjdCgoKSA9PiB7XG4gKiAgIGlmICghaXNJbml0aWFsaXplZCkge1xuICogICAgIHJldHVybjtcbiAqICAgfVxuICogICBpZiAoIXNlc3Npb24pIHtcbiAqICAgICByb3V0ZXIucmVwbGFjZSgnL2xvZ2luJylcbiAqICAgfVxuICogfSwgW3Nlc3Npb24sIGlzSW5pdGlhbGl6ZWRdKTtcbiAqL1xuY29uc3QgdXNlU3R5dGNoTWVtYmVyU2Vzc2lvbiA9ICgpID0+IHtcbiAgICBpbnZhcmlhbnQodXNlSXNNb3VudGVkX19JTlRFUk5BTCgpLCBub1Byb3ZpZGVyRXJyb3IoJ3VzZVN0eXRjaE1lbWJlclNlc3Npb24nLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoU3R5dGNoTWVtYmVyU2Vzc2lvbkNvbnRleHQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgYWN0aXZlIFN0eXRjaCBvcmdhbml6YXRpb24uXG4gKiBUaGUgU3R5dGNoIFNES3MgYXJlIHVzZWQgZm9yIGNsaWVudC1zaWRlIGF1dGhlbnRpY2F0aW9uIGFuZCBzZXNzaW9uIG1hbmFnZW1lbnQuXG4gKiBDaGVjayB0aGUgaXNJbml0aWFsaXplZCBwcm9wZXJ0eSB0byBkZXRlcm1pbmUgaWYgdGhlIFNESyBoYXMgY29tcGxldGVkIGluaXRpYWxpemF0aW9uLlxuICogQ2hlY2sgdGhlIGZyb21DYWNoZSBwcm9wZXJ0eSB0byBkZXRlcm1pbmUgaWYgdGhlIHNlc3Npb24gZGF0YSBpcyBmcm9tIHBlcnNpc3RlbnQgc3RvcmFnZS5cbiAqIFNlZSBOZXh0J3Mge0BsaW5rIGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2F1dGhlbnRpY2F0aW9uI2F1dGhlbnRpY2F0aW5nLXN0YXRpY2FsbHktZ2VuZXJhdGVkLXBhZ2VzIGRvY3VtZW50YXRpb259IGZvciBtb3JlLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHtvcmdhbml6YXRpb24sIGlzSW5pdGlhbGl6ZWQsIGZyb21DYWNoZX0gPSB1c2VTdHl0Y2hPcmdhbml6YXRpb24oKTtcbiAqIGlmICghaXNJbml0aWFsaXplZCkge1xuICogICAgIHJldHVybiA8cD5Mb2FkaW5nLi4uPC9wPjtcbiAqIH1cbiAqIHJldHVybiAoPHA+V2VsY29tZSB0byB7b3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl9uYW1lfTwvcD4pO1xuICovXG5jb25zdCB1c2VTdHl0Y2hPcmdhbml6YXRpb24gPSAoKSA9PiB7XG4gICAgaW52YXJpYW50KHVzZUlzTW91bnRlZF9fSU5URVJOQUwoKSwgbm9Qcm92aWRlckVycm9yKCd1c2VTdHl0Y2hPcmdhbml6YXRpb24nLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoU3R5dGNoT3JnYW5pemF0aW9uQ29udGV4dCk7XG59O1xuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGxvZ2dlZC1pbiBtZW1iZXIgaXMgYWxsb3dlZCB0byBwZXJmb3JtIHRoZSBzcGVjaWZpZWQgYWN0aW9uIG9uIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UuXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWVtYmVyIGNhbiBwZXJmb3JtIHRoZSBhY3Rpb24sIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIElmIHRoZSBtZW1iZXIgaXMgbm90IGxvZ2dlZCBpbiwgdGhpcyBtZXRob2Qgd2lsbCBhbHdheXMgcmV0dXJuIGZhbHNlLlxuICogSWYgdGhlIHJlc291cmNlIG9yIGFjdGlvbiBwcm92aWRlZCBhcmUgbm90IHZhbGlkIGZvciB0aGUgY29uZmlndXJlZCBSQkFDIHBvbGljeSwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZmFsc2UuXG4gKlxuICogUmVtZW1iZXIgLSBhdXRob3JpemF0aW9uIGNoZWNrcyBmb3Igc2Vuc2l0aXZlIGFjdGlvbnMgc2hvdWxkIGFsd2F5cyBvY2N1ciBvbiB0aGUgYmFja2VuZCBhcyB3ZWxsLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGlzQXV0aG9yaXplZCA9IHVzZVN0eXRjaElzQXV0aG9yaXplZDxQZXJtaXNzaW9ucz4oJ2RvY3VtZW50cycsICdlZGl0Jyk7XG4gKiByZXR1cm4gPGJ1dHRvbiBkaXNhYmxlZD17IWlzQXV0aG9yaXplZH0+RWRpdDwvYnV0dG9uPlxuICovXG5jb25zdCB1c2VTdHl0Y2hJc0F1dGhvcml6ZWQgPSAocmVzb3VyY2VJZCwgYWN0aW9uKSA9PiB7XG4gICAgaW52YXJpYW50KHVzZUlzTW91bnRlZF9fSU5URVJOQUwoKSwgbm9Qcm92aWRlckVycm9yKCd1c2VTdHl0Y2hJc0F1dGhvcml6ZWQnLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgY29uc3QgY2xpZW50ID0gdXNlU3R5dGNoQjJCQ2xpZW50KCk7XG4gICAgY29uc3QgeyBzZXNzaW9uIH0gPSB1c2VTdHl0Y2hNZW1iZXJTZXNzaW9uKCk7XG4gICAgY29uc3QgW2lzQXV0aG9yaXplZCwgc2V0SXNBdXRob3JpemVkXSA9IHVzZUFzeW5jU3RhdGUoe1xuICAgICAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgZnJvbUNhY2hlOiBmYWxzZSxcbiAgICAgICAgaXNBdXRob3JpemVkOiBmYWxzZSxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNTdHl0Y2hTU1JQcm94eShjbGllbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNBdXRob3JpemVkKHtcbiAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgICAgICBmcm9tQ2FjaGU6IHRydWUsXG4gICAgICAgICAgICBpc0F1dGhvcml6ZWQ6IGNsaWVudC5yYmFjLmlzQXV0aG9yaXplZFN5bmMocmVzb3VyY2VJZCwgYWN0aW9uKSxcbiAgICAgICAgfSk7XG4gICAgfSwgW2FjdGlvbiwgY2xpZW50LCByZXNvdXJjZUlkLCBzZXRJc0F1dGhvcml6ZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNTdHl0Y2hTU1JQcm94eShjbGllbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xpZW50LnJiYWMuaXNBdXRob3JpemVkKHJlc291cmNlSWQsIGFjdGlvbikudGhlbigoaXNBdXRob3JpemVkKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0F1dGhvcml6ZWQoeyBpc0F1dGhvcml6ZWQsIGZyb21DYWNoZTogZmFsc2UsIGlzSW5pdGlhbGl6ZWQ6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnQsIHNlc3Npb24gPT09IG51bGwgfHwgc2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vzc2lvbi5yb2xlcywgcmVzb3VyY2VJZCwgYWN0aW9uLCBzZXRJc0F1dGhvcml6ZWRdKTtcbiAgICByZXR1cm4gaXNBdXRob3JpemVkO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgU3R5dGNoIGNsaWVudCBzdG9yZWQgaW4gdGhlIFN0eXRjaCBjb250ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzdHl0Y2ggPSB1c2VTdHl0Y2goKTtcbiAqIHVzZUVmZmVjdCgoKSA9PiB7XG4gKiAgIHN0eXRjaC5tYWdpY0xpbmtzLmF1dGhlbnRpY2F0ZSgnLi4uJylcbiAqIH0sIFtzdHl0Y2hdKTtcbiAqL1xuY29uc3QgdXNlU3R5dGNoQjJCQ2xpZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQoU3R5dGNoQ29udGV4dCk7XG4gICAgaW52YXJpYW50KGN0eC5pc01vdW50ZWQsIG5vUHJvdmlkZXJFcnJvcigndXNlU3R5dGNoQjJCQ2xpZW50JywgJ1N0eXRjaEIyQlByb3ZpZGVyJykpO1xuICAgIHJldHVybiBjdHguY2xpZW50O1xufTtcbmNvbnN0IHdpdGhTdHl0Y2hCMkJDbGllbnQgPSAoQ29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgV2l0aFN0eXRjaCA9IChwcm9wcykgPT4ge1xuICAgICAgICBpbnZhcmlhbnQodXNlSXNNb3VudGVkX19JTlRFUk5BTCgpLCBub1Byb3ZpZGVyRXJyb3IoJ3dpdGhTdHl0Y2hCMkJDbGllbnQnLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHsgc3R5dGNoOiB1c2VTdHl0Y2hCMkJDbGllbnQoKSB9KSk7XG4gICAgfTtcbiAgICBXaXRoU3R5dGNoLmRpc3BsYXlOYW1lID0gYHdpdGhTdHl0Y2goJHtDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCd9KWA7XG4gICAgcmV0dXJuIFdpdGhTdHl0Y2g7XG59O1xuY29uc3Qgd2l0aFN0eXRjaE1lbWJlciA9IChDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBXaXRoU3R5dGNoVXNlciA9IChwcm9wcykgPT4ge1xuICAgICAgICBpbnZhcmlhbnQodXNlSXNNb3VudGVkX19JTlRFUk5BTCgpLCBub1Byb3ZpZGVyRXJyb3IoJ3dpdGhTdHl0Y2hNZW1iZXInLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgICAgIGNvbnN0IHsgbWVtYmVyLCBpc0luaXRpYWxpemVkLCBmcm9tQ2FjaGUgfSA9IHVzZVN0eXRjaE1lbWJlcigpO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBzdHl0Y2hNZW1iZXI6IG1lbWJlciwgc3R5dGNoTWVtYmVySXNJbml0aWFsaXplZDogaXNJbml0aWFsaXplZCwgc3R5dGNoTWVtYmVySXNGcm9tQ2FjaGU6IGZyb21DYWNoZSB9KSkpO1xuICAgIH07XG4gICAgV2l0aFN0eXRjaFVzZXIuZGlzcGxheU5hbWUgPSBgd2l0aFN0eXRjaE1lbWJlcigke0NvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J30pYDtcbiAgICByZXR1cm4gV2l0aFN0eXRjaFVzZXI7XG59O1xuY29uc3Qgd2l0aFN0eXRjaE1lbWJlclNlc3Npb24gPSAoQ29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgV2l0aFN0eXRjaFNlc3Npb24gPSAocHJvcHMpID0+IHtcbiAgICAgICAgaW52YXJpYW50KHVzZUlzTW91bnRlZF9fSU5URVJOQUwoKSwgbm9Qcm92aWRlckVycm9yKCd3aXRoU3R5dGNoTWVtYmVyU2Vzc2lvbicsICdTdHl0Y2hCMkJQcm92aWRlcicpKTtcbiAgICAgICAgY29uc3QgeyBzZXNzaW9uLCBpc0luaXRpYWxpemVkLCBmcm9tQ2FjaGUgfSA9IHVzZVN0eXRjaE1lbWJlclNlc3Npb24oKTtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHsgc3R5dGNoTWVtYmVyU2Vzc2lvbjogc2Vzc2lvbiwgc3R5dGNoTWVtYmVyU2Vzc2lvbklzSW5pdGlhbGl6ZWQ6IGlzSW5pdGlhbGl6ZWQsIHN0eXRjaE1lbWJlclNlc3Npb25Jc0Zyb21DYWNoZTogZnJvbUNhY2hlIH0pKSk7XG4gICAgfTtcbiAgICBXaXRoU3R5dGNoU2Vzc2lvbi5kaXNwbGF5TmFtZSA9IGB3aXRoU3R5dGNoTWVtYmVyU2Vzc2lvbigke0NvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J30pYDtcbiAgICByZXR1cm4gV2l0aFN0eXRjaFNlc3Npb247XG59O1xuY29uc3Qgd2l0aFN0eXRjaE9yZ2FuaXphdGlvbiA9IChDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBXaXRoU3R5dGNoT3JnYW5pemF0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgICAgIGludmFyaWFudCh1c2VJc01vdW50ZWRfX0lOVEVSTkFMKCksIG5vUHJvdmlkZXJFcnJvcignd2l0aFN0eXRjaE9yZ2FuaXphdGlvbicsICdTdHl0Y2hCMkJQcm92aWRlcicpKTtcbiAgICAgICAgY29uc3QgeyBvcmdhbml6YXRpb24sIGlzSW5pdGlhbGl6ZWQsIGZyb21DYWNoZSB9ID0gdXNlU3R5dGNoT3JnYW5pemF0aW9uKCk7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7IHN0eXRjaE9yZ2FuaXphdGlvbjogb3JnYW5pemF0aW9uLCBzdHl0Y2hPcmdhbml6YXRpb25Jc0luaXRpYWxpemVkOiBpc0luaXRpYWxpemVkLCBzdHl0Y2hPcmdhbml6YXRpb25Jc0Zyb21DYWNoZTogZnJvbUNhY2hlIH0pKSk7XG4gICAgfTtcbiAgICBXaXRoU3R5dGNoT3JnYW5pemF0aW9uLmRpc3BsYXlOYW1lID0gYHdpdGhTdHl0Y2hPcmdhbml6YXRpb24oJHtDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCd9KWA7XG4gICAgcmV0dXJuIFdpdGhTdHl0Y2hPcmdhbml6YXRpb247XG59O1xuLyoqXG4gKiBXcmFwIHlvdXIgY29tcG9uZW50IHdpdGggdGhpcyBIT0MgaW4gb3JkZXIgdG8gcmVjZWl2ZSB0aGUgcGVybWlzc2lvbnMgZm9yIHRoZSBsb2dnZWQtaW4gbWVtYmVyLlxuICogRXZhbHVhdGVzIGFsbCBwZXJtaXNzaW9ucyBncmFudGVkIHRvIHRoZSBsb2dnZWQtaW4gbWVtYmVyLlxuICogUmV0dXJucyBhIFJlY29yZDxSb2xlSWQsIFJlY29yZDxBY3Rpb24sIGJvb2xlYW4+PiByZXNwb25zZSBpbmRpY2F0aW5nIHRoZSBtZW1iZXIncyBwZXJtaXNzaW9ucy5cbiAqIEVhY2ggYm9vbGVhbiB3aWxsIGJlIGB0cnVlYCBpZiB0aGUgbWVtYmVyIGNhbiBwZXJmb3JtIHRoZSBhY3Rpb24sIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIElmIHRoZSBtZW1iZXIgaXMgbm90IGxvZ2dlZCBpbiwgYWxsIHZhbHVlcyB3aWxsIGJlIGZhbHNlLlxuICpcbiAqIFJlbWVtYmVyIC0gYXV0aG9yaXphdGlvbiBjaGVja3MgZm9yIHNlbnNpdGl2ZSBhY3Rpb25zIHNob3VsZCBhbHdheXMgb2NjdXIgb24gdGhlIGJhY2tlbmQgYXMgd2VsbC5cbiAqIEBleGFtcGxlXG4gKiB0eXBlIFBlcm1pc3Npb25zID0ge1xuICogICBkb2N1bWVudDogJ2NyZWF0ZScgfCAncmVhZCcgfCAnd3JpdGVcbiAqICAgaW1hZ2U6ICdjcmVhdGUnIHwgJ3JlYWQnXG4gKiB9XG4gKlxuICogY29uc3QgTXlDb21wb25lbnQgPSAocHJvcHMpID0+IHtcbiAqICAgY29uc3QgY2FuRWRpdERvY3VtZW50cyA9IHByb3BzLnN0eXRjaFBlcm1pc3Npb25zLmRvY3VtZW50LmVkaXQ7XG4gKiAgIGNvbnN0IGNhblJlYWRJbWFnZXMgPSBwcm9wcy5zdHl0Y2hQZXJtaXNzaW9ucy5pbWFnZS5yZWFkO1xuICogfVxuICogcmV0dXJuIHdpdGhTdHl0Y2hQZXJtaXNzaW9uczxQZXJtaXNzaW9ucz4oTXlDb21wb25lbnQpXG4gKi9cbmNvbnN0IHdpdGhTdHl0Y2hQZXJtaXNzaW9ucyA9IChDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBXaXRoU3R5dGNoUGVybWlzc2lvbnMgPSAocHJvcHMpID0+IHtcbiAgICAgICAgaW52YXJpYW50KHVzZUlzTW91bnRlZF9fSU5URVJOQUwoKSwgbm9Qcm92aWRlckVycm9yKCd1c2VSQkFDUGVybWlzc2lvbnMnLCAnU3R5dGNoQjJCUHJvdmlkZXInKSk7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IHVzZVN0eXRjaEIyQkNsaWVudCgpO1xuICAgICAgICBjb25zdCB7IHNlc3Npb24gfSA9IHVzZVN0eXRjaE1lbWJlclNlc3Npb24oKTtcbiAgICAgICAgY29uc3QgW3Blcm1pc3Npb25zLCBzZXRQZXJtaXNzaW9uc10gPSB1c2VBc3luY1N0YXRlKHsgbG9hZGVkOiBmYWxzZSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBjbGllbnQucmJhY1xuICAgICAgICAgICAgICAgIC5hbGxQZXJtaXNzaW9ucygpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHBlcm1pc3Npb25zKSA9PiBzZXRQZXJtaXNzaW9ucyh7IGxvYWRlZDogdHJ1ZSwgdmFsdWU6IHBlcm1pc3Npb25zIH0pKTtcbiAgICAgICAgfSwgW2NsaWVudCwgc2Vzc2lvbiA9PT0gbnVsbCB8fCBzZXNzaW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uLnJvbGVzLCBzZXRQZXJtaXNzaW9uc10pO1xuICAgICAgICBpZiAoIXBlcm1pc3Npb25zLmxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBzdHl0Y2hQZXJtaXNzaW9uczogcGVybWlzc2lvbnMudmFsdWUgfSkpO1xuICAgIH07XG4gICAgV2l0aFN0eXRjaFBlcm1pc3Npb25zLmRpc3BsYXlOYW1lID0gYHdpdGhTdHl0Y2hQZXJtaXNzaW9ucygke0NvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J30pYDtcbiAgICByZXR1cm4gV2l0aFN0eXRjaFBlcm1pc3Npb25zO1xufTtcbi8qKlxuICogVGhlIFN0eXRjaCBDb250ZXh0IFByb3ZpZGVyLlxuICogV3JhcCB5b3VyIGFwcGxpY2F0aW9uIHdpdGggdGhpcyBjb21wb25lbnQgaW4gYF9hcHAuanNgIGluIG9yZGVyIHRvIHVzZSBTdHl0Y2ggZXZlcnl3aGVyZSBpbiB5b3VyIGFwcC5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzdHl0Y2ggPSBjcmVhdGVTdHl0Y2hCMkJIZWFkbGVzc0NsaWVudCgncHVibGljLXRva2VuLTxmaW5kIHlvdXJzIGluIHRoZSBzdHl0Y2ggZGFzaGJvYXJkPicpXG4gKlxuICogcmV0dXJuIChcbiAqICAgPFN0eXRjaEIyQlByb3ZpZGVyIHN0eXRjaD17c3R5dGNofT5cbiAqICAgICA8QXBwIC8+XG4gKiAgIDwvU3R5dGNoQjJCUHJvdmlkZXI+XG4gKiApXG4gKi9cbmNvbnN0IFN0eXRjaEIyQlByb3ZpZGVyID0gKHsgc3R5dGNoLCBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gdXNlTWVtbygoKSA9PiAoeyBjbGllbnQ6IHN0eXRjaCwgaXNNb3VudGVkOiB0cnVlIH0pLCBbc3R5dGNoXSk7XG4gICAgY29uc3QgW3sgbWVtYmVyLCBzZXNzaW9uLCBvcmdhbml6YXRpb24gfSwgc2V0Q2xpZW50U3RhdGVdID0gdXNlQXN5bmNTdGF0ZSh7XG4gICAgICAgIG1lbWJlcjogaW5pdGlhbE1lbWJlcixcbiAgICAgICAgc2Vzc2lvbjogaW5pdGlhbE1lbWJlclNlc3Npb24sXG4gICAgICAgIG9yZ2FuaXphdGlvbjogaW5pdGlhbE9yZ2FuaXphdGlvbixcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNTdHl0Y2hTU1JQcm94eShzdHl0Y2gpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0Q2xpZW50U3RhdGUoe1xuICAgICAgICAgICAgbWVtYmVyOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0eXRjaC5zZWxmLmdldEluZm8oKSksIHsgaXNJbml0aWFsaXplZDogdHJ1ZSB9KSxcbiAgICAgICAgICAgIHNlc3Npb246IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3R5dGNoLnNlc3Npb24uZ2V0SW5mbygpKSwgeyBpc0luaXRpYWxpemVkOiB0cnVlIH0pLFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0eXRjaC5vcmdhbml6YXRpb24uZ2V0SW5mbygpKSwgeyBpc0luaXRpYWxpemVkOiB0cnVlIH0pLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0eXRjaC5vblN0YXRlQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHNldENsaWVudFN0YXRlKChvbGRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXI6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3R5dGNoLnNlbGYuZ2V0SW5mbygpKSwgeyBpc0luaXRpYWxpemVkOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0eXRjaC5zZXNzaW9uLmdldEluZm8oKSksIHsgaXNJbml0aWFsaXplZDogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0eXRjaC5vcmdhbml6YXRpb24uZ2V0SW5mbygpKSwgeyBpc0luaXRpYWxpemVkOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlV2l0aFN0YWJsZVByb3BzKG9sZFN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3NldENsaWVudFN0YXRlLCBzdHl0Y2hdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5dGNoQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY3R4IH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5dGNoT3JnYW5pemF0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogb3JnYW5pemF0aW9uIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eXRjaE1lbWJlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IG1lbWJlciB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5dGNoTWVtYmVyU2Vzc2lvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHNlc3Npb24gfSwgY2hpbGRyZW4pKSkpKTtcbn07XG5cbmV4cG9ydCB7IFN0eXRjaEIyQlByb3ZpZGVyIGFzIFMsIHVzZVN0eXRjaEIyQkNsaWVudCBhcyBhLCB1c2VTdHl0Y2hNZW1iZXJTZXNzaW9uIGFzIGIsIHVzZVN0eXRjaE1lbWJlciBhcyBjLCB1c2VTdHl0Y2hJc0F1dGhvcml6ZWQgYXMgZCwgdXNlU3R5dGNoT3JnYW5pemF0aW9uIGFzIGUsIHdpdGhTdHl0Y2hNZW1iZXJTZXNzaW9uIGFzIGYsIHdpdGhTdHl0Y2hNZW1iZXIgYXMgZywgd2l0aFN0eXRjaE9yZ2FuaXphdGlvbiBhcyBoLCBpc1VJQ2xpZW50IGFzIGksIHdpdGhTdHl0Y2hQZXJtaXNzaW9ucyBhcyBqLCB1c2VJc01vdW50ZWRfX0lOVEVSTkFMIGFzIHUsIHdpdGhTdHl0Y2hCMkJDbGllbnQgYXMgdyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/nextjs/dist/StytchB2BContext-162fadb4.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/nextjs/dist/StytchSSRProxy-14916009.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@stytch/nextjs/dist/StytchSSRProxy-14916009.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ noHeadlessClientError),\n/* harmony export */   c: () => (/* binding */ createStytchSSRProxy),\n/* harmony export */   i: () => (/* binding */ isStytchSSRProxy),\n/* harmony export */   n: () => (/* binding */ noProviderError)\n/* harmony export */ });\nconst noProviderError = (item, provider = 'StytchProvider') => `${item} can only be used inside <${provider}>.`;\nconst noHeadlessClientError = `Tried to create a Stytch Login UI element using the Stytch Headless SDK.\nYou must use the UI SDK to use UI elements.\nPlease make sure you are importing createStytchHeadlessClient from @stytch/nextjs/ui and not from @stytch/nextjs/headless.`;\nconst cannotInvokeMethodOnServerError = (path) => `[Stytch] Invalid serverside function call to ${path}.\nThe Stytch Javascript SDK is intended to ony be used on the client side.\nMake sure to wrap your API calls in a hook to ensure they are executed on the client.\n\\`\\`\\`\nconst myComponent = () => {\n  const stytch = useStytch();\n  // This will error out on the server.\n  stytch.magicLinks.authenticate(...);\n  useEffect(() => {\n    // This will work well\n    stytch.magicLinks.authenticate(...);\n  }, []);\n}\n\\`\\`\\`\n\nIf you want to make API calls from server environments, please use the Stytch Node Library\nhttps://www.npmjs.com/package/stytch.\n`;\n\nconst SSRStubKey = Symbol('__stytch_SSRStubKey');\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isStytchSSRProxy = (proxy) => {\n    return !!proxy[SSRStubKey];\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst createProxy = (path) => {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    const noop = () => { };\n    return new Proxy(noop, {\n        get(target, p) {\n            if (p === SSRStubKey) {\n                return true;\n            }\n            return createProxy(path + '.' + String(p));\n        },\n        apply() {\n            throw new Error(cannotInvokeMethodOnServerError(path));\n        },\n    });\n};\nconst createStytchSSRProxy = () => createProxy('stytch');\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9TdHl0Y2hTU1JQcm94eS0xNDkxNjAwOS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsa0VBQWtFLE1BQU0sMkJBQTJCLFNBQVM7QUFDNUc7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLEtBQUs7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRThHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtbC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9TdHl0Y2hTU1JQcm94eS0xNDkxNjAwOS5qcz8xNjJlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5vUHJvdmlkZXJFcnJvciA9IChpdGVtLCBwcm92aWRlciA9ICdTdHl0Y2hQcm92aWRlcicpID0+IGAke2l0ZW19IGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIDwke3Byb3ZpZGVyfT4uYDtcbmNvbnN0IG5vSGVhZGxlc3NDbGllbnRFcnJvciA9IGBUcmllZCB0byBjcmVhdGUgYSBTdHl0Y2ggTG9naW4gVUkgZWxlbWVudCB1c2luZyB0aGUgU3R5dGNoIEhlYWRsZXNzIFNESy5cbllvdSBtdXN0IHVzZSB0aGUgVUkgU0RLIHRvIHVzZSBVSSBlbGVtZW50cy5cblBsZWFzZSBtYWtlIHN1cmUgeW91IGFyZSBpbXBvcnRpbmcgY3JlYXRlU3R5dGNoSGVhZGxlc3NDbGllbnQgZnJvbSBAc3R5dGNoL25leHRqcy91aSBhbmQgbm90IGZyb20gQHN0eXRjaC9uZXh0anMvaGVhZGxlc3MuYDtcbmNvbnN0IGNhbm5vdEludm9rZU1ldGhvZE9uU2VydmVyRXJyb3IgPSAocGF0aCkgPT4gYFtTdHl0Y2hdIEludmFsaWQgc2VydmVyc2lkZSBmdW5jdGlvbiBjYWxsIHRvICR7cGF0aH0uXG5UaGUgU3R5dGNoIEphdmFzY3JpcHQgU0RLIGlzIGludGVuZGVkIHRvIG9ueSBiZSB1c2VkIG9uIHRoZSBjbGllbnQgc2lkZS5cbk1ha2Ugc3VyZSB0byB3cmFwIHlvdXIgQVBJIGNhbGxzIGluIGEgaG9vayB0byBlbnN1cmUgdGhleSBhcmUgZXhlY3V0ZWQgb24gdGhlIGNsaWVudC5cblxcYFxcYFxcYFxuY29uc3QgbXlDb21wb25lbnQgPSAoKSA9PiB7XG4gIGNvbnN0IHN0eXRjaCA9IHVzZVN0eXRjaCgpO1xuICAvLyBUaGlzIHdpbGwgZXJyb3Igb3V0IG9uIHRoZSBzZXJ2ZXIuXG4gIHN0eXRjaC5tYWdpY0xpbmtzLmF1dGhlbnRpY2F0ZSguLi4pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFRoaXMgd2lsbCB3b3JrIHdlbGxcbiAgICBzdHl0Y2gubWFnaWNMaW5rcy5hdXRoZW50aWNhdGUoLi4uKTtcbiAgfSwgW10pO1xufVxuXFxgXFxgXFxgXG5cbklmIHlvdSB3YW50IHRvIG1ha2UgQVBJIGNhbGxzIGZyb20gc2VydmVyIGVudmlyb25tZW50cywgcGxlYXNlIHVzZSB0aGUgU3R5dGNoIE5vZGUgTGlicmFyeVxuaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvc3R5dGNoLlxuYDtcblxuY29uc3QgU1NSU3R1YktleSA9IFN5bWJvbCgnX19zdHl0Y2hfU1NSU3R1YktleScpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IGlzU3R5dGNoU1NSUHJveHkgPSAocHJveHkpID0+IHtcbiAgICByZXR1cm4gISFwcm94eVtTU1JTdHViS2V5XTtcbn07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgY3JlYXRlUHJveHkgPSAocGF0aCkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICBjb25zdCBub29wID0gKCkgPT4geyB9O1xuICAgIHJldHVybiBuZXcgUHJveHkobm9vcCwge1xuICAgICAgICBnZXQodGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICBpZiAocCA9PT0gU1NSU3R1YktleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVByb3h5KHBhdGggKyAnLicgKyBTdHJpbmcocCkpO1xuICAgICAgICB9LFxuICAgICAgICBhcHBseSgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjYW5ub3RJbnZva2VNZXRob2RPblNlcnZlckVycm9yKHBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5jb25zdCBjcmVhdGVTdHl0Y2hTU1JQcm94eSA9ICgpID0+IGNyZWF0ZVByb3h5KCdzdHl0Y2gnKTtcblxuZXhwb3J0IHsgbm9IZWFkbGVzc0NsaWVudEVycm9yIGFzIGEsIGNyZWF0ZVN0eXRjaFNTUlByb3h5IGFzIGMsIGlzU3R5dGNoU1NSUHJveHkgYXMgaSwgbm9Qcm92aWRlckVycm9yIGFzIG4gfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/nextjs/dist/StytchSSRProxy-14916009.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/nextjs/dist/async-b1e10055.js":
/*!************************************************************!*\
  !*** ./node_modules/@stytch/nextjs/dist/async-b1e10055.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ invariant),\n/* harmony export */   m: () => (/* binding */ mergeWithStableProps),\n/* harmony export */   u: () => (/* binding */ useAsyncState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst createDeepEqual = ({ KEYS_TO_EXCLUDE = [] } = {}) => {\n    // If comparing functions, this may need some work. Not sure the\n    // best path for this: compare instance (what it currently does),\n    // stringify and compare, etc.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const deepEqual = (a, b) => {\n        // Ensures type is the same\n        if (typeof a !== typeof b)\n            return false;\n        // arrays, null, and objects all have type 'object'\n        if (a === null || b === null)\n            return a === b;\n        if (typeof a === 'object') {\n            if (Object.keys(a).length !== Object.keys(b).length || Object.keys(a).some((k) => !(k in b)))\n                return false;\n            return Object.entries(a)\n                .filter(([k]) => !KEYS_TO_EXCLUDE.includes(k))\n                .every(([k, v]) => deepEqual(v, b[k]));\n        }\n        // boolean, string, number, undefined\n        return a === b;\n    };\n    return deepEqual;\n};\n\nconst deepEqual = createDeepEqual();\n/**\n * Returns a version of `newValue` whose properties that are deeply equal to\n * those in `oldValue` are replaced with those from `oldValue`. This provides a\n * limited form of \"structural sharing\" that provides a stable reference for\n * unchanged slices of the object.\n *\n * If `oldValue` and `newValue` are referentially equal, the same value is\n * returned.\n *\n * @param oldValue The old value\n * @param newValue The new value\n */\nconst mergeWithStableProps = (oldValue, newValue) => {\n    // If the values are already referentially the same, just return the new value\n    if (oldValue === newValue) {\n        return newValue;\n    }\n    return Object.keys(oldValue).reduce((acc, key) => {\n        if (key in newValue && deepEqual(oldValue[key], newValue[key])) {\n            acc[key] = oldValue[key];\n        }\n        return acc;\n    }, Object.assign({}, newValue));\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction invariant(cond, message) {\n    if (!cond)\n        throw new Error(message);\n}\n\n// useState can cause memory leaks if it is set after the component unmounted. For example, if it is\n// set after `await`, or in a `then`, `catch`, or `finally`, or in a setTimout/setInterval.\nconst useAsyncState = (initialState) => {\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    const setStateAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((newState) => {\n        isMounted.current && setState(newState);\n    }, []);\n    return [state, setStateAction];\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9hc3luYy1iMWUxMDA1NS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRTs7QUFFakUsMkJBQTJCLHVCQUF1QixJQUFJO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0JBQWtCO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZDQUFNO0FBQzVCLDhCQUE4QiwrQ0FBUTtBQUN0QyxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRXlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtbC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9hc3luYy1iMWUxMDA1NS5qcz83ZjQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IGNyZWF0ZURlZXBFcXVhbCA9ICh7IEtFWVNfVE9fRVhDTFVERSA9IFtdIH0gPSB7fSkgPT4ge1xuICAgIC8vIElmIGNvbXBhcmluZyBmdW5jdGlvbnMsIHRoaXMgbWF5IG5lZWQgc29tZSB3b3JrLiBOb3Qgc3VyZSB0aGVcbiAgICAvLyBiZXN0IHBhdGggZm9yIHRoaXM6IGNvbXBhcmUgaW5zdGFuY2UgKHdoYXQgaXQgY3VycmVudGx5IGRvZXMpLFxuICAgIC8vIHN0cmluZ2lmeSBhbmQgY29tcGFyZSwgZXRjLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgZGVlcEVxdWFsID0gKGEsIGIpID0+IHtcbiAgICAgICAgLy8gRW5zdXJlcyB0eXBlIGlzIHRoZSBzYW1lXG4gICAgICAgIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIGFycmF5cywgbnVsbCwgYW5kIG9iamVjdHMgYWxsIGhhdmUgdHlwZSAnb2JqZWN0J1xuICAgICAgICBpZiAoYSA9PT0gbnVsbCB8fCBiID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhhKS5zb21lKChrKSA9PiAhKGsgaW4gYikpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhhKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtrXSkgPT4gIUtFWVNfVE9fRVhDTFVERS5pbmNsdWRlcyhrKSlcbiAgICAgICAgICAgICAgICAuZXZlcnkoKFtrLCB2XSkgPT4gZGVlcEVxdWFsKHYsIGJba10pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH07XG4gICAgcmV0dXJuIGRlZXBFcXVhbDtcbn07XG5cbmNvbnN0IGRlZXBFcXVhbCA9IGNyZWF0ZURlZXBFcXVhbCgpO1xuLyoqXG4gKiBSZXR1cm5zIGEgdmVyc2lvbiBvZiBgbmV3VmFsdWVgIHdob3NlIHByb3BlcnRpZXMgdGhhdCBhcmUgZGVlcGx5IGVxdWFsIHRvXG4gKiB0aG9zZSBpbiBgb2xkVmFsdWVgIGFyZSByZXBsYWNlZCB3aXRoIHRob3NlIGZyb20gYG9sZFZhbHVlYC4gVGhpcyBwcm92aWRlcyBhXG4gKiBsaW1pdGVkIGZvcm0gb2YgXCJzdHJ1Y3R1cmFsIHNoYXJpbmdcIiB0aGF0IHByb3ZpZGVzIGEgc3RhYmxlIHJlZmVyZW5jZSBmb3JcbiAqIHVuY2hhbmdlZCBzbGljZXMgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBJZiBgb2xkVmFsdWVgIGFuZCBgbmV3VmFsdWVgIGFyZSByZWZlcmVudGlhbGx5IGVxdWFsLCB0aGUgc2FtZSB2YWx1ZSBpc1xuICogcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIG9sZFZhbHVlIFRoZSBvbGQgdmFsdWVcbiAqIEBwYXJhbSBuZXdWYWx1ZSBUaGUgbmV3IHZhbHVlXG4gKi9cbmNvbnN0IG1lcmdlV2l0aFN0YWJsZVByb3BzID0gKG9sZFZhbHVlLCBuZXdWYWx1ZSkgPT4ge1xuICAgIC8vIElmIHRoZSB2YWx1ZXMgYXJlIGFscmVhZHkgcmVmZXJlbnRpYWxseSB0aGUgc2FtZSwganVzdCByZXR1cm4gdGhlIG5ldyB2YWx1ZVxuICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2xkVmFsdWUpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGtleSBpbiBuZXdWYWx1ZSAmJiBkZWVwRXF1YWwob2xkVmFsdWVba2V5XSwgbmV3VmFsdWVba2V5XSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gb2xkVmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIE9iamVjdC5hc3NpZ24oe30sIG5ld1ZhbHVlKSk7XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmQsIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cblxuLy8gdXNlU3RhdGUgY2FuIGNhdXNlIG1lbW9yeSBsZWFrcyBpZiBpdCBpcyBzZXQgYWZ0ZXIgdGhlIGNvbXBvbmVudCB1bm1vdW50ZWQuIEZvciBleGFtcGxlLCBpZiBpdCBpc1xuLy8gc2V0IGFmdGVyIGBhd2FpdGAsIG9yIGluIGEgYHRoZW5gLCBgY2F0Y2hgLCBvciBgZmluYWxseWAsIG9yIGluIGEgc2V0VGltb3V0L3NldEludGVydmFsLlxuY29uc3QgdXNlQXN5bmNTdGF0ZSA9IChpbml0aWFsU3RhdGUpID0+IHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYodHJ1ZSk7XG4gICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHNldFN0YXRlQWN0aW9uID0gdXNlQ2FsbGJhY2soKG5ld1N0YXRlKSA9PiB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmIHNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIFtzdGF0ZSwgc2V0U3RhdGVBY3Rpb25dO1xufTtcblxuZXhwb3J0IHsgaW52YXJpYW50IGFzIGksIG1lcmdlV2l0aFN0YWJsZVByb3BzIGFzIG0sIHVzZUFzeW5jU3RhdGUgYXMgdSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/nextjs/dist/async-b1e10055.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/nextjs/dist/b2b/index.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@stytch/nextjs/dist/b2b/index.esm.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StytchB2B: () => (/* binding */ StytchB2B),\n/* harmony export */   StytchB2BProvider: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.S),\n/* harmony export */   useStytchB2BClient: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   useStytchIsAuthorized: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   useStytchMember: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   useStytchMemberSession: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   useStytchOrganization: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   withStytchB2BClient: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   withStytchMember: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   withStytchMemberSession: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   withStytchOrganization: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   withStytchPermissions: () => (/* reexport safe */ _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.j)\n/* harmony export */ });\n/* harmony import */ var _StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../StytchB2BContext-162fadb4.js */ \"(ssr)/./node_modules/@stytch/nextjs/dist/StytchB2BContext-162fadb4.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../async-b1e10055.js */ \"(ssr)/./node_modules/@stytch/nextjs/dist/async-b1e10055.js\");\n/* harmony import */ var _StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../StytchSSRProxy-14916009.js */ \"(ssr)/./node_modules/@stytch/nextjs/dist/StytchSSRProxy-14916009.js\");\n\n\n\n\n\n\n/**\n * The Stytch B2B UI component.\n * This component can only be used with a {@link StytchB2BUIClient} client constructor\n * passed into the {@link StytchB2BProvider}\n *\n * See the {@link https://stytch.com/docs/b2b/sdks/javascript-sdk online reference}\n *\n * @example\n * <StytchB2B\n *   config={{\n *     authFlowType: \"Organization\",\n *     emailMagicLinksOptions: {\n *       loginRedirectURL: 'https://example.com/authenticate',\n *       signupRedirectURL: 'https://example.com/authenticate',\n *     },\n *     ssoOptions: {\n *       loginRedirectURL: 'https://example.com/authenticate',\n *       signupRedirectURL: 'https://example.com/authenticate',\n *     },\n *     sessionOptions: {\n *       sessionDurationMinutes: 60,\n *     }\n *   }}\n *   styles={{\n *     fontFamily: '\"Helvetica New\", Helvetica, sans-serif',\n *     primaryColor: '#0577CA',\n *     width: '321px',\n *   }}\n *   callbacks={{\n *     onEvent: (event) => console.log(event)\n *   }}\n * />\n * @param props {@link StytchB2BProps}\n */\nconst StytchB2B = ({ styles, callbacks, config }) => {\n    (0,_async_b1e10055_js__WEBPACK_IMPORTED_MODULE_2__.i)((0,_StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.u)(), (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_3__.n)('<StytchB2B />'));\n    const stytchClient = (0,_StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.a)();\n    const containerEl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        if (!(0,_StytchB2BContext_162fadb4_js__WEBPACK_IMPORTED_MODULE_0__.i)(stytchClient)) {\n            throw Error(_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_3__.a);\n        }\n        if (!containerEl.current) {\n            return;\n        }\n        if (!containerEl.current.id) {\n            const randId = Math.floor(Math.random() * 1e6);\n            containerEl.current.id = `stytch-b2b-ui-${randId}`;\n        }\n        stytchClient.mount({\n            callbacks,\n            config,\n            elementId: `#${containerEl.current.id}`,\n            styles,\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- SDK-1354\n    }, [stytchClient, styles, callbacks]);\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { ref: containerEl });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9iMmIvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdIO0FBQzZOO0FBQzlSO0FBQ0Q7QUFDMkM7O0FBRWpHO0FBQ0E7QUFDQSwyQ0FBMkMseUJBQXlCO0FBQ3BFLG9CQUFvQjtBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLHFCQUFxQiwyQkFBMkI7QUFDaEQsSUFBSSxxREFBUyxDQUFDLGdFQUFzQixJQUFJLDhEQUFlO0FBQ3ZELHlCQUF5QixnRUFBa0I7QUFDM0Msd0JBQXdCLDZDQUFNO0FBQzlCLElBQUksc0RBQWU7QUFDbkIsYUFBYSxnRUFBVTtBQUN2Qix3QkFBd0IsMERBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxPQUFPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVCQUF1QjtBQUNsRDtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxXQUFXLDBEQUFtQixVQUFVLGtCQUFrQjtBQUMxRDs7QUFFcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1sLWNsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3R5dGNoL25leHRqcy9kaXN0L2IyYi9pbmRleC5lc20uanM/OTM3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1IGFzIHVzZUlzTW91bnRlZF9fSU5URVJOQUwsIGEgYXMgdXNlU3R5dGNoQjJCQ2xpZW50LCBpIGFzIGlzVUlDbGllbnQgfSBmcm9tICcuLi9TdHl0Y2hCMkJDb250ZXh0LTE2MmZhZGI0LmpzJztcbmV4cG9ydCB7IFMgYXMgU3R5dGNoQjJCUHJvdmlkZXIsIGEgYXMgdXNlU3R5dGNoQjJCQ2xpZW50LCBkIGFzIHVzZVN0eXRjaElzQXV0aG9yaXplZCwgYyBhcyB1c2VTdHl0Y2hNZW1iZXIsIGIgYXMgdXNlU3R5dGNoTWVtYmVyU2Vzc2lvbiwgZSBhcyB1c2VTdHl0Y2hPcmdhbml6YXRpb24sIHcgYXMgd2l0aFN0eXRjaEIyQkNsaWVudCwgZyBhcyB3aXRoU3R5dGNoTWVtYmVyLCBmIGFzIHdpdGhTdHl0Y2hNZW1iZXJTZXNzaW9uLCBoIGFzIHdpdGhTdHl0Y2hPcmdhbml6YXRpb24sIGogYXMgd2l0aFN0eXRjaFBlcm1pc3Npb25zIH0gZnJvbSAnLi4vU3R5dGNoQjJCQ29udGV4dC0xNjJmYWRiNC5qcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpIGFzIGludmFyaWFudCB9IGZyb20gJy4uL2FzeW5jLWIxZTEwMDU1LmpzJztcbmltcG9ydCB7IGEgYXMgbm9IZWFkbGVzc0NsaWVudEVycm9yLCBuIGFzIG5vUHJvdmlkZXJFcnJvciB9IGZyb20gJy4uL1N0eXRjaFNTUlByb3h5LTE0OTE2MDA5LmpzJztcblxuLyoqXG4gKiBUaGUgU3R5dGNoIEIyQiBVSSBjb21wb25lbnQuXG4gKiBUaGlzIGNvbXBvbmVudCBjYW4gb25seSBiZSB1c2VkIHdpdGggYSB7QGxpbmsgU3R5dGNoQjJCVUlDbGllbnR9IGNsaWVudCBjb25zdHJ1Y3RvclxuICogcGFzc2VkIGludG8gdGhlIHtAbGluayBTdHl0Y2hCMkJQcm92aWRlcn1cbiAqXG4gKiBTZWUgdGhlIHtAbGluayBodHRwczovL3N0eXRjaC5jb20vZG9jcy9iMmIvc2Rrcy9qYXZhc2NyaXB0LXNkayBvbmxpbmUgcmVmZXJlbmNlfVxuICpcbiAqIEBleGFtcGxlXG4gKiA8U3R5dGNoQjJCXG4gKiAgIGNvbmZpZz17e1xuICogICAgIGF1dGhGbG93VHlwZTogXCJPcmdhbml6YXRpb25cIixcbiAqICAgICBlbWFpbE1hZ2ljTGlua3NPcHRpb25zOiB7XG4gKiAgICAgICBsb2dpblJlZGlyZWN0VVJMOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9hdXRoZW50aWNhdGUnLFxuICogICAgICAgc2lnbnVwUmVkaXJlY3RVUkw6ICdodHRwczovL2V4YW1wbGUuY29tL2F1dGhlbnRpY2F0ZScsXG4gKiAgICAgfSxcbiAqICAgICBzc29PcHRpb25zOiB7XG4gKiAgICAgICBsb2dpblJlZGlyZWN0VVJMOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9hdXRoZW50aWNhdGUnLFxuICogICAgICAgc2lnbnVwUmVkaXJlY3RVUkw6ICdodHRwczovL2V4YW1wbGUuY29tL2F1dGhlbnRpY2F0ZScsXG4gKiAgICAgfSxcbiAqICAgICBzZXNzaW9uT3B0aW9uczoge1xuICogICAgICAgc2Vzc2lvbkR1cmF0aW9uTWludXRlczogNjAsXG4gKiAgICAgfVxuICogICB9fVxuICogICBzdHlsZXM9e3tcbiAqICAgICBmb250RmFtaWx5OiAnXCJIZWx2ZXRpY2EgTmV3XCIsIEhlbHZldGljYSwgc2Fucy1zZXJpZicsXG4gKiAgICAgcHJpbWFyeUNvbG9yOiAnIzA1NzdDQScsXG4gKiAgICAgd2lkdGg6ICczMjFweCcsXG4gKiAgIH19XG4gKiAgIGNhbGxiYWNrcz17e1xuICogICAgIG9uRXZlbnQ6IChldmVudCkgPT4gY29uc29sZS5sb2coZXZlbnQpXG4gKiAgIH19XG4gKiAvPlxuICogQHBhcmFtIHByb3BzIHtAbGluayBTdHl0Y2hCMkJQcm9wc31cbiAqL1xuY29uc3QgU3R5dGNoQjJCID0gKHsgc3R5bGVzLCBjYWxsYmFja3MsIGNvbmZpZyB9KSA9PiB7XG4gICAgaW52YXJpYW50KHVzZUlzTW91bnRlZF9fSU5URVJOQUwoKSwgbm9Qcm92aWRlckVycm9yKCc8U3R5dGNoQjJCIC8+JykpO1xuICAgIGNvbnN0IHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaEIyQkNsaWVudCgpO1xuICAgIGNvbnN0IGNvbnRhaW5lckVsID0gdXNlUmVmKG51bGwpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNVSUNsaWVudChzdHl0Y2hDbGllbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihub0hlYWRsZXNzQ2xpZW50RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGFpbmVyRWwuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGFpbmVyRWwuY3VycmVudC5pZCkge1xuICAgICAgICAgICAgY29uc3QgcmFuZElkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU2KTtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsLmN1cnJlbnQuaWQgPSBgc3R5dGNoLWIyYi11aS0ke3JhbmRJZH1gO1xuICAgICAgICB9XG4gICAgICAgIHN0eXRjaENsaWVudC5tb3VudCh7XG4gICAgICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBlbGVtZW50SWQ6IGAjJHtjb250YWluZXJFbC5jdXJyZW50LmlkfWAsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzIC0tIFNESy0xMzU0XG4gICAgfSwgW3N0eXRjaENsaWVudCwgc3R5bGVzLCBjYWxsYmFja3NdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyRWwgfSk7XG59O1xuXG5leHBvcnQgeyBTdHl0Y2hCMkIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/nextjs/dist/b2b/index.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/nextjs/dist/b2b/index.ui.esm.js":
/*!**************************************************************!*\
  !*** ./node_modules/@stytch/nextjs/dist/b2b/index.ui.esm.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStytchB2BUIClient: () => (/* binding */ createStytchB2BUIClient)\n/* harmony export */ });\n/* harmony import */ var _stytch_vanilla_js_b2b__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stytch/vanilla-js/b2b */ \"(ssr)/./node_modules/@stytch/vanilla-js/dist/b2b/index.esm.js\");\n/* harmony import */ var _StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../StytchSSRProxy-14916009.js */ \"(ssr)/./node_modules/@stytch/nextjs/dist/StytchSSRProxy-14916009.js\");\n\n\n\n/**\n * Creates a Stytch UI client object to call the Stytch APIs and render Stytch UI components.\n * The Stytch client is not available serverside.\n * If you do not use Stytch UI components, use {@link createStytchB2BHeadlessClient} to reduce your bundle size.\n * @example\n * const stytch = createStytchB2BUIClient('public-token-<find yours in the stytch dashboard>')\n *\n * return (\n *   <StytchB2BProvider stytch={stytch}>\n *     <App />\n *   </StytchB2BProvider>\n * )\n * @returns A {@link StytchB2BUIClient}\n */\nconst createStytchB2BUIClient = (...args) => {\n    if (typeof window === 'undefined') {\n        return (0,_StytchSSRProxy_14916009_js__WEBPACK_IMPORTED_MODULE_1__.c)();\n    }\n    return new _stytch_vanilla_js_b2b__WEBPACK_IMPORTED_MODULE_0__.StytchB2BUIClient(...args);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9iMmIvaW5kZXgudWkuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyRDtBQUNlOztBQUUxRTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QscUNBQXFDO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGVBQWUsOERBQW9CO0FBQ25DO0FBQ0EsZUFBZSxxRUFBaUI7QUFDaEM7O0FBRW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtbC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC9uZXh0anMvZGlzdC9iMmIvaW5kZXgudWkuZXNtLmpzP2I5OTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3R5dGNoQjJCVUlDbGllbnQgfSBmcm9tICdAc3R5dGNoL3ZhbmlsbGEtanMvYjJiJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlU3R5dGNoU1NSUHJveHkgfSBmcm9tICcuLi9TdHl0Y2hTU1JQcm94eS0xNDkxNjAwOS5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIFN0eXRjaCBVSSBjbGllbnQgb2JqZWN0IHRvIGNhbGwgdGhlIFN0eXRjaCBBUElzIGFuZCByZW5kZXIgU3R5dGNoIFVJIGNvbXBvbmVudHMuXG4gKiBUaGUgU3R5dGNoIGNsaWVudCBpcyBub3QgYXZhaWxhYmxlIHNlcnZlcnNpZGUuXG4gKiBJZiB5b3UgZG8gbm90IHVzZSBTdHl0Y2ggVUkgY29tcG9uZW50cywgdXNlIHtAbGluayBjcmVhdGVTdHl0Y2hCMkJIZWFkbGVzc0NsaWVudH0gdG8gcmVkdWNlIHlvdXIgYnVuZGxlIHNpemUuXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc3R5dGNoID0gY3JlYXRlU3R5dGNoQjJCVUlDbGllbnQoJ3B1YmxpYy10b2tlbi08ZmluZCB5b3VycyBpbiB0aGUgc3R5dGNoIGRhc2hib2FyZD4nKVxuICpcbiAqIHJldHVybiAoXG4gKiAgIDxTdHl0Y2hCMkJQcm92aWRlciBzdHl0Y2g9e3N0eXRjaH0+XG4gKiAgICAgPEFwcCAvPlxuICogICA8L1N0eXRjaEIyQlByb3ZpZGVyPlxuICogKVxuICogQHJldHVybnMgQSB7QGxpbmsgU3R5dGNoQjJCVUlDbGllbnR9XG4gKi9cbmNvbnN0IGNyZWF0ZVN0eXRjaEIyQlVJQ2xpZW50ID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVN0eXRjaFNTUlByb3h5KCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3R5dGNoQjJCVUlDbGllbnQoLi4uYXJncyk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVTdHl0Y2hCMkJVSUNsaWVudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/nextjs/dist/b2b/index.ui.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/vanilla-js/dist/b2b/index.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stytch/vanilla-js/dist/b2b/index.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthFlowType: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A),\n/* harmony export */   B2BMFAProducts: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B),\n/* harmony export */   B2BOAuthProviders: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d),\n/* harmony export */   B2BProducts: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a),\n/* harmony export */   BiometricsFailedError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.h),\n/* harmony export */   BiometricsUnavailableError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.j),\n/* harmony export */   ChallengeSigningFailedError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.k),\n/* harmony export */   DeviceCredentialsNotAllowedError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.m),\n/* harmony export */   FailedCodeChallengeError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.F),\n/* harmony export */   FailedToDecryptDataError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.n),\n/* harmony export */   InternalError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.I),\n/* harmony export */   InvalidAuthorizationCredentialError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.o),\n/* harmony export */   InvalidCredentialTypeError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.p),\n/* harmony export */   InvalidRedirectSchemeError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.q),\n/* harmony export */   InvalidStartUrlError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.s),\n/* harmony export */   JSONDataNotConvertibleToStringError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.J),\n/* harmony export */   KeyInvalidatedError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.K),\n/* harmony export */   KeystoreUnavailableError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.t),\n/* harmony export */   MissingAttestationObjectError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.M),\n/* harmony export */   MissingAuthorizationCredentialIDTokenError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.u),\n/* harmony export */   MissingGoogleClientIDError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.v),\n/* harmony export */   MissingPKCEError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.w),\n/* harmony export */   MissingPublicKeyError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.x),\n/* harmony export */   MissingUrlError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.y),\n/* harmony export */   NoBiometricsEnrolledError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.N),\n/* harmony export */   NoBiometricsRegistrationError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.z),\n/* harmony export */   NoCredentialsPresentError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.E),\n/* harmony export */   NoCurrentSessionError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.G),\n/* harmony export */   OAuthProviders: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.O),\n/* harmony export */   OTPMethods: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.b),\n/* harmony export */   OneTapPositions: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.e),\n/* harmony export */   PasskeysInvalidEncoding: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.H),\n/* harmony export */   PasskeysMisconfigured: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.L),\n/* harmony export */   PasskeysUnsupportedError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.Q),\n/* harmony export */   Products: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.P),\n/* harmony export */   RNUIProducts: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.R),\n/* harmony export */   RandomNumberGenerationFailed: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.T),\n/* harmony export */   SDKAPIUnreachableError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.U),\n/* harmony export */   SDKNotConfiguredError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.V),\n/* harmony export */   SignInWithAppleMisconfigured: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.X),\n/* harmony export */   StytchAPIError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.c),\n/* harmony export */   StytchAPISchemaError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.Y),\n/* harmony export */   StytchAPIUnreachableError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.Z),\n/* harmony export */   StytchB2BUIClient: () => (/* binding */ StytchB2BUIClient),\n/* harmony export */   StytchError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.$),\n/* harmony export */   StytchEventType: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S),\n/* harmony export */   StytchSDKAPIError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a0),\n/* harmony export */   StytchSDKError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.f),\n/* harmony export */   StytchSDKSchemaError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a1),\n/* harmony export */   StytchSDKUsageError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a2),\n/* harmony export */   UNRECOVERABLE_ERROR_TYPES: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a3),\n/* harmony export */   UserCancellationError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a4),\n/* harmony export */   UserLockedOutError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a5),\n/* harmony export */   Wallets: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.W),\n/* harmony export */   errorToStytchError: () => (/* reexport safe */ _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a6)\n/* harmony export */ });\n/* harmony import */ var _index_headless_CNM_XbTm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index.headless-CNM-XbTm.js */ \"(ssr)/./node_modules/@stytch/vanilla-js/dist/index.headless-CNM-XbTm.js\");\n/* harmony import */ var _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../extractErrorMessage-jipS2nNN.js */ \"(ssr)/./node_modules/@stytch/vanilla-js/dist/extractErrorMessage-jipS2nNN.js\");\n/* harmony import */ var _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal-D5OqLsPs.js */ \"(ssr)/./node_modules/@stytch/vanilla-js/dist/internal-D5OqLsPs.js\");\nvar _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27, _templateObject28, _templateObject29, _templateObject30, _templateObject31, _templateObject32, _templateObject33, _templateObject34, _templateObject35, _templateObject36, _templateObject37, _templateObject38, _templateObject39, _templateObject40, _templateObject41, _templateObject42, _templateObject43, _templateObject44, _templateObject45, _templateObject46, _templateObject47, _templateObject48, _templateObject49, _templateObject50, _templateObject51, _templateObject52, _templateObject53, _templateObject54, _templateObject55, _templateObject56, _templateObject57;\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n\n\n\n\nvar DEFAULT_MFA_STATE = {\n  primaryInfo: null,\n  isEnrolling: false,\n  smsOtp: {\n    isSending: false,\n    sendError: null,\n    codeExpiration: null,\n    formattedDestination: null,\n    enrolledNumber: null\n  },\n  totp: {\n    isCreating: false,\n    createError: null,\n    enrollment: null\n  }\n};\nvar getEnabledMethods = function getEnabledMethods(_ref3) {\n  var allMethods = _ref3.allMethods,\n    orgSupportedMethods = _ref3.orgSupportedMethods,\n    uiIncludedMethods = _ref3.uiIncludedMethods;\n  if (orgSupportedMethods === null || orgSupportedMethods === void 0 ? void 0 : orgSupportedMethods.length) {\n    return new Set(orgSupportedMethods);\n  }\n  var methodsArr = (uiIncludedMethods === null || uiIncludedMethods === void 0 ? void 0 : uiIncludedMethods.length) ? uiIncludedMethods : allMethods;\n  return new Set(methodsArr);\n};\nvar DEFAULT_SMS_OTP_EXPIRATION_MS = 1000 * 60 * 2;\nfunction apiMfaMethodToProduct(method) {\n  switch (method) {\n    case 'totp':\n      return _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp;\n    case 'sms_otp':\n      return _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp;\n    default:\n      return undefined;\n  }\n}\nvar getSmsOtpCodeExpiration = function getSmsOtpCodeExpiration() {\n  return new Date(Date.now() + DEFAULT_SMS_OTP_EXPIRATION_MS);\n};\nvar B2B_MFA_METHODS = [_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp, _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp];\nvar mfaReducer = function mfaReducer(state, action) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n  switch (action.type) {\n    case 'primary_authenticate_success':\n      {\n        var memberAuthenticated = !!action.response.member_session;\n        var postAuthScreen = action.resetTokenType === 'multi_tenant_magic_links' ? AppScreens$1.PasswordResetForm : AppScreens$1.LoggedIn;\n        if (memberAuthenticated) {\n          return Object.assign(Object.assign({}, state), {\n            mfa: DEFAULT_MFA_STATE,\n            screen: postAuthScreen\n          });\n        }\n        var memberEnrolledInSmsOtp = action.response.member.mfa_phone_number_verified;\n        var memberEnrolledInTotp = !!action.response.member.totp_registration_id;\n        var primaryInfo = {\n          enrolledMfaMethods: [memberEnrolledInTotp && _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp, memberEnrolledInSmsOtp && _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp].filter(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.i),\n          memberId: action.response.member_id,\n          memberPhoneNumber: action.response.member.mfa_phone_number,\n          organizationId: action.response.organization.organization_id,\n          organizationMfaOptionsSupported: action.response.organization.mfa_methods === 'RESTRICTED' && action.response.organization.allowed_mfa_methods ? (_a = action.response.organization.allowed_mfa_methods) === null || _a === void 0 ? void 0 : _a.map(apiMfaMethodToProduct).filter(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.i) : [],\n          postAuthScreen: postAuthScreen\n        };\n        var organizationSupportsMethod = function organizationSupportsMethod(method) {\n          return primaryInfo.organizationMfaOptionsSupported.length === 0 || primaryInfo.organizationMfaOptionsSupported.includes(method);\n        };\n        var getDefaultMethod = function getDefaultMethod() {\n          var defaultMethod = apiMfaMethodToProduct(action.response.member.default_mfa_method);\n          if (defaultMethod && organizationSupportsMethod(defaultMethod) && primaryInfo.enrolledMfaMethods.includes(defaultMethod)) {\n            return defaultMethod;\n          }\n          return undefined;\n        };\n        var smsImplicitlySent = ((_b = action.response.mfa_required) === null || _b === void 0 ? void 0 : _b.secondary_auth_initiated) === 'sms_otp';\n        var entryMethod = smsImplicitlySent ? _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp : (_c = getDefaultMethod()) !== null && _c !== void 0 ? _c : primaryInfo.enrolledMfaMethods.find(organizationSupportsMethod);\n        if (entryMethod) {\n          var mfaState = Object.assign(Object.assign({}, DEFAULT_MFA_STATE), {\n            primaryInfo: primaryInfo\n          });\n          switch (entryMethod) {\n            case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp:\n              {\n                return Object.assign(Object.assign({}, state), {\n                  mfa: Object.assign(Object.assign({}, mfaState), {\n                    smsOtp: Object.assign(Object.assign({}, DEFAULT_MFA_STATE.smsOtp), {\n                      codeExpiration: smsImplicitlySent ? getSmsOtpCodeExpiration() : null\n                    })\n                  }),\n                  screen: AppScreens$1.SMSOTPEntry\n                });\n              }\n            case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp:\n              return Object.assign(Object.assign({}, state), {\n                mfa: mfaState,\n                screen: AppScreens$1.TOTPEntry\n              });\n          }\n        }\n        var enabledMethods = getEnabledMethods({\n          allMethods: B2B_MFA_METHODS,\n          orgSupportedMethods: primaryInfo.organizationMfaOptionsSupported,\n          uiIncludedMethods: action.includedMfaMethods\n        });\n        var getNextEnrollmentScreen = function getNextEnrollmentScreen() {\n          if (enabledMethods.size === 1) {\n            if (enabledMethods.has(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp)) {\n              return AppScreens$1.TOTPEnrollmentQRCode;\n            }\n            if (enabledMethods.has(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp)) {\n              return AppScreens$1.SMSOTPEnrollment;\n            }\n          }\n          return AppScreens$1.MFAEnrollmentSelection;\n        };\n        return Object.assign(Object.assign({}, state), {\n          mfa: Object.assign(Object.assign({}, DEFAULT_MFA_STATE), {\n            primaryInfo: primaryInfo,\n            isEnrolling: true\n          }),\n          screen: getNextEnrollmentScreen()\n        });\n      }\n    case 'mfa/start_enrollment':\n      {\n        var screen = action.method === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp ? AppScreens$1.SMSOTPEnrollment : AppScreens$1.TOTPEnrollmentQRCode;\n        return Object.assign(Object.assign({}, state), {\n          screen: screen\n        });\n      }\n    case 'sms_otp/authenticate_success':\n      return Object.assign(Object.assign({}, state), {\n        mfa: DEFAULT_MFA_STATE,\n        screen: (_e = (_d = state.mfa.primaryInfo) === null || _d === void 0 ? void 0 : _d.postAuthScreen) !== null && _e !== void 0 ? _e : AppScreens$1.LoggedIn\n      });\n    case 'sms_otp/send':\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          smsOtp: Object.assign(Object.assign({}, state.mfa.smsOtp), {\n            isSending: true,\n            sendError: null\n          })\n        })\n      });\n    case 'sms_otp/send_success':\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          smsOtp: Object.assign(Object.assign({}, state.mfa.smsOtp), {\n            isSending: false,\n            sendError: null,\n            codeExpiration: getSmsOtpCodeExpiration(),\n            formattedDestination: (_f = action.formattedPhoneNumber) !== null && _f !== void 0 ? _f : state.mfa.smsOtp.formattedDestination,\n            enrolledNumber: action.phoneNumber ? {\n              phoneNumber: action.phoneNumber,\n              countryCode: action.countryCode\n            } : null\n          })\n        }),\n        screen: AppScreens$1.SMSOTPEntry\n      });\n    case 'sms_otp/send_error':\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          smsOtp: Object.assign(Object.assign({}, state.mfa.smsOtp), {\n            isSending: false,\n            sendError: action.error,\n            codeExpiration: (_g = state.mfa.smsOtp.codeExpiration) !== null && _g !== void 0 ? _g : new Date(Date.now() - 1000)\n          })\n        })\n      });\n    case 'sms_otp/format_destination':\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          smsOtp: Object.assign(Object.assign({}, state.mfa.smsOtp), {\n            formattedDestination: action.formattedPhoneNumber\n          })\n        })\n      });\n    case 'sms_otp/navigate_to_entry':\n      return Object.assign(Object.assign({}, state), {\n        screen: AppScreens$1.SMSOTPEntry\n      });\n    case 'recovery_code/authenticate_success':\n      return Object.assign(Object.assign({}, state), {\n        mfa: DEFAULT_MFA_STATE,\n        screen: (_j = (_h = state.mfa.primaryInfo) === null || _h === void 0 ? void 0 : _h.postAuthScreen) !== null && _j !== void 0 ? _j : AppScreens$1.LoggedIn\n      });\n    case 'recovery_code/navigate_to_entry':\n      return Object.assign(Object.assign({}, state), {\n        screen: AppScreens$1.RecoveryCodeEntry\n      });\n    case 'recovery_code/save_acknowledge':\n      return Object.assign(Object.assign({}, state), {\n        mfa: DEFAULT_MFA_STATE,\n        screen: (_l = (_k = state.mfa.primaryInfo) === null || _k === void 0 ? void 0 : _k.postAuthScreen) !== null && _l !== void 0 ? _l : AppScreens$1.LoggedIn\n      });\n    case 'totp/authenticate_success':\n      return Object.assign(Object.assign({}, state), {\n        mfa: state.mfa.isEnrolling ? state.mfa : DEFAULT_MFA_STATE,\n        screen: state.mfa.isEnrolling ? AppScreens$1.RecoveryCodeSave : (_o = (_m = state.mfa.primaryInfo) === null || _m === void 0 ? void 0 : _m.postAuthScreen) !== null && _o !== void 0 ? _o : AppScreens$1.LoggedIn\n      });\n    case 'totp/create':\n      if (state.mfa.totp.isCreating) {\n        return state;\n      }\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          totp: Object.assign(Object.assign({}, state.mfa.totp), {\n            isCreating: true,\n            createError: null\n          })\n        })\n      });\n    case 'totp/create_success':\n      if (!state.mfa.isEnrolling || ((_p = state.mfa.primaryInfo) === null || _p === void 0 ? void 0 : _p.memberId) !== action.memberId || ((_q = state.mfa.primaryInfo) === null || _q === void 0 ? void 0 : _q.organizationId) !== action.organizationId) {\n        return state;\n      }\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          totp: Object.assign(Object.assign({}, state.mfa.totp), {\n            createError: null,\n            isCreating: false,\n            enrollment: {\n              secret: action.response.secret,\n              qrCode: action.response.qr_code,\n              recoveryCodes: action.response.recovery_codes,\n              method: (_s = (_r = state.mfa.totp.enrollment) === null || _r === void 0 ? void 0 : _r.method) !== null && _s !== void 0 ? _s : 'qr'\n            }\n          })\n        })\n      });\n    case 'totp/create_error':\n      return Object.assign(Object.assign({}, state), {\n        mfa: Object.assign(Object.assign({}, state.mfa), {\n          totp: Object.assign(Object.assign({}, state.mfa.totp), {\n            isCreating: false,\n            createError: action.error\n          })\n        })\n      });\n    case 'totp/navigate_to_entry':\n      return Object.assign(Object.assign({}, state), {\n        screen: AppScreens$1.TOTPEntry\n      });\n    case 'totp/show_code':\n      {\n        if (!state.mfa.isEnrolling || !state.mfa.totp.enrollment) {\n          return state;\n        }\n        var method = (_u = (_t = action.method) !== null && _t !== void 0 ? _t : state.mfa.totp.enrollment.method) !== null && _u !== void 0 ? _u : 'qr';\n        return Object.assign(Object.assign({}, state), {\n          mfa: Object.assign(Object.assign({}, state.mfa), {\n            totp: Object.assign(Object.assign({}, state.mfa.totp), {\n              enrollment: Object.assign(Object.assign({}, state.mfa.totp.enrollment), {\n                method: method\n              })\n            })\n          }),\n          screen: method === 'manual' ? AppScreens$1.TOTPEnrollmentManual : AppScreens$1.TOTPEnrollmentQRCode\n        });\n      }\n    default:\n      return state;\n  }\n};\nvar reducer$1 = function reducer$1(state, action) {\n  switch (action.type) {\n    case 'transition':\n      return Object.assign(Object.assign({}, state), {\n        screen: action.screen\n      });\n    case 'set_error_message_and_transition':\n      return Object.assign(Object.assign({}, state), {\n        screen: AppScreens$1.Error,\n        errorType: action.errorType\n      });\n    case 'set_magic_link_email':\n      {\n        return Object.assign(Object.assign({}, state), {\n          formState: Object.assign(Object.assign({}, state.formState), {\n            magicLinkState: {\n              email: action.email\n            }\n          })\n        });\n      }\n    case 'set_organization':\n      {\n        return Object.assign(Object.assign({}, state), {\n          flowState: {\n            type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization,\n            organization: action.organization\n          }\n        });\n      }\n    case 'set_discovery_state':\n      {\n        return Object.assign(Object.assign({}, state), {\n          formState: Object.assign(Object.assign({}, state.formState), {\n            discoveryState: {\n              email: action.email,\n              discoveredOrganizations: action.discoveredOrganizations,\n              intermediateSessionToken: action.intermediateSessionToken\n            }\n          })\n        });\n      }\n    case 'set_password_state':\n      {\n        return Object.assign(Object.assign({}, state), {\n          formState: Object.assign(Object.assign({}, state.formState), {\n            passwordState: {\n              email: action.email\n            }\n          })\n        });\n      }\n    default:\n      return mfaReducer(state, action);\n  }\n};\nvar AppScreens$1;\n(function (AppScreens) {\n  AppScreens[\"Main\"] = \"Main\";\n  AppScreens[\"EmailConfirmation\"] = \"Email Confirmation\";\n  AppScreens[\"LoggedIn\"] = \"Logged In\";\n  AppScreens[\"Discovery\"] = \"Discovery\";\n  AppScreens[\"Error\"] = \"Error\";\n  AppScreens[\"PasswordEmailForm\"] = \"Password Email\";\n  AppScreens[\"PasswordAuthenticate\"] = \"Password Authenticate\";\n  AppScreens[\"PasswordResetForm\"] = \"Password Reset Form\";\n  AppScreens[\"PasswordResetVerifyConfirmation\"] = \"Password Reset Verify Confirmation\";\n  AppScreens[\"PasswordForgotForm\"] = \"Password Forgot Form\";\n  AppScreens[\"PasswordSetNewConfirmation\"] = \"Password Set New Confirmation\";\n  AppScreens[\"MFAEnrollmentSelection\"] = \"MFA Enrollment Selection\";\n  AppScreens[\"RecoveryCodeEntry\"] = \"Recovery Code Entry\";\n  AppScreens[\"RecoveryCodeSave\"] = \"Recovery Code Save\";\n  AppScreens[\"SMSOTPEnrollment\"] = \"SMS OTP Enrollment\";\n  AppScreens[\"SMSOTPEntry\"] = \"SMS OTP Entry\";\n  AppScreens[\"TOTPEnrollmentManual\"] = \"TOTP Enrollment Manual\";\n  AppScreens[\"TOTPEnrollmentQRCode\"] = \"TOTP Enrollment QR Code\";\n  AppScreens[\"TOTPEntry\"] = \"TOTP Entry\";\n})(AppScreens$1 || (AppScreens$1 = {}));\nvar ErrorType;\n(function (ErrorType) {\n  ErrorType[ErrorType[\"Default\"] = 0] = \"Default\";\n  ErrorType[ErrorType[\"EmailMagicLink\"] = 1] = \"EmailMagicLink\";\n  ErrorType[ErrorType[\"Organization\"] = 2] = \"Organization\";\n})(ErrorType || (ErrorType = {}));\nvar DEFAULT_STATE = {\n  screen: AppScreens$1.Main,\n  formState: {\n    magicLinkState: {\n      email: ''\n    },\n    discoveryState: {\n      email: '',\n      intermediateSessionToken: '',\n      discoveredOrganizations: []\n    },\n    passwordState: {\n      email: ''\n    }\n  },\n  flowState: {\n    type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization,\n    organization: null\n  },\n  mfa: DEFAULT_MFA_STATE,\n  errorType: ErrorType.Default\n};\nvar DEFAULT_CONFIG = {\n  products: [_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.emailMagicLinks],\n  authFlowType: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization,\n  sessionOptions: {\n    sessionDurationMinutes: 60\n  }\n};\nvar GlobalContext = /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createContext({\n  client: {},\n  config: DEFAULT_CONFIG,\n  state: [DEFAULT_STATE, function () {\n    return null;\n  }]\n});\nvar GlobalContextProvider = function GlobalContextProvider(_ref4) {\n  var children = _ref4.children,\n    client = _ref4.client,\n    config = _ref4.config,\n    callbacks = _ref4.callbacks,\n    initialState = _ref4.initialState;\n  var state = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.useReducer(reducer$1, initialState !== null && initialState !== void 0 ? initialState : DEFAULT_STATE);\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GlobalContext.Provider, {\n    value: {\n      client: client,\n      state: state,\n      config: config,\n      callbacks: callbacks\n    }\n  }, children);\n};\nvar useGlobalContext = function useGlobalContext() {\n  return (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.q)(GlobalContext);\n};\nvar useStytch = function useStytch() {\n  return useGlobalContext().client;\n};\nvar useGlobalReducer = function useGlobalReducer() {\n  return useGlobalContext().state;\n};\nvar useConfig = function useConfig() {\n  return useGlobalContext().config;\n};\nvar useErrorCallback = function useErrorCallback() {\n  var _a, _b;\n  return (_b = (_a = useGlobalContext().callbacks) === null || _a === void 0 ? void 0 : _a.onError) !== null && _b !== void 0 ? _b : function () {\n    return void 0;\n  };\n};\nvar useEventCallback = function useEventCallback() {\n  var _a, _b;\n  return (_b = (_a = useGlobalContext().callbacks) === null || _a === void 0 ? void 0 : _a.onEvent) !== null && _b !== void 0 ? _b : function () {\n    return void 0;\n  };\n};\nvar AppScreens;\n(function (AppScreens) {\n  AppScreens[\"Main\"] = \"Main\";\n  AppScreens[\"PasskeyRegistrationStart\"] = \"Register New Passkey\";\n  AppScreens[\"PasskeyRegistrationSuccess\"] = \"Passkey Registration Success\";\n  AppScreens[\"PasskeyConfirmation\"] = \"Passkey Confirmation\";\n  AppScreens[\"PasswordCreateOrLogin\"] = \"Password\";\n  AppScreens[\"PasswordResetForm\"] = \"Password Reset Form\";\n  AppScreens[\"PasswordForgot\"] = \"Password Forgot\";\n  AppScreens[\"PasswordBreached\"] = \"Password Breached\";\n  AppScreens[\"PasswordSetNew\"] = \"Password Set New\";\n  AppScreens[\"PasswordDedupe\"] = \"Password Dedupe\";\n  AppScreens[\"PasswordConfirmation\"] = \"Password Confirmation\";\n  AppScreens[\"EmailConfirmation\"] = \"Email Confirmation\";\n  AppScreens[\"OTPAuthenticate\"] = \"OTP Authenticate\";\n  AppScreens[\"OTPConfirmation\"] = \"OTP Confirmation\";\n  AppScreens[\"CryptoConnect\"] = \"Crypto Connect\";\n  AppScreens[\"CryptoSignMessage\"] = \"Crypto Sign Message\";\n  AppScreens[\"CryptoOtherScreen\"] = \"Crypto Other Screen\";\n  AppScreens[\"CryptoSetupWallet\"] = \"Crypto Setup Wallet\";\n  AppScreens[\"CryptoError\"] = \"Crypto Error\";\n  AppScreens[\"CryptoConfirmation\"] = \"Crypto Confirmation\";\n})(AppScreens || (AppScreens = {}));\n({\n  screen: AppScreens.Main,\n  formState: {\n    magicLinkState: {\n      email: ''\n    },\n    otpState: {\n      type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.b.Email,\n      methodId: '',\n      otpDestination: ''\n    },\n    cryptoState: {\n      walletAddress: '',\n      walletOption: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.W.Metamask,\n      walletChallenge: ''\n    },\n    passwordState: {\n      email: '',\n      type: 'new'\n    },\n    resetPasswordState: {\n      token: ''\n    },\n    errorMessage: ''\n  }\n});\n({\n  products: [_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.P.emailMagicLinks],\n  emailMagicLinksOptions: {\n    loginRedirectURL: '',\n    loginExpirationMinutes: 30,\n    signupRedirectURL: '',\n    signupExpirationMinutes: 30,\n    createUserAsPending: false\n  }\n});\nvar DEFAULT_STYLE_CONFIG = {\n  container: {\n    backgroundColor: '#FFFFFF',\n    borderColor: '#ADBCC5',\n    borderRadius: '8px',\n    width: '400px'\n  },\n  colors: {\n    primary: '#19303D',\n    secondary: '#5C727D',\n    success: '#0C5A56',\n    error: '#8B1214'\n  },\n  buttons: {\n    primary: {\n      backgroundColor: '#19303D',\n      textColor: '#FFFFFF',\n      borderColor: '#19303D',\n      borderRadius: '4px'\n    },\n    secondary: {\n      backgroundColor: '#FFFFFF',\n      textColor: '#19303D',\n      borderColor: '#19303D',\n      borderRadius: '4px'\n    }\n  },\n  fontFamily: 'Arial, Helvetica, sans-serif',\n  hideHeaderText: false,\n  logo: {\n    logoImageUrl: ''\n  }\n};\nvar defaultDisabledTextColor = '#8296A1';\nvar createTheme = function createTheme(styles) {\n  var displayWatermark = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  var styleConfig = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.m)({}, DEFAULT_STYLE_CONFIG, styles);\n  return {\n    typography: {\n      fontFamily: styleConfig.fontFamily,\n      header: {\n        fontFamily: styleConfig.fontFamily,\n        fontSize: 24,\n        fontWeight: 600,\n        lineHeight: '30px'\n      },\n      body: {\n        fontFamily: styleConfig.fontFamily,\n        fontSize: 16,\n        fontWeight: 'normal',\n        lineHeight: '21px'\n      },\n      helper: {\n        fontFamily: styleConfig.fontFamily,\n        fontSize: 14,\n        fontWeight: '400',\n        lineHeight: '20px',\n        whiteSpace: 'pre-wrap'\n      }\n    },\n    colors: {\n      primary: styleConfig.colors.primary,\n      secondary: styleConfig.colors.secondary,\n      success: styleConfig.colors.success,\n      error: styleConfig.colors.error,\n      disabled: '#F3F5F6',\n      disabledText: defaultDisabledTextColor\n    },\n    container: {\n      width: styleConfig.container.width,\n      border: \"1px solid \".concat(styleConfig.container.borderColor),\n      borderRadius: styleConfig.container.borderRadius,\n      backgroundColor: styleConfig.container.backgroundColor\n    },\n    buttons: {\n      primary: {\n        backgroundColor: styleConfig.buttons.primary.backgroundColor,\n        textColor: styleConfig.buttons.primary.textColor,\n        border: \"1px solid \".concat(styleConfig.buttons.primary.borderColor),\n        borderRadius: styleConfig.buttons.primary.borderRadius\n      },\n      secondary: {\n        backgroundColor: styleConfig.buttons.secondary.backgroundColor,\n        textColor: styleConfig.buttons.secondary.textColor,\n        border: \"1px solid \".concat(styleConfig.buttons.secondary.borderColor),\n        borderRadius: styleConfig.buttons.secondary.borderRadius\n      }\n    },\n    inputs: {\n      backgroundColor: (_b = (_a = styleConfig.inputs) === null || _a === void 0 ? void 0 : _a.backgroundColor) !== null && _b !== void 0 ? _b : 'transparent',\n      textColor: (_d = (_c = styleConfig.inputs) === null || _c === void 0 ? void 0 : _c.textColor) !== null && _d !== void 0 ? _d : styleConfig.colors.primary,\n      borderColor: (_f = (_e = styleConfig.inputs) === null || _e === void 0 ? void 0 : _e.borderColor) !== null && _f !== void 0 ? _f : styleConfig.colors.primary,\n      borderRadius: (_h = (_g = styleConfig.inputs) === null || _g === void 0 ? void 0 : _g.borderRadius) !== null && _h !== void 0 ? _h : '4px',\n      placeholderColor: (_k = (_j = styleConfig.inputs) === null || _j === void 0 ? void 0 : _j.placeholderColor) !== null && _k !== void 0 ? _k : defaultDisabledTextColor\n    },\n    displayHeader: !styleConfig.hideHeaderText,\n    displayWatermark: displayWatermark,\n    logo: {\n      logoImageUrl: styleConfig.logo.logoImageUrl\n    }\n  };\n};\nvar useTheme = function useTheme(_ref5) {\n  var styles = _ref5.styles,\n    displayWatermark = _ref5.displayWatermark;\n  return (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return createTheme(styles, displayWatermark);\n  }, [styles, displayWatermark]);\n};\nvar e = {\n    data: \"\"\n  },\n  t = function t(_t2) {\n    return \"object\" == (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) ? ((_t2 ? _t2.querySelector(\"#_goober\") : window._goober) || Object.assign((_t2 || document.head).appendChild(document.createElement(\"style\")), {\n      innerHTML: \" \",\n      id: \"_goober\"\n    })).firstChild : _t2 || e;\n  },\n  l = /(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,\n  a = /\\/\\*[^]*?\\*\\/|  +/g,\n  n = /\\n+/g,\n  o = function o(e, t) {\n    var r = \"\",\n      l = \"\",\n      a = \"\";\n    var _loop = function _loop(_n) {\n      var c = e[_n];\n      \"@\" == _n[0] ? \"i\" == _n[1] ? r = _n + \" \" + c + \";\" : l += \"f\" == _n[1] ? o(c, _n) : _n + \"{\" + o(c, \"k\" == _n[1] ? \"\" : t) + \"}\" : \"object\" == _typeof(c) ? l += o(c, t ? t.replace(/([^,])+/g, function (e) {\n        return _n.replace(/(^:.*)|([^,])+/g, function (t) {\n          return /&/.test(t) ? t.replace(/&/g, e) : e ? e + \" \" + t : t;\n        });\n      }) : _n) : null != c && (_n = /^--/.test(_n) ? _n : _n.replace(/[A-Z]/g, \"-$&\").toLowerCase(), a += o.p ? o.p(_n, c) : _n + \":\" + c + \";\");\n    };\n    for (var _n in e) {\n      _loop(_n);\n    }\n    return r + (t && a ? t + \"{\" + a + \"}\" : a) + l;\n  },\n  c = {},\n  s = function s(e) {\n    if (\"object\" == _typeof(e)) {\n      var _t3 = \"\";\n      for (var r in e) _t3 += r + s(e[r]);\n      return _t3;\n    }\n    return e;\n  },\n  i = function i(e, t, r, _i, p) {\n    var u = s(e),\n      d = c[u] || (c[u] = function (e) {\n        var t = 0,\n          r = 11;\n        for (; t < e.length;) r = 101 * r + e.charCodeAt(t++) >>> 0;\n        return \"go\" + r;\n      }(u));\n    if (!c[d]) {\n      var _t4 = u !== e ? e : function (e) {\n        var t,\n          r,\n          o = [{}];\n        for (; t = l.exec(e.replace(a, \"\"));) t[4] ? o.shift() : t[3] ? (r = t[3].replace(n, \" \").trim(), o.unshift(o[0][r] = o[0][r] || {})) : o[0][t[1]] = t[2].replace(n, \" \").trim();\n        return o[0];\n      }(e);\n      c[d] = o(p ? _defineProperty({}, \"@keyframes \" + d, _t4) : _t4, r ? \"\" : \".\" + d);\n    }\n    var f = r && c.g ? c.g : null;\n    return r && (c.g = c[d]), function (e, t, r, l) {\n      l ? t.data = t.data.replace(l, e) : -1 === t.data.indexOf(e) && (t.data = r ? e + t.data : t.data + e);\n    }(c[d], t, _i, f), d;\n  },\n  p = function p(e, t, r) {\n    return e.reduce(function (e, l, a) {\n      var n = t[a];\n      if (n && n.call) {\n        var _e2 = n(r),\n          _t5 = _e2 && _e2.props && _e2.props.className || /^go/.test(_e2) && _e2;\n        n = _t5 ? \".\" + _t5 : _e2 && \"object\" == _typeof(_e2) ? _e2.props ? \"\" : o(_e2, \"\") : !1 === _e2 ? \"\" : _e2;\n      }\n      return e + l + (null == n ? \"\" : n);\n    }, \"\");\n  };\nfunction u(e) {\n  var r = this || {},\n    l = e.call ? e(r.p) : e;\n  return i(l.unshift ? l.raw ? p(l, [].slice.call(arguments, 1), r.p) : l.reduce(function (e, t) {\n    return Object.assign(e, t && t.call ? t(r.p) : t);\n  }, {}) : l, t(r.target), r.g, r.o, r.k);\n}\nvar d, f, g;\nu.bind({\n  g: 1\n});\nvar h = u.bind({\n  k: 1\n});\nfunction m(e, t, r, l) {\n  o.p = t, d = e, f = r, g = l;\n}\nfunction j(e, t) {\n  var r = this || {};\n  return function () {\n    var l = arguments;\n    function a(n, o) {\n      var c = Object.assign({}, n),\n        s = c.className || a.className;\n      r.p = Object.assign({\n        theme: f && f()\n      }, c), r.o = / *go\\d+/.test(s), c.className = u.apply(r, l) + (s ? \" \" + s : \"\"), t && (c.ref = o);\n      var i = e;\n      return e[0] && (i = c.as || e, delete c.as), g && i[0] && g(c), d(i, c);\n    }\n    return t ? t(a) : a;\n  };\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  strings.raw = raw;\n  return strings;\n}\nvar isFunction = function isFunction(valOrFunction) {\n  return typeof valOrFunction === 'function';\n};\nvar resolveValue = function resolveValue(valOrFunction, arg) {\n  return isFunction(valOrFunction) ? valOrFunction(arg) : valOrFunction;\n};\nvar genId = /*#__PURE__*/function () {\n  var count = 0;\n  return function () {\n    return (++count).toString();\n  };\n}();\nvar createRectRef = function createRectRef(onRect) {\n  return function (el) {\n    if (el) {\n      setTimeout(function () {\n        var boundingRect = el.getBoundingClientRect();\n        onRect(boundingRect);\n      });\n    }\n  };\n};\nvar prefersReducedMotion = /*#__PURE__*/function () {\n  var shouldReduceMotion = undefined;\n  return function () {\n    if (shouldReduceMotion === undefined && typeof window !== 'undefined') {\n      var mediaQuery = matchMedia('(prefers-reduced-motion: reduce)');\n      shouldReduceMotion = !mediaQuery || mediaQuery.matches;\n    }\n    return shouldReduceMotion;\n  };\n}();\nvar TOAST_LIMIT = 20;\nvar ActionType;\n(function (ActionType) {\n  ActionType[ActionType[\"ADD_TOAST\"] = 0] = \"ADD_TOAST\";\n  ActionType[ActionType[\"UPDATE_TOAST\"] = 1] = \"UPDATE_TOAST\";\n  ActionType[ActionType[\"UPSERT_TOAST\"] = 2] = \"UPSERT_TOAST\";\n  ActionType[ActionType[\"DISMISS_TOAST\"] = 3] = \"DISMISS_TOAST\";\n  ActionType[ActionType[\"REMOVE_TOAST\"] = 4] = \"REMOVE_TOAST\";\n  ActionType[ActionType[\"START_PAUSE\"] = 5] = \"START_PAUSE\";\n  ActionType[ActionType[\"END_PAUSE\"] = 6] = \"END_PAUSE\";\n})(ActionType || (ActionType = {}));\nvar toastTimeouts = /*#__PURE__*/new Map();\nvar addToRemoveQueue = function addToRemoveQueue(toastId) {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n  var timeout = setTimeout(function () {\n    toastTimeouts[\"delete\"](toastId);\n    dispatch({\n      type: ActionType.REMOVE_TOAST,\n      toastId: toastId\n    });\n  }, 1000);\n  toastTimeouts.set(toastId, timeout);\n};\nvar clearFromRemoveQueue = function clearFromRemoveQueue(toastId) {\n  var timeout = toastTimeouts.get(toastId);\n  if (timeout) {\n    clearTimeout(timeout);\n  }\n};\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case ActionType.ADD_TOAST:\n      return _extends({}, state, {\n        toasts: [action.toast].concat(state.toasts).slice(0, TOAST_LIMIT)\n      });\n    case ActionType.UPDATE_TOAST:\n      if (action.toast.id) {\n        clearFromRemoveQueue(action.toast.id);\n      }\n      return _extends({}, state, {\n        toasts: state.toasts.map(function (t) {\n          return t.id === action.toast.id ? _extends({}, t, action.toast) : t;\n        })\n      });\n    case ActionType.UPSERT_TOAST:\n      var toast = action.toast;\n      return state.toasts.find(function (t) {\n        return t.id === toast.id;\n      }) ? reducer(state, {\n        type: ActionType.UPDATE_TOAST,\n        toast: toast\n      }) : reducer(state, {\n        type: ActionType.ADD_TOAST,\n        toast: toast\n      });\n    case ActionType.DISMISS_TOAST:\n      var toastId = action.toastId;\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach(function (toast) {\n          addToRemoveQueue(toast.id);\n        });\n      }\n      return _extends({}, state, {\n        toasts: state.toasts.map(function (t) {\n          return t.id === toastId || toastId === undefined ? _extends({}, t, {\n            visible: false\n          }) : t;\n        })\n      });\n    case ActionType.REMOVE_TOAST:\n      if (action.toastId === undefined) {\n        return _extends({}, state, {\n          toasts: []\n        });\n      }\n      return _extends({}, state, {\n        toasts: state.toasts.filter(function (t) {\n          return t.id !== action.toastId;\n        })\n      });\n    case ActionType.START_PAUSE:\n      return _extends({}, state, {\n        pausedAt: action.time\n      });\n    case ActionType.END_PAUSE:\n      var diff = action.time - (state.pausedAt || 0);\n      return _extends({}, state, {\n        pausedAt: undefined,\n        toasts: state.toasts.map(function (t) {\n          return _extends({}, t, {\n            pauseDuration: t.pauseDuration + diff\n          });\n        })\n      });\n  }\n};\nvar listeners = [];\nvar memoryState = {\n  toasts: [],\n  pausedAt: undefined\n};\nvar dispatch = function dispatch(action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach(function (listener) {\n    listener(memoryState);\n  });\n};\nvar defaultTimeouts = {\n  blank: 4000,\n  error: 4000,\n  success: 2000,\n  loading: Infinity,\n  custom: 4000\n};\nvar useStore = function useStore(toastOptions) {\n  if (toastOptions === void 0) {\n    toastOptions = {};\n  }\n  var _useState = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(memoryState),\n    state = _useState[0],\n    setState = _useState[1];\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    listeners.push(setState);\n    return function () {\n      var index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n  var mergedToasts = state.toasts.map(function (t) {\n    var _toastOptions$t$type, _toastOptions, _toastOptions$t$type2;\n    return _extends({}, toastOptions, toastOptions[t.type], t, {\n      duration: t.duration || ((_toastOptions$t$type = toastOptions[t.type]) == null ? void 0 : _toastOptions$t$type.duration) || ((_toastOptions = toastOptions) == null ? void 0 : _toastOptions.duration) || defaultTimeouts[t.type],\n      style: _extends({}, toastOptions.style, (_toastOptions$t$type2 = toastOptions[t.type]) == null ? void 0 : _toastOptions$t$type2.style, t.style)\n    });\n  });\n  return _extends({}, state, {\n    toasts: mergedToasts\n  });\n};\nvar createToast = function createToast(message, type, opts) {\n  if (type === void 0) {\n    type = 'blank';\n  }\n  return _extends({\n    createdAt: Date.now(),\n    visible: true,\n    type: type,\n    ariaProps: {\n      role: 'status',\n      'aria-live': 'polite'\n    },\n    message: message,\n    pauseDuration: 0\n  }, opts, {\n    id: (opts == null ? void 0 : opts.id) || genId()\n  });\n};\nvar createHandler = function createHandler(type) {\n  return function (message, options) {\n    var toast = createToast(message, type, options);\n    dispatch({\n      type: ActionType.UPSERT_TOAST,\n      toast: toast\n    });\n    return toast.id;\n  };\n};\nvar toast = function toast(message, opts) {\n  return createHandler('blank')(message, opts);\n};\ntoast.error = /*#__PURE__*/createHandler('error');\ntoast.success = /*#__PURE__*/createHandler('success');\ntoast.loading = /*#__PURE__*/createHandler('loading');\ntoast.custom = /*#__PURE__*/createHandler('custom');\ntoast.dismiss = function (toastId) {\n  dispatch({\n    type: ActionType.DISMISS_TOAST,\n    toastId: toastId\n  });\n};\ntoast.remove = function (toastId) {\n  return dispatch({\n    type: ActionType.REMOVE_TOAST,\n    toastId: toastId\n  });\n};\ntoast.promise = function (promise, msgs, opts) {\n  var id = toast.loading(msgs.loading, _extends({}, opts, opts == null ? void 0 : opts.loading));\n  promise.then(function (p) {\n    toast.success(resolveValue(msgs.success, p), _extends({\n      id: id\n    }, opts, opts == null ? void 0 : opts.success));\n    return p;\n  })[\"catch\"](function (e) {\n    toast.error(resolveValue(msgs.error, e), _extends({\n      id: id\n    }, opts, opts == null ? void 0 : opts.error));\n  });\n  return promise;\n};\nvar useToaster = function useToaster(toastOptions) {\n  var _useStore = useStore(toastOptions),\n    toasts = _useStore.toasts,\n    pausedAt = _useStore.pausedAt;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (pausedAt) {\n      return;\n    }\n    var now = Date.now();\n    var timeouts = toasts.map(function (t) {\n      if (t.duration === Infinity) {\n        return;\n      }\n      var durationLeft = (t.duration || 0) + t.pauseDuration - (now - t.createdAt);\n      if (durationLeft < 0) {\n        if (t.visible) {\n          toast.dismiss(t.id);\n        }\n        return;\n      }\n      return setTimeout(function () {\n        return toast.dismiss(t.id);\n      }, durationLeft);\n    });\n    return function () {\n      timeouts.forEach(function (timeout) {\n        return timeout && clearTimeout(timeout);\n      });\n    };\n  }, [toasts, pausedAt]);\n  var handlers = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return {\n      startPause: function startPause() {\n        dispatch({\n          type: ActionType.START_PAUSE,\n          time: Date.now()\n        });\n      },\n      endPause: function endPause() {\n        if (pausedAt) {\n          dispatch({\n            type: ActionType.END_PAUSE,\n            time: Date.now()\n          });\n        }\n      },\n      updateHeight: function updateHeight(toastId, height) {\n        return dispatch({\n          type: ActionType.UPDATE_TOAST,\n          toast: {\n            id: toastId,\n            height: height\n          }\n        });\n      },\n      calculateOffset: function calculateOffset(toast, opts) {\n        var _relevantToasts$filte;\n        var _ref = opts || {},\n          _ref$reverseOrder = _ref.reverseOrder,\n          reverseOrder = _ref$reverseOrder === void 0 ? false : _ref$reverseOrder,\n          _ref$gutter = _ref.gutter,\n          gutter = _ref$gutter === void 0 ? 8 : _ref$gutter,\n          defaultPosition = _ref.defaultPosition;\n        var relevantToasts = toasts.filter(function (t) {\n          return (t.position || defaultPosition) === (toast.position || defaultPosition) && t.height;\n        });\n        var toastIndex = relevantToasts.findIndex(function (t) {\n          return t.id === toast.id;\n        });\n        var toastsBefore = relevantToasts.filter(function (toast, i) {\n          return i < toastIndex && toast.visible;\n        }).length;\n        var offset = (_relevantToasts$filte = relevantToasts.filter(function (t) {\n          return t.visible;\n        })).slice.apply(_relevantToasts$filte, reverseOrder ? [toastsBefore + 1] : [0, toastsBefore]).reduce(function (acc, t) {\n          return acc + (t.height || 0) + gutter;\n        }, 0);\n        return offset;\n      }\n    };\n  }, [toasts, pausedAt]);\n  return {\n    toasts: toasts,\n    handlers: handlers\n  };\n};\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  width: 20px;\\n  opacity: 0;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: \", \";\\n  position: relative;\\n  transform: rotate(45deg);\\n\\n  animation: \", \" 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n  animation-delay: 100ms;\\n\\n  &:after,\\n  &:before {\\n    content: '';\\n    animation: \", \" 0.15s ease-out forwards;\\n    animation-delay: 150ms;\\n    position: absolute;\\n    border-radius: 3px;\\n    opacity: 0;\\n    background: \", \";\\n    bottom: 9px;\\n    left: 4px;\\n    height: 2px;\\n    width: 12px;\\n  }\\n\\n  &:before {\\n    animation: \", \" 0.15s ease-out forwards;\\n    animation-delay: 180ms;\\n    transform: rotate(90deg);\\n  }\\n\"]);\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0) rotate(90deg);\\n\\topacity: 0;\\n}\\nto {\\n  transform: scale(1) rotate(90deg);\\n\\topacity: 1;\\n}\"]);\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0);\\n  opacity: 0;\\n}\\nto {\\n  transform: scale(1);\\n  opacity: 1;\\n}\"]);\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0) rotate(45deg);\\n\\topacity: 0;\\n}\\nto {\\n transform: scale(1) rotate(45deg);\\n  opacity: 1;\\n}\"]);\n  _templateObject = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar circleAnimation = /*#__PURE__*/h( /*#__PURE__*/_templateObject());\nvar firstLineAnimation = /*#__PURE__*/h( /*#__PURE__*/_templateObject2());\nvar secondLineAnimation = /*#__PURE__*/h( /*#__PURE__*/_templateObject3());\nvar ErrorIcon$1 = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject4(), function (p) {\n  return p.primary || '#ff4b4b';\n}, circleAnimation, firstLineAnimation, function (p) {\n  return p.secondary || '#fff';\n}, secondLineAnimation);\nfunction _templateObject2$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  width: 12px;\\n  height: 12px;\\n  box-sizing: border-box;\\n  border: 2px solid;\\n  border-radius: 100%;\\n  border-color: \", \";\\n  border-right-color: \", \";\\n  animation: \", \" 1s linear infinite;\\n\"]);\n  _templateObject2$1 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"]);\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar rotate = /*#__PURE__*/h( /*#__PURE__*/_templateObject$1());\nvar LoaderIcon = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject2$1(), function (p) {\n  return p.secondary || '#e0e0e0';\n}, function (p) {\n  return p.primary || '#616161';\n}, rotate);\nfunction _templateObject3$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  width: 20px;\\n  opacity: 0;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: \", \";\\n  position: relative;\\n  transform: rotate(45deg);\\n\\n  animation: \", \" 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n  animation-delay: 100ms;\\n  &:after {\\n    content: '';\\n    box-sizing: border-box;\\n    animation: \", \" 0.2s ease-out forwards;\\n    opacity: 0;\\n    animation-delay: 200ms;\\n    position: absolute;\\n    border-right: 2px solid;\\n    border-bottom: 2px solid;\\n    border-color: \", \";\\n    bottom: 6px;\\n    left: 6px;\\n    height: 10px;\\n    width: 6px;\\n  }\\n\"]);\n  _templateObject3$1 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n0% {\\n\\theight: 0;\\n\\twidth: 0;\\n\\topacity: 0;\\n}\\n40% {\\n  height: 0;\\n\\twidth: 6px;\\n\\topacity: 1;\\n}\\n100% {\\n  opacity: 1;\\n  height: 10px;\\n}\"]);\n  _templateObject2$2 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0) rotate(45deg);\\n\\topacity: 0;\\n}\\nto {\\n  transform: scale(1) rotate(45deg);\\n\\topacity: 1;\\n}\"]);\n  _templateObject$2 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar circleAnimation$1 = /*#__PURE__*/h( /*#__PURE__*/_templateObject$2());\nvar checkmarkAnimation = /*#__PURE__*/h( /*#__PURE__*/_templateObject2$2());\nvar CheckmarkIcon = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject3$1(), function (p) {\n  return p.primary || '#61d345';\n}, circleAnimation$1, checkmarkAnimation, function (p) {\n  return p.secondary || '#fff';\n});\nfunction _templateObject4$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  position: relative;\\n  transform: scale(0.6);\\n  opacity: 0.4;\\n  min-width: 20px;\\n  animation: \", \" 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n\"]);\n  _templateObject4$1 = function _templateObject4() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject3$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0.6);\\n  opacity: 0.4;\\n}\\nto {\\n  transform: scale(1);\\n  opacity: 1;\\n}\"]);\n  _templateObject3$2 = function _templateObject3() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject2$3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-width: 20px;\\n  min-height: 20px;\\n\"]);\n  _templateObject2$3 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  position: absolute;\\n\"]);\n  _templateObject$3 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar StatusWrapper = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject$3());\nvar IndicatorWrapper = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject2$3());\nvar enter = /*#__PURE__*/h( /*#__PURE__*/_templateObject3$2());\nvar AnimatedIconWrapper = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject4$1(), enter);\nvar ToastIcon = function ToastIcon(_ref) {\n  var toast = _ref.toast;\n  var icon = toast.icon,\n    type = toast.type,\n    iconTheme = toast.iconTheme;\n  if (icon !== undefined) {\n    if (typeof icon === 'string') {\n      return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(AnimatedIconWrapper, null, icon);\n    } else {\n      return icon;\n    }\n  }\n  if (type === 'blank') {\n    return null;\n  }\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(IndicatorWrapper, null, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(LoaderIcon, Object.assign({}, iconTheme)), type !== 'loading' && /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(StatusWrapper, null, type === 'error' ? /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(ErrorIcon$1, Object.assign({}, iconTheme)) : /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(CheckmarkIcon, Object.assign({}, iconTheme))));\n};\nfunction _templateObject2$4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  justify-content: center;\\n  margin: 4px 10px;\\n  color: inherit;\\n  flex: 1 1 auto;\\n  white-space: pre-line;\\n\"]);\n  _templateObject2$4 = function _templateObject2() {\n    return data;\n  };\n  return data;\n}\nfunction _templateObject$4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  align-items: center;\\n  background: #fff;\\n  color: #363636;\\n  line-height: 1.3;\\n  will-change: transform;\\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\\n  max-width: 350px;\\n  pointer-events: auto;\\n  padding: 8px 10px;\\n  border-radius: 8px;\\n\"]);\n  _templateObject$4 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nvar enterAnimation = function enterAnimation(factor) {\n  return \"\\n0% {transform: translate3d(0,\" + factor * -200 + \"%,0) scale(.6); opacity:.5;}\\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\\n\";\n};\nvar exitAnimation = function exitAnimation(factor) {\n  return \"\\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\\n100% {transform: translate3d(0,\" + factor * -150 + \"%,-1px) scale(.6); opacity:0;}\\n\";\n};\nvar fadeInAnimation = \"0%{opacity:0;} 100%{opacity:1;}\";\nvar fadeOutAnimation = \"0%{opacity:1;} 100%{opacity:0;}\";\nvar ToastBarBase = /*#__PURE__*/j('div', _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.N)( /*#__PURE__*/_templateObject$4());\nvar Message = /*#__PURE__*/j('div')( /*#__PURE__*/_templateObject2$4());\nvar getAnimationStyle = function getAnimationStyle(position, visible) {\n  var top = position.includes('top');\n  var factor = top ? 1 : -1;\n  var _ref = prefersReducedMotion() ? [fadeInAnimation, fadeOutAnimation] : [enterAnimation(factor), exitAnimation(factor)],\n    enter = _ref[0],\n    exit = _ref[1];\n  return {\n    animation: visible ? h(enter) + \" 0.35s cubic-bezier(.21,1.02,.73,1) forwards\" : h(exit) + \" 0.4s forwards cubic-bezier(.06,.71,.55,1)\"\n  };\n};\nvar ToastBar = /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.a)(function (_ref2) {\n  var toast = _ref2.toast,\n    position = _ref2.position,\n    style = _ref2.style,\n    children = _ref2.children;\n  var animationStyle = toast != null && toast.height ? getAnimationStyle(toast.position || position || 'top-center', toast.visible) : {\n    opacity: 0\n  };\n  var icon = /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(ToastIcon, {\n    toast: toast\n  });\n  var message = /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Message, Object.assign({}, toast.ariaProps), resolveValue(toast.message, toast));\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(ToastBarBase, {\n    className: toast.className,\n    style: _extends({}, animationStyle, style, toast.style)\n  }, typeof children === 'function' ? children({\n    icon: icon,\n    message: message\n  }) : /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.g, null, icon, message));\n});\nfunction _templateObject$5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  z-index: 9999;\\n  > * {\\n    pointer-events: auto;\\n  }\\n\"]);\n  _templateObject$5 = function _templateObject() {\n    return data;\n  };\n  return data;\n}\nm(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y);\nvar getPositionStyle = function getPositionStyle(position, offset) {\n  var top = position.includes('top');\n  var verticalStyle = top ? {\n    top: 0\n  } : {\n    bottom: 0\n  };\n  var horizontalStyle = position.includes('center') ? {\n    justifyContent: 'center'\n  } : position.includes('right') ? {\n    justifyContent: 'flex-end'\n  } : {};\n  return _extends({\n    left: 0,\n    right: 0,\n    display: 'flex',\n    position: 'absolute',\n    transition: prefersReducedMotion() ? undefined : \"all 230ms cubic-bezier(.21,1.02,.73,1)\",\n    transform: \"translateY(\" + offset * (top ? 1 : -1) + \"px)\"\n  }, verticalStyle, horizontalStyle);\n};\nvar activeClass = /*#__PURE__*/u( /*#__PURE__*/_templateObject$5());\nvar DEFAULT_OFFSET = 16;\nvar Toaster = function Toaster(_ref) {\n  var reverseOrder = _ref.reverseOrder,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? 'top-center' : _ref$position,\n    toastOptions = _ref.toastOptions,\n    gutter = _ref.gutter,\n    children = _ref.children,\n    containerStyle = _ref.containerStyle,\n    containerClassName = _ref.containerClassName;\n  var _useToaster = useToaster(toastOptions),\n    toasts = _useToaster.toasts,\n    handlers = _useToaster.handlers;\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"div\", {\n    style: _extends({\n      position: 'fixed',\n      zIndex: 9999,\n      top: DEFAULT_OFFSET,\n      left: DEFAULT_OFFSET,\n      right: DEFAULT_OFFSET,\n      bottom: DEFAULT_OFFSET,\n      pointerEvents: 'none'\n    }, containerStyle),\n    className: containerClassName,\n    onMouseEnter: handlers.startPause,\n    onMouseLeave: handlers.endPause\n  }, toasts.map(function (t) {\n    var toastPosition = t.position || position;\n    var offset = handlers.calculateOffset(t, {\n      reverseOrder: reverseOrder,\n      gutter: gutter,\n      defaultPosition: position\n    });\n    var positionStyle = getPositionStyle(toastPosition, offset);\n    var ref = t.height ? undefined : createRectRef(function (rect) {\n      handlers.updateHeight(t.id, rect.height);\n    });\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"div\", {\n      ref: ref,\n      className: t.visible ? activeClass : '',\n      key: t.id,\n      style: positionStyle\n    }, t.type === 'custom' ? resolveValue(t.message, t) : children ? children(t) : /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(ToastBar, {\n      toast: t,\n      position: toastPosition\n    }));\n  }));\n};\nvar toast$1 = toast;\nvar SuccessIcon = function SuccessIcon() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z\",\n    fill: \"#0F4447\"\n  }));\n};\nvar ErrorIcon = function ErrorIcon() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z\",\n    fill: \"#590607\"\n  }));\n};\nvar baseStyles = {\n  display: 'flex',\n  gap: '8px',\n  padding: '8px',\n  fontSize: '14px',\n  borderRadius: '4px'\n};\nvar successStyles = Object.assign(Object.assign({}, baseStyles), {\n  background: '#ECFFF5',\n  boxShadow: '0px 5px 10px rgba(15, 68, 71, 0.18)',\n  color: '#0F4447'\n});\nvar errorStyles = Object.assign(Object.assign({}, baseStyles), {\n  background: '#FFEEEC',\n  boxShadow: '0px 5px 10px rgba(89, 6, 7, 0.2)',\n  color: '#590607'\n});\nvar Snackbar = function Snackbar() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Toaster, {\n    containerStyle: {\n      position: 'sticky',\n      marginTop: '4px',\n      marginBottom: '24px'\n    },\n    toastOptions: {\n      success: {\n        style: successStyles,\n        icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SuccessIcon, null)\n      },\n      error: {\n        style: errorStyles,\n        icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorIcon, null)\n      }\n    }\n  });\n};\nvar itemOrNone = function itemOrNone(item) {\n  return item !== null && item !== void 0 ? item : undefined;\n};\nvar spaceOrNone = function spaceOrNone(space) {\n  return space ? \"\".concat(space, \"px\") : undefined;\n};\nvar Flex = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  display: \", \";\\n\\n  flex-direction: \", \";\\n  justify-content: \", \";\\n  align-items: \", \";\\n  flex-grow: \", \";\\n  flex-shrink: \", \";\\n  order: \", \";\\n  align-self: \", \";\\n  flex-flow: \", \";\\n  flex-wrap: \", \";\\n\\n  width: \", \";\\n  height: \", \";\\n  max-width: \", \";\\n  max-height: \", \";\\n  min-width: \", \";\\n  min-height: \", \";\\n  padding: \", \";\\n  margin: \", \";\\n  margin-top: \", \";\\n  margin-right: \", \";\\n  margin-bottom: \", \";\\n  margin-left: \", \";\\n  padding-top: \", \";\\n  padding-right: \", \";\\n  padding-bottom: \", \";\\n  padding-left: \", \";\\n\\n  gap: \", \";\\n\"])), function (_ref7) {\n  var inline = _ref7.inline;\n  return inline ? 'inline-flex' : 'flex';\n}, function (_ref8) {\n  var direction = _ref8.direction;\n  return itemOrNone(direction);\n}, function (_ref9) {\n  var justifyContent = _ref9.justifyContent,\n    center = _ref9.center;\n  return center ? 'center' : itemOrNone(justifyContent);\n}, function (_ref10) {\n  var alignItems = _ref10.alignItems,\n    center = _ref10.center;\n  return center ? 'center' : itemOrNone(alignItems);\n}, function (_ref11) {\n  var grow = _ref11.grow;\n  return itemOrNone(grow);\n}, function (_ref12) {\n  var shrink = _ref12.shrink;\n  return itemOrNone(shrink);\n}, function (_ref13) {\n  var order = _ref13.order;\n  return itemOrNone(order);\n}, function (_ref14) {\n  var alignSelf = _ref14.alignSelf;\n  return itemOrNone(alignSelf);\n}, function (_ref15) {\n  var flow = _ref15.flow;\n  return itemOrNone(flow);\n}, function (_ref16) {\n  var wrap = _ref16.wrap;\n  return itemOrNone(wrap);\n}, function (_ref17) {\n  var width = _ref17.width;\n  return typeof width === 'string' ? width : spaceOrNone(width);\n}, function (_ref18) {\n  var height = _ref18.height;\n  return typeof height === 'string' ? height : spaceOrNone(height);\n}, function (_ref19) {\n  var maxWidth = _ref19.maxWidth;\n  return typeof maxWidth === 'string' ? maxWidth : spaceOrNone(maxWidth);\n}, function (_ref20) {\n  var maxHeight = _ref20.maxHeight;\n  return typeof maxHeight === 'string' ? maxHeight : spaceOrNone(maxHeight);\n}, function (_ref21) {\n  var minWidth = _ref21.minWidth;\n  return typeof minWidth === 'string' ? minWidth : spaceOrNone(minWidth);\n}, function (_ref22) {\n  var minHeight = _ref22.minHeight;\n  return typeof minHeight === 'string' ? minHeight : spaceOrNone(minHeight);\n}, function (_ref23) {\n  var padding = _ref23.padding;\n  return spaceOrNone(padding);\n}, function (_ref24) {\n  var margin = _ref24.margin;\n  return spaceOrNone(margin);\n}, function (_ref25) {\n  var marginTop = _ref25.marginTop;\n  return spaceOrNone(marginTop);\n}, function (_ref26) {\n  var marginRight = _ref26.marginRight;\n  return spaceOrNone(marginRight);\n}, function (_ref27) {\n  var marginBottom = _ref27.marginBottom;\n  return spaceOrNone(marginBottom);\n}, function (_ref28) {\n  var marginLeft = _ref28.marginLeft;\n  return spaceOrNone(marginLeft);\n}, function (_ref29) {\n  var paddingTop = _ref29.paddingTop;\n  return spaceOrNone(paddingTop);\n}, function (_ref30) {\n  var paddingRight = _ref30.paddingRight;\n  return spaceOrNone(paddingRight);\n}, function (_ref31) {\n  var paddingBottom = _ref31.paddingBottom;\n  return spaceOrNone(paddingBottom);\n}, function (_ref32) {\n  var paddingLeft = _ref32.paddingLeft;\n  return spaceOrNone(paddingLeft);\n}, function (_ref33) {\n  var gap = _ref33.gap;\n  return spaceOrNone(gap);\n});\nvar Text = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  color: \", \";\\n  text-align: \", \";\\n  \", \";\\n\"])), function (props) {\n  return props.color && props.theme.colors[props.color];\n}, function (props) {\n  return props.align;\n}, function (props) {\n  return props.size && props.theme.typography[props.size];\n});\nText.defaultProps = {\n  size: 'body',\n  color: 'primary',\n  align: 'left'\n};\nvar ErrorSVG = function ErrorSVG() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    width: \"200\",\n    height: \"200\",\n    viewBox: \"0 0 200 200\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"g\", {\n    opacity: \"0.1\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M99.9999 0C155.229 0 200 44.7715 200 99.9999C200 155.229 155.229 200 99.9999 200C44.7715 200 0 155.229 0 99.9999C0 44.7715 44.7715 0 99.9999 0Z\",\n    fill: \"url(#paint0_linear_4408_12810)\"\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"g\", {\n    opacity: \"0.3\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M99.9993 17.5723C145.523 17.5723 182.427 54.4762 182.427 99.9993C182.427 145.523 145.523 182.427 99.9993 182.427C54.4762 182.427 17.5723 145.523 17.5723 99.9993C17.5723 54.4762 54.4762 17.5723 99.9993 17.5723Z\",\n    fill: \"url(#paint1_linear_4408_12810)\"\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"g\", {\n    opacity: \"0.7\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M99.9987 32.2305C137.487 32.2305 167.877 62.6203 167.877 100.108C167.877 137.596 137.487 167.986 99.9987 167.986C62.5109 167.986 32.1211 137.596 32.1211 100.108C32.1211 62.6203 62.5109 32.2305 99.9987 32.2305Z\",\n    fill: \"url(#paint2_linear_4408_12810)\"\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M100 45.8334C70.1 45.8334 45.8333 70.1 45.8333 100C45.8333 129.9 70.1 154.167 100 154.167C129.9 154.167 154.167 129.9 154.167 100C154.167 70.1 129.9 45.8334 100 45.8334ZM105.417 127.083H94.5833V116.25H105.417V127.083ZM105.417 105.417H94.5833V72.9167H105.417V105.417Z\",\n    fill: \"#8B1214\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"defs\", null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"linearGradient\", {\n    id: \"paint0_linear_4408_12810\",\n    x1: \"-87.1375\",\n    y1: \"160.384\",\n    x2: \"169.669\",\n    y2: \"338.297\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#8B1214\"\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"linearGradient\", {\n    id: \"paint1_linear_4408_12810\",\n    x1: \"-87.138\",\n    y1: \"160.384\",\n    x2: \"169.668\",\n    y2: \"338.297\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"stop\", {\n    stopColor: \"#F7F0F0\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#8B1214\"\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"linearGradient\", {\n    id: \"paint2_linear_4408_12810\",\n    x1: \"-87.1386\",\n    y1: \"160.493\",\n    x2: \"169.668\",\n    y2: \"338.405\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"stop\", {\n    stopColor: \"#8B1214\",\n    stopOpacity: \"0.01\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#E4C7C7\"\n  }))));\n};\nvar ErrorHeader = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Text)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"])));\nvar ErrorScreen = function ErrorScreen() {\n  var _useGlobalReducer = useGlobalReducer(),\n    _useGlobalReducer2 = _slicedToArray(_useGlobalReducer, 1),\n    state = _useGlobalReducer2[0];\n  var currentErrorType = state.errorType;\n  var ErrorTypeMap = _defineProperty(_defineProperty(_defineProperty({}, ErrorType.Default, 'Something went wrong. Try again later or contact your admin for help.'), ErrorType.EmailMagicLink, 'Something went wrong. Your login link may have expired, been revoked, or been used more than once. Request a new login link to try again, or contact your admin for help.'), ErrorType.Organization, 'The organization you are looking for could not be found. If you think this is a mistake, contact your admin.');\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24,\n    alignItems: \"center\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorHeader, {\n    size: \"header\"\n  }, \"Looks like there was an error!\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorSVG, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, ErrorTypeMap[currentErrorType]));\n};\nvar mutation = function mutation() {\n  return function (key, fetcher) {\n    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var _useSWRConfig = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.c)(),\n      mutate = _useSWRConfig.mutate;\n    var keyRef = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__._)(key);\n    var fetcherRef = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__._)(fetcher);\n    var configRef = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__._)(config);\n    var ditchMutationsUntilRef = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__._)(0);\n    var _useStateWithDeps = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.d)({\n        data: _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.U,\n        error: _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.U,\n        isMutating: false\n      }),\n      _useStateWithDeps2 = _slicedToArray(_useStateWithDeps, 3),\n      stateRef = _useStateWithDeps2[0],\n      stateDependencies = _useStateWithDeps2[1],\n      setState = _useStateWithDeps2[2];\n    var currentState = stateRef.current;\n    var trigger = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.T)( /*#__PURE__*/function () {\n      var _ref34 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(arg, opts) {\n        var _serialize, _serialize2, serializedKey, resolvedKey, options, mutationStartedAt, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _serialize = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.s)(keyRef.current), _serialize2 = _slicedToArray(_serialize, 2), serializedKey = _serialize2[0], resolvedKey = _serialize2[1];\n              if (fetcherRef.current) {\n                _context.next = 3;\n                break;\n              }\n              throw new Error('Can’t trigger the mutation: missing fetcher.');\n            case 3:\n              if (serializedKey) {\n                _context.next = 5;\n                break;\n              }\n              throw new Error('Can’t trigger the mutation: missing key.');\n            case 5:\n              options = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.e)((0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.e)({\n                populateCache: false,\n                throwOnError: true\n              }, configRef.current), opts);\n              mutationStartedAt = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.f)();\n              ditchMutationsUntilRef.current = mutationStartedAt;\n              setState({\n                isMutating: true\n              });\n              _context.prev = 9;\n              _context.next = 12;\n              return mutate(serializedKey, fetcherRef.current(resolvedKey, {\n                arg: arg\n              }), (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.e)(options, {\n                throwOnError: true\n              }));\n            case 12:\n              data = _context.sent;\n              if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                setState({\n                  data: data,\n                  isMutating: false,\n                  error: undefined\n                });\n                options.onSuccess == null ? void 0 : options.onSuccess(data, serializedKey, options);\n              }\n              return _context.abrupt(\"return\", data);\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](9);\n              if (!(ditchMutationsUntilRef.current <= mutationStartedAt)) {\n                _context.next = 24;\n                break;\n              }\n              setState({\n                error: _context.t0,\n                isMutating: false\n              });\n              options.onError == null ? void 0 : options.onError(_context.t0, serializedKey, options);\n              if (!options.throwOnError) {\n                _context.next = 24;\n                break;\n              }\n              throw _context.t0;\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[9, 17]]);\n      }));\n      return function (_x, _x2) {\n        return _ref34.apply(this, arguments);\n      };\n    }(), []);\n    var reset = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.T)(function () {\n      ditchMutationsUntilRef.current = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.f)();\n      setState({\n        data: _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.U,\n        error: _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.U,\n        isMutating: false\n      });\n    }, []);\n    (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.j)(function () {\n      keyRef.current = key;\n      fetcherRef.current = fetcher;\n      configRef.current = config;\n    });\n    return {\n      trigger: trigger,\n      reset: reset,\n      get data() {\n        stateDependencies.data = true;\n        return currentState.data;\n      },\n      get error() {\n        stateDependencies.error = true;\n        return currentState.error;\n      },\n      get isMutating() {\n        stateDependencies.isMutating = true;\n        return currentState.isMutating;\n      }\n    };\n  };\n};\nvar index = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.b)(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.u, mutation);\nvar KeyToStytchEventMap = {\n  'stytch.magicLinks.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BMagicLinkAuthenticate,\n  'stytch.sso.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BSSOAuthenticate,\n  'stytch.magicLinks.discovery.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BMagicLinkDiscoveryAuthenticate,\n  'stytch.discovery.organization.create': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BDiscoveryOrganizationsCreate,\n  'stytch.discovery.intermediateSessions.exchange': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BDiscoveryIntermediateSessionExchange,\n  'stytch.magicLinks.email.loginOrSignup': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BMagicLinkEmailLoginOrSignup,\n  'stytch.magicLinks.discovery.send': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BMagicLinkEmailDiscoverySend,\n  'stytch.oauth.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BOAuthAuthenticate,\n  'stytch.oauth.discovery.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BOAuthDiscoveryAuthenticate,\n  'stytch.otps.sms.send': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BSMSOTPSend,\n  'stytch.otps.sms.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BSMSOTPAuthenticate,\n  'stytch.totp.create': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BTOTPCreate,\n  'stytch.totp.authenticate': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BTOTPAuthenticate,\n  'stytch.recoveryCodes.recover': _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BRecoveryCodesRecover\n};\nvar useMutate = function useMutate(key, fetcher, options) {\n  var onEvent = useEventCallback();\n  var _onError = useErrorCallback();\n  return index(key, fetcher, Object.assign(Object.assign({\n    throwOnError: false\n  }, options), {\n    onSuccess: function onSuccess(data, key, config) {\n      if (KeyToStytchEventMap[key]) {\n        onEvent({\n          type: KeyToStytchEventMap[key],\n          data: data\n        });\n      }\n      (options === null || options === void 0 ? void 0 : options.onSuccess) && options.onSuccess(data, key, config);\n    },\n    onError: function onError(error, key, config) {\n      _onError(error);\n      (options === null || options === void 0 ? void 0 : options.onError) && options.onError(error, key, config);\n    }\n  }));\n};\nvar useExtractSlug = function useExtractSlug() {\n  var _useGlobalReducer3 = useGlobalReducer(),\n    _useGlobalReducer4 = _slicedToArray(_useGlobalReducer3, 2),\n    state = _useGlobalReducer4[0],\n    dispatch = _useGlobalReducer4[1];\n  var _h$ = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(),\n    _h$2 = _slicedToArray(_h$, 2),\n    pattern = _h$2[0],\n    setPattern = _h$2[1];\n  var stytchClient = useStytch();\n  var slug = extractFromPattern(pattern || null);\n  var _useMutate = useMutate('stytchClient.organization.getBySlug', function (_, _ref35) {\n      var slug = _ref35.arg.slug;\n      return stytchClient.organization.getBySlug({\n        organization_slug: slug\n      });\n    }, {\n      onSuccess: function onSuccess(_ref36) {\n        var organization = _ref36.organization;\n        if (organization === null) {\n          dispatch({\n            type: 'set_error_message_and_transition',\n            errorType: ErrorType.Organization\n          });\n        } else {\n          dispatch({\n            type: 'set_organization',\n            organization: Object.assign({}, organization)\n          });\n        }\n      }\n    }),\n    trigger = _useMutate.trigger,\n    isSearching = _useMutate.isMutating;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytchClient).bootstrap.getAsync().then(function (_ref37) {\n      var slugPattern = _ref37.slugPattern;\n      setPattern(slugPattern);\n    });\n  }, [stytchClient]);\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (slug !== null && state.flowState.organization === null && state.screen === AppScreens$1.Main && state.flowState.type == _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization) {\n      trigger({\n        slug: slug\n      });\n    }\n  }, [slug, state.flowState, state.screen]);\n  return {\n    isSearching: isSearching,\n    slug: slug,\n    pattern: pattern\n  };\n};\nvar useBootstrap = function useBootstrap() {\n  var stytchClient = useStytch();\n  var _h$3 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytchClient).bootstrap.getSync()),\n    _h$4 = _slicedToArray(_h$3, 2),\n    boostrap = _h$4[0],\n    setBootstrap = _h$4[1];\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytchClient).bootstrap.getAsync().then(function (data) {\n      setBootstrap(data);\n    });\n  }, [stytchClient]);\n  return boostrap;\n};\nvar onAuthenticateSuccess = function onAuthenticateSuccess(data, dispatch, config) {\n  dispatch({\n    type: 'primary_authenticate_success',\n    response: data,\n    includedMfaMethods: config.mfaProductInclude\n  });\n};\nvar usePasswordInput = function usePasswordInput() {\n  var _useGlobalReducer5 = useGlobalReducer(),\n    _useGlobalReducer6 = _slicedToArray(_useGlobalReducer5, 2),\n    state = _useGlobalReducer6[0],\n    dispatch = _useGlobalReducer6[1];\n  var config = useConfig();\n  var stytch = useStytch();\n  var onEvent = useEventCallback();\n  var onError = useErrorCallback();\n  var _h$5 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(state.formState.passwordState.email),\n    _h$6 = _slicedToArray(_h$5, 2),\n    email = _h$6[0],\n    setEmail = _h$6[1];\n  var _h$7 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$8 = _slicedToArray(_h$7, 2),\n    password = _h$8[0],\n    setPassword = _h$8[1];\n  var _h$9 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$10 = _slicedToArray(_h$9, 2),\n    errorMessage = _h$10[0],\n    setErrorMessage = _h$10[1];\n  var _h$11 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(false),\n    _h$12 = _slicedToArray(_h$11, 2),\n    isSubmitting = _h$12[0],\n    setIsSubmitting = _h$12[1];\n  var organization = state.flowState.organization;\n  var submitPassword = function submitPassword(organization_id) {\n    var _a, _b;\n    setErrorMessage('');\n    setIsSubmitting(true);\n    stytch.passwords.authenticate({\n      email_address: email,\n      organization_id: organization_id,\n      password: password,\n      session_duration_minutes: (_b = (_a = config.sessionOptions) === null || _a === void 0 ? void 0 : _a.sessionDurationMinutes) !== null && _b !== void 0 ? _b : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.D\n    }).then(function (data) {\n      setIsSubmitting(false);\n      onEvent({\n        type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BPasswordAuthenticate,\n        data: data\n      });\n      onAuthenticateSuccess(data, dispatch, config);\n    })[\"catch\"](function (err) {\n      setIsSubmitting(false);\n      onError(err);\n      setErrorMessage('Invalid email or password. Please try again or use the link below to get help.');\n    });\n  };\n  var emailEligibleForJITProvisioning = function emailEligibleForJITProvisioning(organization, email) {\n    var emailDomain = email.split('@').pop();\n    return organization.email_jit_provisioning == 'NOT_ALLOWED' || organization.email_jit_provisioning == 'RESTRICTED' && emailDomain && organization.email_allowed_domains.includes(emailDomain);\n  };\n  var handleNonMemberReset = function handleNonMemberReset() {\n    var _a, _b, _c, _d;\n    if (!organization) {\n      return;\n    }\n    if (!emailEligibleForJITProvisioning(organization, email)) {\n      setIsSubmitting(false);\n      setErrorMessage(email + ' does not have access to ' + organization.organization_name + '. If you think this is a mistake, contact your admin.');\n      return;\n    }\n    var dataLayer = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).dataLayer;\n    dataLayer.setItem('reset-email-value', email);\n    stytch.magicLinks.email.loginOrSignup({\n      email_address: email,\n      organization_id: organization.organization_id,\n      login_redirect_url: (_a = config.passwordOptions) === null || _a === void 0 ? void 0 : _a.resetPasswordRedirectURL,\n      signup_redirect_url: (_b = config.passwordOptions) === null || _b === void 0 ? void 0 : _b.resetPasswordRedirectURL,\n      login_template_id: (_c = config.emailMagicLinksOptions) === null || _c === void 0 ? void 0 : _c.loginTemplateId,\n      signup_template_id: (_d = config.emailMagicLinksOptions) === null || _d === void 0 ? void 0 : _d.signupTemplateId\n    }).then(function () {\n      setIsSubmitting(false);\n      dispatch({\n        type: 'set_password_state',\n        email: email\n      });\n      dispatch({\n        type: 'transition',\n        screen: AppScreens$1.PasswordResetVerifyConfirmation\n      });\n    })[\"catch\"](function (err) {\n      onError(err);\n      setErrorMessage('We were unable to verify your email. Please contact your admin.');\n      setIsSubmitting(false);\n    });\n  };\n  return {\n    stytch: stytch,\n    onError: onError,\n    email: email,\n    setEmail: setEmail,\n    password: password,\n    setPassword: setPassword,\n    organization: organization,\n    errorMessage: errorMessage,\n    setErrorMessage: setErrorMessage,\n    isSubmitting: isSubmitting,\n    setIsSubmitting: setIsSubmitting,\n    submitPassword: submitPassword,\n    handleNonMemberReset: handleNonMemberReset\n  };\n};\nvar extractFromPattern = function extractFromPattern(pattern) {\n  if (pattern === null) return null;\n  var currentUrl = window.location.href.replace(window.location.search, '').trim();\n  var regexPattern = pattern.replace('{{slug}}', '(.+)');\n  var regex = new RegExp(regexPattern);\n  var match = currentUrl.match(regex);\n  if (match && match[1]) {\n    return match[1];\n  }\n  return null;\n};\nvar Button = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.button(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  width: 100%;\\n  height: 45px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 18px;\\n  text-transform: none;\\n  font-family: \", \";\\n  box-shadow: none;\\n  text-align: center;\\n\\n  \", \"\\n\\n  &:disabled {\\n    background-color: \", \";\\n    color: \", \";\\n    cursor: not-allowed;\\n  }\\n\"])), function (props) {\n  return props.theme.typography.fontFamily;\n}, function (props) {\n  switch (props.variant) {\n    case 'primary':\n      return \"\\n          border: \".concat(props.theme.buttons.primary.border, \";\\n          border-radius: \").concat(props.theme.buttons.primary.borderRadius, \";\\n          color: \").concat(props.theme.buttons.primary.textColor, \";\\n          background-color: \").concat(props.theme.buttons.primary.backgroundColor, \";\\n        \");\n    case 'outlined':\n      return \"\\n          border: \".concat(props.theme.buttons.secondary.border, \";\\n          border-radius: \").concat(props.theme.buttons.secondary.borderRadius, \";\\n          color: \").concat(props.theme.buttons.secondary.textColor, \";\\n          background-color: \").concat(props.theme.buttons.secondary.backgroundColor, \";\\n        \");\n    case 'text':\n      return \"\\n          color: \".concat(props.theme.colors.primary, \";\\n          background-color: transparent;\\n          font-weight: 600;\\n        \");\n  }\n}, function (props) {\n  return props.theme.colors.disabled;\n}, function (props) {\n  return props.theme.colors.disabledText;\n});\nButton.defaultProps = {\n  variant: 'primary'\n};\nvar circularRotateKeyframe = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.k)(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nvar circularDashKeyframe = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.k)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n  0% {\\n    stroke-dasharray: 1px, 200px;\\n    stroke-dashoffset: 0;\\n  }\\n  50% {\\n    stroke-dasharray: 100px, 200px;\\n    stroke-dashoffset: -15px;\\n  }\\n  100% {\\n    stroke-dasharray: 100px, 200px;\\n    stroke-dashoffset: -125px;\\n  }\\n\"])));\nvar AnimatedCircle = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.circle(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  stroke-dasharray: 80px, 200px;\\n  stroke-dashoffset: 0;\\n  animation: \", \" 1.4s ease-in-out infinite;\\n  stroke: \", \";\\n  fill: none;\\n\"])), circularDashKeyframe, function (props) {\n  return props.theme.colors.primary;\n});\nvar CircularProgressRoot = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  width: \", \"px;\\n  height: \", \"px;\\n  animation: \", \" 1.4s ease-in-out infinite;\\n\"])), function (props) {\n  return props.size;\n}, function (props) {\n  return props.size;\n}, circularRotateKeyframe);\nvar CircularProgressSVG = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.svg(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n  display: block;\\n\"])));\nvar CircularProgress = function CircularProgress(_ref38) {\n  var size = _ref38.size,\n    thickness = _ref38.thickness;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CircularProgressRoot, {\n    size: size\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CircularProgressSVG, {\n    viewBox: \"\".concat(size / 2, \" \").concat(size / 2, \" \").concat(size, \" \").concat(size)\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(AnimatedCircle, {\n    cx: size,\n    cy: size,\n    r: (size - thickness) / 2,\n    fill: \"none\",\n    strokeWidth: thickness\n  })));\n};\nvar SubmitButton = function SubmitButton(props) {\n  var buttonDisabled = props.isSubmitting || props.disabled;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    id: 'submit',\n    type: \"submit\",\n    disabled: buttonDisabled\n  }, props.isSubmitting ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    justifyContent: \"center\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CircularProgress, {\n    size: 18,\n    thickness: 1,\n    \"data-testid\": \"loading-icon\"\n  }))) : props.text);\n};\nvar Input = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.input(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  height: 47px;\\n  padding: 0 8px;\\n  box-sizing: border-box;\\n  border: 1px solid \", \";\\n  border-radius: \", \";\\n  color: \", \";\\n  font-family: \", \";\\n  font-size: 18px;\\n  &::placeholder {\\n    color: \", \";\\n  }\\n\\n  &:disabled {\\n    border: 1px solid \", \";\\n    color: \", \";\\n    background-color: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.inputs.backgroundColor;\n}, function (props) {\n  return props.theme.inputs.borderColor;\n}, function (props) {\n  return props.theme.inputs.borderRadius;\n}, function (props) {\n  return props.theme.inputs.textColor;\n}, function (props) {\n  return props.theme.typography.fontFamily;\n}, function (props) {\n  return props.theme.inputs.placeholderColor;\n}, function (props) {\n  return props.theme.colors.disabledText;\n}, function (props) {\n  return props.theme.colors.disabledText;\n}, function (props) {\n  return props.theme.colors.disabled;\n});\nvar EmailInput = function EmailInput(_ref39) {\n  var email = _ref39.email,\n    setEmail = _ref39.setEmail,\n    _ref39$disableInput = _ref39.disableInput,\n    disableInput = _ref39$disableInput === void 0 ? false : _ref39$disableInput,\n    _ref39$hasPasskeys = _ref39.hasPasskeys,\n    hasPasskeys = _ref39$hasPasskeys === void 0 ? false : _ref39$hasPasskeys;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Input, Object.assign({\n    placeholder: \"example@email.com\",\n    name: \"email\",\n    type: \"email\",\n    autoComplete: hasPasskeys ? 'email webauthn' : 'email',\n    disabled: disableInput,\n    id: \"email-input\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    required: true\n  }, hasPasskeys ? {\n    'data-1p-ignore': true\n  } : {}));\n};\nvar DASHBOARD_REGEX = /https:\\/\\/stytch\\.com\\/[#a-zA-Z0-9/-]+/g;\nvar mapURLsToLinks = function mapURLsToLinks(str) {\n  var nonLinkChunks = str.split(DASHBOARD_REGEX);\n  var linkChunks = Array.from(str.matchAll(DASHBOARD_REGEX)).map(function (el) {\n    return el[0];\n  });\n  var chunkResults = [];\n  while (nonLinkChunks.length || linkChunks.length) {\n    if (nonLinkChunks.length) {\n      chunkResults.push(nonLinkChunks.shift());\n    }\n    if (linkChunks.length) {\n      var chunk = linkChunks.shift();\n      chunkResults.push( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n        key: chunk + '__' + String(linkChunks.length),\n        href: chunk,\n        target: \"_blank\",\n        rel: \"noreferrer\"\n      }, chunk));\n    }\n  }\n  return chunkResults;\n};\nvar ErrorText = function ErrorText(_ref40) {\n  var errorMessage = _ref40.errorMessage;\n  var tokens = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return mapURLsToLinks(errorMessage);\n  }, [errorMessage]);\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"error\"\n  }, tokens);\n};\nvar JIT_PROVISIONING_ERRORS = ['email_jit_provisioning_not_allowed', 'invalid_email_for_jit_provisioning'];\nvar parseErrorMessage = function parseErrorMessage(error, _ref41) {\n  var email = _ref41.email,\n    org = _ref41.org;\n  if (JIT_PROVISIONING_ERRORS.includes(error.error_type)) {\n    return \"\".concat(email, \" does not have access to \").concat(org, \". If you think this is a mistake, contact your admin\");\n  } else {\n    return error.error_message;\n  }\n};\nvar MagicLinkEmailForm = function MagicLinkEmailForm() {\n  var _useGlobalReducer7 = useGlobalReducer(),\n    _useGlobalReducer8 = _slicedToArray(_useGlobalReducer7, 2),\n    state = _useGlobalReducer8[0],\n    dispatch = _useGlobalReducer8[1];\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var _h$13 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$14 = _slicedToArray(_h$13, 2),\n    email = _h$14[0],\n    setEmail = _h$14[1];\n  var _useMutate2 = useMutate('stytch.magicLinks.email.loginOrSignup', function (_, _ref42) {\n      var organization_id = _ref42.arg.organization_id;\n      var _a, _b, _c, _d;\n      return stytchClient.magicLinks.email.loginOrSignup({\n        email_address: email,\n        organization_id: organization_id,\n        login_redirect_url: (_a = config.emailMagicLinksOptions) === null || _a === void 0 ? void 0 : _a.loginRedirectURL,\n        signup_redirect_url: (_b = config.emailMagicLinksOptions) === null || _b === void 0 ? void 0 : _b.signupRedirectURL,\n        login_template_id: (_c = config.emailMagicLinksOptions) === null || _c === void 0 ? void 0 : _c.loginTemplateId,\n        signup_template_id: (_d = config.emailMagicLinksOptions) === null || _d === void 0 ? void 0 : _d.signupTemplateId\n      });\n    }, {\n      onSuccess: function onSuccess() {\n        dispatch({\n          type: 'set_magic_link_email',\n          email: email\n        });\n        dispatch({\n          type: 'transition',\n          screen: AppScreens$1.EmailConfirmation\n        });\n      }\n    }),\n    stytchLoginOrSignup = _useMutate2.trigger,\n    error = _useMutate2.error,\n    isMutating = _useMutate2.isMutating;\n  var organization = state.flowState.organization;\n  if (!organization) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            e.preventDefault();\n            stytchLoginOrSignup({\n              organization_id: organization.organization_id\n            });\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    minHeight: 52\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailInput, {\n    email: email,\n    setEmail: setEmail\n  }), error && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: parseErrorMessage(error, {\n      email: email,\n      org: organization.organization_name\n    })\n  }))), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    isSubmitting: isMutating,\n    text: 'Continue with email'\n  })));\n};\nvar MagicLinkEmailDiscoveryForm = function MagicLinkEmailDiscoveryForm() {\n  var _useGlobalReducer9 = useGlobalReducer(),\n    _useGlobalReducer10 = _slicedToArray(_useGlobalReducer9, 2),\n    dispatch = _useGlobalReducer10[1];\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var _h$15 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$16 = _slicedToArray(_h$15, 2),\n    email = _h$16[0],\n    setEmail = _h$16[1];\n  var _useMutate3 = useMutate('stytch.magicLinks.discovery.send', function () {\n      var _a, _b;\n      return stytchClient.magicLinks.email.discovery.send({\n        email_address: email,\n        discovery_redirect_url: (_a = config.emailMagicLinksOptions) === null || _a === void 0 ? void 0 : _a.discoveryRedirectURL,\n        login_template_id: (_b = config.emailMagicLinksOptions) === null || _b === void 0 ? void 0 : _b.loginTemplateId\n      });\n    }, {\n      onSuccess: function onSuccess() {\n        dispatch({\n          type: 'set_magic_link_email',\n          email: email\n        });\n        dispatch({\n          type: 'transition',\n          screen: AppScreens$1.EmailConfirmation\n        });\n      }\n    }),\n    stytchDiscoverySend = _useMutate3.trigger,\n    error = _useMutate3.error,\n    isMutating = _useMutate3.isMutating;\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            e.preventDefault();\n            stytchDiscoverySend();\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    minHeight: 52\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailInput, {\n    email: email,\n    setEmail: setEmail\n  }), error && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: error.error_message\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    isSubmitting: isMutating,\n    text: 'Continue with email'\n  })));\n};\nvar SSOButton = function SSOButton(_ref43) {\n  var display_name = _ref43.display_name,\n    connection_id = _ref43.connection_id;\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var onButtonClick = function onButtonClick() {\n    var _a, _b;\n    return stytchClient.sso.start({\n      connection_id: connection_id,\n      signup_redirect_url: (_a = config.ssoOptions) === null || _a === void 0 ? void 0 : _a.signupRedirectURL,\n      login_redirect_url: (_b = config.ssoOptions) === null || _b === void 0 ? void 0 : _b.loginRedirectURL\n    });\n  };\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Button, {\n    id: \"sso-\".concat(display_name),\n    type: \"button\",\n    onClick: onButtonClick,\n    variant: \"outlined\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    gap: 4\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"span\", {\n    style: {\n      verticalAlign: 'middle'\n    }\n  }, \"Continue with \".concat(display_name))));\n};\nvar SSOButtons = function SSOButtons() {\n  var _useGlobalReducer11 = useGlobalReducer(),\n    _useGlobalReducer12 = _slicedToArray(_useGlobalReducer11, 1),\n    state = _useGlobalReducer12[0];\n  if (!state.flowState.organization) return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.g, null);\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 8,\n    className: \"oauth-buttons\"\n  }, state.flowState.organization.sso_active_connections.map(function (provider) {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(SSOButton, {\n      key: \"oauth-\".concat(provider.display_name),\n      display_name: provider.display_name,\n      connection_id: provider.connection_id\n    });\n  }));\n};\nvar DividerContainer = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Flex)(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\"])), function (props) {\n  return props.theme.colors.secondary;\n});\nvar DividerBar = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\n  \", \"\\n  \", \"\\n  border-bottom: 1px solid \", \";\\n  flex-grow: 1;\\n\"])), function (props) {\n  return props.$placement === 'left' && 'margin-right: 6px;';\n}, function (props) {\n  return props.$placement === 'right' && 'margin-left: 6px;';\n}, function (props) {\n  return props.theme.colors.secondary;\n});\nvar StyledText = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Text)(_templateObject17 || (_templateObject17 = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\"])), function (props) {\n  return props.theme.colors.secondary;\n});\nvar Divider = function Divider() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(DividerContainer, {\n    alignItems: \"center\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(DividerBar, {\n    \"$placement\": \"left\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(StyledText, null, \"or\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(DividerBar, {\n    \"$placement\": \"right\"\n  }));\n};\nvar PasswordIconSvg = function PasswordIconSvg(_ref44) {\n  var _ref44$enabled = _ref44.enabled,\n    enabled = _ref44$enabled === void 0 ? false : _ref44$enabled;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    width: \"20\",\n    height: \"14\",\n    viewBox: \"0 0 20 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M9.99992 2.41667C13.1583 2.41667 15.9749 4.19167 17.3499 7C15.9749 9.80833 13.1583 11.5833 9.99992 11.5833C6.84158 11.5833 4.02492 9.80833 2.64992 7C4.02492 4.19167 6.84158 2.41667 9.99992 2.41667ZM9.99992 0.75C5.83325 0.75 2.27492 3.34167 0.833252 7C2.27492 10.6583 5.83325 13.25 9.99992 13.25C14.1666 13.25 17.7249 10.6583 19.1666 7C17.7249 3.34167 14.1666 0.75 9.99992 0.75ZM9.99992 4.91667C11.1499 4.91667 12.0833 5.85 12.0833 7C12.0833 8.15 11.1499 9.08333 9.99992 9.08333C8.84992 9.08333 7.91658 8.15 7.91658 7C7.91658 5.85 8.84992 4.91667 9.99992 4.91667ZM9.99992 3.25C7.93325 3.25 6.24992 4.93333 6.24992 7C6.24992 9.06667 7.93325 10.75 9.99992 10.75C12.0666 10.75 13.7499 9.06667 13.7499 7C13.7499 4.93333 12.0666 3.25 9.99992 3.25Z\",\n    fill: enabled ? '#19303D' : '#5C727D'\n  }));\n};\nvar PasswordIconVisibleSvg = function PasswordIconVisibleSvg() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    width: \"20\",\n    height: \"16\",\n    viewBox: \"0 0 20 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M10.0002 2.97921C13.1585 2.97921 15.9752 4.75421 17.3502 7.56254C16.8585 8.57921 16.1668 9.45421 15.3418 10.1625L16.5168 11.3375C17.6752 10.3125 18.5918 9.02921 19.1668 7.56254C17.7252 3.90421 14.1668 1.31254 10.0002 1.31254C8.94183 1.31254 7.92516 1.47921 6.96683 1.78754L8.34183 3.16254C8.8835 3.05421 9.4335 2.97921 10.0002 2.97921ZM9.1085 3.92921L10.8335 5.65421C11.3085 5.86254 11.6918 6.24587 11.9002 6.72087L13.6252 8.44587C13.6918 8.16254 13.7418 7.86254 13.7418 7.55421C13.7502 5.48754 12.0668 3.81254 10.0002 3.81254C9.69183 3.81254 9.40016 3.85421 9.1085 3.92921ZM1.67516 1.20421L3.9085 3.43754C2.55016 4.50421 1.47516 5.92087 0.833496 7.56254C2.27516 11.2209 5.8335 13.8125 10.0002 13.8125C11.2668 13.8125 12.4835 13.5709 13.6002 13.1292L16.4502 15.9792L17.6252 14.8042L2.85016 0.020874L1.67516 1.20421ZM7.92516 7.45421L10.1002 9.62921C10.0668 9.63754 10.0335 9.64587 10.0002 9.64587C8.85016 9.64587 7.91683 8.71254 7.91683 7.56254C7.91683 7.52087 7.92516 7.49587 7.92516 7.45421ZM5.09183 4.62087L6.55016 6.07921C6.3585 6.53754 6.25016 7.03754 6.25016 7.56254C6.25016 9.62921 7.9335 11.3125 10.0002 11.3125C10.5252 11.3125 11.0252 11.2042 11.4752 11.0125L12.2918 11.8292C11.5585 12.0292 10.7918 12.1459 10.0002 12.1459C6.84183 12.1459 4.02516 10.3709 2.65016 7.56254C3.2335 6.37087 4.0835 5.38754 5.09183 4.62087Z\",\n    fill: \"#19303D\"\n  }));\n};\nvar BaseInput = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.input(_templateObject18 || (_templateObject18 = _taggedTemplateLiteral([\"\\n  border: 0;\\n  padding: 0;\\n  width: 100%;\\n\\n  background-color: transparent;\\n  height: 45px;\\n  color: \", \";\\n  font-family: \", \";\\n  font-size: 18px;\\n\\n  &::placeholder: {\\n    color: \", \";\\n  }\\n\\n  &:disabled {\\n    color: \", \";\\n    background-color: \", \";\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"])), function (props) {\n  return props.theme.inputs.textColor;\n}, function (props) {\n  return props.theme.typography.fontFamily;\n}, function (props) {\n  return props.theme.inputs.placeholderColor;\n}, function (props) {\n  return props.theme.colors.disabledText;\n}, function (props) {\n  return props.theme.colors.disabled;\n});\nvar InputContainer = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Flex)(_templateObject19 || (_templateObject19 = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  height: 45px;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n  border: 1px solid \", \";\\n  border-radius: \", \";\\n  color: \", \";\\n  font-family: \", \";\\n  font-size: 18px;\\n  width: calc(100% - 18px);\\n  & input::placeholder: {\\n    color: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.inputs.backgroundColor;\n}, function (props) {\n  return props.theme.inputs.borderColor;\n}, function (props) {\n  return props.theme.inputs.borderRadius;\n}, function (props) {\n  return props.theme.inputs.textColor;\n}, function (props) {\n  return props.theme.typography.fontFamily;\n}, function (props) {\n  return props.theme.inputs.placeholderColor;\n});\nvar PasswordIconButton = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.button(_templateObject20 || (_templateObject20 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\"])));\nvar PasswordIcon = function PasswordIcon(_ref45) {\n  var onClick = _ref45.onClick,\n    enabled = _ref45.enabled,\n    visible = _ref45.visible;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordIconButton, {\n    onClick: onClick,\n    type: \"button\"\n  }, visible ? /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordIconVisibleSvg, null) : /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordIconSvg, {\n    enabled: enabled\n  }));\n};\nvar PasswordInput = function PasswordInput(_ref46) {\n  var password = _ref46.password,\n    setPassword = _ref46.setPassword,\n    type = _ref46.type;\n  var _h$17 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(false),\n    _h$18 = _slicedToArray(_h$17, 2),\n    visible = _h$18[0],\n    setVisible = _h$18[1];\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(InputContainer, {\n    gap: 2,\n    alignItems: \"center\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BaseInput, {\n    name: \"password\",\n    \"aria-label\": \"Password\",\n    id: \"\".concat(type, \"-password\"),\n    autoComplete: \"\".concat(type, \"-password\"),\n    type: visible ? 'text' : 'password',\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    required: true\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordIcon, {\n    onClick: function onClick() {\n      return setVisible(function (visible) {\n        return !visible;\n      });\n    },\n    enabled: !!password,\n    visible: visible\n  }));\n};\nvar BackButton = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.button(_templateObject21 || (_templateObject21 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\"])));\nvar BackArrowSvg = function BackArrowSvg(_ref47) {\n  var color = _ref47.color;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z\",\n    fill: color\n  }));\n};\nvar BackArrow = function BackArrow(_ref48) {\n  var onClick = _ref48.onClick;\n  var theme = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.Z)();\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackButton, {\n    type: \"button\",\n    onClick: onClick,\n    \"aria-label\": \"Back\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrowSvg, {\n    color: theme.colors.primary\n  }));\n};\nvar GetHelpText = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Text)(_templateObject22 || (_templateObject22 = _taggedTemplateLiteral([\"\\n  font-weight: bold !important;\\n  cursor: pointer;\\n\"])));\nvar PasswordsAuthenticate = function PasswordsAuthenticate() {\n  var _useGlobalReducer13 = useGlobalReducer(),\n    _useGlobalReducer14 = _slicedToArray(_useGlobalReducer13, 2),\n    dispatch = _useGlobalReducer14[1];\n  var config = useConfig();\n  var passwordOptions = config.passwordOptions;\n  var _usePasswordInput = usePasswordInput(),\n    email = _usePasswordInput.email,\n    setEmail = _usePasswordInput.setEmail,\n    password = _usePasswordInput.password,\n    setPassword = _usePasswordInput.setPassword,\n    organization = _usePasswordInput.organization,\n    errorMessage = _usePasswordInput.errorMessage,\n    setErrorMessage = _usePasswordInput.setErrorMessage,\n    isSubmitting = _usePasswordInput.isSubmitting,\n    submitPassword = _usePasswordInput.submitPassword;\n  if (!passwordOptions) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  if (!organization) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            e.preventDefault();\n            if (organization) {\n              _context4.next = 3;\n              break;\n            }\n            return _context4.abrupt(\"return\");\n          case 3:\n            if (!email.match(_index_headless_CNM_XbTm_js__WEBPACK_IMPORTED_MODULE_0__.E)) {\n              setErrorMessage('Invalid email address');\n            } else {\n              submitPassword(organization.organization_id);\n            }\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n  };\n  var onGetHelp = function onGetHelp() {\n    dispatch({\n      type: 'set_password_state',\n      email: email\n    });\n    dispatch({\n      type: 'transition',\n      screen: AppScreens$1.PasswordForgotForm\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 28\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: function onClick() {\n      return dispatch({\n        type: 'transition',\n        screen: AppScreens$1.Main\n      });\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Log in with email and password\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 2\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Email\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailInput, {\n    email: email,\n    setEmail: setEmail\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 2\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Password\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordInput, {\n    password: password,\n    setPassword: setPassword,\n    type: \"current\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: errorMessage\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    isSubmitting: isSubmitting,\n    text: \"Continue\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    onClick: onGetHelp,\n    direction: \"row\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    color: \"secondary\"\n  }, \"Having trouble signing in?\"), \"\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GetHelpText, {\n    color: \"secondary\"\n  }, \"Get help\")))));\n};\nvar PasswordsEmailForm = function PasswordsEmailForm() {\n  var _useGlobalReducer15 = useGlobalReducer(),\n    _useGlobalReducer16 = _slicedToArray(_useGlobalReducer15, 2),\n    dispatch = _useGlobalReducer16[1];\n  var config = useConfig();\n  var passwordOptions = config.passwordOptions;\n  var _usePasswordInput2 = usePasswordInput(),\n    stytch = _usePasswordInput2.stytch,\n    email = _usePasswordInput2.email,\n    setEmail = _usePasswordInput2.setEmail,\n    password = _usePasswordInput2.password,\n    setPassword = _usePasswordInput2.setPassword,\n    organization = _usePasswordInput2.organization,\n    errorMessage = _usePasswordInput2.errorMessage,\n    setErrorMessage = _usePasswordInput2.setErrorMessage,\n    isSubmitting = _usePasswordInput2.isSubmitting,\n    setIsSubmitting = _usePasswordInput2.setIsSubmitting,\n    submitPassword = _usePasswordInput2.submitPassword,\n    handleNonMemberReset = _usePasswordInput2.handleNonMemberReset;\n  var _h$19 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(!email),\n    _h$20 = _slicedToArray(_h$19, 2),\n    hideInput = _h$20[0],\n    setHideInput = _h$20[1];\n  if (!passwordOptions) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  if (!organization) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n      var organization_id;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            e.preventDefault();\n            organization_id = organization.organization_id;\n            if (hideInput) {\n              _context5.next = 5;\n              break;\n            }\n            submitPassword(organization_id);\n            return _context5.abrupt(\"return\");\n          case 5:\n            if (email.match(_index_headless_CNM_XbTm_js__WEBPACK_IMPORTED_MODULE_0__.E)) {\n              _context5.next = 8;\n              break;\n            }\n            setErrorMessage('Invalid email address');\n            return _context5.abrupt(\"return\");\n          case 8:\n            setErrorMessage('');\n            setIsSubmitting(true);\n            (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).searchManager.searchMember(email, organization.organization_id).then(function (_ref49) {\n              var member = _ref49.member;\n              if (member === null || member === void 0 ? void 0 : member.member_password_id) {\n                setHideInput(false);\n                setIsSubmitting(false);\n                dispatch({\n                  type: 'set_password_state',\n                  email: email\n                });\n                return;\n              }\n              handleNonMemberReset();\n            })[\"catch\"](function (err) {\n              setIsSubmitting(false);\n              var message = err.message;\n              if (err instanceof _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.c) {\n                message = err.error_message;\n              }\n              setErrorMessage(message);\n            });\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }));\n  };\n  var onGetHelp = function onGetHelp() {\n    dispatch({\n      type: 'set_password_state',\n      email: email\n    });\n    dispatch({\n      type: 'transition',\n      screen: AppScreens$1.PasswordForgotForm\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 36\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 2\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Email\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailInput, {\n    email: email,\n    setEmail: setEmail\n  })), !hideInput && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 2\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Password\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordInput, {\n    password: password,\n    setPassword: setPassword,\n    type: \"current\"\n  }))), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: errorMessage\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    isSubmitting: isSubmitting,\n    text: \"Continue\"\n  }), !hideInput && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    onClick: onGetHelp,\n    direction: \"row\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    color: \"secondary\"\n  }, \"Having trouble signing in?\"), \"\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GetHelpText, {\n    color: \"secondary\"\n  }, \"Get help\"))))));\n};\nvar OAuthB2BButton = function OAuthB2BButton(props) {\n  var stytchClient = useStytch();\n  var _useGlobalReducer17 = useGlobalReducer(),\n    _useGlobalReducer18 = _slicedToArray(_useGlobalReducer17, 1),\n    state = _useGlobalReducer18[0];\n  var onButtonClick = function onButtonClick() {\n    if (state.flowState.organization) {\n      return stytchClient.oauth[props.providerType].start({\n        login_redirect_url: props.loginRedirectUrl,\n        signup_redirect_url: props.signupRedirectUrl,\n        custom_scopes: props.customScopes,\n        organization_id: state.flowState.organization.organization_id,\n        provider_params: props.providerParams\n      });\n    }\n    return stytchClient.oauth[props.providerType].discovery.start({\n      discovery_redirect_url: props.discoveryRedirectUrl,\n      custom_scopes: props.customScopes,\n      provider_params: props.providerParams\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    id: \"oauth-\".concat(props.providerType),\n    type: \"button\",\n    onClick: onButtonClick,\n    variant: \"outlined\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    gap: 4\n  }, props.icon, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"span\", {\n    style: {\n      verticalAlign: 'middle'\n    }\n  }, \"Continue with \", props.providerTypeTitle)));\n};\nvar CreateIcon = function CreateIcon(IconSvgComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    wrapped: true\n  };\n  var IconComponent = function IconComponent() {\n    var component = /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(IconSvgComponent, null);\n    return options.wrapped ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n      height: 24,\n      width: 24\n    }, component)) : component;\n  };\n  return IconComponent;\n};\nvar GoogleIconSvg = function GoogleIconSvg() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 48 48\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#FFC107\",\n    d: \"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#FF3D00\",\n    d: \"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#4CAF50\",\n    d: \"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#1976D2\",\n    d: \"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"\n  }));\n};\nvar GoogleIcon = CreateIcon(GoogleIconSvg);\nvar MicrosoftIconSvg = function MicrosoftIconSvg() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M9.52382 0.952381H0.952393V9.52381H9.52382V0.952381Z\",\n    fill: \"#F25022\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M9.52382 10.4762H0.952393V19.0476H9.52382V10.4762Z\",\n    fill: \"#00A4EF\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M19.0475 0.952381H10.4761V9.52381H19.0475V0.952381Z\",\n    fill: \"#7FBA00\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M19.0475 10.4762H10.4761V19.0476H19.0475V10.4762Z\",\n    fill: \"#FFB900\"\n  }));\n};\nvar MicrosoftIcon = CreateIcon(MicrosoftIconSvg);\nvar getParamsFromB2BOAuthProviderConfig = function getParamsFromB2BOAuthProviderConfig(provider) {\n  var providerType = '';\n  var oneTap = false;\n  var customScopes = [];\n  var providerParams = {};\n  if (typeof provider === 'string') {\n    providerType = provider;\n  } else {\n    providerType = provider.type;\n    if (provider.type === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d.Google && 'one_tap' in provider) {\n      oneTap = provider.one_tap;\n    }\n    customScopes = provider.customScopes || [];\n    providerParams = provider.providerParams || {};\n  }\n  var oauthProvider = providerType;\n  return {\n    type: oauthProvider,\n    oneTap: oneTap,\n    customScopes: customScopes,\n    providerParams: providerParams\n  };\n};\nvar useIsOnlyFloatingOneTap = function useIsOnlyFloatingOneTap() {\n  var config = useConfig();\n  var isOnlyFloatingOneTap = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    var _a, _b;\n    var oauthProvider = config.oauthOptions ? getParamsFromB2BOAuthProviderConfig((_a = config.oauthOptions) === null || _a === void 0 ? void 0 : _a.providers[0]) : undefined;\n    var isGoogleOneTap = (oauthProvider === null || oauthProvider === void 0 ? void 0 : oauthProvider.type) === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d.Google && (oauthProvider === null || oauthProvider === void 0 ? void 0 : oauthProvider.oneTap) === true;\n    return config.products.length === 1 && config.products.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.oauth) && ((_b = config.oauthOptions) === null || _b === void 0 ? void 0 : _b.providers.length) === 1 && isGoogleOneTap;\n  }, [config]);\n  return isOnlyFloatingOneTap;\n};\nvar useIsUnmounted = function useIsUnmounted() {\n  var isUnmounted = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__._)(false);\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    return function () {\n      isUnmounted.current = true;\n    };\n  }, []);\n  return isUnmounted;\n};\nvar OAuthErrorMessage = function OAuthErrorMessage(_ref50) {\n  var children = _ref50.children;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"div\", {\n    key: \"oauth-error-message\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    color: \"error\"\n  }, children));\n};\nvar OneTapNoConfiguredClientsErrorMessage = function OneTapNoConfiguredClientsErrorMessage() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthErrorMessage, null, \"One Tap cannot render because no Google OAuth client configuration could be found for this project. Please make sure a client is configured in the\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/dashboard/oauth\"\n  }, \"dashboard.\"));\n};\nvar RedirectUrlsErrorMessage = function RedirectUrlsErrorMessage(_ref51) {\n  var niceName = _ref51.niceName,\n    variableName = _ref51.variableName;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthErrorMessage, null, \"One Tap cannot render because there are no \", niceName, \" set for this project so we are unable to verify the\", ' ', /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"code\", null, variableName), \"\\xA0 provided in the configuration. To set \", niceName, \" for this project please visit\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/docs/javascript-sdk\"\n  }, \"the Stytch dashboard.\"), \"\\xA0 For more information on why this validation is necessary please visit\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/docs/api/url-validation\"\n  }, \"https://stytch.com/docs/api/url-validation.\"));\n};\nvar OneTapNoConfiguredLoginRedirectUrlsErrorMessage = function OneTapNoConfiguredLoginRedirectUrlsErrorMessage() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(RedirectUrlsErrorMessage, {\n    niceName: \"login redirect URLs\",\n    variableName: \"oauthOptions.loginRedirectURL\"\n  });\n};\nvar OneTapNoConfiguredSignupRedirectUrlsErrorMessage = function OneTapNoConfiguredSignupRedirectUrlsErrorMessage() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(RedirectUrlsErrorMessage, {\n    niceName: \"signup redirect URLs\",\n    variableName: \"oauthOptions.signupRedirectURL\"\n  });\n};\nvar OneTapJSOriginErrorMessage = function OneTapJSOriginErrorMessage() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthErrorMessage, null, \"One Tap cannot render because the current host\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"code\", null, \"\\\"\".concat(window.location.host, \"\\\"\")), \" is not allowed for this project. Make sure to put your project's host into the Google API console. When using localhost for development, you must add both\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"code\", null, \"http://localhost\"), \" and\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"code\", null, \"http://localhost:<port_number>\"), \"\\xA0 to the Authorized JavaScript origins box. You can learn more\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/docs/javascript-sdk\"\n  }, \"here.\"));\n};\nvar OneTapInvalidOAuthClient = function OneTapInvalidOAuthClient() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthErrorMessage, null, \"One Tap cannot render because the client ID configured for your project is not recognized by Google. \\xA0 Please check that the client ID saved in \", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/dashboard/oauth/google\"\n  }, \"the Stytch Dashboard\"), \"\\xA0 matches the client ID in your Google Cloud Console.\");\n};\nvar OneTapNoDefaultProviderAllowedErrorMessage = function OneTapNoDefaultProviderAllowedErrorMessage() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthErrorMessage, null, \"One Tap cannot render because the Stytch Default OAuth Provider is not compatible with One Tap. Please configure your own Google client in the\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/dashboard/oauth\"\n  }, \"dashboard.\"));\n};\nvar OneTapErrors;\n(function (OneTapErrors) {\n  OneTapErrors[\"None\"] = \"none\";\n  OneTapErrors[\"OriginNotAllowedForClient\"] = \"origin_not_allowed_for_client\";\n  OneTapErrors[\"InvalidOAuthClient\"] = \"invalid_client\";\n  OneTapErrors[\"NoConfiguredOAuthClient\"] = \"oauth_config_not_found\";\n  OneTapErrors[\"NoConfiguredLoginRedirectUrls\"] = \"no_login_redirect_urls_set\";\n  OneTapErrors[\"NoConfiguredSignupRedirectUrls\"] = \"no_signup_redirect_urls_set\";\n  OneTapErrors[\"DefaultProviderNotAllowed\"] = \"default_provider_not_allowed\";\n})(OneTapErrors || (OneTapErrors = {}));\nvar ErrorMessages = _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, OneTapErrors.None, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null)), OneTapErrors.OriginNotAllowedForClient, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OneTapJSOriginErrorMessage, null)), OneTapErrors.InvalidOAuthClient, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OneTapInvalidOAuthClient, null)), OneTapErrors.NoConfiguredOAuthClient, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OneTapNoConfiguredClientsErrorMessage, null)), OneTapErrors.NoConfiguredLoginRedirectUrls, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OneTapNoConfiguredLoginRedirectUrlsErrorMessage, null)), OneTapErrors.NoConfiguredSignupRedirectUrls, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OneTapNoConfiguredSignupRedirectUrlsErrorMessage, null)), OneTapErrors.DefaultProviderNotAllowed, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OneTapNoDefaultProviderAllowedErrorMessage, null));\n_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject23 || (_templateObject23 = _taggedTemplateLiteral([\"\\n  height: \", \";\\n  display: \", \";\\n  transition: all 0.5s ease-out;\\n  justify-content: center;\\n  align-items: center;\\n\"])), function (props) {\n  return \"\".concat(props.$height, \"px\");\n}, function (props) {\n  return props.pending ? 'flex' : 'block';\n});\nvar B2BGoogleOneTap = function B2BGoogleOneTap() {\n  var _a, _b, _c, _d, _e, _f;\n  var stytch = useStytch();\n  var config = useConfig();\n  var isOnlyFloatingOneTap = useIsOnlyFloatingOneTap();\n  var _h$21 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(OneTapErrors.None),\n    _h$22 = _slicedToArray(_h$21, 2),\n    oneTapError = _h$22[0],\n    setOneTapError = _h$22[1];\n  var isUnmounted = useIsUnmounted();\n  var _useGlobalReducer19 = useGlobalReducer(),\n    _useGlobalReducer20 = _slicedToArray(_useGlobalReducer19, 2),\n    state = _useGlobalReducer20[0],\n    dispatch = _useGlobalReducer20[1];\n  var attemptToLoadOneTap = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.T)(function () {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n      var _g, _h, _j, _readB2BInternals, oneTap, clientResult, client, oneTapCallback, renderResult;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _readB2BInternals = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch), oneTap = _readB2BInternals.oneTap;\n            _context6.next = 3;\n            return oneTap.createOneTapClient();\n          case 3:\n            clientResult = _context6.sent;\n            if (clientResult.success) {\n              _context6.next = 7;\n              break;\n            }\n            if (clientResult.reason === 'oauth_config_not_found') {\n              setOneTapError(OneTapErrors.NoConfiguredOAuthClient);\n            } else if (clientResult.reason === 'default_provider_not_allowed') {\n              setOneTapError(OneTapErrors.DefaultProviderNotAllowed);\n            } else {\n              _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.l.error('Unable to load One Tap settings for project', clientResult);\n            }\n            return _context6.abrupt(\"return\");\n          case 7:\n            client = clientResult.client;\n            if (!isUnmounted.current) {\n              _context6.next = 10;\n              break;\n            }\n            return _context6.abrupt(\"return\");\n          case 10:\n            if (state.flowState.organization) {\n              oneTapCallback = oneTap.createOnSuccessHandler({\n                organizationId: state.flowState.organization.organization_id,\n                signupRedirectUrl: (_g = config.oauthOptions) === null || _g === void 0 ? void 0 : _g.signupRedirectURL,\n                loginRedirectUrl: (_h = config.oauthOptions) === null || _h === void 0 ? void 0 : _h.loginRedirectURL,\n                onSuccess: oneTap.RedirectOnSuccess,\n                onError: function onError() {\n                  return dispatch({\n                    type: 'transition',\n                    screen: AppScreens$1.Error\n                  });\n                }\n              });\n            } else {\n              oneTapCallback = oneTap.createOnDiscoverySuccessHandler({\n                discoveryRedirectUrl: (_j = config.oauthOptions) === null || _j === void 0 ? void 0 : _j.discoveryRedirectURL,\n                onSuccess: oneTap.RedirectOnSuccess,\n                onError: function onError() {\n                  return dispatch({\n                    type: 'transition',\n                    screen: AppScreens$1.Error\n                  });\n                }\n              });\n            }\n            _context6.next = 13;\n            return client.render({\n              callback: oneTapCallback,\n              style: {\n                position: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.e.floating\n              }\n            });\n          case 13:\n            renderResult = _context6.sent;\n            if (!isUnmounted.current) {\n              _context6.next = 17;\n              break;\n            }\n            client.cancel();\n            return _context6.abrupt(\"return\");\n          case 17:\n            if (!renderResult.success) {\n              if (renderResult.reason === 'unregistered_origin') {\n                setOneTapError(OneTapErrors.OriginNotAllowedForClient);\n              }\n              if (renderResult.reason === 'invalid_client') {\n                setOneTapError(OneTapErrors.InvalidOAuthClient);\n              }\n              _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.l.error('Unable to render One Tap prompt', renderResult);\n            }\n            return _context6.abrupt(\"return\", client);\n          case 19:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6);\n    }));\n  }, [stytch, isUnmounted, state.flowState.organization, (_a = config.oauthOptions) === null || _a === void 0 ? void 0 : _a.signupRedirectURL, (_b = config.oauthOptions) === null || _b === void 0 ? void 0 : _b.loginRedirectURL, (_c = config.oauthOptions) === null || _c === void 0 ? void 0 : _c.discoveryRedirectURL, dispatch]);\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    var client;\n    attemptToLoadOneTap().then(function ($client) {\n      return client = $client;\n    })[\"catch\"](function (err) {\n      _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.l.error('Unable to render One Tap prompt', err);\n    });\n    return function () {\n      return client === null || client === void 0 ? void 0 : client.cancel();\n    };\n  }, [attemptToLoadOneTap]);\n  if (isOnlyFloatingOneTap) {\n    return null;\n  }\n  var googleAuthButton = /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthB2BButton, {\n    key: \"oauth-\".concat(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d.Google),\n    providerType: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d.Google,\n    icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GoogleIcon, null),\n    providerTypeTitle: \"Google\",\n    loginRedirectUrl: (_d = config.oauthOptions) === null || _d === void 0 ? void 0 : _d.loginRedirectURL,\n    signupRedirectUrl: (_e = config.oauthOptions) === null || _e === void 0 ? void 0 : _e.signupRedirectURL,\n    discoveryRedirectUrl: (_f = config.oauthOptions) === null || _f === void 0 ? void 0 : _f.discoveryRedirectURL\n  });\n  var _readB2BInternals2 = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch),\n    publicToken = _readB2BInternals2.publicToken;\n  if (oneTapError !== OneTapErrors.None) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.i)(publicToken) ? ErrorMessages[oneTapError] : null, googleAuthButton);\n  }\n  return googleAuthButton;\n};\nvar getProviderInfo = function getProviderInfo(provider) {\n  switch (provider) {\n    case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d.Google:\n      return {\n        providerTypeTitle: 'Google',\n        allowedAuthMethod: 'google_oauth',\n        icon: /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(GoogleIcon, null)\n      };\n    case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.d.Microsoft:\n      return {\n        providerTypeTitle: 'Microsoft',\n        allowedAuthMethod: 'microsoft_oauth',\n        icon: /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(MicrosoftIcon, null)\n      };\n    default:\n      return {\n        providerTypeTitle: '',\n        allowedAuthMethod: '',\n        icon: /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.g, null)\n      };\n  }\n};\nvar getCustomScopesForProvider = function getCustomScopesForProvider(oauthProvider, oauthOptionsCustomScopes) {\n  var currentCustomScopes = oauthProvider.customScopes;\n  if (Object.keys(currentCustomScopes).length == 0) {\n    currentCustomScopes = oauthOptionsCustomScopes;\n  }\n  return currentCustomScopes;\n};\nvar getProviderParamsForProvider = function getProviderParamsForProvider(oauthProvider, oauthOptionsProviderParams) {\n  var currentProviderParams = oauthProvider.providerParams;\n  if (Object.keys(currentProviderParams).length == 0) {\n    currentProviderParams = oauthOptionsProviderParams;\n  }\n  return currentProviderParams;\n};\nvar OAuthButtons = function OAuthButtons() {\n  var _a, _b;\n  var config = useConfig();\n  var _useGlobalReducer21 = useGlobalReducer(),\n    _useGlobalReducer22 = _slicedToArray(_useGlobalReducer21, 1),\n    state = _useGlobalReducer22[0];\n  if (!config.oauthOptions) return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.g, null);\n  var _config$oauthOptions = config.oauthOptions,\n    providers = _config$oauthOptions.providers,\n    loginRedirectURL = _config$oauthOptions.loginRedirectURL,\n    signupRedirectURL = _config$oauthOptions.signupRedirectURL,\n    discoveryRedirectURL = _config$oauthOptions.discoveryRedirectURL,\n    customScopes = _config$oauthOptions.customScopes,\n    providerParams = _config$oauthOptions.providerParams;\n  var allowedAuthMethods = [];\n  if (state.flowState.organization && state.flowState.organization.auth_methods === 'RESTRICTED') {\n    allowedAuthMethods = (_b = (_a = state.flowState.organization) === null || _a === void 0 ? void 0 : _a.allowed_auth_methods) !== null && _b !== void 0 ? _b : [];\n  }\n  var mappedProviders = providers.map(function (provider) {\n    var oauthProvider = getParamsFromB2BOAuthProviderConfig(provider);\n    var _getProviderInfo = getProviderInfo(oauthProvider.type),\n      icon = _getProviderInfo.icon,\n      providerTypeTitle = _getProviderInfo.providerTypeTitle,\n      allowedAuthMethod = _getProviderInfo.allowedAuthMethod;\n    if (!state.flowState.organization || state.flowState.organization.auth_methods === 'ALL_ALLOWED' || allowedAuthMethods.includes(allowedAuthMethod)) {\n      if (oauthProvider.oneTap) {\n        return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(B2BGoogleOneTap, {\n          key: \"oauth-\".concat(oauthProvider.type)\n        });\n      }\n      return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(OAuthB2BButton, {\n        key: \"oauth-\".concat(oauthProvider.type),\n        providerType: oauthProvider.type,\n        icon: icon,\n        providerTypeTitle: providerTypeTitle,\n        loginRedirectUrl: loginRedirectURL,\n        signupRedirectUrl: signupRedirectURL,\n        discoveryRedirectUrl: discoveryRedirectURL,\n        customScopes: getCustomScopesForProvider(oauthProvider, customScopes),\n        providerParams: getProviderParamsForProvider(oauthProvider, providerParams)\n      });\n    }\n    console.error(\"Provider \".concat(provider, \" is not an `allowed_auth_method` for this organization. Please update your organization settings.\"));\n    return null;\n  });\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 8,\n    className: \"oauth-buttons\"\n  }, mappedProviders);\n};\nvar UsePasswordText = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Text)(_templateObject24 || (_templateObject24 = _taggedTemplateLiteral([\"\\n  font-weight: bold !important;\\n  cursor: pointer;\\n\"])));\nvar PasswordUseButton = function PasswordUseButton() {\n  var _useGlobalReducer23 = useGlobalReducer(),\n    _useGlobalReducer24 = _slicedToArray(_useGlobalReducer23, 2),\n    dispatch = _useGlobalReducer24[1];\n  var handleUsePassword = function handleUsePassword() {\n    dispatch({\n      type: 'transition',\n      screen: AppScreens$1.PasswordAuthenticate\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    justifyContent: \"center\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(UsePasswordText, {\n    onClick: handleUsePassword\n  }, \"Use a password instead\"));\n};\nvar Component;\n(function (Component) {\n  Component[\"MagicLinkEmailForm\"] = \"MagicLinkEmailForm\";\n  Component[\"MagicLinkEmailDiscoveryForm\"] = \"MagicLinkEmailDiscoveryForm\";\n  Component[\"OAuthButtons\"] = \"OAuthButtons\";\n  Component[\"SSOButtons\"] = \"SSOButtons\";\n  Component[\"PasswordsEmailForm\"] = \"PasswordsEmailForm\";\n  Component[\"PasswordEMLCombined\"] = \"PasswordEMLCombined\";\n  Component[\"Divider\"] = \"Divider\";\n})(Component || (Component = {}));\nvar generateProductComponentsOrdering = function generateProductComponentsOrdering(products, flowState) {\n  var flowStateType = flowState.type;\n  var displayEmlAndPasswordsTogether = products.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.emailMagicLinks) && products.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.passwords);\n  var ProductComponents = products.map(function (product) {\n    var _a, _b, _c;\n    switch (product) {\n      case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.emailMagicLinks:\n        if (displayEmlAndPasswordsTogether) return null;\n        return flowStateType === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization ? Component.MagicLinkEmailForm : Component.MagicLinkEmailDiscoveryForm;\n      case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.oauth:\n        return Component.OAuthButtons;\n      case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.sso:\n        var isSsoValid = ((_c = (_b = (_a = flowState.organization) === null || _a === void 0 ? void 0 : _a.sso_active_connections) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) > 0;\n        return flowStateType === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization && isSsoValid ? Component.SSOButtons : null;\n      case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.passwords:\n        if (displayEmlAndPasswordsTogether) return null;\n        return Component.PasswordsEmailForm;\n    }\n  }).filter(function (component) {\n    return component !== null;\n  });\n  if (displayEmlAndPasswordsTogether) {\n    var passwordIndex = products.indexOf(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.passwords);\n    var emlIndex = products.indexOf(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.emailMagicLinks);\n    var firstProductIndex = Math.min(passwordIndex, emlIndex);\n    var combinedComponent = flowStateType === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization ? Component.PasswordEMLCombined : Component.MagicLinkEmailDiscoveryForm;\n    ProductComponents.splice(firstProductIndex, 0, combinedComponent);\n  }\n  var hasButtons = ProductComponents.includes(Component.OAuthButtons) || ProductComponents.includes(Component.SSOButtons);\n  var hasInput = products.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.emailMagicLinks) || products.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.passwords);\n  var showDivider = hasButtons && hasInput;\n  if (ProductComponents.length > 1 && showDivider) {\n    ProductComponents.splice(ProductComponents.length - 1, 0, Component.Divider);\n  }\n  return ProductComponents;\n};\nvar Container$1 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Flex)(_templateObject25 || (_templateObject25 = _taggedTemplateLiteral([\"\\n  > * + * {\\n    margin-top: 24px;\\n  }\\n\"])));\nvar LogoImage$1 = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.img(_templateObject26 || (_templateObject26 = _taggedTemplateLiteral([\"\\n  max-height: 50px;\\n  max-width: 100px;\\n\"])));\nvar Header = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Text)(_templateObject27 || (_templateObject27 = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"])));\nvar Logo$1 = function Logo$1(_ref52) {\n  var orgLogo = _ref52.orgLogo,\n    appLogo = _ref52.appLogo;\n  if (orgLogo !== '' && appLogo !== '') return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    justifyContent: \"center\",\n    gap: 4\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LogoImage$1, {\n    src: orgLogo\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LogoImage$1, {\n    src: appLogo\n  }));\n};\nvar ProductComponents = function ProductComponents(_ref53) {\n  var components = _ref53.components;\n  var renderedComponents = components.map(function (component) {\n    switch (component) {\n      case Component.MagicLinkEmailForm:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MagicLinkEmailForm, {\n          key: component\n        });\n      case Component.MagicLinkEmailDiscoveryForm:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MagicLinkEmailDiscoveryForm, {\n          key: component\n        });\n      case Component.OAuthButtons:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OAuthButtons, {\n          key: component\n        });\n      case Component.SSOButtons:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SSOButtons, {\n          key: component\n        });\n      case Component.PasswordsEmailForm:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordsEmailForm, {\n          key: component\n        });\n      case Component.PasswordEMLCombined:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n          key: \"eml_password\",\n          direction: \"column\",\n          gap: 12\n        }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MagicLinkEmailForm, {\n          key: \"magic_link\"\n        }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordUseButton, {\n          key: \"password\"\n        }));\n      case Component.Divider:\n        return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Divider, {\n          key: \"divider\"\n        });\n    }\n  });\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, renderedComponents);\n};\nvar MainScreen = function MainScreen() {\n  var _a, _b, _c, _d, _e, _f, _g;\n  var _Ze = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.Z)(),\n    displayHeader = _Ze.displayHeader,\n    logo = _Ze.logo;\n  var config = useConfig();\n  var _useGlobalReducer25 = useGlobalReducer(),\n    _useGlobalReducer26 = _slicedToArray(_useGlobalReducer25, 1),\n    state = _useGlobalReducer26[0];\n  var allowedProducts = [];\n  var products = config.products;\n  if (((_a = state.flowState.organization) === null || _a === void 0 ? void 0 : _a.auth_methods) === 'RESTRICTED') {\n    var allowedAuthMethods = (_c = (_b = state.flowState.organization) === null || _b === void 0 ? void 0 : _b.allowed_auth_methods) !== null && _c !== void 0 ? _c : [];\n    allowedAuthMethods.forEach(function (authMethod) {\n      if (authMethod === 'sso') allowedProducts.push(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.sso);\n      if (authMethod === 'magic_link') allowedProducts.push(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.emailMagicLinks);\n      if (authMethod === 'password') allowedProducts.push(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.passwords);\n      if (authMethod === 'google_oauth' || authMethod === 'microsoft_oauth') allowedProducts.push(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.a.oauth);\n    });\n    products = products.filter(function (product) {\n      return allowedProducts.includes(product);\n    });\n  }\n  var ProductComponentsOrdering = generateProductComponentsOrdering(products, state.flowState);\n  var title;\n  switch (state.flowState.type) {\n    case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Discovery:\n      title = 'Sign up or log in';\n      break;\n    case _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.PasswordReset:\n      title = '';\n      break;\n    default:\n      title = \"Continue to \".concat((_e = (_d = state.flowState.organization) === null || _d === void 0 ? void 0 : _d.organization_name) !== null && _e !== void 0 ? _e : '...');\n      break;\n  }\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Container$1, {\n    direction: \"column\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Logo$1, {\n    appLogo: logo.logoImageUrl,\n    orgLogo: (_g = (_f = state.flowState.organization) === null || _f === void 0 ? void 0 : _f.organization_logo_url) !== null && _g !== void 0 ? _g : ''\n  }), displayHeader && title ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    justifyContent: \"center\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Header, {\n    size: \"header\"\n  }, title))) : ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null)), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ProductComponents, {\n    components: ProductComponentsOrdering\n  }));\n};\nvar GmailIconSvg = function GmailIconSvg() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 48 48\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#4caf50\",\n    d: \"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#1e88e5\",\n    d: \"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"polygon\", {\n    fill: \"#e53935\",\n    points: \"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#c62828\",\n    d: \"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    fill: \"#fbc02d\",\n    d: \"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z\"\n  }));\n};\nvar GmailIcon = CreateIcon(GmailIconSvg);\nvar OutlookIconSvg = function OutlookIconSvg() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 103.17322 104.31332\",\n    xmlSpace: \"preserve\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"defs\", {\n    id: \"defs43\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"m 64.566509,22.116383 v 20.404273 l 7.130526,4.489881 c 0.188058,0.05485 0.595516,0.05877 0.783574,0 L 103.16929,26.320259 c 0,-2.44867 -2.28412,-4.203876 -3.573094,-4.203876 H 64.566509 z\",\n    id: \"path3\",\n    style: {\n      fill: '#0072c6'\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"m 64.566509,50.13308 6.507584,4.470291 c 0.916782,0.673874 2.021622,0 2.021622,0 -1.100922,0.673874 30.077495,-20.035993 30.077495,-20.035993 v 37.501863 c 0,4.082422 -2.61322,5.794531 -5.551621,5.794531 H 64.562591 V 50.13308 z\",\n    id: \"path5\",\n    style: {\n      fill: '#0072c6'\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"g\", {\n    id: \"g23\",\n    transform: \"matrix(3.9178712,0,0,3.9178712,-13.481403,-41.384473)\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"m 11.321,20.958 c -0.566,0 -1.017,0.266 -1.35,0.797 -0.333,0.531 -0.5,1.234 -0.5,2.109 0,0.888 0.167,1.59 0.5,2.106 0.333,0.517 0.77,0.774 1.31,0.774 0.557,0 0.999,-0.251 1.325,-0.753 0.326,-0.502 0.49,-1.199 0.49,-2.09 0,-0.929 -0.158,-1.652 -0.475,-2.169 -0.317,-0.516 -0.75,-0.774 -1.3,-0.774 z\",\n    id: \"path25\",\n    style: {\n      fill: '#0072c6'\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"m 3.441,13.563 v 20.375 l 15.5,3.25 V 10.563 l -15.5,3 z m 10.372,13.632 c -0.655,0.862 -1.509,1.294 -2.563,1.294 -1.027,0 -1.863,-0.418 -2.51,-1.253 C 8.094,26.4 7.77,25.312 7.77,23.97 c 0,-1.417 0.328,-2.563 0.985,-3.438 0.657,-0.875 1.527,-1.313 2.61,-1.313 1.023,0 1.851,0.418 2.482,1.256 0.632,0.838 0.948,1.942 0.948,3.313 10e-4,1.409 -0.327,2.545 -0.982,3.407 z\",\n    id: \"path27\",\n    style: {\n      fill: '#0072c6'\n    }\n  })));\n};\nvar OutlookIcon = CreateIcon(OutlookIconSvg);\nvar YahooIconSvg = function YahooIconSvg() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"rect\", {\n    x: \"2\",\n    y: \"2\",\n    width: \"20\",\n    height: \"20\",\n    rx: \"1\",\n    fill: \"#671BDF\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M5 8.7284H7.71407L9.29444 12.7716L10.8953 8.7284H13.5379L9.55876 18.3H6.89942L7.98865 15.7637L5 8.7284Z\",\n    fill: \"white\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M14.2 16.2028C15.108 16.2028 15.8441 15.4667 15.8441 14.5587C15.8441 13.6507 15.108 12.9146 14.2 12.9146C13.292 12.9146 12.5559 13.6507 12.5559 14.5587C12.5559 15.4667 13.292 16.2028 14.2 16.2028Z\",\n    fill: \"white\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M16.3842 12.3106H13.4243L16.0512 6H19L16.3842 12.3106Z\",\n    fill: \"white\"\n  }));\n};\nvar YahooIcon = CreateIcon(YahooIconSvg);\nvar inboxLinks$1 = function inboxLinks$1(emailDomain) {\n  if (!emailDomain) {\n    return {\n      GMAIL: 'https://mail.google.com/mail/u/0/#search/in%3Aanywhere',\n      OUTLOOK: 'https://outlook.office.com/mail/0/inbox',\n      YAHOO: 'https://mail.yahoo.com/d/search/referrer=unread'\n    };\n  }\n  var gmailQuery = encodeURIComponent(\"from:@\".concat(emailDomain, \" in:anywhere\"));\n  return {\n    GMAIL: \"https://mail.google.com/mail/u/0/#search/\".concat(gmailQuery),\n    OUTLOOK: 'https://outlook.office.com/mail/0/inbox',\n    YAHOO: \"https://mail.yahoo.com/d/search/keyword=\".concat(emailDomain)\n  };\n};\nvar Link$1 = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.a(_templateObject28 || (_templateObject28 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\\n  &:hover {\\n    text-decoration: underline;\\n    text-decoration-color: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.colors.primary;\n});\nvar EmailProviderLink$1 = function EmailProviderLink$1(_ref54) {\n  var label = _ref54.label,\n    href = _ref54.href,\n    Icon = _ref54.Icon;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 4\n  }, Icon, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Link$1, {\n    href: href,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Open in \", label)));\n};\nvar EmailConfirmation$1 = function EmailConfirmation$1(_ref55) {\n  var emailDomain = _ref55.emailDomain,\n    reset = _ref55.reset,\n    email = _ref55.email;\n  var _inboxLinks$ = inboxLinks$1(emailDomain),\n    GMAIL = _inboxLinks$.GMAIL,\n    YAHOO = _inboxLinks$.YAHOO,\n    OUTLOOK = _inboxLinks$.OUTLOOK;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Check your email\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 12\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"An email was sent to \", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"b\", null, email), \".\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailProviderLink$1, {\n    href: GMAIL,\n    label: 'Gmail',\n    Icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GmailIcon, null)\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailProviderLink$1, {\n    href: YAHOO,\n    label: 'Yahoo',\n    Icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(YahooIcon, null)\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailProviderLink$1, {\n    href: OUTLOOK,\n    label: 'Outlook',\n    Icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OutlookIcon, null)\n  }))), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    onClick: reset\n  }, \"Try again\"));\n};\nvar useEmailDomain$1 = function useEmailDomain$1() {\n  var _a, _b;\n  var stytch = useStytch();\n  var config = useConfig();\n  var _h$23 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(function () {\n      var _readB2BInternals$boo = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).bootstrap.getSync(),\n        emailDomains = _readB2BInternals$boo.emailDomains;\n      return emailDomains;\n    }),\n    _h$24 = _slicedToArray(_h$23, 2),\n    emailDomains = _h$24[0],\n    setEmailDomains = _h$24[1];\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).bootstrap.getAsync().then(function (_ref56) {\n      var emailDomains = _ref56.emailDomains;\n      setEmailDomains(emailDomains);\n    });\n  }, [stytch]);\n  if ((_a = config.emailMagicLinksOptions) === null || _a === void 0 ? void 0 : _a.domainHint) {\n    return (_b = config.emailMagicLinksOptions) === null || _b === void 0 ? void 0 : _b.domainHint;\n  }\n  if (emailDomains.length === 1) {\n    return emailDomains[0];\n  }\n  return null;\n};\nvar EmailConfirmation = function EmailConfirmation() {\n  var _useGlobalReducer27 = useGlobalReducer(),\n    _useGlobalReducer28 = _slicedToArray(_useGlobalReducer27, 2),\n    state = _useGlobalReducer28[0],\n    dispatch = _useGlobalReducer28[1];\n  var emailDomain = useEmailDomain$1();\n  var reset = function reset() {\n    dispatch({\n      type: 'set_magic_link_email',\n      email: ''\n    });\n    dispatch({\n      type: 'transition',\n      screen: AppScreens$1.Main\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailConfirmation$1, {\n    emailDomain: emailDomain,\n    reset: reset,\n    email: state.formState.magicLinkState.email\n  });\n};\nvar LoggingInScreen = function LoggingInScreen() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 36,\n    alignItems: \"center\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, {\n    size: \"header\"\n  }, \"Logging in...\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(CircularProgress, {\n    size: 100,\n    thickness: 8\n  }));\n};\nvar LoadingScreen = function LoadingScreen() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 36,\n    alignItems: \"center\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(CircularProgress, {\n    size: 100,\n    thickness: 8\n  }));\n};\nvar OrganizationsContainer = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Flex)(_templateObject29 || (_templateObject29 = _taggedTemplateLiteral([\"\\n  border: \", \";\\n  border-radius: \", \";\\n  > div + div {\\n    border-top: \", \";\\n  }\\n\"])), function (_ref57) {\n  var theme = _ref57.theme;\n  return theme.container.border;\n}, function (_ref58) {\n  var theme = _ref58.theme;\n  return theme.container.borderRadius;\n}, function (_ref59) {\n  var theme = _ref59.theme;\n  return theme.container.border;\n});\nvar OrganizationsRow = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Flex)(_templateObject30 || (_templateObject30 = _taggedTemplateLiteral([\"\\n  cursor: pointer;\\n\"])));\nvar LogoImage = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.img(_templateObject31 || (_templateObject31 = _taggedTemplateLiteral([\"\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 4px;\\n\"])));\nvar LogoText = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Flex)(_templateObject32 || (_templateObject32 = _taggedTemplateLiteral([\"\\n  height: 40px;\\n  width: 40px;\\n  background-color: \", \";\\n  color: \", \";\\n  border-radius: 4px;\\n\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 18px;\\n  line-height: 25px;\\n\"])), function (_ref60) {\n  var theme = _ref60.theme;\n  return theme.buttons.primary.backgroundColor;\n}, function (_ref61) {\n  var theme = _ref61.theme;\n  return theme.buttons.primary.textColor;\n});\nvar RightArrowSVG = function RightArrowSVG() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M7 0.333313L5.825 1.50831L10.475 6.16665H0.333334V7.83331H10.475L5.825 12.4916L7 13.6666L13.6667 6.99998L7 0.333313Z\",\n    fill: \"#19303D\"\n  }));\n};\nvar Logo = function Logo(_ref62) {\n  var name = _ref62.name,\n    logo = _ref62.logo;\n  if (logo !== '') {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(LogoImage, {\n      src: logo\n    });\n  }\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(LogoText, {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }, name[0]);\n};\nvar ArrowText = function ArrowText(_ref63) {\n  var type = _ref63.type;\n  if (type === 'eligible_to_join_by_email_domain' || type === 'pending_member') return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, null, \"Join\");\n  if (type === 'invited_member') return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, null, \"Accept Invite\");\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.g, null);\n};\nvar DiscoverNoOrganizations = function DiscoverNoOrganizations() {\n  var _useGlobalReducer29 = useGlobalReducer(),\n    _useGlobalReducer30 = _slicedToArray(_useGlobalReducer29, 2),\n    state = _useGlobalReducer30[0],\n    dispatch = _useGlobalReducer30[1];\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var _useBootstrap = useBootstrap(),\n    createOrganizationEnabled = _useBootstrap.createOrganizationEnabled;\n  var goBack = function goBack() {\n    return dispatch({\n      type: 'transition',\n      screen: AppScreens$1.Main\n    });\n  };\n  var _useMutate4 = useMutate(\"stytch.discovery.organization.create\", function () {\n      return stytchClient.discovery.organizations.create({\n        session_duration_minutes: config.sessionOptions.sessionDurationMinutes\n      });\n    }, {\n      onSuccess: function onSuccess(data) {\n        onAuthenticateSuccess(data, dispatch, config);\n      },\n      onError: function onError() {\n        dispatch({\n          type: 'transition',\n          screen: AppScreens$1.Error\n        });\n      }\n    }),\n    stytchCreateOrganization = _useMutate4.trigger,\n    isCreateLoading = _useMutate4.isMutating;\n  if (isCreateLoading) {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(LoadingScreen, null);\n  }\n  if (createOrganizationEnabled && !config.disableCreateOrganization) {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n      direction: \"column\",\n      gap: 24\n    }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(BackArrow, {\n      onClick: goBack\n    }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, {\n      size: \"header\"\n    }, \"Create an organization to get started\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Button, {\n      type: \"button\",\n      onClick: function onClick() {\n        return stytchCreateOrganization();\n      }\n    }, \"Create an organization\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, null, state.formState.discoveryState.email, \" does not have an account. Think this is a mistake? Try a different email address, or contact your admin.\"));\n  }\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(BackArrow, {\n    onClick: goBack\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, {\n    size: \"header\"\n  }, state.formState.discoveryState.email, \" does not belong to any organizations.\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, null, \"Make sure your email address is correct. Otherwise, you might need to be invited by your admin.\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Button, {\n    type: \"button\",\n    variant: \"outlined\",\n    onClick: goBack\n  }, \"Try a different email address\"));\n};\nvar shouldAllowDirectLoginToOrganization = function shouldAllowDirectLoginToOrganization(organizations, config) {\n  if (!(config === null || config === void 0 ? void 0 : config.status)) {\n    return null;\n  }\n  var activeOrganizations = organizations.filter(function (org) {\n    return org.membership.type === 'active_member';\n  });\n  var hasBlockingConditions = organizations.some(function (org) {\n    return (org.membership.type === 'pending_member' || org.membership.type === 'invited_member') && !config.ignoreInvites || org.membership.type === 'eligible_to_join_by_email_domain' && !config.ignoreJitProvisioning;\n  });\n  return activeOrganizations.length === 1 && !hasBlockingConditions ? activeOrganizations[0] : null;\n};\nvar Discovery = function Discovery() {\n  var _a;\n  var _useGlobalReducer31 = useGlobalReducer(),\n    _useGlobalReducer32 = _slicedToArray(_useGlobalReducer31, 2),\n    state = _useGlobalReducer32[0],\n    dispatch = _useGlobalReducer32[1];\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var shouldDirectLoginConfigEnabled = !!((_a = config.directLoginForSingleMembership) === null || _a === void 0 ? void 0 : _a.status);\n  var _useBootstrap2 = useBootstrap(),\n    createOrganizationEnabled = _useBootstrap2.createOrganizationEnabled;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    var directLoginOrganization = shouldAllowDirectLoginToOrganization(state.formState.discoveryState.discoveredOrganizations, config.directLoginForSingleMembership);\n    if (shouldDirectLoginConfigEnabled && directLoginOrganization !== null) {\n      handleDiscoveryOrganizationStart(directLoginOrganization);\n    }\n  }, [shouldDirectLoginConfigEnabled, state.formState.discoveryState.discoveredOrganizations, config.directLoginForSingleMembership]);\n  var handleDiscoveryOrganizationStart = function handleDiscoveryOrganizationStart(discoveredOrganization) {\n    var _a;\n    var organization = discoveredOrganization.organization;\n    var email = (_a = discoveredOrganization.membership.member) === null || _a === void 0 ? void 0 : _a.email_address;\n    if (discoveredOrganization.primary_required) {\n      if (organization.allowed_auth_methods && organization.allowed_auth_methods.length === 1 && organization.allowed_auth_methods[0] === 'sso' && organization.sso_default_connection_id) {\n        startSso(organization.sso_default_connection_id);\n      } else {\n        dispatch({\n          type: 'set_organization',\n          organization: organization\n        });\n        dispatch({\n          type: 'set_password_state',\n          email: email !== null && email !== void 0 ? email : ''\n        });\n        dispatch({\n          type: 'transition',\n          screen: AppScreens$1.Main\n        });\n      }\n    } else {\n      stytchDiscoveryExchange({\n        organizationId: organization.organization_id\n      });\n    }\n  };\n  var startSso = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.T)(function (connectionId) {\n    stytchClient.sso.start({\n      connection_id: connectionId\n    });\n  }, [stytchClient]);\n  var _useMutate5 = useMutate(\"stytch.discovery.intermediateSessions.exchange\", function (_, _ref64) {\n      var organizationId = _ref64.arg.organizationId;\n      return stytchClient.discovery.intermediateSessions.exchange({\n        organization_id: organizationId,\n        session_duration_minutes: config.sessionOptions.sessionDurationMinutes\n      });\n    }, {\n      onSuccess: function onSuccess(data) {\n        onAuthenticateSuccess(data, dispatch, config);\n      }\n    }),\n    stytchDiscoveryExchange = _useMutate5.trigger,\n    isExchangeLoading = _useMutate5.isMutating;\n  var _useMutate6 = useMutate(\"stytch.discovery.organization.create\", function () {\n      return stytchClient.discovery.organizations.create({\n        session_duration_minutes: config.sessionOptions.sessionDurationMinutes\n      });\n    }, {\n      onSuccess: function onSuccess(data) {\n        onAuthenticateSuccess(data, dispatch, config);\n      },\n      onError: function onError() {\n        dispatch({\n          type: 'transition',\n          screen: AppScreens$1.Error\n        });\n      }\n    }),\n    stytchCreateOrganization = _useMutate6.trigger,\n    isCreateLoading = _useMutate6.isMutating;\n  if (isExchangeLoading) {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(LoggingInScreen, null);\n  }\n  if (isCreateLoading) {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(LoadingScreen, null);\n  }\n  if (state.formState.discoveryState.discoveredOrganizations.length === 0) {\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(DiscoverNoOrganizations, null);\n  }\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(BackArrow, {\n    onClick: function onClick() {\n      return dispatch({\n        type: 'transition',\n        screen: AppScreens$1.Main\n      });\n    }\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, {\n    size: \"header\"\n  }, \"Select an organization to continue\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(OrganizationsContainer, {\n    direction: \"column\"\n  }, state.formState.discoveryState.discoveredOrganizations.map(function (discoveredOrganization) {\n    var organization = discoveredOrganization.organization,\n      membership = discoveredOrganization.membership;\n    return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(OrganizationsRow, {\n      padding: 8,\n      justifyContent: \"space-between\",\n      key: organization.organization_id,\n      alignItems: \"center\",\n      onClick: function onClick() {\n        return handleDiscoveryOrganizationStart(discoveredOrganization);\n      }\n    }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n      gap: 4,\n      alignItems: \"center\"\n    }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Logo, {\n      name: organization.organization_name,\n      logo: organization.organization_logo_url\n    }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, null, organization.organization_name)), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n      gap: 4,\n      alignItems: \"center\"\n    }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(ArrowText, {\n      type: membership.type\n    }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(RightArrowSVG, null)));\n  })), createOrganizationEnabled && ( /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Divider, null), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Button, {\n    type: \"button\",\n    variant: \"outlined\",\n    onClick: function onClick() {\n      return stytchCreateOrganization();\n    }\n  }, \"Create an organization\"))));\n};\nvar ConfirmationSVG = function ConfirmationSVG() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"201\",\n    height: \"200\",\n    viewBox: \"0 0 201 200\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"g\", {\n    opacity: \"0.1\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M100.5 0C155.729 0 200.5 44.7715 200.5 99.9999C200.5 155.229 155.729 200 100.5 200C45.2715 200 0.5 155.229 0.5 99.9999C0.5 44.7715 45.2715 0 100.5 0Z\",\n    fill: \"url(#paint0_linear_1356_5135)\"\n  })), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"g\", {\n    opacity: \"0.3\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M100.5 17.5728C146.023 17.5728 182.927 54.4767 182.927 99.9998C182.927 145.523 146.023 182.427 100.5 182.427C54.9768 182.427 18.0729 145.523 18.0729 99.9998C18.0729 54.4767 54.9768 17.5728 100.5 17.5728Z\",\n    fill: \"url(#paint1_linear_1356_5135)\"\n  })), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"g\", {\n    opacity: \"0.7\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M100.5 32.231C137.988 32.231 168.378 62.6208 168.378 100.109C168.378 137.597 137.988 167.987 100.5 167.987C63.012 167.987 32.6222 137.597 32.6222 100.109C32.6222 62.6208 63.012 32.231 100.5 32.231Z\",\n    fill: \"url(#paint2_linear_1356_5135)\"\n  })), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M100.605 48.7734C128.955 48.7734 151.937 71.7553 151.937 100.105C151.937 128.455 128.955 151.437 100.605 151.437C72.255 151.437 49.2731 128.455 49.2731 100.105C49.2731 71.7553 72.255 48.7734 100.605 48.7734Z\",\n    fill: \"#00AC26\",\n    fillOpacity: \"0.12\"\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"mask\", {\n    id: \"mask0_1356_5135\",\n    style: {\n      maskType: 'alpha'\n    },\n    maskUnits: \"userSpaceOnUse\",\n    x: \"49\",\n    y: \"48\",\n    width: \"103\",\n    height: \"104\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M100.605 48.7734C128.955 48.7734 151.937 71.7553 151.937 100.105C151.937 128.455 128.955 151.437 100.605 151.437C72.255 151.437 49.2731 128.455 49.2731 100.105C49.2731 71.7553 72.255 48.7734 100.605 48.7734Z\",\n    fill: \"white\"\n  })), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"g\", {\n    mask: \"url(#mask0_1356_5135)\"\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M88 117.5L70.5 100L64.6667 105.833L88 129.167L138 79.1666L132.167 73.3333L88 117.5Z\",\n    fill: \"white\"\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"defs\", null, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"linearGradient\", {\n    id: \"paint0_linear_1356_5135\",\n    x1: \"-86.6375\",\n    y1: \"160.384\",\n    x2: \"170.169\",\n    y2: \"338.297\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"stop\", {\n    stopColor: \"white\"\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#09F33D\"\n  })), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"linearGradient\", {\n    id: \"paint1_linear_1356_5135\",\n    x1: \"-86.6374\",\n    y1: \"160.384\",\n    x2: \"170.169\",\n    y2: \"338.297\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"stop\", {\n    stopColor: \"#00AC26\",\n    stopOpacity: \"0.4\"\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#BDFFBC\",\n    stopOpacity: \"0.58\"\n  })), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"linearGradient\", {\n    id: \"paint2_linear_1356_5135\",\n    x1: \"-86.6375\",\n    y1: \"160.493\",\n    x2: \"170.169\",\n    y2: \"338.406\",\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"stop\", {\n    stopColor: \"#F8FFF5\"\n  }), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#00AC26\",\n    stopOpacity: \"0.26\"\n  }))));\n};\nvar ConfirmationScreen = function ConfirmationScreen() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    direction: \"column\",\n    gap: 24,\n    alignItems: \"center\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, {\n    size: \"header\"\n  }, \"Success!\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Text, null, \"You have successfully logged in.\"), /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(ConfirmationSVG, null));\n};\nvar assertUnreachable = function assertUnreachable() {\n  throw new Error('Assertion failure');\n};\nvar Chevron = function Chevron() {\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"svg\", {\n    viewBox: \"0 0 25 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"path\", {\n    d: \"M9.09 7.91L13.67 12.5L9.09 17.09L10.5 18.5L16.5 12.5L10.5 6.5L9.09 7.91Z\",\n    fill: \"currentColor\"\n  }));\n};\nvar Chevron$1 = CreateIcon(Chevron);\nvar StyledButton = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.button(_templateObject33 || (_templateObject33 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  color: \", \";\\n  cursor: pointer;\\n  padding: 20px 0;\\n  border-bottom: 1px solid #e5e8eb;\\n  font-weight: 500;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"])), function (props) {\n  return props.theme.colors.primary;\n});\nvar MenuText = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject34 || (_templateObject34 = _taggedTemplateLiteral([\"\\n  flex: 1 1 auto;\\n\"])));\nvar ChevronContainer = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.span(_templateObject35 || (_templateObject35 = _taggedTemplateLiteral([\"\\n  flex: 0 0 auto;\\n\"])));\nvar MenuButton = function MenuButton(_ref65) {\n  var children = _ref65.children,\n    onClick = _ref65.onClick;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(StyledButton, {\n    type: \"button\",\n    onClick: onClick\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MenuText, null, children), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ChevronContainer, {\n    \"aria-hidden\": true\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Chevron$1, null)));\n};\nvar mfaOptions = _defineProperty(_defineProperty({}, _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp, {\n  label: 'Use an authenticator app'\n}), _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp, {\n  label: 'Text me a code'\n});\nvar MFAEnrollmentSelectionScreen = function MFAEnrollmentSelectionScreen() {\n  var _useConfig = useConfig(),\n    mfaProductInclude = _useConfig.mfaProductInclude,\n    mfaProductOrder = _useConfig.mfaProductOrder;\n  var _useGlobalReducer33 = useGlobalReducer(),\n    _useGlobalReducer34 = _slicedToArray(_useGlobalReducer33, 2),\n    state = _useGlobalReducer34[0],\n    dispatch = _useGlobalReducer34[1];\n  var organizationMfaOptionsSupported = state.mfa.primaryInfo.organizationMfaOptionsSupported;\n  var handleChooseMethod = function handleChooseMethod(method) {\n    dispatch({\n      type: 'mfa/start_enrollment',\n      method: method\n    });\n  };\n  var displayOptions = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    var optionsToDisplay = getEnabledMethods({\n      allMethods: B2B_MFA_METHODS,\n      orgSupportedMethods: organizationMfaOptionsSupported,\n      uiIncludedMethods: mfaProductInclude\n    });\n    var sortedOptions = (mfaProductOrder !== null && mfaProductOrder !== void 0 ? mfaProductOrder : B2B_MFA_METHODS).reduce(function (acc, cur) {\n      if (optionsToDisplay.has(cur)) {\n        acc.push({\n          option: cur,\n          label: mfaOptions[cur].label\n        });\n        optionsToDisplay[\"delete\"](cur);\n      }\n      return acc;\n    }, []);\n    optionsToDisplay.forEach(function (option) {\n      sortedOptions.push({\n        option: option,\n        label: mfaOptions[option].label\n      });\n    });\n    return sortedOptions;\n  }, [mfaProductInclude, mfaProductOrder, organizationMfaOptionsSupported]);\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Set up Multi-Factor Authentication\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Your organization requires an additional form of verification to make your account more secure.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\"\n  }, displayOptions.map(function (_ref66) {\n    var option = _ref66.option,\n      label = _ref66.label;\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MenuButton, {\n      key: option,\n      onClick: function onClick() {\n        handleChooseMethod(option);\n      }\n    }, label);\n  })));\n};\nvar inboxLinks = function inboxLinks(emailDomain) {\n  if (!emailDomain) {\n    return {\n      GMAIL: 'https://mail.google.com/mail/u/0/#search/in%3Aanywhere',\n      OUTLOOK: 'https://outlook.office.com/mail/0/inbox'\n    };\n  }\n  var gmailQuery = encodeURIComponent(\"from:@\".concat(emailDomain, \" in:anywhere\"));\n  return {\n    GMAIL: \"https://mail.google.com/mail/u/0/#search/\".concat(gmailQuery),\n    OUTLOOK: 'https://outlook.office.com/mail/0/inbox'\n  };\n};\nvar Link = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.a(_templateObject36 || (_templateObject36 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\\n  &:hover {\\n    text-decoration: underline;\\n    text-decoration-color: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.colors.primary;\n});\nvar EmailProviderLink = function EmailProviderLink(_ref67) {\n  var label = _ref67.label,\n    href = _ref67.href,\n    Icon = _ref67.Icon;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 4\n  }, Icon, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Link, {\n    href: href,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Open in \", label)));\n};\nvar VerifyEmailConfirmation = function VerifyEmailConfirmation(_ref68) {\n  var emailDomain = _ref68.emailDomain,\n    reset = _ref68.reset,\n    email = _ref68.email;\n  var _inboxLinks = inboxLinks(emailDomain),\n    GMAIL = _inboxLinks.GMAIL,\n    OUTLOOK = _inboxLinks.OUTLOOK;\n  var _useGlobalReducer35 = useGlobalReducer(),\n    _useGlobalReducer36 = _slicedToArray(_useGlobalReducer35, 2),\n    dispatch = _useGlobalReducer36[1];\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: function onClick() {\n      return dispatch({\n        type: 'transition',\n        screen: AppScreens$1.Main\n      });\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Verify your email first.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 12\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"A login link was sent to you at \", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"b\", null, email), \".\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailProviderLink, {\n    href: GMAIL,\n    label: 'Gmail',\n    Icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GmailIcon, null)\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailProviderLink, {\n    href: OUTLOOK,\n    label: 'Outlook',\n    Icon: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OutlookIcon, null)\n  }))), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"row\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    color: \"secondary\"\n  }, \"Didn't get it?\"), \"\\xA0\", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GetHelpText, {\n    color: \"secondary\",\n    onClick: reset\n  }, \"Resend email\")));\n};\nvar useEmailDomain = function useEmailDomain() {\n  var _a, _b;\n  var stytch = useStytch();\n  var config = useConfig();\n  var _h$25 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(function () {\n      var _readB2BInternals$boo2 = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).bootstrap.getSync(),\n        emailDomains = _readB2BInternals$boo2.emailDomains;\n      return emailDomains;\n    }),\n    _h$26 = _slicedToArray(_h$25, 2),\n    emailDomains = _h$26[0],\n    setEmailDomains = _h$26[1];\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).bootstrap.getAsync().then(function (_ref69) {\n      var emailDomains = _ref69.emailDomains;\n      setEmailDomains(emailDomains);\n    });\n  }, [stytch]);\n  if ((_a = config.emailMagicLinksOptions) === null || _a === void 0 ? void 0 : _a.domainHint) {\n    return (_b = config.emailMagicLinksOptions) === null || _b === void 0 ? void 0 : _b.domainHint;\n  }\n  if (emailDomains.length === 1) {\n    return emailDomains[0];\n  }\n  return null;\n};\nvar PasswordResetConfirmation = function PasswordResetConfirmation() {\n  var _useGlobalReducer37 = useGlobalReducer(),\n    _useGlobalReducer38 = _slicedToArray(_useGlobalReducer37, 2),\n    state = _useGlobalReducer38[0],\n    dispatch = _useGlobalReducer38[1];\n  var emailDomain = useEmailDomain();\n  var reset = function reset() {\n    dispatch({\n      type: 'set_magic_link_email',\n      email: ''\n    });\n    dispatch({\n      type: 'transition',\n      screen: AppScreens$1.Main\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(VerifyEmailConfirmation, {\n    emailDomain: emailDomain,\n    reset: reset,\n    email: state.formState.passwordState.email\n  });\n};\nvar Block = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject37 || (_templateObject37 = _taggedTemplateLiteral([\"\\n  height: 4px;\\n  width: 25%;\\n  background-color: \", \";\\n\"])), function (props) {\n  return props.$bgColor;\n});\nvar PasswordStrengthCheck = function PasswordStrengthCheck(_ref70) {\n  var score = _ref70.score;\n  var blocks = [];\n  switch (score) {\n    case 0:\n    case 1:\n      blocks = ['#8B1214', '#ADBCC5', '#ADBCC5', '#ADBCC5'];\n      break;\n    case 2:\n      blocks = ['#8B1214', '#8B1214', '#ADBCC5', '#ADBCC5'];\n      break;\n    case 3:\n      blocks = ['#0C5A56', '#0C5A56', '#0C5A56', '#ADBCC5'];\n      break;\n    case 4:\n      blocks = ['#0C5A56', '#0C5A56', '#0C5A56', '#0C5A56'];\n      break;\n    default:\n      blocks = ['#ADBCC5', '#ADBCC5', '#ADBCC5', '#ADBCC5'];\n      break;\n  }\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 2\n  }, blocks.map(function (block, i) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Block, {\n      key: \"\".concat(block, \"-\").concat(i),\n      \"$bgColor\": block\n    });\n  }));\n};\nvar CheckIcon = function CheckIcon() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    height: 16,\n    width: 16\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M5.86332 10.5833L3.08332 7.80333L2.13666 8.74333L5.86332 12.47L13.8633 4.47L12.9233 3.53L5.86332 10.5833Z\",\n    fill: \"#0C5A56\"\n  })));\n};\nvar CrossIcon = function CrossIcon() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(Flex, {\n    height: 16,\n    width: 16\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M12.6667 4.27334L11.7267 3.33334L8.00001 7.06001L4.27334 3.33334L3.33334 4.27334L7.06001 8.00001L3.33334 11.7267L4.27334 12.6667L8.00001 8.94001L11.7267 12.6667L12.6667 11.7267L8.94001 8.00001L12.6667 4.27334Z\",\n    fill: \"#8B1214\"\n  })));\n};\nvar PasswordB2BError = function PasswordB2BError(props) {\n  var _a, _b;\n  var bootstrap = useBootstrap();\n  var complexity = (_a = bootstrap.passwordConfig) === null || _a === void 0 ? void 0 : _a.ludsComplexity;\n  var characterLength = (_b = bootstrap.passwordConfig) === null || _b === void 0 ? void 0 : _b.ludsMinimumCount;\n  if (props.passwordPolicy === 'none') {\n    return null;\n  }\n  if (props.passwordPolicy === 'zxcvbn') {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordStrengthCheck, {\n      score: props.passwordScore\n    }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n      errorMessage: props.errorMessage !== '' ? props.errorMessage : props.passwordFeedback\n    }));\n  }\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 4\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 4\n  }, props.missingCharacters === 0 ? /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CheckIcon, null) : /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CrossIcon, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: props.missingCharacters === 0 ? 'success' : 'error'\n  }, \"Must be at least \", characterLength, \" characters long\")), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 4\n  }, props.missingComplexity === 0 ? /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CheckIcon, null) : /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CrossIcon, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: props.missingComplexity === 0 ? 'success' : 'error'\n  }, \"Must contain \", complexity, \" of the following: uppercase letter, lowercase letter, number, symbol\")), props.isPasswordBreached && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 4\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CrossIcon, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"error\"\n  }, \"This password may have been used on a different site that experienced a security issue. Please choose another password.\"))));\n};\nvar clearStytchSearchParams = function clearStytchSearchParams() {\n  return window.history.replaceState(null, window.document.title, window.location.pathname);\n};\nvar Form = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.form(_templateObject38 || (_templateObject38 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));\nvar PasswordResetForm = function PasswordResetForm() {\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var _useGlobalReducer39 = useGlobalReducer(),\n    _useGlobalReducer40 = _slicedToArray(_useGlobalReducer39, 2),\n    dispatch = _useGlobalReducer40[1];\n  var onEvent = useEventCallback();\n  var onError = useErrorCallback();\n  var _h$27 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$28 = _slicedToArray(_h$27, 2),\n    resetTokenType = _h$28[0],\n    setResetTokenType = _h$28[1];\n  var _h$29 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$30 = _slicedToArray(_h$29, 2),\n    resetToken = _h$30[0],\n    setResetToken = _h$30[1];\n  var dataLayer = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytchClient).dataLayer;\n  var email = dataLayer.getItem('reset-email-value');\n  var _h$31 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$32 = _slicedToArray(_h$31, 2),\n    password = _h$32[0],\n    setPassword = _h$32[1];\n  var _h$33 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$34 = _slicedToArray(_h$33, 2),\n    errorMessage = _h$34[0],\n    setErrorMessage = _h$34[1];\n  var _h$35 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(0),\n    _h$36 = _slicedToArray(_h$35, 2),\n    passwordScore = _h$36[0],\n    setPasswordScore = _h$36[1];\n  var _h$37 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$38 = _slicedToArray(_h$37, 2),\n    passwordFeedback = _h$38[0],\n    setPasswordFeedback = _h$38[1];\n  var _h$39 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(true),\n    _h$40 = _slicedToArray(_h$39, 2),\n    invalidPassword = _h$40[0],\n    setInvalidPassword = _h$40[1];\n  var _h$41 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(false),\n    _h$42 = _slicedToArray(_h$41, 2),\n    isSubmitting = _h$42[0],\n    setIsSubmitting = _h$42[1];\n  var _h$43 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)('none'),\n    _h$44 = _slicedToArray(_h$43, 2),\n    strengthPolicy = _h$44[0],\n    setStrengthPolicy = _h$44[1];\n  var _h$45 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(0),\n    _h$46 = _slicedToArray(_h$45, 2),\n    missingCharacters = _h$46[0],\n    setMissingCharacters = _h$46[1];\n  var _h$47 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(0),\n    _h$48 = _slicedToArray(_h$47, 2),\n    missingComplexity = _h$48[0],\n    setMissingComplexity = _h$48[1];\n  var _h$49 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(false),\n    _h$50 = _slicedToArray(_h$49, 2),\n    isPasswordBreached = _h$50[0],\n    setIsPasswordBreached = _h$50[1];\n  var updateStrengthCheck = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return (0,_index_headless_CNM_XbTm_js__WEBPACK_IMPORTED_MODULE_0__.d)(function (password) {\n      return stytchClient.passwords.strengthCheck({\n        password: password\n      }).then(function (_ref71) {\n        var score = _ref71.score,\n          valid_password = _ref71.valid_password,\n          zxcvbn_feedback = _ref71.zxcvbn_feedback,\n          luds_feedback = _ref71.luds_feedback,\n          strength_policy = _ref71.strength_policy,\n          breached_password = _ref71.breached_password;\n        setStrengthPolicy(strength_policy);\n        setInvalidPassword(!valid_password);\n        if (strength_policy === 'zxcvbn') {\n          setPasswordScore(score);\n          setPasswordFeedback(zxcvbn_feedback.warning);\n        } else if (strength_policy === 'luds') {\n          setMissingCharacters(luds_feedback.missing_characters);\n          setMissingComplexity(luds_feedback.missing_complexity);\n          setIsPasswordBreached(breached_password);\n        }\n      });\n    });\n  }, [stytchClient.passwords]);\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    var _a, _b;\n    var params = new URLSearchParams(window.location.search);\n    var token = (_a = params.get('token')) !== null && _a !== void 0 ? _a : '';\n    var tokenType = (_b = params.get('stytch_token_type')) !== null && _b !== void 0 ? _b : '';\n    setResetToken(token);\n    setResetTokenType(tokenType);\n  }, []);\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    var _a, _b;\n    if (resetTokenType === 'multi_tenant_magic_links') {\n      stytchClient.magicLinks.authenticate({\n        magic_links_token: resetToken,\n        session_duration_minutes: (_b = (_a = config.sessionOptions) === null || _a === void 0 ? void 0 : _a.sessionDurationMinutes) !== null && _b !== void 0 ? _b : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.D\n      }).then(function (data) {\n        clearStytchSearchParams();\n        dispatch({\n          type: 'primary_authenticate_success',\n          response: data,\n          includedMfaMethods: config.mfaProductInclude,\n          resetTokenType: resetTokenType\n        });\n      })[\"catch\"](function (e) {\n        setErrorMessage('We were unable to verify your email. Please contact your admin for help.');\n        onError(e);\n      });\n      return;\n    }\n  }, [resetTokenType]);\n  var onPasswordChange = function onPasswordChange(password) {\n    setPassword(password);\n    updateStrengthCheck(password);\n  };\n  var handleSubmit = function handleSubmit(e) {\n    var _a, _b;\n    e.preventDefault();\n    setErrorMessage('');\n    setIsSubmitting(true);\n    if (resetTokenType == 'multi_tenant_passwords') {\n      stytchClient.passwords.resetByEmail({\n        password_reset_token: resetToken,\n        password: password,\n        session_duration_minutes: (_b = (_a = config.sessionOptions) === null || _a === void 0 ? void 0 : _a.sessionDurationMinutes) !== null && _b !== void 0 ? _b : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.D\n      }).then(function (data) {\n        setIsSubmitting(false);\n        onEvent({\n          type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BPasswordResetByEmail,\n          data: data\n        });\n        onAuthenticateSuccess(data, dispatch, config);\n      })[\"catch\"](function (e) {\n        onError(e);\n        var message = e.message;\n        if (e instanceof _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.c) {\n          message = e.error_message;\n        }\n        setErrorMessage(message);\n        setIsSubmitting(false);\n      });\n    } else {\n      stytchClient.passwords.resetBySession({\n        password: password\n      }).then(function (data) {\n        setIsSubmitting(false);\n        onEvent({\n          type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BPasswordResetBySession,\n          data: data\n        });\n        dispatch({\n          type: 'transition',\n          screen: AppScreens$1.LoggedIn\n        });\n      })[\"catch\"](function (e) {\n        onError(e);\n        var message = e.message;\n        if (e instanceof _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.c) {\n          message = e.error_message;\n        }\n        setErrorMessage(message);\n        setIsSubmitting(false);\n      });\n    }\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 36,\n    className: 'resetPasswordContainer'\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Set a new password\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Form, {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8\n  }, email ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 2\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Email\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Input, {\n    disabled: true,\n    name: \"email\",\n    id: \"email-input\",\n    value: email\n  }))) : ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null)), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 2\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Password\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordInput, {\n    password: password,\n    setPassword: onPasswordChange,\n    type: \"new\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordB2BError, {\n    passwordPolicy: strengthPolicy,\n    passwordScore: passwordScore,\n    errorMessage: errorMessage,\n    passwordFeedback: passwordFeedback,\n    missingCharacters: missingCharacters,\n    missingComplexity: missingComplexity,\n    isPasswordBreached: isPasswordBreached\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    isSubmitting: isSubmitting,\n    text: \"Continue\",\n    disabled: invalidPassword\n  }))));\n};\nvar PasswordSetNew = function PasswordSetNew() {\n  var _useGlobalReducer41 = useGlobalReducer(),\n    _useGlobalReducer42 = _slicedToArray(_useGlobalReducer41, 2),\n    dispatch = _useGlobalReducer42[1];\n  var onEvent = useEventCallback();\n  var config = useConfig();\n  var _usePasswordInput3 = usePasswordInput(),\n    stytch = _usePasswordInput3.stytch,\n    onError = _usePasswordInput3.onError,\n    email = _usePasswordInput3.email,\n    organization = _usePasswordInput3.organization,\n    setIsSubmitting = _usePasswordInput3.setIsSubmitting;\n  if (!organization) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  }\n  var resendResetPassword = function resendResetPassword() {\n    var _a, _b, _c, _d;\n    stytch.passwords.resetByEmailStart({\n      email_address: email,\n      organization_id: organization.organization_id,\n      login_redirect_url: (_a = config.emailMagicLinksOptions) === null || _a === void 0 ? void 0 : _a.loginTemplateId,\n      reset_password_redirect_url: (_b = config.passwordOptions) === null || _b === void 0 ? void 0 : _b.resetPasswordRedirectURL,\n      reset_password_expiration_minutes: (_c = config.passwordOptions) === null || _c === void 0 ? void 0 : _c.resetPasswordExpirationMinutes,\n      reset_password_template_id: (_d = config.passwordOptions) === null || _d === void 0 ? void 0 : _d.resetPasswordTemplateId\n    }).then(function (data) {\n      toast$1.success('Email resent');\n      setIsSubmitting(false);\n      onEvent({\n        type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BPasswordResetByEmailStart,\n        data: data\n      });\n    })[\"catch\"](function (e) {\n      onError(e);\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: function onClick() {\n      return dispatch({\n        type: 'transition',\n        screen: AppScreens$1.Main\n      });\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Check your email!\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"A login link was sent to you at \", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"b\", null, email), \".\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Didn't get it?\", ' ', /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"button\", {\n    onClick: resendResetPassword,\n    style: {\n      all: 'unset'\n    }\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"b\", {\n    style: {\n      cursor: 'pointer'\n    }\n  }, \"Resend email\"))));\n};\nvar PasswordsForgotForm = function PasswordsForgotForm() {\n  var _useGlobalReducer43 = useGlobalReducer(),\n    _useGlobalReducer44 = _slicedToArray(_useGlobalReducer43, 2),\n    dispatch = _useGlobalReducer44[1];\n  var config = useConfig();\n  var onEvent = useEventCallback();\n  var passwordOptions = config.passwordOptions;\n  var _usePasswordInput4 = usePasswordInput(),\n    stytch = _usePasswordInput4.stytch,\n    email = _usePasswordInput4.email,\n    setEmail = _usePasswordInput4.setEmail,\n    organization = _usePasswordInput4.organization,\n    errorMessage = _usePasswordInput4.errorMessage,\n    setErrorMessage = _usePasswordInput4.setErrorMessage,\n    isSubmitting = _usePasswordInput4.isSubmitting,\n    setIsSubmitting = _usePasswordInput4.setIsSubmitting,\n    handleNonMemberReset = _usePasswordInput4.handleNonMemberReset;\n  if (!passwordOptions) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  if (!organization) return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null);\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            e.preventDefault();\n            if (email.match(_index_headless_CNM_XbTm_js__WEBPACK_IMPORTED_MODULE_0__.E)) {\n              _context7.next = 4;\n              break;\n            }\n            setErrorMessage('Invalid email address');\n            return _context7.abrupt(\"return\");\n          case 4:\n            setErrorMessage('');\n            setIsSubmitting(true);\n            (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytch).searchManager.searchMember(email, organization.organization_id).then(function (_ref72) {\n              var member = _ref72.member;\n              var _a, _b, _c, _d;\n              if (!(member === null || member === void 0 ? void 0 : member.member_password_id)) {\n                handleNonMemberReset();\n                return;\n              }\n              stytch.passwords.resetByEmailStart({\n                email_address: email,\n                organization_id: organization.organization_id,\n                login_redirect_url: (_a = config.emailMagicLinksOptions) === null || _a === void 0 ? void 0 : _a.loginRedirectURL,\n                reset_password_redirect_url: (_b = config.passwordOptions) === null || _b === void 0 ? void 0 : _b.resetPasswordRedirectURL,\n                reset_password_expiration_minutes: (_c = config.passwordOptions) === null || _c === void 0 ? void 0 : _c.resetPasswordExpirationMinutes,\n                reset_password_template_id: (_d = config.passwordOptions) === null || _d === void 0 ? void 0 : _d.resetPasswordTemplateId\n              }).then(function (data) {\n                setIsSubmitting(false);\n                onEvent({\n                  type: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.S.B2BPasswordResetByEmailStart,\n                  data: data\n                });\n                dispatch({\n                  type: 'set_password_state',\n                  email: email\n                });\n                dispatch({\n                  type: 'transition',\n                  screen: AppScreens$1.PasswordSetNewConfirmation\n                });\n              })[\"catch\"](function (err) {\n                setIsSubmitting(false);\n                setErrorMessage(err.error_message);\n              });\n            })[\"catch\"](function (err) {\n              setIsSubmitting(false);\n              var message = err.message;\n              if (err instanceof _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.c) {\n                message = err.error_message;\n              }\n              setErrorMessage(message);\n            });\n          case 7:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7);\n    }));\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: function onClick() {\n      return dispatch({\n        type: 'transition',\n        screen: AppScreens$1.Main\n      });\n    }\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Check your email for help signing in!\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"We'll email you a login link to sign in to your account directly or reset your password if you have one.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 4\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, \"Email\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailInput, {\n    email: email,\n    setEmail: setEmail\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: errorMessage\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    isSubmitting: isSubmitting,\n    text: \"Continue\"\n  }))));\n};\nvar RecoveryCodeEntryScreen = function RecoveryCodeEntryScreen() {\n  var stytchClient = useStytch();\n  var _useConfig2 = useConfig(),\n    sessionDurationMinutes = _useConfig2.sessionOptions.sessionDurationMinutes;\n  var _useGlobalReducer45 = useGlobalReducer(),\n    _useGlobalReducer46 = _slicedToArray(_useGlobalReducer45, 2),\n    state = _useGlobalReducer46[0],\n    dispatch = _useGlobalReducer46[1];\n  var _state$mfa$primaryInf = state.mfa.primaryInfo,\n    memberId = _state$mfa$primaryInf.memberId,\n    organizationId = _state$mfa$primaryInf.organizationId;\n  var _h$51 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$52 = _slicedToArray(_h$51, 2),\n    recoveryCode = _h$52[0],\n    setRecoveryCode = _h$52[1];\n  var _useMutate7 = useMutate('stytch.recoveryCodes.recover', function (_, _ref73) {\n      var _ref73$arg = _ref73.arg,\n        recoveryCode = _ref73$arg.recoveryCode,\n        memberId = _ref73$arg.memberId,\n        organizationId = _ref73$arg.organizationId,\n        sessionDurationMinutes = _ref73$arg.sessionDurationMinutes;\n      return stytchClient.recoveryCodes.recover({\n        recovery_code: recoveryCode,\n        member_id: memberId,\n        organization_id: organizationId,\n        session_duration_minutes: sessionDurationMinutes\n      });\n    }, {\n      onSuccess: function onSuccess() {\n        dispatch({\n          type: 'recovery_code/authenticate_success'\n        });\n      }\n    }),\n    authenticate = _useMutate7.trigger,\n    isSubmitting = _useMutate7.isMutating,\n    error = _useMutate7.error;\n  var errorMessage = error ? 'Invalid backup code, please try again.' : undefined;\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            e.preventDefault();\n            authenticate({\n              recoveryCode: recoveryCode,\n              memberId: memberId,\n              organizationId: organizationId,\n              sessionDurationMinutes: sessionDurationMinutes\n            });\n          case 2:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8);\n    }));\n  };\n  var handleSwitchToTotp = function handleSwitchToTotp() {\n    dispatch({\n      type: 'totp/navigate_to_entry'\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: handleSwitchToTotp\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Enter backup code\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Enter one of the backup codes you saved when setting up your authenticator app.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Input, {\n    value: recoveryCode,\n    onChange: function onChange(e) {\n      setRecoveryCode(e.target.value);\n    },\n    placeholder: \"Enter backup code\",\n    \"aria-label\": \"Backup code\",\n    required: true,\n    autoComplete: \"off\"\n  }), errorMessage && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: errorMessage\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    text: \"Continue\",\n    disabled: !recoveryCode,\n    isSubmitting: isSubmitting\n  })));\n};\nvar InsetContainer = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject39 || (_templateObject39 = _taggedTemplateLiteral([\"\\n  background-color: #f3f5f6;\\n  color: #000;\\n  font-size: 16px;\\n  line-height: 28px;\\n  display: flex;\\n  align-items: flex-start;\\n  justify-content: center;\\n  gap: 8px;\\n  padding: 16px 8px;\\n\"])));\nvar CodeList = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.ul(_templateObject40 || (_templateObject40 = _taggedTemplateLiteral([\"\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n\"])));\nvar downloadFile = function downloadFile(content, filename) {\n  var blob = new Blob([content], {\n    type: 'text/plain'\n  });\n  var url = URL.createObjectURL(blob);\n  var a = document.createElement('a');\n  a.href = url;\n  a.download = filename;\n  a.click();\n  URL.revokeObjectURL(url);\n};\nvar RecoveryCodeSaveScreen = function RecoveryCodeSaveScreen() {\n  var _useGlobalReducer47 = useGlobalReducer(),\n    _useGlobalReducer48 = _slicedToArray(_useGlobalReducer47, 2),\n    state = _useGlobalReducer48[0],\n    dispatch = _useGlobalReducer48[1];\n  var recoveryCodes = state.mfa.totp.enrollment.recoveryCodes;\n  var handleContinue = function handleContinue() {\n    dispatch({\n      type: 'recovery_code/save_acknowledge'\n    });\n  };\n  var handleCodesDownload = function handleCodesDownload() {\n    var _a;\n    var organizationName = (_a = state.flowState.organization) === null || _a === void 0 ? void 0 : _a.organization_name;\n    downloadFile(recoveryCodes.join('\\n'), \"\".concat(!!organizationName ? organizationName + '-' : '', \"backup-codes.txt\"));\n  };\n  var handleCodesCopy = function handleCodesCopy() {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n      return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n        while (1) switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return navigator.clipboard.writeText(recoveryCodes.join('\\n'));\n          case 3:\n            toast$1.success('Copied');\n            _context9.next = 9;\n            break;\n          case 6:\n            _context9.prev = 6;\n            _context9.t0 = _context9[\"catch\"](0);\n            toast$1.error(\"Couldn't copy codes to clipboard\");\n          case 9:\n          case \"end\":\n            return _context9.stop();\n        }\n      }, _callee9, null, [[0, 6]]);\n    }));\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Save your backup codes!\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"This is the only time you will be able to access and save your backup codes.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(InsetContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CodeList, null, recoveryCodes.map(function (code, i) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"li\", {\n      key: i\n    }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"code\", null, code));\n  }))), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    onClick: handleCodesDownload\n  }, \"Download file\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    onClick: handleCodesCopy\n  }, \"Copy all\")), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    variant: \"text\",\n    onClick: handleContinue\n  }, \"Done\"));\n};\nvar Select = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.select(_templateObject41 || (_templateObject41 = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  border: 1px solid \", \";\\n  border-radius: \", \";\\n  height: 47px;\\n  box-sizing: border-box;\\n  padding: 0 8px;\\n  color: \", \";\\n  font-family: \", \";\\n  width: 80px;\\n  font-size: 18px;\\n\"])), function (props) {\n  return props.theme.inputs.backgroundColor;\n}, function (props) {\n  return props.theme.inputs.borderColor;\n}, function (props) {\n  return props.theme.inputs.borderRadius;\n}, function (props) {\n  return props.theme.inputs.textColor;\n}, function (props) {\n  return props.theme.typography.fontFamily;\n});\nvar CountrySelector = function CountrySelector(_ref74) {\n  var country = _ref74.country,\n    setCountry = _ref74.setCountry;\n  var countryFormatter = new Intl.DisplayNames(['en'], {\n    type: 'region'\n  });\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Select, {\n    \"data-testid\": \"select-test-id\",\n    name: \"country-select\",\n    value: country,\n    onChange: function onChange(e) {\n      setCountry(e.target.value);\n    }\n  }, Object.entries(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.C).map(function (_ref75) {\n    var _ref76 = _slicedToArray(_ref75, 2),\n      countryCode = _ref76[0],\n      countryNumber = _ref76[1];\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"option\", {\n      key: countryCode,\n      value: countryCode\n    }, countryCode !== country ? \"+\".concat(countryNumber, \" \").concat(countryFormatter.of(countryCode)) : \"+\".concat(countryNumber));\n  }));\n};\nvar PhoneStyledInput = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(Input)(_templateObject42 || (_templateObject42 = _taggedTemplateLiteral([\"\\n  flex-grow: 1;\\n  min-width: 100px;\\n\"])));\nvar PhoneInput = function PhoneInput(_ref77) {\n  var phone = _ref77.phone,\n    setPhone = _ref77.setPhone,\n    country = _ref77.country,\n    setCountry = _ref77.setCountry,\n    parsePhoneNumber = _ref77.parsePhoneNumber,\n    hasPasskeys = _ref77.hasPasskeys;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"row\",\n    wrap: \"nowrap\",\n    justifyContent: \"flex-start\",\n    alignContent: \"stretch\",\n    alignItems: \"center\",\n    gap: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CountrySelector, {\n    country: country,\n    setCountry: setCountry\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PhoneStyledInput, Object.assign({\n    placeholder: \"(123) 456-7890\",\n    name: hasPasskeys ? 'email' : 'phoneNumber',\n    id: \"phone-input\",\n    autoComplete: hasPasskeys ? 'webauthn' : undefined,\n    value: phone,\n    type: 'text',\n    onChange: function onChange(e) {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var parsedPhoneNumber;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.next = 2;\n              return parsePhoneNumber(e.target.value, country);\n            case 2:\n              parsedPhoneNumber = _context10.sent;\n              setPhone(parsedPhoneNumber.national);\n            case 4:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10);\n      }));\n    },\n    required: true\n  }, hasPasskeys ? {\n    'data-1p-ignore': true\n  } : {})));\n};\nvar extractErrorType = function extractErrorType(error) {\n  if (error && _typeof(error) === 'object') {\n    if ('error_type' in error && typeof error.error_type === 'string') {\n      return error.error_type;\n    }\n  }\n};\nvar DEFAULT_COUNTRY_CODE = 'US';\nvar InvalidPhoneNumberError = /*#__PURE__*/function (_StytchSDKError) {\n  _inherits(InvalidPhoneNumberError, _StytchSDKError);\n  function InvalidPhoneNumberError() {\n    _classCallCheck(this, InvalidPhoneNumberError);\n    return _callSuper(this, InvalidPhoneNumberError, ['InvalidPhoneNumberError', 'Invalid phone number']);\n  }\n  return _createClass(InvalidPhoneNumberError);\n}(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.f);\nvar findErrorTypeFrom = function findErrorTypeFrom(_ref78) {\n  var error = _ref78.error;\n  var errorType = extractErrorType(error);\n  return !!errorType && errorType in supportedErrorTypeMap ? errorType : 'default';\n};\nvar supportedErrorTypeMap = {\n  \"default\": 'Invalid phone number, please try again.',\n  duplicate_member_phone_number: 'A member with the specified phone number already exists for this organization.'\n};\nvar SMSOTPEnrollScreen = function SMSOTPEnrollScreen() {\n  var _a, _b;\n  var stytchClient = useStytch();\n  var _useGlobalReducer49 = useGlobalReducer(),\n    _useGlobalReducer50 = _slicedToArray(_useGlobalReducer49, 2),\n    state = _useGlobalReducer50[0],\n    dispatch = _useGlobalReducer50[1];\n  var _state$mfa$smsOtp = state.mfa.smsOtp,\n    isSending = _state$mfa$smsOtp.isSending,\n    sendError = _state$mfa$smsOtp.sendError,\n    enrolledNumber = _state$mfa$smsOtp.enrolledNumber;\n  var _state$mfa$primaryInf2 = state.mfa.primaryInfo,\n    memberId = _state$mfa$primaryInf2.memberId,\n    organizationId = _state$mfa$primaryInf2.organizationId;\n  var _wn$useState = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.useState((_a = enrolledNumber === null || enrolledNumber === void 0 ? void 0 : enrolledNumber.countryCode) !== null && _a !== void 0 ? _a : DEFAULT_COUNTRY_CODE),\n    _wn$useState2 = _slicedToArray(_wn$useState, 2),\n    countryCode = _wn$useState2[0],\n    setCountryCode = _wn$useState2[1];\n  var _wn$useState3 = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.useState((_b = enrolledNumber === null || enrolledNumber === void 0 ? void 0 : enrolledNumber.phoneNumber) !== null && _b !== void 0 ? _b : ''),\n    _wn$useState4 = _slicedToArray(_wn$useState3, 2),\n    phoneNumber = _wn$useState4[0],\n    setPhoneNumber = _wn$useState4[1];\n  var errorType = findErrorTypeFrom({\n    error: sendError\n  });\n  var errorMessage = sendError ? supportedErrorTypeMap[errorType] : undefined;\n  var parsePhoneNumber = function parsePhoneNumber(phoneNumber, countryCode) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytchClient).clientsideServices.parsedPhoneNumber({\n      phoneNumber: phoneNumber,\n      regionCode: countryCode\n    });\n  };\n  var _useMutate8 = useMutate('stytch.otps.sms.send', function (_, _ref79) {\n      var parsedNumber = _ref79.arg.parsedNumber;\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              return _context11.abrupt(\"return\", stytchClient.otps.sms.send({\n                mfa_phone_number: parsedNumber,\n                member_id: memberId,\n                organization_id: organizationId\n              }));\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11);\n      }));\n    }, {\n      onSuccess: function onSuccess(response) {\n        dispatch({\n          type: 'sms_otp/send_success',\n          response: response,\n          countryCode: countryCode,\n          phoneNumber: phoneNumber,\n          formattedPhoneNumber: \"+\".concat(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.C[countryCode], \" \").concat(phoneNumber)\n        });\n      },\n      onError: function onError(error) {\n        dispatch({\n          type: 'sms_otp/send_error',\n          error: error\n        });\n      }\n    }),\n    sendSms = _useMutate8.trigger;\n  var handleSubmit = function handleSubmit(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n      var parsedNumber;\n      return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n        while (1) switch (_context12.prev = _context12.next) {\n          case 0:\n            e.preventDefault();\n            dispatch({\n              type: 'sms_otp/send'\n            });\n            _context12.prev = 2;\n            _context12.next = 5;\n            return parsePhoneNumber(phoneNumber, countryCode);\n          case 5:\n            parsedNumber = _context12.sent;\n            if (parsedNumber.isValid) {\n              _context12.next = 8;\n              break;\n            }\n            throw new InvalidPhoneNumberError();\n          case 8:\n            _context12.next = 10;\n            return sendSms({\n              parsedNumber: parsedNumber.number\n            });\n          case 10:\n            _context12.next = 15;\n            break;\n          case 12:\n            _context12.prev = 12;\n            _context12.t0 = _context12[\"catch\"](2);\n            dispatch({\n              type: 'sms_otp/send_error',\n              error: _context12.t0\n            });\n          case 15:\n          case \"end\":\n            return _context12.stop();\n        }\n      }, _callee12, null, [[2, 12]]);\n    }));\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Enter your phone number to set up Multi-Factor Authentication\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Your organization requires an additional form of verification to make your account more secure.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PhoneInput, {\n    country: countryCode,\n    setCountry: setCountryCode,\n    phone: phoneNumber,\n    setPhone: setPhoneNumber,\n    parsePhoneNumber: parsePhoneNumber\n  }), errorMessage && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: errorMessage\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SubmitButton, {\n    text: \"Continue\",\n    isSubmitting: isSending,\n    disabled: !phoneNumber\n  })));\n};\nvar InlineButton = function InlineButton(_ref80) {\n  var onClick = _ref80.onClick,\n    children = _ref80.children;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"button\", {\n    onClick: onClick,\n    style: {\n      all: 'unset'\n    }\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"b\", {\n    style: {\n      cursor: 'pointer'\n    }\n  }, children));\n};\nvar Wrapper = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject43 || (_templateObject43 = _taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-rows: \", \";\\n  transition: grid-template-rows 0.15s ease-out;\\n\"])), function (_ref81) {\n  var isOpen = _ref81.isOpen;\n  return isOpen ? '1fr' : '0fr';\n});\nvar Inner = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject44 || (_templateObject44 = _taggedTemplateLiteral([\"\\n  overflow: hidden;\\n\"])));\nvar AnimatedContainer = function AnimatedContainer(_ref82) {\n  var isOpen = _ref82.isOpen,\n    children = _ref82.children;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Wrapper, {\n    isOpen: isOpen\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Inner, null, children));\n};\nvar Container = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject45 || (_templateObject45 = _taggedTemplateLiteral([\"\\n  height: 4px;\\n  background-color: \", \";\\n  border-radius: 3px;\\n  overflow: hidden;\\n\"])), function (_ref83) {\n  var theme = _ref83.theme;\n  return theme.colors.disabled;\n});\nvar loading = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.k)(_templateObject46 || (_templateObject46 = _taggedTemplateLiteral([\"\\n  0% {\\n    transform: translateX(-100%);\\n  }\\n  100% {\\n    transform: translateX(-1%);\\n  }\\n\"])));\nvar Progress = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject47 || (_templateObject47 = _taggedTemplateLiteral([\"\\n  height: 100%;\\n  width: 100%;\\n  background-color: \", \";\\n  animation: \", \" 10s cubic-bezier(0.22, 1, 0.36, 1);\\n\"])), function (_ref84) {\n  var theme = _ref84.theme;\n  return theme.colors.primary;\n}, loading);\nvar LoadingBar = function LoadingBar(_ref85) {\n  var isLoading = _ref85.isLoading;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Container, null, isLoading && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Progress, null));\n};\nvar GAP = '8px';\nvar WIDTH = '46px';\nvar INPUT_HEIGHT = '46px';\nvar Digit = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject48 || (_templateObject48 = _taggedTemplateLiteral([\"\\n  border: 1px solid \", \";\\n  border-radius: 4px;\\n  align-items: center;\\n  display: flex;\\n  font-size: 18px;\\n  justify-content: center;\\n  height: \", \";\\n  width: \", \";\\n  background: \", \";\\n  color: \", \";\\n\"])), function (_ref86) {\n  var disabled = _ref86.disabled,\n    theme = _ref86.theme;\n  return disabled ? theme.colors.disabled : '#ADBCC5';\n}, INPUT_HEIGHT, WIDTH, function (_ref87) {\n  var disabled = _ref87.disabled,\n    theme = _ref87.theme;\n  return disabled ? theme.colors.disabled : theme.inputs.backgroundColor;\n}, function (_ref88) {\n  var disabled = _ref88.disabled,\n    theme = _ref88.theme;\n  return disabled ? theme.colors.disabledText : theme.inputs.textColor;\n});\nvar digitsContainerStyles = {\n  display: 'flex',\n  justifyContent: 'space-between',\n  gap: GAP,\n  position: 'relative',\n  zIndex: -1\n};\nvar otpContainerStyles = {\n  overflow: 'hidden',\n  position: 'relative',\n  textAlign: 'initial',\n  zIndex: 1\n};\nvar invisibleInputStyles = {\n  background: 'transparent',\n  border: 'none',\n  color: 'transparent',\n  height: INPUT_HEIGHT,\n  margin: 0,\n  outline: 'none',\n  position: 'absolute',\n  width: \"calc(100% - (0.5 * \".concat(WIDTH, \"))\"),\n  caretColor: '#ADBCC5',\n  letterSpacing: \"calc(\".concat(WIDTH, \" - 1ch + \").concat(GAP, \")\"),\n  paddingLeft: \"calc(0.5 * \".concat(WIDTH, \")\"),\n  zIndex: 10\n};\nvar DigitAtIndex = function DigitAtIndex(_ref89) {\n  var index = _ref89.index,\n    disabled = _ref89.disabled,\n    otp = _ref89.otp;\n  var fill = otp ? otp[index] : '';\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Digit, {\n    disabled: disabled,\n    \"data-testid\": \"otp-\".concat(index)\n  }, fill);\n};\nvar OTPInput = function OTPInput(_ref90) {\n  var otp = _ref90.otp,\n    setOtp = _ref90.setOtp,\n    disabled = _ref90.disabled;\n  var onPasscodeChange = function onPasscodeChange(e) {\n    if (!/^\\d*$/.test(e.target.value)) {\n      return;\n    }\n    setOtp(e.target.value);\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"div\", {\n    style: otpContainerStyles\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"input\", {\n    \"aria-label\": \"One-time passcode\",\n    autoComplete: \"one-time-code\",\n    autoFocus: true,\n    disabled: disabled,\n    style: invisibleInputStyles,\n    maxLength: 6,\n    onChange: onPasscodeChange,\n    type: \"text\",\n    inputMode: \"numeric\",\n    value: otp,\n    \"data-1p-ignore\": \"true\"\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"div\", {\n    style: digitsContainerStyles\n  }, _toConsumableArray(Array(6).keys()).map(function (i) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(DigitAtIndex, {\n      key: \"digit-\".concat(i),\n      index: i,\n      otp: otp,\n      disabled: !!disabled\n    });\n  })));\n};\nvar OTP_CODE_LENGTH = 6;\nvar OTPControl = function OTPControl(_ref91) {\n  var isSubmitting = _ref91.isSubmitting,\n    onSubmit = _ref91.onSubmit,\n    errorMessage = _ref91.errorMessage;\n  var _h$53 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(''),\n    _h$54 = _slicedToArray(_h$53, 2),\n    otp = _h$54[0],\n    setOtp = _h$54[1];\n  var handleOtpChange = function handleOtpChange(otp) {\n    setOtp(otp);\n    if (otp.length === OTP_CODE_LENGTH) {\n      onSubmit(otp);\n    }\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    maxWidth: 316\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OTPInput, {\n    otp: otp,\n    setOtp: handleOtpChange,\n    disabled: isSubmitting\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(AnimatedContainer, {\n    isOpen: isSubmitting\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 8,\n    marginTop: 8\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    color: \"secondary\",\n    size: \"helper\"\n  }, \"Verifying passcode...\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LoadingBar, {\n    isLoading: isSubmitting\n  }))), !isSubmitting && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorText, {\n    errorMessage: errorMessage !== null && errorMessage !== void 0 ? errorMessage : ''\n  }));\n};\nvar OTPEntry = function OTPEntry(_ref92) {\n  var header = _ref92.header,\n    helperContent = _ref92.helperContent,\n    instruction = _ref92.instruction,\n    isSubmitting = _ref92.isSubmitting,\n    onSubmit = _ref92.onSubmit,\n    errorMessage = _ref92.errorMessage;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, header), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, instruction), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OTPControl, {\n    isSubmitting: isSubmitting,\n    onSubmit: onSubmit,\n    errorMessage: errorMessage\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"helper\",\n    color: \"secondary\"\n  }, helperContent));\n};\nvar getSecondsRemaining = function getSecondsRemaining(expiration) {\n  var now = new Date();\n  return Math.ceil((expiration.getTime() - now.getTime()) / 1000);\n};\nvar ExpirationMessage = function ExpirationMessage(_ref93) {\n  var expiration = _ref93.expiration,\n    resendOTP = _ref93.resendOTP;\n  var _h$55 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(function () {\n      return getSecondsRemaining(expiration);\n    }),\n    _h$56 = _slicedToArray(_h$55, 2),\n    seconds = _h$56[0],\n    setSeconds = _h$56[1];\n  var codeExpired = seconds <= 0;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (!codeExpired) {\n      var updateSeconds = function updateSeconds() {\n        return setSeconds(getSecondsRemaining(expiration));\n      };\n      var interval = setInterval(updateSeconds, 1000);\n      updateSeconds();\n      return function () {\n        return clearInterval(interval);\n      };\n    }\n  }, [codeExpired, expiration]);\n  var displayMinutes = Math.floor(Number(seconds / 60));\n  var displaySeconds = seconds - displayMinutes * 60;\n  var formattedTime = \"\".concat(displayMinutes, \":\").concat(displaySeconds < 10 ? \"0\".concat(displaySeconds) : displaySeconds);\n  var formattedText = seconds > 0 ? \"Your code expires in \".concat(formattedTime, \". Didn't get it? \") : 'Your code has expired. ';\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, formattedText, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(InlineButton, {\n    onClick: resendOTP\n  }, \"Resend code\"));\n};\nvar SentOTPEntry = function SentOTPEntry(_ref94) {\n  var expiration = _ref94.expiration,\n    formattedDestination = _ref94.formattedDestination,\n    isSubmitting = _ref94.isSubmitting,\n    onSubmit = _ref94.onSubmit,\n    errorMessage = _ref94.errorMessage,\n    resendOTP = _ref94.resendOTP;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OTPEntry, {\n    header: \"Enter passcode\",\n    helperContent: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ExpirationMessage, {\n      expiration: expiration,\n      resendOTP: resendOTP\n    }),\n    instruction: /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, \"A 6-digit passcode was sent to you at \", /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"b\", null, formattedDestination), \".\"),\n    isSubmitting: isSubmitting,\n    onSubmit: onSubmit,\n    errorMessage: errorMessage\n  });\n};\nvar SMSOTPEntryScreen = function SMSOTPEntryScreen() {\n  var _a;\n  var stytchClient = useStytch();\n  var _useConfig3 = useConfig(),\n    sessionDurationMinutes = _useConfig3.sessionOptions.sessionDurationMinutes;\n  var _useGlobalReducer51 = useGlobalReducer(),\n    _useGlobalReducer52 = _slicedToArray(_useGlobalReducer51, 2),\n    state = _useGlobalReducer52[0],\n    dispatch = _useGlobalReducer52[1];\n  var _state$mfa = state.mfa,\n    isEnrolling = _state$mfa.isEnrolling,\n    _state$mfa$smsOtp2 = _state$mfa.smsOtp,\n    codeExpiration = _state$mfa$smsOtp2.codeExpiration,\n    formattedDestination = _state$mfa$smsOtp2.formattedDestination;\n  var _state$mfa$primaryInf3 = state.mfa.primaryInfo,\n    enrolledMfaMethods = _state$mfa$primaryInf3.enrolledMfaMethods,\n    memberId = _state$mfa$primaryInf3.memberId,\n    memberPhoneNumber = _state$mfa$primaryInf3.memberPhoneNumber,\n    organizationId = _state$mfa$primaryInf3.organizationId,\n    organizationMfaOptionsSupported = _state$mfa$primaryInf3.organizationMfaOptionsSupported;\n  var _useMutate9 = useMutate('stytch.otps.sms.send', function (_, _ref95) {\n      var _ref95$arg = _ref95.arg,\n        memberId = _ref95$arg.memberId,\n        organizationId = _ref95$arg.organizationId;\n      dispatch({\n        type: 'sms_otp/send'\n      });\n      return stytchClient.otps.sms.send({\n        member_id: memberId,\n        organization_id: organizationId\n      });\n    }, {\n      onSuccess: function onSuccess(response) {\n        dispatch({\n          type: 'sms_otp/send_success',\n          response: response\n        });\n      },\n      onError: function onError(error) {\n        var message = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.l)(error);\n        if (message) {\n          toast$1.error(message);\n        }\n        dispatch({\n          type: 'sms_otp/send_error',\n          error: error\n        });\n      }\n    }),\n    sendSms = _useMutate9.trigger,\n    isSending = _useMutate9.isMutating,\n    sendError = _useMutate9.error;\n  var _useMutate10 = useMutate('stytch.otps.sms.authenticate', function (_, _ref96) {\n      var _ref96$arg = _ref96.arg,\n        otp = _ref96$arg.otp,\n        memberId = _ref96$arg.memberId,\n        organizationId = _ref96$arg.organizationId,\n        sessionDurationMinutes = _ref96$arg.sessionDurationMinutes;\n      return stytchClient.otps.sms.authenticate({\n        code: otp,\n        member_id: memberId,\n        organization_id: organizationId,\n        session_duration_minutes: sessionDurationMinutes\n      });\n    }, {\n      onSuccess: function onSuccess() {\n        dispatch({\n          type: 'sms_otp/authenticate_success'\n        });\n      }\n    }),\n    authenticate = _useMutate10.trigger,\n    isAuthenticating = _useMutate10.isMutating,\n    authenticateError = _useMutate10.error;\n  var shouldCreate = codeExpiration === null && !isSending && !sendError;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (shouldCreate) {\n      sendSms({\n        memberId: memberId,\n        organizationId: organizationId\n      });\n    }\n  }, [memberId, organizationId, sendSms, shouldCreate]);\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (!formattedDestination && memberPhoneNumber) {\n      var formatNumber = function formatNumber() {\n        return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n          var parsePhoneNumber, parsedNumber;\n          return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n            while (1) switch (_context13.prev = _context13.next) {\n              case 0:\n                parsePhoneNumber = function parsePhoneNumber(phoneNumber) {\n                  return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(stytchClient).clientsideServices.parsedPhoneNumber({\n                    phoneNumber: phoneNumber\n                  });\n                };\n                _context13.next = 3;\n                return parsePhoneNumber(memberPhoneNumber);\n              case 3:\n                parsedNumber = _context13.sent;\n                if (parsedNumber.isValid) {\n                  dispatch({\n                    type: 'sms_otp/format_destination',\n                    formattedPhoneNumber: parsedNumber.national\n                  });\n                }\n              case 5:\n              case \"end\":\n                return _context13.stop();\n            }\n          }, _callee13);\n        }));\n      };\n      formatNumber();\n    }\n  }, [dispatch, formattedDestination, stytchClient, memberPhoneNumber]);\n  var isTotpAvailable = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return !isEnrolling && enrolledMfaMethods.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp) && (organizationMfaOptionsSupported.length === 0 || organizationMfaOptionsSupported.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.totp));\n  }, [enrolledMfaMethods, isEnrolling, organizationMfaOptionsSupported]);\n  var errorMessage = authenticateError ? 'Invalid passcode, please try again.' : undefined;\n  var canGoBack = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return isEnrolling || enrolledMfaMethods.length === 0 || organizationMfaOptionsSupported.length > 0 && !enrolledMfaMethods.some(function (enrolledMethod) {\n      return organizationMfaOptionsSupported.includes(enrolledMethod);\n    });\n  }, [enrolledMfaMethods, isEnrolling, organizationMfaOptionsSupported]);\n  var handleSubmit = function handleSubmit(otp) {\n    authenticate({\n      otp: otp,\n      memberId: memberId,\n      organizationId: organizationId,\n      sessionDurationMinutes: sessionDurationMinutes\n    });\n  };\n  var handleSwitchToTotp = function handleSwitchToTotp() {\n    dispatch({\n      type: 'totp/navigate_to_entry'\n    });\n  };\n  var handleResendOTP = function handleResendOTP() {\n    sendSms({\n      memberId: memberId,\n      organizationId: organizationId\n    });\n  };\n  var handleBack = function handleBack() {\n    dispatch({\n      type: 'mfa/start_enrollment',\n      method: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, canGoBack && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: handleBack\n  }), codeExpiration !== null ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SentOTPEntry, {\n    isSubmitting: isAuthenticating,\n    onSubmit: handleSubmit,\n    errorMessage: errorMessage,\n    expiration: codeExpiration,\n    formattedDestination: (_a = formattedDestination !== null && formattedDestination !== void 0 ? formattedDestination : memberPhoneNumber) !== null && _a !== void 0 ? _a : '',\n    resendOTP: handleResendOTP\n  })) : ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LoadingScreen, null)), isTotpAvailable && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Divider, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    variant: \"text\",\n    onClick: handleSwitchToTotp\n  }, \"Use an authenticator app\"))));\n};\nvar CopyIcon = function CopyIcon() {\n  return /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"svg\", {\n    width: \"25\",\n    height: \"24\",\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/(0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.y)(\"path\", {\n    d: \"M17 1H5C3.9 1 3 1.9 3 3V17H5V3H17V1ZM20 5H9C7.9 5 7 5.9 7 7V21C7 22.1 7.9 23 9 23H20C21.1 23 22 22.1 22 21V7C22 5.9 21.1 5 20 5ZM20 21H9V7H20V21Z\",\n    fill: \"currentColor\"\n  }));\n};\nvar Copy = CreateIcon(CopyIcon);\nvar CopyButton = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.button(_templateObject49 || (_templateObject49 = _taggedTemplateLiteral([\"\\n  all: unset;\\n  flex: 0 0 24px;\\n  height: 28px;\\n  opacity: 0;\\n  :focus {\\n    opacity: 1;\\n  }\\n\"])));\nvar CodeContainer = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H)(InsetContainer)(_templateObject50 || (_templateObject50 = _taggedTemplateLiteral([\"\\n  cursor: pointer;\\n  :hover \", \" {\\n    opacity: 1;\\n  }\\n\"])), CopyButton);\nvar Spacer = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject51 || (_templateObject51 = _taggedTemplateLiteral([\"\\n  flex: 0 1 24px;\\n\"])));\nvar Code = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.code(_templateObject52 || (_templateObject52 = _taggedTemplateLiteral([\"\\n  white-space: pre-wrap;\\n  align-self: center;\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n  gap: 1ch;\\n\"])));\nvar TOTPEnrollManualScreen = function TOTPEnrollManualScreen() {\n  var _useGlobalReducer53 = useGlobalReducer(),\n    _useGlobalReducer54 = _slicedToArray(_useGlobalReducer53, 2),\n    state = _useGlobalReducer54[0],\n    dispatch = _useGlobalReducer54[1];\n  var secret = state.mfa.totp.enrollment.secret;\n  var displaySecret = secret.toLowerCase();\n  var secretChunked = displaySecret.split(/(.{4})/g).filter(Boolean);\n  var handleShowQRCode = function handleShowQRCode() {\n    dispatch({\n      type: 'totp/show_code',\n      method: 'qr'\n    });\n  };\n  var handleContinue = function handleContinue() {\n    dispatch({\n      type: 'totp/navigate_to_entry'\n    });\n  };\n  var handleCodeCopy = function handleCodeCopy(e) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n      return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n        while (1) switch (_context14.prev = _context14.next) {\n          case 0:\n            e.stopPropagation();\n            _context14.prev = 1;\n            _context14.next = 4;\n            return navigator.clipboard.writeText(displaySecret);\n          case 4:\n            toast$1.success('Code copied');\n            _context14.next = 10;\n            break;\n          case 7:\n            _context14.prev = 7;\n            _context14.t0 = _context14[\"catch\"](1);\n            toast$1.error(\"Couldn't copy code to clipboard\");\n          case 10:\n          case \"end\":\n            return _context14.stop();\n        }\n      }, _callee14, null, [[1, 7]]);\n    }));\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: handleShowQRCode\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Having trouble scanning the QR code?\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Click to copy the code below. Enter into your authenticator app to link your account.\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CodeContainer, {\n    onClick: handleCodeCopy\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Spacer, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Code, null, secretChunked.map(function (part, i) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"span\", {\n      key: i\n    }, part);\n  })), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(CopyButton, {\n    type: \"button\",\n    onClick: handleCodeCopy,\n    \"aria-label\": \"Copy code\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Copy, null))), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    onClick: handleContinue\n  }, \"Continue\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    variant: \"text\",\n    onClick: handleShowQRCode\n  }, \"Try to scan the QR code again\"));\n};\nvar QRCodeImg = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.img(_templateObject53 || (_templateObject53 = _taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n\"])));\nvar TOTPEnrollQRScreen = function TOTPEnrollQRScreen() {\n  var stytchClient = useStytch();\n  var _useGlobalReducer55 = useGlobalReducer(),\n    _useGlobalReducer56 = _slicedToArray(_useGlobalReducer55, 2),\n    state = _useGlobalReducer56[0],\n    dispatch = _useGlobalReducer56[1];\n  var _state$mfa$totp = state.mfa.totp,\n    createError = _state$mfa$totp.createError,\n    enrollment = _state$mfa$totp.enrollment,\n    isCreating = _state$mfa$totp.isCreating;\n  var _state$mfa$primaryInf4 = state.mfa.primaryInfo,\n    memberId = _state$mfa$primaryInf4.memberId,\n    organizationId = _state$mfa$primaryInf4.organizationId;\n  var _useMutate11 = useMutate('stytch.totp.create', function (_, _ref97) {\n      var _ref97$arg = _ref97.arg,\n        memberId = _ref97$arg.memberId,\n        organizationId = _ref97$arg.organizationId;\n      dispatch({\n        type: 'totp/create'\n      });\n      return stytchClient.totp.create({\n        member_id: memberId,\n        organization_id: organizationId\n      });\n    }, {\n      onSuccess: function onSuccess(response) {\n        dispatch({\n          type: 'totp/create_success',\n          response: response,\n          memberId: memberId,\n          organizationId: organizationId\n        });\n      },\n      onError: function onError(error) {\n        var message = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.l)(error);\n        if (message) {\n          toast$1.error(message);\n        }\n        dispatch({\n          type: 'totp/create_error',\n          error: error\n        });\n      }\n    }),\n    createTotp = _useMutate11.trigger;\n  var shouldCreate = !enrollment && !isCreating && !createError;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (shouldCreate) {\n      createTotp({\n        memberId: memberId,\n        organizationId: organizationId\n      });\n    }\n  }, [createTotp, memberId, organizationId, shouldCreate]);\n  var handleShowManualCode = function handleShowManualCode() {\n    dispatch({\n      type: 'totp/show_code',\n      method: 'manual'\n    });\n  };\n  var handleContinue = function handleContinue() {\n    dispatch({\n      type: 'totp/navigate_to_entry'\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, {\n    size: \"header\"\n  }, \"Scan the QR code to link your authenticator app\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Text, null, \"Your organization requires an additional form of verification to make your account more secure. If you don\\u2019t have an authenticator app, you\\u2019ll need to install one first.\"), !!enrollment ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(QRCodeImg, {\n    alt: \"QR code for TOTP enrollment\",\n    src: enrollment.qrCode\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    variant: \"text\",\n    onClick: handleShowManualCode\n  }, \"Having trouble scanning?\"), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    onClick: handleContinue\n  }, \"Continue\"))) : ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LoadingScreen, null)));\n};\nvar TOTPEntry = function TOTPEntry(_ref98) {\n  var helperContent = _ref98.helperContent,\n    isSubmitting = _ref98.isSubmitting,\n    onSubmit = _ref98.onSubmit,\n    errorMessage = _ref98.errorMessage;\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(OTPEntry, {\n    header: \"Enter verification code\",\n    instruction: \"Enter the 6-digit code from your authenticator app.\",\n    helperContent: helperContent,\n    isSubmitting: isSubmitting,\n    onSubmit: onSubmit,\n    errorMessage: errorMessage\n  });\n};\nvar TOTPEntryScreen = function TOTPEntryScreen() {\n  var stytchClient = useStytch();\n  var _useConfig4 = useConfig(),\n    sessionDurationMinutes = _useConfig4.sessionOptions.sessionDurationMinutes;\n  var _useGlobalReducer57 = useGlobalReducer(),\n    _useGlobalReducer58 = _slicedToArray(_useGlobalReducer57, 2),\n    state = _useGlobalReducer58[0],\n    dispatch = _useGlobalReducer58[1];\n  var isEnrolling = state.mfa.isEnrolling;\n  var _state$mfa$primaryInf5 = state.mfa.primaryInfo,\n    enrolledMfaMethods = _state$mfa$primaryInf5.enrolledMfaMethods,\n    memberId = _state$mfa$primaryInf5.memberId,\n    organizationId = _state$mfa$primaryInf5.organizationId,\n    organizationMfaOptionsSupported = _state$mfa$primaryInf5.organizationMfaOptionsSupported;\n  var _useMutate12 = useMutate('stytch.totp.authenticate', function (_, _ref99) {\n      var _ref99$arg = _ref99.arg,\n        memberId = _ref99$arg.memberId,\n        organizationId = _ref99$arg.organizationId,\n        otp = _ref99$arg.otp,\n        sessionDurationMinutes = _ref99$arg.sessionDurationMinutes;\n      return stytchClient.totp.authenticate({\n        code: otp,\n        member_id: memberId,\n        organization_id: organizationId,\n        session_duration_minutes: sessionDurationMinutes\n      });\n    }, {\n      onSuccess: function onSuccess() {\n        dispatch({\n          type: 'totp/authenticate_success'\n        });\n      }\n    }),\n    authenticate = _useMutate12.trigger,\n    isAuthenticating = _useMutate12.isMutating,\n    authenticateError = _useMutate12.error;\n  var isSmsOtpAvailable = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.F)(function () {\n    return !isEnrolling && enrolledMfaMethods.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp) && (organizationMfaOptionsSupported.length === 0 || organizationMfaOptionsSupported.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.B.smsOtp));\n  }, [enrolledMfaMethods, isEnrolling, organizationMfaOptionsSupported]);\n  var errorMessage = authenticateError ? 'Invalid passcode, please try again.' : undefined;\n  var canGoBack = isEnrolling;\n  var handleSubmit = function handleSubmit(otp) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__._)(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n      return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n        while (1) switch (_context15.prev = _context15.next) {\n          case 0:\n            authenticate({\n              memberId: memberId,\n              organizationId: organizationId,\n              otp: otp,\n              sessionDurationMinutes: sessionDurationMinutes\n            });\n          case 1:\n          case \"end\":\n            return _context15.stop();\n        }\n      }, _callee15);\n    }));\n  };\n  var handleSwitchToRecoveryCode = function handleSwitchToRecoveryCode() {\n    dispatch({\n      type: 'recovery_code/navigate_to_entry'\n    });\n  };\n  var handleSwitchToSms = function handleSwitchToSms() {\n    dispatch({\n      type: 'sms_otp/navigate_to_entry'\n    });\n  };\n  var handleBack = function handleBack() {\n    dispatch({\n      type: 'totp/show_code'\n    });\n  };\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Flex, {\n    direction: \"column\",\n    gap: 24\n  }, canGoBack && /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(BackArrow, {\n    onClick: handleBack\n  }), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(TOTPEntry, {\n    helperContent: !isEnrolling ? ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, \"Can\\u2019t access your authenticator app?\", ' ', /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(InlineButton, {\n      onClick: handleSwitchToRecoveryCode\n    }, \"Use a backup code\"))) : 'If the verification code doesn’t work, go back to your authenticator app to get a new code.',\n    isSubmitting: isAuthenticating,\n    onSubmit: handleSubmit,\n    errorMessage: errorMessage\n  }), isSmsOtpAvailable && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.Fragment, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Divider, null), /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Button, {\n    type: \"button\",\n    variant: \"text\",\n    onClick: handleSwitchToSms\n  }, \"Text me a code instead\"))));\n};\nvar MainContainer = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject54 || (_templateObject54 = _taggedTemplateLiteral([\"\\n  width: \", \";\\n  font-family: \", \";\\n  box-sizing: border-box;\\n  * {\\n    box-sizing: content-box;\\n  }\\n  background-color: \", \";\\n  border: \", \";\\n  border-radius: \", \";\\n\"])), function (_ref100) {\n  var theme = _ref100.theme;\n  return theme.container.width;\n}, function (_ref101) {\n  var theme = _ref101.theme;\n  return theme.typography.fontFamily;\n}, function (_ref102) {\n  var theme = _ref102.theme;\n  return theme.container.backgroundColor;\n}, function (_ref103) {\n  var theme = _ref103.theme;\n  return theme.container.border;\n}, function (_ref104) {\n  var theme = _ref104.theme;\n  return theme.container.borderRadius;\n});\nvar ChildrenContainer = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject55 || (_templateObject55 = _taggedTemplateLiteral([\"\\n  padding: 24px 32px;\\n\"])));\nvar WatermarkContainer = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.div(_templateObject56 || (_templateObject56 = _taggedTemplateLiteral([\"\\n  border-bottom-left-radius: \", \";\\n  border-bottom-right-radius: \", \";\\n  background-color: #19303d;\\n  opacity: 50%;\\n  padding: 4px 0px 0px;\\n  display: flex;\\n  justify-content: center;\\n\"])), function (_ref105) {\n  var theme = _ref105.theme;\n  return theme.container.borderRadius;\n}, function (_ref106) {\n  var theme = _ref106.theme;\n  return theme.container.borderRadius;\n});\nvar Image = _extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.H.img(_templateObject57 || (_templateObject57 = _taggedTemplateLiteral([\"\\n  width: 150px;\\n\"])));\nvar POWERED_BY_STYTCH_IMG_URL = 'https://public-assets.stytch.com/et_powered_by_stytch_logo.png';\nvar getTokenFromUrl = function getTokenFromUrl() {\n  var url = new URL(window.location.href);\n  var tokenType = url.searchParams.get('stytch_token_type');\n  var token = url.searchParams.get('token');\n  return {\n    tokenType: tokenType,\n    token: token\n  };\n};\nvar supportedTokenTypes = ['discovery', 'discovery_oauth', 'oauth', 'sso', 'multi_tenant_magic_links'];\nvar supportedTokenTypesSet = new Set(supportedTokenTypes);\nvar isSupportedTokenType = function isSupportedTokenType(tokenType) {\n  return !!(tokenType && supportedTokenTypesSet.has(tokenType));\n};\nvar AppContainer$1 = function AppContainer$1() {\n  var _ScreenComponentMap;\n  var _useGlobalReducer59 = useGlobalReducer(),\n    _useGlobalReducer60 = _slicedToArray(_useGlobalReducer59, 2),\n    state = _useGlobalReducer60[0],\n    dispatch = _useGlobalReducer60[1];\n  var stytchClient = useStytch();\n  var config = useConfig();\n  var _Ze2 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.Z)(),\n    displayWatermark = _Ze2.displayWatermark;\n  var isOnlyFloatingOneTap = useIsOnlyFloatingOneTap();\n  var currentScreen = state.screen;\n  var ScreenComponentMap = (_ScreenComponentMap = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ScreenComponentMap, AppScreens$1.Main, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MainScreen, null)), AppScreens$1.EmailConfirmation, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(EmailConfirmation, null)), AppScreens$1.LoggedIn, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ConfirmationScreen, null)), AppScreens$1.Discovery, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Discovery, null)), AppScreens$1.Error, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ErrorScreen, null)), AppScreens$1.PasswordEmailForm, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordsEmailForm, null)), AppScreens$1.PasswordAuthenticate, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordsAuthenticate, null)), AppScreens$1.PasswordResetForm, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordResetForm, null)), AppScreens$1.PasswordResetVerifyConfirmation, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordResetConfirmation, null)), AppScreens$1.PasswordForgotForm, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordsForgotForm, null)), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ScreenComponentMap, AppScreens$1.PasswordSetNewConfirmation, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(PasswordSetNew, null)), AppScreens$1.MFAEnrollmentSelection, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MFAEnrollmentSelectionScreen, null)), AppScreens$1.SMSOTPEnrollment, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SMSOTPEnrollScreen, null)), AppScreens$1.SMSOTPEntry, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(SMSOTPEntryScreen, null)), AppScreens$1.RecoveryCodeEntry, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(RecoveryCodeEntryScreen, null)), AppScreens$1.RecoveryCodeSave, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(RecoveryCodeSaveScreen, null)), AppScreens$1.TOTPEnrollmentQRCode, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(TOTPEnrollQRScreen, null)), AppScreens$1.TOTPEnrollmentManual, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(TOTPEnrollManualScreen, null)), AppScreens$1.TOTPEntry, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(TOTPEntryScreen, null)));\n  var onSuccess = function onSuccess(data) {\n    clearStytchSearchParams();\n    onAuthenticateSuccess(data, dispatch, config);\n  };\n  var onDiscoverySuccess = function onDiscoverySuccess(data) {\n    clearStytchSearchParams();\n    dispatch({\n      type: 'set_discovery_state',\n      email: data.email_address,\n      discoveredOrganizations: data.discovered_organizations,\n      intermediateSessionToken: data.intermediate_session_token\n    });\n    dispatch({\n      type: 'transition',\n      screen: AppScreens$1.Discovery\n    });\n  };\n  var onError = function onError(_ref107) {\n    var errorType = _ref107.errorType;\n    return function () {\n      clearStytchSearchParams();\n      dispatch({\n        type: 'set_error_message_and_transition',\n        errorType: errorType !== null && errorType !== void 0 ? errorType : ErrorType.Default\n      });\n    };\n  };\n  var _useMutate13 = useMutate(\"stytch.magicLinks.authenticate\", function (_, _ref108) {\n      var token = _ref108.arg.token;\n      return stytchClient.magicLinks.authenticate({\n        magic_links_token: token,\n        session_duration_minutes: config.sessionOptions.sessionDurationMinutes\n      });\n    }, {\n      onSuccess: onSuccess,\n      onError: onError({\n        errorType: ErrorType.EmailMagicLink\n      })\n    }),\n    stytchMagicLinkAuthenticate = _useMutate13.trigger,\n    isMagicLinkLoading = _useMutate13.isMutating;\n  var _useMutate14 = useMutate(\"stytch.oauth.authenticate\", function (_, _ref109) {\n      var token = _ref109.arg.token;\n      return stytchClient.oauth.authenticate({\n        oauth_token: token,\n        session_duration_minutes: config.sessionOptions.sessionDurationMinutes\n      });\n    }, {\n      onSuccess: onSuccess,\n      onError: onError({\n        errorType: null\n      })\n    }),\n    stytchOAuthAuthenticate = _useMutate14.trigger,\n    isOAuthLoading = _useMutate14.isMutating;\n  var _useMutate15 = useMutate(\"stytch.oauth.discovery.authenticate\", function (_, _ref110) {\n      var token = _ref110.arg.token;\n      return stytchClient.oauth.discovery.authenticate({\n        discovery_oauth_token: token\n      });\n    }, {\n      onSuccess: onDiscoverySuccess,\n      onError: onError({\n        errorType: null\n      })\n    }),\n    stytchOAuthDiscoveryAuthenticate = _useMutate15.trigger,\n    isDiscoveryOAuthLoading = _useMutate15.isMutating;\n  var _useMutate16 = useMutate(\"stytch.sso.authenticate\", function (_, _ref111) {\n      var token = _ref111.arg.token;\n      return stytchClient.sso.authenticate({\n        sso_token: token,\n        session_duration_minutes: config.sessionOptions.sessionDurationMinutes\n      });\n    }, {\n      onSuccess: onSuccess,\n      onError: onError({\n        errorType: null\n      })\n    }),\n    stytchSSOAuthenticate = _useMutate16.trigger,\n    isSSOLoading = _useMutate16.isMutating;\n  var _useMutate17 = useMutate(\"stytch.magicLinks.discovery.authenticate\", function (_, _ref112) {\n      var token = _ref112.arg.token;\n      return stytchClient.magicLinks.discovery.authenticate({\n        discovery_magic_links_token: token\n      });\n    }, {\n      onSuccess: onDiscoverySuccess,\n      onError: onError({\n        errorType: ErrorType.Default\n      })\n    }),\n    stytchDiscoveryAuthenticate = _useMutate17.trigger,\n    isDiscoveryLoading = _useMutate17.isMutating;\n  var isTokenAuthLoading = isMagicLinkLoading || isSSOLoading || isDiscoveryLoading || isDiscoveryOAuthLoading || isOAuthLoading;\n  var _useExtractSlug = useExtractSlug(),\n    isSearching = _useExtractSlug.isSearching,\n    slug = _useExtractSlug.slug,\n    pattern = _useExtractSlug.pattern;\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (isOnlyFloatingOneTap) {\n      return;\n    }\n    if (state.flowState.type == _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.PasswordReset) {\n      return;\n    }\n    var _getTokenFromUrl = getTokenFromUrl(),\n      tokenType = _getTokenFromUrl.tokenType,\n      token = _getTokenFromUrl.token;\n    if (token && isSupportedTokenType(tokenType) && !isTokenAuthLoading) {\n      switch (tokenType) {\n        case 'discovery':\n          stytchDiscoveryAuthenticate({\n            token: token\n          });\n          break;\n        case 'discovery_oauth':\n          stytchOAuthDiscoveryAuthenticate({\n            token: token\n          });\n          break;\n        case 'oauth':\n          stytchOAuthAuthenticate({\n            token: token\n          });\n          break;\n        case 'sso':\n          stytchSSOAuthenticate({\n            token: token\n          });\n          break;\n        case 'multi_tenant_magic_links':\n          stytchMagicLinkAuthenticate({\n            token: token\n          });\n          break;\n        default:\n          return assertUnreachable();\n      }\n    }\n  }, []);\n  var triggerError = useErrorCallback();\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    if (isOnlyFloatingOneTap) {\n      return;\n    }\n    if (isTokenAuthLoading) {\n      return;\n    }\n    var _getTokenFromUrl2 = getTokenFromUrl(),\n      tokenType = _getTokenFromUrl2.tokenType,\n      token = _getTokenFromUrl2.token;\n    if (token && isSupportedTokenType(tokenType)) {\n      return;\n    }\n    if (!slug && pattern !== undefined && !isSearching && state.flowState.organization === null && state.screen === AppScreens$1.Main && state.flowState.type == _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.Organization) {\n      dispatch({\n        type: 'set_error_message_and_transition',\n        errorType: ErrorType.Organization\n      });\n    }\n  }, [dispatch, isOnlyFloatingOneTap, isSearching, isTokenAuthLoading, pattern, slug, state.flowState.organization, state.flowState.type, state.screen, triggerError]);\n  if (isOnlyFloatingOneTap) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(B2BGoogleOneTap, null);\n  }\n  if (isTokenAuthLoading) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MainContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ChildrenContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LoggingInScreen, null)));\n  }\n  if (isSearching) {\n    return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MainContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ChildrenContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(LoadingScreen, null)));\n  }\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(MainContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(ChildrenContainer, null, ScreenComponentMap[currentScreen], /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Snackbar, null)), displayWatermark && ( /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(WatermarkContainer, null, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(\"a\", {\n    href: \"https://stytch.com/\",\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(Image, {\n    alt: \"Powered by Stytch\",\n    src: POWERED_BY_STYTCH_IMG_URL\n  })))));\n};\nvar AppContainer = function AppContainer(_ref113) {\n  var client = _ref113.client,\n    styles = _ref113.styles,\n    callbacks = _ref113.callbacks,\n    config = _ref113.config;\n  var _h$57 = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.h)(function () {\n      var _readB2BInternals$boo3 = (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(client).bootstrap.getSync(),\n        displayWatermark = _readB2BInternals$boo3.displayWatermark;\n      return displayWatermark;\n    }),\n    _h$58 = _slicedToArray(_h$57, 2),\n    displayWatermark = _h$58[0],\n    setDisplayWatermark = _h$58[1];\n  (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.p)(function () {\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(client).networkClient.logEvent({\n      name: 'render_b2b_login_screen',\n      details: {\n        options: config\n      }\n    });\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.r)(client).bootstrap.getAsync().then(function (_ref114) {\n      var displayWatermark = _ref114.displayWatermark;\n      setDisplayWatermark(displayWatermark);\n    });\n  }, [client]);\n  var initialState = Object.assign(Object.assign({}, DEFAULT_STATE), {\n    screen: config.authFlowType === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.A.PasswordReset ? AppScreens$1.PasswordResetForm : AppScreens$1.Main,\n    flowState: Object.assign(Object.assign({}, DEFAULT_STATE.flowState), {\n      type: config.authFlowType\n    })\n  });\n  var theme = useTheme({\n    styles: styles,\n    displayWatermark: displayWatermark\n  });\n  return /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(GlobalContextProvider, {\n    client: client,\n    callbacks: callbacks,\n    config: config,\n    initialState: initialState\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.n, {\n    theme: theme\n  }, /*#__PURE__*/_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.w.createElement(AppContainer$1, null)));\n};\nvar B2B_UI_SCREEN_WEB_COMPONENT_NAME = 'stytch-b2b-ui';\nvar B2BUILoginComponent = (0,_extractErrorMessage_jipS2nNN_js__WEBPACK_IMPORTED_MODULE_1__.C)(AppContainer, B2B_UI_SCREEN_WEB_COMPONENT_NAME);\nvar StytchB2BUIClient = /*#__PURE__*/function (_StytchB2BHeadlessCli) {\n  _inherits(StytchB2BUIClient, _StytchB2BHeadlessCli);\n  function StytchB2BUIClient() {\n    _classCallCheck(this, StytchB2BUIClient);\n    (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_2__.g)('StytchUIClient');\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _callSuper(this, StytchB2BUIClient, [].concat(args));\n  }\n  _createClass(StytchB2BUIClient, [{\n    key: \"mount\",\n    value: function mount(_ref115) {\n      var elementId = _ref115.elementId,\n        styles = _ref115.styles,\n        callbacks = _ref115.callbacks,\n        config = _ref115.config;\n      var _a;\n      var targetParentDomNode = document.querySelector(elementId);\n      if (!targetParentDomNode) {\n        var errorMessage = \"The selector you specified (\".concat(elementId, \") applies to no DOM elements that are currently on the page. Make sure the element exists on the page before calling mountLogin().\");\n        throw new Error(errorMessage);\n      }\n      if (((_a = targetParentDomNode.firstChild) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase()) === B2B_UI_SCREEN_WEB_COMPONENT_NAME.toLowerCase()) {\n        var node = targetParentDomNode.firstChild;\n        node.render({\n          client: this,\n          config: config,\n          callbacks: callbacks,\n          styles: styles\n        });\n        return;\n      }\n      var loginElement = B2BUILoginComponent({\n        client: this,\n        config: config,\n        callbacks: callbacks,\n        styles: styles\n      });\n      targetParentDomNode.appendChild(loginElement);\n    }\n  }]);\n  return StytchB2BUIClient;\n}(_index_headless_CNM_XbTm_js__WEBPACK_IMPORTED_MODULE_0__.S);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvYjJiL2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxtQ0FBbUM7QUFDbkMsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxtQ0FBbUM7QUFDbkMsNENBQTRDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQ7QUFDL1AsOERBQThELHNFQUFzRSw4REFBOEQsa0RBQWtELGlCQUFpQixHQUFHO0FBQ3hRLGtEQUFrRCwwQ0FBMEM7QUFDNUYsK0JBQStCO0FBQy9CLGtEQUFrRCwwRUFBMEUsZUFBZSw0QkFBNEIsbUZBQW1GO0FBQzFQLHdDQUF3Qyx1QkFBdUIseUZBQXlGO0FBQ3hKLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLHVHQUF1RyxtREFBbUQ7QUFDeEwsMkNBQTJDLCtEQUErRCw2RUFBNkUseUVBQXlFLGVBQWUsdURBQXVELEdBQUcsK0NBQStDLGlCQUFpQixHQUFHO0FBQzVZLGlDQUFpQywwR0FBMEcsaUJBQWlCLGFBQWE7QUFDekssaUNBQWlDLGNBQWMsNE1BQTRNLGFBQWEsYUFBYSxnR0FBZ0csaUJBQWlCLCtDQUErQyxrSEFBa0gsMkJBQTJCLHFDQUFxQywwREFBMEQsV0FBVyxNQUFNLFNBQVMsU0FBUyxZQUFZLG9DQUFvQyxzQkFBc0IsNEJBQTRCLHlIQUF5SCx5QkFBeUIsa0NBQWtDLFFBQVEsNkJBQTZCLE1BQU0sU0FBUyx1Q0FBdUMsWUFBWSxTQUFTLDZCQUE2QixlQUFlLDBGQUEwRix3QkFBd0IsZ0NBQWdDLHlDQUF5QyxZQUFZLDJCQUEyQixjQUFjLEdBQUcsMERBQTBELHlDQUF5Qyx1RkFBdUYsb0NBQW9DLG1EQUFtRCw0QkFBNEIsNEJBQTRCLElBQUks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O0FBQ0gsbURBQW1EO0FBQ25ELG9DQUFvQyxvREFBWTtBQUNoRCw2Q0FBNkM7QUFDN0M7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsK0RBQUU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsK0RBQUUsZUFBZSwrREFBRTtBQUNyQztBQUNBLEdBQUcsZUFBZSwrREFBRTtBQUNwQjtBQUNBO0FBQ0EsMEJBQTBCLG1FQUF5QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0RBQVc7QUFDZix3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQywwREFBdUI7QUFDbUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1sLWNsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3R5dGNoL3ZhbmlsbGEtanMvZGlzdC9iMmIvaW5kZXguZXNtLmpzPzY3ZGEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF90ZW1wbGF0ZU9iamVjdDUsIF90ZW1wbGF0ZU9iamVjdDYsIF90ZW1wbGF0ZU9iamVjdDcsIF90ZW1wbGF0ZU9iamVjdDgsIF90ZW1wbGF0ZU9iamVjdDksIF90ZW1wbGF0ZU9iamVjdDEwLCBfdGVtcGxhdGVPYmplY3QxMSwgX3RlbXBsYXRlT2JqZWN0MTIsIF90ZW1wbGF0ZU9iamVjdDEzLCBfdGVtcGxhdGVPYmplY3QxNCwgX3RlbXBsYXRlT2JqZWN0MTUsIF90ZW1wbGF0ZU9iamVjdDE2LCBfdGVtcGxhdGVPYmplY3QxNywgX3RlbXBsYXRlT2JqZWN0MTgsIF90ZW1wbGF0ZU9iamVjdDE5LCBfdGVtcGxhdGVPYmplY3QyMCwgX3RlbXBsYXRlT2JqZWN0MjEsIF90ZW1wbGF0ZU9iamVjdDIyLCBfdGVtcGxhdGVPYmplY3QyMywgX3RlbXBsYXRlT2JqZWN0MjQsIF90ZW1wbGF0ZU9iamVjdDI1LCBfdGVtcGxhdGVPYmplY3QyNiwgX3RlbXBsYXRlT2JqZWN0MjcsIF90ZW1wbGF0ZU9iamVjdDI4LCBfdGVtcGxhdGVPYmplY3QyOSwgX3RlbXBsYXRlT2JqZWN0MzAsIF90ZW1wbGF0ZU9iamVjdDMxLCBfdGVtcGxhdGVPYmplY3QzMiwgX3RlbXBsYXRlT2JqZWN0MzMsIF90ZW1wbGF0ZU9iamVjdDM0LCBfdGVtcGxhdGVPYmplY3QzNSwgX3RlbXBsYXRlT2JqZWN0MzYsIF90ZW1wbGF0ZU9iamVjdDM3LCBfdGVtcGxhdGVPYmplY3QzOCwgX3RlbXBsYXRlT2JqZWN0MzksIF90ZW1wbGF0ZU9iamVjdDQwLCBfdGVtcGxhdGVPYmplY3Q0MSwgX3RlbXBsYXRlT2JqZWN0NDIsIF90ZW1wbGF0ZU9iamVjdDQzLCBfdGVtcGxhdGVPYmplY3Q0NCwgX3RlbXBsYXRlT2JqZWN0NDUsIF90ZW1wbGF0ZU9iamVjdDQ2LCBfdGVtcGxhdGVPYmplY3Q0NywgX3RlbXBsYXRlT2JqZWN0NDgsIF90ZW1wbGF0ZU9iamVjdDQ5LCBfdGVtcGxhdGVPYmplY3Q1MCwgX3RlbXBsYXRlT2JqZWN0NTEsIF90ZW1wbGF0ZU9iamVjdDUyLCBfdGVtcGxhdGVPYmplY3Q1MywgX3RlbXBsYXRlT2JqZWN0NTQsIF90ZW1wbGF0ZU9iamVjdDU1LCBfdGVtcGxhdGVPYmplY3Q1NiwgX3RlbXBsYXRlT2JqZWN0NTc7XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZTsgfTsgdmFyIHQsIGUgPSB7fSwgciA9IE9iamVjdC5wcm90b3R5cGUsIG4gPSByLmhhc093blByb3BlcnR5LCBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7IHRbZV0gPSByLnZhbHVlOyB9LCBpID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgYSA9IGkuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIiwgdSA9IGkudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogciwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgdFtlXTsgfSB0cnkgeyBkZWZpbmUoe30sIFwiXCIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpIH0pLCBhOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiB0LmNhbGwoZSwgcikgfTsgfSBjYXRjaCAodCkgeyByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsIGYgPSBcImV4ZWN1dGluZ1wiLCBzID0gXCJjb21wbGV0ZWRcIiwgeSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIHAgPSB7fTsgZGVmaW5lKHAsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTsgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpOyB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkgeyBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkgeyBmdW5jdGlvbiBpbnZva2UociwgbywgaSwgYSkgeyB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pOyBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHsgdmFyIHUgPSBjLmFyZywgaCA9IHUudmFsdWU7IHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJuZXh0XCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSkgOiBlLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbiAodCkgeyB1LnZhbHVlID0gdCwgaSh1KTsgfSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KTsgfSBhKGMuYXJnKTsgfSB2YXIgcjsgbyh0aGlzLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0gJiYgKHIubWV0aG9kID0gXCJyZXR1cm5cIiwgci5hcmcgPSB0LCBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpLCBcInRocm93XCIgPT09IHIubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBuICYmIChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBuICsgXCInIG1ldGhvZFwiKSksIHk7IHZhciBpID0gdHJ5Q2F0Y2gobywgZS5pdGVyYXRvciwgci5hcmcpOyBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gci5tZXRob2QgJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksIHIuZGVsZWdhdGUgPSBudWxsLCB5KSA6IGEgOiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCByLmRlbGVnYXRlID0gbnVsbCwgeSk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB7IHRyeUxvYzogdFswXSB9OyAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkgeyB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOyB9IGZ1bmN0aW9uIENvbnRleHQodCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgXCJcIiA9PT0gZSkgeyB2YXIgciA9IGVbYV07IGlmIChyKSByZXR1cm4gci5jYWxsKGUpOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLm5leHQpIHJldHVybiBlOyBpZiAoIWlzTmFOKGUubGVuZ3RoKSkgeyB2YXIgbyA9IC0xLCBpID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsrbyA8IGUubGVuZ3RoOykgaWYgKG4uY2FsbChlLCBvKSkgcmV0dXJuIG5leHQudmFsdWUgPSBlW29dLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIGkubmV4dCA9IGk7IH0gfSB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvKGcsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gISFlICYmIChlID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDsgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB7IF9fYXdhaXQ6IHQgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZS5hc3luYyA9IGZ1bmN0aW9uICh0LCByLCBuLCBvLCBpKSB7IHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpOyB2YXIgYSA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAodCwgciwgbiwgbyksIGkpOyByZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZG9uZSA/IHQudmFsdWUgOiBhLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSwgZGVmaW5lKGcsIHUsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoZywgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCBlLmtleXMgPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IE9iamVjdCh0KSwgciA9IFtdOyBmb3IgKHZhciBuIGluIGUpIHIucHVzaChuKTsgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgci5sZW5ndGg7KSB7IHZhciB0ID0gci5wb3AoKTsgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGUudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhZSkgZm9yICh2YXIgciBpbiB0aGlzKSBcInRcIiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihlKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGU7IHZhciByID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKG4sIG8pIHsgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IG4uY2FsbChpLCBcImNhdGNoTG9jXCIpLCB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTsgaWYgKGMgJiYgdSkgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCF1KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLnRyeUxvYyA9PT0gdCkgeyB2YXIgbiA9IHIuY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdCksIHk7IH0gfSwgZTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHRbXCJyZXR1cm5cIl0gJiYgKHUgPSB0W1wicmV0dXJuXCJdKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cbmZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7IGlmICghcmF3KSB7IHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7IH0gcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgeyByYXc6IHsgdmFsdWU6IE9iamVjdC5mcmVlemUocmF3KSB9IH0pKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogU3RyaW5nKGkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuaW1wb3J0IHsgRSBhcyBFTUFJTF9SRUdFWCwgZCBhcyBkZWJvdW5jZSwgUyBhcyBTdHl0Y2hCMkJIZWFkbGVzc0NsaWVudCB9IGZyb20gJy4uL2luZGV4LmhlYWRsZXNzLUNOTS1YYlRtLmpzJztcbmltcG9ydCB7IGkgYXMgaXNUcnV0aHksIHcgYXMgd24sIHEsIEYsIG0gYXMgbWVyZ2UsIHksIHAgYXMgcCQxLCBhIGFzIHcsIGcgYXMgZyQxLCBoIGFzIGgkMSwgTiwgSCBhcyBIZSwgYiBhcyB3aXRoTWlkZGxld2FyZSwgdSBhcyB1c2VTV1IsIGMgYXMgdXNlU1dSQ29uZmlnLCBfLCBkIGFzIHVzZVN0YXRlV2l0aERlcHMsIFQsIHMgYXMgc2VyaWFsaXplLCBlIGFzIG1lcmdlT2JqZWN0cywgZiBhcyBnZXRUaW1lc3RhbXAsIFUgYXMgVU5ERUZJTkVELCBqIGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QsIGsgYXMgVWUsIFogYXMgWmUsIGwgYXMgZXh0cmFjdEVycm9yTWVzc2FnZSwgQyBhcyBDcmVhdGVTU1JTYWZlV2ViQ29tcG9uZW50LCBuIGFzIEZlIH0gZnJvbSAnLi4vZXh0cmFjdEVycm9yTWVzc2FnZS1qaXBTMm5OTi5qcyc7XG5pbXBvcnQgeyBCIGFzIEIyQk1GQVByb2R1Y3RzLCBBIGFzIEF1dGhGbG93VHlwZSwgYSBhcyBCMkJQcm9kdWN0cywgYiBhcyBPVFBNZXRob2RzLCBXIGFzIFdhbGxldHMsIFAgYXMgUHJvZHVjdHMsIFMgYXMgU3R5dGNoRXZlbnRUeXBlLCByIGFzIHJlYWRCMkJJbnRlcm5hbHMsIEQgYXMgREVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVMsIF8gYXMgX19hd2FpdGVyLCBjIGFzIFN0eXRjaEFQSUVycm9yLCBkIGFzIEIyQk9BdXRoUHJvdmlkZXJzLCBsIGFzIGxvZ2dlciwgZSBhcyBPbmVUYXBQb3NpdGlvbnMsIGkgYXMgaXNUZXN0UHVibGljVG9rZW4sIEMgYXMgQ09VTlRSSUVTX0xJU1QsIGYgYXMgU3R5dGNoU0RLRXJyb3IsIGcgYXMgY2hlY2tOb3RTU1IgfSBmcm9tICcuLi9pbnRlcm5hbC1ENU9xTHNQcy5qcyc7XG5leHBvcnQgeyBoIGFzIEJpb21ldHJpY3NGYWlsZWRFcnJvciwgaiBhcyBCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvciwgayBhcyBDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IsIG0gYXMgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IsIEYgYXMgRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yLCBuIGFzIEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciwgSSBhcyBJbnRlcm5hbEVycm9yLCBvIGFzIEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yLCBwIGFzIEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yLCBxIGFzIEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yLCBzIGFzIEludmFsaWRTdGFydFVybEVycm9yLCBKIGFzIEpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yLCBLIGFzIEtleUludmFsaWRhdGVkRXJyb3IsIHQgYXMgS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yLCBNIGFzIE1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yLCB1IGFzIE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvciwgdiBhcyBNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvciwgdyBhcyBNaXNzaW5nUEtDRUVycm9yLCB4IGFzIE1pc3NpbmdQdWJsaWNLZXlFcnJvciwgeSBhcyBNaXNzaW5nVXJsRXJyb3IsIE4gYXMgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvciwgeiBhcyBOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvciwgRSBhcyBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yLCBHIGFzIE5vQ3VycmVudFNlc3Npb25FcnJvciwgTyBhcyBPQXV0aFByb3ZpZGVycywgSCBhcyBQYXNza2V5c0ludmFsaWRFbmNvZGluZywgTCBhcyBQYXNza2V5c01pc2NvbmZpZ3VyZWQsIFEgYXMgUGFzc2tleXNVbnN1cHBvcnRlZEVycm9yLCBSIGFzIFJOVUlQcm9kdWN0cywgVCBhcyBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkLCBVIGFzIFNES0FQSVVucmVhY2hhYmxlRXJyb3IsIFYgYXMgU0RLTm90Q29uZmlndXJlZEVycm9yLCBYIGFzIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQsIFkgYXMgU3R5dGNoQVBJU2NoZW1hRXJyb3IsIFogYXMgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvciwgJCBhcyBTdHl0Y2hFcnJvciwgYTAgYXMgU3R5dGNoU0RLQVBJRXJyb3IsIGExIGFzIFN0eXRjaFNES1NjaGVtYUVycm9yLCBhMiBhcyBTdHl0Y2hTREtVc2FnZUVycm9yLCBhMyBhcyBVTlJFQ09WRVJBQkxFX0VSUk9SX1RZUEVTLCBhNCBhcyBVc2VyQ2FuY2VsbGF0aW9uRXJyb3IsIGE1IGFzIFVzZXJMb2NrZWRPdXRFcnJvciwgYTYgYXMgZXJyb3JUb1N0eXRjaEVycm9yIH0gZnJvbSAnLi4vaW50ZXJuYWwtRDVPcUxzUHMuanMnO1xudmFyIERFRkFVTFRfTUZBX1NUQVRFID0ge1xuICBwcmltYXJ5SW5mbzogbnVsbCxcbiAgaXNFbnJvbGxpbmc6IGZhbHNlLFxuICBzbXNPdHA6IHtcbiAgICBpc1NlbmRpbmc6IGZhbHNlLFxuICAgIHNlbmRFcnJvcjogbnVsbCxcbiAgICBjb2RlRXhwaXJhdGlvbjogbnVsbCxcbiAgICBmb3JtYXR0ZWREZXN0aW5hdGlvbjogbnVsbCxcbiAgICBlbnJvbGxlZE51bWJlcjogbnVsbFxuICB9LFxuICB0b3RwOiB7XG4gICAgaXNDcmVhdGluZzogZmFsc2UsXG4gICAgY3JlYXRlRXJyb3I6IG51bGwsXG4gICAgZW5yb2xsbWVudDogbnVsbFxuICB9XG59O1xudmFyIGdldEVuYWJsZWRNZXRob2RzID0gZnVuY3Rpb24gZ2V0RW5hYmxlZE1ldGhvZHMoX3JlZjMpIHtcbiAgdmFyIGFsbE1ldGhvZHMgPSBfcmVmMy5hbGxNZXRob2RzLFxuICAgIG9yZ1N1cHBvcnRlZE1ldGhvZHMgPSBfcmVmMy5vcmdTdXBwb3J0ZWRNZXRob2RzLFxuICAgIHVpSW5jbHVkZWRNZXRob2RzID0gX3JlZjMudWlJbmNsdWRlZE1ldGhvZHM7XG4gIGlmIChvcmdTdXBwb3J0ZWRNZXRob2RzID09PSBudWxsIHx8IG9yZ1N1cHBvcnRlZE1ldGhvZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9yZ1N1cHBvcnRlZE1ldGhvZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBTZXQob3JnU3VwcG9ydGVkTWV0aG9kcyk7XG4gIH1cbiAgdmFyIG1ldGhvZHNBcnIgPSAodWlJbmNsdWRlZE1ldGhvZHMgPT09IG51bGwgfHwgdWlJbmNsdWRlZE1ldGhvZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVpSW5jbHVkZWRNZXRob2RzLmxlbmd0aCkgPyB1aUluY2x1ZGVkTWV0aG9kcyA6IGFsbE1ldGhvZHM7XG4gIHJldHVybiBuZXcgU2V0KG1ldGhvZHNBcnIpO1xufTtcbnZhciBERUZBVUxUX1NNU19PVFBfRVhQSVJBVElPTl9NUyA9IDEwMDAgKiA2MCAqIDI7XG5mdW5jdGlvbiBhcGlNZmFNZXRob2RUb1Byb2R1Y3QobWV0aG9kKSB7XG4gIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgY2FzZSAndG90cCc6XG4gICAgICByZXR1cm4gQjJCTUZBUHJvZHVjdHMudG90cDtcbiAgICBjYXNlICdzbXNfb3RwJzpcbiAgICAgIHJldHVybiBCMkJNRkFQcm9kdWN0cy5zbXNPdHA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbnZhciBnZXRTbXNPdHBDb2RlRXhwaXJhdGlvbiA9IGZ1bmN0aW9uIGdldFNtc090cENvZGVFeHBpcmF0aW9uKCkge1xuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSArIERFRkFVTFRfU01TX09UUF9FWFBJUkFUSU9OX01TKTtcbn07XG52YXIgQjJCX01GQV9NRVRIT0RTID0gW0IyQk1GQVByb2R1Y3RzLnRvdHAsIEIyQk1GQVByb2R1Y3RzLnNtc090cF07XG52YXIgbWZhUmVkdWNlciA9IGZ1bmN0aW9uIG1mYVJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3U7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdwcmltYXJ5X2F1dGhlbnRpY2F0ZV9zdWNjZXNzJzpcbiAgICAgIHtcbiAgICAgICAgdmFyIG1lbWJlckF1dGhlbnRpY2F0ZWQgPSAhIWFjdGlvbi5yZXNwb25zZS5tZW1iZXJfc2Vzc2lvbjtcbiAgICAgICAgdmFyIHBvc3RBdXRoU2NyZWVuID0gYWN0aW9uLnJlc2V0VG9rZW5UeXBlID09PSAnbXVsdGlfdGVuYW50X21hZ2ljX2xpbmtzJyA/IEFwcFNjcmVlbnMkMS5QYXNzd29yZFJlc2V0Rm9ybSA6IEFwcFNjcmVlbnMkMS5Mb2dnZWRJbjtcbiAgICAgICAgaWYgKG1lbWJlckF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHtcbiAgICAgICAgICAgIG1mYTogREVGQVVMVF9NRkFfU1RBVEUsXG4gICAgICAgICAgICBzY3JlZW46IHBvc3RBdXRoU2NyZWVuXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lbWJlckVucm9sbGVkSW5TbXNPdHAgPSBhY3Rpb24ucmVzcG9uc2UubWVtYmVyLm1mYV9waG9uZV9udW1iZXJfdmVyaWZpZWQ7XG4gICAgICAgIHZhciBtZW1iZXJFbnJvbGxlZEluVG90cCA9ICEhYWN0aW9uLnJlc3BvbnNlLm1lbWJlci50b3RwX3JlZ2lzdHJhdGlvbl9pZDtcbiAgICAgICAgdmFyIHByaW1hcnlJbmZvID0ge1xuICAgICAgICAgIGVucm9sbGVkTWZhTWV0aG9kczogW21lbWJlckVucm9sbGVkSW5Ub3RwICYmIEIyQk1GQVByb2R1Y3RzLnRvdHAsIG1lbWJlckVucm9sbGVkSW5TbXNPdHAgJiYgQjJCTUZBUHJvZHVjdHMuc21zT3RwXS5maWx0ZXIoaXNUcnV0aHkpLFxuICAgICAgICAgIG1lbWJlcklkOiBhY3Rpb24ucmVzcG9uc2UubWVtYmVyX2lkLFxuICAgICAgICAgIG1lbWJlclBob25lTnVtYmVyOiBhY3Rpb24ucmVzcG9uc2UubWVtYmVyLm1mYV9waG9uZV9udW1iZXIsXG4gICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IGFjdGlvbi5yZXNwb25zZS5vcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX2lkLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQ6IGFjdGlvbi5yZXNwb25zZS5vcmdhbml6YXRpb24ubWZhX21ldGhvZHMgPT09ICdSRVNUUklDVEVEJyAmJiBhY3Rpb24ucmVzcG9uc2Uub3JnYW5pemF0aW9uLmFsbG93ZWRfbWZhX21ldGhvZHMgPyAoX2EgPSBhY3Rpb24ucmVzcG9uc2Uub3JnYW5pemF0aW9uLmFsbG93ZWRfbWZhX21ldGhvZHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoYXBpTWZhTWV0aG9kVG9Qcm9kdWN0KS5maWx0ZXIoaXNUcnV0aHkpIDogW10sXG4gICAgICAgICAgcG9zdEF1dGhTY3JlZW46IHBvc3RBdXRoU2NyZWVuXG4gICAgICAgIH07XG4gICAgICAgIHZhciBvcmdhbml6YXRpb25TdXBwb3J0c01ldGhvZCA9IGZ1bmN0aW9uIG9yZ2FuaXphdGlvblN1cHBvcnRzTWV0aG9kKG1ldGhvZCkge1xuICAgICAgICAgIHJldHVybiBwcmltYXJ5SW5mby5vcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkLmxlbmd0aCA9PT0gMCB8fCBwcmltYXJ5SW5mby5vcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkLmluY2x1ZGVzKG1ldGhvZCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXREZWZhdWx0TWV0aG9kID0gZnVuY3Rpb24gZ2V0RGVmYXVsdE1ldGhvZCgpIHtcbiAgICAgICAgICB2YXIgZGVmYXVsdE1ldGhvZCA9IGFwaU1mYU1ldGhvZFRvUHJvZHVjdChhY3Rpb24ucmVzcG9uc2UubWVtYmVyLmRlZmF1bHRfbWZhX21ldGhvZCk7XG4gICAgICAgICAgaWYgKGRlZmF1bHRNZXRob2QgJiYgb3JnYW5pemF0aW9uU3VwcG9ydHNNZXRob2QoZGVmYXVsdE1ldGhvZCkgJiYgcHJpbWFyeUluZm8uZW5yb2xsZWRNZmFNZXRob2RzLmluY2x1ZGVzKGRlZmF1bHRNZXRob2QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdE1ldGhvZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNtc0ltcGxpY2l0bHlTZW50ID0gKChfYiA9IGFjdGlvbi5yZXNwb25zZS5tZmFfcmVxdWlyZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZWNvbmRhcnlfYXV0aF9pbml0aWF0ZWQpID09PSAnc21zX290cCc7XG4gICAgICAgIHZhciBlbnRyeU1ldGhvZCA9IHNtc0ltcGxpY2l0bHlTZW50ID8gQjJCTUZBUHJvZHVjdHMuc21zT3RwIDogKF9jID0gZ2V0RGVmYXVsdE1ldGhvZCgpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBwcmltYXJ5SW5mby5lbnJvbGxlZE1mYU1ldGhvZHMuZmluZChvcmdhbml6YXRpb25TdXBwb3J0c01ldGhvZCk7XG4gICAgICAgIGlmIChlbnRyeU1ldGhvZCkge1xuICAgICAgICAgIHZhciBtZmFTdGF0ZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9NRkFfU1RBVEUpLCB7XG4gICAgICAgICAgICBwcmltYXJ5SW5mbzogcHJpbWFyeUluZm9cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzd2l0Y2ggKGVudHJ5TWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIEIyQk1GQVByb2R1Y3RzLnNtc090cDpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICAgICAgICAgICAgbWZhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1mYVN0YXRlKSwge1xuICAgICAgICAgICAgICAgICAgICBzbXNPdHA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9NRkFfU1RBVEUuc21zT3RwKSwge1xuICAgICAgICAgICAgICAgICAgICAgIGNvZGVFeHBpcmF0aW9uOiBzbXNJbXBsaWNpdGx5U2VudCA/IGdldFNtc090cENvZGVFeHBpcmF0aW9uKCkgOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlNNU09UUEVudHJ5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQjJCTUZBUHJvZHVjdHMudG90cDpcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgICAgICAgICAgbWZhOiBtZmFTdGF0ZSxcbiAgICAgICAgICAgICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5UT1RQRW50cnlcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBlbmFibGVkTWV0aG9kcyA9IGdldEVuYWJsZWRNZXRob2RzKHtcbiAgICAgICAgICBhbGxNZXRob2RzOiBCMkJfTUZBX01FVEhPRFMsXG4gICAgICAgICAgb3JnU3VwcG9ydGVkTWV0aG9kczogcHJpbWFyeUluZm8ub3JnYW5pemF0aW9uTWZhT3B0aW9uc1N1cHBvcnRlZCxcbiAgICAgICAgICB1aUluY2x1ZGVkTWV0aG9kczogYWN0aW9uLmluY2x1ZGVkTWZhTWV0aG9kc1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGdldE5leHRFbnJvbGxtZW50U2NyZWVuID0gZnVuY3Rpb24gZ2V0TmV4dEVucm9sbG1lbnRTY3JlZW4oKSB7XG4gICAgICAgICAgaWYgKGVuYWJsZWRNZXRob2RzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChlbmFibGVkTWV0aG9kcy5oYXMoQjJCTUZBUHJvZHVjdHMudG90cCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEFwcFNjcmVlbnMkMS5UT1RQRW5yb2xsbWVudFFSQ29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmFibGVkTWV0aG9kcy5oYXMoQjJCTUZBUHJvZHVjdHMuc21zT3RwKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQXBwU2NyZWVucyQxLlNNU09UUEVucm9sbG1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBBcHBTY3JlZW5zJDEuTUZBRW5yb2xsbWVudFNlbGVjdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgICAgbWZhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfTUZBX1NUQVRFKSwge1xuICAgICAgICAgICAgcHJpbWFyeUluZm86IHByaW1hcnlJbmZvLFxuICAgICAgICAgICAgaXNFbnJvbGxpbmc6IHRydWVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzY3JlZW46IGdldE5leHRFbnJvbGxtZW50U2NyZWVuKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgY2FzZSAnbWZhL3N0YXJ0X2Vucm9sbG1lbnQnOlxuICAgICAge1xuICAgICAgICB2YXIgc2NyZWVuID0gYWN0aW9uLm1ldGhvZCA9PT0gQjJCTUZBUHJvZHVjdHMuc21zT3RwID8gQXBwU2NyZWVucyQxLlNNU09UUEVucm9sbG1lbnQgOiBBcHBTY3JlZW5zJDEuVE9UUEVucm9sbG1lbnRRUkNvZGU7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICAgIHNjcmVlbjogc2NyZWVuXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGNhc2UgJ3Ntc19vdHAvYXV0aGVudGljYXRlX3N1Y2Nlc3MnOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIG1mYTogREVGQVVMVF9NRkFfU1RBVEUsXG4gICAgICAgIHNjcmVlbjogKF9lID0gKF9kID0gc3RhdGUubWZhLnByaW1hcnlJbmZvKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucG9zdEF1dGhTY3JlZW4pICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IEFwcFNjcmVlbnMkMS5Mb2dnZWRJblxuICAgICAgfSk7XG4gICAgY2FzZSAnc21zX290cC9zZW5kJzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBtZmE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUubWZhKSwge1xuICAgICAgICAgIHNtc090cDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5tZmEuc21zT3RwKSwge1xuICAgICAgICAgICAgaXNTZW5kaW5nOiB0cnVlLFxuICAgICAgICAgICAgc2VuZEVycm9yOiBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIGNhc2UgJ3Ntc19vdHAvc2VuZF9zdWNjZXNzJzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBtZmE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUubWZhKSwge1xuICAgICAgICAgIHNtc090cDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5tZmEuc21zT3RwKSwge1xuICAgICAgICAgICAgaXNTZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHNlbmRFcnJvcjogbnVsbCxcbiAgICAgICAgICAgIGNvZGVFeHBpcmF0aW9uOiBnZXRTbXNPdHBDb2RlRXhwaXJhdGlvbigpLFxuICAgICAgICAgICAgZm9ybWF0dGVkRGVzdGluYXRpb246IChfZiA9IGFjdGlvbi5mb3JtYXR0ZWRQaG9uZU51bWJlcikgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogc3RhdGUubWZhLnNtc090cC5mb3JtYXR0ZWREZXN0aW5hdGlvbixcbiAgICAgICAgICAgIGVucm9sbGVkTnVtYmVyOiBhY3Rpb24ucGhvbmVOdW1iZXIgPyB7XG4gICAgICAgICAgICAgIHBob25lTnVtYmVyOiBhY3Rpb24ucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhY3Rpb24uY291bnRyeUNvZGVcbiAgICAgICAgICAgIH0gOiBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlNNU09UUEVudHJ5XG4gICAgICB9KTtcbiAgICBjYXNlICdzbXNfb3RwL3NlbmRfZXJyb3InOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIG1mYTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5tZmEpLCB7XG4gICAgICAgICAgc21zT3RwOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYS5zbXNPdHApLCB7XG4gICAgICAgICAgICBpc1NlbmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgc2VuZEVycm9yOiBhY3Rpb24uZXJyb3IsXG4gICAgICAgICAgICBjb2RlRXhwaXJhdGlvbjogKF9nID0gc3RhdGUubWZhLnNtc090cC5jb2RlRXhwaXJhdGlvbikgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDApXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIGNhc2UgJ3Ntc19vdHAvZm9ybWF0X2Rlc3RpbmF0aW9uJzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBtZmE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUubWZhKSwge1xuICAgICAgICAgIHNtc090cDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5tZmEuc21zT3RwKSwge1xuICAgICAgICAgICAgZm9ybWF0dGVkRGVzdGluYXRpb246IGFjdGlvbi5mb3JtYXR0ZWRQaG9uZU51bWJlclxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICBjYXNlICdzbXNfb3RwL25hdmlnYXRlX3RvX2VudHJ5JzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5TTVNPVFBFbnRyeVxuICAgICAgfSk7XG4gICAgY2FzZSAncmVjb3ZlcnlfY29kZS9hdXRoZW50aWNhdGVfc3VjY2Vzcyc6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHtcbiAgICAgICAgbWZhOiBERUZBVUxUX01GQV9TVEFURSxcbiAgICAgICAgc2NyZWVuOiAoX2ogPSAoX2ggPSBzdGF0ZS5tZmEucHJpbWFyeUluZm8pID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5wb3N0QXV0aFNjcmVlbikgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogQXBwU2NyZWVucyQxLkxvZ2dlZEluXG4gICAgICB9KTtcbiAgICBjYXNlICdyZWNvdmVyeV9jb2RlL25hdmlnYXRlX3RvX2VudHJ5JzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5SZWNvdmVyeUNvZGVFbnRyeVxuICAgICAgfSk7XG4gICAgY2FzZSAncmVjb3ZlcnlfY29kZS9zYXZlX2Fja25vd2xlZGdlJzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBtZmE6IERFRkFVTFRfTUZBX1NUQVRFLFxuICAgICAgICBzY3JlZW46IChfbCA9IChfayA9IHN0YXRlLm1mYS5wcmltYXJ5SW5mbykgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLnBvc3RBdXRoU2NyZWVuKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBBcHBTY3JlZW5zJDEuTG9nZ2VkSW5cbiAgICAgIH0pO1xuICAgIGNhc2UgJ3RvdHAvYXV0aGVudGljYXRlX3N1Y2Nlc3MnOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIG1mYTogc3RhdGUubWZhLmlzRW5yb2xsaW5nID8gc3RhdGUubWZhIDogREVGQVVMVF9NRkFfU1RBVEUsXG4gICAgICAgIHNjcmVlbjogc3RhdGUubWZhLmlzRW5yb2xsaW5nID8gQXBwU2NyZWVucyQxLlJlY292ZXJ5Q29kZVNhdmUgOiAoX28gPSAoX20gPSBzdGF0ZS5tZmEucHJpbWFyeUluZm8pID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5wb3N0QXV0aFNjcmVlbikgIT09IG51bGwgJiYgX28gIT09IHZvaWQgMCA/IF9vIDogQXBwU2NyZWVucyQxLkxvZ2dlZEluXG4gICAgICB9KTtcbiAgICBjYXNlICd0b3RwL2NyZWF0ZSc6XG4gICAgICBpZiAoc3RhdGUubWZhLnRvdHAuaXNDcmVhdGluZykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHtcbiAgICAgICAgbWZhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYSksIHtcbiAgICAgICAgICB0b3RwOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYS50b3RwKSwge1xuICAgICAgICAgICAgaXNDcmVhdGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGNyZWF0ZUVycm9yOiBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIGNhc2UgJ3RvdHAvY3JlYXRlX3N1Y2Nlc3MnOlxuICAgICAgaWYgKCFzdGF0ZS5tZmEuaXNFbnJvbGxpbmcgfHwgKChfcCA9IHN0YXRlLm1mYS5wcmltYXJ5SW5mbykgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLm1lbWJlcklkKSAhPT0gYWN0aW9uLm1lbWJlcklkIHx8ICgoX3EgPSBzdGF0ZS5tZmEucHJpbWFyeUluZm8pID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5vcmdhbml6YXRpb25JZCkgIT09IGFjdGlvbi5vcmdhbml6YXRpb25JZCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHtcbiAgICAgICAgbWZhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYSksIHtcbiAgICAgICAgICB0b3RwOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYS50b3RwKSwge1xuICAgICAgICAgICAgY3JlYXRlRXJyb3I6IG51bGwsXG4gICAgICAgICAgICBpc0NyZWF0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVucm9sbG1lbnQ6IHtcbiAgICAgICAgICAgICAgc2VjcmV0OiBhY3Rpb24ucmVzcG9uc2Uuc2VjcmV0LFxuICAgICAgICAgICAgICBxckNvZGU6IGFjdGlvbi5yZXNwb25zZS5xcl9jb2RlLFxuICAgICAgICAgICAgICByZWNvdmVyeUNvZGVzOiBhY3Rpb24ucmVzcG9uc2UucmVjb3ZlcnlfY29kZXMsXG4gICAgICAgICAgICAgIG1ldGhvZDogKF9zID0gKF9yID0gc3RhdGUubWZhLnRvdHAuZW5yb2xsbWVudCkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLm1ldGhvZCkgIT09IG51bGwgJiYgX3MgIT09IHZvaWQgMCA/IF9zIDogJ3FyJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICBjYXNlICd0b3RwL2NyZWF0ZV9lcnJvcic6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHtcbiAgICAgICAgbWZhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYSksIHtcbiAgICAgICAgICB0b3RwOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYS50b3RwKSwge1xuICAgICAgICAgICAgaXNDcmVhdGluZzogZmFsc2UsXG4gICAgICAgICAgICBjcmVhdGVFcnJvcjogYWN0aW9uLmVycm9yXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIGNhc2UgJ3RvdHAvbmF2aWdhdGVfdG9fZW50cnknOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlRPVFBFbnRyeVxuICAgICAgfSk7XG4gICAgY2FzZSAndG90cC9zaG93X2NvZGUnOlxuICAgICAge1xuICAgICAgICBpZiAoIXN0YXRlLm1mYS5pc0Vucm9sbGluZyB8fCAhc3RhdGUubWZhLnRvdHAuZW5yb2xsbWVudCkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWV0aG9kID0gKF91ID0gKF90ID0gYWN0aW9uLm1ldGhvZCkgIT09IG51bGwgJiYgX3QgIT09IHZvaWQgMCA/IF90IDogc3RhdGUubWZhLnRvdHAuZW5yb2xsbWVudC5tZXRob2QpICE9PSBudWxsICYmIF91ICE9PSB2b2lkIDAgPyBfdSA6ICdxcic7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICAgIG1mYTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5tZmEpLCB7XG4gICAgICAgICAgICB0b3RwOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYS50b3RwKSwge1xuICAgICAgICAgICAgICBlbnJvbGxtZW50OiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLm1mYS50b3RwLmVucm9sbG1lbnQpLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2RcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSksXG4gICAgICAgICAgc2NyZWVuOiBtZXRob2QgPT09ICdtYW51YWwnID8gQXBwU2NyZWVucyQxLlRPVFBFbnJvbGxtZW50TWFudWFsIDogQXBwU2NyZWVucyQxLlRPVFBFbnJvbGxtZW50UVJDb2RlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG52YXIgcmVkdWNlciQxID0gZnVuY3Rpb24gcmVkdWNlciQxKHN0YXRlLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ3RyYW5zaXRpb24nOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIHNjcmVlbjogYWN0aW9uLnNjcmVlblxuICAgICAgfSk7XG4gICAgY2FzZSAnc2V0X2Vycm9yX21lc3NhZ2VfYW5kX3RyYW5zaXRpb24nOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLkVycm9yLFxuICAgICAgICBlcnJvclR5cGU6IGFjdGlvbi5lcnJvclR5cGVcbiAgICAgIH0pO1xuICAgIGNhc2UgJ3NldF9tYWdpY19saW5rX2VtYWlsJzpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgICAgZm9ybVN0YXRlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmZvcm1TdGF0ZSksIHtcbiAgICAgICAgICAgIG1hZ2ljTGlua1N0YXRlOiB7XG4gICAgICAgICAgICAgIGVtYWlsOiBhY3Rpb24uZW1haWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBjYXNlICdzZXRfb3JnYW5pemF0aW9uJzpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgICAgZmxvd1N0YXRlOiB7XG4gICAgICAgICAgICB0eXBlOiBBdXRoRmxvd1R5cGUuT3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uOiBhY3Rpb24ub3JnYW5pemF0aW9uXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBjYXNlICdzZXRfZGlzY292ZXJ5X3N0YXRlJzpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgICAgZm9ybVN0YXRlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmZvcm1TdGF0ZSksIHtcbiAgICAgICAgICAgIGRpc2NvdmVyeVN0YXRlOiB7XG4gICAgICAgICAgICAgIGVtYWlsOiBhY3Rpb24uZW1haWwsXG4gICAgICAgICAgICAgIGRpc2NvdmVyZWRPcmdhbml6YXRpb25zOiBhY3Rpb24uZGlzY292ZXJlZE9yZ2FuaXphdGlvbnMsXG4gICAgICAgICAgICAgIGludGVybWVkaWF0ZVNlc3Npb25Ub2tlbjogYWN0aW9uLmludGVybWVkaWF0ZVNlc3Npb25Ub2tlblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGNhc2UgJ3NldF9wYXNzd29yZF9zdGF0ZSc6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICAgIGZvcm1TdGF0ZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5mb3JtU3RhdGUpLCB7XG4gICAgICAgICAgICBwYXNzd29yZFN0YXRlOiB7XG4gICAgICAgICAgICAgIGVtYWlsOiBhY3Rpb24uZW1haWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG1mYVJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gIH1cbn07XG52YXIgQXBwU2NyZWVucyQxO1xuKGZ1bmN0aW9uIChBcHBTY3JlZW5zKSB7XG4gIEFwcFNjcmVlbnNbXCJNYWluXCJdID0gXCJNYWluXCI7XG4gIEFwcFNjcmVlbnNbXCJFbWFpbENvbmZpcm1hdGlvblwiXSA9IFwiRW1haWwgQ29uZmlybWF0aW9uXCI7XG4gIEFwcFNjcmVlbnNbXCJMb2dnZWRJblwiXSA9IFwiTG9nZ2VkIEluXCI7XG4gIEFwcFNjcmVlbnNbXCJEaXNjb3ZlcnlcIl0gPSBcIkRpc2NvdmVyeVwiO1xuICBBcHBTY3JlZW5zW1wiRXJyb3JcIl0gPSBcIkVycm9yXCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNzd29yZEVtYWlsRm9ybVwiXSA9IFwiUGFzc3dvcmQgRW1haWxcIjtcbiAgQXBwU2NyZWVuc1tcIlBhc3N3b3JkQXV0aGVudGljYXRlXCJdID0gXCJQYXNzd29yZCBBdXRoZW50aWNhdGVcIjtcbiAgQXBwU2NyZWVuc1tcIlBhc3N3b3JkUmVzZXRGb3JtXCJdID0gXCJQYXNzd29yZCBSZXNldCBGb3JtXCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNzd29yZFJlc2V0VmVyaWZ5Q29uZmlybWF0aW9uXCJdID0gXCJQYXNzd29yZCBSZXNldCBWZXJpZnkgQ29uZmlybWF0aW9uXCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNzd29yZEZvcmdvdEZvcm1cIl0gPSBcIlBhc3N3b3JkIEZvcmdvdCBGb3JtXCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNzd29yZFNldE5ld0NvbmZpcm1hdGlvblwiXSA9IFwiUGFzc3dvcmQgU2V0IE5ldyBDb25maXJtYXRpb25cIjtcbiAgQXBwU2NyZWVuc1tcIk1GQUVucm9sbG1lbnRTZWxlY3Rpb25cIl0gPSBcIk1GQSBFbnJvbGxtZW50IFNlbGVjdGlvblwiO1xuICBBcHBTY3JlZW5zW1wiUmVjb3ZlcnlDb2RlRW50cnlcIl0gPSBcIlJlY292ZXJ5IENvZGUgRW50cnlcIjtcbiAgQXBwU2NyZWVuc1tcIlJlY292ZXJ5Q29kZVNhdmVcIl0gPSBcIlJlY292ZXJ5IENvZGUgU2F2ZVwiO1xuICBBcHBTY3JlZW5zW1wiU01TT1RQRW5yb2xsbWVudFwiXSA9IFwiU01TIE9UUCBFbnJvbGxtZW50XCI7XG4gIEFwcFNjcmVlbnNbXCJTTVNPVFBFbnRyeVwiXSA9IFwiU01TIE9UUCBFbnRyeVwiO1xuICBBcHBTY3JlZW5zW1wiVE9UUEVucm9sbG1lbnRNYW51YWxcIl0gPSBcIlRPVFAgRW5yb2xsbWVudCBNYW51YWxcIjtcbiAgQXBwU2NyZWVuc1tcIlRPVFBFbnJvbGxtZW50UVJDb2RlXCJdID0gXCJUT1RQIEVucm9sbG1lbnQgUVIgQ29kZVwiO1xuICBBcHBTY3JlZW5zW1wiVE9UUEVudHJ5XCJdID0gXCJUT1RQIEVudHJ5XCI7XG59KShBcHBTY3JlZW5zJDEgfHwgKEFwcFNjcmVlbnMkMSA9IHt9KSk7XG52YXIgRXJyb3JUeXBlO1xuKGZ1bmN0aW9uIChFcnJvclR5cGUpIHtcbiAgRXJyb3JUeXBlW0Vycm9yVHlwZVtcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICBFcnJvclR5cGVbRXJyb3JUeXBlW1wiRW1haWxNYWdpY0xpbmtcIl0gPSAxXSA9IFwiRW1haWxNYWdpY0xpbmtcIjtcbiAgRXJyb3JUeXBlW0Vycm9yVHlwZVtcIk9yZ2FuaXphdGlvblwiXSA9IDJdID0gXCJPcmdhbml6YXRpb25cIjtcbn0pKEVycm9yVHlwZSB8fCAoRXJyb3JUeXBlID0ge30pKTtcbnZhciBERUZBVUxUX1NUQVRFID0ge1xuICBzY3JlZW46IEFwcFNjcmVlbnMkMS5NYWluLFxuICBmb3JtU3RhdGU6IHtcbiAgICBtYWdpY0xpbmtTdGF0ZToge1xuICAgICAgZW1haWw6ICcnXG4gICAgfSxcbiAgICBkaXNjb3ZlcnlTdGF0ZToge1xuICAgICAgZW1haWw6ICcnLFxuICAgICAgaW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuOiAnJyxcbiAgICAgIGRpc2NvdmVyZWRPcmdhbml6YXRpb25zOiBbXVxuICAgIH0sXG4gICAgcGFzc3dvcmRTdGF0ZToge1xuICAgICAgZW1haWw6ICcnXG4gICAgfVxuICB9LFxuICBmbG93U3RhdGU6IHtcbiAgICB0eXBlOiBBdXRoRmxvd1R5cGUuT3JnYW5pemF0aW9uLFxuICAgIG9yZ2FuaXphdGlvbjogbnVsbFxuICB9LFxuICBtZmE6IERFRkFVTFRfTUZBX1NUQVRFLFxuICBlcnJvclR5cGU6IEVycm9yVHlwZS5EZWZhdWx0XG59O1xudmFyIERFRkFVTFRfQ09ORklHID0ge1xuICBwcm9kdWN0czogW0IyQlByb2R1Y3RzLmVtYWlsTWFnaWNMaW5rc10sXG4gIGF1dGhGbG93VHlwZTogQXV0aEZsb3dUeXBlLk9yZ2FuaXphdGlvbixcbiAgc2Vzc2lvbk9wdGlvbnM6IHtcbiAgICBzZXNzaW9uRHVyYXRpb25NaW51dGVzOiA2MFxuICB9XG59O1xudmFyIEdsb2JhbENvbnRleHQgPSAvKiNfX1BVUkVfXyovd24uY3JlYXRlQ29udGV4dCh7XG4gIGNsaWVudDoge30sXG4gIGNvbmZpZzogREVGQVVMVF9DT05GSUcsXG4gIHN0YXRlOiBbREVGQVVMVF9TVEFURSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XVxufSk7XG52YXIgR2xvYmFsQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gR2xvYmFsQ29udGV4dFByb3ZpZGVyKF9yZWY0KSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWY0LmNoaWxkcmVuLFxuICAgIGNsaWVudCA9IF9yZWY0LmNsaWVudCxcbiAgICBjb25maWcgPSBfcmVmNC5jb25maWcsXG4gICAgY2FsbGJhY2tzID0gX3JlZjQuY2FsbGJhY2tzLFxuICAgIGluaXRpYWxTdGF0ZSA9IF9yZWY0LmluaXRpYWxTdGF0ZTtcbiAgdmFyIHN0YXRlID0gd24udXNlUmVkdWNlcihyZWR1Y2VyJDEsIGluaXRpYWxTdGF0ZSAhPT0gbnVsbCAmJiBpbml0aWFsU3RhdGUgIT09IHZvaWQgMCA/IGluaXRpYWxTdGF0ZSA6IERFRkFVTFRfU1RBVEUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2xvYmFsQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBjbGllbnQ6IGNsaWVudCxcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgY2FsbGJhY2tzOiBjYWxsYmFja3NcbiAgICB9XG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgdXNlR2xvYmFsQ29udGV4dCA9IGZ1bmN0aW9uIHVzZUdsb2JhbENvbnRleHQoKSB7XG4gIHJldHVybiBxKEdsb2JhbENvbnRleHQpO1xufTtcbnZhciB1c2VTdHl0Y2ggPSBmdW5jdGlvbiB1c2VTdHl0Y2goKSB7XG4gIHJldHVybiB1c2VHbG9iYWxDb250ZXh0KCkuY2xpZW50O1xufTtcbnZhciB1c2VHbG9iYWxSZWR1Y2VyID0gZnVuY3Rpb24gdXNlR2xvYmFsUmVkdWNlcigpIHtcbiAgcmV0dXJuIHVzZUdsb2JhbENvbnRleHQoKS5zdGF0ZTtcbn07XG52YXIgdXNlQ29uZmlnID0gZnVuY3Rpb24gdXNlQ29uZmlnKCkge1xuICByZXR1cm4gdXNlR2xvYmFsQ29udGV4dCgpLmNvbmZpZztcbn07XG52YXIgdXNlRXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIHVzZUVycm9yQ2FsbGJhY2soKSB7XG4gIHZhciBfYSwgX2I7XG4gIHJldHVybiAoX2IgPSAoX2EgPSB1c2VHbG9iYWxDb250ZXh0KCkuY2FsbGJhY2tzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25FcnJvcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH07XG59O1xudmFyIHVzZUV2ZW50Q2FsbGJhY2sgPSBmdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKCkge1xuICB2YXIgX2EsIF9iO1xuICByZXR1cm4gKF9iID0gKF9hID0gdXNlR2xvYmFsQ29udGV4dCgpLmNhbGxiYWNrcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uRXZlbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9O1xufTtcbnZhciBBcHBTY3JlZW5zO1xuKGZ1bmN0aW9uIChBcHBTY3JlZW5zKSB7XG4gIEFwcFNjcmVlbnNbXCJNYWluXCJdID0gXCJNYWluXCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNza2V5UmVnaXN0cmF0aW9uU3RhcnRcIl0gPSBcIlJlZ2lzdGVyIE5ldyBQYXNza2V5XCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNza2V5UmVnaXN0cmF0aW9uU3VjY2Vzc1wiXSA9IFwiUGFzc2tleSBSZWdpc3RyYXRpb24gU3VjY2Vzc1wiO1xuICBBcHBTY3JlZW5zW1wiUGFzc2tleUNvbmZpcm1hdGlvblwiXSA9IFwiUGFzc2tleSBDb25maXJtYXRpb25cIjtcbiAgQXBwU2NyZWVuc1tcIlBhc3N3b3JkQ3JlYXRlT3JMb2dpblwiXSA9IFwiUGFzc3dvcmRcIjtcbiAgQXBwU2NyZWVuc1tcIlBhc3N3b3JkUmVzZXRGb3JtXCJdID0gXCJQYXNzd29yZCBSZXNldCBGb3JtXCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNzd29yZEZvcmdvdFwiXSA9IFwiUGFzc3dvcmQgRm9yZ290XCI7XG4gIEFwcFNjcmVlbnNbXCJQYXNzd29yZEJyZWFjaGVkXCJdID0gXCJQYXNzd29yZCBCcmVhY2hlZFwiO1xuICBBcHBTY3JlZW5zW1wiUGFzc3dvcmRTZXROZXdcIl0gPSBcIlBhc3N3b3JkIFNldCBOZXdcIjtcbiAgQXBwU2NyZWVuc1tcIlBhc3N3b3JkRGVkdXBlXCJdID0gXCJQYXNzd29yZCBEZWR1cGVcIjtcbiAgQXBwU2NyZWVuc1tcIlBhc3N3b3JkQ29uZmlybWF0aW9uXCJdID0gXCJQYXNzd29yZCBDb25maXJtYXRpb25cIjtcbiAgQXBwU2NyZWVuc1tcIkVtYWlsQ29uZmlybWF0aW9uXCJdID0gXCJFbWFpbCBDb25maXJtYXRpb25cIjtcbiAgQXBwU2NyZWVuc1tcIk9UUEF1dGhlbnRpY2F0ZVwiXSA9IFwiT1RQIEF1dGhlbnRpY2F0ZVwiO1xuICBBcHBTY3JlZW5zW1wiT1RQQ29uZmlybWF0aW9uXCJdID0gXCJPVFAgQ29uZmlybWF0aW9uXCI7XG4gIEFwcFNjcmVlbnNbXCJDcnlwdG9Db25uZWN0XCJdID0gXCJDcnlwdG8gQ29ubmVjdFwiO1xuICBBcHBTY3JlZW5zW1wiQ3J5cHRvU2lnbk1lc3NhZ2VcIl0gPSBcIkNyeXB0byBTaWduIE1lc3NhZ2VcIjtcbiAgQXBwU2NyZWVuc1tcIkNyeXB0b090aGVyU2NyZWVuXCJdID0gXCJDcnlwdG8gT3RoZXIgU2NyZWVuXCI7XG4gIEFwcFNjcmVlbnNbXCJDcnlwdG9TZXR1cFdhbGxldFwiXSA9IFwiQ3J5cHRvIFNldHVwIFdhbGxldFwiO1xuICBBcHBTY3JlZW5zW1wiQ3J5cHRvRXJyb3JcIl0gPSBcIkNyeXB0byBFcnJvclwiO1xuICBBcHBTY3JlZW5zW1wiQ3J5cHRvQ29uZmlybWF0aW9uXCJdID0gXCJDcnlwdG8gQ29uZmlybWF0aW9uXCI7XG59KShBcHBTY3JlZW5zIHx8IChBcHBTY3JlZW5zID0ge30pKTtcbih7XG4gIHNjcmVlbjogQXBwU2NyZWVucy5NYWluLFxuICBmb3JtU3RhdGU6IHtcbiAgICBtYWdpY0xpbmtTdGF0ZToge1xuICAgICAgZW1haWw6ICcnXG4gICAgfSxcbiAgICBvdHBTdGF0ZToge1xuICAgICAgdHlwZTogT1RQTWV0aG9kcy5FbWFpbCxcbiAgICAgIG1ldGhvZElkOiAnJyxcbiAgICAgIG90cERlc3RpbmF0aW9uOiAnJ1xuICAgIH0sXG4gICAgY3J5cHRvU3RhdGU6IHtcbiAgICAgIHdhbGxldEFkZHJlc3M6ICcnLFxuICAgICAgd2FsbGV0T3B0aW9uOiBXYWxsZXRzLk1ldGFtYXNrLFxuICAgICAgd2FsbGV0Q2hhbGxlbmdlOiAnJ1xuICAgIH0sXG4gICAgcGFzc3dvcmRTdGF0ZToge1xuICAgICAgZW1haWw6ICcnLFxuICAgICAgdHlwZTogJ25ldydcbiAgICB9LFxuICAgIHJlc2V0UGFzc3dvcmRTdGF0ZToge1xuICAgICAgdG9rZW46ICcnXG4gICAgfSxcbiAgICBlcnJvck1lc3NhZ2U6ICcnXG4gIH1cbn0pO1xuKHtcbiAgcHJvZHVjdHM6IFtQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3NdLFxuICBlbWFpbE1hZ2ljTGlua3NPcHRpb25zOiB7XG4gICAgbG9naW5SZWRpcmVjdFVSTDogJycsXG4gICAgbG9naW5FeHBpcmF0aW9uTWludXRlczogMzAsXG4gICAgc2lnbnVwUmVkaXJlY3RVUkw6ICcnLFxuICAgIHNpZ251cEV4cGlyYXRpb25NaW51dGVzOiAzMCxcbiAgICBjcmVhdGVVc2VyQXNQZW5kaW5nOiBmYWxzZVxuICB9XG59KTtcbnZhciBERUZBVUxUX1NUWUxFX0NPTkZJRyA9IHtcbiAgY29udGFpbmVyOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnI0ZGRkZGRicsXG4gICAgYm9yZGVyQ29sb3I6ICcjQURCQ0M1JyxcbiAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgIHdpZHRoOiAnNDAwcHgnXG4gIH0sXG4gIGNvbG9yczoge1xuICAgIHByaW1hcnk6ICcjMTkzMDNEJyxcbiAgICBzZWNvbmRhcnk6ICcjNUM3MjdEJyxcbiAgICBzdWNjZXNzOiAnIzBDNUE1NicsXG4gICAgZXJyb3I6ICcjOEIxMjE0J1xuICB9LFxuICBidXR0b25zOiB7XG4gICAgcHJpbWFyeToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzE5MzAzRCcsXG4gICAgICB0ZXh0Q29sb3I6ICcjRkZGRkZGJyxcbiAgICAgIGJvcmRlckNvbG9yOiAnIzE5MzAzRCcsXG4gICAgICBib3JkZXJSYWRpdXM6ICc0cHgnXG4gICAgfSxcbiAgICBzZWNvbmRhcnk6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgdGV4dENvbG9yOiAnIzE5MzAzRCcsXG4gICAgICBib3JkZXJDb2xvcjogJyMxOTMwM0QnLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4J1xuICAgIH1cbiAgfSxcbiAgZm9udEZhbWlseTogJ0FyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuICBoaWRlSGVhZGVyVGV4dDogZmFsc2UsXG4gIGxvZ286IHtcbiAgICBsb2dvSW1hZ2VVcmw6ICcnXG4gIH1cbn07XG52YXIgZGVmYXVsdERpc2FibGVkVGV4dENvbG9yID0gJyM4Mjk2QTEnO1xudmFyIGNyZWF0ZVRoZW1lID0gZnVuY3Rpb24gY3JlYXRlVGhlbWUoc3R5bGVzKSB7XG4gIHZhciBkaXNwbGF5V2F0ZXJtYXJrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICB2YXIgc3R5bGVDb25maWcgPSBtZXJnZSh7fSwgREVGQVVMVF9TVFlMRV9DT05GSUcsIHN0eWxlcyk7XG4gIHJldHVybiB7XG4gICAgdHlwb2dyYXBoeToge1xuICAgICAgZm9udEZhbWlseTogc3R5bGVDb25maWcuZm9udEZhbWlseSxcbiAgICAgIGhlYWRlcjoge1xuICAgICAgICBmb250RmFtaWx5OiBzdHlsZUNvbmZpZy5mb250RmFtaWx5LFxuICAgICAgICBmb250U2l6ZTogMjQsXG4gICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgbGluZUhlaWdodDogJzMwcHgnXG4gICAgICB9LFxuICAgICAgYm9keToge1xuICAgICAgICBmb250RmFtaWx5OiBzdHlsZUNvbmZpZy5mb250RmFtaWx5LFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgICBsaW5lSGVpZ2h0OiAnMjFweCdcbiAgICAgIH0sXG4gICAgICBoZWxwZXI6IHtcbiAgICAgICAgZm9udEZhbWlseTogc3R5bGVDb25maWcuZm9udEZhbWlseSxcbiAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICBmb250V2VpZ2h0OiAnNDAwJyxcbiAgICAgICAgbGluZUhlaWdodDogJzIwcHgnLFxuICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnXG4gICAgICB9XG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHByaW1hcnk6IHN0eWxlQ29uZmlnLmNvbG9ycy5wcmltYXJ5LFxuICAgICAgc2Vjb25kYXJ5OiBzdHlsZUNvbmZpZy5jb2xvcnMuc2Vjb25kYXJ5LFxuICAgICAgc3VjY2Vzczogc3R5bGVDb25maWcuY29sb3JzLnN1Y2Nlc3MsXG4gICAgICBlcnJvcjogc3R5bGVDb25maWcuY29sb3JzLmVycm9yLFxuICAgICAgZGlzYWJsZWQ6ICcjRjNGNUY2JyxcbiAgICAgIGRpc2FibGVkVGV4dDogZGVmYXVsdERpc2FibGVkVGV4dENvbG9yXG4gICAgfSxcbiAgICBjb250YWluZXI6IHtcbiAgICAgIHdpZHRoOiBzdHlsZUNvbmZpZy5jb250YWluZXIud2lkdGgsXG4gICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIFwiLmNvbmNhdChzdHlsZUNvbmZpZy5jb250YWluZXIuYm9yZGVyQ29sb3IpLFxuICAgICAgYm9yZGVyUmFkaXVzOiBzdHlsZUNvbmZpZy5jb250YWluZXIuYm9yZGVyUmFkaXVzLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBzdHlsZUNvbmZpZy5jb250YWluZXIuYmFja2dyb3VuZENvbG9yXG4gICAgfSxcbiAgICBidXR0b25zOiB7XG4gICAgICBwcmltYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogc3R5bGVDb25maWcuYnV0dG9ucy5wcmltYXJ5LmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgdGV4dENvbG9yOiBzdHlsZUNvbmZpZy5idXR0b25zLnByaW1hcnkudGV4dENvbG9yLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIFwiLmNvbmNhdChzdHlsZUNvbmZpZy5idXR0b25zLnByaW1hcnkuYm9yZGVyQ29sb3IpLFxuICAgICAgICBib3JkZXJSYWRpdXM6IHN0eWxlQ29uZmlnLmJ1dHRvbnMucHJpbWFyeS5ib3JkZXJSYWRpdXNcbiAgICAgIH0sXG4gICAgICBzZWNvbmRhcnk6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdHlsZUNvbmZpZy5idXR0b25zLnNlY29uZGFyeS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIHRleHRDb2xvcjogc3R5bGVDb25maWcuYnV0dG9ucy5zZWNvbmRhcnkudGV4dENvbG9yLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIFwiLmNvbmNhdChzdHlsZUNvbmZpZy5idXR0b25zLnNlY29uZGFyeS5ib3JkZXJDb2xvciksXG4gICAgICAgIGJvcmRlclJhZGl1czogc3R5bGVDb25maWcuYnV0dG9ucy5zZWNvbmRhcnkuYm9yZGVyUmFkaXVzXG4gICAgICB9XG4gICAgfSxcbiAgICBpbnB1dHM6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogKF9iID0gKF9hID0gc3R5bGVDb25maWcuaW5wdXRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmFja2dyb3VuZENvbG9yKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgdGV4dENvbG9yOiAoX2QgPSAoX2MgPSBzdHlsZUNvbmZpZy5pbnB1dHMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50ZXh0Q29sb3IpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHN0eWxlQ29uZmlnLmNvbG9ycy5wcmltYXJ5LFxuICAgICAgYm9yZGVyQ29sb3I6IChfZiA9IChfZSA9IHN0eWxlQ29uZmlnLmlucHV0cykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmJvcmRlckNvbG9yKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBzdHlsZUNvbmZpZy5jb2xvcnMucHJpbWFyeSxcbiAgICAgIGJvcmRlclJhZGl1czogKF9oID0gKF9nID0gc3R5bGVDb25maWcuaW5wdXRzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYm9yZGVyUmFkaXVzKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAnNHB4JyxcbiAgICAgIHBsYWNlaG9sZGVyQ29sb3I6IChfayA9IChfaiA9IHN0eWxlQ29uZmlnLmlucHV0cykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLnBsYWNlaG9sZGVyQ29sb3IpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IGRlZmF1bHREaXNhYmxlZFRleHRDb2xvclxuICAgIH0sXG4gICAgZGlzcGxheUhlYWRlcjogIXN0eWxlQ29uZmlnLmhpZGVIZWFkZXJUZXh0LFxuICAgIGRpc3BsYXlXYXRlcm1hcms6IGRpc3BsYXlXYXRlcm1hcmssXG4gICAgbG9nbzoge1xuICAgICAgbG9nb0ltYWdlVXJsOiBzdHlsZUNvbmZpZy5sb2dvLmxvZ29JbWFnZVVybFxuICAgIH1cbiAgfTtcbn07XG52YXIgdXNlVGhlbWUgPSBmdW5jdGlvbiB1c2VUaGVtZShfcmVmNSkge1xuICB2YXIgc3R5bGVzID0gX3JlZjUuc3R5bGVzLFxuICAgIGRpc3BsYXlXYXRlcm1hcmsgPSBfcmVmNS5kaXNwbGF5V2F0ZXJtYXJrO1xuICByZXR1cm4gRihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRoZW1lKHN0eWxlcywgZGlzcGxheVdhdGVybWFyayk7XG4gIH0sIFtzdHlsZXMsIGRpc3BsYXlXYXRlcm1hcmtdKTtcbn07XG52YXIgZSA9IHtcbiAgICBkYXRhOiBcIlwiXG4gIH0sXG4gIHQgPSBmdW5jdGlvbiB0KF90Mikge1xuICAgIHJldHVybiBcIm9iamVjdFwiID09ICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yod2luZG93KSkgPyAoKF90MiA/IF90Mi5xdWVyeVNlbGVjdG9yKFwiI19nb29iZXJcIikgOiB3aW5kb3cuX2dvb2JlcikgfHwgT2JqZWN0LmFzc2lnbigoX3QyIHx8IGRvY3VtZW50LmhlYWQpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSksIHtcbiAgICAgIGlubmVySFRNTDogXCIgXCIsXG4gICAgICBpZDogXCJfZ29vYmVyXCJcbiAgICB9KSkuZmlyc3RDaGlsZCA6IF90MiB8fCBlO1xuICB9LFxuICBsID0gLyg/OihbXFx1MDA4MC1cXHVGRkZGXFx3LSVAXSspICo6PyAqKFteeztdKz8pO3woW147fXtdKj8pICp7KXwofVxccyopL2csXG4gIGEgPSAvXFwvXFwqW15dKj9cXCpcXC98ICArL2csXG4gIG4gPSAvXFxuKy9nLFxuICBvID0gZnVuY3Rpb24gbyhlLCB0KSB7XG4gICAgdmFyIHIgPSBcIlwiLFxuICAgICAgbCA9IFwiXCIsXG4gICAgICBhID0gXCJcIjtcbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfbikge1xuICAgICAgdmFyIGMgPSBlW19uXTtcbiAgICAgIFwiQFwiID09IF9uWzBdID8gXCJpXCIgPT0gX25bMV0gPyByID0gX24gKyBcIiBcIiArIGMgKyBcIjtcIiA6IGwgKz0gXCJmXCIgPT0gX25bMV0gPyBvKGMsIF9uKSA6IF9uICsgXCJ7XCIgKyBvKGMsIFwia1wiID09IF9uWzFdID8gXCJcIiA6IHQpICsgXCJ9XCIgOiBcIm9iamVjdFwiID09IF90eXBlb2YoYykgPyBsICs9IG8oYywgdCA/IHQucmVwbGFjZSgvKFteLF0pKy9nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gX24ucmVwbGFjZSgvKF46LiopfChbXixdKSsvZywgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gLyYvLnRlc3QodCkgPyB0LnJlcGxhY2UoLyYvZywgZSkgOiBlID8gZSArIFwiIFwiICsgdCA6IHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSkgOiBfbikgOiBudWxsICE9IGMgJiYgKF9uID0gL14tLS8udGVzdChfbikgPyBfbiA6IF9uLnJlcGxhY2UoL1tBLVpdL2csIFwiLSQmXCIpLnRvTG93ZXJDYXNlKCksIGEgKz0gby5wID8gby5wKF9uLCBjKSA6IF9uICsgXCI6XCIgKyBjICsgXCI7XCIpO1xuICAgIH07XG4gICAgZm9yICh2YXIgX24gaW4gZSkge1xuICAgICAgX2xvb3AoX24pO1xuICAgIH1cbiAgICByZXR1cm4gciArICh0ICYmIGEgPyB0ICsgXCJ7XCIgKyBhICsgXCJ9XCIgOiBhKSArIGw7XG4gIH0sXG4gIGMgPSB7fSxcbiAgcyA9IGZ1bmN0aW9uIHMoZSkge1xuICAgIGlmIChcIm9iamVjdFwiID09IF90eXBlb2YoZSkpIHtcbiAgICAgIHZhciBfdDMgPSBcIlwiO1xuICAgICAgZm9yICh2YXIgciBpbiBlKSBfdDMgKz0gciArIHMoZVtyXSk7XG4gICAgICByZXR1cm4gX3QzO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfSxcbiAgaSA9IGZ1bmN0aW9uIGkoZSwgdCwgciwgX2ksIHApIHtcbiAgICB2YXIgdSA9IHMoZSksXG4gICAgICBkID0gY1t1XSB8fCAoY1t1XSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0ID0gMCxcbiAgICAgICAgICByID0gMTE7XG4gICAgICAgIGZvciAoOyB0IDwgZS5sZW5ndGg7KSByID0gMTAxICogciArIGUuY2hhckNvZGVBdCh0KyspID4+PiAwO1xuICAgICAgICByZXR1cm4gXCJnb1wiICsgcjtcbiAgICAgIH0odSkpO1xuICAgIGlmICghY1tkXSkge1xuICAgICAgdmFyIF90NCA9IHUgIT09IGUgPyBlIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHQsXG4gICAgICAgICAgcixcbiAgICAgICAgICBvID0gW3t9XTtcbiAgICAgICAgZm9yICg7IHQgPSBsLmV4ZWMoZS5yZXBsYWNlKGEsIFwiXCIpKTspIHRbNF0gPyBvLnNoaWZ0KCkgOiB0WzNdID8gKHIgPSB0WzNdLnJlcGxhY2UobiwgXCIgXCIpLnRyaW0oKSwgby51bnNoaWZ0KG9bMF1bcl0gPSBvWzBdW3JdIHx8IHt9KSkgOiBvWzBdW3RbMV1dID0gdFsyXS5yZXBsYWNlKG4sIFwiIFwiKS50cmltKCk7XG4gICAgICAgIHJldHVybiBvWzBdO1xuICAgICAgfShlKTtcbiAgICAgIGNbZF0gPSBvKHAgPyBfZGVmaW5lUHJvcGVydHkoe30sIFwiQGtleWZyYW1lcyBcIiArIGQsIF90NCkgOiBfdDQsIHIgPyBcIlwiIDogXCIuXCIgKyBkKTtcbiAgICB9XG4gICAgdmFyIGYgPSByICYmIGMuZyA/IGMuZyA6IG51bGw7XG4gICAgcmV0dXJuIHIgJiYgKGMuZyA9IGNbZF0pLCBmdW5jdGlvbiAoZSwgdCwgciwgbCkge1xuICAgICAgbCA/IHQuZGF0YSA9IHQuZGF0YS5yZXBsYWNlKGwsIGUpIDogLTEgPT09IHQuZGF0YS5pbmRleE9mKGUpICYmICh0LmRhdGEgPSByID8gZSArIHQuZGF0YSA6IHQuZGF0YSArIGUpO1xuICAgIH0oY1tkXSwgdCwgX2ksIGYpLCBkO1xuICB9LFxuICBwID0gZnVuY3Rpb24gcChlLCB0LCByKSB7XG4gICAgcmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uIChlLCBsLCBhKSB7XG4gICAgICB2YXIgbiA9IHRbYV07XG4gICAgICBpZiAobiAmJiBuLmNhbGwpIHtcbiAgICAgICAgdmFyIF9lMiA9IG4ociksXG4gICAgICAgICAgX3Q1ID0gX2UyICYmIF9lMi5wcm9wcyAmJiBfZTIucHJvcHMuY2xhc3NOYW1lIHx8IC9eZ28vLnRlc3QoX2UyKSAmJiBfZTI7XG4gICAgICAgIG4gPSBfdDUgPyBcIi5cIiArIF90NSA6IF9lMiAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoX2UyKSA/IF9lMi5wcm9wcyA/IFwiXCIgOiBvKF9lMiwgXCJcIikgOiAhMSA9PT0gX2UyID8gXCJcIiA6IF9lMjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlICsgbCArIChudWxsID09IG4gPyBcIlwiIDogbik7XG4gICAgfSwgXCJcIik7XG4gIH07XG5mdW5jdGlvbiB1KGUpIHtcbiAgdmFyIHIgPSB0aGlzIHx8IHt9LFxuICAgIGwgPSBlLmNhbGwgPyBlKHIucCkgOiBlO1xuICByZXR1cm4gaShsLnVuc2hpZnQgPyBsLnJhdyA/IHAobCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCByLnApIDogbC5yZWR1Y2UoZnVuY3Rpb24gKGUsIHQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihlLCB0ICYmIHQuY2FsbCA/IHQoci5wKSA6IHQpO1xuICB9LCB7fSkgOiBsLCB0KHIudGFyZ2V0KSwgci5nLCByLm8sIHIuayk7XG59XG52YXIgZCwgZiwgZztcbnUuYmluZCh7XG4gIGc6IDFcbn0pO1xudmFyIGggPSB1LmJpbmQoe1xuICBrOiAxXG59KTtcbmZ1bmN0aW9uIG0oZSwgdCwgciwgbCkge1xuICBvLnAgPSB0LCBkID0gZSwgZiA9IHIsIGcgPSBsO1xufVxuZnVuY3Rpb24gaihlLCB0KSB7XG4gIHZhciByID0gdGhpcyB8fCB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbCA9IGFyZ3VtZW50cztcbiAgICBmdW5jdGlvbiBhKG4sIG8pIHtcbiAgICAgIHZhciBjID0gT2JqZWN0LmFzc2lnbih7fSwgbiksXG4gICAgICAgIHMgPSBjLmNsYXNzTmFtZSB8fCBhLmNsYXNzTmFtZTtcbiAgICAgIHIucCA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB0aGVtZTogZiAmJiBmKClcbiAgICAgIH0sIGMpLCByLm8gPSAvICpnb1xcZCsvLnRlc3QocyksIGMuY2xhc3NOYW1lID0gdS5hcHBseShyLCBsKSArIChzID8gXCIgXCIgKyBzIDogXCJcIiksIHQgJiYgKGMucmVmID0gbyk7XG4gICAgICB2YXIgaSA9IGU7XG4gICAgICByZXR1cm4gZVswXSAmJiAoaSA9IGMuYXMgfHwgZSwgZGVsZXRlIGMuYXMpLCBnICYmIGlbMF0gJiYgZyhjKSwgZChpLCBjKTtcbiAgICB9XG4gICAgcmV0dXJuIHQgPyB0KGEpIDogYTtcbiAgfTtcbn1cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5mdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncywgcmF3KSB7XG4gIGlmICghcmF3KSB7XG4gICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgfVxuICBzdHJpbmdzLnJhdyA9IHJhdztcbiAgcmV0dXJuIHN0cmluZ3M7XG59XG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsT3JGdW5jdGlvbikge1xuICByZXR1cm4gdHlwZW9mIHZhbE9yRnVuY3Rpb24gPT09ICdmdW5jdGlvbic7XG59O1xudmFyIHJlc29sdmVWYWx1ZSA9IGZ1bmN0aW9uIHJlc29sdmVWYWx1ZSh2YWxPckZ1bmN0aW9uLCBhcmcpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsT3JGdW5jdGlvbikgPyB2YWxPckZ1bmN0aW9uKGFyZykgOiB2YWxPckZ1bmN0aW9uO1xufTtcbnZhciBnZW5JZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBjb3VudCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICgrK2NvdW50KS50b1N0cmluZygpO1xuICB9O1xufSgpO1xudmFyIGNyZWF0ZVJlY3RSZWYgPSBmdW5jdGlvbiBjcmVhdGVSZWN0UmVmKG9uUmVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKGVsKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvdW5kaW5nUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBvblJlY3QoYm91bmRpbmdSZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG52YXIgcHJlZmVyc1JlZHVjZWRNb3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgc2hvdWxkUmVkdWNlTW90aW9uID0gdW5kZWZpbmVkO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzaG91bGRSZWR1Y2VNb3Rpb24gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIG1lZGlhUXVlcnkgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpO1xuICAgICAgc2hvdWxkUmVkdWNlTW90aW9uID0gIW1lZGlhUXVlcnkgfHwgbWVkaWFRdWVyeS5tYXRjaGVzO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkUmVkdWNlTW90aW9uO1xuICB9O1xufSgpO1xudmFyIFRPQVNUX0xJTUlUID0gMjA7XG52YXIgQWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoQWN0aW9uVHlwZSkge1xuICBBY3Rpb25UeXBlW0FjdGlvblR5cGVbXCJBRERfVE9BU1RcIl0gPSAwXSA9IFwiQUREX1RPQVNUXCI7XG4gIEFjdGlvblR5cGVbQWN0aW9uVHlwZVtcIlVQREFURV9UT0FTVFwiXSA9IDFdID0gXCJVUERBVEVfVE9BU1RcIjtcbiAgQWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiVVBTRVJUX1RPQVNUXCJdID0gMl0gPSBcIlVQU0VSVF9UT0FTVFwiO1xuICBBY3Rpb25UeXBlW0FjdGlvblR5cGVbXCJESVNNSVNTX1RPQVNUXCJdID0gM10gPSBcIkRJU01JU1NfVE9BU1RcIjtcbiAgQWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiUkVNT1ZFX1RPQVNUXCJdID0gNF0gPSBcIlJFTU9WRV9UT0FTVFwiO1xuICBBY3Rpb25UeXBlW0FjdGlvblR5cGVbXCJTVEFSVF9QQVVTRVwiXSA9IDVdID0gXCJTVEFSVF9QQVVTRVwiO1xuICBBY3Rpb25UeXBlW0FjdGlvblR5cGVbXCJFTkRfUEFVU0VcIl0gPSA2XSA9IFwiRU5EX1BBVVNFXCI7XG59KShBY3Rpb25UeXBlIHx8IChBY3Rpb25UeXBlID0ge30pKTtcbnZhciB0b2FzdFRpbWVvdXRzID0gLyojX19QVVJFX18qL25ldyBNYXAoKTtcbnZhciBhZGRUb1JlbW92ZVF1ZXVlID0gZnVuY3Rpb24gYWRkVG9SZW1vdmVRdWV1ZSh0b2FzdElkKSB7XG4gIGlmICh0b2FzdFRpbWVvdXRzLmhhcyh0b2FzdElkKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHRvYXN0VGltZW91dHNbXCJkZWxldGVcIl0odG9hc3RJZCk7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1QsXG4gICAgICB0b2FzdElkOiB0b2FzdElkXG4gICAgfSk7XG4gIH0sIDEwMDApO1xuICB0b2FzdFRpbWVvdXRzLnNldCh0b2FzdElkLCB0aW1lb3V0KTtcbn07XG52YXIgY2xlYXJGcm9tUmVtb3ZlUXVldWUgPSBmdW5jdGlvbiBjbGVhckZyb21SZW1vdmVRdWV1ZSh0b2FzdElkKSB7XG4gIHZhciB0aW1lb3V0ID0gdG9hc3RUaW1lb3V0cy5nZXQodG9hc3RJZCk7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB9XG59O1xudmFyIHJlZHVjZXIgPSBmdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQWN0aW9uVHlwZS5BRERfVE9BU1Q6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHRvYXN0czogW2FjdGlvbi50b2FzdF0uY29uY2F0KHN0YXRlLnRvYXN0cykuc2xpY2UoMCwgVE9BU1RfTElNSVQpXG4gICAgICB9KTtcbiAgICBjYXNlIEFjdGlvblR5cGUuVVBEQVRFX1RPQVNUOlxuICAgICAgaWYgKGFjdGlvbi50b2FzdC5pZCkge1xuICAgICAgICBjbGVhckZyb21SZW1vdmVRdWV1ZShhY3Rpb24udG9hc3QuaWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5pZCA9PT0gYWN0aW9uLnRvYXN0LmlkID8gX2V4dGVuZHMoe30sIHQsIGFjdGlvbi50b2FzdCkgOiB0O1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgY2FzZSBBY3Rpb25UeXBlLlVQU0VSVF9UT0FTVDpcbiAgICAgIHZhciB0b2FzdCA9IGFjdGlvbi50b2FzdDtcbiAgICAgIHJldHVybiBzdGF0ZS50b2FzdHMuZmluZChmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gdC5pZCA9PT0gdG9hc3QuaWQ7XG4gICAgICB9KSA/IHJlZHVjZXIoc3RhdGUsIHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfVE9BU1QsXG4gICAgICAgIHRvYXN0OiB0b2FzdFxuICAgICAgfSkgOiByZWR1Y2VyKHN0YXRlLCB7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGUuQUREX1RPQVNULFxuICAgICAgICB0b2FzdDogdG9hc3RcbiAgICAgIH0pO1xuICAgIGNhc2UgQWN0aW9uVHlwZS5ESVNNSVNTX1RPQVNUOlxuICAgICAgdmFyIHRvYXN0SWQgPSBhY3Rpb24udG9hc3RJZDtcbiAgICAgIGlmICh0b2FzdElkKSB7XG4gICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3RJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50b2FzdHMuZm9yRWFjaChmdW5jdGlvbiAodG9hc3QpIHtcbiAgICAgICAgICBhZGRUb1JlbW92ZVF1ZXVlKHRvYXN0LmlkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LmlkID09PSB0b2FzdElkIHx8IHRvYXN0SWQgPT09IHVuZGVmaW5lZCA/IF9leHRlbmRzKHt9LCB0LCB7XG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgIH0pIDogdDtcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIGNhc2UgQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1Q6XG4gICAgICBpZiAoYWN0aW9uLnRvYXN0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgdG9hc3RzOiBbXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgdG9hc3RzOiBzdGF0ZS50b2FzdHMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuaWQgIT09IGFjdGlvbi50b2FzdElkO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgY2FzZSBBY3Rpb25UeXBlLlNUQVJUX1BBVVNFOlxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICBwYXVzZWRBdDogYWN0aW9uLnRpbWVcbiAgICAgIH0pO1xuICAgIGNhc2UgQWN0aW9uVHlwZS5FTkRfUEFVU0U6XG4gICAgICB2YXIgZGlmZiA9IGFjdGlvbi50aW1lIC0gKHN0YXRlLnBhdXNlZEF0IHx8IDApO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICBwYXVzZWRBdDogdW5kZWZpbmVkLFxuICAgICAgICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHQsIHtcbiAgICAgICAgICAgIHBhdXNlRHVyYXRpb246IHQucGF1c2VEdXJhdGlvbiArIGRpZmZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICB9XG59O1xudmFyIGxpc3RlbmVycyA9IFtdO1xudmFyIG1lbW9yeVN0YXRlID0ge1xuICB0b2FzdHM6IFtdLFxuICBwYXVzZWRBdDogdW5kZWZpbmVkXG59O1xudmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gIG1lbW9yeVN0YXRlID0gcmVkdWNlcihtZW1vcnlTdGF0ZSwgYWN0aW9uKTtcbiAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgbGlzdGVuZXIobWVtb3J5U3RhdGUpO1xuICB9KTtcbn07XG52YXIgZGVmYXVsdFRpbWVvdXRzID0ge1xuICBibGFuazogNDAwMCxcbiAgZXJyb3I6IDQwMDAsXG4gIHN1Y2Nlc3M6IDIwMDAsXG4gIGxvYWRpbmc6IEluZmluaXR5LFxuICBjdXN0b206IDQwMDBcbn07XG52YXIgdXNlU3RvcmUgPSBmdW5jdGlvbiB1c2VTdG9yZSh0b2FzdE9wdGlvbnMpIHtcbiAgaWYgKHRvYXN0T3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgdG9hc3RPcHRpb25zID0ge307XG4gIH1cbiAgdmFyIF91c2VTdGF0ZSA9IGgkMShtZW1vcnlTdGF0ZSksXG4gICAgc3RhdGUgPSBfdXNlU3RhdGVbMF0sXG4gICAgc2V0U3RhdGUgPSBfdXNlU3RhdGVbMV07XG4gIHAkMShmdW5jdGlvbiAoKSB7XG4gICAgbGlzdGVuZXJzLnB1c2goc2V0U3RhdGUpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihzZXRTdGF0ZSk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc3RhdGVdKTtcbiAgdmFyIG1lcmdlZFRvYXN0cyA9IHN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgX3RvYXN0T3B0aW9ucyR0JHR5cGUsIF90b2FzdE9wdGlvbnMsIF90b2FzdE9wdGlvbnMkdCR0eXBlMjtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHRvYXN0T3B0aW9ucywgdG9hc3RPcHRpb25zW3QudHlwZV0sIHQsIHtcbiAgICAgIGR1cmF0aW9uOiB0LmR1cmF0aW9uIHx8ICgoX3RvYXN0T3B0aW9ucyR0JHR5cGUgPSB0b2FzdE9wdGlvbnNbdC50eXBlXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90b2FzdE9wdGlvbnMkdCR0eXBlLmR1cmF0aW9uKSB8fCAoKF90b2FzdE9wdGlvbnMgPSB0b2FzdE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RPcHRpb25zLmR1cmF0aW9uKSB8fCBkZWZhdWx0VGltZW91dHNbdC50eXBlXSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgdG9hc3RPcHRpb25zLnN0eWxlLCAoX3RvYXN0T3B0aW9ucyR0JHR5cGUyID0gdG9hc3RPcHRpb25zW3QudHlwZV0pID09IG51bGwgPyB2b2lkIDAgOiBfdG9hc3RPcHRpb25zJHQkdHlwZTIuc3R5bGUsIHQuc3R5bGUpXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgdG9hc3RzOiBtZXJnZWRUb2FzdHNcbiAgfSk7XG59O1xudmFyIGNyZWF0ZVRvYXN0ID0gZnVuY3Rpb24gY3JlYXRlVG9hc3QobWVzc2FnZSwgdHlwZSwgb3B0cykge1xuICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7XG4gICAgdHlwZSA9ICdibGFuayc7XG4gIH1cbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgdmlzaWJsZTogdHJ1ZSxcbiAgICB0eXBlOiB0eXBlLFxuICAgIGFyaWFQcm9wczoge1xuICAgICAgcm9sZTogJ3N0YXR1cycsXG4gICAgICAnYXJpYS1saXZlJzogJ3BvbGl0ZSdcbiAgICB9LFxuICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgcGF1c2VEdXJhdGlvbjogMFxuICB9LCBvcHRzLCB7XG4gICAgaWQ6IChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmlkKSB8fCBnZW5JZCgpXG4gIH0pO1xufTtcbnZhciBjcmVhdGVIYW5kbGVyID0gZnVuY3Rpb24gY3JlYXRlSGFuZGxlcih0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xuICAgIHZhciB0b2FzdCA9IGNyZWF0ZVRvYXN0KG1lc3NhZ2UsIHR5cGUsIG9wdGlvbnMpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuVVBTRVJUX1RPQVNULFxuICAgICAgdG9hc3Q6IHRvYXN0XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvYXN0LmlkO1xuICB9O1xufTtcbnZhciB0b2FzdCA9IGZ1bmN0aW9uIHRvYXN0KG1lc3NhZ2UsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZUhhbmRsZXIoJ2JsYW5rJykobWVzc2FnZSwgb3B0cyk7XG59O1xudG9hc3QuZXJyb3IgPSAvKiNfX1BVUkVfXyovY3JlYXRlSGFuZGxlcignZXJyb3InKTtcbnRvYXN0LnN1Y2Nlc3MgPSAvKiNfX1BVUkVfXyovY3JlYXRlSGFuZGxlcignc3VjY2VzcycpO1xudG9hc3QubG9hZGluZyA9IC8qI19fUFVSRV9fKi9jcmVhdGVIYW5kbGVyKCdsb2FkaW5nJyk7XG50b2FzdC5jdXN0b20gPSAvKiNfX1BVUkVfXyovY3JlYXRlSGFuZGxlcignY3VzdG9tJyk7XG50b2FzdC5kaXNtaXNzID0gZnVuY3Rpb24gKHRvYXN0SWQpIHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGUuRElTTUlTU19UT0FTVCxcbiAgICB0b2FzdElkOiB0b2FzdElkXG4gIH0pO1xufTtcbnRvYXN0LnJlbW92ZSA9IGZ1bmN0aW9uICh0b2FzdElkKSB7XG4gIHJldHVybiBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1QsXG4gICAgdG9hc3RJZDogdG9hc3RJZFxuICB9KTtcbn07XG50b2FzdC5wcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UsIG1zZ3MsIG9wdHMpIHtcbiAgdmFyIGlkID0gdG9hc3QubG9hZGluZyhtc2dzLmxvYWRpbmcsIF9leHRlbmRzKHt9LCBvcHRzLCBvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmxvYWRpbmcpKTtcbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChwKSB7XG4gICAgdG9hc3Quc3VjY2VzcyhyZXNvbHZlVmFsdWUobXNncy5zdWNjZXNzLCBwKSwgX2V4dGVuZHMoe1xuICAgICAgaWQ6IGlkXG4gICAgfSwgb3B0cywgb3B0cyA9PSBudWxsID8gdm9pZCAwIDogb3B0cy5zdWNjZXNzKSk7XG4gICAgcmV0dXJuIHA7XG4gIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICB0b2FzdC5lcnJvcihyZXNvbHZlVmFsdWUobXNncy5lcnJvciwgZSksIF9leHRlbmRzKHtcbiAgICAgIGlkOiBpZFxuICAgIH0sIG9wdHMsIG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuZXJyb3IpKTtcbiAgfSk7XG4gIHJldHVybiBwcm9taXNlO1xufTtcbnZhciB1c2VUb2FzdGVyID0gZnVuY3Rpb24gdXNlVG9hc3Rlcih0b2FzdE9wdGlvbnMpIHtcbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHRvYXN0T3B0aW9ucyksXG4gICAgdG9hc3RzID0gX3VzZVN0b3JlLnRvYXN0cyxcbiAgICBwYXVzZWRBdCA9IF91c2VTdG9yZS5wYXVzZWRBdDtcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGF1c2VkQXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgdmFyIHRpbWVvdXRzID0gdG9hc3RzLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgaWYgKHQuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkdXJhdGlvbkxlZnQgPSAodC5kdXJhdGlvbiB8fCAwKSArIHQucGF1c2VEdXJhdGlvbiAtIChub3cgLSB0LmNyZWF0ZWRBdCk7XG4gICAgICBpZiAoZHVyYXRpb25MZWZ0IDwgMCkge1xuICAgICAgICBpZiAodC52aXNpYmxlKSB7XG4gICAgICAgICAgdG9hc3QuZGlzbWlzcyh0LmlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0b2FzdC5kaXNtaXNzKHQuaWQpO1xuICAgICAgfSwgZHVyYXRpb25MZWZ0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdGltZW91dHMuZm9yRWFjaChmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICByZXR1cm4gdGltZW91dCAmJiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbdG9hc3RzLCBwYXVzZWRBdF0pO1xuICB2YXIgaGFuZGxlcnMgPSBGKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnRQYXVzZTogZnVuY3Rpb24gc3RhcnRQYXVzZSgpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuU1RBUlRfUEFVU0UsXG4gICAgICAgICAgdGltZTogRGF0ZS5ub3coKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBlbmRQYXVzZTogZnVuY3Rpb24gZW5kUGF1c2UoKSB7XG4gICAgICAgIGlmIChwYXVzZWRBdCkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGUuRU5EX1BBVVNFLFxuICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXBkYXRlSGVpZ2h0OiBmdW5jdGlvbiB1cGRhdGVIZWlnaHQodG9hc3RJZCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5VUERBVEVfVE9BU1QsXG4gICAgICAgICAgdG9hc3Q6IHtcbiAgICAgICAgICAgIGlkOiB0b2FzdElkLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNhbGN1bGF0ZU9mZnNldDogZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KHRvYXN0LCBvcHRzKSB7XG4gICAgICAgIHZhciBfcmVsZXZhbnRUb2FzdHMkZmlsdGU7XG4gICAgICAgIHZhciBfcmVmID0gb3B0cyB8fCB7fSxcbiAgICAgICAgICBfcmVmJHJldmVyc2VPcmRlciA9IF9yZWYucmV2ZXJzZU9yZGVyLFxuICAgICAgICAgIHJldmVyc2VPcmRlciA9IF9yZWYkcmV2ZXJzZU9yZGVyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkcmV2ZXJzZU9yZGVyLFxuICAgICAgICAgIF9yZWYkZ3V0dGVyID0gX3JlZi5ndXR0ZXIsXG4gICAgICAgICAgZ3V0dGVyID0gX3JlZiRndXR0ZXIgPT09IHZvaWQgMCA/IDggOiBfcmVmJGd1dHRlcixcbiAgICAgICAgICBkZWZhdWx0UG9zaXRpb24gPSBfcmVmLmRlZmF1bHRQb3NpdGlvbjtcbiAgICAgICAgdmFyIHJlbGV2YW50VG9hc3RzID0gdG9hc3RzLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiAodC5wb3NpdGlvbiB8fCBkZWZhdWx0UG9zaXRpb24pID09PSAodG9hc3QucG9zaXRpb24gfHwgZGVmYXVsdFBvc2l0aW9uKSAmJiB0LmhlaWdodDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0b2FzdEluZGV4ID0gcmVsZXZhbnRUb2FzdHMuZmluZEluZGV4KGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuaWQgPT09IHRvYXN0LmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRvYXN0c0JlZm9yZSA9IHJlbGV2YW50VG9hc3RzLmZpbHRlcihmdW5jdGlvbiAodG9hc3QsIGkpIHtcbiAgICAgICAgICByZXR1cm4gaSA8IHRvYXN0SW5kZXggJiYgdG9hc3QudmlzaWJsZTtcbiAgICAgICAgfSkubGVuZ3RoO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gKF9yZWxldmFudFRvYXN0cyRmaWx0ZSA9IHJlbGV2YW50VG9hc3RzLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LnZpc2libGU7XG4gICAgICAgIH0pKS5zbGljZS5hcHBseShfcmVsZXZhbnRUb2FzdHMkZmlsdGUsIHJldmVyc2VPcmRlciA/IFt0b2FzdHNCZWZvcmUgKyAxXSA6IFswLCB0b2FzdHNCZWZvcmVdKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdCkge1xuICAgICAgICAgIHJldHVybiBhY2MgKyAodC5oZWlnaHQgfHwgMCkgKyBndXR0ZXI7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgfVxuICAgIH07XG4gIH0sIFt0b2FzdHMsIHBhdXNlZEF0XSk7XG4gIHJldHVybiB7XG4gICAgdG9hc3RzOiB0b2FzdHMsXG4gICAgaGFuZGxlcnM6IGhhbmRsZXJzXG4gIH07XG59O1xuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NCgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICB3aWR0aDogMjBweDtcXG4gIG9wYWNpdHk6IDA7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgYmFja2dyb3VuZDogXCIsIFwiO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xcblxcbiAgYW5pbWF0aW9uOiBcIiwgXCIgMC4zcyBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSlcXG4gICAgZm9yd2FyZHM7XFxuICBhbmltYXRpb24tZGVsYXk6IDEwMG1zO1xcblxcbiAgJjphZnRlcixcXG4gICY6YmVmb3JlIHtcXG4gICAgY29udGVudDogJyc7XFxuICAgIGFuaW1hdGlvbjogXCIsIFwiIDAuMTVzIGVhc2Utb3V0IGZvcndhcmRzO1xcbiAgICBhbmltYXRpb24tZGVsYXk6IDE1MG1zO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gICAgb3BhY2l0eTogMDtcXG4gICAgYmFja2dyb3VuZDogXCIsIFwiO1xcbiAgICBib3R0b206IDlweDtcXG4gICAgbGVmdDogNHB4O1xcbiAgICBoZWlnaHQ6IDJweDtcXG4gICAgd2lkdGg6IDEycHg7XFxuICB9XFxuXFxuICAmOmJlZm9yZSB7XFxuICAgIGFuaW1hdGlvbjogXCIsIFwiIDAuMTVzIGVhc2Utb3V0IGZvcndhcmRzO1xcbiAgICBhbmltYXRpb24tZGVsYXk6IDE4MG1zO1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxuICB9XFxuXCJdKTtcbiAgX3RlbXBsYXRlT2JqZWN0NCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDQoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MygpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuZnJvbSB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSg5MGRlZyk7XFxuXFx0b3BhY2l0eTogMDtcXG59XFxudG8ge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoOTBkZWcpO1xcblxcdG9wYWNpdHk6IDE7XFxufVwiXSk7XG4gIF90ZW1wbGF0ZU9iamVjdDMgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIoKSB7XG4gIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbmZyb20ge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcXG4gIG9wYWNpdHk6IDA7XFxufVxcbnRvIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICBvcGFjaXR5OiAxO1xcbn1cIl0pO1xuICBfdGVtcGxhdGVPYmplY3QyID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbmZyb20ge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoNDVkZWcpO1xcblxcdG9wYWNpdHk6IDA7XFxufVxcbnRvIHtcXG4gdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoNDVkZWcpO1xcbiAgb3BhY2l0eTogMTtcXG59XCJdKTtcbiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbnZhciBjaXJjbGVBbmltYXRpb24gPSAvKiNfX1BVUkVfXyovaCggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdCgpKTtcbnZhciBmaXJzdExpbmVBbmltYXRpb24gPSAvKiNfX1BVUkVfXyovaCggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIoKSk7XG52YXIgc2Vjb25kTGluZUFuaW1hdGlvbiA9IC8qI19fUFVSRV9fKi9oKCAvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0MygpKTtcbnZhciBFcnJvckljb24kMSA9IC8qI19fUFVSRV9fKi9qKCdkaXYnKSggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDQoKSwgZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIHAucHJpbWFyeSB8fCAnI2ZmNGI0Yic7XG59LCBjaXJjbGVBbmltYXRpb24sIGZpcnN0TGluZUFuaW1hdGlvbiwgZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIHAuc2Vjb25kYXJ5IHx8ICcjZmZmJztcbn0sIHNlY29uZExpbmVBbmltYXRpb24pO1xuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MiQxKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAxMnB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkO1xcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcXG4gIGJvcmRlci1jb2xvcjogXCIsIFwiO1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiBcIiwgXCI7XFxuICBhbmltYXRpb246IFwiLCBcIiAxcyBsaW5lYXIgaW5maW5pdGU7XFxuXCJdKTtcbiAgX3RlbXBsYXRlT2JqZWN0MiQxID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QkMSgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICBmcm9tIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuICB0byB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxuXCJdKTtcbiAgX3RlbXBsYXRlT2JqZWN0JDEgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxudmFyIHJvdGF0ZSA9IC8qI19fUFVSRV9fKi9oKCAvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0JDEoKSk7XG52YXIgTG9hZGVySWNvbiA9IC8qI19fUFVSRV9fKi9qKCdkaXYnKSggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIkMSgpLCBmdW5jdGlvbiAocCkge1xuICByZXR1cm4gcC5zZWNvbmRhcnkgfHwgJyNlMGUwZTAnO1xufSwgZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIHAucHJpbWFyeSB8fCAnIzYxNjE2MSc7XG59LCByb3RhdGUpO1xuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MyQxKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIHdpZHRoOiAyMHB4O1xcbiAgb3BhY2l0eTogMDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxuICBiYWNrZ3JvdW5kOiBcIiwgXCI7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XFxuXFxuICBhbmltYXRpb246IFwiLCBcIiAwLjNzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KVxcbiAgICBmb3J3YXJkcztcXG4gIGFuaW1hdGlvbi1kZWxheTogMTAwbXM7XFxuICAmOmFmdGVyIHtcXG4gICAgY29udGVudDogJyc7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIGFuaW1hdGlvbjogXCIsIFwiIDAuMnMgZWFzZS1vdXQgZm9yd2FyZHM7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIGFuaW1hdGlvbi1kZWxheTogMjAwbXM7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQ7XFxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZDtcXG4gICAgYm9yZGVyLWNvbG9yOiBcIiwgXCI7XFxuICAgIGJvdHRvbTogNnB4O1xcbiAgICBsZWZ0OiA2cHg7XFxuICAgIGhlaWdodDogMTBweDtcXG4gICAgd2lkdGg6IDZweDtcXG4gIH1cXG5cIl0pO1xuICBfdGVtcGxhdGVPYmplY3QzJDEgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIkMigpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuMCUge1xcblxcdGhlaWdodDogMDtcXG5cXHR3aWR0aDogMDtcXG5cXHRvcGFjaXR5OiAwO1xcbn1cXG40MCUge1xcbiAgaGVpZ2h0OiAwO1xcblxcdHdpZHRoOiA2cHg7XFxuXFx0b3BhY2l0eTogMTtcXG59XFxuMTAwJSB7XFxuICBvcGFjaXR5OiAxO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbn1cIl0pO1xuICBfdGVtcGxhdGVPYmplY3QyJDIgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQyKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG5mcm9tIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMCkgcm90YXRlKDQ1ZGVnKTtcXG5cXHRvcGFjaXR5OiAwO1xcbn1cXG50byB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSg0NWRlZyk7XFxuXFx0b3BhY2l0eTogMTtcXG59XCJdKTtcbiAgX3RlbXBsYXRlT2JqZWN0JDIgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxudmFyIGNpcmNsZUFuaW1hdGlvbiQxID0gLyojX19QVVJFX18qL2goIC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3QkMigpKTtcbnZhciBjaGVja21hcmtBbmltYXRpb24gPSAvKiNfX1BVUkVfXyovaCggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIkMigpKTtcbnZhciBDaGVja21hcmtJY29uID0gLyojX19QVVJFX18qL2ooJ2RpdicpKCAvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0MyQxKCksIGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBwLnByaW1hcnkgfHwgJyM2MWQzNDUnO1xufSwgY2lyY2xlQW5pbWF0aW9uJDEsIGNoZWNrbWFya0FuaW1hdGlvbiwgZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIHAuc2Vjb25kYXJ5IHx8ICcjZmZmJztcbn0pO1xuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NCQxKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMC42KTtcXG4gIG9wYWNpdHk6IDAuNDtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIGFuaW1hdGlvbjogXCIsIFwiIDAuM3MgMC4xMnMgY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMiwgMS4yNzUpXFxuICAgIGZvcndhcmRzO1xcblwiXSk7XG4gIF90ZW1wbGF0ZU9iamVjdDQkMSA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDQoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MyQyKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG5mcm9tIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMC42KTtcXG4gIG9wYWNpdHk6IDAuNDtcXG59XFxudG8ge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcXG4gIG9wYWNpdHk6IDE7XFxufVwiXSk7XG4gIF90ZW1wbGF0ZU9iamVjdDMkMiA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDMoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MiQzKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBtaW4td2lkdGg6IDIwcHg7XFxuICBtaW4taGVpZ2h0OiAyMHB4O1xcblwiXSk7XG4gIF90ZW1wbGF0ZU9iamVjdDIkMyA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0JDMoKSB7XG4gIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcblwiXSk7XG4gIF90ZW1wbGF0ZU9iamVjdCQzID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbnZhciBTdGF0dXNXcmFwcGVyID0gLyojX19QVVJFX18qL2ooJ2RpdicpKCAvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0JDMoKSk7XG52YXIgSW5kaWNhdG9yV3JhcHBlciA9IC8qI19fUFVSRV9fKi9qKCdkaXYnKSggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIkMygpKTtcbnZhciBlbnRlciA9IC8qI19fUFVSRV9fKi9oKCAvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0MyQyKCkpO1xudmFyIEFuaW1hdGVkSWNvbldyYXBwZXIgPSAvKiNfX1BVUkVfXyovaignZGl2JykoIC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3Q0JDEoKSwgZW50ZXIpO1xudmFyIFRvYXN0SWNvbiA9IGZ1bmN0aW9uIFRvYXN0SWNvbihfcmVmKSB7XG4gIHZhciB0b2FzdCA9IF9yZWYudG9hc3Q7XG4gIHZhciBpY29uID0gdG9hc3QuaWNvbixcbiAgICB0eXBlID0gdG9hc3QudHlwZSxcbiAgICBpY29uVGhlbWUgPSB0b2FzdC5pY29uVGhlbWU7XG4gIGlmIChpY29uICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGljb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL3koQW5pbWF0ZWRJY29uV3JhcHBlciwgbnVsbCwgaWNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpY29uO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZSA9PT0gJ2JsYW5rJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyoveShJbmRpY2F0b3JXcmFwcGVyLCBudWxsLCAvKiNfX1BVUkVfXyoveShMb2FkZXJJY29uLCBPYmplY3QuYXNzaWduKHt9LCBpY29uVGhlbWUpKSwgdHlwZSAhPT0gJ2xvYWRpbmcnICYmIC8qI19fUFVSRV9fKi95KFN0YXR1c1dyYXBwZXIsIG51bGwsIHR5cGUgPT09ICdlcnJvcicgPyAvKiNfX1BVUkVfXyoveShFcnJvckljb24kMSwgT2JqZWN0LmFzc2lnbih7fSwgaWNvblRoZW1lKSkgOiAvKiNfX1BVUkVfXyoveShDaGVja21hcmtJY29uLCBPYmplY3QuYXNzaWduKHt9LCBpY29uVGhlbWUpKSkpO1xufTtcbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIkNCgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBtYXJnaW46IDRweCAxMHB4O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBmbGV4OiAxIDEgYXV0bztcXG4gIHdoaXRlLXNwYWNlOiBwcmUtbGluZTtcXG5cIl0pO1xuICBfdGVtcGxhdGVPYmplY3QyJDQgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQ0KCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGNvbG9yOiAjMzYzNjM2O1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxuICBib3gtc2hhZG93OiAwIDNweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMCAzcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XFxuICBtYXgtd2lkdGg6IDM1MHB4O1xcbiAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxuICBwYWRkaW5nOiA4cHggMTBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG5cIl0pO1xuICBfdGVtcGxhdGVPYmplY3QkNCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgcmV0dXJuIGRhdGE7XG59XG52YXIgZW50ZXJBbmltYXRpb24gPSBmdW5jdGlvbiBlbnRlckFuaW1hdGlvbihmYWN0b3IpIHtcbiAgcmV0dXJuIFwiXFxuMCUge3RyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCxcIiArIGZhY3RvciAqIC0yMDAgKyBcIiUsMCkgc2NhbGUoLjYpOyBvcGFjaXR5Oi41O31cXG4xMDAlIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKTsgb3BhY2l0eToxO31cXG5cIjtcbn07XG52YXIgZXhpdEFuaW1hdGlvbiA9IGZ1bmN0aW9uIGV4aXRBbmltYXRpb24oZmFjdG9yKSB7XG4gIHJldHVybiBcIlxcbjAlIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsMCwtMXB4KSBzY2FsZSgxKTsgb3BhY2l0eToxO31cXG4xMDAlIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsXCIgKyBmYWN0b3IgKiAtMTUwICsgXCIlLC0xcHgpIHNjYWxlKC42KTsgb3BhY2l0eTowO31cXG5cIjtcbn07XG52YXIgZmFkZUluQW5pbWF0aW9uID0gXCIwJXtvcGFjaXR5OjA7fSAxMDAle29wYWNpdHk6MTt9XCI7XG52YXIgZmFkZU91dEFuaW1hdGlvbiA9IFwiMCV7b3BhY2l0eToxO30gMTAwJXtvcGFjaXR5OjA7fVwiO1xudmFyIFRvYXN0QmFyQmFzZSA9IC8qI19fUFVSRV9fKi9qKCdkaXYnLCBOKSggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdCQ0KCkpO1xudmFyIE1lc3NhZ2UgPSAvKiNfX1BVUkVfXyovaignZGl2JykoIC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3QyJDQoKSk7XG52YXIgZ2V0QW5pbWF0aW9uU3R5bGUgPSBmdW5jdGlvbiBnZXRBbmltYXRpb25TdHlsZShwb3NpdGlvbiwgdmlzaWJsZSkge1xuICB2YXIgdG9wID0gcG9zaXRpb24uaW5jbHVkZXMoJ3RvcCcpO1xuICB2YXIgZmFjdG9yID0gdG9wID8gMSA6IC0xO1xuICB2YXIgX3JlZiA9IHByZWZlcnNSZWR1Y2VkTW90aW9uKCkgPyBbZmFkZUluQW5pbWF0aW9uLCBmYWRlT3V0QW5pbWF0aW9uXSA6IFtlbnRlckFuaW1hdGlvbihmYWN0b3IpLCBleGl0QW5pbWF0aW9uKGZhY3RvcildLFxuICAgIGVudGVyID0gX3JlZlswXSxcbiAgICBleGl0ID0gX3JlZlsxXTtcbiAgcmV0dXJuIHtcbiAgICBhbmltYXRpb246IHZpc2libGUgPyBoKGVudGVyKSArIFwiIDAuMzVzIGN1YmljLWJlemllciguMjEsMS4wMiwuNzMsMSkgZm9yd2FyZHNcIiA6IGgoZXhpdCkgKyBcIiAwLjRzIGZvcndhcmRzIGN1YmljLWJlemllciguMDYsLjcxLC41NSwxKVwiXG4gIH07XG59O1xudmFyIFRvYXN0QmFyID0gLyojX19QVVJFX18qL3coZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciB0b2FzdCA9IF9yZWYyLnRvYXN0LFxuICAgIHBvc2l0aW9uID0gX3JlZjIucG9zaXRpb24sXG4gICAgc3R5bGUgPSBfcmVmMi5zdHlsZSxcbiAgICBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuO1xuICB2YXIgYW5pbWF0aW9uU3R5bGUgPSB0b2FzdCAhPSBudWxsICYmIHRvYXN0LmhlaWdodCA/IGdldEFuaW1hdGlvblN0eWxlKHRvYXN0LnBvc2l0aW9uIHx8IHBvc2l0aW9uIHx8ICd0b3AtY2VudGVyJywgdG9hc3QudmlzaWJsZSkgOiB7XG4gICAgb3BhY2l0eTogMFxuICB9O1xuICB2YXIgaWNvbiA9IC8qI19fUFVSRV9fKi95KFRvYXN0SWNvbiwge1xuICAgIHRvYXN0OiB0b2FzdFxuICB9KTtcbiAgdmFyIG1lc3NhZ2UgPSAvKiNfX1BVUkVfXyoveShNZXNzYWdlLCBPYmplY3QuYXNzaWduKHt9LCB0b2FzdC5hcmlhUHJvcHMpLCByZXNvbHZlVmFsdWUodG9hc3QubWVzc2FnZSwgdG9hc3QpKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KFRvYXN0QmFyQmFzZSwge1xuICAgIGNsYXNzTmFtZTogdG9hc3QuY2xhc3NOYW1lLFxuICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgYW5pbWF0aW9uU3R5bGUsIHN0eWxlLCB0b2FzdC5zdHlsZSlcbiAgfSwgdHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nID8gY2hpbGRyZW4oe1xuICAgIGljb246IGljb24sXG4gICAgbWVzc2FnZTogbWVzc2FnZVxuICB9KSA6IC8qI19fUFVSRV9fKi95KGckMSwgbnVsbCwgaWNvbiwgbWVzc2FnZSkpO1xufSk7XG5mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QkNSgpIHtcbiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICB6LWluZGV4OiA5OTk5O1xcbiAgPiAqIHtcXG4gICAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxuICB9XFxuXCJdKTtcbiAgX3RlbXBsYXRlT2JqZWN0JDUgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxubSh5KTtcbnZhciBnZXRQb3NpdGlvblN0eWxlID0gZnVuY3Rpb24gZ2V0UG9zaXRpb25TdHlsZShwb3NpdGlvbiwgb2Zmc2V0KSB7XG4gIHZhciB0b3AgPSBwb3NpdGlvbi5pbmNsdWRlcygndG9wJyk7XG4gIHZhciB2ZXJ0aWNhbFN0eWxlID0gdG9wID8ge1xuICAgIHRvcDogMFxuICB9IDoge1xuICAgIGJvdHRvbTogMFxuICB9O1xuICB2YXIgaG9yaXpvbnRhbFN0eWxlID0gcG9zaXRpb24uaW5jbHVkZXMoJ2NlbnRlcicpID8ge1xuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICB9IDogcG9zaXRpb24uaW5jbHVkZXMoJ3JpZ2h0JykgPyB7XG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCdcbiAgfSA6IHt9O1xuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRyYW5zaXRpb246IHByZWZlcnNSZWR1Y2VkTW90aW9uKCkgPyB1bmRlZmluZWQgOiBcImFsbCAyMzBtcyBjdWJpYy1iZXppZXIoLjIxLDEuMDIsLjczLDEpXCIsXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoXCIgKyBvZmZzZXQgKiAodG9wID8gMSA6IC0xKSArIFwicHgpXCJcbiAgfSwgdmVydGljYWxTdHlsZSwgaG9yaXpvbnRhbFN0eWxlKTtcbn07XG52YXIgYWN0aXZlQ2xhc3MgPSAvKiNfX1BVUkVfXyovdSggLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdCQ1KCkpO1xudmFyIERFRkFVTFRfT0ZGU0VUID0gMTY7XG52YXIgVG9hc3RlciA9IGZ1bmN0aW9uIFRvYXN0ZXIoX3JlZikge1xuICB2YXIgcmV2ZXJzZU9yZGVyID0gX3JlZi5yZXZlcnNlT3JkZXIsXG4gICAgX3JlZiRwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXG4gICAgcG9zaXRpb24gPSBfcmVmJHBvc2l0aW9uID09PSB2b2lkIDAgPyAndG9wLWNlbnRlcicgOiBfcmVmJHBvc2l0aW9uLFxuICAgIHRvYXN0T3B0aW9ucyA9IF9yZWYudG9hc3RPcHRpb25zLFxuICAgIGd1dHRlciA9IF9yZWYuZ3V0dGVyLFxuICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICBjb250YWluZXJTdHlsZSA9IF9yZWYuY29udGFpbmVyU3R5bGUsXG4gICAgY29udGFpbmVyQ2xhc3NOYW1lID0gX3JlZi5jb250YWluZXJDbGFzc05hbWU7XG4gIHZhciBfdXNlVG9hc3RlciA9IHVzZVRvYXN0ZXIodG9hc3RPcHRpb25zKSxcbiAgICB0b2FzdHMgPSBfdXNlVG9hc3Rlci50b2FzdHMsXG4gICAgaGFuZGxlcnMgPSBfdXNlVG9hc3Rlci5oYW5kbGVycztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB6SW5kZXg6IDk5OTksXG4gICAgICB0b3A6IERFRkFVTFRfT0ZGU0VULFxuICAgICAgbGVmdDogREVGQVVMVF9PRkZTRVQsXG4gICAgICByaWdodDogREVGQVVMVF9PRkZTRVQsXG4gICAgICBib3R0b206IERFRkFVTFRfT0ZGU0VULFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgfSwgY29udGFpbmVyU3R5bGUpLFxuICAgIGNsYXNzTmFtZTogY29udGFpbmVyQ2xhc3NOYW1lLFxuICAgIG9uTW91c2VFbnRlcjogaGFuZGxlcnMuc3RhcnRQYXVzZSxcbiAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZXJzLmVuZFBhdXNlXG4gIH0sIHRvYXN0cy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdG9hc3RQb3NpdGlvbiA9IHQucG9zaXRpb24gfHwgcG9zaXRpb247XG4gICAgdmFyIG9mZnNldCA9IGhhbmRsZXJzLmNhbGN1bGF0ZU9mZnNldCh0LCB7XG4gICAgICByZXZlcnNlT3JkZXI6IHJldmVyc2VPcmRlcixcbiAgICAgIGd1dHRlcjogZ3V0dGVyLFxuICAgICAgZGVmYXVsdFBvc2l0aW9uOiBwb3NpdGlvblxuICAgIH0pO1xuICAgIHZhciBwb3NpdGlvblN0eWxlID0gZ2V0UG9zaXRpb25TdHlsZSh0b2FzdFBvc2l0aW9uLCBvZmZzZXQpO1xuICAgIHZhciByZWYgPSB0LmhlaWdodCA/IHVuZGVmaW5lZCA6IGNyZWF0ZVJlY3RSZWYoZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgIGhhbmRsZXJzLnVwZGF0ZUhlaWdodCh0LmlkLCByZWN0LmhlaWdodCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi95KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiB0LnZpc2libGUgPyBhY3RpdmVDbGFzcyA6ICcnLFxuICAgICAga2V5OiB0LmlkLFxuICAgICAgc3R5bGU6IHBvc2l0aW9uU3R5bGVcbiAgICB9LCB0LnR5cGUgPT09ICdjdXN0b20nID8gcmVzb2x2ZVZhbHVlKHQubWVzc2FnZSwgdCkgOiBjaGlsZHJlbiA/IGNoaWxkcmVuKHQpIDogLyojX19QVVJFX18qL3koVG9hc3RCYXIsIHtcbiAgICAgIHRvYXN0OiB0LFxuICAgICAgcG9zaXRpb246IHRvYXN0UG9zaXRpb25cbiAgICB9KSk7XG4gIH0pKTtcbn07XG52YXIgdG9hc3QkMSA9IHRvYXN0O1xudmFyIFN1Y2Nlc3NJY29uID0gZnVuY3Rpb24gU3VjY2Vzc0ljb24oKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyoveShcInN2Z1wiLCB7XG4gICAgd2lkdGg6IFwiMjBcIixcbiAgICBoZWlnaHQ6IFwiMjBcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwgLyojX19QVVJFX18qL3koXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMCAwQzQuNDggMCAwIDQuNDggMCAxMEMwIDE1LjUyIDQuNDggMjAgMTAgMjBDMTUuNTIgMjAgMjAgMTUuNTIgMjAgMTBDMjAgNC40OCAxNS41MiAwIDEwIDBaTTggMTVMMyAxMEw0LjQxIDguNTlMOCAxMi4xN0wxNS41OSA0LjU4TDE3IDZMOCAxNVpcIixcbiAgICBmaWxsOiBcIiMwRjQ0NDdcIlxuICB9KSk7XG59O1xudmFyIEVycm9ySWNvbiA9IGZ1bmN0aW9uIEVycm9ySWNvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogXCIyMFwiLFxuICAgIGhlaWdodDogXCIyMFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDIwIDIwXCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEwIDBDNC40OCAwIDAgNC40OCAwIDEwQzAgMTUuNTIgNC40OCAyMCAxMCAyMEMxNS41MiAyMCAyMCAxNS41MiAyMCAxMEMyMCA0LjQ4IDE1LjUyIDAgMTAgMFpNMTEgMTVIOVYxM0gxMVYxNVpNMTEgMTFIOVY1SDExVjExWlwiLFxuICAgIGZpbGw6IFwiIzU5MDYwN1wiXG4gIH0pKTtcbn07XG52YXIgYmFzZVN0eWxlcyA9IHtcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBnYXA6ICc4cHgnLFxuICBwYWRkaW5nOiAnOHB4JyxcbiAgZm9udFNpemU6ICcxNHB4JyxcbiAgYm9yZGVyUmFkaXVzOiAnNHB4J1xufTtcbnZhciBzdWNjZXNzU3R5bGVzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBiYXNlU3R5bGVzKSwge1xuICBiYWNrZ3JvdW5kOiAnI0VDRkZGNScsXG4gIGJveFNoYWRvdzogJzBweCA1cHggMTBweCByZ2JhKDE1LCA2OCwgNzEsIDAuMTgpJyxcbiAgY29sb3I6ICcjMEY0NDQ3J1xufSk7XG52YXIgZXJyb3JTdHlsZXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGJhc2VTdHlsZXMpLCB7XG4gIGJhY2tncm91bmQ6ICcjRkZFRUVDJyxcbiAgYm94U2hhZG93OiAnMHB4IDVweCAxMHB4IHJnYmEoODksIDYsIDcsIDAuMiknLFxuICBjb2xvcjogJyM1OTA2MDcnXG59KTtcbnZhciBTbmFja2JhciA9IGZ1bmN0aW9uIFNuYWNrYmFyKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVG9hc3Rlciwge1xuICAgIGNvbnRhaW5lclN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3N0aWNreScsXG4gICAgICBtYXJnaW5Ub3A6ICc0cHgnLFxuICAgICAgbWFyZ2luQm90dG9tOiAnMjRweCdcbiAgICB9LFxuICAgIHRvYXN0T3B0aW9uczoge1xuICAgICAgc3VjY2Vzczoge1xuICAgICAgICBzdHlsZTogc3VjY2Vzc1N0eWxlcyxcbiAgICAgICAgaWNvbjogLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU3VjY2Vzc0ljb24sIG51bGwpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgc3R5bGU6IGVycm9yU3R5bGVzLFxuICAgICAgICBpY29uOiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvckljb24sIG51bGwpXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG52YXIgaXRlbU9yTm9uZSA9IGZ1bmN0aW9uIGl0ZW1Pck5vbmUoaXRlbSkge1xuICByZXR1cm4gaXRlbSAhPT0gbnVsbCAmJiBpdGVtICE9PSB2b2lkIDAgPyBpdGVtIDogdW5kZWZpbmVkO1xufTtcbnZhciBzcGFjZU9yTm9uZSA9IGZ1bmN0aW9uIHNwYWNlT3JOb25lKHNwYWNlKSB7XG4gIHJldHVybiBzcGFjZSA/IFwiXCIuY29uY2F0KHNwYWNlLCBcInB4XCIpIDogdW5kZWZpbmVkO1xufTtcbnZhciBGbGV4ID0gSGUuZGl2KF90ZW1wbGF0ZU9iamVjdDUgfHwgKF90ZW1wbGF0ZU9iamVjdDUgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgZGlzcGxheTogXCIsIFwiO1xcblxcbiAgZmxleC1kaXJlY3Rpb246IFwiLCBcIjtcXG4gIGp1c3RpZnktY29udGVudDogXCIsIFwiO1xcbiAgYWxpZ24taXRlbXM6IFwiLCBcIjtcXG4gIGZsZXgtZ3JvdzogXCIsIFwiO1xcbiAgZmxleC1zaHJpbms6IFwiLCBcIjtcXG4gIG9yZGVyOiBcIiwgXCI7XFxuICBhbGlnbi1zZWxmOiBcIiwgXCI7XFxuICBmbGV4LWZsb3c6IFwiLCBcIjtcXG4gIGZsZXgtd3JhcDogXCIsIFwiO1xcblxcbiAgd2lkdGg6IFwiLCBcIjtcXG4gIGhlaWdodDogXCIsIFwiO1xcbiAgbWF4LXdpZHRoOiBcIiwgXCI7XFxuICBtYXgtaGVpZ2h0OiBcIiwgXCI7XFxuICBtaW4td2lkdGg6IFwiLCBcIjtcXG4gIG1pbi1oZWlnaHQ6IFwiLCBcIjtcXG4gIHBhZGRpbmc6IFwiLCBcIjtcXG4gIG1hcmdpbjogXCIsIFwiO1xcbiAgbWFyZ2luLXRvcDogXCIsIFwiO1xcbiAgbWFyZ2luLXJpZ2h0OiBcIiwgXCI7XFxuICBtYXJnaW4tYm90dG9tOiBcIiwgXCI7XFxuICBtYXJnaW4tbGVmdDogXCIsIFwiO1xcbiAgcGFkZGluZy10b3A6IFwiLCBcIjtcXG4gIHBhZGRpbmctcmlnaHQ6IFwiLCBcIjtcXG4gIHBhZGRpbmctYm90dG9tOiBcIiwgXCI7XFxuICBwYWRkaW5nLWxlZnQ6IFwiLCBcIjtcXG5cXG4gIGdhcDogXCIsIFwiO1xcblwiXSkpLCBmdW5jdGlvbiAoX3JlZjcpIHtcbiAgdmFyIGlubGluZSA9IF9yZWY3LmlubGluZTtcbiAgcmV0dXJuIGlubGluZSA/ICdpbmxpbmUtZmxleCcgOiAnZmxleCc7XG59LCBmdW5jdGlvbiAoX3JlZjgpIHtcbiAgdmFyIGRpcmVjdGlvbiA9IF9yZWY4LmRpcmVjdGlvbjtcbiAgcmV0dXJuIGl0ZW1Pck5vbmUoZGlyZWN0aW9uKTtcbn0sIGZ1bmN0aW9uIChfcmVmOSkge1xuICB2YXIganVzdGlmeUNvbnRlbnQgPSBfcmVmOS5qdXN0aWZ5Q29udGVudCxcbiAgICBjZW50ZXIgPSBfcmVmOS5jZW50ZXI7XG4gIHJldHVybiBjZW50ZXIgPyAnY2VudGVyJyA6IGl0ZW1Pck5vbmUoanVzdGlmeUNvbnRlbnQpO1xufSwgZnVuY3Rpb24gKF9yZWYxMCkge1xuICB2YXIgYWxpZ25JdGVtcyA9IF9yZWYxMC5hbGlnbkl0ZW1zLFxuICAgIGNlbnRlciA9IF9yZWYxMC5jZW50ZXI7XG4gIHJldHVybiBjZW50ZXIgPyAnY2VudGVyJyA6IGl0ZW1Pck5vbmUoYWxpZ25JdGVtcyk7XG59LCBmdW5jdGlvbiAoX3JlZjExKSB7XG4gIHZhciBncm93ID0gX3JlZjExLmdyb3c7XG4gIHJldHVybiBpdGVtT3JOb25lKGdyb3cpO1xufSwgZnVuY3Rpb24gKF9yZWYxMikge1xuICB2YXIgc2hyaW5rID0gX3JlZjEyLnNocmluaztcbiAgcmV0dXJuIGl0ZW1Pck5vbmUoc2hyaW5rKTtcbn0sIGZ1bmN0aW9uIChfcmVmMTMpIHtcbiAgdmFyIG9yZGVyID0gX3JlZjEzLm9yZGVyO1xuICByZXR1cm4gaXRlbU9yTm9uZShvcmRlcik7XG59LCBmdW5jdGlvbiAoX3JlZjE0KSB7XG4gIHZhciBhbGlnblNlbGYgPSBfcmVmMTQuYWxpZ25TZWxmO1xuICByZXR1cm4gaXRlbU9yTm9uZShhbGlnblNlbGYpO1xufSwgZnVuY3Rpb24gKF9yZWYxNSkge1xuICB2YXIgZmxvdyA9IF9yZWYxNS5mbG93O1xuICByZXR1cm4gaXRlbU9yTm9uZShmbG93KTtcbn0sIGZ1bmN0aW9uIChfcmVmMTYpIHtcbiAgdmFyIHdyYXAgPSBfcmVmMTYud3JhcDtcbiAgcmV0dXJuIGl0ZW1Pck5vbmUod3JhcCk7XG59LCBmdW5jdGlvbiAoX3JlZjE3KSB7XG4gIHZhciB3aWR0aCA9IF9yZWYxNy53aWR0aDtcbiAgcmV0dXJuIHR5cGVvZiB3aWR0aCA9PT0gJ3N0cmluZycgPyB3aWR0aCA6IHNwYWNlT3JOb25lKHdpZHRoKTtcbn0sIGZ1bmN0aW9uIChfcmVmMTgpIHtcbiAgdmFyIGhlaWdodCA9IF9yZWYxOC5oZWlnaHQ7XG4gIHJldHVybiB0eXBlb2YgaGVpZ2h0ID09PSAnc3RyaW5nJyA/IGhlaWdodCA6IHNwYWNlT3JOb25lKGhlaWdodCk7XG59LCBmdW5jdGlvbiAoX3JlZjE5KSB7XG4gIHZhciBtYXhXaWR0aCA9IF9yZWYxOS5tYXhXaWR0aDtcbiAgcmV0dXJuIHR5cGVvZiBtYXhXaWR0aCA9PT0gJ3N0cmluZycgPyBtYXhXaWR0aCA6IHNwYWNlT3JOb25lKG1heFdpZHRoKTtcbn0sIGZ1bmN0aW9uIChfcmVmMjApIHtcbiAgdmFyIG1heEhlaWdodCA9IF9yZWYyMC5tYXhIZWlnaHQ7XG4gIHJldHVybiB0eXBlb2YgbWF4SGVpZ2h0ID09PSAnc3RyaW5nJyA/IG1heEhlaWdodCA6IHNwYWNlT3JOb25lKG1heEhlaWdodCk7XG59LCBmdW5jdGlvbiAoX3JlZjIxKSB7XG4gIHZhciBtaW5XaWR0aCA9IF9yZWYyMS5taW5XaWR0aDtcbiAgcmV0dXJuIHR5cGVvZiBtaW5XaWR0aCA9PT0gJ3N0cmluZycgPyBtaW5XaWR0aCA6IHNwYWNlT3JOb25lKG1pbldpZHRoKTtcbn0sIGZ1bmN0aW9uIChfcmVmMjIpIHtcbiAgdmFyIG1pbkhlaWdodCA9IF9yZWYyMi5taW5IZWlnaHQ7XG4gIHJldHVybiB0eXBlb2YgbWluSGVpZ2h0ID09PSAnc3RyaW5nJyA/IG1pbkhlaWdodCA6IHNwYWNlT3JOb25lKG1pbkhlaWdodCk7XG59LCBmdW5jdGlvbiAoX3JlZjIzKSB7XG4gIHZhciBwYWRkaW5nID0gX3JlZjIzLnBhZGRpbmc7XG4gIHJldHVybiBzcGFjZU9yTm9uZShwYWRkaW5nKTtcbn0sIGZ1bmN0aW9uIChfcmVmMjQpIHtcbiAgdmFyIG1hcmdpbiA9IF9yZWYyNC5tYXJnaW47XG4gIHJldHVybiBzcGFjZU9yTm9uZShtYXJnaW4pO1xufSwgZnVuY3Rpb24gKF9yZWYyNSkge1xuICB2YXIgbWFyZ2luVG9wID0gX3JlZjI1Lm1hcmdpblRvcDtcbiAgcmV0dXJuIHNwYWNlT3JOb25lKG1hcmdpblRvcCk7XG59LCBmdW5jdGlvbiAoX3JlZjI2KSB7XG4gIHZhciBtYXJnaW5SaWdodCA9IF9yZWYyNi5tYXJnaW5SaWdodDtcbiAgcmV0dXJuIHNwYWNlT3JOb25lKG1hcmdpblJpZ2h0KTtcbn0sIGZ1bmN0aW9uIChfcmVmMjcpIHtcbiAgdmFyIG1hcmdpbkJvdHRvbSA9IF9yZWYyNy5tYXJnaW5Cb3R0b207XG4gIHJldHVybiBzcGFjZU9yTm9uZShtYXJnaW5Cb3R0b20pO1xufSwgZnVuY3Rpb24gKF9yZWYyOCkge1xuICB2YXIgbWFyZ2luTGVmdCA9IF9yZWYyOC5tYXJnaW5MZWZ0O1xuICByZXR1cm4gc3BhY2VPck5vbmUobWFyZ2luTGVmdCk7XG59LCBmdW5jdGlvbiAoX3JlZjI5KSB7XG4gIHZhciBwYWRkaW5nVG9wID0gX3JlZjI5LnBhZGRpbmdUb3A7XG4gIHJldHVybiBzcGFjZU9yTm9uZShwYWRkaW5nVG9wKTtcbn0sIGZ1bmN0aW9uIChfcmVmMzApIHtcbiAgdmFyIHBhZGRpbmdSaWdodCA9IF9yZWYzMC5wYWRkaW5nUmlnaHQ7XG4gIHJldHVybiBzcGFjZU9yTm9uZShwYWRkaW5nUmlnaHQpO1xufSwgZnVuY3Rpb24gKF9yZWYzMSkge1xuICB2YXIgcGFkZGluZ0JvdHRvbSA9IF9yZWYzMS5wYWRkaW5nQm90dG9tO1xuICByZXR1cm4gc3BhY2VPck5vbmUocGFkZGluZ0JvdHRvbSk7XG59LCBmdW5jdGlvbiAoX3JlZjMyKSB7XG4gIHZhciBwYWRkaW5nTGVmdCA9IF9yZWYzMi5wYWRkaW5nTGVmdDtcbiAgcmV0dXJuIHNwYWNlT3JOb25lKHBhZGRpbmdMZWZ0KTtcbn0sIGZ1bmN0aW9uIChfcmVmMzMpIHtcbiAgdmFyIGdhcCA9IF9yZWYzMy5nYXA7XG4gIHJldHVybiBzcGFjZU9yTm9uZShnYXApO1xufSk7XG52YXIgVGV4dCA9IEhlLmRpdihfdGVtcGxhdGVPYmplY3Q2IHx8IChfdGVtcGxhdGVPYmplY3Q2ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGNvbG9yOiBcIiwgXCI7XFxuICB0ZXh0LWFsaWduOiBcIiwgXCI7XFxuICBcIiwgXCI7XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY29sb3IgJiYgcHJvcHMudGhlbWUuY29sb3JzW3Byb3BzLmNvbG9yXTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuYWxpZ247XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemUgJiYgcHJvcHMudGhlbWUudHlwb2dyYXBoeVtwcm9wcy5zaXplXTtcbn0pO1xuVGV4dC5kZWZhdWx0UHJvcHMgPSB7XG4gIHNpemU6ICdib2R5JyxcbiAgY29sb3I6ICdwcmltYXJ5JyxcbiAgYWxpZ246ICdsZWZ0J1xufTtcbnZhciBFcnJvclNWRyA9IGZ1bmN0aW9uIEVycm9yU1ZHKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHdpZHRoOiBcIjIwMFwiLFxuICAgIGhlaWdodDogXCIyMDBcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyMDAgMjAwXCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIG9wYWNpdHk6IFwiMC4xXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTk5Ljk5OTkgMEMxNTUuMjI5IDAgMjAwIDQ0Ljc3MTUgMjAwIDk5Ljk5OTlDMjAwIDE1NS4yMjkgMTU1LjIyOSAyMDAgOTkuOTk5OSAyMDBDNDQuNzcxNSAyMDAgMCAxNTUuMjI5IDAgOTkuOTk5OUMwIDQ0Ljc3MTUgNDQuNzcxNSAwIDk5Ljk5OTkgMFpcIixcbiAgICBmaWxsOiBcInVybCgjcGFpbnQwX2xpbmVhcl80NDA4XzEyODEwKVwiXG4gIH0pKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBvcGFjaXR5OiBcIjAuM1wiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk05OS45OTkzIDE3LjU3MjNDMTQ1LjUyMyAxNy41NzIzIDE4Mi40MjcgNTQuNDc2MiAxODIuNDI3IDk5Ljk5OTNDMTgyLjQyNyAxNDUuNTIzIDE0NS41MjMgMTgyLjQyNyA5OS45OTkzIDE4Mi40MjdDNTQuNDc2MiAxODIuNDI3IDE3LjU3MjMgMTQ1LjUyMyAxNy41NzIzIDk5Ljk5OTNDMTcuNTcyMyA1NC40NzYyIDU0LjQ3NjIgMTcuNTcyMyA5OS45OTkzIDE3LjU3MjNaXCIsXG4gICAgZmlsbDogXCJ1cmwoI3BhaW50MV9saW5lYXJfNDQwOF8xMjgxMClcIlxuICB9KSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgb3BhY2l0eTogXCIwLjdcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNOTkuOTk4NyAzMi4yMzA1QzEzNy40ODcgMzIuMjMwNSAxNjcuODc3IDYyLjYyMDMgMTY3Ljg3NyAxMDAuMTA4QzE2Ny44NzcgMTM3LjU5NiAxMzcuNDg3IDE2Ny45ODYgOTkuOTk4NyAxNjcuOTg2QzYyLjUxMDkgMTY3Ljk4NiAzMi4xMjExIDEzNy41OTYgMzIuMTIxMSAxMDAuMTA4QzMyLjEyMTEgNjIuNjIwMyA2Mi41MTA5IDMyLjIzMDUgOTkuOTk4NyAzMi4yMzA1WlwiLFxuICAgIGZpbGw6IFwidXJsKCNwYWludDJfbGluZWFyXzQ0MDhfMTI4MTApXCJcbiAgfSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEwMCA0NS44MzM0QzcwLjEgNDUuODMzNCA0NS44MzMzIDcwLjEgNDUuODMzMyAxMDBDNDUuODMzMyAxMjkuOSA3MC4xIDE1NC4xNjcgMTAwIDE1NC4xNjdDMTI5LjkgMTU0LjE2NyAxNTQuMTY3IDEyOS45IDE1NC4xNjcgMTAwQzE1NC4xNjcgNzAuMSAxMjkuOSA0NS44MzM0IDEwMCA0NS44MzM0Wk0xMDUuNDE3IDEyNy4wODNIOTQuNTgzM1YxMTYuMjVIMTA1LjQxN1YxMjcuMDgzWk0xMDUuNDE3IDEwNS40MTdIOTQuNTgzM1Y3Mi45MTY3SDEwNS40MTdWMTA1LjQxN1pcIixcbiAgICBmaWxsOiBcIiM4QjEyMTRcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwibGluZWFyR3JhZGllbnRcIiwge1xuICAgIGlkOiBcInBhaW50MF9saW5lYXJfNDQwOF8xMjgxMFwiLFxuICAgIHgxOiBcIi04Ny4xMzc1XCIsXG4gICAgeTE6IFwiMTYwLjM4NFwiLFxuICAgIHgyOiBcIjE2OS42NjlcIixcbiAgICB5MjogXCIzMzguMjk3XCIsXG4gICAgZ3JhZGllbnRVbml0czogXCJ1c2VyU3BhY2VPblVzZVwiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgc3RvcENvbG9yOiBcIndoaXRlXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgb2Zmc2V0OiBcIjFcIixcbiAgICBzdG9wQ29sb3I6IFwiIzhCMTIxNFwiXG4gIH0pKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgaWQ6IFwicGFpbnQxX2xpbmVhcl80NDA4XzEyODEwXCIsXG4gICAgeDE6IFwiLTg3LjEzOFwiLFxuICAgIHkxOiBcIjE2MC4zODRcIixcbiAgICB4MjogXCIxNjkuNjY4XCIsXG4gICAgeTI6IFwiMzM4LjI5N1wiLFxuICAgIGdyYWRpZW50VW5pdHM6IFwidXNlclNwYWNlT25Vc2VcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN0b3BcIiwge1xuICAgIHN0b3BDb2xvcjogXCIjRjdGMEYwXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgb2Zmc2V0OiBcIjFcIixcbiAgICBzdG9wQ29sb3I6IFwiIzhCMTIxNFwiXG4gIH0pKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgaWQ6IFwicGFpbnQyX2xpbmVhcl80NDA4XzEyODEwXCIsXG4gICAgeDE6IFwiLTg3LjEzODZcIixcbiAgICB5MTogXCIxNjAuNDkzXCIsXG4gICAgeDI6IFwiMTY5LjY2OFwiLFxuICAgIHkyOiBcIjMzOC40MDVcIixcbiAgICBncmFkaWVudFVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICBzdG9wQ29sb3I6IFwiIzhCMTIxNFwiLFxuICAgIHN0b3BPcGFjaXR5OiBcIjAuMDFcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIsIHtcbiAgICBvZmZzZXQ6IFwiMVwiLFxuICAgIHN0b3BDb2xvcjogXCIjRTRDN0M3XCJcbiAgfSkpKSk7XG59O1xudmFyIEVycm9ySGVhZGVyID0gSGUoVGV4dCkoX3RlbXBsYXRlT2JqZWN0NyB8fCAoX3RlbXBsYXRlT2JqZWN0NyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXCJdKSkpO1xudmFyIEVycm9yU2NyZWVuID0gZnVuY3Rpb24gRXJyb3JTY3JlZW4oKSB7XG4gIHZhciBfdXNlR2xvYmFsUmVkdWNlciA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlciwgMSksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjJbMF07XG4gIHZhciBjdXJyZW50RXJyb3JUeXBlID0gc3RhdGUuZXJyb3JUeXBlO1xuICB2YXIgRXJyb3JUeXBlTWFwID0gX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIEVycm9yVHlwZS5EZWZhdWx0LCAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFRyeSBhZ2FpbiBsYXRlciBvciBjb250YWN0IHlvdXIgYWRtaW4gZm9yIGhlbHAuJyksIEVycm9yVHlwZS5FbWFpbE1hZ2ljTGluaywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBZb3VyIGxvZ2luIGxpbmsgbWF5IGhhdmUgZXhwaXJlZCwgYmVlbiByZXZva2VkLCBvciBiZWVuIHVzZWQgbW9yZSB0aGFuIG9uY2UuIFJlcXVlc3QgYSBuZXcgbG9naW4gbGluayB0byB0cnkgYWdhaW4sIG9yIGNvbnRhY3QgeW91ciBhZG1pbiBmb3IgaGVscC4nKSwgRXJyb3JUeXBlLk9yZ2FuaXphdGlvbiwgJ1RoZSBvcmdhbml6YXRpb24geW91IGFyZSBsb29raW5nIGZvciBjb3VsZCBub3QgYmUgZm91bmQuIElmIHlvdSB0aGluayB0aGlzIGlzIGEgbWlzdGFrZSwgY29udGFjdCB5b3VyIGFkbWluLicpO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0LFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JIZWFkZXIsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiTG9va3MgbGlrZSB0aGVyZSB3YXMgYW4gZXJyb3IhXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclNWRywgbnVsbCksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIEVycm9yVHlwZU1hcFtjdXJyZW50RXJyb3JUeXBlXSkpO1xufTtcbnZhciBtdXRhdGlvbiA9IGZ1bmN0aW9uIG11dGF0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGtleSwgZmV0Y2hlcikge1xuICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBfdXNlU1dSQ29uZmlnID0gdXNlU1dSQ29uZmlnKCksXG4gICAgICBtdXRhdGUgPSBfdXNlU1dSQ29uZmlnLm11dGF0ZTtcbiAgICB2YXIga2V5UmVmID0gXyhrZXkpO1xuICAgIHZhciBmZXRjaGVyUmVmID0gXyhmZXRjaGVyKTtcbiAgICB2YXIgY29uZmlnUmVmID0gXyhjb25maWcpO1xuICAgIHZhciBkaXRjaE11dGF0aW9uc1VudGlsUmVmID0gXygwKTtcbiAgICB2YXIgX3VzZVN0YXRlV2l0aERlcHMgPSB1c2VTdGF0ZVdpdGhEZXBzKHtcbiAgICAgICAgZGF0YTogVU5ERUZJTkVELFxuICAgICAgICBlcnJvcjogVU5ERUZJTkVELFxuICAgICAgICBpc011dGF0aW5nOiBmYWxzZVxuICAgICAgfSksXG4gICAgICBfdXNlU3RhdGVXaXRoRGVwczIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGVXaXRoRGVwcywgMyksXG4gICAgICBzdGF0ZVJlZiA9IF91c2VTdGF0ZVdpdGhEZXBzMlswXSxcbiAgICAgIHN0YXRlRGVwZW5kZW5jaWVzID0gX3VzZVN0YXRlV2l0aERlcHMyWzFdLFxuICAgICAgc2V0U3RhdGUgPSBfdXNlU3RhdGVXaXRoRGVwczJbMl07XG4gICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHN0YXRlUmVmLmN1cnJlbnQ7XG4gICAgdmFyIHRyaWdnZXIgPSBUKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYzNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShhcmcsIG9wdHMpIHtcbiAgICAgICAgdmFyIF9zZXJpYWxpemUsIF9zZXJpYWxpemUyLCBzZXJpYWxpemVkS2V5LCByZXNvbHZlZEtleSwgb3B0aW9ucywgbXV0YXRpb25TdGFydGVkQXQsIGRhdGE7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9zZXJpYWxpemUgPSBzZXJpYWxpemUoa2V5UmVmLmN1cnJlbnQpLCBfc2VyaWFsaXplMiA9IF9zbGljZWRUb0FycmF5KF9zZXJpYWxpemUsIDIpLCBzZXJpYWxpemVkS2V5ID0gX3NlcmlhbGl6ZTJbMF0sIHJlc29sdmVkS2V5ID0gX3NlcmlhbGl6ZTJbMV07XG4gICAgICAgICAgICAgIGlmIChmZXRjaGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgdHJpZ2dlciB0aGUgbXV0YXRpb246IG1pc3NpbmcgZmV0Y2hlci4nKTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgaWYgKHNlcmlhbGl6ZWRLZXkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbuKAmXQgdHJpZ2dlciB0aGUgbXV0YXRpb246IG1pc3Npbmcga2V5LicpO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VPYmplY3RzKG1lcmdlT2JqZWN0cyh7XG4gICAgICAgICAgICAgICAgcG9wdWxhdGVDYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhyb3dPbkVycm9yOiB0cnVlXG4gICAgICAgICAgICAgIH0sIGNvbmZpZ1JlZi5jdXJyZW50KSwgb3B0cyk7XG4gICAgICAgICAgICAgIG11dGF0aW9uU3RhcnRlZEF0ID0gZ2V0VGltZXN0YW1wKCk7XG4gICAgICAgICAgICAgIGRpdGNoTXV0YXRpb25zVW50aWxSZWYuY3VycmVudCA9IG11dGF0aW9uU3RhcnRlZEF0O1xuICAgICAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNNdXRhdGluZzogdHJ1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIG11dGF0ZShzZXJpYWxpemVkS2V5LCBmZXRjaGVyUmVmLmN1cnJlbnQocmVzb2x2ZWRLZXksIHtcbiAgICAgICAgICAgICAgICBhcmc6IGFyZ1xuICAgICAgICAgICAgICB9KSwgbWVyZ2VPYmplY3RzKG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IHRydWVcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChkaXRjaE11dGF0aW9uc1VudGlsUmVmLmN1cnJlbnQgPD0gbXV0YXRpb25TdGFydGVkQXQpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgaXNNdXRhdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBlcnJvcjogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3MgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25TdWNjZXNzKGRhdGEsIHNlcmlhbGl6ZWRLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG4gICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTc7XG4gICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSg5KTtcbiAgICAgICAgICAgICAgaWYgKCEoZGl0Y2hNdXRhdGlvbnNVbnRpbFJlZi5jdXJyZW50IDw9IG11dGF0aW9uU3RhcnRlZEF0KSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0LnQwLFxuICAgICAgICAgICAgICAgIGlzTXV0YXRpbmc6IGZhbHNlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25FcnJvcihfY29udGV4dC50MCwgc2VyaWFsaXplZEtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIGlmICghb3B0aW9ucy50aHJvd09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQudDA7XG4gICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s5LCAxN11dKTtcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94Mikge1xuICAgICAgICByZXR1cm4gX3JlZjM0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSwgW10pO1xuICAgIHZhciByZXNldCA9IFQoZnVuY3Rpb24gKCkge1xuICAgICAgZGl0Y2hNdXRhdGlvbnNVbnRpbFJlZi5jdXJyZW50ID0gZ2V0VGltZXN0YW1wKCk7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGRhdGE6IFVOREVGSU5FRCxcbiAgICAgICAgZXJyb3I6IFVOREVGSU5FRCxcbiAgICAgICAgaXNNdXRhdGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGtleVJlZi5jdXJyZW50ID0ga2V5O1xuICAgICAgZmV0Y2hlclJlZi5jdXJyZW50ID0gZmV0Y2hlcjtcbiAgICAgIGNvbmZpZ1JlZi5jdXJyZW50ID0gY29uZmlnO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgcmVzZXQ6IHJlc2V0LFxuICAgICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHN0YXRlRGVwZW5kZW5jaWVzLmRhdGEgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY3VycmVudFN0YXRlLmRhdGE7XG4gICAgICB9LFxuICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICBzdGF0ZURlcGVuZGVuY2llcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiBjdXJyZW50U3RhdGUuZXJyb3I7XG4gICAgICB9LFxuICAgICAgZ2V0IGlzTXV0YXRpbmcoKSB7XG4gICAgICAgIHN0YXRlRGVwZW5kZW5jaWVzLmlzTXV0YXRpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY3VycmVudFN0YXRlLmlzTXV0YXRpbmc7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn07XG52YXIgaW5kZXggPSB3aXRoTWlkZGxld2FyZSh1c2VTV1IsIG11dGF0aW9uKTtcbnZhciBLZXlUb1N0eXRjaEV2ZW50TWFwID0ge1xuICAnc3R5dGNoLm1hZ2ljTGlua3MuYXV0aGVudGljYXRlJzogU3R5dGNoRXZlbnRUeXBlLkIyQk1hZ2ljTGlua0F1dGhlbnRpY2F0ZSxcbiAgJ3N0eXRjaC5zc28uYXV0aGVudGljYXRlJzogU3R5dGNoRXZlbnRUeXBlLkIyQlNTT0F1dGhlbnRpY2F0ZSxcbiAgJ3N0eXRjaC5tYWdpY0xpbmtzLmRpc2NvdmVyeS5hdXRoZW50aWNhdGUnOiBTdHl0Y2hFdmVudFR5cGUuQjJCTWFnaWNMaW5rRGlzY292ZXJ5QXV0aGVudGljYXRlLFxuICAnc3R5dGNoLmRpc2NvdmVyeS5vcmdhbml6YXRpb24uY3JlYXRlJzogU3R5dGNoRXZlbnRUeXBlLkIyQkRpc2NvdmVyeU9yZ2FuaXphdGlvbnNDcmVhdGUsXG4gICdzdHl0Y2guZGlzY292ZXJ5LmludGVybWVkaWF0ZVNlc3Npb25zLmV4Y2hhbmdlJzogU3R5dGNoRXZlbnRUeXBlLkIyQkRpc2NvdmVyeUludGVybWVkaWF0ZVNlc3Npb25FeGNoYW5nZSxcbiAgJ3N0eXRjaC5tYWdpY0xpbmtzLmVtYWlsLmxvZ2luT3JTaWdudXAnOiBTdHl0Y2hFdmVudFR5cGUuQjJCTWFnaWNMaW5rRW1haWxMb2dpbk9yU2lnbnVwLFxuICAnc3R5dGNoLm1hZ2ljTGlua3MuZGlzY292ZXJ5LnNlbmQnOiBTdHl0Y2hFdmVudFR5cGUuQjJCTWFnaWNMaW5rRW1haWxEaXNjb3ZlcnlTZW5kLFxuICAnc3R5dGNoLm9hdXRoLmF1dGhlbnRpY2F0ZSc6IFN0eXRjaEV2ZW50VHlwZS5CMkJPQXV0aEF1dGhlbnRpY2F0ZSxcbiAgJ3N0eXRjaC5vYXV0aC5kaXNjb3ZlcnkuYXV0aGVudGljYXRlJzogU3R5dGNoRXZlbnRUeXBlLkIyQk9BdXRoRGlzY292ZXJ5QXV0aGVudGljYXRlLFxuICAnc3R5dGNoLm90cHMuc21zLnNlbmQnOiBTdHl0Y2hFdmVudFR5cGUuQjJCU01TT1RQU2VuZCxcbiAgJ3N0eXRjaC5vdHBzLnNtcy5hdXRoZW50aWNhdGUnOiBTdHl0Y2hFdmVudFR5cGUuQjJCU01TT1RQQXV0aGVudGljYXRlLFxuICAnc3R5dGNoLnRvdHAuY3JlYXRlJzogU3R5dGNoRXZlbnRUeXBlLkIyQlRPVFBDcmVhdGUsXG4gICdzdHl0Y2gudG90cC5hdXRoZW50aWNhdGUnOiBTdHl0Y2hFdmVudFR5cGUuQjJCVE9UUEF1dGhlbnRpY2F0ZSxcbiAgJ3N0eXRjaC5yZWNvdmVyeUNvZGVzLnJlY292ZXInOiBTdHl0Y2hFdmVudFR5cGUuQjJCUmVjb3ZlcnlDb2Rlc1JlY292ZXJcbn07XG52YXIgdXNlTXV0YXRlID0gZnVuY3Rpb24gdXNlTXV0YXRlKGtleSwgZmV0Y2hlciwgb3B0aW9ucykge1xuICB2YXIgb25FdmVudCA9IHVzZUV2ZW50Q2FsbGJhY2soKTtcbiAgdmFyIF9vbkVycm9yID0gdXNlRXJyb3JDYWxsYmFjaygpO1xuICByZXR1cm4gaW5kZXgoa2V5LCBmZXRjaGVyLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe1xuICAgIHRocm93T25FcnJvcjogZmFsc2VcbiAgfSwgb3B0aW9ucyksIHtcbiAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcyhkYXRhLCBrZXksIGNvbmZpZykge1xuICAgICAgaWYgKEtleVRvU3R5dGNoRXZlbnRNYXBba2V5XSkge1xuICAgICAgICBvbkV2ZW50KHtcbiAgICAgICAgICB0eXBlOiBLZXlUb1N0eXRjaEV2ZW50TWFwW2tleV0sXG4gICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub25TdWNjZXNzKSAmJiBvcHRpb25zLm9uU3VjY2VzcyhkYXRhLCBrZXksIGNvbmZpZyk7XG4gICAgfSxcbiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKGVycm9yLCBrZXksIGNvbmZpZykge1xuICAgICAgX29uRXJyb3IoZXJyb3IpO1xuICAgICAgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vbkVycm9yKSAmJiBvcHRpb25zLm9uRXJyb3IoZXJyb3IsIGtleSwgY29uZmlnKTtcbiAgICB9XG4gIH0pKTtcbn07XG52YXIgdXNlRXh0cmFjdFNsdWcgPSBmdW5jdGlvbiB1c2VFeHRyYWN0U2x1ZygpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMyA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjQgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjMsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXI0WzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI0WzFdO1xuICB2YXIgX2gkID0gaCQxKCksXG4gICAgX2gkMiA9IF9zbGljZWRUb0FycmF5KF9oJCwgMiksXG4gICAgcGF0dGVybiA9IF9oJDJbMF0sXG4gICAgc2V0UGF0dGVybiA9IF9oJDJbMV07XG4gIHZhciBzdHl0Y2hDbGllbnQgPSB1c2VTdHl0Y2goKTtcbiAgdmFyIHNsdWcgPSBleHRyYWN0RnJvbVBhdHRlcm4ocGF0dGVybiB8fCBudWxsKTtcbiAgdmFyIF91c2VNdXRhdGUgPSB1c2VNdXRhdGUoJ3N0eXRjaENsaWVudC5vcmdhbml6YXRpb24uZ2V0QnlTbHVnJywgZnVuY3Rpb24gKF8sIF9yZWYzNSkge1xuICAgICAgdmFyIHNsdWcgPSBfcmVmMzUuYXJnLnNsdWc7XG4gICAgICByZXR1cm4gc3R5dGNoQ2xpZW50Lm9yZ2FuaXphdGlvbi5nZXRCeVNsdWcoe1xuICAgICAgICBvcmdhbml6YXRpb25fc2x1Zzogc2x1Z1xuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoX3JlZjM2KSB7XG4gICAgICAgIHZhciBvcmdhbml6YXRpb24gPSBfcmVmMzYub3JnYW5pemF0aW9uO1xuICAgICAgICBpZiAob3JnYW5pemF0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogJ3NldF9lcnJvcl9tZXNzYWdlX2FuZF90cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIGVycm9yVHlwZTogRXJyb3JUeXBlLk9yZ2FuaXphdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdzZXRfb3JnYW5pemF0aW9uJyxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogT2JqZWN0LmFzc2lnbih7fSwgb3JnYW5pemF0aW9uKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgdHJpZ2dlciA9IF91c2VNdXRhdGUudHJpZ2dlcixcbiAgICBpc1NlYXJjaGluZyA9IF91c2VNdXRhdGUuaXNNdXRhdGluZztcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICByZWFkQjJCSW50ZXJuYWxzKHN0eXRjaENsaWVudCkuYm9vdHN0cmFwLmdldEFzeW5jKCkudGhlbihmdW5jdGlvbiAoX3JlZjM3KSB7XG4gICAgICB2YXIgc2x1Z1BhdHRlcm4gPSBfcmVmMzcuc2x1Z1BhdHRlcm47XG4gICAgICBzZXRQYXR0ZXJuKHNsdWdQYXR0ZXJuKTtcbiAgICB9KTtcbiAgfSwgW3N0eXRjaENsaWVudF0pO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzbHVnICE9PSBudWxsICYmIHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24gPT09IG51bGwgJiYgc3RhdGUuc2NyZWVuID09PSBBcHBTY3JlZW5zJDEuTWFpbiAmJiBzdGF0ZS5mbG93U3RhdGUudHlwZSA9PSBBdXRoRmxvd1R5cGUuT3JnYW5pemF0aW9uKSB7XG4gICAgICB0cmlnZ2VyKHtcbiAgICAgICAgc2x1Zzogc2x1Z1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc2x1Zywgc3RhdGUuZmxvd1N0YXRlLCBzdGF0ZS5zY3JlZW5dKTtcbiAgcmV0dXJuIHtcbiAgICBpc1NlYXJjaGluZzogaXNTZWFyY2hpbmcsXG4gICAgc2x1Zzogc2x1ZyxcbiAgICBwYXR0ZXJuOiBwYXR0ZXJuXG4gIH07XG59O1xudmFyIHVzZUJvb3RzdHJhcCA9IGZ1bmN0aW9uIHVzZUJvb3RzdHJhcCgpIHtcbiAgdmFyIHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgX2gkMyA9IGgkMShyZWFkQjJCSW50ZXJuYWxzKHN0eXRjaENsaWVudCkuYm9vdHN0cmFwLmdldFN5bmMoKSksXG4gICAgX2gkNCA9IF9zbGljZWRUb0FycmF5KF9oJDMsIDIpLFxuICAgIGJvb3N0cmFwID0gX2gkNFswXSxcbiAgICBzZXRCb290c3RyYXAgPSBfaCQ0WzFdO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIHJlYWRCMkJJbnRlcm5hbHMoc3R5dGNoQ2xpZW50KS5ib290c3RyYXAuZ2V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBzZXRCb290c3RyYXAoZGF0YSk7XG4gICAgfSk7XG4gIH0sIFtzdHl0Y2hDbGllbnRdKTtcbiAgcmV0dXJuIGJvb3N0cmFwO1xufTtcbnZhciBvbkF1dGhlbnRpY2F0ZVN1Y2Nlc3MgPSBmdW5jdGlvbiBvbkF1dGhlbnRpY2F0ZVN1Y2Nlc3MoZGF0YSwgZGlzcGF0Y2gsIGNvbmZpZykge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ3ByaW1hcnlfYXV0aGVudGljYXRlX3N1Y2Nlc3MnLFxuICAgIHJlc3BvbnNlOiBkYXRhLFxuICAgIGluY2x1ZGVkTWZhTWV0aG9kczogY29uZmlnLm1mYVByb2R1Y3RJbmNsdWRlXG4gIH0pO1xufTtcbnZhciB1c2VQYXNzd29yZElucHV0ID0gZnVuY3Rpb24gdXNlUGFzc3dvcmRJbnB1dCgpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjYgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjUsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXI2WzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI2WzFdO1xuICB2YXIgY29uZmlnID0gdXNlQ29uZmlnKCk7XG4gIHZhciBzdHl0Y2ggPSB1c2VTdHl0Y2goKTtcbiAgdmFyIG9uRXZlbnQgPSB1c2VFdmVudENhbGxiYWNrKCk7XG4gIHZhciBvbkVycm9yID0gdXNlRXJyb3JDYWxsYmFjaygpO1xuICB2YXIgX2gkNSA9IGgkMShzdGF0ZS5mb3JtU3RhdGUucGFzc3dvcmRTdGF0ZS5lbWFpbCksXG4gICAgX2gkNiA9IF9zbGljZWRUb0FycmF5KF9oJDUsIDIpLFxuICAgIGVtYWlsID0gX2gkNlswXSxcbiAgICBzZXRFbWFpbCA9IF9oJDZbMV07XG4gIHZhciBfaCQ3ID0gaCQxKCcnKSxcbiAgICBfaCQ4ID0gX3NsaWNlZFRvQXJyYXkoX2gkNywgMiksXG4gICAgcGFzc3dvcmQgPSBfaCQ4WzBdLFxuICAgIHNldFBhc3N3b3JkID0gX2gkOFsxXTtcbiAgdmFyIF9oJDkgPSBoJDEoJycpLFxuICAgIF9oJDEwID0gX3NsaWNlZFRvQXJyYXkoX2gkOSwgMiksXG4gICAgZXJyb3JNZXNzYWdlID0gX2gkMTBbMF0sXG4gICAgc2V0RXJyb3JNZXNzYWdlID0gX2gkMTBbMV07XG4gIHZhciBfaCQxMSA9IGgkMShmYWxzZSksXG4gICAgX2gkMTIgPSBfc2xpY2VkVG9BcnJheShfaCQxMSwgMiksXG4gICAgaXNTdWJtaXR0aW5nID0gX2gkMTJbMF0sXG4gICAgc2V0SXNTdWJtaXR0aW5nID0gX2gkMTJbMV07XG4gIHZhciBvcmdhbml6YXRpb24gPSBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uO1xuICB2YXIgc3VibWl0UGFzc3dvcmQgPSBmdW5jdGlvbiBzdWJtaXRQYXNzd29yZChvcmdhbml6YXRpb25faWQpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgIHN0eXRjaC5wYXNzd29yZHMuYXV0aGVudGljYXRlKHtcbiAgICAgIGVtYWlsX2FkZHJlc3M6IGVtYWlsLFxuICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25faWQsXG4gICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICBzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6IChfYiA9IChfYSA9IGNvbmZpZy5zZXNzaW9uT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IERFRkFVTFRfU0VTU0lPTl9EVVJBVElPTl9NSU5VVEVTXG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgIG9uRXZlbnQoe1xuICAgICAgICB0eXBlOiBTdHl0Y2hFdmVudFR5cGUuQjJCUGFzc3dvcmRBdXRoZW50aWNhdGUsXG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICAgIH0pO1xuICAgICAgb25BdXRoZW50aWNhdGVTdWNjZXNzKGRhdGEsIGRpc3BhdGNoLCBjb25maWcpO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZC4gUGxlYXNlIHRyeSBhZ2FpbiBvciB1c2UgdGhlIGxpbmsgYmVsb3cgdG8gZ2V0IGhlbHAuJyk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBlbWFpbEVsaWdpYmxlRm9ySklUUHJvdmlzaW9uaW5nID0gZnVuY3Rpb24gZW1haWxFbGlnaWJsZUZvckpJVFByb3Zpc2lvbmluZyhvcmdhbml6YXRpb24sIGVtYWlsKSB7XG4gICAgdmFyIGVtYWlsRG9tYWluID0gZW1haWwuc3BsaXQoJ0AnKS5wb3AoKTtcbiAgICByZXR1cm4gb3JnYW5pemF0aW9uLmVtYWlsX2ppdF9wcm92aXNpb25pbmcgPT0gJ05PVF9BTExPV0VEJyB8fCBvcmdhbml6YXRpb24uZW1haWxfaml0X3Byb3Zpc2lvbmluZyA9PSAnUkVTVFJJQ1RFRCcgJiYgZW1haWxEb21haW4gJiYgb3JnYW5pemF0aW9uLmVtYWlsX2FsbG93ZWRfZG9tYWlucy5pbmNsdWRlcyhlbWFpbERvbWFpbik7XG4gIH07XG4gIHZhciBoYW5kbGVOb25NZW1iZXJSZXNldCA9IGZ1bmN0aW9uIGhhbmRsZU5vbk1lbWJlclJlc2V0KCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoIW9yZ2FuaXphdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWVtYWlsRWxpZ2libGVGb3JKSVRQcm92aXNpb25pbmcob3JnYW5pemF0aW9uLCBlbWFpbCkpIHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UoZW1haWwgKyAnIGRvZXMgbm90IGhhdmUgYWNjZXNzIHRvICcgKyBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX25hbWUgKyAnLiBJZiB5b3UgdGhpbmsgdGhpcyBpcyBhIG1pc3Rha2UsIGNvbnRhY3QgeW91ciBhZG1pbi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRhdGFMYXllciA9IHJlYWRCMkJJbnRlcm5hbHMoc3R5dGNoKS5kYXRhTGF5ZXI7XG4gICAgZGF0YUxheWVyLnNldEl0ZW0oJ3Jlc2V0LWVtYWlsLXZhbHVlJywgZW1haWwpO1xuICAgIHN0eXRjaC5tYWdpY0xpbmtzLmVtYWlsLmxvZ2luT3JTaWdudXAoe1xuICAgICAgZW1haWxfYWRkcmVzczogZW1haWwsXG4gICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWQsXG4gICAgICBsb2dpbl9yZWRpcmVjdF91cmw6IChfYSA9IGNvbmZpZy5wYXNzd29yZE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNldFBhc3N3b3JkUmVkaXJlY3RVUkwsXG4gICAgICBzaWdudXBfcmVkaXJlY3RfdXJsOiAoX2IgPSBjb25maWcucGFzc3dvcmRPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVzZXRQYXNzd29yZFJlZGlyZWN0VVJMLFxuICAgICAgbG9naW5fdGVtcGxhdGVfaWQ6IChfYyA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubG9naW5UZW1wbGF0ZUlkLFxuICAgICAgc2lnbnVwX3RlbXBsYXRlX2lkOiAoX2QgPSBjb25maWcuZW1haWxNYWdpY0xpbmtzT3B0aW9ucykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNpZ251cFRlbXBsYXRlSWRcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdzZXRfcGFzc3dvcmRfc3RhdGUnLFxuICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgIH0pO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlBhc3N3b3JkUmVzZXRWZXJpZnlDb25maXJtYXRpb25cbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKCdXZSB3ZXJlIHVuYWJsZSB0byB2ZXJpZnkgeW91ciBlbWFpbC4gUGxlYXNlIGNvbnRhY3QgeW91ciBhZG1pbi4nKTtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgc3R5dGNoOiBzdHl0Y2gsXG4gICAgb25FcnJvcjogb25FcnJvcixcbiAgICBlbWFpbDogZW1haWwsXG4gICAgc2V0RW1haWw6IHNldEVtYWlsLFxuICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICBzZXRQYXNzd29yZDogc2V0UGFzc3dvcmQsXG4gICAgb3JnYW5pemF0aW9uOiBvcmdhbml6YXRpb24sXG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgc2V0RXJyb3JNZXNzYWdlOiBzZXRFcnJvck1lc3NhZ2UsXG4gICAgaXNTdWJtaXR0aW5nOiBpc1N1Ym1pdHRpbmcsXG4gICAgc2V0SXNTdWJtaXR0aW5nOiBzZXRJc1N1Ym1pdHRpbmcsXG4gICAgc3VibWl0UGFzc3dvcmQ6IHN1Ym1pdFBhc3N3b3JkLFxuICAgIGhhbmRsZU5vbk1lbWJlclJlc2V0OiBoYW5kbGVOb25NZW1iZXJSZXNldFxuICB9O1xufTtcbnZhciBleHRyYWN0RnJvbVBhdHRlcm4gPSBmdW5jdGlvbiBleHRyYWN0RnJvbVBhdHRlcm4ocGF0dGVybikge1xuICBpZiAocGF0dGVybiA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjdXJyZW50VXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLCAnJykudHJpbSgpO1xuICB2YXIgcmVnZXhQYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKCd7e3NsdWd9fScsICcoLispJyk7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAocmVnZXhQYXR0ZXJuKTtcbiAgdmFyIG1hdGNoID0gY3VycmVudFVybC5tYXRjaChyZWdleCk7XG4gIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgIHJldHVybiBtYXRjaFsxXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG52YXIgQnV0dG9uID0gSGUuYnV0dG9uKF90ZW1wbGF0ZU9iamVjdDggfHwgKF90ZW1wbGF0ZU9iamVjdDggPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0NXB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZm9udC1zaXplOiAxOHB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XFxuICBmb250LWZhbWlseTogXCIsIFwiO1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG5cXG4gIFwiLCBcIlxcblxcbiAgJjpkaXNhYmxlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLCBcIjtcXG4gICAgY29sb3I6IFwiLCBcIjtcXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG4gIH1cXG5cIl0pKSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgc3dpdGNoIChwcm9wcy52YXJpYW50KSB7XG4gICAgY2FzZSAncHJpbWFyeSc6XG4gICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgYm9yZGVyOiBcIi5jb25jYXQocHJvcHMudGhlbWUuYnV0dG9ucy5wcmltYXJ5LmJvcmRlciwgXCI7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IFwiKS5jb25jYXQocHJvcHMudGhlbWUuYnV0dG9ucy5wcmltYXJ5LmJvcmRlclJhZGl1cywgXCI7XFxuICAgICAgICAgIGNvbG9yOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMucHJpbWFyeS50ZXh0Q29sb3IsIFwiO1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMucHJpbWFyeS5iYWNrZ3JvdW5kQ29sb3IsIFwiO1xcbiAgICAgICAgXCIpO1xuICAgIGNhc2UgJ291dGxpbmVkJzpcbiAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICBib3JkZXI6IFwiLmNvbmNhdChwcm9wcy50aGVtZS5idXR0b25zLnNlY29uZGFyeS5ib3JkZXIsIFwiO1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMuc2Vjb25kYXJ5LmJvcmRlclJhZGl1cywgXCI7XFxuICAgICAgICAgIGNvbG9yOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMuc2Vjb25kYXJ5LnRleHRDb2xvciwgXCI7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKS5jb25jYXQocHJvcHMudGhlbWUuYnV0dG9ucy5zZWNvbmRhcnkuYmFja2dyb3VuZENvbG9yLCBcIjtcXG4gICAgICAgIFwiKTtcbiAgICBjYXNlICd0ZXh0JzpcbiAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICBjb2xvcjogXCIuY29uY2F0KHByb3BzLnRoZW1lLmNvbG9ycy5wcmltYXJ5LCBcIjtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxuICAgICAgICBcIik7XG4gIH1cbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLmRpc2FibGVkO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuZGlzYWJsZWRUZXh0O1xufSk7XG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICB2YXJpYW50OiAncHJpbWFyeSdcbn07XG52YXIgY2lyY3VsYXJSb3RhdGVLZXlmcmFtZSA9IFVlKF90ZW1wbGF0ZU9iamVjdDkgfHwgKF90ZW1wbGF0ZU9iamVjdDkgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xcbiAgfVxcblwiXSkpKTtcbnZhciBjaXJjdWxhckRhc2hLZXlmcmFtZSA9IFVlKF90ZW1wbGF0ZU9iamVjdDEwIHx8IChfdGVtcGxhdGVPYmplY3QxMCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICAwJSB7XFxuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMjAwcHg7XFxuICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAwO1xcbiAgfVxcbiAgNTAlIHtcXG4gICAgc3Ryb2tlLWRhc2hhcnJheTogMTAwcHgsIDIwMHB4O1xcbiAgICBzdHJva2UtZGFzaG9mZnNldDogLTE1cHg7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgc3Ryb2tlLWRhc2hhcnJheTogMTAwcHgsIDIwMHB4O1xcbiAgICBzdHJva2UtZGFzaG9mZnNldDogLTEyNXB4O1xcbiAgfVxcblwiXSkpKTtcbnZhciBBbmltYXRlZENpcmNsZSA9IEhlLmNpcmNsZShfdGVtcGxhdGVPYmplY3QxMSB8fCAoX3RlbXBsYXRlT2JqZWN0MTEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgc3Ryb2tlLWRhc2hhcnJheTogODBweCwgMjAwcHg7XFxuICBzdHJva2UtZGFzaG9mZnNldDogMDtcXG4gIGFuaW1hdGlvbjogXCIsIFwiIDEuNHMgZWFzZS1pbi1vdXQgaW5maW5pdGU7XFxuICBzdHJva2U6IFwiLCBcIjtcXG4gIGZpbGw6IG5vbmU7XFxuXCJdKSksIGNpcmN1bGFyRGFzaEtleWZyYW1lLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5wcmltYXJ5O1xufSk7XG52YXIgQ2lyY3VsYXJQcm9ncmVzc1Jvb3QgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0MTIgfHwgKF90ZW1wbGF0ZU9iamVjdDEyID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIHdpZHRoOiBcIiwgXCJweDtcXG4gIGhlaWdodDogXCIsIFwicHg7XFxuICBhbmltYXRpb246IFwiLCBcIiAxLjRzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xcblwiXSkpLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemU7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNpemU7XG59LCBjaXJjdWxhclJvdGF0ZUtleWZyYW1lKTtcbnZhciBDaXJjdWxhclByb2dyZXNzU1ZHID0gSGUuc3ZnKF90ZW1wbGF0ZU9iamVjdDEzIHx8IChfdGVtcGxhdGVPYmplY3QxMyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBkaXNwbGF5OiBibG9jaztcXG5cIl0pKSk7XG52YXIgQ2lyY3VsYXJQcm9ncmVzcyA9IGZ1bmN0aW9uIENpcmN1bGFyUHJvZ3Jlc3MoX3JlZjM4KSB7XG4gIHZhciBzaXplID0gX3JlZjM4LnNpemUsXG4gICAgdGhpY2tuZXNzID0gX3JlZjM4LnRoaWNrbmVzcztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENpcmN1bGFyUHJvZ3Jlc3NSb290LCB7XG4gICAgc2l6ZTogc2l6ZVxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDaXJjdWxhclByb2dyZXNzU1ZHLCB7XG4gICAgdmlld0JveDogXCJcIi5jb25jYXQoc2l6ZSAvIDIsIFwiIFwiKS5jb25jYXQoc2l6ZSAvIDIsIFwiIFwiKS5jb25jYXQoc2l6ZSwgXCIgXCIpLmNvbmNhdChzaXplKVxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChBbmltYXRlZENpcmNsZSwge1xuICAgIGN4OiBzaXplLFxuICAgIGN5OiBzaXplLFxuICAgIHI6IChzaXplIC0gdGhpY2tuZXNzKSAvIDIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlV2lkdGg6IHRoaWNrbmVzc1xuICB9KSkpO1xufTtcbnZhciBTdWJtaXRCdXR0b24gPSBmdW5jdGlvbiBTdWJtaXRCdXR0b24ocHJvcHMpIHtcbiAgdmFyIGJ1dHRvbkRpc2FibGVkID0gcHJvcHMuaXNTdWJtaXR0aW5nIHx8IHByb3BzLmRpc2FibGVkO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgaWQ6ICdzdWJtaXQnLFxuICAgIHR5cGU6IFwic3VibWl0XCIsXG4gICAgZGlzYWJsZWQ6IGJ1dHRvbkRpc2FibGVkXG4gIH0sIHByb3BzLmlzU3VibWl0dGluZyA/ICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENpcmN1bGFyUHJvZ3Jlc3MsIHtcbiAgICBzaXplOiAxOCxcbiAgICB0aGlja25lc3M6IDEsXG4gICAgXCJkYXRhLXRlc3RpZFwiOiBcImxvYWRpbmctaWNvblwiXG4gIH0pKSkgOiBwcm9wcy50ZXh0KTtcbn07XG52YXIgSW5wdXQgPSBIZS5pbnB1dChfdGVtcGxhdGVPYmplY3QxNCB8fCAoX3RlbXBsYXRlT2JqZWN0MTQgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsIFwiO1xcbiAgaGVpZ2h0OiA0N3B4O1xcbiAgcGFkZGluZzogMCA4cHg7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm9yZGVyOiAxcHggc29saWQgXCIsIFwiO1xcbiAgYm9yZGVyLXJhZGl1czogXCIsIFwiO1xcbiAgY29sb3I6IFwiLCBcIjtcXG4gIGZvbnQtZmFtaWx5OiBcIiwgXCI7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICAmOjpwbGFjZWhvbGRlciB7XFxuICAgIGNvbG9yOiBcIiwgXCI7XFxuICB9XFxuXFxuICAmOmRpc2FibGVkIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgXCIsIFwiO1xcbiAgICBjb2xvcjogXCIsIFwiO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIiwgXCI7XFxuICB9XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJhY2tncm91bmRDb2xvcjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJvcmRlckNvbG9yO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5pbnB1dHMuYm9yZGVyUmFkaXVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5pbnB1dHMudGV4dENvbG9yO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHk7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5wbGFjZWhvbGRlckNvbG9yO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuZGlzYWJsZWRUZXh0O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuZGlzYWJsZWRUZXh0O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuZGlzYWJsZWQ7XG59KTtcbnZhciBFbWFpbElucHV0ID0gZnVuY3Rpb24gRW1haWxJbnB1dChfcmVmMzkpIHtcbiAgdmFyIGVtYWlsID0gX3JlZjM5LmVtYWlsLFxuICAgIHNldEVtYWlsID0gX3JlZjM5LnNldEVtYWlsLFxuICAgIF9yZWYzOSRkaXNhYmxlSW5wdXQgPSBfcmVmMzkuZGlzYWJsZUlucHV0LFxuICAgIGRpc2FibGVJbnB1dCA9IF9yZWYzOSRkaXNhYmxlSW5wdXQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjM5JGRpc2FibGVJbnB1dCxcbiAgICBfcmVmMzkkaGFzUGFzc2tleXMgPSBfcmVmMzkuaGFzUGFzc2tleXMsXG4gICAgaGFzUGFzc2tleXMgPSBfcmVmMzkkaGFzUGFzc2tleXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjM5JGhhc1Bhc3NrZXlzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSW5wdXQsIE9iamVjdC5hc3NpZ24oe1xuICAgIHBsYWNlaG9sZGVyOiBcImV4YW1wbGVAZW1haWwuY29tXCIsXG4gICAgbmFtZTogXCJlbWFpbFwiLFxuICAgIHR5cGU6IFwiZW1haWxcIixcbiAgICBhdXRvQ29tcGxldGU6IGhhc1Bhc3NrZXlzID8gJ2VtYWlsIHdlYmF1dGhuJyA6ICdlbWFpbCcsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVJbnB1dCxcbiAgICBpZDogXCJlbWFpbC1pbnB1dFwiLFxuICAgIHZhbHVlOiBlbWFpbCxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgcmV0dXJuIHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9LFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sIGhhc1Bhc3NrZXlzID8ge1xuICAgICdkYXRhLTFwLWlnbm9yZSc6IHRydWVcbiAgfSA6IHt9KSk7XG59O1xudmFyIERBU0hCT0FSRF9SRUdFWCA9IC9odHRwczpcXC9cXC9zdHl0Y2hcXC5jb21cXC9bI2EtekEtWjAtOS8tXSsvZztcbnZhciBtYXBVUkxzVG9MaW5rcyA9IGZ1bmN0aW9uIG1hcFVSTHNUb0xpbmtzKHN0cikge1xuICB2YXIgbm9uTGlua0NodW5rcyA9IHN0ci5zcGxpdChEQVNIQk9BUkRfUkVHRVgpO1xuICB2YXIgbGlua0NodW5rcyA9IEFycmF5LmZyb20oc3RyLm1hdGNoQWxsKERBU0hCT0FSRF9SRUdFWCkpLm1hcChmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gZWxbMF07XG4gIH0pO1xuICB2YXIgY2h1bmtSZXN1bHRzID0gW107XG4gIHdoaWxlIChub25MaW5rQ2h1bmtzLmxlbmd0aCB8fCBsaW5rQ2h1bmtzLmxlbmd0aCkge1xuICAgIGlmIChub25MaW5rQ2h1bmtzLmxlbmd0aCkge1xuICAgICAgY2h1bmtSZXN1bHRzLnB1c2gobm9uTGlua0NodW5rcy5zaGlmdCgpKTtcbiAgICB9XG4gICAgaWYgKGxpbmtDaHVua3MubGVuZ3RoKSB7XG4gICAgICB2YXIgY2h1bmsgPSBsaW5rQ2h1bmtzLnNoaWZ0KCk7XG4gICAgICBjaHVua1Jlc3VsdHMucHVzaCggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICAgICAga2V5OiBjaHVuayArICdfXycgKyBTdHJpbmcobGlua0NodW5rcy5sZW5ndGgpLFxuICAgICAgICBocmVmOiBjaHVuayxcbiAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICByZWw6IFwibm9yZWZlcnJlclwiXG4gICAgICB9LCBjaHVuaykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2h1bmtSZXN1bHRzO1xufTtcbnZhciBFcnJvclRleHQgPSBmdW5jdGlvbiBFcnJvclRleHQoX3JlZjQwKSB7XG4gIHZhciBlcnJvck1lc3NhZ2UgPSBfcmVmNDAuZXJyb3JNZXNzYWdlO1xuICB2YXIgdG9rZW5zID0gRihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG1hcFVSTHNUb0xpbmtzKGVycm9yTWVzc2FnZSk7XG4gIH0sIFtlcnJvck1lc3NhZ2VdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlbHBlclwiLFxuICAgIGNvbG9yOiBcImVycm9yXCJcbiAgfSwgdG9rZW5zKTtcbn07XG52YXIgSklUX1BST1ZJU0lPTklOR19FUlJPUlMgPSBbJ2VtYWlsX2ppdF9wcm92aXNpb25pbmdfbm90X2FsbG93ZWQnLCAnaW52YWxpZF9lbWFpbF9mb3Jfaml0X3Byb3Zpc2lvbmluZyddO1xudmFyIHBhcnNlRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gcGFyc2VFcnJvck1lc3NhZ2UoZXJyb3IsIF9yZWY0MSkge1xuICB2YXIgZW1haWwgPSBfcmVmNDEuZW1haWwsXG4gICAgb3JnID0gX3JlZjQxLm9yZztcbiAgaWYgKEpJVF9QUk9WSVNJT05JTkdfRVJST1JTLmluY2x1ZGVzKGVycm9yLmVycm9yX3R5cGUpKSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGVtYWlsLCBcIiBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byBcIikuY29uY2F0KG9yZywgXCIuIElmIHlvdSB0aGluayB0aGlzIGlzIGEgbWlzdGFrZSwgY29udGFjdCB5b3VyIGFkbWluXCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlcnJvci5lcnJvcl9tZXNzYWdlO1xuICB9XG59O1xudmFyIE1hZ2ljTGlua0VtYWlsRm9ybSA9IGZ1bmN0aW9uIE1hZ2ljTGlua0VtYWlsRm9ybSgpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNyA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjggPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjcsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXI4WzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI4WzFdO1xuICB2YXIgc3R5dGNoQ2xpZW50ID0gdXNlU3R5dGNoKCk7XG4gIHZhciBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgdmFyIF9oJDEzID0gaCQxKCcnKSxcbiAgICBfaCQxNCA9IF9zbGljZWRUb0FycmF5KF9oJDEzLCAyKSxcbiAgICBlbWFpbCA9IF9oJDE0WzBdLFxuICAgIHNldEVtYWlsID0gX2gkMTRbMV07XG4gIHZhciBfdXNlTXV0YXRlMiA9IHVzZU11dGF0ZSgnc3R5dGNoLm1hZ2ljTGlua3MuZW1haWwubG9naW5PclNpZ251cCcsIGZ1bmN0aW9uIChfLCBfcmVmNDIpIHtcbiAgICAgIHZhciBvcmdhbml6YXRpb25faWQgPSBfcmVmNDIuYXJnLm9yZ2FuaXphdGlvbl9pZDtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQubWFnaWNMaW5rcy5lbWFpbC5sb2dpbk9yU2lnbnVwKHtcbiAgICAgICAgZW1haWxfYWRkcmVzczogZW1haWwsXG4gICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uX2lkLFxuICAgICAgICBsb2dpbl9yZWRpcmVjdF91cmw6IChfYSA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9naW5SZWRpcmVjdFVSTCxcbiAgICAgICAgc2lnbnVwX3JlZGlyZWN0X3VybDogKF9iID0gY29uZmlnLmVtYWlsTWFnaWNMaW5rc09wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zaWdudXBSZWRpcmVjdFVSTCxcbiAgICAgICAgbG9naW5fdGVtcGxhdGVfaWQ6IChfYyA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubG9naW5UZW1wbGF0ZUlkLFxuICAgICAgICBzaWdudXBfdGVtcGxhdGVfaWQ6IChfZCA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc2lnbnVwVGVtcGxhdGVJZFxuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnc2V0X21hZ2ljX2xpbmtfZW1haWwnLFxuICAgICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgICB9KTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5FbWFpbENvbmZpcm1hdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBzdHl0Y2hMb2dpbk9yU2lnbnVwID0gX3VzZU11dGF0ZTIudHJpZ2dlcixcbiAgICBlcnJvciA9IF91c2VNdXRhdGUyLmVycm9yLFxuICAgIGlzTXV0YXRpbmcgPSBfdXNlTXV0YXRlMi5pc011dGF0aW5nO1xuICB2YXIgb3JnYW5pemF0aW9uID0gc3RhdGUuZmxvd1N0YXRlLm9yZ2FuaXphdGlvbjtcbiAgaWYgKCFvcmdhbml6YXRpb24pIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCwgbnVsbCk7XG4gIHZhciBoYW5kbGVTdWJtaXQgPSBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHN0eXRjaExvZ2luT3JTaWdudXAoe1xuICAgICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTIpO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogOFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIG1pbkhlaWdodDogNTJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxJbnB1dCwge1xuICAgIGVtYWlsOiBlbWFpbCxcbiAgICBzZXRFbWFpbDogc2V0RW1haWxcbiAgfSksIGVycm9yICYmICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LCB7XG4gICAgZXJyb3JNZXNzYWdlOiBwYXJzZUVycm9yTWVzc2FnZShlcnJvciwge1xuICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgb3JnOiBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX25hbWVcbiAgICB9KVxuICB9KSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICBpc1N1Ym1pdHRpbmc6IGlzTXV0YXRpbmcsXG4gICAgdGV4dDogJ0NvbnRpbnVlIHdpdGggZW1haWwnXG4gIH0pKSk7XG59O1xudmFyIE1hZ2ljTGlua0VtYWlsRGlzY292ZXJ5Rm9ybSA9IGZ1bmN0aW9uIE1hZ2ljTGlua0VtYWlsRGlzY292ZXJ5Rm9ybSgpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyOSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjEwID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXI5LCAyKSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyMTBbMV07XG4gIHZhciBzdHl0Y2hDbGllbnQgPSB1c2VTdHl0Y2goKTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgX2gkMTUgPSBoJDEoJycpLFxuICAgIF9oJDE2ID0gX3NsaWNlZFRvQXJyYXkoX2gkMTUsIDIpLFxuICAgIGVtYWlsID0gX2gkMTZbMF0sXG4gICAgc2V0RW1haWwgPSBfaCQxNlsxXTtcbiAgdmFyIF91c2VNdXRhdGUzID0gdXNlTXV0YXRlKCdzdHl0Y2gubWFnaWNMaW5rcy5kaXNjb3Zlcnkuc2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICByZXR1cm4gc3R5dGNoQ2xpZW50Lm1hZ2ljTGlua3MuZW1haWwuZGlzY292ZXJ5LnNlbmQoe1xuICAgICAgICBlbWFpbF9hZGRyZXNzOiBlbWFpbCxcbiAgICAgICAgZGlzY292ZXJ5X3JlZGlyZWN0X3VybDogKF9hID0gY29uZmlnLmVtYWlsTWFnaWNMaW5rc09wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNjb3ZlcnlSZWRpcmVjdFVSTCxcbiAgICAgICAgbG9naW5fdGVtcGxhdGVfaWQ6IChfYiA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubG9naW5UZW1wbGF0ZUlkXG4gICAgICB9KTtcbiAgICB9LCB7XG4gICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdzZXRfbWFnaWNfbGlua19lbWFpbCcsXG4gICAgICAgICAgZW1haWw6IGVtYWlsXG4gICAgICAgIH0pO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ3RyYW5zaXRpb24nLFxuICAgICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLkVtYWlsQ29uZmlybWF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHN0eXRjaERpc2NvdmVyeVNlbmQgPSBfdXNlTXV0YXRlMy50cmlnZ2VyLFxuICAgIGVycm9yID0gX3VzZU11dGF0ZTMuZXJyb3IsXG4gICAgaXNNdXRhdGluZyA9IF91c2VNdXRhdGUzLmlzTXV0YXRpbmc7XG4gIHZhciBoYW5kbGVTdWJtaXQgPSBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHN0eXRjaERpc2NvdmVyeVNlbmQoKTtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImZvcm1cIiwge1xuICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDhcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBtaW5IZWlnaHQ6IDUyXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsSW5wdXQsIHtcbiAgICBlbWFpbDogZW1haWwsXG4gICAgc2V0RW1haWw6IHNldEVtYWlsXG4gIH0pLCBlcnJvciAmJiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclRleHQsIHtcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yLmVycm9yX21lc3NhZ2VcbiAgfSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICBpc1N1Ym1pdHRpbmc6IGlzTXV0YXRpbmcsXG4gICAgdGV4dDogJ0NvbnRpbnVlIHdpdGggZW1haWwnXG4gIH0pKSk7XG59O1xudmFyIFNTT0J1dHRvbiA9IGZ1bmN0aW9uIFNTT0J1dHRvbihfcmVmNDMpIHtcbiAgdmFyIGRpc3BsYXlfbmFtZSA9IF9yZWY0My5kaXNwbGF5X25hbWUsXG4gICAgY29ubmVjdGlvbl9pZCA9IF9yZWY0My5jb25uZWN0aW9uX2lkO1xuICB2YXIgc3R5dGNoQ2xpZW50ID0gdXNlU3R5dGNoKCk7XG4gIHZhciBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgdmFyIG9uQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkJ1dHRvbkNsaWNrKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIHN0eXRjaENsaWVudC5zc28uc3RhcnQoe1xuICAgICAgY29ubmVjdGlvbl9pZDogY29ubmVjdGlvbl9pZCxcbiAgICAgIHNpZ251cF9yZWRpcmVjdF91cmw6IChfYSA9IGNvbmZpZy5zc29PcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2lnbnVwUmVkaXJlY3RVUkwsXG4gICAgICBsb2dpbl9yZWRpcmVjdF91cmw6IChfYiA9IGNvbmZpZy5zc29PcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubG9naW5SZWRpcmVjdFVSTFxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3koQnV0dG9uLCB7XG4gICAgaWQ6IFwic3NvLVwiLmNvbmNhdChkaXNwbGF5X25hbWUpLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogb25CdXR0b25DbGljayxcbiAgICB2YXJpYW50OiBcIm91dGxpbmVkXCJcbiAgfSwgLyojX19QVVJFX18qL3koRmxleCwge1xuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgZ2FwOiA0XG4gIH0sIC8qI19fUFVSRV9fKi95KFwic3BhblwiLCB7XG4gICAgc3R5bGU6IHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG4gICAgfVxuICB9LCBcIkNvbnRpbnVlIHdpdGggXCIuY29uY2F0KGRpc3BsYXlfbmFtZSkpKSk7XG59O1xudmFyIFNTT0J1dHRvbnMgPSBmdW5jdGlvbiBTU09CdXR0b25zKCkge1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXIxMSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjEyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXIxMSwgMSksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjEyWzBdO1xuICBpZiAoIXN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24pIHJldHVybiAvKiNfX1BVUkVfXyoveShnJDEsIG51bGwpO1xuICByZXR1cm4gLyojX19QVVJFX18qL3koRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDgsXG4gICAgY2xhc3NOYW1lOiBcIm9hdXRoLWJ1dHRvbnNcIlxuICB9LCBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uLnNzb19hY3RpdmVfY29ubmVjdGlvbnMubWFwKGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyoveShTU09CdXR0b24sIHtcbiAgICAgIGtleTogXCJvYXV0aC1cIi5jb25jYXQocHJvdmlkZXIuZGlzcGxheV9uYW1lKSxcbiAgICAgIGRpc3BsYXlfbmFtZTogcHJvdmlkZXIuZGlzcGxheV9uYW1lLFxuICAgICAgY29ubmVjdGlvbl9pZDogcHJvdmlkZXIuY29ubmVjdGlvbl9pZFxuICAgIH0pO1xuICB9KSk7XG59O1xudmFyIERpdmlkZXJDb250YWluZXIgPSBIZShGbGV4KShfdGVtcGxhdGVPYmplY3QxNSB8fCAoX3RlbXBsYXRlT2JqZWN0MTUgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgY29sb3I6IFwiLCBcIjtcXG5cIl0pKSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuc2Vjb25kYXJ5O1xufSk7XG52YXIgRGl2aWRlckJhciA9IEhlLmRpdihfdGVtcGxhdGVPYmplY3QxNiB8fCAoX3RlbXBsYXRlT2JqZWN0MTYgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgXCIsIFwiXFxuICBcIiwgXCJcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBcIiwgXCI7XFxuICBmbGV4LWdyb3c6IDE7XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuJHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmICdtYXJnaW4tcmlnaHQ6IDZweDsnO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy4kcGxhY2VtZW50ID09PSAncmlnaHQnICYmICdtYXJnaW4tbGVmdDogNnB4Oyc7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5zZWNvbmRhcnk7XG59KTtcbnZhciBTdHlsZWRUZXh0ID0gSGUoVGV4dCkoX3RlbXBsYXRlT2JqZWN0MTcgfHwgKF90ZW1wbGF0ZU9iamVjdDE3ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGNvbG9yOiBcIiwgXCI7XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLnNlY29uZGFyeTtcbn0pO1xudmFyIERpdmlkZXIgPSBmdW5jdGlvbiBEaXZpZGVyKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlckNvbnRhaW5lciwge1xuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlckJhciwge1xuICAgIFwiJHBsYWNlbWVudFwiOiBcImxlZnRcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGV4dCwgbnVsbCwgXCJvclwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlckJhciwge1xuICAgIFwiJHBsYWNlbWVudFwiOiBcInJpZ2h0XCJcbiAgfSkpO1xufTtcbnZhciBQYXNzd29yZEljb25TdmcgPSBmdW5jdGlvbiBQYXNzd29yZEljb25TdmcoX3JlZjQ0KSB7XG4gIHZhciBfcmVmNDQkZW5hYmxlZCA9IF9yZWY0NC5lbmFibGVkLFxuICAgIGVuYWJsZWQgPSBfcmVmNDQkZW5hYmxlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNDQkZW5hYmxlZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogXCIyMFwiLFxuICAgIGhlaWdodDogXCIxNFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDIwIDE0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTkuOTk5OTIgMi40MTY2N0MxMy4xNTgzIDIuNDE2NjcgMTUuOTc0OSA0LjE5MTY3IDE3LjM0OTkgN0MxNS45NzQ5IDkuODA4MzMgMTMuMTU4MyAxMS41ODMzIDkuOTk5OTIgMTEuNTgzM0M2Ljg0MTU4IDExLjU4MzMgNC4wMjQ5MiA5LjgwODMzIDIuNjQ5OTIgN0M0LjAyNDkyIDQuMTkxNjcgNi44NDE1OCAyLjQxNjY3IDkuOTk5OTIgMi40MTY2N1pNOS45OTk5MiAwLjc1QzUuODMzMjUgMC43NSAyLjI3NDkyIDMuMzQxNjcgMC44MzMyNTIgN0MyLjI3NDkyIDEwLjY1ODMgNS44MzMyNSAxMy4yNSA5Ljk5OTkyIDEzLjI1QzE0LjE2NjYgMTMuMjUgMTcuNzI0OSAxMC42NTgzIDE5LjE2NjYgN0MxNy43MjQ5IDMuMzQxNjcgMTQuMTY2NiAwLjc1IDkuOTk5OTIgMC43NVpNOS45OTk5MiA0LjkxNjY3QzExLjE0OTkgNC45MTY2NyAxMi4wODMzIDUuODUgMTIuMDgzMyA3QzEyLjA4MzMgOC4xNSAxMS4xNDk5IDkuMDgzMzMgOS45OTk5MiA5LjA4MzMzQzguODQ5OTIgOS4wODMzMyA3LjkxNjU4IDguMTUgNy45MTY1OCA3QzcuOTE2NTggNS44NSA4Ljg0OTkyIDQuOTE2NjcgOS45OTk5MiA0LjkxNjY3Wk05Ljk5OTkyIDMuMjVDNy45MzMyNSAzLjI1IDYuMjQ5OTIgNC45MzMzMyA2LjI0OTkyIDdDNi4yNDk5MiA5LjA2NjY3IDcuOTMzMjUgMTAuNzUgOS45OTk5MiAxMC43NUMxMi4wNjY2IDEwLjc1IDEzLjc0OTkgOS4wNjY2NyAxMy43NDk5IDdDMTMuNzQ5OSA0LjkzMzMzIDEyLjA2NjYgMy4yNSA5Ljk5OTkyIDMuMjVaXCIsXG4gICAgZmlsbDogZW5hYmxlZCA/ICcjMTkzMDNEJyA6ICcjNUM3MjdEJ1xuICB9KSk7XG59O1xudmFyIFBhc3N3b3JkSWNvblZpc2libGVTdmcgPSBmdW5jdGlvbiBQYXNzd29yZEljb25WaXNpYmxlU3ZnKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHdpZHRoOiBcIjIwXCIsXG4gICAgaGVpZ2h0OiBcIjE2XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjAgMTZcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTAuMDAwMiAyLjk3OTIxQzEzLjE1ODUgMi45NzkyMSAxNS45NzUyIDQuNzU0MjEgMTcuMzUwMiA3LjU2MjU0QzE2Ljg1ODUgOC41NzkyMSAxNi4xNjY4IDkuNDU0MjEgMTUuMzQxOCAxMC4xNjI1TDE2LjUxNjggMTEuMzM3NUMxNy42NzUyIDEwLjMxMjUgMTguNTkxOCA5LjAyOTIxIDE5LjE2NjggNy41NjI1NEMxNy43MjUyIDMuOTA0MjEgMTQuMTY2OCAxLjMxMjU0IDEwLjAwMDIgMS4zMTI1NEM4Ljk0MTgzIDEuMzEyNTQgNy45MjUxNiAxLjQ3OTIxIDYuOTY2ODMgMS43ODc1NEw4LjM0MTgzIDMuMTYyNTRDOC44ODM1IDMuMDU0MjEgOS40MzM1IDIuOTc5MjEgMTAuMDAwMiAyLjk3OTIxWk05LjEwODUgMy45MjkyMUwxMC44MzM1IDUuNjU0MjFDMTEuMzA4NSA1Ljg2MjU0IDExLjY5MTggNi4yNDU4NyAxMS45MDAyIDYuNzIwODdMMTMuNjI1MiA4LjQ0NTg3QzEzLjY5MTggOC4xNjI1NCAxMy43NDE4IDcuODYyNTQgMTMuNzQxOCA3LjU1NDIxQzEzLjc1MDIgNS40ODc1NCAxMi4wNjY4IDMuODEyNTQgMTAuMDAwMiAzLjgxMjU0QzkuNjkxODMgMy44MTI1NCA5LjQwMDE2IDMuODU0MjEgOS4xMDg1IDMuOTI5MjFaTTEuNjc1MTYgMS4yMDQyMUwzLjkwODUgMy40Mzc1NEMyLjU1MDE2IDQuNTA0MjEgMS40NzUxNiA1LjkyMDg3IDAuODMzNDk2IDcuNTYyNTRDMi4yNzUxNiAxMS4yMjA5IDUuODMzNSAxMy44MTI1IDEwLjAwMDIgMTMuODEyNUMxMS4yNjY4IDEzLjgxMjUgMTIuNDgzNSAxMy41NzA5IDEzLjYwMDIgMTMuMTI5MkwxNi40NTAyIDE1Ljk3OTJMMTcuNjI1MiAxNC44MDQyTDIuODUwMTYgMC4wMjA4NzRMMS42NzUxNiAxLjIwNDIxWk03LjkyNTE2IDcuNDU0MjFMMTAuMTAwMiA5LjYyOTIxQzEwLjA2NjggOS42Mzc1NCAxMC4wMzM1IDkuNjQ1ODcgMTAuMDAwMiA5LjY0NTg3QzguODUwMTYgOS42NDU4NyA3LjkxNjgzIDguNzEyNTQgNy45MTY4MyA3LjU2MjU0QzcuOTE2ODMgNy41MjA4NyA3LjkyNTE2IDcuNDk1ODcgNy45MjUxNiA3LjQ1NDIxWk01LjA5MTgzIDQuNjIwODdMNi41NTAxNiA2LjA3OTIxQzYuMzU4NSA2LjUzNzU0IDYuMjUwMTYgNy4wMzc1NCA2LjI1MDE2IDcuNTYyNTRDNi4yNTAxNiA5LjYyOTIxIDcuOTMzNSAxMS4zMTI1IDEwLjAwMDIgMTEuMzEyNUMxMC41MjUyIDExLjMxMjUgMTEuMDI1MiAxMS4yMDQyIDExLjQ3NTIgMTEuMDEyNUwxMi4yOTE4IDExLjgyOTJDMTEuNTU4NSAxMi4wMjkyIDEwLjc5MTggMTIuMTQ1OSAxMC4wMDAyIDEyLjE0NTlDNi44NDE4MyAxMi4xNDU5IDQuMDI1MTYgMTAuMzcwOSAyLjY1MDE2IDcuNTYyNTRDMy4yMzM1IDYuMzcwODcgNC4wODM1IDUuMzg3NTQgNS4wOTE4MyA0LjYyMDg3WlwiLFxuICAgIGZpbGw6IFwiIzE5MzAzRFwiXG4gIH0pKTtcbn07XG52YXIgQmFzZUlucHV0ID0gSGUuaW5wdXQoX3RlbXBsYXRlT2JqZWN0MTggfHwgKF90ZW1wbGF0ZU9iamVjdDE4ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGJvcmRlcjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICB3aWR0aDogMTAwJTtcXG5cXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgaGVpZ2h0OiA0NXB4O1xcbiAgY29sb3I6IFwiLCBcIjtcXG4gIGZvbnQtZmFtaWx5OiBcIiwgXCI7XFxuICBmb250LXNpemU6IDE4cHg7XFxuXFxuICAmOjpwbGFjZWhvbGRlcjoge1xcbiAgICBjb2xvcjogXCIsIFwiO1xcbiAgfVxcblxcbiAgJjpkaXNhYmxlZCB7XFxuICAgIGNvbG9yOiBcIiwgXCI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLCBcIjtcXG4gIH1cXG5cXG4gICY6Zm9jdXMge1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgfVxcblwiXSkpLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy50ZXh0Q29sb3I7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLnR5cG9ncmFwaHkuZm9udEZhbWlseTtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLnBsYWNlaG9sZGVyQ29sb3I7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5kaXNhYmxlZFRleHQ7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5kaXNhYmxlZDtcbn0pO1xudmFyIElucHV0Q29udGFpbmVyID0gSGUoRmxleCkoX3RlbXBsYXRlT2JqZWN0MTkgfHwgKF90ZW1wbGF0ZU9iamVjdDE5ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGJhY2tncm91bmQtY29sb3I6IFwiLCBcIjtcXG4gIGhlaWdodDogNDVweDtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgXCIsIFwiO1xcbiAgYm9yZGVyLXJhZGl1czogXCIsIFwiO1xcbiAgY29sb3I6IFwiLCBcIjtcXG4gIGZvbnQtZmFtaWx5OiBcIiwgXCI7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICB3aWR0aDogY2FsYygxMDAlIC0gMThweCk7XFxuICAmIGlucHV0OjpwbGFjZWhvbGRlcjoge1xcbiAgICBjb2xvcjogXCIsIFwiO1xcbiAgfVxcblwiXSkpLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5iYWNrZ3JvdW5kQ29sb3I7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5ib3JkZXJDb2xvcjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJvcmRlclJhZGl1cztcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLnRleHRDb2xvcjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5O1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5pbnB1dHMucGxhY2Vob2xkZXJDb2xvcjtcbn0pO1xudmFyIFBhc3N3b3JkSWNvbkJ1dHRvbiA9IEhlLmJ1dHRvbihfdGVtcGxhdGVPYmplY3QyMCB8fCAoX3RlbXBsYXRlT2JqZWN0MjAgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG5cIl0pKSk7XG52YXIgUGFzc3dvcmRJY29uID0gZnVuY3Rpb24gUGFzc3dvcmRJY29uKF9yZWY0NSkge1xuICB2YXIgb25DbGljayA9IF9yZWY0NS5vbkNsaWNrLFxuICAgIGVuYWJsZWQgPSBfcmVmNDUuZW5hYmxlZCxcbiAgICB2aXNpYmxlID0gX3JlZjQ1LnZpc2libGU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZEljb25CdXR0b24sIHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgdmlzaWJsZSA/IC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkSWNvblZpc2libGVTdmcsIG51bGwpIDogLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRJY29uU3ZnLCB7XG4gICAgZW5hYmxlZDogZW5hYmxlZFxuICB9KSk7XG59O1xudmFyIFBhc3N3b3JkSW5wdXQgPSBmdW5jdGlvbiBQYXNzd29yZElucHV0KF9yZWY0Nikge1xuICB2YXIgcGFzc3dvcmQgPSBfcmVmNDYucGFzc3dvcmQsXG4gICAgc2V0UGFzc3dvcmQgPSBfcmVmNDYuc2V0UGFzc3dvcmQsXG4gICAgdHlwZSA9IF9yZWY0Ni50eXBlO1xuICB2YXIgX2gkMTcgPSBoJDEoZmFsc2UpLFxuICAgIF9oJDE4ID0gX3NsaWNlZFRvQXJyYXkoX2gkMTcsIDIpLFxuICAgIHZpc2libGUgPSBfaCQxOFswXSxcbiAgICBzZXRWaXNpYmxlID0gX2gkMThbMV07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbnB1dENvbnRhaW5lciwge1xuICAgIGdhcDogMixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhc2VJbnB1dCwge1xuICAgIG5hbWU6IFwicGFzc3dvcmRcIixcbiAgICBcImFyaWEtbGFiZWxcIjogXCJQYXNzd29yZFwiLFxuICAgIGlkOiBcIlwiLmNvbmNhdCh0eXBlLCBcIi1wYXNzd29yZFwiKSxcbiAgICBhdXRvQ29tcGxldGU6IFwiXCIuY29uY2F0KHR5cGUsIFwiLXBhc3N3b3JkXCIpLFxuICAgIHR5cGU6IHZpc2libGUgPyAndGV4dCcgOiAncGFzc3dvcmQnLFxuICAgIHZhbHVlOiBwYXNzd29yZCxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgcmV0dXJuIHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9LFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZEljb24sIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldFZpc2libGUoZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuICF2aXNpYmxlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBlbmFibGVkOiAhIXBhc3N3b3JkLFxuICAgIHZpc2libGU6IHZpc2libGVcbiAgfSkpO1xufTtcbnZhciBCYWNrQnV0dG9uID0gSGUuYnV0dG9uKF90ZW1wbGF0ZU9iamVjdDIxIHx8IChfdGVtcGxhdGVPYmplY3QyMSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBhbGw6IHVuc2V0O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcblwiXSkpKTtcbnZhciBCYWNrQXJyb3dTdmcgPSBmdW5jdGlvbiBCYWNrQXJyb3dTdmcoX3JlZjQ3KSB7XG4gIHZhciBjb2xvciA9IF9yZWY0Ny5jb2xvcjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogXCIyNFwiLFxuICAgIGhlaWdodDogXCIyNFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTIwIDExSDcuODNMMTMuNDIgNS40MUwxMiA0TDQgMTJMMTIgMjBMMTMuNDEgMTguNTlMNy44MyAxM0gyMFYxMVpcIixcbiAgICBmaWxsOiBjb2xvclxuICB9KSk7XG59O1xudmFyIEJhY2tBcnJvdyA9IGZ1bmN0aW9uIEJhY2tBcnJvdyhfcmVmNDgpIHtcbiAgdmFyIG9uQ2xpY2sgPSBfcmVmNDgub25DbGljaztcbiAgdmFyIHRoZW1lID0gWmUoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiQmFja1wiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tBcnJvd1N2Zywge1xuICAgIGNvbG9yOiB0aGVtZS5jb2xvcnMucHJpbWFyeVxuICB9KSk7XG59O1xudmFyIEdldEhlbHBUZXh0ID0gSGUoVGV4dCkoX3RlbXBsYXRlT2JqZWN0MjIgfHwgKF90ZW1wbGF0ZU9iamVjdDIyID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuXCJdKSkpO1xudmFyIFBhc3N3b3Jkc0F1dGhlbnRpY2F0ZSA9IGZ1bmN0aW9uIFBhc3N3b3Jkc0F1dGhlbnRpY2F0ZSgpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMTMgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXIxNCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyMTMsIDIpLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXIxNFsxXTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgcGFzc3dvcmRPcHRpb25zID0gY29uZmlnLnBhc3N3b3JkT3B0aW9ucztcbiAgdmFyIF91c2VQYXNzd29yZElucHV0ID0gdXNlUGFzc3dvcmRJbnB1dCgpLFxuICAgIGVtYWlsID0gX3VzZVBhc3N3b3JkSW5wdXQuZW1haWwsXG4gICAgc2V0RW1haWwgPSBfdXNlUGFzc3dvcmRJbnB1dC5zZXRFbWFpbCxcbiAgICBwYXNzd29yZCA9IF91c2VQYXNzd29yZElucHV0LnBhc3N3b3JkLFxuICAgIHNldFBhc3N3b3JkID0gX3VzZVBhc3N3b3JkSW5wdXQuc2V0UGFzc3dvcmQsXG4gICAgb3JnYW5pemF0aW9uID0gX3VzZVBhc3N3b3JkSW5wdXQub3JnYW5pemF0aW9uLFxuICAgIGVycm9yTWVzc2FnZSA9IF91c2VQYXNzd29yZElucHV0LmVycm9yTWVzc2FnZSxcbiAgICBzZXRFcnJvck1lc3NhZ2UgPSBfdXNlUGFzc3dvcmRJbnB1dC5zZXRFcnJvck1lc3NhZ2UsXG4gICAgaXNTdWJtaXR0aW5nID0gX3VzZVBhc3N3b3JkSW5wdXQuaXNTdWJtaXR0aW5nLFxuICAgIHN1Ym1pdFBhc3N3b3JkID0gX3VzZVBhc3N3b3JkSW5wdXQuc3VibWl0UGFzc3dvcmQ7XG4gIGlmICghcGFzc3dvcmRPcHRpb25zKSByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwpO1xuICBpZiAoIW9yZ2FuaXphdGlvbikgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsKTtcbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKG9yZ2FuaXphdGlvbikge1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIik7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgaWYgKCFlbWFpbC5tYXRjaChFTUFJTF9SRUdFWCkpIHtcbiAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN1Ym1pdFBhc3N3b3JkKG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTQpO1xuICAgIH0pKTtcbiAgfTtcbiAgdmFyIG9uR2V0SGVscCA9IGZ1bmN0aW9uIG9uR2V0SGVscCgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnc2V0X3Bhc3N3b3JkX3N0YXRlJyxcbiAgICAgIGVtYWlsOiBlbWFpbFxuICAgIH0pO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlBhc3N3b3JkRm9yZ290Rm9ybVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI4XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tBcnJvdywge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLk1haW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiTG9nIGluIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImZvcm1cIiwge1xuICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDhcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHNpemU6IFwiaGVscGVyXCIsXG4gICAgY29sb3I6IFwic2Vjb25kYXJ5XCJcbiAgfSwgXCJFbWFpbFwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxJbnB1dCwge1xuICAgIGVtYWlsOiBlbWFpbCxcbiAgICBzZXRFbWFpbDogc2V0RW1haWxcbiAgfSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIlBhc3N3b3JkXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZElucHV0LCB7XG4gICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgIHNldFBhc3N3b3JkOiBzZXRQYXNzd29yZCxcbiAgICB0eXBlOiBcImN1cnJlbnRcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LCB7XG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgfSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICBpc1N1Ym1pdHRpbmc6IGlzU3VibWl0dGluZyxcbiAgICB0ZXh0OiBcIkNvbnRpbnVlXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBvbkNsaWNrOiBvbkdldEhlbHAsXG4gICAgZGlyZWN0aW9uOiBcInJvd1wiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIkhhdmluZyB0cm91YmxlIHNpZ25pbmcgaW4/XCIpLCBcIlxceEEwXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEdldEhlbHBUZXh0LCB7XG4gICAgY29sb3I6IFwic2Vjb25kYXJ5XCJcbiAgfSwgXCJHZXQgaGVscFwiKSkpKSk7XG59O1xudmFyIFBhc3N3b3Jkc0VtYWlsRm9ybSA9IGZ1bmN0aW9uIFBhc3N3b3Jkc0VtYWlsRm9ybSgpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMTUgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXIxNiA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyMTUsIDIpLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXIxNlsxXTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgcGFzc3dvcmRPcHRpb25zID0gY29uZmlnLnBhc3N3b3JkT3B0aW9ucztcbiAgdmFyIF91c2VQYXNzd29yZElucHV0MiA9IHVzZVBhc3N3b3JkSW5wdXQoKSxcbiAgICBzdHl0Y2ggPSBfdXNlUGFzc3dvcmRJbnB1dDIuc3R5dGNoLFxuICAgIGVtYWlsID0gX3VzZVBhc3N3b3JkSW5wdXQyLmVtYWlsLFxuICAgIHNldEVtYWlsID0gX3VzZVBhc3N3b3JkSW5wdXQyLnNldEVtYWlsLFxuICAgIHBhc3N3b3JkID0gX3VzZVBhc3N3b3JkSW5wdXQyLnBhc3N3b3JkLFxuICAgIHNldFBhc3N3b3JkID0gX3VzZVBhc3N3b3JkSW5wdXQyLnNldFBhc3N3b3JkLFxuICAgIG9yZ2FuaXphdGlvbiA9IF91c2VQYXNzd29yZElucHV0Mi5vcmdhbml6YXRpb24sXG4gICAgZXJyb3JNZXNzYWdlID0gX3VzZVBhc3N3b3JkSW5wdXQyLmVycm9yTWVzc2FnZSxcbiAgICBzZXRFcnJvck1lc3NhZ2UgPSBfdXNlUGFzc3dvcmRJbnB1dDIuc2V0RXJyb3JNZXNzYWdlLFxuICAgIGlzU3VibWl0dGluZyA9IF91c2VQYXNzd29yZElucHV0Mi5pc1N1Ym1pdHRpbmcsXG4gICAgc2V0SXNTdWJtaXR0aW5nID0gX3VzZVBhc3N3b3JkSW5wdXQyLnNldElzU3VibWl0dGluZyxcbiAgICBzdWJtaXRQYXNzd29yZCA9IF91c2VQYXNzd29yZElucHV0Mi5zdWJtaXRQYXNzd29yZCxcbiAgICBoYW5kbGVOb25NZW1iZXJSZXNldCA9IF91c2VQYXNzd29yZElucHV0Mi5oYW5kbGVOb25NZW1iZXJSZXNldDtcbiAgdmFyIF9oJDE5ID0gaCQxKCFlbWFpbCksXG4gICAgX2gkMjAgPSBfc2xpY2VkVG9BcnJheShfaCQxOSwgMiksXG4gICAgaGlkZUlucHV0ID0gX2gkMjBbMF0sXG4gICAgc2V0SGlkZUlucHV0ID0gX2gkMjBbMV07XG4gIGlmICghcGFzc3dvcmRPcHRpb25zKSByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwpO1xuICBpZiAoIW9yZ2FuaXphdGlvbikgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsKTtcbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgICB2YXIgb3JnYW5pemF0aW9uX2lkO1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZCA9IG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWQ7XG4gICAgICAgICAgICBpZiAoaGlkZUlucHV0KSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJtaXRQYXNzd29yZChvcmdhbml6YXRpb25faWQpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIik7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgaWYgKGVtYWlsLm1hdGNoKEVNQUlMX1JFR0VYKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgICAgICAgICByZWFkQjJCSW50ZXJuYWxzKHN0eXRjaCkuc2VhcmNoTWFuYWdlci5zZWFyY2hNZW1iZXIoZW1haWwsIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWQpLnRoZW4oZnVuY3Rpb24gKF9yZWY0OSkge1xuICAgICAgICAgICAgICB2YXIgbWVtYmVyID0gX3JlZjQ5Lm1lbWJlcjtcbiAgICAgICAgICAgICAgaWYgKG1lbWJlciA9PT0gbnVsbCB8fCBtZW1iZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lbWJlci5tZW1iZXJfcGFzc3dvcmRfaWQpIHtcbiAgICAgICAgICAgICAgICBzZXRIaWRlSW5wdXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3NldF9wYXNzd29yZF9zdGF0ZScsXG4gICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlTm9uTWVtYmVyUmVzZXQoKTtcbiAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgU3R5dGNoQVBJRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZXJyLmVycm9yX21lc3NhZ2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTUpO1xuICAgIH0pKTtcbiAgfTtcbiAgdmFyIG9uR2V0SGVscCA9IGZ1bmN0aW9uIG9uR2V0SGVscCgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnc2V0X3Bhc3N3b3JkX3N0YXRlJyxcbiAgICAgIGVtYWlsOiBlbWFpbFxuICAgIH0pO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlBhc3N3b3JkRm9yZ290Rm9ybVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDM2XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogOFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIkVtYWlsXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFbWFpbElucHV0LCB7XG4gICAgZW1haWw6IGVtYWlsLFxuICAgIHNldEVtYWlsOiBzZXRFbWFpbFxuICB9KSksICFoaWRlSW5wdXQgJiYgKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIlBhc3N3b3JkXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZElucHV0LCB7XG4gICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgIHNldFBhc3N3b3JkOiBzZXRQYXNzd29yZCxcbiAgICB0eXBlOiBcImN1cnJlbnRcIlxuICB9KSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclRleHQsIHtcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgaXNTdWJtaXR0aW5nOiBpc1N1Ym1pdHRpbmcsXG4gICAgdGV4dDogXCJDb250aW51ZVwiXG4gIH0pLCAhaGlkZUlucHV0ICYmICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIG9uQ2xpY2s6IG9uR2V0SGVscCxcbiAgICBkaXJlY3Rpb246IFwicm93XCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIGNvbG9yOiBcInNlY29uZGFyeVwiXG4gIH0sIFwiSGF2aW5nIHRyb3VibGUgc2lnbmluZyBpbj9cIiksIFwiXFx4QTBcIiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2V0SGVscFRleHQsIHtcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIkdldCBoZWxwXCIpKSkpKSk7XG59O1xudmFyIE9BdXRoQjJCQnV0dG9uID0gZnVuY3Rpb24gT0F1dGhCMkJCdXR0b24ocHJvcHMpIHtcbiAgdmFyIHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXIxNyA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjE4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXIxNywgMSksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjE4WzBdO1xuICB2YXIgb25CdXR0b25DbGljayA9IGZ1bmN0aW9uIG9uQnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24pIHtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQub2F1dGhbcHJvcHMucHJvdmlkZXJUeXBlXS5zdGFydCh7XG4gICAgICAgIGxvZ2luX3JlZGlyZWN0X3VybDogcHJvcHMubG9naW5SZWRpcmVjdFVybCxcbiAgICAgICAgc2lnbnVwX3JlZGlyZWN0X3VybDogcHJvcHMuc2lnbnVwUmVkaXJlY3RVcmwsXG4gICAgICAgIGN1c3RvbV9zY29wZXM6IHByb3BzLmN1c3RvbVNjb3BlcyxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl9pZCxcbiAgICAgICAgcHJvdmlkZXJfcGFyYW1zOiBwcm9wcy5wcm92aWRlclBhcmFtc1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzdHl0Y2hDbGllbnQub2F1dGhbcHJvcHMucHJvdmlkZXJUeXBlXS5kaXNjb3Zlcnkuc3RhcnQoe1xuICAgICAgZGlzY292ZXJ5X3JlZGlyZWN0X3VybDogcHJvcHMuZGlzY292ZXJ5UmVkaXJlY3RVcmwsXG4gICAgICBjdXN0b21fc2NvcGVzOiBwcm9wcy5jdXN0b21TY29wZXMsXG4gICAgICBwcm92aWRlcl9wYXJhbXM6IHByb3BzLnByb3ZpZGVyUGFyYW1zXG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICBpZDogXCJvYXV0aC1cIi5jb25jYXQocHJvcHMucHJvdmlkZXJUeXBlKSxcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IG9uQnV0dG9uQ2xpY2ssXG4gICAgdmFyaWFudDogXCJvdXRsaW5lZFwiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGdhcDogNFxuICB9LCBwcm9wcy5pY29uLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHN0eWxlOiB7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJ1xuICAgIH1cbiAgfSwgXCJDb250aW51ZSB3aXRoIFwiLCBwcm9wcy5wcm92aWRlclR5cGVUaXRsZSkpKTtcbn07XG52YXIgQ3JlYXRlSWNvbiA9IGZ1bmN0aW9uIENyZWF0ZUljb24oSWNvblN2Z0NvbXBvbmVudCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgIHdyYXBwZWQ6IHRydWVcbiAgfTtcbiAgdmFyIEljb25Db21wb25lbnQgPSBmdW5jdGlvbiBJY29uQ29tcG9uZW50KCkge1xuICAgIHZhciBjb21wb25lbnQgPSAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJY29uU3ZnQ29tcG9uZW50LCBudWxsKTtcbiAgICByZXR1cm4gb3B0aW9ucy53cmFwcGVkID8gKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgICBoZWlnaHQ6IDI0LFxuICAgICAgd2lkdGg6IDI0XG4gICAgfSwgY29tcG9uZW50KSkgOiBjb21wb25lbnQ7XG4gIH07XG4gIHJldHVybiBJY29uQ29tcG9uZW50O1xufTtcbnZhciBHb29nbGVJY29uU3ZnID0gZnVuY3Rpb24gR29vZ2xlSWNvblN2ZygpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiNGRkMxMDdcIixcbiAgICBkOiBcIk00My42MTEsMjAuMDgzSDQyVjIwSDI0djhoMTEuMzAzYy0xLjY0OSw0LjY1Ny02LjA4LDgtMTEuMzAzLDhjLTYuNjI3LDAtMTItNS4zNzMtMTItMTJjMC02LjYyNyw1LjM3My0xMiwxMi0xMmMzLjA1OSwwLDUuODQyLDEuMTU0LDcuOTYxLDMuMDM5bDUuNjU3LTUuNjU3QzM0LjA0Niw2LjA1MywyOS4yNjgsNCwyNCw0QzEyLjk1NSw0LDQsMTIuOTU1LDQsMjRjMCwxMS4wNDUsOC45NTUsMjAsMjAsMjBjMTEuMDQ1LDAsMjAtOC45NTUsMjAtMjBDNDQsMjIuNjU5LDQzLjg2MiwyMS4zNSw0My42MTEsMjAuMDgzelwiXG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiI0ZGM0QwMFwiLFxuICAgIGQ6IFwiTTYuMzA2LDE0LjY5MWw2LjU3MSw0LjgxOUMxNC42NTUsMTUuMTA4LDE4Ljk2MSwxMiwyNCwxMmMzLjA1OSwwLDUuODQyLDEuMTU0LDcuOTYxLDMuMDM5bDUuNjU3LTUuNjU3QzM0LjA0Niw2LjA1MywyOS4yNjgsNCwyNCw0QzE2LjMxOCw0LDkuNjU2LDguMzM3LDYuMzA2LDE0LjY5MXpcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiM0Q0FGNTBcIixcbiAgICBkOiBcIk0yNCw0NGM1LjE2NiwwLDkuODYtMS45NzcsMTMuNDA5LTUuMTkybC02LjE5LTUuMjM4QzI5LjIxMSwzNS4wOTEsMjYuNzE1LDM2LDI0LDM2Yy01LjIwMiwwLTkuNjE5LTMuMzE3LTExLjI4My03Ljk0NmwtNi41MjIsNS4wMjVDOS41MDUsMzkuNTU2LDE2LjIyNyw0NCwyNCw0NHpcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiMxOTc2RDJcIixcbiAgICBkOiBcIk00My42MTEsMjAuMDgzSDQyVjIwSDI0djhoMTEuMzAzYy0wLjc5MiwyLjIzNy0yLjIzMSw0LjE2Ni00LjA4Nyw1LjU3MWMwLjAwMS0wLjAwMSwwLjAwMi0wLjAwMSwwLjAwMy0wLjAwMmw2LjE5LDUuMjM4QzM2Ljk3MSwzOS4yMDUsNDQsMzQsNDQsMjRDNDQsMjIuNjU5LDQzLjg2MiwyMS4zNSw0My42MTEsMjAuMDgzelwiXG4gIH0pKTtcbn07XG52YXIgR29vZ2xlSWNvbiA9IENyZWF0ZUljb24oR29vZ2xlSWNvblN2Zyk7XG52YXIgTWljcm9zb2Z0SWNvblN2ZyA9IGZ1bmN0aW9uIE1pY3Jvc29mdEljb25TdmcoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNOS41MjM4MiAwLjk1MjM4MUgwLjk1MjM5M1Y5LjUyMzgxSDkuNTIzODJWMC45NTIzODFaXCIsXG4gICAgZmlsbDogXCIjRjI1MDIyXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNOS41MjM4MiAxMC40NzYySDAuOTUyMzkzVjE5LjA0NzZIOS41MjM4MlYxMC40NzYyWlwiLFxuICAgIGZpbGw6IFwiIzAwQTRFRlwiXG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE5LjA0NzUgMC45NTIzODFIMTAuNDc2MVY5LjUyMzgxSDE5LjA0NzVWMC45NTIzODFaXCIsXG4gICAgZmlsbDogXCIjN0ZCQTAwXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTkuMDQ3NSAxMC40NzYySDEwLjQ3NjFWMTkuMDQ3NkgxOS4wNDc1VjEwLjQ3NjJaXCIsXG4gICAgZmlsbDogXCIjRkZCOTAwXCJcbiAgfSkpO1xufTtcbnZhciBNaWNyb3NvZnRJY29uID0gQ3JlYXRlSWNvbihNaWNyb3NvZnRJY29uU3ZnKTtcbnZhciBnZXRQYXJhbXNGcm9tQjJCT0F1dGhQcm92aWRlckNvbmZpZyA9IGZ1bmN0aW9uIGdldFBhcmFtc0Zyb21CMkJPQXV0aFByb3ZpZGVyQ29uZmlnKHByb3ZpZGVyKSB7XG4gIHZhciBwcm92aWRlclR5cGUgPSAnJztcbiAgdmFyIG9uZVRhcCA9IGZhbHNlO1xuICB2YXIgY3VzdG9tU2NvcGVzID0gW107XG4gIHZhciBwcm92aWRlclBhcmFtcyA9IHt9O1xuICBpZiAodHlwZW9mIHByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgIHByb3ZpZGVyVHlwZSA9IHByb3ZpZGVyO1xuICB9IGVsc2Uge1xuICAgIHByb3ZpZGVyVHlwZSA9IHByb3ZpZGVyLnR5cGU7XG4gICAgaWYgKHByb3ZpZGVyLnR5cGUgPT09IEIyQk9BdXRoUHJvdmlkZXJzLkdvb2dsZSAmJiAnb25lX3RhcCcgaW4gcHJvdmlkZXIpIHtcbiAgICAgIG9uZVRhcCA9IHByb3ZpZGVyLm9uZV90YXA7XG4gICAgfVxuICAgIGN1c3RvbVNjb3BlcyA9IHByb3ZpZGVyLmN1c3RvbVNjb3BlcyB8fCBbXTtcbiAgICBwcm92aWRlclBhcmFtcyA9IHByb3ZpZGVyLnByb3ZpZGVyUGFyYW1zIHx8IHt9O1xuICB9XG4gIHZhciBvYXV0aFByb3ZpZGVyID0gcHJvdmlkZXJUeXBlO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IG9hdXRoUHJvdmlkZXIsXG4gICAgb25lVGFwOiBvbmVUYXAsXG4gICAgY3VzdG9tU2NvcGVzOiBjdXN0b21TY29wZXMsXG4gICAgcHJvdmlkZXJQYXJhbXM6IHByb3ZpZGVyUGFyYW1zXG4gIH07XG59O1xudmFyIHVzZUlzT25seUZsb2F0aW5nT25lVGFwID0gZnVuY3Rpb24gdXNlSXNPbmx5RmxvYXRpbmdPbmVUYXAoKSB7XG4gIHZhciBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgdmFyIGlzT25seUZsb2F0aW5nT25lVGFwID0gRihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB2YXIgb2F1dGhQcm92aWRlciA9IGNvbmZpZy5vYXV0aE9wdGlvbnMgPyBnZXRQYXJhbXNGcm9tQjJCT0F1dGhQcm92aWRlckNvbmZpZygoX2EgPSBjb25maWcub2F1dGhPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvdmlkZXJzWzBdKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaXNHb29nbGVPbmVUYXAgPSAob2F1dGhQcm92aWRlciA9PT0gbnVsbCB8fCBvYXV0aFByb3ZpZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYXV0aFByb3ZpZGVyLnR5cGUpID09PSBCMkJPQXV0aFByb3ZpZGVycy5Hb29nbGUgJiYgKG9hdXRoUHJvdmlkZXIgPT09IG51bGwgfHwgb2F1dGhQcm92aWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2F1dGhQcm92aWRlci5vbmVUYXApID09PSB0cnVlO1xuICAgIHJldHVybiBjb25maWcucHJvZHVjdHMubGVuZ3RoID09PSAxICYmIGNvbmZpZy5wcm9kdWN0cy5pbmNsdWRlcyhCMkJQcm9kdWN0cy5vYXV0aCkgJiYgKChfYiA9IGNvbmZpZy5vYXV0aE9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wcm92aWRlcnMubGVuZ3RoKSA9PT0gMSAmJiBpc0dvb2dsZU9uZVRhcDtcbiAgfSwgW2NvbmZpZ10pO1xuICByZXR1cm4gaXNPbmx5RmxvYXRpbmdPbmVUYXA7XG59O1xudmFyIHVzZUlzVW5tb3VudGVkID0gZnVuY3Rpb24gdXNlSXNVbm1vdW50ZWQoKSB7XG4gIHZhciBpc1VubW91bnRlZCA9IF8oZmFsc2UpO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc1VubW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBpc1VubW91bnRlZDtcbn07XG52YXIgT0F1dGhFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiBPQXV0aEVycm9yTWVzc2FnZShfcmVmNTApIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjUwLmNoaWxkcmVuO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogXCJvYXV0aC1lcnJvci1tZXNzYWdlXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIGNvbG9yOiBcImVycm9yXCJcbiAgfSwgY2hpbGRyZW4pKTtcbn07XG52YXIgT25lVGFwTm9Db25maWd1cmVkQ2xpZW50c0Vycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIE9uZVRhcE5vQ29uZmlndXJlZENsaWVudHNFcnJvck1lc3NhZ2UoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPQXV0aEVycm9yTWVzc2FnZSwgbnVsbCwgXCJPbmUgVGFwIGNhbm5vdCByZW5kZXIgYmVjYXVzZSBubyBHb29nbGUgT0F1dGggY2xpZW50IGNvbmZpZ3VyYXRpb24gY291bGQgYmUgZm91bmQgZm9yIHRoaXMgcHJvamVjdC4gUGxlYXNlIG1ha2Ugc3VyZSBhIGNsaWVudCBpcyBjb25maWd1cmVkIGluIHRoZVxceEEwXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3N0eXRjaC5jb20vZGFzaGJvYXJkL29hdXRoXCJcbiAgfSwgXCJkYXNoYm9hcmQuXCIpKTtcbn07XG52YXIgUmVkaXJlY3RVcmxzRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gUmVkaXJlY3RVcmxzRXJyb3JNZXNzYWdlKF9yZWY1MSkge1xuICB2YXIgbmljZU5hbWUgPSBfcmVmNTEubmljZU5hbWUsXG4gICAgdmFyaWFibGVOYW1lID0gX3JlZjUxLnZhcmlhYmxlTmFtZTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9BdXRoRXJyb3JNZXNzYWdlLCBudWxsLCBcIk9uZSBUYXAgY2Fubm90IHJlbmRlciBiZWNhdXNlIHRoZXJlIGFyZSBubyBcIiwgbmljZU5hbWUsIFwiIHNldCBmb3IgdGhpcyBwcm9qZWN0IHNvIHdlIGFyZSB1bmFibGUgdG8gdmVyaWZ5IHRoZVwiLCAnICcsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCBudWxsLCB2YXJpYWJsZU5hbWUpLCBcIlxceEEwIHByb3ZpZGVkIGluIHRoZSBjb25maWd1cmF0aW9uLiBUbyBzZXQgXCIsIG5pY2VOYW1lLCBcIiBmb3IgdGhpcyBwcm9qZWN0IHBsZWFzZSB2aXNpdFxceEEwXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3N0eXRjaC5jb20vZG9jcy9qYXZhc2NyaXB0LXNka1wiXG4gIH0sIFwidGhlIFN0eXRjaCBkYXNoYm9hcmQuXCIpLCBcIlxceEEwIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHdoeSB0aGlzIHZhbGlkYXRpb24gaXMgbmVjZXNzYXJ5IHBsZWFzZSB2aXNpdFxceEEwXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3N0eXRjaC5jb20vZG9jcy9hcGkvdXJsLXZhbGlkYXRpb25cIlxuICB9LCBcImh0dHBzOi8vc3R5dGNoLmNvbS9kb2NzL2FwaS91cmwtdmFsaWRhdGlvbi5cIikpO1xufTtcbnZhciBPbmVUYXBOb0NvbmZpZ3VyZWRMb2dpblJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIE9uZVRhcE5vQ29uZmlndXJlZExvZ2luUmVkaXJlY3RVcmxzRXJyb3JNZXNzYWdlKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3RVcmxzRXJyb3JNZXNzYWdlLCB7XG4gICAgbmljZU5hbWU6IFwibG9naW4gcmVkaXJlY3QgVVJMc1wiLFxuICAgIHZhcmlhYmxlTmFtZTogXCJvYXV0aE9wdGlvbnMubG9naW5SZWRpcmVjdFVSTFwiXG4gIH0pO1xufTtcbnZhciBPbmVUYXBOb0NvbmZpZ3VyZWRTaWdudXBSZWRpcmVjdFVybHNFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiBPbmVUYXBOb0NvbmZpZ3VyZWRTaWdudXBSZWRpcmVjdFVybHNFcnJvck1lc3NhZ2UoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZWRpcmVjdFVybHNFcnJvck1lc3NhZ2UsIHtcbiAgICBuaWNlTmFtZTogXCJzaWdudXAgcmVkaXJlY3QgVVJMc1wiLFxuICAgIHZhcmlhYmxlTmFtZTogXCJvYXV0aE9wdGlvbnMuc2lnbnVwUmVkaXJlY3RVUkxcIlxuICB9KTtcbn07XG52YXIgT25lVGFwSlNPcmlnaW5FcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiBPbmVUYXBKU09yaWdpbkVycm9yTWVzc2FnZSgpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9BdXRoRXJyb3JNZXNzYWdlLCBudWxsLCBcIk9uZSBUYXAgY2Fubm90IHJlbmRlciBiZWNhdXNlIHRoZSBjdXJyZW50IGhvc3RcXHhBMFwiLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImNvZGVcIiwgbnVsbCwgXCJcXFwiXCIuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5ob3N0LCBcIlxcXCJcIikpLCBcIiBpcyBub3QgYWxsb3dlZCBmb3IgdGhpcyBwcm9qZWN0LiBNYWtlIHN1cmUgdG8gcHV0IHlvdXIgcHJvamVjdCdzIGhvc3QgaW50byB0aGUgR29vZ2xlIEFQSSBjb25zb2xlLiBXaGVuIHVzaW5nIGxvY2FsaG9zdCBmb3IgZGV2ZWxvcG1lbnQsIHlvdSBtdXN0IGFkZCBib3RoXFx4QTBcIiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIG51bGwsIFwiaHR0cDovL2xvY2FsaG9zdFwiKSwgXCIgYW5kXFx4QTBcIiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIG51bGwsIFwiaHR0cDovL2xvY2FsaG9zdDo8cG9ydF9udW1iZXI+XCIpLCBcIlxceEEwIHRvIHRoZSBBdXRob3JpemVkIEphdmFTY3JpcHQgb3JpZ2lucyBib3guIFlvdSBjYW4gbGVhcm4gbW9yZVxceEEwXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3N0eXRjaC5jb20vZG9jcy9qYXZhc2NyaXB0LXNka1wiXG4gIH0sIFwiaGVyZS5cIikpO1xufTtcbnZhciBPbmVUYXBJbnZhbGlkT0F1dGhDbGllbnQgPSBmdW5jdGlvbiBPbmVUYXBJbnZhbGlkT0F1dGhDbGllbnQoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPQXV0aEVycm9yTWVzc2FnZSwgbnVsbCwgXCJPbmUgVGFwIGNhbm5vdCByZW5kZXIgYmVjYXVzZSB0aGUgY2xpZW50IElEIGNvbmZpZ3VyZWQgZm9yIHlvdXIgcHJvamVjdCBpcyBub3QgcmVjb2duaXplZCBieSBHb29nbGUuIFxceEEwIFBsZWFzZSBjaGVjayB0aGF0IHRoZSBjbGllbnQgSUQgc2F2ZWQgaW4gXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3N0eXRjaC5jb20vZGFzaGJvYXJkL29hdXRoL2dvb2dsZVwiXG4gIH0sIFwidGhlIFN0eXRjaCBEYXNoYm9hcmRcIiksIFwiXFx4QTAgbWF0Y2hlcyB0aGUgY2xpZW50IElEIGluIHlvdXIgR29vZ2xlIENsb3VkIENvbnNvbGUuXCIpO1xufTtcbnZhciBPbmVUYXBOb0RlZmF1bHRQcm92aWRlckFsbG93ZWRFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiBPbmVUYXBOb0RlZmF1bHRQcm92aWRlckFsbG93ZWRFcnJvck1lc3NhZ2UoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPQXV0aEVycm9yTWVzc2FnZSwgbnVsbCwgXCJPbmUgVGFwIGNhbm5vdCByZW5kZXIgYmVjYXVzZSB0aGUgU3R5dGNoIERlZmF1bHQgT0F1dGggUHJvdmlkZXIgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBPbmUgVGFwLiBQbGVhc2UgY29uZmlndXJlIHlvdXIgb3duIEdvb2dsZSBjbGllbnQgaW4gdGhlXFx4QTBcIiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICBocmVmOiBcImh0dHBzOi8vc3R5dGNoLmNvbS9kYXNoYm9hcmQvb2F1dGhcIlxuICB9LCBcImRhc2hib2FyZC5cIikpO1xufTtcbnZhciBPbmVUYXBFcnJvcnM7XG4oZnVuY3Rpb24gKE9uZVRhcEVycm9ycykge1xuICBPbmVUYXBFcnJvcnNbXCJOb25lXCJdID0gXCJub25lXCI7XG4gIE9uZVRhcEVycm9yc1tcIk9yaWdpbk5vdEFsbG93ZWRGb3JDbGllbnRcIl0gPSBcIm9yaWdpbl9ub3RfYWxsb3dlZF9mb3JfY2xpZW50XCI7XG4gIE9uZVRhcEVycm9yc1tcIkludmFsaWRPQXV0aENsaWVudFwiXSA9IFwiaW52YWxpZF9jbGllbnRcIjtcbiAgT25lVGFwRXJyb3JzW1wiTm9Db25maWd1cmVkT0F1dGhDbGllbnRcIl0gPSBcIm9hdXRoX2NvbmZpZ19ub3RfZm91bmRcIjtcbiAgT25lVGFwRXJyb3JzW1wiTm9Db25maWd1cmVkTG9naW5SZWRpcmVjdFVybHNcIl0gPSBcIm5vX2xvZ2luX3JlZGlyZWN0X3VybHNfc2V0XCI7XG4gIE9uZVRhcEVycm9yc1tcIk5vQ29uZmlndXJlZFNpZ251cFJlZGlyZWN0VXJsc1wiXSA9IFwibm9fc2lnbnVwX3JlZGlyZWN0X3VybHNfc2V0XCI7XG4gIE9uZVRhcEVycm9yc1tcIkRlZmF1bHRQcm92aWRlck5vdEFsbG93ZWRcIl0gPSBcImRlZmF1bHRfcHJvdmlkZXJfbm90X2FsbG93ZWRcIjtcbn0pKE9uZVRhcEVycm9ycyB8fCAoT25lVGFwRXJyb3JzID0ge30pKTtcbnZhciBFcnJvck1lc3NhZ2VzID0gX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LCBPbmVUYXBFcnJvcnMuTm9uZSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwpKSwgT25lVGFwRXJyb3JzLk9yaWdpbk5vdEFsbG93ZWRGb3JDbGllbnQsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9uZVRhcEpTT3JpZ2luRXJyb3JNZXNzYWdlLCBudWxsKSksIE9uZVRhcEVycm9ycy5JbnZhbGlkT0F1dGhDbGllbnQsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9uZVRhcEludmFsaWRPQXV0aENsaWVudCwgbnVsbCkpLCBPbmVUYXBFcnJvcnMuTm9Db25maWd1cmVkT0F1dGhDbGllbnQsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9uZVRhcE5vQ29uZmlndXJlZENsaWVudHNFcnJvck1lc3NhZ2UsIG51bGwpKSwgT25lVGFwRXJyb3JzLk5vQ29uZmlndXJlZExvZ2luUmVkaXJlY3RVcmxzLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPbmVUYXBOb0NvbmZpZ3VyZWRMb2dpblJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZSwgbnVsbCkpLCBPbmVUYXBFcnJvcnMuTm9Db25maWd1cmVkU2lnbnVwUmVkaXJlY3RVcmxzLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPbmVUYXBOb0NvbmZpZ3VyZWRTaWdudXBSZWRpcmVjdFVybHNFcnJvck1lc3NhZ2UsIG51bGwpKSwgT25lVGFwRXJyb3JzLkRlZmF1bHRQcm92aWRlck5vdEFsbG93ZWQsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9uZVRhcE5vRGVmYXVsdFByb3ZpZGVyQWxsb3dlZEVycm9yTWVzc2FnZSwgbnVsbCkpO1xuSGUuZGl2KF90ZW1wbGF0ZU9iamVjdDIzIHx8IChfdGVtcGxhdGVPYmplY3QyMyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBoZWlnaHQ6IFwiLCBcIjtcXG4gIGRpc3BsYXk6IFwiLCBcIjtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2Utb3V0O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcblwiXSkpLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KHByb3BzLiRoZWlnaHQsIFwicHhcIik7XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnBlbmRpbmcgPyAnZmxleCcgOiAnYmxvY2snO1xufSk7XG52YXIgQjJCR29vZ2xlT25lVGFwID0gZnVuY3Rpb24gQjJCR29vZ2xlT25lVGFwKCkge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgdmFyIHN0eXRjaCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgY29uZmlnID0gdXNlQ29uZmlnKCk7XG4gIHZhciBpc09ubHlGbG9hdGluZ09uZVRhcCA9IHVzZUlzT25seUZsb2F0aW5nT25lVGFwKCk7XG4gIHZhciBfaCQyMSA9IGgkMShPbmVUYXBFcnJvcnMuTm9uZSksXG4gICAgX2gkMjIgPSBfc2xpY2VkVG9BcnJheShfaCQyMSwgMiksXG4gICAgb25lVGFwRXJyb3IgPSBfaCQyMlswXSxcbiAgICBzZXRPbmVUYXBFcnJvciA9IF9oJDIyWzFdO1xuICB2YXIgaXNVbm1vdW50ZWQgPSB1c2VJc1VubW91bnRlZCgpO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXIxOSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjIwID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXIxOSwgMiksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjIwWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXIyMFsxXTtcbiAgdmFyIGF0dGVtcHRUb0xvYWRPbmVUYXAgPSBUKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgIHZhciBfZywgX2gsIF9qLCBfcmVhZEIyQkludGVybmFscywgb25lVGFwLCBjbGllbnRSZXN1bHQsIGNsaWVudCwgb25lVGFwQ2FsbGJhY2ssIHJlbmRlclJlc3VsdDtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfcmVhZEIyQkludGVybmFscyA9IHJlYWRCMkJJbnRlcm5hbHMoc3R5dGNoKSwgb25lVGFwID0gX3JlYWRCMkJJbnRlcm5hbHMub25lVGFwO1xuICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzO1xuICAgICAgICAgICAgcmV0dXJuIG9uZVRhcC5jcmVhdGVPbmVUYXBDbGllbnQoKTtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjbGllbnRSZXN1bHQgPSBfY29udGV4dDYuc2VudDtcbiAgICAgICAgICAgIGlmIChjbGllbnRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaWVudFJlc3VsdC5yZWFzb24gPT09ICdvYXV0aF9jb25maWdfbm90X2ZvdW5kJykge1xuICAgICAgICAgICAgICBzZXRPbmVUYXBFcnJvcihPbmVUYXBFcnJvcnMuTm9Db25maWd1cmVkT0F1dGhDbGllbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGllbnRSZXN1bHQucmVhc29uID09PSAnZGVmYXVsdF9wcm92aWRlcl9ub3RfYWxsb3dlZCcpIHtcbiAgICAgICAgICAgICAgc2V0T25lVGFwRXJyb3IoT25lVGFwRXJyb3JzLkRlZmF1bHRQcm92aWRlck5vdEFsbG93ZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdVbmFibGUgdG8gbG9hZCBPbmUgVGFwIHNldHRpbmdzIGZvciBwcm9qZWN0JywgY2xpZW50UmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIGNsaWVudCA9IGNsaWVudFJlc3VsdC5jbGllbnQ7XG4gICAgICAgICAgICBpZiAoIWlzVW5tb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiKTtcbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgaWYgKHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24pIHtcbiAgICAgICAgICAgICAgb25lVGFwQ2FsbGJhY2sgPSBvbmVUYXAuY3JlYXRlT25TdWNjZXNzSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX2lkLFxuICAgICAgICAgICAgICAgIHNpZ251cFJlZGlyZWN0VXJsOiAoX2cgPSBjb25maWcub2F1dGhPcHRpb25zKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuc2lnbnVwUmVkaXJlY3RVUkwsXG4gICAgICAgICAgICAgICAgbG9naW5SZWRpcmVjdFVybDogKF9oID0gY29uZmlnLm9hdXRoT3B0aW9ucykgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmxvZ2luUmVkaXJlY3RVUkwsXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiBvbmVUYXAuUmVkaXJlY3RPblN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuRXJyb3JcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvbmVUYXBDYWxsYmFjayA9IG9uZVRhcC5jcmVhdGVPbkRpc2NvdmVyeVN1Y2Nlc3NIYW5kbGVyKHtcbiAgICAgICAgICAgICAgICBkaXNjb3ZlcnlSZWRpcmVjdFVybDogKF9qID0gY29uZmlnLm9hdXRoT3B0aW9ucykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmRpc2NvdmVyeVJlZGlyZWN0VVJMLFxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzczogb25lVGFwLlJlZGlyZWN0T25TdWNjZXNzLFxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLkVycm9yXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMztcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQucmVuZGVyKHtcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IG9uZVRhcENhbGxiYWNrLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBPbmVUYXBQb3NpdGlvbnMuZmxvYXRpbmdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHJlbmRlclJlc3VsdCA9IF9jb250ZXh0Ni5zZW50O1xuICAgICAgICAgICAgaWYgKCFpc1VubW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xpZW50LmNhbmNlbCgpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIik7XG4gICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgIGlmICghcmVuZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgaWYgKHJlbmRlclJlc3VsdC5yZWFzb24gPT09ICd1bnJlZ2lzdGVyZWRfb3JpZ2luJykge1xuICAgICAgICAgICAgICAgIHNldE9uZVRhcEVycm9yKE9uZVRhcEVycm9ycy5PcmlnaW5Ob3RBbGxvd2VkRm9yQ2xpZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmVuZGVyUmVzdWx0LnJlYXNvbiA9PT0gJ2ludmFsaWRfY2xpZW50Jykge1xuICAgICAgICAgICAgICAgIHNldE9uZVRhcEVycm9yKE9uZVRhcEVycm9ycy5JbnZhbGlkT0F1dGhDbGllbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignVW5hYmxlIHRvIHJlbmRlciBPbmUgVGFwIHByb21wdCcsIHJlbmRlclJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiLCBjbGllbnQpO1xuICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU2KTtcbiAgICB9KSk7XG4gIH0sIFtzdHl0Y2gsIGlzVW5tb3VudGVkLCBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uLCAoX2EgPSBjb25maWcub2F1dGhPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2lnbnVwUmVkaXJlY3RVUkwsIChfYiA9IGNvbmZpZy5vYXV0aE9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sb2dpblJlZGlyZWN0VVJMLCAoX2MgPSBjb25maWcub2F1dGhPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGlzY292ZXJ5UmVkaXJlY3RVUkwsIGRpc3BhdGNoXSk7XG4gIHAkMShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNsaWVudDtcbiAgICBhdHRlbXB0VG9Mb2FkT25lVGFwKCkudGhlbihmdW5jdGlvbiAoJGNsaWVudCkge1xuICAgICAgcmV0dXJuIGNsaWVudCA9ICRjbGllbnQ7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byByZW5kZXIgT25lIFRhcCBwcm9tcHQnLCBlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2xpZW50ID09PSBudWxsIHx8IGNsaWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2xpZW50LmNhbmNlbCgpO1xuICAgIH07XG4gIH0sIFthdHRlbXB0VG9Mb2FkT25lVGFwXSk7XG4gIGlmIChpc09ubHlGbG9hdGluZ09uZVRhcCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBnb29nbGVBdXRoQnV0dG9uID0gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT0F1dGhCMkJCdXR0b24sIHtcbiAgICBrZXk6IFwib2F1dGgtXCIuY29uY2F0KEIyQk9BdXRoUHJvdmlkZXJzLkdvb2dsZSksXG4gICAgcHJvdmlkZXJUeXBlOiBCMkJPQXV0aFByb3ZpZGVycy5Hb29nbGUsXG4gICAgaWNvbjogLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR29vZ2xlSWNvbiwgbnVsbCksXG4gICAgcHJvdmlkZXJUeXBlVGl0bGU6IFwiR29vZ2xlXCIsXG4gICAgbG9naW5SZWRpcmVjdFVybDogKF9kID0gY29uZmlnLm9hdXRoT3B0aW9ucykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmxvZ2luUmVkaXJlY3RVUkwsXG4gICAgc2lnbnVwUmVkaXJlY3RVcmw6IChfZSA9IGNvbmZpZy5vYXV0aE9wdGlvbnMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5zaWdudXBSZWRpcmVjdFVSTCxcbiAgICBkaXNjb3ZlcnlSZWRpcmVjdFVybDogKF9mID0gY29uZmlnLm9hdXRoT3B0aW9ucykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmRpc2NvdmVyeVJlZGlyZWN0VVJMXG4gIH0pO1xuICB2YXIgX3JlYWRCMkJJbnRlcm5hbHMyID0gcmVhZEIyQkludGVybmFscyhzdHl0Y2gpLFxuICAgIHB1YmxpY1Rva2VuID0gX3JlYWRCMkJJbnRlcm5hbHMyLnB1YmxpY1Rva2VuO1xuICBpZiAob25lVGFwRXJyb3IgIT09IE9uZVRhcEVycm9ycy5Ob25lKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsLCBpc1Rlc3RQdWJsaWNUb2tlbihwdWJsaWNUb2tlbikgPyBFcnJvck1lc3NhZ2VzW29uZVRhcEVycm9yXSA6IG51bGwsIGdvb2dsZUF1dGhCdXR0b24pO1xuICB9XG4gIHJldHVybiBnb29nbGVBdXRoQnV0dG9uO1xufTtcbnZhciBnZXRQcm92aWRlckluZm8gPSBmdW5jdGlvbiBnZXRQcm92aWRlckluZm8ocHJvdmlkZXIpIHtcbiAgc3dpdGNoIChwcm92aWRlcikge1xuICAgIGNhc2UgQjJCT0F1dGhQcm92aWRlcnMuR29vZ2xlOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJvdmlkZXJUeXBlVGl0bGU6ICdHb29nbGUnLFxuICAgICAgICBhbGxvd2VkQXV0aE1ldGhvZDogJ2dvb2dsZV9vYXV0aCcsXG4gICAgICAgIGljb246IC8qI19fUFVSRV9fKi95KEdvb2dsZUljb24sIG51bGwpXG4gICAgICB9O1xuICAgIGNhc2UgQjJCT0F1dGhQcm92aWRlcnMuTWljcm9zb2Z0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJvdmlkZXJUeXBlVGl0bGU6ICdNaWNyb3NvZnQnLFxuICAgICAgICBhbGxvd2VkQXV0aE1ldGhvZDogJ21pY3Jvc29mdF9vYXV0aCcsXG4gICAgICAgIGljb246IC8qI19fUFVSRV9fKi95KE1pY3Jvc29mdEljb24sIG51bGwpXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm92aWRlclR5cGVUaXRsZTogJycsXG4gICAgICAgIGFsbG93ZWRBdXRoTWV0aG9kOiAnJyxcbiAgICAgICAgaWNvbjogLyojX19QVVJFX18qL3koZyQxLCBudWxsKVxuICAgICAgfTtcbiAgfVxufTtcbnZhciBnZXRDdXN0b21TY29wZXNGb3JQcm92aWRlciA9IGZ1bmN0aW9uIGdldEN1c3RvbVNjb3Blc0ZvclByb3ZpZGVyKG9hdXRoUHJvdmlkZXIsIG9hdXRoT3B0aW9uc0N1c3RvbVNjb3Blcykge1xuICB2YXIgY3VycmVudEN1c3RvbVNjb3BlcyA9IG9hdXRoUHJvdmlkZXIuY3VzdG9tU2NvcGVzO1xuICBpZiAoT2JqZWN0LmtleXMoY3VycmVudEN1c3RvbVNjb3BlcykubGVuZ3RoID09IDApIHtcbiAgICBjdXJyZW50Q3VzdG9tU2NvcGVzID0gb2F1dGhPcHRpb25zQ3VzdG9tU2NvcGVzO1xuICB9XG4gIHJldHVybiBjdXJyZW50Q3VzdG9tU2NvcGVzO1xufTtcbnZhciBnZXRQcm92aWRlclBhcmFtc0ZvclByb3ZpZGVyID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJQYXJhbXNGb3JQcm92aWRlcihvYXV0aFByb3ZpZGVyLCBvYXV0aE9wdGlvbnNQcm92aWRlclBhcmFtcykge1xuICB2YXIgY3VycmVudFByb3ZpZGVyUGFyYW1zID0gb2F1dGhQcm92aWRlci5wcm92aWRlclBhcmFtcztcbiAgaWYgKE9iamVjdC5rZXlzKGN1cnJlbnRQcm92aWRlclBhcmFtcykubGVuZ3RoID09IDApIHtcbiAgICBjdXJyZW50UHJvdmlkZXJQYXJhbXMgPSBvYXV0aE9wdGlvbnNQcm92aWRlclBhcmFtcztcbiAgfVxuICByZXR1cm4gY3VycmVudFByb3ZpZGVyUGFyYW1zO1xufTtcbnZhciBPQXV0aEJ1dHRvbnMgPSBmdW5jdGlvbiBPQXV0aEJ1dHRvbnMoKSB7XG4gIHZhciBfYSwgX2I7XG4gIHZhciBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMjEgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXIyMiA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyMjEsIDEpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXIyMlswXTtcbiAgaWYgKCFjb25maWcub2F1dGhPcHRpb25zKSByZXR1cm4gLyojX19QVVJFX18qL3koZyQxLCBudWxsKTtcbiAgdmFyIF9jb25maWckb2F1dGhPcHRpb25zID0gY29uZmlnLm9hdXRoT3B0aW9ucyxcbiAgICBwcm92aWRlcnMgPSBfY29uZmlnJG9hdXRoT3B0aW9ucy5wcm92aWRlcnMsXG4gICAgbG9naW5SZWRpcmVjdFVSTCA9IF9jb25maWckb2F1dGhPcHRpb25zLmxvZ2luUmVkaXJlY3RVUkwsXG4gICAgc2lnbnVwUmVkaXJlY3RVUkwgPSBfY29uZmlnJG9hdXRoT3B0aW9ucy5zaWdudXBSZWRpcmVjdFVSTCxcbiAgICBkaXNjb3ZlcnlSZWRpcmVjdFVSTCA9IF9jb25maWckb2F1dGhPcHRpb25zLmRpc2NvdmVyeVJlZGlyZWN0VVJMLFxuICAgIGN1c3RvbVNjb3BlcyA9IF9jb25maWckb2F1dGhPcHRpb25zLmN1c3RvbVNjb3BlcyxcbiAgICBwcm92aWRlclBhcmFtcyA9IF9jb25maWckb2F1dGhPcHRpb25zLnByb3ZpZGVyUGFyYW1zO1xuICB2YXIgYWxsb3dlZEF1dGhNZXRob2RzID0gW107XG4gIGlmIChzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uICYmIHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24uYXV0aF9tZXRob2RzID09PSAnUkVTVFJJQ1RFRCcpIHtcbiAgICBhbGxvd2VkQXV0aE1ldGhvZHMgPSAoX2IgPSAoX2EgPSBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWxsb3dlZF9hdXRoX21ldGhvZHMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdO1xuICB9XG4gIHZhciBtYXBwZWRQcm92aWRlcnMgPSBwcm92aWRlcnMubWFwKGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgIHZhciBvYXV0aFByb3ZpZGVyID0gZ2V0UGFyYW1zRnJvbUIyQk9BdXRoUHJvdmlkZXJDb25maWcocHJvdmlkZXIpO1xuICAgIHZhciBfZ2V0UHJvdmlkZXJJbmZvID0gZ2V0UHJvdmlkZXJJbmZvKG9hdXRoUHJvdmlkZXIudHlwZSksXG4gICAgICBpY29uID0gX2dldFByb3ZpZGVySW5mby5pY29uLFxuICAgICAgcHJvdmlkZXJUeXBlVGl0bGUgPSBfZ2V0UHJvdmlkZXJJbmZvLnByb3ZpZGVyVHlwZVRpdGxlLFxuICAgICAgYWxsb3dlZEF1dGhNZXRob2QgPSBfZ2V0UHJvdmlkZXJJbmZvLmFsbG93ZWRBdXRoTWV0aG9kO1xuICAgIGlmICghc3RhdGUuZmxvd1N0YXRlLm9yZ2FuaXphdGlvbiB8fCBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uLmF1dGhfbWV0aG9kcyA9PT0gJ0FMTF9BTExPV0VEJyB8fCBhbGxvd2VkQXV0aE1ldGhvZHMuaW5jbHVkZXMoYWxsb3dlZEF1dGhNZXRob2QpKSB7XG4gICAgICBpZiAob2F1dGhQcm92aWRlci5vbmVUYXApIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi95KEIyQkdvb2dsZU9uZVRhcCwge1xuICAgICAgICAgIGtleTogXCJvYXV0aC1cIi5jb25jYXQob2F1dGhQcm92aWRlci50eXBlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyoveShPQXV0aEIyQkJ1dHRvbiwge1xuICAgICAgICBrZXk6IFwib2F1dGgtXCIuY29uY2F0KG9hdXRoUHJvdmlkZXIudHlwZSksXG4gICAgICAgIHByb3ZpZGVyVHlwZTogb2F1dGhQcm92aWRlci50eXBlLFxuICAgICAgICBpY29uOiBpY29uLFxuICAgICAgICBwcm92aWRlclR5cGVUaXRsZTogcHJvdmlkZXJUeXBlVGl0bGUsXG4gICAgICAgIGxvZ2luUmVkaXJlY3RVcmw6IGxvZ2luUmVkaXJlY3RVUkwsXG4gICAgICAgIHNpZ251cFJlZGlyZWN0VXJsOiBzaWdudXBSZWRpcmVjdFVSTCxcbiAgICAgICAgZGlzY292ZXJ5UmVkaXJlY3RVcmw6IGRpc2NvdmVyeVJlZGlyZWN0VVJMLFxuICAgICAgICBjdXN0b21TY29wZXM6IGdldEN1c3RvbVNjb3Blc0ZvclByb3ZpZGVyKG9hdXRoUHJvdmlkZXIsIGN1c3RvbVNjb3BlcyksXG4gICAgICAgIHByb3ZpZGVyUGFyYW1zOiBnZXRQcm92aWRlclBhcmFtc0ZvclByb3ZpZGVyKG9hdXRoUHJvdmlkZXIsIHByb3ZpZGVyUGFyYW1zKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoXCJQcm92aWRlciBcIi5jb25jYXQocHJvdmlkZXIsIFwiIGlzIG5vdCBhbiBgYWxsb3dlZF9hdXRoX21ldGhvZGAgZm9yIHRoaXMgb3JnYW5pemF0aW9uLiBQbGVhc2UgdXBkYXRlIHlvdXIgb3JnYW5pemF0aW9uIHNldHRpbmdzLlwiKSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL3koRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDgsXG4gICAgY2xhc3NOYW1lOiBcIm9hdXRoLWJ1dHRvbnNcIlxuICB9LCBtYXBwZWRQcm92aWRlcnMpO1xufTtcbnZhciBVc2VQYXNzd29yZFRleHQgPSBIZShUZXh0KShfdGVtcGxhdGVPYmplY3QyNCB8fCAoX3RlbXBsYXRlT2JqZWN0MjQgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG5cIl0pKSk7XG52YXIgUGFzc3dvcmRVc2VCdXR0b24gPSBmdW5jdGlvbiBQYXNzd29yZFVzZUJ1dHRvbigpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMjMgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXIyNCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyMjMsIDIpLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXIyNFsxXTtcbiAgdmFyIGhhbmRsZVVzZVBhc3N3b3JkID0gZnVuY3Rpb24gaGFuZGxlVXNlUGFzc3dvcmQoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ3RyYW5zaXRpb24nLFxuICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuUGFzc3dvcmRBdXRoZW50aWNhdGVcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChVc2VQYXNzd29yZFRleHQsIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVVc2VQYXNzd29yZFxuICB9LCBcIlVzZSBhIHBhc3N3b3JkIGluc3RlYWRcIikpO1xufTtcbnZhciBDb21wb25lbnQ7XG4oZnVuY3Rpb24gKENvbXBvbmVudCkge1xuICBDb21wb25lbnRbXCJNYWdpY0xpbmtFbWFpbEZvcm1cIl0gPSBcIk1hZ2ljTGlua0VtYWlsRm9ybVwiO1xuICBDb21wb25lbnRbXCJNYWdpY0xpbmtFbWFpbERpc2NvdmVyeUZvcm1cIl0gPSBcIk1hZ2ljTGlua0VtYWlsRGlzY292ZXJ5Rm9ybVwiO1xuICBDb21wb25lbnRbXCJPQXV0aEJ1dHRvbnNcIl0gPSBcIk9BdXRoQnV0dG9uc1wiO1xuICBDb21wb25lbnRbXCJTU09CdXR0b25zXCJdID0gXCJTU09CdXR0b25zXCI7XG4gIENvbXBvbmVudFtcIlBhc3N3b3Jkc0VtYWlsRm9ybVwiXSA9IFwiUGFzc3dvcmRzRW1haWxGb3JtXCI7XG4gIENvbXBvbmVudFtcIlBhc3N3b3JkRU1MQ29tYmluZWRcIl0gPSBcIlBhc3N3b3JkRU1MQ29tYmluZWRcIjtcbiAgQ29tcG9uZW50W1wiRGl2aWRlclwiXSA9IFwiRGl2aWRlclwiO1xufSkoQ29tcG9uZW50IHx8IChDb21wb25lbnQgPSB7fSkpO1xudmFyIGdlbmVyYXRlUHJvZHVjdENvbXBvbmVudHNPcmRlcmluZyA9IGZ1bmN0aW9uIGdlbmVyYXRlUHJvZHVjdENvbXBvbmVudHNPcmRlcmluZyhwcm9kdWN0cywgZmxvd1N0YXRlKSB7XG4gIHZhciBmbG93U3RhdGVUeXBlID0gZmxvd1N0YXRlLnR5cGU7XG4gIHZhciBkaXNwbGF5RW1sQW5kUGFzc3dvcmRzVG9nZXRoZXIgPSBwcm9kdWN0cy5pbmNsdWRlcyhCMkJQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3MpICYmIHByb2R1Y3RzLmluY2x1ZGVzKEIyQlByb2R1Y3RzLnBhc3N3b3Jkcyk7XG4gIHZhciBQcm9kdWN0Q29tcG9uZW50cyA9IHByb2R1Y3RzLm1hcChmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHN3aXRjaCAocHJvZHVjdCkge1xuICAgICAgY2FzZSBCMkJQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3M6XG4gICAgICAgIGlmIChkaXNwbGF5RW1sQW5kUGFzc3dvcmRzVG9nZXRoZXIpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gZmxvd1N0YXRlVHlwZSA9PT0gQXV0aEZsb3dUeXBlLk9yZ2FuaXphdGlvbiA/IENvbXBvbmVudC5NYWdpY0xpbmtFbWFpbEZvcm0gOiBDb21wb25lbnQuTWFnaWNMaW5rRW1haWxEaXNjb3ZlcnlGb3JtO1xuICAgICAgY2FzZSBCMkJQcm9kdWN0cy5vYXV0aDpcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudC5PQXV0aEJ1dHRvbnM7XG4gICAgICBjYXNlIEIyQlByb2R1Y3RzLnNzbzpcbiAgICAgICAgdmFyIGlzU3NvVmFsaWQgPSAoKF9jID0gKF9iID0gKF9hID0gZmxvd1N0YXRlLm9yZ2FuaXphdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNzb19hY3RpdmVfY29ubmVjdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sZW5ndGgpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDApID4gMDtcbiAgICAgICAgcmV0dXJuIGZsb3dTdGF0ZVR5cGUgPT09IEF1dGhGbG93VHlwZS5Pcmdhbml6YXRpb24gJiYgaXNTc29WYWxpZCA/IENvbXBvbmVudC5TU09CdXR0b25zIDogbnVsbDtcbiAgICAgIGNhc2UgQjJCUHJvZHVjdHMucGFzc3dvcmRzOlxuICAgICAgICBpZiAoZGlzcGxheUVtbEFuZFBhc3N3b3Jkc1RvZ2V0aGVyKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudC5QYXNzd29yZHNFbWFpbEZvcm07XG4gICAgfVxuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgIHJldHVybiBjb21wb25lbnQgIT09IG51bGw7XG4gIH0pO1xuICBpZiAoZGlzcGxheUVtbEFuZFBhc3N3b3Jkc1RvZ2V0aGVyKSB7XG4gICAgdmFyIHBhc3N3b3JkSW5kZXggPSBwcm9kdWN0cy5pbmRleE9mKEIyQlByb2R1Y3RzLnBhc3N3b3Jkcyk7XG4gICAgdmFyIGVtbEluZGV4ID0gcHJvZHVjdHMuaW5kZXhPZihCMkJQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3MpO1xuICAgIHZhciBmaXJzdFByb2R1Y3RJbmRleCA9IE1hdGgubWluKHBhc3N3b3JkSW5kZXgsIGVtbEluZGV4KTtcbiAgICB2YXIgY29tYmluZWRDb21wb25lbnQgPSBmbG93U3RhdGVUeXBlID09PSBBdXRoRmxvd1R5cGUuT3JnYW5pemF0aW9uID8gQ29tcG9uZW50LlBhc3N3b3JkRU1MQ29tYmluZWQgOiBDb21wb25lbnQuTWFnaWNMaW5rRW1haWxEaXNjb3ZlcnlGb3JtO1xuICAgIFByb2R1Y3RDb21wb25lbnRzLnNwbGljZShmaXJzdFByb2R1Y3RJbmRleCwgMCwgY29tYmluZWRDb21wb25lbnQpO1xuICB9XG4gIHZhciBoYXNCdXR0b25zID0gUHJvZHVjdENvbXBvbmVudHMuaW5jbHVkZXMoQ29tcG9uZW50Lk9BdXRoQnV0dG9ucykgfHwgUHJvZHVjdENvbXBvbmVudHMuaW5jbHVkZXMoQ29tcG9uZW50LlNTT0J1dHRvbnMpO1xuICB2YXIgaGFzSW5wdXQgPSBwcm9kdWN0cy5pbmNsdWRlcyhCMkJQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3MpIHx8IHByb2R1Y3RzLmluY2x1ZGVzKEIyQlByb2R1Y3RzLnBhc3N3b3Jkcyk7XG4gIHZhciBzaG93RGl2aWRlciA9IGhhc0J1dHRvbnMgJiYgaGFzSW5wdXQ7XG4gIGlmIChQcm9kdWN0Q29tcG9uZW50cy5sZW5ndGggPiAxICYmIHNob3dEaXZpZGVyKSB7XG4gICAgUHJvZHVjdENvbXBvbmVudHMuc3BsaWNlKFByb2R1Y3RDb21wb25lbnRzLmxlbmd0aCAtIDEsIDAsIENvbXBvbmVudC5EaXZpZGVyKTtcbiAgfVxuICByZXR1cm4gUHJvZHVjdENvbXBvbmVudHM7XG59O1xudmFyIENvbnRhaW5lciQxID0gSGUoRmxleCkoX3RlbXBsYXRlT2JqZWN0MjUgfHwgKF90ZW1wbGF0ZU9iamVjdDI1ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gID4gKiArICoge1xcbiAgICBtYXJnaW4tdG9wOiAyNHB4O1xcbiAgfVxcblwiXSkpKTtcbnZhciBMb2dvSW1hZ2UkMSA9IEhlLmltZyhfdGVtcGxhdGVPYmplY3QyNiB8fCAoX3RlbXBsYXRlT2JqZWN0MjYgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgbWF4LWhlaWdodDogNTBweDtcXG4gIG1heC13aWR0aDogMTAwcHg7XFxuXCJdKSkpO1xudmFyIEhlYWRlciA9IEhlKFRleHQpKF90ZW1wbGF0ZU9iamVjdDI3IHx8IChfdGVtcGxhdGVPYmplY3QyNyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXCJdKSkpO1xudmFyIExvZ28kMSA9IGZ1bmN0aW9uIExvZ28kMShfcmVmNTIpIHtcbiAgdmFyIG9yZ0xvZ28gPSBfcmVmNTIub3JnTG9nbyxcbiAgICBhcHBMb2dvID0gX3JlZjUyLmFwcExvZ287XG4gIGlmIChvcmdMb2dvICE9PSAnJyAmJiBhcHBMb2dvICE9PSAnJykgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBnYXA6IDRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTG9nb0ltYWdlJDEsIHtcbiAgICBzcmM6IG9yZ0xvZ29cbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExvZ29JbWFnZSQxLCB7XG4gICAgc3JjOiBhcHBMb2dvXG4gIH0pKTtcbn07XG52YXIgUHJvZHVjdENvbXBvbmVudHMgPSBmdW5jdGlvbiBQcm9kdWN0Q29tcG9uZW50cyhfcmVmNTMpIHtcbiAgdmFyIGNvbXBvbmVudHMgPSBfcmVmNTMuY29tcG9uZW50cztcbiAgdmFyIHJlbmRlcmVkQ29tcG9uZW50cyA9IGNvbXBvbmVudHMubWFwKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICBzd2l0Y2ggKGNvbXBvbmVudCkge1xuICAgICAgY2FzZSBDb21wb25lbnQuTWFnaWNMaW5rRW1haWxGb3JtOlxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFnaWNMaW5rRW1haWxGb3JtLCB7XG4gICAgICAgICAga2V5OiBjb21wb25lbnRcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIENvbXBvbmVudC5NYWdpY0xpbmtFbWFpbERpc2NvdmVyeUZvcm06XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChNYWdpY0xpbmtFbWFpbERpc2NvdmVyeUZvcm0sIHtcbiAgICAgICAgICBrZXk6IGNvbXBvbmVudFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgQ29tcG9uZW50Lk9BdXRoQnV0dG9uczpcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9BdXRoQnV0dG9ucywge1xuICAgICAgICAgIGtleTogY29tcG9uZW50XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBDb21wb25lbnQuU1NPQnV0dG9uczpcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFNTT0J1dHRvbnMsIHtcbiAgICAgICAgICBrZXk6IGNvbXBvbmVudFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgQ29tcG9uZW50LlBhc3N3b3Jkc0VtYWlsRm9ybTpcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3Jkc0VtYWlsRm9ybSwge1xuICAgICAgICAgIGtleTogY29tcG9uZW50XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBDb21wb25lbnQuUGFzc3dvcmRFTUxDb21iaW5lZDpcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICAgICAgICBrZXk6IFwiZW1sX3Bhc3N3b3JkXCIsXG4gICAgICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgIGdhcDogMTJcbiAgICAgICAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFnaWNMaW5rRW1haWxGb3JtLCB7XG4gICAgICAgICAga2V5OiBcIm1hZ2ljX2xpbmtcIlxuICAgICAgICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRVc2VCdXR0b24sIHtcbiAgICAgICAgICBrZXk6IFwicGFzc3dvcmRcIlxuICAgICAgICB9KSk7XG4gICAgICBjYXNlIENvbXBvbmVudC5EaXZpZGVyOlxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlciwge1xuICAgICAgICAgIGtleTogXCJkaXZpZGVyXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsLCByZW5kZXJlZENvbXBvbmVudHMpO1xufTtcbnZhciBNYWluU2NyZWVuID0gZnVuY3Rpb24gTWFpblNjcmVlbigpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICB2YXIgX1plID0gWmUoKSxcbiAgICBkaXNwbGF5SGVhZGVyID0gX1plLmRpc3BsYXlIZWFkZXIsXG4gICAgbG9nbyA9IF9aZS5sb2dvO1xuICB2YXIgY29uZmlnID0gdXNlQ29uZmlnKCk7XG4gIHZhciBfdXNlR2xvYmFsUmVkdWNlcjI1ID0gdXNlR2xvYmFsUmVkdWNlcigpLFxuICAgIF91c2VHbG9iYWxSZWR1Y2VyMjYgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjI1LCAxKSxcbiAgICBzdGF0ZSA9IF91c2VHbG9iYWxSZWR1Y2VyMjZbMF07XG4gIHZhciBhbGxvd2VkUHJvZHVjdHMgPSBbXTtcbiAgdmFyIHByb2R1Y3RzID0gY29uZmlnLnByb2R1Y3RzO1xuICBpZiAoKChfYSA9IHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hdXRoX21ldGhvZHMpID09PSAnUkVTVFJJQ1RFRCcpIHtcbiAgICB2YXIgYWxsb3dlZEF1dGhNZXRob2RzID0gKF9jID0gKF9iID0gc3RhdGUuZmxvd1N0YXRlLm9yZ2FuaXphdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmFsbG93ZWRfYXV0aF9tZXRob2RzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBbXTtcbiAgICBhbGxvd2VkQXV0aE1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAoYXV0aE1ldGhvZCkge1xuICAgICAgaWYgKGF1dGhNZXRob2QgPT09ICdzc28nKSBhbGxvd2VkUHJvZHVjdHMucHVzaChCMkJQcm9kdWN0cy5zc28pO1xuICAgICAgaWYgKGF1dGhNZXRob2QgPT09ICdtYWdpY19saW5rJykgYWxsb3dlZFByb2R1Y3RzLnB1c2goQjJCUHJvZHVjdHMuZW1haWxNYWdpY0xpbmtzKTtcbiAgICAgIGlmIChhdXRoTWV0aG9kID09PSAncGFzc3dvcmQnKSBhbGxvd2VkUHJvZHVjdHMucHVzaChCMkJQcm9kdWN0cy5wYXNzd29yZHMpO1xuICAgICAgaWYgKGF1dGhNZXRob2QgPT09ICdnb29nbGVfb2F1dGgnIHx8IGF1dGhNZXRob2QgPT09ICdtaWNyb3NvZnRfb2F1dGgnKSBhbGxvd2VkUHJvZHVjdHMucHVzaChCMkJQcm9kdWN0cy5vYXV0aCk7XG4gICAgfSk7XG4gICAgcHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHtcbiAgICAgIHJldHVybiBhbGxvd2VkUHJvZHVjdHMuaW5jbHVkZXMocHJvZHVjdCk7XG4gICAgfSk7XG4gIH1cbiAgdmFyIFByb2R1Y3RDb21wb25lbnRzT3JkZXJpbmcgPSBnZW5lcmF0ZVByb2R1Y3RDb21wb25lbnRzT3JkZXJpbmcocHJvZHVjdHMsIHN0YXRlLmZsb3dTdGF0ZSk7XG4gIHZhciB0aXRsZTtcbiAgc3dpdGNoIChzdGF0ZS5mbG93U3RhdGUudHlwZSkge1xuICAgIGNhc2UgQXV0aEZsb3dUeXBlLkRpc2NvdmVyeTpcbiAgICAgIHRpdGxlID0gJ1NpZ24gdXAgb3IgbG9nIGluJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQXV0aEZsb3dUeXBlLlBhc3N3b3JkUmVzZXQ6XG4gICAgICB0aXRsZSA9ICcnO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRpdGxlID0gXCJDb250aW51ZSB0byBcIi5jb25jYXQoKF9lID0gKF9kID0gc3RhdGUuZmxvd1N0YXRlLm9yZ2FuaXphdGlvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm9yZ2FuaXphdGlvbl9uYW1lKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAnLi4uJyk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyJDEsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTG9nbyQxLCB7XG4gICAgYXBwTG9nbzogbG9nby5sb2dvSW1hZ2VVcmwsXG4gICAgb3JnTG9nbzogKF9nID0gKF9mID0gc3RhdGUuZmxvd1N0YXRlLm9yZ2FuaXphdGlvbikgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLm9yZ2FuaXphdGlvbl9sb2dvX3VybCkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogJydcbiAgfSksIGRpc3BsYXlIZWFkZXIgJiYgdGl0bGUgPyAoIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChIZWFkZXIsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIHRpdGxlKSkpIDogKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCwgbnVsbCkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQcm9kdWN0Q29tcG9uZW50cywge1xuICAgIGNvbXBvbmVudHM6IFByb2R1Y3RDb21wb25lbnRzT3JkZXJpbmdcbiAgfSkpO1xufTtcbnZhciBHbWFpbEljb25TdmcgPSBmdW5jdGlvbiBHbWFpbEljb25TdmcoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCA0OCA0OFwiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCIjNGNhZjUwXCIsXG4gICAgZDogXCJNNDUsMTYuMmwtNSwyLjc1bC01LDQuNzVMMzUsNDBoN2MxLjY1NywwLDMtMS4zNDMsMy0zVjE2LjJ6XCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCIjMWU4OGU1XCIsXG4gICAgZDogXCJNMywxNi4ybDMuNjE0LDEuNzFMMTMsMjMuN1Y0MEg2Yy0xLjY1NywwLTMtMS4zNDMtMy0zVjE2LjJ6XCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicG9seWdvblwiLCB7XG4gICAgZmlsbDogXCIjZTUzOTM1XCIsXG4gICAgcG9pbnRzOiBcIjM1LDExLjIgMjQsMTkuNDUgMTMsMTEuMiAxMiwxNyAxMywyMy43IDI0LDMxLjk1IDM1LDIzLjcgMzYsMTdcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiNjNjI4MjhcIixcbiAgICBkOiBcIk0zLDEyLjI5OFYxNi4ybDEwLDcuNVYxMS4yTDkuODc2LDguODU5QzkuMTMyLDguMzAxLDguMjI4LDgsNy4yOTgsOGgwQzQuOTI0LDgsMyw5LjkyNCwzLDEyLjI5OHpcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiNmYmMwMmRcIixcbiAgICBkOiBcIk00NSwxMi4yOThWMTYuMmwtMTAsNy41VjExLjJsMy4xMjQtMi4zNDFDMzguODY4LDguMzAxLDM5Ljc3Miw4LDQwLjcwMiw4aDAgQzQzLjA3Niw4LDQ1LDkuOTI0LDQ1LDEyLjI5OHpcIlxuICB9KSk7XG59O1xudmFyIEdtYWlsSWNvbiA9IENyZWF0ZUljb24oR21haWxJY29uU3ZnKTtcbnZhciBPdXRsb29rSWNvblN2ZyA9IGZ1bmN0aW9uIE91dGxvb2tJY29uU3ZnKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmVyc2lvbjogXCIxLjFcIixcbiAgICBpZDogXCJMYXllcl8xXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTAzLjE3MzIyIDEwNC4zMTMzMlwiLFxuICAgIHhtbFNwYWNlOiBcInByZXNlcnZlXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIHtcbiAgICBpZDogXCJkZWZzNDNcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIm0gNjQuNTY2NTA5LDIyLjExNjM4MyB2IDIwLjQwNDI3MyBsIDcuMTMwNTI2LDQuNDg5ODgxIGMgMC4xODgwNTgsMC4wNTQ4NSAwLjU5NTUxNiwwLjA1ODc3IDAuNzgzNTc0LDAgTCAxMDMuMTY5MjksMjYuMzIwMjU5IGMgMCwtMi40NDg2NyAtMi4yODQxMiwtNC4yMDM4NzYgLTMuNTczMDk0LC00LjIwMzg3NiBIIDY0LjU2NjUwOSB6XCIsXG4gICAgaWQ6IFwicGF0aDNcIixcbiAgICBzdHlsZToge1xuICAgICAgZmlsbDogJyMwMDcyYzYnXG4gICAgfVxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIm0gNjQuNTY2NTA5LDUwLjEzMzA4IDYuNTA3NTg0LDQuNDcwMjkxIGMgMC45MTY3ODIsMC42NzM4NzQgMi4wMjE2MjIsMCAyLjAyMTYyMiwwIC0xLjEwMDkyMiwwLjY3Mzg3NCAzMC4wNzc0OTUsLTIwLjAzNTk5MyAzMC4wNzc0OTUsLTIwLjAzNTk5MyB2IDM3LjUwMTg2MyBjIDAsNC4wODI0MjIgLTIuNjEzMjIsNS43OTQ1MzEgLTUuNTUxNjIxLDUuNzk0NTMxIEggNjQuNTYyNTkxIFYgNTAuMTMzMDggelwiLFxuICAgIGlkOiBcInBhdGg1XCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGZpbGw6ICcjMDA3MmM2J1xuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgaWQ6IFwiZzIzXCIsXG4gICAgdHJhbnNmb3JtOiBcIm1hdHJpeCgzLjkxNzg3MTIsMCwwLDMuOTE3ODcxMiwtMTMuNDgxNDAzLC00MS4zODQ0NzMpXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIm0gMTEuMzIxLDIwLjk1OCBjIC0wLjU2NiwwIC0xLjAxNywwLjI2NiAtMS4zNSwwLjc5NyAtMC4zMzMsMC41MzEgLTAuNSwxLjIzNCAtMC41LDIuMTA5IDAsMC44ODggMC4xNjcsMS41OSAwLjUsMi4xMDYgMC4zMzMsMC41MTcgMC43NywwLjc3NCAxLjMxLDAuNzc0IDAuNTU3LDAgMC45OTksLTAuMjUxIDEuMzI1LC0wLjc1MyAwLjMyNiwtMC41MDIgMC40OSwtMS4xOTkgMC40OSwtMi4wOSAwLC0wLjkyOSAtMC4xNTgsLTEuNjUyIC0wLjQ3NSwtMi4xNjkgLTAuMzE3LC0wLjUxNiAtMC43NSwtMC43NzQgLTEuMywtMC43NzQgelwiLFxuICAgIGlkOiBcInBhdGgyNVwiLFxuICAgIHN0eWxlOiB7XG4gICAgICBmaWxsOiAnIzAwNzJjNidcbiAgICB9XG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwibSAzLjQ0MSwxMy41NjMgdiAyMC4zNzUgbCAxNS41LDMuMjUgViAxMC41NjMgbCAtMTUuNSwzIHogbSAxMC4zNzIsMTMuNjMyIGMgLTAuNjU1LDAuODYyIC0xLjUwOSwxLjI5NCAtMi41NjMsMS4yOTQgLTEuMDI3LDAgLTEuODYzLC0wLjQxOCAtMi41MSwtMS4yNTMgQyA4LjA5NCwyNi40IDcuNzcsMjUuMzEyIDcuNzcsMjMuOTcgYyAwLC0xLjQxNyAwLjMyOCwtMi41NjMgMC45ODUsLTMuNDM4IDAuNjU3LC0wLjg3NSAxLjUyNywtMS4zMTMgMi42MSwtMS4zMTMgMS4wMjMsMCAxLjg1MSwwLjQxOCAyLjQ4MiwxLjI1NiAwLjYzMiwwLjgzOCAwLjk0OCwxLjk0MiAwLjk0OCwzLjMxMyAxMGUtNCwxLjQwOSAtMC4zMjcsMi41NDUgLTAuOTgyLDMuNDA3IHpcIixcbiAgICBpZDogXCJwYXRoMjdcIixcbiAgICBzdHlsZToge1xuICAgICAgZmlsbDogJyMwMDcyYzYnXG4gICAgfVxuICB9KSkpO1xufTtcbnZhciBPdXRsb29rSWNvbiA9IENyZWF0ZUljb24oT3V0bG9va0ljb25TdmcpO1xudmFyIFlhaG9vSWNvblN2ZyA9IGZ1bmN0aW9uIFlhaG9vSWNvblN2ZygpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICB4OiBcIjJcIixcbiAgICB5OiBcIjJcIixcbiAgICB3aWR0aDogXCIyMFwiLFxuICAgIGhlaWdodDogXCIyMFwiLFxuICAgIHJ4OiBcIjFcIixcbiAgICBmaWxsOiBcIiM2NzFCREZcIlxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01IDguNzI4NEg3LjcxNDA3TDkuMjk0NDQgMTIuNzcxNkwxMC44OTUzIDguNzI4NEgxMy41Mzc5TDkuNTU4NzYgMTguM0g2Ljg5OTQyTDcuOTg4NjUgMTUuNzYzN0w1IDguNzI4NFpcIixcbiAgICBmaWxsOiBcIndoaXRlXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTQuMiAxNi4yMDI4QzE1LjEwOCAxNi4yMDI4IDE1Ljg0NDEgMTUuNDY2NyAxNS44NDQxIDE0LjU1ODdDMTUuODQ0MSAxMy42NTA3IDE1LjEwOCAxMi45MTQ2IDE0LjIgMTIuOTE0NkMxMy4yOTIgMTIuOTE0NiAxMi41NTU5IDEzLjY1MDcgMTIuNTU1OSAxNC41NTg3QzEyLjU1NTkgMTUuNDY2NyAxMy4yOTIgMTYuMjAyOCAxNC4yIDE2LjIwMjhaXCIsXG4gICAgZmlsbDogXCJ3aGl0ZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE2LjM4NDIgMTIuMzEwNkgxMy40MjQzTDE2LjA1MTIgNkgxOUwxNi4zODQyIDEyLjMxMDZaXCIsXG4gICAgZmlsbDogXCJ3aGl0ZVwiXG4gIH0pKTtcbn07XG52YXIgWWFob29JY29uID0gQ3JlYXRlSWNvbihZYWhvb0ljb25TdmcpO1xudmFyIGluYm94TGlua3MkMSA9IGZ1bmN0aW9uIGluYm94TGlua3MkMShlbWFpbERvbWFpbikge1xuICBpZiAoIWVtYWlsRG9tYWluKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEdNQUlMOiAnaHR0cHM6Ly9tYWlsLmdvb2dsZS5jb20vbWFpbC91LzAvI3NlYXJjaC9pbiUzQWFueXdoZXJlJyxcbiAgICAgIE9VVExPT0s6ICdodHRwczovL291dGxvb2sub2ZmaWNlLmNvbS9tYWlsLzAvaW5ib3gnLFxuICAgICAgWUFIT086ICdodHRwczovL21haWwueWFob28uY29tL2Qvc2VhcmNoL3JlZmVycmVyPXVucmVhZCdcbiAgICB9O1xuICB9XG4gIHZhciBnbWFpbFF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFwiZnJvbTpAXCIuY29uY2F0KGVtYWlsRG9tYWluLCBcIiBpbjphbnl3aGVyZVwiKSk7XG4gIHJldHVybiB7XG4gICAgR01BSUw6IFwiaHR0cHM6Ly9tYWlsLmdvb2dsZS5jb20vbWFpbC91LzAvI3NlYXJjaC9cIi5jb25jYXQoZ21haWxRdWVyeSksXG4gICAgT1VUTE9PSzogJ2h0dHBzOi8vb3V0bG9vay5vZmZpY2UuY29tL21haWwvMC9pbmJveCcsXG4gICAgWUFIT086IFwiaHR0cHM6Ly9tYWlsLnlhaG9vLmNvbS9kL3NlYXJjaC9rZXl3b3JkPVwiLmNvbmNhdChlbWFpbERvbWFpbilcbiAgfTtcbn07XG52YXIgTGluayQxID0gSGUuYShfdGVtcGxhdGVPYmplY3QyOCB8fCAoX3RlbXBsYXRlT2JqZWN0MjggPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG5cXG4gICY6aG92ZXIge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG4gICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBcIiwgXCI7XFxuICB9XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLnByaW1hcnk7XG59KTtcbnZhciBFbWFpbFByb3ZpZGVyTGluayQxID0gZnVuY3Rpb24gRW1haWxQcm92aWRlckxpbmskMShfcmVmNTQpIHtcbiAgdmFyIGxhYmVsID0gX3JlZjU0LmxhYmVsLFxuICAgIGhyZWYgPSBfcmVmNTQuaHJlZixcbiAgICBJY29uID0gX3JlZjU0Lkljb247XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZ2FwOiA0XG4gIH0sIEljb24sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExpbmskMSwge1xuICAgIGhyZWY6IGhyZWYsXG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwgbnVsbCwgXCJPcGVuIGluIFwiLCBsYWJlbCkpKTtcbn07XG52YXIgRW1haWxDb25maXJtYXRpb24kMSA9IGZ1bmN0aW9uIEVtYWlsQ29uZmlybWF0aW9uJDEoX3JlZjU1KSB7XG4gIHZhciBlbWFpbERvbWFpbiA9IF9yZWY1NS5lbWFpbERvbWFpbixcbiAgICByZXNldCA9IF9yZWY1NS5yZXNldCxcbiAgICBlbWFpbCA9IF9yZWY1NS5lbWFpbDtcbiAgdmFyIF9pbmJveExpbmtzJCA9IGluYm94TGlua3MkMShlbWFpbERvbWFpbiksXG4gICAgR01BSUwgPSBfaW5ib3hMaW5rcyQuR01BSUwsXG4gICAgWUFIT08gPSBfaW5ib3hMaW5rcyQuWUFIT08sXG4gICAgT1VUTE9PSyA9IF9pbmJveExpbmtzJC5PVVRMT09LO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiQ2hlY2sgeW91ciBlbWFpbFwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDEyXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIFwiQW4gZW1haWwgd2FzIHNlbnQgdG8gXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLCBudWxsLCBlbWFpbCksIFwiLlwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDhcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxQcm92aWRlckxpbmskMSwge1xuICAgIGhyZWY6IEdNQUlMLFxuICAgIGxhYmVsOiAnR21haWwnLFxuICAgIEljb246IC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEdtYWlsSWNvbiwgbnVsbClcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsUHJvdmlkZXJMaW5rJDEsIHtcbiAgICBocmVmOiBZQUhPTyxcbiAgICBsYWJlbDogJ1lhaG9vJyxcbiAgICBJY29uOiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChZYWhvb0ljb24sIG51bGwpXG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFbWFpbFByb3ZpZGVyTGluayQxLCB7XG4gICAgaHJlZjogT1VUTE9PSyxcbiAgICBsYWJlbDogJ091dGxvb2snLFxuICAgIEljb246IC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE91dGxvb2tJY29uLCBudWxsKVxuICB9KSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IHJlc2V0XG4gIH0sIFwiVHJ5IGFnYWluXCIpKTtcbn07XG52YXIgdXNlRW1haWxEb21haW4kMSA9IGZ1bmN0aW9uIHVzZUVtYWlsRG9tYWluJDEoKSB7XG4gIHZhciBfYSwgX2I7XG4gIHZhciBzdHl0Y2ggPSB1c2VTdHl0Y2goKTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgX2gkMjMgPSBoJDEoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWFkQjJCSW50ZXJuYWxzJGJvbyA9IHJlYWRCMkJJbnRlcm5hbHMoc3R5dGNoKS5ib290c3RyYXAuZ2V0U3luYygpLFxuICAgICAgICBlbWFpbERvbWFpbnMgPSBfcmVhZEIyQkludGVybmFscyRib28uZW1haWxEb21haW5zO1xuICAgICAgcmV0dXJuIGVtYWlsRG9tYWlucztcbiAgICB9KSxcbiAgICBfaCQyNCA9IF9zbGljZWRUb0FycmF5KF9oJDIzLCAyKSxcbiAgICBlbWFpbERvbWFpbnMgPSBfaCQyNFswXSxcbiAgICBzZXRFbWFpbERvbWFpbnMgPSBfaCQyNFsxXTtcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICByZWFkQjJCSW50ZXJuYWxzKHN0eXRjaCkuYm9vdHN0cmFwLmdldEFzeW5jKCkudGhlbihmdW5jdGlvbiAoX3JlZjU2KSB7XG4gICAgICB2YXIgZW1haWxEb21haW5zID0gX3JlZjU2LmVtYWlsRG9tYWlucztcbiAgICAgIHNldEVtYWlsRG9tYWlucyhlbWFpbERvbWFpbnMpO1xuICAgIH0pO1xuICB9LCBbc3R5dGNoXSk7XG4gIGlmICgoX2EgPSBjb25maWcuZW1haWxNYWdpY0xpbmtzT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRvbWFpbkhpbnQpIHtcbiAgICByZXR1cm4gKF9iID0gY29uZmlnLmVtYWlsTWFnaWNMaW5rc09wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kb21haW5IaW50O1xuICB9XG4gIGlmIChlbWFpbERvbWFpbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGVtYWlsRG9tYWluc1swXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG52YXIgRW1haWxDb25maXJtYXRpb24gPSBmdW5jdGlvbiBFbWFpbENvbmZpcm1hdGlvbigpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMjcgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXIyOCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyMjcsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXIyOFswXSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyMjhbMV07XG4gIHZhciBlbWFpbERvbWFpbiA9IHVzZUVtYWlsRG9tYWluJDEoKTtcbiAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ3NldF9tYWdpY19saW5rX2VtYWlsJyxcbiAgICAgIGVtYWlsOiAnJ1xuICAgIH0pO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLk1haW5cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsQ29uZmlybWF0aW9uJDEsIHtcbiAgICBlbWFpbERvbWFpbjogZW1haWxEb21haW4sXG4gICAgcmVzZXQ6IHJlc2V0LFxuICAgIGVtYWlsOiBzdGF0ZS5mb3JtU3RhdGUubWFnaWNMaW5rU3RhdGUuZW1haWxcbiAgfSk7XG59O1xudmFyIExvZ2dpbmdJblNjcmVlbiA9IGZ1bmN0aW9uIExvZ2dpbmdJblNjcmVlbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAzNixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gIH0sIC8qI19fUFVSRV9fKi95KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiTG9nZ2luZyBpbi4uLlwiKSwgLyojX19QVVJFX18qL3koQ2lyY3VsYXJQcm9ncmVzcywge1xuICAgIHNpemU6IDEwMCxcbiAgICB0aGlja25lc3M6IDhcbiAgfSkpO1xufTtcbnZhciBMb2FkaW5nU2NyZWVuID0gZnVuY3Rpb24gTG9hZGluZ1NjcmVlbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAzNixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gIH0sIC8qI19fUFVSRV9fKi95KENpcmN1bGFyUHJvZ3Jlc3MsIHtcbiAgICBzaXplOiAxMDAsXG4gICAgdGhpY2tuZXNzOiA4XG4gIH0pKTtcbn07XG52YXIgT3JnYW5pemF0aW9uc0NvbnRhaW5lciA9IEhlKEZsZXgpKF90ZW1wbGF0ZU9iamVjdDI5IHx8IChfdGVtcGxhdGVPYmplY3QyOSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBib3JkZXI6IFwiLCBcIjtcXG4gIGJvcmRlci1yYWRpdXM6IFwiLCBcIjtcXG4gID4gZGl2ICsgZGl2IHtcXG4gICAgYm9yZGVyLXRvcDogXCIsIFwiO1xcbiAgfVxcblwiXSkpLCBmdW5jdGlvbiAoX3JlZjU3KSB7XG4gIHZhciB0aGVtZSA9IF9yZWY1Ny50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmNvbnRhaW5lci5ib3JkZXI7XG59LCBmdW5jdGlvbiAoX3JlZjU4KSB7XG4gIHZhciB0aGVtZSA9IF9yZWY1OC50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmNvbnRhaW5lci5ib3JkZXJSYWRpdXM7XG59LCBmdW5jdGlvbiAoX3JlZjU5KSB7XG4gIHZhciB0aGVtZSA9IF9yZWY1OS50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmNvbnRhaW5lci5ib3JkZXI7XG59KTtcbnZhciBPcmdhbml6YXRpb25zUm93ID0gSGUoRmxleCkoX3RlbXBsYXRlT2JqZWN0MzAgfHwgKF90ZW1wbGF0ZU9iamVjdDMwID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG5cIl0pKSk7XG52YXIgTG9nb0ltYWdlID0gSGUuaW1nKF90ZW1wbGF0ZU9iamVjdDMxIHx8IChfdGVtcGxhdGVPYmplY3QzMSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBoZWlnaHQ6IDQwcHg7XFxuICB3aWR0aDogNDBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG5cIl0pKSk7XG52YXIgTG9nb1RleHQgPSBIZShGbGV4KShfdGVtcGxhdGVPYmplY3QzMiB8fCAoX3RlbXBsYXRlT2JqZWN0MzIgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgd2lkdGg6IDQwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBcIiwgXCI7XFxuICBjb2xvcjogXCIsIFwiO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcblxcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMThweDtcXG4gIGxpbmUtaGVpZ2h0OiAyNXB4O1xcblwiXSkpLCBmdW5jdGlvbiAoX3JlZjYwKSB7XG4gIHZhciB0aGVtZSA9IF9yZWY2MC50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmJ1dHRvbnMucHJpbWFyeS5iYWNrZ3JvdW5kQ29sb3I7XG59LCBmdW5jdGlvbiAoX3JlZjYxKSB7XG4gIHZhciB0aGVtZSA9IF9yZWY2MS50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmJ1dHRvbnMucHJpbWFyeS50ZXh0Q29sb3I7XG59KTtcbnZhciBSaWdodEFycm93U1ZHID0gZnVuY3Rpb24gUmlnaHRBcnJvd1NWRygpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogXCIxNFwiLFxuICAgIGhlaWdodDogXCIxNFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInBhdGhcIiwge1xuICAgIGQ6IFwiTTcgMC4zMzMzMTNMNS44MjUgMS41MDgzMUwxMC40NzUgNi4xNjY2NUgwLjMzMzMzNFY3LjgzMzMxSDEwLjQ3NUw1LjgyNSAxMi40OTE2TDcgMTMuNjY2NkwxMy42NjY3IDYuOTk5OThMNyAwLjMzMzMxM1pcIixcbiAgICBmaWxsOiBcIiMxOTMwM0RcIlxuICB9KSk7XG59O1xudmFyIExvZ28gPSBmdW5jdGlvbiBMb2dvKF9yZWY2Mikge1xuICB2YXIgbmFtZSA9IF9yZWY2Mi5uYW1lLFxuICAgIGxvZ28gPSBfcmVmNjIubG9nbztcbiAgaWYgKGxvZ28gIT09ICcnKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi95KExvZ29JbWFnZSwge1xuICAgICAgc3JjOiBsb2dvXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KExvZ29UZXh0LCB7XG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIlxuICB9LCBuYW1lWzBdKTtcbn07XG52YXIgQXJyb3dUZXh0ID0gZnVuY3Rpb24gQXJyb3dUZXh0KF9yZWY2Mykge1xuICB2YXIgdHlwZSA9IF9yZWY2My50eXBlO1xuICBpZiAodHlwZSA9PT0gJ2VsaWdpYmxlX3RvX2pvaW5fYnlfZW1haWxfZG9tYWluJyB8fCB0eXBlID09PSAncGVuZGluZ19tZW1iZXInKSByZXR1cm4gLyojX19QVVJFX18qL3koVGV4dCwgbnVsbCwgXCJKb2luXCIpO1xuICBpZiAodHlwZSA9PT0gJ2ludml0ZWRfbWVtYmVyJykgcmV0dXJuIC8qI19fUFVSRV9fKi95KFRleHQsIG51bGwsIFwiQWNjZXB0IEludml0ZVwiKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KGckMSwgbnVsbCk7XG59O1xudmFyIERpc2NvdmVyTm9Pcmdhbml6YXRpb25zID0gZnVuY3Rpb24gRGlzY292ZXJOb09yZ2FuaXphdGlvbnMoKSB7XG4gIHZhciBfdXNlR2xvYmFsUmVkdWNlcjI5ID0gdXNlR2xvYmFsUmVkdWNlcigpLFxuICAgIF91c2VHbG9iYWxSZWR1Y2VyMzAgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjI5LCAyKSxcbiAgICBzdGF0ZSA9IF91c2VHbG9iYWxSZWR1Y2VyMzBbMF0sXG4gICAgZGlzcGF0Y2ggPSBfdXNlR2xvYmFsUmVkdWNlcjMwWzFdO1xuICB2YXIgc3R5dGNoQ2xpZW50ID0gdXNlU3R5dGNoKCk7XG4gIHZhciBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgdmFyIF91c2VCb290c3RyYXAgPSB1c2VCb290c3RyYXAoKSxcbiAgICBjcmVhdGVPcmdhbml6YXRpb25FbmFibGVkID0gX3VzZUJvb3RzdHJhcC5jcmVhdGVPcmdhbml6YXRpb25FbmFibGVkO1xuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5NYWluXG4gICAgfSk7XG4gIH07XG4gIHZhciBfdXNlTXV0YXRlNCA9IHVzZU11dGF0ZShcInN0eXRjaC5kaXNjb3Zlcnkub3JnYW5pemF0aW9uLmNyZWF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc3R5dGNoQ2xpZW50LmRpc2NvdmVyeS5vcmdhbml6YXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogY29uZmlnLnNlc3Npb25PcHRpb25zLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXNcbiAgICAgIH0pO1xuICAgIH0sIHtcbiAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgb25BdXRoZW50aWNhdGVTdWNjZXNzKGRhdGEsIGRpc3BhdGNoLCBjb25maWcpO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuRXJyb3JcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgc3R5dGNoQ3JlYXRlT3JnYW5pemF0aW9uID0gX3VzZU11dGF0ZTQudHJpZ2dlcixcbiAgICBpc0NyZWF0ZUxvYWRpbmcgPSBfdXNlTXV0YXRlNC5pc011dGF0aW5nO1xuICBpZiAoaXNDcmVhdGVMb2FkaW5nKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi95KExvYWRpbmdTY3JlZW4sIG51bGwpO1xuICB9XG4gIGlmIChjcmVhdGVPcmdhbml6YXRpb25FbmFibGVkICYmICFjb25maWcuZGlzYWJsZUNyZWF0ZU9yZ2FuaXphdGlvbikge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyoveShGbGV4LCB7XG4gICAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICBnYXA6IDI0XG4gICAgfSwgLyojX19QVVJFX18qL3koQmFja0Fycm93LCB7XG4gICAgICBvbkNsaWNrOiBnb0JhY2tcbiAgICB9KSwgLyojX19QVVJFX18qL3koVGV4dCwge1xuICAgICAgc2l6ZTogXCJoZWFkZXJcIlxuICAgIH0sIFwiQ3JlYXRlIGFuIG9yZ2FuaXphdGlvbiB0byBnZXQgc3RhcnRlZFwiKSwgLyojX19QVVJFX18qL3koQnV0dG9uLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIHN0eXRjaENyZWF0ZU9yZ2FuaXphdGlvbigpO1xuICAgICAgfVxuICAgIH0sIFwiQ3JlYXRlIGFuIG9yZ2FuaXphdGlvblwiKSwgLyojX19QVVJFX18qL3koVGV4dCwgbnVsbCwgc3RhdGUuZm9ybVN0YXRlLmRpc2NvdmVyeVN0YXRlLmVtYWlsLCBcIiBkb2VzIG5vdCBoYXZlIGFuIGFjY291bnQuIFRoaW5rIHRoaXMgaXMgYSBtaXN0YWtlPyBUcnkgYSBkaWZmZXJlbnQgZW1haWwgYWRkcmVzcywgb3IgY29udGFjdCB5b3VyIGFkbWluLlwiKSk7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAyNFxuICB9LCAvKiNfX1BVUkVfXyoveShCYWNrQXJyb3csIHtcbiAgICBvbkNsaWNrOiBnb0JhY2tcbiAgfSksIC8qI19fUFVSRV9fKi95KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIHN0YXRlLmZvcm1TdGF0ZS5kaXNjb3ZlcnlTdGF0ZS5lbWFpbCwgXCIgZG9lcyBub3QgYmVsb25nIHRvIGFueSBvcmdhbml6YXRpb25zLlwiKSwgLyojX19QVVJFX18qL3koVGV4dCwgbnVsbCwgXCJNYWtlIHN1cmUgeW91ciBlbWFpbCBhZGRyZXNzIGlzIGNvcnJlY3QuIE90aGVyd2lzZSwgeW91IG1pZ2h0IG5lZWQgdG8gYmUgaW52aXRlZCBieSB5b3VyIGFkbWluLlwiKSwgLyojX19QVVJFX18qL3koQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB2YXJpYW50OiBcIm91dGxpbmVkXCIsXG4gICAgb25DbGljazogZ29CYWNrXG4gIH0sIFwiVHJ5IGEgZGlmZmVyZW50IGVtYWlsIGFkZHJlc3NcIikpO1xufTtcbnZhciBzaG91bGRBbGxvd0RpcmVjdExvZ2luVG9Pcmdhbml6YXRpb24gPSBmdW5jdGlvbiBzaG91bGRBbGxvd0RpcmVjdExvZ2luVG9Pcmdhbml6YXRpb24ob3JnYW5pemF0aW9ucywgY29uZmlnKSB7XG4gIGlmICghKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5zdGF0dXMpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGFjdGl2ZU9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zLmZpbHRlcihmdW5jdGlvbiAob3JnKSB7XG4gICAgcmV0dXJuIG9yZy5tZW1iZXJzaGlwLnR5cGUgPT09ICdhY3RpdmVfbWVtYmVyJztcbiAgfSk7XG4gIHZhciBoYXNCbG9ja2luZ0NvbmRpdGlvbnMgPSBvcmdhbml6YXRpb25zLnNvbWUoZnVuY3Rpb24gKG9yZykge1xuICAgIHJldHVybiAob3JnLm1lbWJlcnNoaXAudHlwZSA9PT0gJ3BlbmRpbmdfbWVtYmVyJyB8fCBvcmcubWVtYmVyc2hpcC50eXBlID09PSAnaW52aXRlZF9tZW1iZXInKSAmJiAhY29uZmlnLmlnbm9yZUludml0ZXMgfHwgb3JnLm1lbWJlcnNoaXAudHlwZSA9PT0gJ2VsaWdpYmxlX3RvX2pvaW5fYnlfZW1haWxfZG9tYWluJyAmJiAhY29uZmlnLmlnbm9yZUppdFByb3Zpc2lvbmluZztcbiAgfSk7XG4gIHJldHVybiBhY3RpdmVPcmdhbml6YXRpb25zLmxlbmd0aCA9PT0gMSAmJiAhaGFzQmxvY2tpbmdDb25kaXRpb25zID8gYWN0aXZlT3JnYW5pemF0aW9uc1swXSA6IG51bGw7XG59O1xudmFyIERpc2NvdmVyeSA9IGZ1bmN0aW9uIERpc2NvdmVyeSgpIHtcbiAgdmFyIF9hO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXIzMSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjMyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXIzMSwgMiksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjMyWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXIzMlsxXTtcbiAgdmFyIHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgY29uZmlnID0gdXNlQ29uZmlnKCk7XG4gIHZhciBzaG91bGREaXJlY3RMb2dpbkNvbmZpZ0VuYWJsZWQgPSAhISgoX2EgPSBjb25maWcuZGlyZWN0TG9naW5Gb3JTaW5nbGVNZW1iZXJzaGlwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzKTtcbiAgdmFyIF91c2VCb290c3RyYXAyID0gdXNlQm9vdHN0cmFwKCksXG4gICAgY3JlYXRlT3JnYW5pemF0aW9uRW5hYmxlZCA9IF91c2VCb290c3RyYXAyLmNyZWF0ZU9yZ2FuaXphdGlvbkVuYWJsZWQ7XG4gIHAkMShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRpcmVjdExvZ2luT3JnYW5pemF0aW9uID0gc2hvdWxkQWxsb3dEaXJlY3RMb2dpblRvT3JnYW5pemF0aW9uKHN0YXRlLmZvcm1TdGF0ZS5kaXNjb3ZlcnlTdGF0ZS5kaXNjb3ZlcmVkT3JnYW5pemF0aW9ucywgY29uZmlnLmRpcmVjdExvZ2luRm9yU2luZ2xlTWVtYmVyc2hpcCk7XG4gICAgaWYgKHNob3VsZERpcmVjdExvZ2luQ29uZmlnRW5hYmxlZCAmJiBkaXJlY3RMb2dpbk9yZ2FuaXphdGlvbiAhPT0gbnVsbCkge1xuICAgICAgaGFuZGxlRGlzY292ZXJ5T3JnYW5pemF0aW9uU3RhcnQoZGlyZWN0TG9naW5Pcmdhbml6YXRpb24pO1xuICAgIH1cbiAgfSwgW3Nob3VsZERpcmVjdExvZ2luQ29uZmlnRW5hYmxlZCwgc3RhdGUuZm9ybVN0YXRlLmRpc2NvdmVyeVN0YXRlLmRpc2NvdmVyZWRPcmdhbml6YXRpb25zLCBjb25maWcuZGlyZWN0TG9naW5Gb3JTaW5nbGVNZW1iZXJzaGlwXSk7XG4gIHZhciBoYW5kbGVEaXNjb3ZlcnlPcmdhbml6YXRpb25TdGFydCA9IGZ1bmN0aW9uIGhhbmRsZURpc2NvdmVyeU9yZ2FuaXphdGlvblN0YXJ0KGRpc2NvdmVyZWRPcmdhbml6YXRpb24pIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIG9yZ2FuaXphdGlvbiA9IGRpc2NvdmVyZWRPcmdhbml6YXRpb24ub3JnYW5pemF0aW9uO1xuICAgIHZhciBlbWFpbCA9IChfYSA9IGRpc2NvdmVyZWRPcmdhbml6YXRpb24ubWVtYmVyc2hpcC5tZW1iZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWFpbF9hZGRyZXNzO1xuICAgIGlmIChkaXNjb3ZlcmVkT3JnYW5pemF0aW9uLnByaW1hcnlfcmVxdWlyZWQpIHtcbiAgICAgIGlmIChvcmdhbml6YXRpb24uYWxsb3dlZF9hdXRoX21ldGhvZHMgJiYgb3JnYW5pemF0aW9uLmFsbG93ZWRfYXV0aF9tZXRob2RzLmxlbmd0aCA9PT0gMSAmJiBvcmdhbml6YXRpb24uYWxsb3dlZF9hdXRoX21ldGhvZHNbMF0gPT09ICdzc28nICYmIG9yZ2FuaXphdGlvbi5zc29fZGVmYXVsdF9jb25uZWN0aW9uX2lkKSB7XG4gICAgICAgIHN0YXJ0U3NvKG9yZ2FuaXphdGlvbi5zc29fZGVmYXVsdF9jb25uZWN0aW9uX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnc2V0X29yZ2FuaXphdGlvbicsXG4gICAgICAgICAgb3JnYW5pemF0aW9uOiBvcmdhbml6YXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnc2V0X3Bhc3N3b3JkX3N0YXRlJyxcbiAgICAgICAgICBlbWFpbDogZW1haWwgIT09IG51bGwgJiYgZW1haWwgIT09IHZvaWQgMCA/IGVtYWlsIDogJydcbiAgICAgICAgfSk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuTWFpblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3R5dGNoRGlzY292ZXJ5RXhjaGFuZ2Uoe1xuICAgICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl9pZFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgc3RhcnRTc28gPSBUKGZ1bmN0aW9uIChjb25uZWN0aW9uSWQpIHtcbiAgICBzdHl0Y2hDbGllbnQuc3NvLnN0YXJ0KHtcbiAgICAgIGNvbm5lY3Rpb25faWQ6IGNvbm5lY3Rpb25JZFxuICAgIH0pO1xuICB9LCBbc3R5dGNoQ2xpZW50XSk7XG4gIHZhciBfdXNlTXV0YXRlNSA9IHVzZU11dGF0ZShcInN0eXRjaC5kaXNjb3ZlcnkuaW50ZXJtZWRpYXRlU2Vzc2lvbnMuZXhjaGFuZ2VcIiwgZnVuY3Rpb24gKF8sIF9yZWY2NCkge1xuICAgICAgdmFyIG9yZ2FuaXphdGlvbklkID0gX3JlZjY0LmFyZy5vcmdhbml6YXRpb25JZDtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQuZGlzY292ZXJ5LmludGVybWVkaWF0ZVNlc3Npb25zLmV4Y2hhbmdlKHtcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZCxcbiAgICAgICAgc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOiBjb25maWcuc2Vzc2lvbk9wdGlvbnMuc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICBvbkF1dGhlbnRpY2F0ZVN1Y2Nlc3MoZGF0YSwgZGlzcGF0Y2gsIGNvbmZpZyk7XG4gICAgICB9XG4gICAgfSksXG4gICAgc3R5dGNoRGlzY292ZXJ5RXhjaGFuZ2UgPSBfdXNlTXV0YXRlNS50cmlnZ2VyLFxuICAgIGlzRXhjaGFuZ2VMb2FkaW5nID0gX3VzZU11dGF0ZTUuaXNNdXRhdGluZztcbiAgdmFyIF91c2VNdXRhdGU2ID0gdXNlTXV0YXRlKFwic3R5dGNoLmRpc2NvdmVyeS5vcmdhbml6YXRpb24uY3JlYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQuZGlzY292ZXJ5Lm9yZ2FuaXphdGlvbnMuY3JlYXRlKHtcbiAgICAgICAgc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOiBjb25maWcuc2Vzc2lvbk9wdGlvbnMuc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICBvbkF1dGhlbnRpY2F0ZVN1Y2Nlc3MoZGF0YSwgZGlzcGF0Y2gsIGNvbmZpZyk7XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5FcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBzdHl0Y2hDcmVhdGVPcmdhbml6YXRpb24gPSBfdXNlTXV0YXRlNi50cmlnZ2VyLFxuICAgIGlzQ3JlYXRlTG9hZGluZyA9IF91c2VNdXRhdGU2LmlzTXV0YXRpbmc7XG4gIGlmIChpc0V4Y2hhbmdlTG9hZGluZykge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyoveShMb2dnaW5nSW5TY3JlZW4sIG51bGwpO1xuICB9XG4gIGlmIChpc0NyZWF0ZUxvYWRpbmcpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3koTG9hZGluZ1NjcmVlbiwgbnVsbCk7XG4gIH1cbiAgaWYgKHN0YXRlLmZvcm1TdGF0ZS5kaXNjb3ZlcnlTdGF0ZS5kaXNjb3ZlcmVkT3JnYW5pemF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3koRGlzY292ZXJOb09yZ2FuaXphdGlvbnMsIG51bGwpO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyoveShGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMjRcbiAgfSwgLyojX19QVVJFX18qL3koQmFja0Fycm93LCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuTWFpblxuICAgICAgfSk7XG4gICAgfVxuICB9KSwgLyojX19QVVJFX18qL3koVGV4dCwge1xuICAgIHNpemU6IFwiaGVhZGVyXCJcbiAgfSwgXCJTZWxlY3QgYW4gb3JnYW5pemF0aW9uIHRvIGNvbnRpbnVlXCIpLCAvKiNfX1BVUkVfXyoveShPcmdhbml6YXRpb25zQ29udGFpbmVyLCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiXG4gIH0sIHN0YXRlLmZvcm1TdGF0ZS5kaXNjb3ZlcnlTdGF0ZS5kaXNjb3ZlcmVkT3JnYW5pemF0aW9ucy5tYXAoZnVuY3Rpb24gKGRpc2NvdmVyZWRPcmdhbml6YXRpb24pIHtcbiAgICB2YXIgb3JnYW5pemF0aW9uID0gZGlzY292ZXJlZE9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb24sXG4gICAgICBtZW1iZXJzaGlwID0gZGlzY292ZXJlZE9yZ2FuaXphdGlvbi5tZW1iZXJzaGlwO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyoveShPcmdhbml6YXRpb25zUm93LCB7XG4gICAgICBwYWRkaW5nOiA4LFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAga2V5OiBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX2lkLFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVEaXNjb3ZlcnlPcmdhbml6YXRpb25TdGFydChkaXNjb3ZlcmVkT3JnYW5pemF0aW9uKTtcbiAgICAgIH1cbiAgICB9LCAvKiNfX1BVUkVfXyoveShGbGV4LCB7XG4gICAgICBnYXA6IDQsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgfSwgLyojX19QVVJFX18qL3koTG9nbywge1xuICAgICAgbmFtZTogb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl9uYW1lLFxuICAgICAgbG9nbzogb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl9sb2dvX3VybFxuICAgIH0pLCAvKiNfX1BVUkVfXyoveShUZXh0LCBudWxsLCBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX25hbWUpKSwgLyojX19QVVJFX18qL3koRmxleCwge1xuICAgICAgZ2FwOiA0LFxuICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgIH0sIC8qI19fUFVSRV9fKi95KEFycm93VGV4dCwge1xuICAgICAgdHlwZTogbWVtYmVyc2hpcC50eXBlXG4gICAgfSksIC8qI19fUFVSRV9fKi95KFJpZ2h0QXJyb3dTVkcsIG51bGwpKSk7XG4gIH0pKSwgY3JlYXRlT3JnYW5pemF0aW9uRW5hYmxlZCAmJiAoIC8qI19fUFVSRV9fKi95KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiA4XG4gIH0sIC8qI19fUFVSRV9fKi95KERpdmlkZXIsIG51bGwpLCAvKiNfX1BVUkVfXyoveShCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIHZhcmlhbnQ6IFwib3V0bGluZWRcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHN0eXRjaENyZWF0ZU9yZ2FuaXphdGlvbigpO1xuICAgIH1cbiAgfSwgXCJDcmVhdGUgYW4gb3JnYW5pemF0aW9uXCIpKSkpO1xufTtcbnZhciBDb25maXJtYXRpb25TVkcgPSBmdW5jdGlvbiBDb25maXJtYXRpb25TVkcoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyoveShcInN2Z1wiLCB7XG4gICAgd2lkdGg6IFwiMjAxXCIsXG4gICAgaGVpZ2h0OiBcIjIwMFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDIwMSAyMDBcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIH0sIC8qI19fUFVSRV9fKi95KFwiZ1wiLCB7XG4gICAgb3BhY2l0eTogXCIwLjFcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTAwLjUgMEMxNTUuNzI5IDAgMjAwLjUgNDQuNzcxNSAyMDAuNSA5OS45OTk5QzIwMC41IDE1NS4yMjkgMTU1LjcyOSAyMDAgMTAwLjUgMjAwQzQ1LjI3MTUgMjAwIDAuNSAxNTUuMjI5IDAuNSA5OS45OTk5QzAuNSA0NC43NzE1IDQ1LjI3MTUgMCAxMDAuNSAwWlwiLFxuICAgIGZpbGw6IFwidXJsKCNwYWludDBfbGluZWFyXzEzNTZfNTEzNSlcIlxuICB9KSksIC8qI19fUFVSRV9fKi95KFwiZ1wiLCB7XG4gICAgb3BhY2l0eTogXCIwLjNcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTAwLjUgMTcuNTcyOEMxNDYuMDIzIDE3LjU3MjggMTgyLjkyNyA1NC40NzY3IDE4Mi45MjcgOTkuOTk5OEMxODIuOTI3IDE0NS41MjMgMTQ2LjAyMyAxODIuNDI3IDEwMC41IDE4Mi40MjdDNTQuOTc2OCAxODIuNDI3IDE4LjA3MjkgMTQ1LjUyMyAxOC4wNzI5IDk5Ljk5OThDMTguMDcyOSA1NC40NzY3IDU0Ljk3NjggMTcuNTcyOCAxMDAuNSAxNy41NzI4WlwiLFxuICAgIGZpbGw6IFwidXJsKCNwYWludDFfbGluZWFyXzEzNTZfNTEzNSlcIlxuICB9KSksIC8qI19fUFVSRV9fKi95KFwiZ1wiLCB7XG4gICAgb3BhY2l0eTogXCIwLjdcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTAwLjUgMzIuMjMxQzEzNy45ODggMzIuMjMxIDE2OC4zNzggNjIuNjIwOCAxNjguMzc4IDEwMC4xMDlDMTY4LjM3OCAxMzcuNTk3IDEzNy45ODggMTY3Ljk4NyAxMDAuNSAxNjcuOTg3QzYzLjAxMiAxNjcuOTg3IDMyLjYyMjIgMTM3LjU5NyAzMi42MjIyIDEwMC4xMDlDMzIuNjIyMiA2Mi42MjA4IDYzLjAxMiAzMi4yMzEgMTAwLjUgMzIuMjMxWlwiLFxuICAgIGZpbGw6IFwidXJsKCNwYWludDJfbGluZWFyXzEzNTZfNTEzNSlcIlxuICB9KSksIC8qI19fUFVSRV9fKi95KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xMDAuNjA1IDQ4Ljc3MzRDMTI4Ljk1NSA0OC43NzM0IDE1MS45MzcgNzEuNzU1MyAxNTEuOTM3IDEwMC4xMDVDMTUxLjkzNyAxMjguNDU1IDEyOC45NTUgMTUxLjQzNyAxMDAuNjA1IDE1MS40MzdDNzIuMjU1IDE1MS40MzcgNDkuMjczMSAxMjguNDU1IDQ5LjI3MzEgMTAwLjEwNUM0OS4yNzMxIDcxLjc1NTMgNzIuMjU1IDQ4Ljc3MzQgMTAwLjYwNSA0OC43NzM0WlwiLFxuICAgIGZpbGw6IFwiIzAwQUMyNlwiLFxuICAgIGZpbGxPcGFjaXR5OiBcIjAuMTJcIlxuICB9KSwgLyojX19QVVJFX18qL3koXCJtYXNrXCIsIHtcbiAgICBpZDogXCJtYXNrMF8xMzU2XzUxMzVcIixcbiAgICBzdHlsZToge1xuICAgICAgbWFza1R5cGU6ICdhbHBoYSdcbiAgICB9LFxuICAgIG1hc2tVbml0czogXCJ1c2VyU3BhY2VPblVzZVwiLFxuICAgIHg6IFwiNDlcIixcbiAgICB5OiBcIjQ4XCIsXG4gICAgd2lkdGg6IFwiMTAzXCIsXG4gICAgaGVpZ2h0OiBcIjEwNFwiXG4gIH0sIC8qI19fUFVSRV9fKi95KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xMDAuNjA1IDQ4Ljc3MzRDMTI4Ljk1NSA0OC43NzM0IDE1MS45MzcgNzEuNzU1MyAxNTEuOTM3IDEwMC4xMDVDMTUxLjkzNyAxMjguNDU1IDEyOC45NTUgMTUxLjQzNyAxMDAuNjA1IDE1MS40MzdDNzIuMjU1IDE1MS40MzcgNDkuMjczMSAxMjguNDU1IDQ5LjI3MzEgMTAwLjEwNUM0OS4yNzMxIDcxLjc1NTMgNzIuMjU1IDQ4Ljc3MzQgMTAwLjYwNSA0OC43NzM0WlwiLFxuICAgIGZpbGw6IFwid2hpdGVcIlxuICB9KSksIC8qI19fUFVSRV9fKi95KFwiZ1wiLCB7XG4gICAgbWFzazogXCJ1cmwoI21hc2swXzEzNTZfNTEzNSlcIlxuICB9KSwgLyojX19QVVJFX18qL3koXCJwYXRoXCIsIHtcbiAgICBkOiBcIk04OCAxMTcuNUw3MC41IDEwMEw2NC42NjY3IDEwNS44MzNMODggMTI5LjE2N0wxMzggNzkuMTY2NkwxMzIuMTY3IDczLjMzMzNMODggMTE3LjVaXCIsXG4gICAgZmlsbDogXCJ3aGl0ZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyoveShcImRlZnNcIiwgbnVsbCwgLyojX19QVVJFX18qL3koXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgaWQ6IFwicGFpbnQwX2xpbmVhcl8xMzU2XzUxMzVcIixcbiAgICB4MTogXCItODYuNjM3NVwiLFxuICAgIHkxOiBcIjE2MC4zODRcIixcbiAgICB4MjogXCIxNzAuMTY5XCIsXG4gICAgeTI6IFwiMzM4LjI5N1wiLFxuICAgIGdyYWRpZW50VW5pdHM6IFwidXNlclNwYWNlT25Vc2VcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInN0b3BcIiwge1xuICAgIHN0b3BDb2xvcjogXCJ3aGl0ZVwiXG4gIH0pLCAvKiNfX1BVUkVfXyoveShcInN0b3BcIiwge1xuICAgIG9mZnNldDogXCIxXCIsXG4gICAgc3RvcENvbG9yOiBcIiMwOUYzM0RcIlxuICB9KSksIC8qI19fUFVSRV9fKi95KFwibGluZWFyR3JhZGllbnRcIiwge1xuICAgIGlkOiBcInBhaW50MV9saW5lYXJfMTM1Nl81MTM1XCIsXG4gICAgeDE6IFwiLTg2LjYzNzRcIixcbiAgICB5MTogXCIxNjAuMzg0XCIsXG4gICAgeDI6IFwiMTcwLjE2OVwiLFxuICAgIHkyOiBcIjMzOC4yOTdcIixcbiAgICBncmFkaWVudFVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCJcbiAgfSwgLyojX19QVVJFX18qL3koXCJzdG9wXCIsIHtcbiAgICBzdG9wQ29sb3I6IFwiIzAwQUMyNlwiLFxuICAgIHN0b3BPcGFjaXR5OiBcIjAuNFwiXG4gIH0pLCAvKiNfX1BVUkVfXyoveShcInN0b3BcIiwge1xuICAgIG9mZnNldDogXCIxXCIsXG4gICAgc3RvcENvbG9yOiBcIiNCREZGQkNcIixcbiAgICBzdG9wT3BhY2l0eTogXCIwLjU4XCJcbiAgfSkpLCAvKiNfX1BVUkVfXyoveShcImxpbmVhckdyYWRpZW50XCIsIHtcbiAgICBpZDogXCJwYWludDJfbGluZWFyXzEzNTZfNTEzNVwiLFxuICAgIHgxOiBcIi04Ni42Mzc1XCIsXG4gICAgeTE6IFwiMTYwLjQ5M1wiLFxuICAgIHgyOiBcIjE3MC4xNjlcIixcbiAgICB5MjogXCIzMzguNDA2XCIsXG4gICAgZ3JhZGllbnRVbml0czogXCJ1c2VyU3BhY2VPblVzZVwiXG4gIH0sIC8qI19fUFVSRV9fKi95KFwic3RvcFwiLCB7XG4gICAgc3RvcENvbG9yOiBcIiNGOEZGRjVcIlxuICB9KSwgLyojX19QVVJFX18qL3koXCJzdG9wXCIsIHtcbiAgICBvZmZzZXQ6IFwiMVwiLFxuICAgIHN0b3BDb2xvcjogXCIjMDBBQzI2XCIsXG4gICAgc3RvcE9wYWNpdHk6IFwiMC4yNlwiXG4gIH0pKSkpO1xufTtcbnZhciBDb25maXJtYXRpb25TY3JlZW4gPSBmdW5jdGlvbiBDb25maXJtYXRpb25TY3JlZW4oKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyoveShGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMjQsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICB9LCAvKiNfX1BVUkVfXyoveShUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWFkZXJcIlxuICB9LCBcIlN1Y2Nlc3MhXCIpLCAvKiNfX1BVUkVfXyoveShUZXh0LCBudWxsLCBcIllvdSBoYXZlIHN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4uXCIpLCAvKiNfX1BVUkVfXyoveShDb25maXJtYXRpb25TVkcsIG51bGwpKTtcbn07XG52YXIgYXNzZXJ0VW5yZWFjaGFibGUgPSBmdW5jdGlvbiBhc3NlcnRVbnJlYWNoYWJsZSgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdBc3NlcnRpb24gZmFpbHVyZScpO1xufTtcbnZhciBDaGV2cm9uID0gZnVuY3Rpb24gQ2hldnJvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk05LjA5IDcuOTFMMTMuNjcgMTIuNUw5LjA5IDE3LjA5TDEwLjUgMTguNUwxNi41IDEyLjVMMTAuNSA2LjVMOS4wOSA3LjkxWlwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgfSkpO1xufTtcbnZhciBDaGV2cm9uJDEgPSBDcmVhdGVJY29uKENoZXZyb24pO1xudmFyIFN0eWxlZEJ1dHRvbiA9IEhlLmJ1dHRvbihfdGVtcGxhdGVPYmplY3QzMyB8fCAoX3RlbXBsYXRlT2JqZWN0MzMgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIGNvbG9yOiBcIiwgXCI7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBwYWRkaW5nOiAyMHB4IDA7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZThlYjtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG5cIl0pKSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMucHJpbWFyeTtcbn0pO1xudmFyIE1lbnVUZXh0ID0gSGUuZGl2KF90ZW1wbGF0ZU9iamVjdDM0IHx8IChfdGVtcGxhdGVPYmplY3QzNCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBmbGV4OiAxIDEgYXV0bztcXG5cIl0pKSk7XG52YXIgQ2hldnJvbkNvbnRhaW5lciA9IEhlLnNwYW4oX3RlbXBsYXRlT2JqZWN0MzUgfHwgKF90ZW1wbGF0ZU9iamVjdDM1ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGZsZXg6IDAgMCBhdXRvO1xcblwiXSkpKTtcbnZhciBNZW51QnV0dG9uID0gZnVuY3Rpb24gTWVudUJ1dHRvbihfcmVmNjUpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjY1LmNoaWxkcmVuLFxuICAgIG9uQ2xpY2sgPSBfcmVmNjUub25DbGljaztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN0eWxlZEJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogb25DbGlja1xuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChNZW51VGV4dCwgbnVsbCwgY2hpbGRyZW4pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDaGV2cm9uQ29udGFpbmVyLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENoZXZyb24kMSwgbnVsbCkpKTtcbn07XG52YXIgbWZhT3B0aW9ucyA9IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIEIyQk1GQVByb2R1Y3RzLnRvdHAsIHtcbiAgbGFiZWw6ICdVc2UgYW4gYXV0aGVudGljYXRvciBhcHAnXG59KSwgQjJCTUZBUHJvZHVjdHMuc21zT3RwLCB7XG4gIGxhYmVsOiAnVGV4dCBtZSBhIGNvZGUnXG59KTtcbnZhciBNRkFFbnJvbGxtZW50U2VsZWN0aW9uU2NyZWVuID0gZnVuY3Rpb24gTUZBRW5yb2xsbWVudFNlbGVjdGlvblNjcmVlbigpIHtcbiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSxcbiAgICBtZmFQcm9kdWN0SW5jbHVkZSA9IF91c2VDb25maWcubWZhUHJvZHVjdEluY2x1ZGUsXG4gICAgbWZhUHJvZHVjdE9yZGVyID0gX3VzZUNvbmZpZy5tZmFQcm9kdWN0T3JkZXI7XG4gIHZhciBfdXNlR2xvYmFsUmVkdWNlcjMzID0gdXNlR2xvYmFsUmVkdWNlcigpLFxuICAgIF91c2VHbG9iYWxSZWR1Y2VyMzQgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjMzLCAyKSxcbiAgICBzdGF0ZSA9IF91c2VHbG9iYWxSZWR1Y2VyMzRbMF0sXG4gICAgZGlzcGF0Y2ggPSBfdXNlR2xvYmFsUmVkdWNlcjM0WzFdO1xuICB2YXIgb3JnYW5pemF0aW9uTWZhT3B0aW9uc1N1cHBvcnRlZCA9IHN0YXRlLm1mYS5wcmltYXJ5SW5mby5vcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkO1xuICB2YXIgaGFuZGxlQ2hvb3NlTWV0aG9kID0gZnVuY3Rpb24gaGFuZGxlQ2hvb3NlTWV0aG9kKG1ldGhvZCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdtZmEvc3RhcnRfZW5yb2xsbWVudCcsXG4gICAgICBtZXRob2Q6IG1ldGhvZFxuICAgIH0pO1xuICB9O1xuICB2YXIgZGlzcGxheU9wdGlvbnMgPSBGKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9uc1RvRGlzcGxheSA9IGdldEVuYWJsZWRNZXRob2RzKHtcbiAgICAgIGFsbE1ldGhvZHM6IEIyQl9NRkFfTUVUSE9EUyxcbiAgICAgIG9yZ1N1cHBvcnRlZE1ldGhvZHM6IG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQsXG4gICAgICB1aUluY2x1ZGVkTWV0aG9kczogbWZhUHJvZHVjdEluY2x1ZGVcbiAgICB9KTtcbiAgICB2YXIgc29ydGVkT3B0aW9ucyA9IChtZmFQcm9kdWN0T3JkZXIgIT09IG51bGwgJiYgbWZhUHJvZHVjdE9yZGVyICE9PSB2b2lkIDAgPyBtZmFQcm9kdWN0T3JkZXIgOiBCMkJfTUZBX01FVEhPRFMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXIpIHtcbiAgICAgIGlmIChvcHRpb25zVG9EaXNwbGF5LmhhcyhjdXIpKSB7XG4gICAgICAgIGFjYy5wdXNoKHtcbiAgICAgICAgICBvcHRpb246IGN1cixcbiAgICAgICAgICBsYWJlbDogbWZhT3B0aW9uc1tjdXJdLmxhYmVsXG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zVG9EaXNwbGF5W1wiZGVsZXRlXCJdKGN1cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKTtcbiAgICBvcHRpb25zVG9EaXNwbGF5LmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgc29ydGVkT3B0aW9ucy5wdXNoKHtcbiAgICAgICAgb3B0aW9uOiBvcHRpb24sXG4gICAgICAgIGxhYmVsOiBtZmFPcHRpb25zW29wdGlvbl0ubGFiZWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBzb3J0ZWRPcHRpb25zO1xuICB9LCBbbWZhUHJvZHVjdEluY2x1ZGUsIG1mYVByb2R1Y3RPcmRlciwgb3JnYW5pemF0aW9uTWZhT3B0aW9uc1N1cHBvcnRlZF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiU2V0IHVwIE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvblwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwgbnVsbCwgXCJZb3VyIG9yZ2FuaXphdGlvbiByZXF1aXJlcyBhbiBhZGRpdGlvbmFsIGZvcm0gb2YgdmVyaWZpY2F0aW9uIHRvIG1ha2UgeW91ciBhY2NvdW50IG1vcmUgc2VjdXJlLlwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIlxuICB9LCBkaXNwbGF5T3B0aW9ucy5tYXAoZnVuY3Rpb24gKF9yZWY2Nikge1xuICAgIHZhciBvcHRpb24gPSBfcmVmNjYub3B0aW9uLFxuICAgICAgbGFiZWwgPSBfcmVmNjYubGFiZWw7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE1lbnVCdXR0b24sIHtcbiAgICAgIGtleTogb3B0aW9uLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgaGFuZGxlQ2hvb3NlTWV0aG9kKG9wdGlvbik7XG4gICAgICB9XG4gICAgfSwgbGFiZWwpO1xuICB9KSkpO1xufTtcbnZhciBpbmJveExpbmtzID0gZnVuY3Rpb24gaW5ib3hMaW5rcyhlbWFpbERvbWFpbikge1xuICBpZiAoIWVtYWlsRG9tYWluKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEdNQUlMOiAnaHR0cHM6Ly9tYWlsLmdvb2dsZS5jb20vbWFpbC91LzAvI3NlYXJjaC9pbiUzQWFueXdoZXJlJyxcbiAgICAgIE9VVExPT0s6ICdodHRwczovL291dGxvb2sub2ZmaWNlLmNvbS9tYWlsLzAvaW5ib3gnXG4gICAgfTtcbiAgfVxuICB2YXIgZ21haWxRdWVyeSA9IGVuY29kZVVSSUNvbXBvbmVudChcImZyb206QFwiLmNvbmNhdChlbWFpbERvbWFpbiwgXCIgaW46YW55d2hlcmVcIikpO1xuICByZXR1cm4ge1xuICAgIEdNQUlMOiBcImh0dHBzOi8vbWFpbC5nb29nbGUuY29tL21haWwvdS8wLyNzZWFyY2gvXCIuY29uY2F0KGdtYWlsUXVlcnkpLFxuICAgIE9VVExPT0s6ICdodHRwczovL291dGxvb2sub2ZmaWNlLmNvbS9tYWlsLzAvaW5ib3gnXG4gIH07XG59O1xudmFyIExpbmsgPSBIZS5hKF90ZW1wbGF0ZU9iamVjdDM2IHx8IChfdGVtcGxhdGVPYmplY3QzNiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBhbGw6IHVuc2V0O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcblxcbiAgJjpob3ZlciB7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgICB0ZXh0LWRlY29yYXRpb24tY29sb3I6IFwiLCBcIjtcXG4gIH1cXG5cIl0pKSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5jb2xvcnMucHJpbWFyeTtcbn0pO1xudmFyIEVtYWlsUHJvdmlkZXJMaW5rID0gZnVuY3Rpb24gRW1haWxQcm92aWRlckxpbmsoX3JlZjY3KSB7XG4gIHZhciBsYWJlbCA9IF9yZWY2Ny5sYWJlbCxcbiAgICBocmVmID0gX3JlZjY3LmhyZWYsXG4gICAgSWNvbiA9IF9yZWY2Ny5JY29uO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGdhcDogNFxuICB9LCBJY29uLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgaHJlZjogaHJlZixcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIk9wZW4gaW4gXCIsIGxhYmVsKSkpO1xufTtcbnZhciBWZXJpZnlFbWFpbENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIFZlcmlmeUVtYWlsQ29uZmlybWF0aW9uKF9yZWY2OCkge1xuICB2YXIgZW1haWxEb21haW4gPSBfcmVmNjguZW1haWxEb21haW4sXG4gICAgcmVzZXQgPSBfcmVmNjgucmVzZXQsXG4gICAgZW1haWwgPSBfcmVmNjguZW1haWw7XG4gIHZhciBfaW5ib3hMaW5rcyA9IGluYm94TGlua3MoZW1haWxEb21haW4pLFxuICAgIEdNQUlMID0gX2luYm94TGlua3MuR01BSUwsXG4gICAgT1VUTE9PSyA9IF9pbmJveExpbmtzLk9VVExPT0s7XG4gIHZhciBfdXNlR2xvYmFsUmVkdWNlcjM1ID0gdXNlR2xvYmFsUmVkdWNlcigpLFxuICAgIF91c2VHbG9iYWxSZWR1Y2VyMzYgPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjM1LCAyKSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyMzZbMV07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMjRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuTWFpblxuICAgICAgfSk7XG4gICAgfVxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHNpemU6IFwiaGVhZGVyXCJcbiAgfSwgXCJWZXJpZnkgeW91ciBlbWFpbCBmaXJzdC5cIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAxMlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIkEgbG9naW4gbGluayB3YXMgc2VudCB0byB5b3UgYXQgXCIsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLCBudWxsLCBlbWFpbCksIFwiLlwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDhcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxQcm92aWRlckxpbmssIHtcbiAgICBocmVmOiBHTUFJTCxcbiAgICBsYWJlbDogJ0dtYWlsJyxcbiAgICBJY29uOiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChHbWFpbEljb24sIG51bGwpXG4gIH0pLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFbWFpbFByb3ZpZGVyTGluaywge1xuICAgIGhyZWY6IE9VVExPT0ssXG4gICAgbGFiZWw6ICdPdXRsb29rJyxcbiAgICBJY29uOiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPdXRsb29rSWNvbiwgbnVsbClcbiAgfSkpKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJyb3dcIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgY29sb3I6IFwic2Vjb25kYXJ5XCJcbiAgfSwgXCJEaWRuJ3QgZ2V0IGl0P1wiKSwgXCJcXHhBMFwiLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChHZXRIZWxwVGV4dCwge1xuICAgIGNvbG9yOiBcInNlY29uZGFyeVwiLFxuICAgIG9uQ2xpY2s6IHJlc2V0XG4gIH0sIFwiUmVzZW5kIGVtYWlsXCIpKSk7XG59O1xudmFyIHVzZUVtYWlsRG9tYWluID0gZnVuY3Rpb24gdXNlRW1haWxEb21haW4oKSB7XG4gIHZhciBfYSwgX2I7XG4gIHZhciBzdHl0Y2ggPSB1c2VTdHl0Y2goKTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgX2gkMjUgPSBoJDEoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWFkQjJCSW50ZXJuYWxzJGJvbzIgPSByZWFkQjJCSW50ZXJuYWxzKHN0eXRjaCkuYm9vdHN0cmFwLmdldFN5bmMoKSxcbiAgICAgICAgZW1haWxEb21haW5zID0gX3JlYWRCMkJJbnRlcm5hbHMkYm9vMi5lbWFpbERvbWFpbnM7XG4gICAgICByZXR1cm4gZW1haWxEb21haW5zO1xuICAgIH0pLFxuICAgIF9oJDI2ID0gX3NsaWNlZFRvQXJyYXkoX2gkMjUsIDIpLFxuICAgIGVtYWlsRG9tYWlucyA9IF9oJDI2WzBdLFxuICAgIHNldEVtYWlsRG9tYWlucyA9IF9oJDI2WzFdO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIHJlYWRCMkJJbnRlcm5hbHMoc3R5dGNoKS5ib290c3RyYXAuZ2V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uIChfcmVmNjkpIHtcbiAgICAgIHZhciBlbWFpbERvbWFpbnMgPSBfcmVmNjkuZW1haWxEb21haW5zO1xuICAgICAgc2V0RW1haWxEb21haW5zKGVtYWlsRG9tYWlucyk7XG4gICAgfSk7XG4gIH0sIFtzdHl0Y2hdKTtcbiAgaWYgKChfYSA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZG9tYWluSGludCkge1xuICAgIHJldHVybiAoX2IgPSBjb25maWcuZW1haWxNYWdpY0xpbmtzT3B0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRvbWFpbkhpbnQ7XG4gIH1cbiAgaWYgKGVtYWlsRG9tYWlucy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZW1haWxEb21haW5zWzBdO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBQYXNzd29yZFJlc2V0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24gUGFzc3dvcmRSZXNldENvbmZpcm1hdGlvbigpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyMzcgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXIzOCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyMzcsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXIzOFswXSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyMzhbMV07XG4gIHZhciBlbWFpbERvbWFpbiA9IHVzZUVtYWlsRG9tYWluKCk7XG4gIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdzZXRfbWFnaWNfbGlua19lbWFpbCcsXG4gICAgICBlbWFpbDogJydcbiAgICB9KTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5NYWluXG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChWZXJpZnlFbWFpbENvbmZpcm1hdGlvbiwge1xuICAgIGVtYWlsRG9tYWluOiBlbWFpbERvbWFpbixcbiAgICByZXNldDogcmVzZXQsXG4gICAgZW1haWw6IHN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsXG4gIH0pO1xufTtcbnZhciBCbG9jayA9IEhlLmRpdihfdGVtcGxhdGVPYmplY3QzNyB8fCAoX3RlbXBsYXRlT2JqZWN0MzcgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogMjUlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsIFwiO1xcblwiXSkpLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLiRiZ0NvbG9yO1xufSk7XG52YXIgUGFzc3dvcmRTdHJlbmd0aENoZWNrID0gZnVuY3Rpb24gUGFzc3dvcmRTdHJlbmd0aENoZWNrKF9yZWY3MCkge1xuICB2YXIgc2NvcmUgPSBfcmVmNzAuc2NvcmU7XG4gIHZhciBibG9ja3MgPSBbXTtcbiAgc3dpdGNoIChzY29yZSkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIDE6XG4gICAgICBibG9ja3MgPSBbJyM4QjEyMTQnLCAnI0FEQkNDNScsICcjQURCQ0M1JywgJyNBREJDQzUnXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGJsb2NrcyA9IFsnIzhCMTIxNCcsICcjOEIxMjE0JywgJyNBREJDQzUnLCAnI0FEQkNDNSddO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgYmxvY2tzID0gWycjMEM1QTU2JywgJyMwQzVBNTYnLCAnIzBDNUE1NicsICcjQURCQ0M1J107XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBibG9ja3MgPSBbJyMwQzVBNTYnLCAnIzBDNUE1NicsICcjMEM1QTU2JywgJyMwQzVBNTYnXTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBibG9ja3MgPSBbJyNBREJDQzUnLCAnI0FEQkNDNScsICcjQURCQ0M1JywgJyNBREJDQzUnXTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZ2FwOiAyXG4gIH0sIGJsb2Nrcy5tYXAoZnVuY3Rpb24gKGJsb2NrLCBpKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJsb2NrLCB7XG4gICAgICBrZXk6IFwiXCIuY29uY2F0KGJsb2NrLCBcIi1cIikuY29uY2F0KGkpLFxuICAgICAgXCIkYmdDb2xvclwiOiBibG9ja1xuICAgIH0pO1xuICB9KSk7XG59O1xudmFyIENoZWNrSWNvbiA9IGZ1bmN0aW9uIENoZWNrSWNvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KEZsZXgsIHtcbiAgICBoZWlnaHQ6IDE2LFxuICAgIHdpZHRoOiAxNlxuICB9LCAvKiNfX1BVUkVfXyoveShcInN2Z1wiLCB7XG4gICAgd2lkdGg6IFwiMTZcIixcbiAgICBoZWlnaHQ6IFwiMTZcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwgLyojX19QVVJFX18qL3koXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01Ljg2MzMyIDEwLjU4MzNMMy4wODMzMiA3LjgwMzMzTDIuMTM2NjYgOC43NDMzM0w1Ljg2MzMyIDEyLjQ3TDEzLjg2MzMgNC40N0wxMi45MjMzIDMuNTNMNS44NjMzMiAxMC41ODMzWlwiLFxuICAgIGZpbGw6IFwiIzBDNUE1NlwiXG4gIH0pKSk7XG59O1xudmFyIENyb3NzSWNvbiA9IGZ1bmN0aW9uIENyb3NzSWNvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KEZsZXgsIHtcbiAgICBoZWlnaHQ6IDE2LFxuICAgIHdpZHRoOiAxNlxuICB9LCAvKiNfX1BVUkVfXyoveShcInN2Z1wiLCB7XG4gICAgd2lkdGg6IFwiMTZcIixcbiAgICBoZWlnaHQ6IFwiMTZcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwgLyojX19QVVJFX18qL3koXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMi42NjY3IDQuMjczMzRMMTEuNzI2NyAzLjMzMzM0TDguMDAwMDEgNy4wNjAwMUw0LjI3MzM0IDMuMzMzMzRMMy4zMzMzNCA0LjI3MzM0TDcuMDYwMDEgOC4wMDAwMUwzLjMzMzM0IDExLjcyNjdMNC4yNzMzNCAxMi42NjY3TDguMDAwMDEgOC45NDAwMUwxMS43MjY3IDEyLjY2NjdMMTIuNjY2NyAxMS43MjY3TDguOTQwMDEgOC4wMDAwMUwxMi42NjY3IDQuMjczMzRaXCIsXG4gICAgZmlsbDogXCIjOEIxMjE0XCJcbiAgfSkpKTtcbn07XG52YXIgUGFzc3dvcmRCMkJFcnJvciA9IGZ1bmN0aW9uIFBhc3N3b3JkQjJCRXJyb3IocHJvcHMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgdmFyIGJvb3RzdHJhcCA9IHVzZUJvb3RzdHJhcCgpO1xuICB2YXIgY29tcGxleGl0eSA9IChfYSA9IGJvb3RzdHJhcC5wYXNzd29yZENvbmZpZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmx1ZHNDb21wbGV4aXR5O1xuICB2YXIgY2hhcmFjdGVyTGVuZ3RoID0gKF9iID0gYm9vdHN0cmFwLnBhc3N3b3JkQ29uZmlnKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubHVkc01pbmltdW1Db3VudDtcbiAgaWYgKHByb3BzLnBhc3N3b3JkUG9saWN5ID09PSAnbm9uZScpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocHJvcHMucGFzc3dvcmRQb2xpY3kgPT09ICd6eGN2Ym4nKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZFN0cmVuZ3RoQ2hlY2ssIHtcbiAgICAgIHNjb3JlOiBwcm9wcy5wYXNzd29yZFNjb3JlXG4gICAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVycm9yVGV4dCwge1xuICAgICAgZXJyb3JNZXNzYWdlOiBwcm9wcy5lcnJvck1lc3NhZ2UgIT09ICcnID8gcHJvcHMuZXJyb3JNZXNzYWdlIDogcHJvcHMucGFzc3dvcmRGZWVkYmFja1xuICAgIH0pKTtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGdhcDogNFxuICB9LCBwcm9wcy5taXNzaW5nQ2hhcmFjdGVycyA9PT0gMCA/IC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENoZWNrSWNvbiwgbnVsbCkgOiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDcm9zc0ljb24sIG51bGwpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogcHJvcHMubWlzc2luZ0NoYXJhY3RlcnMgPT09IDAgPyAnc3VjY2VzcycgOiAnZXJyb3InXG4gIH0sIFwiTXVzdCBiZSBhdCBsZWFzdCBcIiwgY2hhcmFjdGVyTGVuZ3RoLCBcIiBjaGFyYWN0ZXJzIGxvbmdcIikpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZ2FwOiA0XG4gIH0sIHByb3BzLm1pc3NpbmdDb21wbGV4aXR5ID09PSAwID8gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ2hlY2tJY29uLCBudWxsKSA6IC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENyb3NzSWNvbiwgbnVsbCksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlbHBlclwiLFxuICAgIGNvbG9yOiBwcm9wcy5taXNzaW5nQ29tcGxleGl0eSA9PT0gMCA/ICdzdWNjZXNzJyA6ICdlcnJvcidcbiAgfSwgXCJNdXN0IGNvbnRhaW4gXCIsIGNvbXBsZXhpdHksIFwiIG9mIHRoZSBmb2xsb3dpbmc6IHVwcGVyY2FzZSBsZXR0ZXIsIGxvd2VyY2FzZSBsZXR0ZXIsIG51bWJlciwgc3ltYm9sXCIpKSwgcHJvcHMuaXNQYXNzd29yZEJyZWFjaGVkICYmICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGdhcDogNFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDcm9zc0ljb24sIG51bGwpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJlcnJvclwiXG4gIH0sIFwiVGhpcyBwYXNzd29yZCBtYXkgaGF2ZSBiZWVuIHVzZWQgb24gYSBkaWZmZXJlbnQgc2l0ZSB0aGF0IGV4cGVyaWVuY2VkIGEgc2VjdXJpdHkgaXNzdWUuIFBsZWFzZSBjaG9vc2UgYW5vdGhlciBwYXNzd29yZC5cIikpKSk7XG59O1xudmFyIGNsZWFyU3R5dGNoU2VhcmNoUGFyYW1zID0gZnVuY3Rpb24gY2xlYXJTdHl0Y2hTZWFyY2hQYXJhbXMoKSB7XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgd2luZG93LmRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xufTtcbnZhciBGb3JtID0gSGUuZm9ybShfdGVtcGxhdGVPYmplY3QzOCB8fCAoX3RlbXBsYXRlT2JqZWN0MzggPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgd2lkdGg6IDEwMCU7XFxuXCJdKSkpO1xudmFyIFBhc3N3b3JkUmVzZXRGb3JtID0gZnVuY3Rpb24gUGFzc3dvcmRSZXNldEZvcm0oKSB7XG4gIHZhciBzdHl0Y2hDbGllbnQgPSB1c2VTdHl0Y2goKTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXIzOSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjQwID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXIzOSwgMiksXG4gICAgZGlzcGF0Y2ggPSBfdXNlR2xvYmFsUmVkdWNlcjQwWzFdO1xuICB2YXIgb25FdmVudCA9IHVzZUV2ZW50Q2FsbGJhY2soKTtcbiAgdmFyIG9uRXJyb3IgPSB1c2VFcnJvckNhbGxiYWNrKCk7XG4gIHZhciBfaCQyNyA9IGgkMSgnJyksXG4gICAgX2gkMjggPSBfc2xpY2VkVG9BcnJheShfaCQyNywgMiksXG4gICAgcmVzZXRUb2tlblR5cGUgPSBfaCQyOFswXSxcbiAgICBzZXRSZXNldFRva2VuVHlwZSA9IF9oJDI4WzFdO1xuICB2YXIgX2gkMjkgPSBoJDEoJycpLFxuICAgIF9oJDMwID0gX3NsaWNlZFRvQXJyYXkoX2gkMjksIDIpLFxuICAgIHJlc2V0VG9rZW4gPSBfaCQzMFswXSxcbiAgICBzZXRSZXNldFRva2VuID0gX2gkMzBbMV07XG4gIHZhciBkYXRhTGF5ZXIgPSByZWFkQjJCSW50ZXJuYWxzKHN0eXRjaENsaWVudCkuZGF0YUxheWVyO1xuICB2YXIgZW1haWwgPSBkYXRhTGF5ZXIuZ2V0SXRlbSgncmVzZXQtZW1haWwtdmFsdWUnKTtcbiAgdmFyIF9oJDMxID0gaCQxKCcnKSxcbiAgICBfaCQzMiA9IF9zbGljZWRUb0FycmF5KF9oJDMxLCAyKSxcbiAgICBwYXNzd29yZCA9IF9oJDMyWzBdLFxuICAgIHNldFBhc3N3b3JkID0gX2gkMzJbMV07XG4gIHZhciBfaCQzMyA9IGgkMSgnJyksXG4gICAgX2gkMzQgPSBfc2xpY2VkVG9BcnJheShfaCQzMywgMiksXG4gICAgZXJyb3JNZXNzYWdlID0gX2gkMzRbMF0sXG4gICAgc2V0RXJyb3JNZXNzYWdlID0gX2gkMzRbMV07XG4gIHZhciBfaCQzNSA9IGgkMSgwKSxcbiAgICBfaCQzNiA9IF9zbGljZWRUb0FycmF5KF9oJDM1LCAyKSxcbiAgICBwYXNzd29yZFNjb3JlID0gX2gkMzZbMF0sXG4gICAgc2V0UGFzc3dvcmRTY29yZSA9IF9oJDM2WzFdO1xuICB2YXIgX2gkMzcgPSBoJDEoJycpLFxuICAgIF9oJDM4ID0gX3NsaWNlZFRvQXJyYXkoX2gkMzcsIDIpLFxuICAgIHBhc3N3b3JkRmVlZGJhY2sgPSBfaCQzOFswXSxcbiAgICBzZXRQYXNzd29yZEZlZWRiYWNrID0gX2gkMzhbMV07XG4gIHZhciBfaCQzOSA9IGgkMSh0cnVlKSxcbiAgICBfaCQ0MCA9IF9zbGljZWRUb0FycmF5KF9oJDM5LCAyKSxcbiAgICBpbnZhbGlkUGFzc3dvcmQgPSBfaCQ0MFswXSxcbiAgICBzZXRJbnZhbGlkUGFzc3dvcmQgPSBfaCQ0MFsxXTtcbiAgdmFyIF9oJDQxID0gaCQxKGZhbHNlKSxcbiAgICBfaCQ0MiA9IF9zbGljZWRUb0FycmF5KF9oJDQxLCAyKSxcbiAgICBpc1N1Ym1pdHRpbmcgPSBfaCQ0MlswXSxcbiAgICBzZXRJc1N1Ym1pdHRpbmcgPSBfaCQ0MlsxXTtcbiAgdmFyIF9oJDQzID0gaCQxKCdub25lJyksXG4gICAgX2gkNDQgPSBfc2xpY2VkVG9BcnJheShfaCQ0MywgMiksXG4gICAgc3RyZW5ndGhQb2xpY3kgPSBfaCQ0NFswXSxcbiAgICBzZXRTdHJlbmd0aFBvbGljeSA9IF9oJDQ0WzFdO1xuICB2YXIgX2gkNDUgPSBoJDEoMCksXG4gICAgX2gkNDYgPSBfc2xpY2VkVG9BcnJheShfaCQ0NSwgMiksXG4gICAgbWlzc2luZ0NoYXJhY3RlcnMgPSBfaCQ0NlswXSxcbiAgICBzZXRNaXNzaW5nQ2hhcmFjdGVycyA9IF9oJDQ2WzFdO1xuICB2YXIgX2gkNDcgPSBoJDEoMCksXG4gICAgX2gkNDggPSBfc2xpY2VkVG9BcnJheShfaCQ0NywgMiksXG4gICAgbWlzc2luZ0NvbXBsZXhpdHkgPSBfaCQ0OFswXSxcbiAgICBzZXRNaXNzaW5nQ29tcGxleGl0eSA9IF9oJDQ4WzFdO1xuICB2YXIgX2gkNDkgPSBoJDEoZmFsc2UpLFxuICAgIF9oJDUwID0gX3NsaWNlZFRvQXJyYXkoX2gkNDksIDIpLFxuICAgIGlzUGFzc3dvcmRCcmVhY2hlZCA9IF9oJDUwWzBdLFxuICAgIHNldElzUGFzc3dvcmRCcmVhY2hlZCA9IF9oJDUwWzFdO1xuICB2YXIgdXBkYXRlU3RyZW5ndGhDaGVjayA9IEYoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkZWJvdW5jZShmdW5jdGlvbiAocGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnN0cmVuZ3RoQ2hlY2soe1xuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWY3MSkge1xuICAgICAgICB2YXIgc2NvcmUgPSBfcmVmNzEuc2NvcmUsXG4gICAgICAgICAgdmFsaWRfcGFzc3dvcmQgPSBfcmVmNzEudmFsaWRfcGFzc3dvcmQsXG4gICAgICAgICAgenhjdmJuX2ZlZWRiYWNrID0gX3JlZjcxLnp4Y3Zibl9mZWVkYmFjayxcbiAgICAgICAgICBsdWRzX2ZlZWRiYWNrID0gX3JlZjcxLmx1ZHNfZmVlZGJhY2ssXG4gICAgICAgICAgc3RyZW5ndGhfcG9saWN5ID0gX3JlZjcxLnN0cmVuZ3RoX3BvbGljeSxcbiAgICAgICAgICBicmVhY2hlZF9wYXNzd29yZCA9IF9yZWY3MS5icmVhY2hlZF9wYXNzd29yZDtcbiAgICAgICAgc2V0U3RyZW5ndGhQb2xpY3koc3RyZW5ndGhfcG9saWN5KTtcbiAgICAgICAgc2V0SW52YWxpZFBhc3N3b3JkKCF2YWxpZF9wYXNzd29yZCk7XG4gICAgICAgIGlmIChzdHJlbmd0aF9wb2xpY3kgPT09ICd6eGN2Ym4nKSB7XG4gICAgICAgICAgc2V0UGFzc3dvcmRTY29yZShzY29yZSk7XG4gICAgICAgICAgc2V0UGFzc3dvcmRGZWVkYmFjayh6eGN2Ym5fZmVlZGJhY2sud2FybmluZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyZW5ndGhfcG9saWN5ID09PSAnbHVkcycpIHtcbiAgICAgICAgICBzZXRNaXNzaW5nQ2hhcmFjdGVycyhsdWRzX2ZlZWRiYWNrLm1pc3NpbmdfY2hhcmFjdGVycyk7XG4gICAgICAgICAgc2V0TWlzc2luZ0NvbXBsZXhpdHkobHVkc19mZWVkYmFjay5taXNzaW5nX2NvbXBsZXhpdHkpO1xuICAgICAgICAgIHNldElzUGFzc3dvcmRCcmVhY2hlZChicmVhY2hlZF9wYXNzd29yZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbc3R5dGNoQ2xpZW50LnBhc3N3b3Jkc10pO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgdmFyIHRva2VuID0gKF9hID0gcGFyYW1zLmdldCgndG9rZW4nKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgdmFyIHRva2VuVHlwZSA9IChfYiA9IHBhcmFtcy5nZXQoJ3N0eXRjaF90b2tlbl90eXBlJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgIHNldFJlc2V0VG9rZW4odG9rZW4pO1xuICAgIHNldFJlc2V0VG9rZW5UeXBlKHRva2VuVHlwZSk7XG4gIH0sIFtdKTtcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChyZXNldFRva2VuVHlwZSA9PT0gJ211bHRpX3RlbmFudF9tYWdpY19saW5rcycpIHtcbiAgICAgIHN0eXRjaENsaWVudC5tYWdpY0xpbmtzLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIG1hZ2ljX2xpbmtzX3Rva2VuOiByZXNldFRva2VuLFxuICAgICAgICBzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6IChfYiA9IChfYSA9IGNvbmZpZy5zZXNzaW9uT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IERFRkFVTFRfU0VTU0lPTl9EVVJBVElPTl9NSU5VVEVTXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGNsZWFyU3R5dGNoU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAncHJpbWFyeV9hdXRoZW50aWNhdGVfc3VjY2VzcycsXG4gICAgICAgICAgcmVzcG9uc2U6IGRhdGEsXG4gICAgICAgICAgaW5jbHVkZWRNZmFNZXRob2RzOiBjb25maWcubWZhUHJvZHVjdEluY2x1ZGUsXG4gICAgICAgICAgcmVzZXRUb2tlblR5cGU6IHJlc2V0VG9rZW5UeXBlXG4gICAgICAgIH0pO1xuICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ1dlIHdlcmUgdW5hYmxlIHRvIHZlcmlmeSB5b3VyIGVtYWlsLiBQbGVhc2UgY29udGFjdCB5b3VyIGFkbWluIGZvciBoZWxwLicpO1xuICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LCBbcmVzZXRUb2tlblR5cGVdKTtcbiAgdmFyIG9uUGFzc3dvcmRDaGFuZ2UgPSBmdW5jdGlvbiBvblBhc3N3b3JkQ2hhbmdlKHBhc3N3b3JkKSB7XG4gICAgc2V0UGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIHVwZGF0ZVN0cmVuZ3RoQ2hlY2socGFzc3dvcmQpO1xuICB9O1xuICB2YXIgaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgIHNldElzU3VibWl0dGluZyh0cnVlKTtcbiAgICBpZiAocmVzZXRUb2tlblR5cGUgPT0gJ211bHRpX3RlbmFudF9wYXNzd29yZHMnKSB7XG4gICAgICBzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlFbWFpbCh7XG4gICAgICAgIHBhc3N3b3JkX3Jlc2V0X3Rva2VuOiByZXNldFRva2VuLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogKF9iID0gKF9hID0gY29uZmlnLnNlc3Npb25PcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2Vzc2lvbkR1cmF0aW9uTWludXRlcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogREVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVNcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgb25FdmVudCh7XG4gICAgICAgICAgdHlwZTogU3R5dGNoRXZlbnRUeXBlLkIyQlBhc3N3b3JkUmVzZXRCeUVtYWlsLFxuICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIG9uQXV0aGVudGljYXRlU3VjY2VzcyhkYXRhLCBkaXNwYXRjaCwgY29uZmlnKTtcbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgb25FcnJvcihlKTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3R5dGNoQVBJRXJyb3IpIHtcbiAgICAgICAgICBtZXNzYWdlID0gZS5lcnJvcl9tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHNldEVycm9yTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlTZXNzaW9uKHtcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgIG9uRXZlbnQoe1xuICAgICAgICAgIHR5cGU6IFN0eXRjaEV2ZW50VHlwZS5CMkJQYXNzd29yZFJlc2V0QnlTZXNzaW9uLFxuICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuTG9nZ2VkSW5cbiAgICAgICAgfSk7XG4gICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgIHZhciBtZXNzYWdlID0gZS5tZXNzYWdlO1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN0eXRjaEFQSUVycm9yKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IGUuZXJyb3JfbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMzYsXG4gICAgY2xhc3NOYW1lOiAncmVzZXRQYXNzd29yZENvbnRhaW5lcidcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHNpemU6IFwiaGVhZGVyXCJcbiAgfSwgXCJTZXQgYSBuZXcgcGFzc3dvcmRcIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZvcm0sIHtcbiAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiA4XG4gIH0sIGVtYWlsID8gKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIkVtYWlsXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgIGRpc2FibGVkOiB0cnVlLFxuICAgIG5hbWU6IFwiZW1haWxcIixcbiAgICBpZDogXCJlbWFpbC1pbnB1dFwiLFxuICAgIHZhbHVlOiBlbWFpbFxuICB9KSkpIDogKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCwgbnVsbCkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIlBhc3N3b3JkXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZElucHV0LCB7XG4gICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgIHNldFBhc3N3b3JkOiBvblBhc3N3b3JkQ2hhbmdlLFxuICAgIHR5cGU6IFwibmV3XCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkQjJCRXJyb3IsIHtcbiAgICBwYXNzd29yZFBvbGljeTogc3RyZW5ndGhQb2xpY3ksXG4gICAgcGFzc3dvcmRTY29yZTogcGFzc3dvcmRTY29yZSxcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICBwYXNzd29yZEZlZWRiYWNrOiBwYXNzd29yZEZlZWRiYWNrLFxuICAgIG1pc3NpbmdDaGFyYWN0ZXJzOiBtaXNzaW5nQ2hhcmFjdGVycyxcbiAgICBtaXNzaW5nQ29tcGxleGl0eTogbWlzc2luZ0NvbXBsZXhpdHksXG4gICAgaXNQYXNzd29yZEJyZWFjaGVkOiBpc1Bhc3N3b3JkQnJlYWNoZWRcbiAgfSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICBpc1N1Ym1pdHRpbmc6IGlzU3VibWl0dGluZyxcbiAgICB0ZXh0OiBcIkNvbnRpbnVlXCIsXG4gICAgZGlzYWJsZWQ6IGludmFsaWRQYXNzd29yZFxuICB9KSkpKTtcbn07XG52YXIgUGFzc3dvcmRTZXROZXcgPSBmdW5jdGlvbiBQYXNzd29yZFNldE5ldygpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNDEgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXI0MiA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyNDEsIDIpLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI0MlsxXTtcbiAgdmFyIG9uRXZlbnQgPSB1c2VFdmVudENhbGxiYWNrKCk7XG4gIHZhciBjb25maWcgPSB1c2VDb25maWcoKTtcbiAgdmFyIF91c2VQYXNzd29yZElucHV0MyA9IHVzZVBhc3N3b3JkSW5wdXQoKSxcbiAgICBzdHl0Y2ggPSBfdXNlUGFzc3dvcmRJbnB1dDMuc3R5dGNoLFxuICAgIG9uRXJyb3IgPSBfdXNlUGFzc3dvcmRJbnB1dDMub25FcnJvcixcbiAgICBlbWFpbCA9IF91c2VQYXNzd29yZElucHV0My5lbWFpbCxcbiAgICBvcmdhbml6YXRpb24gPSBfdXNlUGFzc3dvcmRJbnB1dDMub3JnYW5pemF0aW9uLFxuICAgIHNldElzU3VibWl0dGluZyA9IF91c2VQYXNzd29yZElucHV0My5zZXRJc1N1Ym1pdHRpbmc7XG4gIGlmICghb3JnYW5pemF0aW9uKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsKTtcbiAgfVxuICB2YXIgcmVzZW5kUmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uIHJlc2VuZFJlc2V0UGFzc3dvcmQoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIHN0eXRjaC5wYXNzd29yZHMucmVzZXRCeUVtYWlsU3RhcnQoe1xuICAgICAgZW1haWxfYWRkcmVzczogZW1haWwsXG4gICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWQsXG4gICAgICBsb2dpbl9yZWRpcmVjdF91cmw6IChfYSA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9naW5UZW1wbGF0ZUlkLFxuICAgICAgcmVzZXRfcGFzc3dvcmRfcmVkaXJlY3RfdXJsOiAoX2IgPSBjb25maWcucGFzc3dvcmRPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVzZXRQYXNzd29yZFJlZGlyZWN0VVJMLFxuICAgICAgcmVzZXRfcGFzc3dvcmRfZXhwaXJhdGlvbl9taW51dGVzOiAoX2MgPSBjb25maWcucGFzc3dvcmRPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucmVzZXRQYXNzd29yZEV4cGlyYXRpb25NaW51dGVzLFxuICAgICAgcmVzZXRfcGFzc3dvcmRfdGVtcGxhdGVfaWQ6IChfZCA9IGNvbmZpZy5wYXNzd29yZE9wdGlvbnMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5yZXNldFBhc3N3b3JkVGVtcGxhdGVJZFxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHRvYXN0JDEuc3VjY2VzcygnRW1haWwgcmVzZW50Jyk7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgb25FdmVudCh7XG4gICAgICAgIHR5cGU6IFN0eXRjaEV2ZW50VHlwZS5CMkJQYXNzd29yZFJlc2V0QnlFbWFpbFN0YXJ0LFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tBcnJvdywge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLk1haW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiQ2hlY2sgeW91ciBlbWFpbCFcIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIFwiQSBsb2dpbiBsaW5rIHdhcyBzZW50IHRvIHlvdSBhdCBcIiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIsIG51bGwsIGVtYWlsKSwgXCIuXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIkRpZG4ndCBnZXQgaXQ/XCIsICcgJywgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIG9uQ2xpY2s6IHJlc2VuZFJlc2V0UGFzc3dvcmQsXG4gICAgc3R5bGU6IHtcbiAgICAgIGFsbDogJ3Vuc2V0J1xuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIsIHtcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICB9XG4gIH0sIFwiUmVzZW5kIGVtYWlsXCIpKSkpO1xufTtcbnZhciBQYXNzd29yZHNGb3Jnb3RGb3JtID0gZnVuY3Rpb24gUGFzc3dvcmRzRm9yZ290Rm9ybSgpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNDMgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXI0NCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyNDMsIDIpLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI0NFsxXTtcbiAgdmFyIGNvbmZpZyA9IHVzZUNvbmZpZygpO1xuICB2YXIgb25FdmVudCA9IHVzZUV2ZW50Q2FsbGJhY2soKTtcbiAgdmFyIHBhc3N3b3JkT3B0aW9ucyA9IGNvbmZpZy5wYXNzd29yZE9wdGlvbnM7XG4gIHZhciBfdXNlUGFzc3dvcmRJbnB1dDQgPSB1c2VQYXNzd29yZElucHV0KCksXG4gICAgc3R5dGNoID0gX3VzZVBhc3N3b3JkSW5wdXQ0LnN0eXRjaCxcbiAgICBlbWFpbCA9IF91c2VQYXNzd29yZElucHV0NC5lbWFpbCxcbiAgICBzZXRFbWFpbCA9IF91c2VQYXNzd29yZElucHV0NC5zZXRFbWFpbCxcbiAgICBvcmdhbml6YXRpb24gPSBfdXNlUGFzc3dvcmRJbnB1dDQub3JnYW5pemF0aW9uLFxuICAgIGVycm9yTWVzc2FnZSA9IF91c2VQYXNzd29yZElucHV0NC5lcnJvck1lc3NhZ2UsXG4gICAgc2V0RXJyb3JNZXNzYWdlID0gX3VzZVBhc3N3b3JkSW5wdXQ0LnNldEVycm9yTWVzc2FnZSxcbiAgICBpc1N1Ym1pdHRpbmcgPSBfdXNlUGFzc3dvcmRJbnB1dDQuaXNTdWJtaXR0aW5nLFxuICAgIHNldElzU3VibWl0dGluZyA9IF91c2VQYXNzd29yZElucHV0NC5zZXRJc1N1Ym1pdHRpbmcsXG4gICAgaGFuZGxlTm9uTWVtYmVyUmVzZXQgPSBfdXNlUGFzc3dvcmRJbnB1dDQuaGFuZGxlTm9uTWVtYmVyUmVzZXQ7XG4gIGlmICghcGFzc3dvcmRPcHRpb25zKSByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwpO1xuICBpZiAoIW9yZ2FuaXphdGlvbikgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LCBudWxsKTtcbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0Nykge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKGVtYWlsLm1hdGNoKEVNQUlMX1JFR0VYKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgICAgICAgICByZWFkQjJCSW50ZXJuYWxzKHN0eXRjaCkuc2VhcmNoTWFuYWdlci5zZWFyY2hNZW1iZXIoZW1haWwsIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25faWQpLnRoZW4oZnVuY3Rpb24gKF9yZWY3Mikge1xuICAgICAgICAgICAgICB2YXIgbWVtYmVyID0gX3JlZjcyLm1lbWJlcjtcbiAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICBpZiAoIShtZW1iZXIgPT09IG51bGwgfHwgbWVtYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZW1iZXIubWVtYmVyX3Bhc3N3b3JkX2lkKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU5vbk1lbWJlclJlc2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0eXRjaC5wYXNzd29yZHMucmVzZXRCeUVtYWlsU3RhcnQoe1xuICAgICAgICAgICAgICAgIGVtYWlsX2FkZHJlc3M6IGVtYWlsLFxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl9pZCxcbiAgICAgICAgICAgICAgICBsb2dpbl9yZWRpcmVjdF91cmw6IChfYSA9IGNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9naW5SZWRpcmVjdFVSTCxcbiAgICAgICAgICAgICAgICByZXNldF9wYXNzd29yZF9yZWRpcmVjdF91cmw6IChfYiA9IGNvbmZpZy5wYXNzd29yZE9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZXNldFBhc3N3b3JkUmVkaXJlY3RVUkwsXG4gICAgICAgICAgICAgICAgcmVzZXRfcGFzc3dvcmRfZXhwaXJhdGlvbl9taW51dGVzOiAoX2MgPSBjb25maWcucGFzc3dvcmRPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucmVzZXRQYXNzd29yZEV4cGlyYXRpb25NaW51dGVzLFxuICAgICAgICAgICAgICAgIHJlc2V0X3Bhc3N3b3JkX3RlbXBsYXRlX2lkOiAoX2QgPSBjb25maWcucGFzc3dvcmRPcHRpb25zKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucmVzZXRQYXNzd29yZFRlbXBsYXRlSWRcbiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgb25FdmVudCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBTdHl0Y2hFdmVudFR5cGUuQjJCUGFzc3dvcmRSZXNldEJ5RW1haWxTdGFydCxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnc2V0X3Bhc3N3b3JkX3N0YXRlJyxcbiAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgICAgICAgICAgIHNjcmVlbjogQXBwU2NyZWVucyQxLlBhc3N3b3JkU2V0TmV3Q29uZmlybWF0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGVyci5lcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFN0eXRjaEFQSUVycm9yKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVyci5lcnJvcl9tZXNzYWdlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldEVycm9yTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTcpO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMjRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICd0cmFuc2l0aW9uJyxcbiAgICAgICAgc2NyZWVuOiBBcHBTY3JlZW5zJDEuTWFpblxuICAgICAgfSk7XG4gICAgfVxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHNpemU6IFwiaGVhZGVyXCJcbiAgfSwgXCJDaGVjayB5b3VyIGVtYWlsIGZvciBoZWxwIHNpZ25pbmcgaW4hXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIldlJ2xsIGVtYWlsIHlvdSBhIGxvZ2luIGxpbmsgdG8gc2lnbiBpbiB0byB5b3VyIGFjY291bnQgZGlyZWN0bHkgb3IgcmVzZXQgeW91ciBwYXNzd29yZCBpZiB5b3UgaGF2ZSBvbmUuXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogNFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWxwZXJcIixcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIlxuICB9LCBcIkVtYWlsXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFbWFpbElucHV0LCB7XG4gICAgZW1haWw6IGVtYWlsLFxuICAgIHNldEVtYWlsOiBzZXRFbWFpbFxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LCB7XG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgIGlzU3VibWl0dGluZzogaXNTdWJtaXR0aW5nLFxuICAgIHRleHQ6IFwiQ29udGludWVcIlxuICB9KSkpKTtcbn07XG52YXIgUmVjb3ZlcnlDb2RlRW50cnlTY3JlZW4gPSBmdW5jdGlvbiBSZWNvdmVyeUNvZGVFbnRyeVNjcmVlbigpIHtcbiAgdmFyIHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgX3VzZUNvbmZpZzIgPSB1c2VDb25maWcoKSxcbiAgICBzZXNzaW9uRHVyYXRpb25NaW51dGVzID0gX3VzZUNvbmZpZzIuc2Vzc2lvbk9wdGlvbnMuc2Vzc2lvbkR1cmF0aW9uTWludXRlcztcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNDUgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXI0NiA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyNDUsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXI0NlswXSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyNDZbMV07XG4gIHZhciBfc3RhdGUkbWZhJHByaW1hcnlJbmYgPSBzdGF0ZS5tZmEucHJpbWFyeUluZm8sXG4gICAgbWVtYmVySWQgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmYubWVtYmVySWQsXG4gICAgb3JnYW5pemF0aW9uSWQgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmYub3JnYW5pemF0aW9uSWQ7XG4gIHZhciBfaCQ1MSA9IGgkMSgnJyksXG4gICAgX2gkNTIgPSBfc2xpY2VkVG9BcnJheShfaCQ1MSwgMiksXG4gICAgcmVjb3ZlcnlDb2RlID0gX2gkNTJbMF0sXG4gICAgc2V0UmVjb3ZlcnlDb2RlID0gX2gkNTJbMV07XG4gIHZhciBfdXNlTXV0YXRlNyA9IHVzZU11dGF0ZSgnc3R5dGNoLnJlY292ZXJ5Q29kZXMucmVjb3ZlcicsIGZ1bmN0aW9uIChfLCBfcmVmNzMpIHtcbiAgICAgIHZhciBfcmVmNzMkYXJnID0gX3JlZjczLmFyZyxcbiAgICAgICAgcmVjb3ZlcnlDb2RlID0gX3JlZjczJGFyZy5yZWNvdmVyeUNvZGUsXG4gICAgICAgIG1lbWJlcklkID0gX3JlZjczJGFyZy5tZW1iZXJJZCxcbiAgICAgICAgb3JnYW5pemF0aW9uSWQgPSBfcmVmNzMkYXJnLm9yZ2FuaXphdGlvbklkLFxuICAgICAgICBzZXNzaW9uRHVyYXRpb25NaW51dGVzID0gX3JlZjczJGFyZy5zZXNzaW9uRHVyYXRpb25NaW51dGVzO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC5yZWNvdmVyeUNvZGVzLnJlY292ZXIoe1xuICAgICAgICByZWNvdmVyeV9jb2RlOiByZWNvdmVyeUNvZGUsXG4gICAgICAgIG1lbWJlcl9pZDogbWVtYmVySWQsXG4gICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAncmVjb3ZlcnlfY29kZS9hdXRoZW50aWNhdGVfc3VjY2VzcydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgYXV0aGVudGljYXRlID0gX3VzZU11dGF0ZTcudHJpZ2dlcixcbiAgICBpc1N1Ym1pdHRpbmcgPSBfdXNlTXV0YXRlNy5pc011dGF0aW5nLFxuICAgIGVycm9yID0gX3VzZU11dGF0ZTcuZXJyb3I7XG4gIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvciA/ICdJbnZhbGlkIGJhY2t1cCBjb2RlLCBwbGVhc2UgdHJ5IGFnYWluLicgOiB1bmRlZmluZWQ7XG4gIHZhciBoYW5kbGVTdWJtaXQgPSBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZSh7XG4gICAgICAgICAgICAgIHJlY292ZXJ5Q29kZTogcmVjb3ZlcnlDb2RlLFxuICAgICAgICAgICAgICBtZW1iZXJJZDogbWVtYmVySWQsXG4gICAgICAgICAgICAgIG9yZ2FuaXphdGlvbklkOiBvcmdhbml6YXRpb25JZCxcbiAgICAgICAgICAgICAgc2Vzc2lvbkR1cmF0aW9uTWludXRlczogc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlOCk7XG4gICAgfSkpO1xuICB9O1xuICB2YXIgaGFuZGxlU3dpdGNoVG9Ub3RwID0gZnVuY3Rpb24gaGFuZGxlU3dpdGNoVG9Ub3RwKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0b3RwL25hdmlnYXRlX3RvX2VudHJ5J1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtcbiAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAyNFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCYWNrQXJyb3csIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVTd2l0Y2hUb1RvdHBcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiRW50ZXIgYmFja3VwIGNvZGVcIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIFwiRW50ZXIgb25lIG9mIHRoZSBiYWNrdXAgY29kZXMgeW91IHNhdmVkIHdoZW4gc2V0dGluZyB1cCB5b3VyIGF1dGhlbnRpY2F0b3IgYXBwLlwiKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbnB1dCwge1xuICAgIHZhbHVlOiByZWNvdmVyeUNvZGUsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgIHNldFJlY292ZXJ5Q29kZShlLnRhcmdldC52YWx1ZSk7XG4gICAgfSxcbiAgICBwbGFjZWhvbGRlcjogXCJFbnRlciBiYWNrdXAgY29kZVwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcIkJhY2t1cCBjb2RlXCIsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiXG4gIH0pLCBlcnJvck1lc3NhZ2UgJiYgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LCB7XG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgfSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICB0ZXh0OiBcIkNvbnRpbnVlXCIsXG4gICAgZGlzYWJsZWQ6ICFyZWNvdmVyeUNvZGUsXG4gICAgaXNTdWJtaXR0aW5nOiBpc1N1Ym1pdHRpbmdcbiAgfSkpKTtcbn07XG52YXIgSW5zZXRDb250YWluZXIgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0MzkgfHwgKF90ZW1wbGF0ZU9iamVjdDM5ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y1ZjY7XFxuICBjb2xvcjogIzAwMDtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGxpbmUtaGVpZ2h0OiAyOHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBnYXA6IDhweDtcXG4gIHBhZGRpbmc6IDE2cHggOHB4O1xcblwiXSkpKTtcbnZhciBDb2RlTGlzdCA9IEhlLnVsKF90ZW1wbGF0ZU9iamVjdDQwIHx8IChfdGVtcGxhdGVPYmplY3Q0MCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG4gIG1hcmdpbjogMDtcXG5cIl0pKSk7XG52YXIgZG93bmxvYWRGaWxlID0gZnVuY3Rpb24gZG93bmxvYWRGaWxlKGNvbnRlbnQsIGZpbGVuYW1lKSB7XG4gIHZhciBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7XG4gICAgdHlwZTogJ3RleHQvcGxhaW4nXG4gIH0pO1xuICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICBhLmNsaWNrKCk7XG4gIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbn07XG52YXIgUmVjb3ZlcnlDb2RlU2F2ZVNjcmVlbiA9IGZ1bmN0aW9uIFJlY292ZXJ5Q29kZVNhdmVTY3JlZW4oKSB7XG4gIHZhciBfdXNlR2xvYmFsUmVkdWNlcjQ3ID0gdXNlR2xvYmFsUmVkdWNlcigpLFxuICAgIF91c2VHbG9iYWxSZWR1Y2VyNDggPSBfc2xpY2VkVG9BcnJheShfdXNlR2xvYmFsUmVkdWNlcjQ3LCAyKSxcbiAgICBzdGF0ZSA9IF91c2VHbG9iYWxSZWR1Y2VyNDhbMF0sXG4gICAgZGlzcGF0Y2ggPSBfdXNlR2xvYmFsUmVkdWNlcjQ4WzFdO1xuICB2YXIgcmVjb3ZlcnlDb2RlcyA9IHN0YXRlLm1mYS50b3RwLmVucm9sbG1lbnQucmVjb3ZlcnlDb2RlcztcbiAgdmFyIGhhbmRsZUNvbnRpbnVlID0gZnVuY3Rpb24gaGFuZGxlQ29udGludWUoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ3JlY292ZXJ5X2NvZGUvc2F2ZV9hY2tub3dsZWRnZSdcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGhhbmRsZUNvZGVzRG93bmxvYWQgPSBmdW5jdGlvbiBoYW5kbGVDb2Rlc0Rvd25sb2FkKCkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgb3JnYW5pemF0aW9uTmFtZSA9IChfYSA9IHN0YXRlLmZsb3dTdGF0ZS5vcmdhbml6YXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcmdhbml6YXRpb25fbmFtZTtcbiAgICBkb3dubG9hZEZpbGUocmVjb3ZlcnlDb2Rlcy5qb2luKCdcXG4nKSwgXCJcIi5jb25jYXQoISFvcmdhbml6YXRpb25OYW1lID8gb3JnYW5pemF0aW9uTmFtZSArICctJyA6ICcnLCBcImJhY2t1cC1jb2Rlcy50eHRcIikpO1xuICB9O1xuICB2YXIgaGFuZGxlQ29kZXNDb3B5ID0gZnVuY3Rpb24gaGFuZGxlQ29kZXNDb3B5KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMDtcbiAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMztcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChyZWNvdmVyeUNvZGVzLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB0b2FzdCQxLnN1Y2Nlc3MoJ0NvcGllZCcpO1xuICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSA2O1xuICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5W1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgICB0b2FzdCQxLmVycm9yKFwiQ291bGRuJ3QgY29weSBjb2RlcyB0byBjbGlwYm9hcmRcIik7XG4gICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlOSwgbnVsbCwgW1swLCA2XV0pO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAyNFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWFkZXJcIlxuICB9LCBcIlNhdmUgeW91ciBiYWNrdXAgY29kZXMhXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIlRoaXMgaXMgdGhlIG9ubHkgdGltZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIGFjY2VzcyBhbmQgc2F2ZSB5b3VyIGJhY2t1cCBjb2Rlcy5cIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEluc2V0Q29udGFpbmVyLCBudWxsLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDb2RlTGlzdCwgbnVsbCwgcmVjb3ZlcnlDb2Rlcy5tYXAoZnVuY3Rpb24gKGNvZGUsIGkpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICBrZXk6IGlcbiAgICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImNvZGVcIiwgbnVsbCwgY29kZSkpO1xuICB9KSkpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZ2FwOiAyNFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNvZGVzRG93bmxvYWRcbiAgfSwgXCJEb3dubG9hZCBmaWxlXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNvZGVzQ29weVxuICB9LCBcIkNvcHkgYWxsXCIpKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB2YXJpYW50OiBcInRleHRcIixcbiAgICBvbkNsaWNrOiBoYW5kbGVDb250aW51ZVxuICB9LCBcIkRvbmVcIikpO1xufTtcbnZhciBTZWxlY3QgPSBIZS5zZWxlY3QoX3RlbXBsYXRlT2JqZWN0NDEgfHwgKF90ZW1wbGF0ZU9iamVjdDQxID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGJhY2tncm91bmQtY29sb3I6IFwiLCBcIjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIFwiLCBcIjtcXG4gIGJvcmRlci1yYWRpdXM6IFwiLCBcIjtcXG4gIGhlaWdodDogNDdweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiAwIDhweDtcXG4gIGNvbG9yOiBcIiwgXCI7XFxuICBmb250LWZhbWlseTogXCIsIFwiO1xcbiAgd2lkdGg6IDgwcHg7XFxuICBmb250LXNpemU6IDE4cHg7XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJhY2tncm91bmRDb2xvcjtcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJvcmRlckNvbG9yO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5pbnB1dHMuYm9yZGVyUmFkaXVzO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS5pbnB1dHMudGV4dENvbG9yO1xufSwgZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy50aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHk7XG59KTtcbnZhciBDb3VudHJ5U2VsZWN0b3IgPSBmdW5jdGlvbiBDb3VudHJ5U2VsZWN0b3IoX3JlZjc0KSB7XG4gIHZhciBjb3VudHJ5ID0gX3JlZjc0LmNvdW50cnksXG4gICAgc2V0Q291bnRyeSA9IF9yZWY3NC5zZXRDb3VudHJ5O1xuICB2YXIgY291bnRyeUZvcm1hdHRlciA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbJ2VuJ10sIHtcbiAgICB0eXBlOiAncmVnaW9uJ1xuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFNlbGVjdCwge1xuICAgIFwiZGF0YS10ZXN0aWRcIjogXCJzZWxlY3QtdGVzdC1pZFwiLFxuICAgIG5hbWU6IFwiY291bnRyeS1zZWxlY3RcIixcbiAgICB2YWx1ZTogY291bnRyeSxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgc2V0Q291bnRyeShlLnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICB9LCBPYmplY3QuZW50cmllcyhDT1VOVFJJRVNfTElTVCkubWFwKGZ1bmN0aW9uIChfcmVmNzUpIHtcbiAgICB2YXIgX3JlZjc2ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjc1LCAyKSxcbiAgICAgIGNvdW50cnlDb2RlID0gX3JlZjc2WzBdLFxuICAgICAgY291bnRyeU51bWJlciA9IF9yZWY3NlsxXTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiwge1xuICAgICAga2V5OiBjb3VudHJ5Q29kZSxcbiAgICAgIHZhbHVlOiBjb3VudHJ5Q29kZVxuICAgIH0sIGNvdW50cnlDb2RlICE9PSBjb3VudHJ5ID8gXCIrXCIuY29uY2F0KGNvdW50cnlOdW1iZXIsIFwiIFwiKS5jb25jYXQoY291bnRyeUZvcm1hdHRlci5vZihjb3VudHJ5Q29kZSkpIDogXCIrXCIuY29uY2F0KGNvdW50cnlOdW1iZXIpKTtcbiAgfSkpO1xufTtcbnZhciBQaG9uZVN0eWxlZElucHV0ID0gSGUoSW5wdXQpKF90ZW1wbGF0ZU9iamVjdDQyIHx8IChfdGVtcGxhdGVPYmplY3Q0MiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBmbGV4LWdyb3c6IDE7XFxuICBtaW4td2lkdGg6IDEwMHB4O1xcblwiXSkpKTtcbnZhciBQaG9uZUlucHV0ID0gZnVuY3Rpb24gUGhvbmVJbnB1dChfcmVmNzcpIHtcbiAgdmFyIHBob25lID0gX3JlZjc3LnBob25lLFxuICAgIHNldFBob25lID0gX3JlZjc3LnNldFBob25lLFxuICAgIGNvdW50cnkgPSBfcmVmNzcuY291bnRyeSxcbiAgICBzZXRDb3VudHJ5ID0gX3JlZjc3LnNldENvdW50cnksXG4gICAgcGFyc2VQaG9uZU51bWJlciA9IF9yZWY3Ny5wYXJzZVBob25lTnVtYmVyLFxuICAgIGhhc1Bhc3NrZXlzID0gX3JlZjc3Lmhhc1Bhc3NrZXlzO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJyb3dcIixcbiAgICB3cmFwOiBcIm5vd3JhcFwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtc3RhcnRcIixcbiAgICBhbGlnbkNvbnRlbnQ6IFwic3RyZXRjaFwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgZ2FwOiA4XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENvdW50cnlTZWxlY3Rvciwge1xuICAgIGNvdW50cnk6IGNvdW50cnksXG4gICAgc2V0Q291bnRyeTogc2V0Q291bnRyeVxuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGhvbmVTdHlsZWRJbnB1dCwgT2JqZWN0LmFzc2lnbih7XG4gICAgcGxhY2Vob2xkZXI6IFwiKDEyMykgNDU2LTc4OTBcIixcbiAgICBuYW1lOiBoYXNQYXNza2V5cyA/ICdlbWFpbCcgOiAncGhvbmVOdW1iZXInLFxuICAgIGlkOiBcInBob25lLWlucHV0XCIsXG4gICAgYXV0b0NvbXBsZXRlOiBoYXNQYXNza2V5cyA/ICd3ZWJhdXRobicgOiB1bmRlZmluZWQsXG4gICAgdmFsdWU6IHBob25lLFxuICAgIHR5cGU6ICd0ZXh0JyxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkge1xuICAgICAgICB2YXIgcGFyc2VkUGhvbmVOdW1iZXI7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGhvbmVOdW1iZXIoZS50YXJnZXQudmFsdWUsIGNvdW50cnkpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBwYXJzZWRQaG9uZU51bWJlciA9IF9jb250ZXh0MTAuc2VudDtcbiAgICAgICAgICAgICAgc2V0UGhvbmUocGFyc2VkUGhvbmVOdW1iZXIubmF0aW9uYWwpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTApO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSwgaGFzUGFzc2tleXMgPyB7XG4gICAgJ2RhdGEtMXAtaWdub3JlJzogdHJ1ZVxuICB9IDoge30pKSk7XG59O1xudmFyIGV4dHJhY3RFcnJvclR5cGUgPSBmdW5jdGlvbiBleHRyYWN0RXJyb3JUeXBlKGVycm9yKSB7XG4gIGlmIChlcnJvciAmJiBfdHlwZW9mKGVycm9yKSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoJ2Vycm9yX3R5cGUnIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5lcnJvcl90eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGVycm9yLmVycm9yX3R5cGU7XG4gICAgfVxuICB9XG59O1xudmFyIERFRkFVTFRfQ09VTlRSWV9DT0RFID0gJ1VTJztcbnZhciBJbnZhbGlkUGhvbmVOdW1iZXJFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yKSB7XG4gIF9pbmhlcml0cyhJbnZhbGlkUGhvbmVOdW1iZXJFcnJvciwgX1N0eXRjaFNES0Vycm9yKTtcbiAgZnVuY3Rpb24gSW52YWxpZFBob25lTnVtYmVyRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludmFsaWRQaG9uZU51bWJlckVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBJbnZhbGlkUGhvbmVOdW1iZXJFcnJvciwgWydJbnZhbGlkUGhvbmVOdW1iZXJFcnJvcicsICdJbnZhbGlkIHBob25lIG51bWJlciddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEludmFsaWRQaG9uZU51bWJlckVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIGZpbmRFcnJvclR5cGVGcm9tID0gZnVuY3Rpb24gZmluZEVycm9yVHlwZUZyb20oX3JlZjc4KSB7XG4gIHZhciBlcnJvciA9IF9yZWY3OC5lcnJvcjtcbiAgdmFyIGVycm9yVHlwZSA9IGV4dHJhY3RFcnJvclR5cGUoZXJyb3IpO1xuICByZXR1cm4gISFlcnJvclR5cGUgJiYgZXJyb3JUeXBlIGluIHN1cHBvcnRlZEVycm9yVHlwZU1hcCA/IGVycm9yVHlwZSA6ICdkZWZhdWx0Jztcbn07XG52YXIgc3VwcG9ydGVkRXJyb3JUeXBlTWFwID0ge1xuICBcImRlZmF1bHRcIjogJ0ludmFsaWQgcGhvbmUgbnVtYmVyLCBwbGVhc2UgdHJ5IGFnYWluLicsXG4gIGR1cGxpY2F0ZV9tZW1iZXJfcGhvbmVfbnVtYmVyOiAnQSBtZW1iZXIgd2l0aCB0aGUgc3BlY2lmaWVkIHBob25lIG51bWJlciBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyBvcmdhbml6YXRpb24uJ1xufTtcbnZhciBTTVNPVFBFbnJvbGxTY3JlZW4gPSBmdW5jdGlvbiBTTVNPVFBFbnJvbGxTY3JlZW4oKSB7XG4gIHZhciBfYSwgX2I7XG4gIHZhciBzdHl0Y2hDbGllbnQgPSB1c2VTdHl0Y2goKTtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNDkgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXI1MCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyNDksIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXI1MFswXSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyNTBbMV07XG4gIHZhciBfc3RhdGUkbWZhJHNtc090cCA9IHN0YXRlLm1mYS5zbXNPdHAsXG4gICAgaXNTZW5kaW5nID0gX3N0YXRlJG1mYSRzbXNPdHAuaXNTZW5kaW5nLFxuICAgIHNlbmRFcnJvciA9IF9zdGF0ZSRtZmEkc21zT3RwLnNlbmRFcnJvcixcbiAgICBlbnJvbGxlZE51bWJlciA9IF9zdGF0ZSRtZmEkc21zT3RwLmVucm9sbGVkTnVtYmVyO1xuICB2YXIgX3N0YXRlJG1mYSRwcmltYXJ5SW5mMiA9IHN0YXRlLm1mYS5wcmltYXJ5SW5mbyxcbiAgICBtZW1iZXJJZCA9IF9zdGF0ZSRtZmEkcHJpbWFyeUluZjIubWVtYmVySWQsXG4gICAgb3JnYW5pemF0aW9uSWQgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmYyLm9yZ2FuaXphdGlvbklkO1xuICB2YXIgX3duJHVzZVN0YXRlID0gd24udXNlU3RhdGUoKF9hID0gZW5yb2xsZWROdW1iZXIgPT09IG51bGwgfHwgZW5yb2xsZWROdW1iZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVucm9sbGVkTnVtYmVyLmNvdW50cnlDb2RlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBERUZBVUxUX0NPVU5UUllfQ09ERSksXG4gICAgX3duJHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF93biR1c2VTdGF0ZSwgMiksXG4gICAgY291bnRyeUNvZGUgPSBfd24kdXNlU3RhdGUyWzBdLFxuICAgIHNldENvdW50cnlDb2RlID0gX3duJHVzZVN0YXRlMlsxXTtcbiAgdmFyIF93biR1c2VTdGF0ZTMgPSB3bi51c2VTdGF0ZSgoX2IgPSBlbnJvbGxlZE51bWJlciA9PT0gbnVsbCB8fCBlbnJvbGxlZE51bWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZW5yb2xsZWROdW1iZXIucGhvbmVOdW1iZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnKSxcbiAgICBfd24kdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3duJHVzZVN0YXRlMywgMiksXG4gICAgcGhvbmVOdW1iZXIgPSBfd24kdXNlU3RhdGU0WzBdLFxuICAgIHNldFBob25lTnVtYmVyID0gX3duJHVzZVN0YXRlNFsxXTtcbiAgdmFyIGVycm9yVHlwZSA9IGZpbmRFcnJvclR5cGVGcm9tKHtcbiAgICBlcnJvcjogc2VuZEVycm9yXG4gIH0pO1xuICB2YXIgZXJyb3JNZXNzYWdlID0gc2VuZEVycm9yID8gc3VwcG9ydGVkRXJyb3JUeXBlTWFwW2Vycm9yVHlwZV0gOiB1bmRlZmluZWQ7XG4gIHZhciBwYXJzZVBob25lTnVtYmVyID0gZnVuY3Rpb24gcGFyc2VQaG9uZU51bWJlcihwaG9uZU51bWJlciwgY291bnRyeUNvZGUpIHtcbiAgICByZXR1cm4gcmVhZEIyQkludGVybmFscyhzdHl0Y2hDbGllbnQpLmNsaWVudHNpZGVTZXJ2aWNlcy5wYXJzZWRQaG9uZU51bWJlcih7XG4gICAgICBwaG9uZU51bWJlcjogcGhvbmVOdW1iZXIsXG4gICAgICByZWdpb25Db2RlOiBjb3VudHJ5Q29kZVxuICAgIH0pO1xuICB9O1xuICB2YXIgX3VzZU11dGF0ZTggPSB1c2VNdXRhdGUoJ3N0eXRjaC5vdHBzLnNtcy5zZW5kJywgZnVuY3Rpb24gKF8sIF9yZWY3OSkge1xuICAgICAgdmFyIHBhcnNlZE51bWJlciA9IF9yZWY3OS5hcmcucGFyc2VkTnVtYmVyO1xuICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdChcInJldHVyblwiLCBzdHl0Y2hDbGllbnQub3Rwcy5zbXMuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWZhX3Bob25lX251bWJlcjogcGFyc2VkTnVtYmVyLFxuICAgICAgICAgICAgICAgIG1lbWJlcl9pZDogbWVtYmVySWQsXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZFxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMSk7XG4gICAgICB9KSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdzbXNfb3RwL3NlbmRfc3VjY2VzcycsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgICAgIGNvdW50cnlDb2RlOiBjb3VudHJ5Q29kZSxcbiAgICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVOdW1iZXIsXG4gICAgICAgICAgZm9ybWF0dGVkUGhvbmVOdW1iZXI6IFwiK1wiLmNvbmNhdChDT1VOVFJJRVNfTElTVFtjb3VudHJ5Q29kZV0sIFwiIFwiKS5jb25jYXQocGhvbmVOdW1iZXIpXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdzbXNfb3RwL3NlbmRfZXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBzZW5kU21zID0gX3VzZU11dGF0ZTgudHJpZ2dlcjtcbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkge1xuICAgICAgdmFyIHBhcnNlZE51bWJlcjtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICB0eXBlOiAnc21zX290cC9zZW5kJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAyO1xuICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVBob25lTnVtYmVyKHBob25lTnVtYmVyLCBjb3VudHJ5Q29kZSk7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcGFyc2VkTnVtYmVyID0gX2NvbnRleHQxMi5zZW50O1xuICAgICAgICAgICAgaWYgKHBhcnNlZE51bWJlci5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDg7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQaG9uZU51bWJlckVycm9yKCk7XG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTA7XG4gICAgICAgICAgICByZXR1cm4gc2VuZFNtcyh7XG4gICAgICAgICAgICAgIHBhcnNlZE51bWJlcjogcGFyc2VkTnVtYmVyLm51bWJlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDE1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDEyO1xuICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Ntc19vdHAvc2VuZF9lcnJvcicsXG4gICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDEyLnQwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTEyLCBudWxsLCBbWzIsIDEyXV0pO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIGdhcDogMjRcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHNpemU6IFwiaGVhZGVyXCJcbiAgfSwgXCJFbnRlciB5b3VyIHBob25lIG51bWJlciB0byBzZXQgdXAgTXVsdGktRmFjdG9yIEF1dGhlbnRpY2F0aW9uXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIllvdXIgb3JnYW5pemF0aW9uIHJlcXVpcmVzIGFuIGFkZGl0aW9uYWwgZm9ybSBvZiB2ZXJpZmljYXRpb24gdG8gbWFrZSB5b3VyIGFjY291bnQgbW9yZSBzZWN1cmUuXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LCB7XG4gICAgZGlyZWN0aW9uOiBcImNvbHVtblwiXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBob25lSW5wdXQsIHtcbiAgICBjb3VudHJ5OiBjb3VudHJ5Q29kZSxcbiAgICBzZXRDb3VudHJ5OiBzZXRDb3VudHJ5Q29kZSxcbiAgICBwaG9uZTogcGhvbmVOdW1iZXIsXG4gICAgc2V0UGhvbmU6IHNldFBob25lTnVtYmVyLFxuICAgIHBhcnNlUGhvbmVOdW1iZXI6IHBhcnNlUGhvbmVOdW1iZXJcbiAgfSksIGVycm9yTWVzc2FnZSAmJiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclRleHQsIHtcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICB9KSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgIHRleHQ6IFwiQ29udGludWVcIixcbiAgICBpc1N1Ym1pdHRpbmc6IGlzU2VuZGluZyxcbiAgICBkaXNhYmxlZDogIXBob25lTnVtYmVyXG4gIH0pKSk7XG59O1xudmFyIElubGluZUJ1dHRvbiA9IGZ1bmN0aW9uIElubGluZUJ1dHRvbihfcmVmODApIHtcbiAgdmFyIG9uQ2xpY2sgPSBfcmVmODAub25DbGljayxcbiAgICBjaGlsZHJlbiA9IF9yZWY4MC5jaGlsZHJlbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIHN0eWxlOiB7XG4gICAgICBhbGw6ICd1bnNldCdcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLCB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgfVxuICB9LCBjaGlsZHJlbikpO1xufTtcbnZhciBXcmFwcGVyID0gSGUuZGl2KF90ZW1wbGF0ZU9iamVjdDQzIHx8IChfdGVtcGxhdGVPYmplY3Q0MyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBcIiwgXCI7XFxuICB0cmFuc2l0aW9uOiBncmlkLXRlbXBsYXRlLXJvd3MgMC4xNXMgZWFzZS1vdXQ7XFxuXCJdKSksIGZ1bmN0aW9uIChfcmVmODEpIHtcbiAgdmFyIGlzT3BlbiA9IF9yZWY4MS5pc09wZW47XG4gIHJldHVybiBpc09wZW4gPyAnMWZyJyA6ICcwZnInO1xufSk7XG52YXIgSW5uZXIgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0NDQgfHwgKF90ZW1wbGF0ZU9iamVjdDQ0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuXCJdKSkpO1xudmFyIEFuaW1hdGVkQ29udGFpbmVyID0gZnVuY3Rpb24gQW5pbWF0ZWRDb250YWluZXIoX3JlZjgyKSB7XG4gIHZhciBpc09wZW4gPSBfcmVmODIuaXNPcGVuLFxuICAgIGNoaWxkcmVuID0gX3JlZjgyLmNoaWxkcmVuO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoV3JhcHBlciwge1xuICAgIGlzT3BlbjogaXNPcGVuXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KElubmVyLCBudWxsLCBjaGlsZHJlbikpO1xufTtcbnZhciBDb250YWluZXIgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0NDUgfHwgKF90ZW1wbGF0ZU9iamVjdDQ1ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGhlaWdodDogNHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsIFwiO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG5cIl0pKSwgZnVuY3Rpb24gKF9yZWY4Mykge1xuICB2YXIgdGhlbWUgPSBfcmVmODMudGhlbWU7XG4gIHJldHVybiB0aGVtZS5jb2xvcnMuZGlzYWJsZWQ7XG59KTtcbnZhciBsb2FkaW5nID0gVWUoX3RlbXBsYXRlT2JqZWN0NDYgfHwgKF90ZW1wbGF0ZU9iamVjdDQ2ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTElKTtcXG4gIH1cXG5cIl0pKSk7XG52YXIgUHJvZ3Jlc3MgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0NDcgfHwgKF90ZW1wbGF0ZU9iamVjdDQ3ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsIFwiO1xcbiAgYW5pbWF0aW9uOiBcIiwgXCIgMTBzIGN1YmljLWJlemllcigwLjIyLCAxLCAwLjM2LCAxKTtcXG5cIl0pKSwgZnVuY3Rpb24gKF9yZWY4NCkge1xuICB2YXIgdGhlbWUgPSBfcmVmODQudGhlbWU7XG4gIHJldHVybiB0aGVtZS5jb2xvcnMucHJpbWFyeTtcbn0sIGxvYWRpbmcpO1xudmFyIExvYWRpbmdCYXIgPSBmdW5jdGlvbiBMb2FkaW5nQmFyKF9yZWY4NSkge1xuICB2YXIgaXNMb2FkaW5nID0gX3JlZjg1LmlzTG9hZGluZztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgbnVsbCwgaXNMb2FkaW5nICYmIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFByb2dyZXNzLCBudWxsKSk7XG59O1xudmFyIEdBUCA9ICc4cHgnO1xudmFyIFdJRFRIID0gJzQ2cHgnO1xudmFyIElOUFVUX0hFSUdIVCA9ICc0NnB4JztcbnZhciBEaWdpdCA9IEhlLmRpdihfdGVtcGxhdGVPYmplY3Q0OCB8fCAoX3RlbXBsYXRlT2JqZWN0NDggPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYm9yZGVyOiAxcHggc29saWQgXCIsIFwiO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGhlaWdodDogXCIsIFwiO1xcbiAgd2lkdGg6IFwiLCBcIjtcXG4gIGJhY2tncm91bmQ6IFwiLCBcIjtcXG4gIGNvbG9yOiBcIiwgXCI7XFxuXCJdKSksIGZ1bmN0aW9uIChfcmVmODYpIHtcbiAgdmFyIGRpc2FibGVkID0gX3JlZjg2LmRpc2FibGVkLFxuICAgIHRoZW1lID0gX3JlZjg2LnRoZW1lO1xuICByZXR1cm4gZGlzYWJsZWQgPyB0aGVtZS5jb2xvcnMuZGlzYWJsZWQgOiAnI0FEQkNDNSc7XG59LCBJTlBVVF9IRUlHSFQsIFdJRFRILCBmdW5jdGlvbiAoX3JlZjg3KSB7XG4gIHZhciBkaXNhYmxlZCA9IF9yZWY4Ny5kaXNhYmxlZCxcbiAgICB0aGVtZSA9IF9yZWY4Ny50aGVtZTtcbiAgcmV0dXJuIGRpc2FibGVkID8gdGhlbWUuY29sb3JzLmRpc2FibGVkIDogdGhlbWUuaW5wdXRzLmJhY2tncm91bmRDb2xvcjtcbn0sIGZ1bmN0aW9uIChfcmVmODgpIHtcbiAgdmFyIGRpc2FibGVkID0gX3JlZjg4LmRpc2FibGVkLFxuICAgIHRoZW1lID0gX3JlZjg4LnRoZW1lO1xuICByZXR1cm4gZGlzYWJsZWQgPyB0aGVtZS5jb2xvcnMuZGlzYWJsZWRUZXh0IDogdGhlbWUuaW5wdXRzLnRleHRDb2xvcjtcbn0pO1xudmFyIGRpZ2l0c0NvbnRhaW5lclN0eWxlcyA9IHtcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICBnYXA6IEdBUCxcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIHpJbmRleDogLTFcbn07XG52YXIgb3RwQ29udGFpbmVyU3R5bGVzID0ge1xuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICB0ZXh0QWxpZ246ICdpbml0aWFsJyxcbiAgekluZGV4OiAxXG59O1xudmFyIGludmlzaWJsZUlucHV0U3R5bGVzID0ge1xuICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICBib3JkZXI6ICdub25lJyxcbiAgY29sb3I6ICd0cmFuc3BhcmVudCcsXG4gIGhlaWdodDogSU5QVVRfSEVJR0hULFxuICBtYXJnaW46IDAsXG4gIG91dGxpbmU6ICdub25lJyxcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHdpZHRoOiBcImNhbGMoMTAwJSAtICgwLjUgKiBcIi5jb25jYXQoV0lEVEgsIFwiKSlcIiksXG4gIGNhcmV0Q29sb3I6ICcjQURCQ0M1JyxcbiAgbGV0dGVyU3BhY2luZzogXCJjYWxjKFwiLmNvbmNhdChXSURUSCwgXCIgLSAxY2ggKyBcIikuY29uY2F0KEdBUCwgXCIpXCIpLFxuICBwYWRkaW5nTGVmdDogXCJjYWxjKDAuNSAqIFwiLmNvbmNhdChXSURUSCwgXCIpXCIpLFxuICB6SW5kZXg6IDEwXG59O1xudmFyIERpZ2l0QXRJbmRleCA9IGZ1bmN0aW9uIERpZ2l0QXRJbmRleChfcmVmODkpIHtcbiAgdmFyIGluZGV4ID0gX3JlZjg5LmluZGV4LFxuICAgIGRpc2FibGVkID0gX3JlZjg5LmRpc2FibGVkLFxuICAgIG90cCA9IF9yZWY4OS5vdHA7XG4gIHZhciBmaWxsID0gb3RwID8gb3RwW2luZGV4XSA6ICcnO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGlnaXQsIHtcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgXCJkYXRhLXRlc3RpZFwiOiBcIm90cC1cIi5jb25jYXQoaW5kZXgpXG4gIH0sIGZpbGwpO1xufTtcbnZhciBPVFBJbnB1dCA9IGZ1bmN0aW9uIE9UUElucHV0KF9yZWY5MCkge1xuICB2YXIgb3RwID0gX3JlZjkwLm90cCxcbiAgICBzZXRPdHAgPSBfcmVmOTAuc2V0T3RwLFxuICAgIGRpc2FibGVkID0gX3JlZjkwLmRpc2FibGVkO1xuICB2YXIgb25QYXNzY29kZUNoYW5nZSA9IGZ1bmN0aW9uIG9uUGFzc2NvZGVDaGFuZ2UoZSkge1xuICAgIGlmICghL15cXGQqJC8udGVzdChlLnRhcmdldC52YWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0T3RwKGUudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogb3RwQ29udGFpbmVyU3R5bGVzXG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIFwiYXJpYS1sYWJlbFwiOiBcIk9uZS10aW1lIHBhc3Njb2RlXCIsXG4gICAgYXV0b0NvbXBsZXRlOiBcIm9uZS10aW1lLWNvZGVcIixcbiAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIHN0eWxlOiBpbnZpc2libGVJbnB1dFN0eWxlcyxcbiAgICBtYXhMZW5ndGg6IDYsXG4gICAgb25DaGFuZ2U6IG9uUGFzc2NvZGVDaGFuZ2UsXG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgaW5wdXRNb2RlOiBcIm51bWVyaWNcIixcbiAgICB2YWx1ZTogb3RwLFxuICAgIFwiZGF0YS0xcC1pZ25vcmVcIjogXCJ0cnVlXCJcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogZGlnaXRzQ29udGFpbmVyU3R5bGVzXG4gIH0sIF90b0NvbnN1bWFibGVBcnJheShBcnJheSg2KS5rZXlzKCkpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChEaWdpdEF0SW5kZXgsIHtcbiAgICAgIGtleTogXCJkaWdpdC1cIi5jb25jYXQoaSksXG4gICAgICBpbmRleDogaSxcbiAgICAgIG90cDogb3RwLFxuICAgICAgZGlzYWJsZWQ6ICEhZGlzYWJsZWRcbiAgICB9KTtcbiAgfSkpKTtcbn07XG52YXIgT1RQX0NPREVfTEVOR1RIID0gNjtcbnZhciBPVFBDb250cm9sID0gZnVuY3Rpb24gT1RQQ29udHJvbChfcmVmOTEpIHtcbiAgdmFyIGlzU3VibWl0dGluZyA9IF9yZWY5MS5pc1N1Ym1pdHRpbmcsXG4gICAgb25TdWJtaXQgPSBfcmVmOTEub25TdWJtaXQsXG4gICAgZXJyb3JNZXNzYWdlID0gX3JlZjkxLmVycm9yTWVzc2FnZTtcbiAgdmFyIF9oJDUzID0gaCQxKCcnKSxcbiAgICBfaCQ1NCA9IF9zbGljZWRUb0FycmF5KF9oJDUzLCAyKSxcbiAgICBvdHAgPSBfaCQ1NFswXSxcbiAgICBzZXRPdHAgPSBfaCQ1NFsxXTtcbiAgdmFyIGhhbmRsZU90cENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZU90cENoYW5nZShvdHApIHtcbiAgICBzZXRPdHAob3RwKTtcbiAgICBpZiAob3RwLmxlbmd0aCA9PT0gT1RQX0NPREVfTEVOR1RIKSB7XG4gICAgICBvblN1Ym1pdChvdHApO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgbWF4V2lkdGg6IDMxNlxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPVFBJbnB1dCwge1xuICAgIG90cDogb3RwLFxuICAgIHNldE90cDogaGFuZGxlT3RwQ2hhbmdlLFxuICAgIGRpc2FibGVkOiBpc1N1Ym1pdHRpbmdcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEFuaW1hdGVkQ29udGFpbmVyLCB7XG4gICAgaXNPcGVuOiBpc1N1Ym1pdHRpbmdcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDgsXG4gICAgbWFyZ2luVG9wOiA4XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBjb2xvcjogXCJzZWNvbmRhcnlcIixcbiAgICBzaXplOiBcImhlbHBlclwiXG4gIH0sIFwiVmVyaWZ5aW5nIHBhc3Njb2RlLi4uXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChMb2FkaW5nQmFyLCB7XG4gICAgaXNMb2FkaW5nOiBpc1N1Ym1pdHRpbmdcbiAgfSkpKSwgIWlzU3VibWl0dGluZyAmJiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclRleHQsIHtcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSAhPT0gbnVsbCAmJiBlcnJvck1lc3NhZ2UgIT09IHZvaWQgMCA/IGVycm9yTWVzc2FnZSA6ICcnXG4gIH0pKTtcbn07XG52YXIgT1RQRW50cnkgPSBmdW5jdGlvbiBPVFBFbnRyeShfcmVmOTIpIHtcbiAgdmFyIGhlYWRlciA9IF9yZWY5Mi5oZWFkZXIsXG4gICAgaGVscGVyQ29udGVudCA9IF9yZWY5Mi5oZWxwZXJDb250ZW50LFxuICAgIGluc3RydWN0aW9uID0gX3JlZjkyLmluc3RydWN0aW9uLFxuICAgIGlzU3VibWl0dGluZyA9IF9yZWY5Mi5pc1N1Ym1pdHRpbmcsXG4gICAgb25TdWJtaXQgPSBfcmVmOTIub25TdWJtaXQsXG4gICAgZXJyb3JNZXNzYWdlID0gX3JlZjkyLmVycm9yTWVzc2FnZTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAyNFxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgc2l6ZTogXCJoZWFkZXJcIlxuICB9LCBoZWFkZXIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBpbnN0cnVjdGlvbiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9UUENvbnRyb2wsIHtcbiAgICBpc1N1Ym1pdHRpbmc6IGlzU3VibWl0dGluZyxcbiAgICBvblN1Ym1pdDogb25TdWJtaXQsXG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlbHBlclwiLFxuICAgIGNvbG9yOiBcInNlY29uZGFyeVwiXG4gIH0sIGhlbHBlckNvbnRlbnQpKTtcbn07XG52YXIgZ2V0U2Vjb25kc1JlbWFpbmluZyA9IGZ1bmN0aW9uIGdldFNlY29uZHNSZW1haW5pbmcoZXhwaXJhdGlvbikge1xuICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIE1hdGguY2VpbCgoZXhwaXJhdGlvbi5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpKSAvIDEwMDApO1xufTtcbnZhciBFeHBpcmF0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIEV4cGlyYXRpb25NZXNzYWdlKF9yZWY5Mykge1xuICB2YXIgZXhwaXJhdGlvbiA9IF9yZWY5My5leHBpcmF0aW9uLFxuICAgIHJlc2VuZE9UUCA9IF9yZWY5My5yZXNlbmRPVFA7XG4gIHZhciBfaCQ1NSA9IGgkMShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0U2Vjb25kc1JlbWFpbmluZyhleHBpcmF0aW9uKTtcbiAgICB9KSxcbiAgICBfaCQ1NiA9IF9zbGljZWRUb0FycmF5KF9oJDU1LCAyKSxcbiAgICBzZWNvbmRzID0gX2gkNTZbMF0sXG4gICAgc2V0U2Vjb25kcyA9IF9oJDU2WzFdO1xuICB2YXIgY29kZUV4cGlyZWQgPSBzZWNvbmRzIDw9IDA7XG4gIHAkMShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjb2RlRXhwaXJlZCkge1xuICAgICAgdmFyIHVwZGF0ZVNlY29uZHMgPSBmdW5jdGlvbiB1cGRhdGVTZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gc2V0U2Vjb25kcyhnZXRTZWNvbmRzUmVtYWluaW5nKGV4cGlyYXRpb24pKTtcbiAgICAgIH07XG4gICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVTZWNvbmRzLCAxMDAwKTtcbiAgICAgIHVwZGF0ZVNlY29uZHMoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbY29kZUV4cGlyZWQsIGV4cGlyYXRpb25dKTtcbiAgdmFyIGRpc3BsYXlNaW51dGVzID0gTWF0aC5mbG9vcihOdW1iZXIoc2Vjb25kcyAvIDYwKSk7XG4gIHZhciBkaXNwbGF5U2Vjb25kcyA9IHNlY29uZHMgLSBkaXNwbGF5TWludXRlcyAqIDYwO1xuICB2YXIgZm9ybWF0dGVkVGltZSA9IFwiXCIuY29uY2F0KGRpc3BsYXlNaW51dGVzLCBcIjpcIikuY29uY2F0KGRpc3BsYXlTZWNvbmRzIDwgMTAgPyBcIjBcIi5jb25jYXQoZGlzcGxheVNlY29uZHMpIDogZGlzcGxheVNlY29uZHMpO1xuICB2YXIgZm9ybWF0dGVkVGV4dCA9IHNlY29uZHMgPiAwID8gXCJZb3VyIGNvZGUgZXhwaXJlcyBpbiBcIi5jb25jYXQoZm9ybWF0dGVkVGltZSwgXCIuIERpZG4ndCBnZXQgaXQ/IFwiKSA6ICdZb3VyIGNvZGUgaGFzIGV4cGlyZWQuICc7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCwgbnVsbCwgZm9ybWF0dGVkVGV4dCwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSW5saW5lQnV0dG9uLCB7XG4gICAgb25DbGljazogcmVzZW5kT1RQXG4gIH0sIFwiUmVzZW5kIGNvZGVcIikpO1xufTtcbnZhciBTZW50T1RQRW50cnkgPSBmdW5jdGlvbiBTZW50T1RQRW50cnkoX3JlZjk0KSB7XG4gIHZhciBleHBpcmF0aW9uID0gX3JlZjk0LmV4cGlyYXRpb24sXG4gICAgZm9ybWF0dGVkRGVzdGluYXRpb24gPSBfcmVmOTQuZm9ybWF0dGVkRGVzdGluYXRpb24sXG4gICAgaXNTdWJtaXR0aW5nID0gX3JlZjk0LmlzU3VibWl0dGluZyxcbiAgICBvblN1Ym1pdCA9IF9yZWY5NC5vblN1Ym1pdCxcbiAgICBlcnJvck1lc3NhZ2UgPSBfcmVmOTQuZXJyb3JNZXNzYWdlLFxuICAgIHJlc2VuZE9UUCA9IF9yZWY5NC5yZXNlbmRPVFA7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPVFBFbnRyeSwge1xuICAgIGhlYWRlcjogXCJFbnRlciBwYXNzY29kZVwiLFxuICAgIGhlbHBlckNvbnRlbnQ6IC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEV4cGlyYXRpb25NZXNzYWdlLCB7XG4gICAgICBleHBpcmF0aW9uOiBleHBpcmF0aW9uLFxuICAgICAgcmVzZW5kT1RQOiByZXNlbmRPVFBcbiAgICB9KSxcbiAgICBpbnN0cnVjdGlvbjogLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwsIFwiQSA2LWRpZ2l0IHBhc3Njb2RlIHdhcyBzZW50IHRvIHlvdSBhdCBcIiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIsIG51bGwsIGZvcm1hdHRlZERlc3RpbmF0aW9uKSwgXCIuXCIpLFxuICAgIGlzU3VibWl0dGluZzogaXNTdWJtaXR0aW5nLFxuICAgIG9uU3VibWl0OiBvblN1Ym1pdCxcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICB9KTtcbn07XG52YXIgU01TT1RQRW50cnlTY3JlZW4gPSBmdW5jdGlvbiBTTVNPVFBFbnRyeVNjcmVlbigpIHtcbiAgdmFyIF9hO1xuICB2YXIgc3R5dGNoQ2xpZW50ID0gdXNlU3R5dGNoKCk7XG4gIHZhciBfdXNlQ29uZmlnMyA9IHVzZUNvbmZpZygpLFxuICAgIHNlc3Npb25EdXJhdGlvbk1pbnV0ZXMgPSBfdXNlQ29uZmlnMy5zZXNzaW9uT3B0aW9ucy5zZXNzaW9uRHVyYXRpb25NaW51dGVzO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXI1MSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXI1MSwgMiksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjUyWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI1MlsxXTtcbiAgdmFyIF9zdGF0ZSRtZmEgPSBzdGF0ZS5tZmEsXG4gICAgaXNFbnJvbGxpbmcgPSBfc3RhdGUkbWZhLmlzRW5yb2xsaW5nLFxuICAgIF9zdGF0ZSRtZmEkc21zT3RwMiA9IF9zdGF0ZSRtZmEuc21zT3RwLFxuICAgIGNvZGVFeHBpcmF0aW9uID0gX3N0YXRlJG1mYSRzbXNPdHAyLmNvZGVFeHBpcmF0aW9uLFxuICAgIGZvcm1hdHRlZERlc3RpbmF0aW9uID0gX3N0YXRlJG1mYSRzbXNPdHAyLmZvcm1hdHRlZERlc3RpbmF0aW9uO1xuICB2YXIgX3N0YXRlJG1mYSRwcmltYXJ5SW5mMyA9IHN0YXRlLm1mYS5wcmltYXJ5SW5mbyxcbiAgICBlbnJvbGxlZE1mYU1ldGhvZHMgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmYzLmVucm9sbGVkTWZhTWV0aG9kcyxcbiAgICBtZW1iZXJJZCA9IF9zdGF0ZSRtZmEkcHJpbWFyeUluZjMubWVtYmVySWQsXG4gICAgbWVtYmVyUGhvbmVOdW1iZXIgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmYzLm1lbWJlclBob25lTnVtYmVyLFxuICAgIG9yZ2FuaXphdGlvbklkID0gX3N0YXRlJG1mYSRwcmltYXJ5SW5mMy5vcmdhbml6YXRpb25JZCxcbiAgICBvcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkID0gX3N0YXRlJG1mYSRwcmltYXJ5SW5mMy5vcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkO1xuICB2YXIgX3VzZU11dGF0ZTkgPSB1c2VNdXRhdGUoJ3N0eXRjaC5vdHBzLnNtcy5zZW5kJywgZnVuY3Rpb24gKF8sIF9yZWY5NSkge1xuICAgICAgdmFyIF9yZWY5NSRhcmcgPSBfcmVmOTUuYXJnLFxuICAgICAgICBtZW1iZXJJZCA9IF9yZWY5NSRhcmcubWVtYmVySWQsXG4gICAgICAgIG9yZ2FuaXphdGlvbklkID0gX3JlZjk1JGFyZy5vcmdhbml6YXRpb25JZDtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ3Ntc19vdHAvc2VuZCdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC5vdHBzLnNtcy5zZW5kKHtcbiAgICAgICAgbWVtYmVyX2lkOiBtZW1iZXJJZCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZFxuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdzbXNfb3RwL3NlbmRfc3VjY2VzcycsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICB0b2FzdCQxLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnc21zX290cC9zZW5kX2Vycm9yJyxcbiAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgc2VuZFNtcyA9IF91c2VNdXRhdGU5LnRyaWdnZXIsXG4gICAgaXNTZW5kaW5nID0gX3VzZU11dGF0ZTkuaXNNdXRhdGluZyxcbiAgICBzZW5kRXJyb3IgPSBfdXNlTXV0YXRlOS5lcnJvcjtcbiAgdmFyIF91c2VNdXRhdGUxMCA9IHVzZU11dGF0ZSgnc3R5dGNoLm90cHMuc21zLmF1dGhlbnRpY2F0ZScsIGZ1bmN0aW9uIChfLCBfcmVmOTYpIHtcbiAgICAgIHZhciBfcmVmOTYkYXJnID0gX3JlZjk2LmFyZyxcbiAgICAgICAgb3RwID0gX3JlZjk2JGFyZy5vdHAsXG4gICAgICAgIG1lbWJlcklkID0gX3JlZjk2JGFyZy5tZW1iZXJJZCxcbiAgICAgICAgb3JnYW5pemF0aW9uSWQgPSBfcmVmOTYkYXJnLm9yZ2FuaXphdGlvbklkLFxuICAgICAgICBzZXNzaW9uRHVyYXRpb25NaW51dGVzID0gX3JlZjk2JGFyZy5zZXNzaW9uRHVyYXRpb25NaW51dGVzO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC5vdHBzLnNtcy5hdXRoZW50aWNhdGUoe1xuICAgICAgICBjb2RlOiBvdHAsXG4gICAgICAgIG1lbWJlcl9pZDogbWVtYmVySWQsXG4gICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnc21zX290cC9hdXRoZW50aWNhdGVfc3VjY2VzcydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgYXV0aGVudGljYXRlID0gX3VzZU11dGF0ZTEwLnRyaWdnZXIsXG4gICAgaXNBdXRoZW50aWNhdGluZyA9IF91c2VNdXRhdGUxMC5pc011dGF0aW5nLFxuICAgIGF1dGhlbnRpY2F0ZUVycm9yID0gX3VzZU11dGF0ZTEwLmVycm9yO1xuICB2YXIgc2hvdWxkQ3JlYXRlID0gY29kZUV4cGlyYXRpb24gPT09IG51bGwgJiYgIWlzU2VuZGluZyAmJiAhc2VuZEVycm9yO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzaG91bGRDcmVhdGUpIHtcbiAgICAgIHNlbmRTbXMoe1xuICAgICAgICBtZW1iZXJJZDogbWVtYmVySWQsXG4gICAgICAgIG9yZ2FuaXphdGlvbklkOiBvcmdhbml6YXRpb25JZFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbbWVtYmVySWQsIG9yZ2FuaXphdGlvbklkLCBzZW5kU21zLCBzaG91bGRDcmVhdGVdKTtcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWZvcm1hdHRlZERlc3RpbmF0aW9uICYmIG1lbWJlclBob25lTnVtYmVyKSB7XG4gICAgICB2YXIgZm9ybWF0TnVtYmVyID0gZnVuY3Rpb24gZm9ybWF0TnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7XG4gICAgICAgICAgdmFyIHBhcnNlUGhvbmVOdW1iZXIsIHBhcnNlZE51bWJlcjtcbiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhcnNlUGhvbmVOdW1iZXIgPSBmdW5jdGlvbiBwYXJzZVBob25lTnVtYmVyKHBob25lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZEIyQkludGVybmFscyhzdHl0Y2hDbGllbnQpLmNsaWVudHNpZGVTZXJ2aWNlcy5wYXJzZWRQaG9uZU51bWJlcih7XG4gICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlclxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVBob25lTnVtYmVyKG1lbWJlclBob25lTnVtYmVyKTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHBhcnNlZE51bWJlciA9IF9jb250ZXh0MTMuc2VudDtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkTnVtYmVyLmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Ntc19vdHAvZm9ybWF0X2Rlc3RpbmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGhvbmVOdW1iZXI6IHBhcnNlZE51bWJlci5uYXRpb25hbFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2NhbGxlZTEzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICAgIGZvcm1hdE51bWJlcigpO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBmb3JtYXR0ZWREZXN0aW5hdGlvbiwgc3R5dGNoQ2xpZW50LCBtZW1iZXJQaG9uZU51bWJlcl0pO1xuICB2YXIgaXNUb3RwQXZhaWxhYmxlID0gRihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICFpc0Vucm9sbGluZyAmJiBlbnJvbGxlZE1mYU1ldGhvZHMuaW5jbHVkZXMoQjJCTUZBUHJvZHVjdHMudG90cCkgJiYgKG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQubGVuZ3RoID09PSAwIHx8IG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQuaW5jbHVkZXMoQjJCTUZBUHJvZHVjdHMudG90cCkpO1xuICB9LCBbZW5yb2xsZWRNZmFNZXRob2RzLCBpc0Vucm9sbGluZywgb3JnYW5pemF0aW9uTWZhT3B0aW9uc1N1cHBvcnRlZF0pO1xuICB2YXIgZXJyb3JNZXNzYWdlID0gYXV0aGVudGljYXRlRXJyb3IgPyAnSW52YWxpZCBwYXNzY29kZSwgcGxlYXNlIHRyeSBhZ2Fpbi4nIDogdW5kZWZpbmVkO1xuICB2YXIgY2FuR29CYWNrID0gRihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzRW5yb2xsaW5nIHx8IGVucm9sbGVkTWZhTWV0aG9kcy5sZW5ndGggPT09IDAgfHwgb3JnYW5pemF0aW9uTWZhT3B0aW9uc1N1cHBvcnRlZC5sZW5ndGggPiAwICYmICFlbnJvbGxlZE1mYU1ldGhvZHMuc29tZShmdW5jdGlvbiAoZW5yb2xsZWRNZXRob2QpIHtcbiAgICAgIHJldHVybiBvcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkLmluY2x1ZGVzKGVucm9sbGVkTWV0aG9kKTtcbiAgICB9KTtcbiAgfSwgW2Vucm9sbGVkTWZhTWV0aG9kcywgaXNFbnJvbGxpbmcsIG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWRdKTtcbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChvdHApIHtcbiAgICBhdXRoZW50aWNhdGUoe1xuICAgICAgb3RwOiBvdHAsXG4gICAgICBtZW1iZXJJZDogbWVtYmVySWQsXG4gICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICBzZXNzaW9uRHVyYXRpb25NaW51dGVzOiBzZXNzaW9uRHVyYXRpb25NaW51dGVzXG4gICAgfSk7XG4gIH07XG4gIHZhciBoYW5kbGVTd2l0Y2hUb1RvdHAgPSBmdW5jdGlvbiBoYW5kbGVTd2l0Y2hUb1RvdHAoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ3RvdHAvbmF2aWdhdGVfdG9fZW50cnknXG4gICAgfSk7XG4gIH07XG4gIHZhciBoYW5kbGVSZXNlbmRPVFAgPSBmdW5jdGlvbiBoYW5kbGVSZXNlbmRPVFAoKSB7XG4gICAgc2VuZFNtcyh7XG4gICAgICBtZW1iZXJJZDogbWVtYmVySWQsXG4gICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uSWRcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGhhbmRsZUJhY2sgPSBmdW5jdGlvbiBoYW5kbGVCYWNrKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdtZmEvc3RhcnRfZW5yb2xsbWVudCcsXG4gICAgICBtZXRob2Q6IEIyQk1GQVByb2R1Y3RzLnNtc090cFxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0XG4gIH0sIGNhbkdvQmFjayAmJiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCYWNrQXJyb3csIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVCYWNrXG4gIH0pLCBjb2RlRXhwaXJhdGlvbiAhPT0gbnVsbCA/ICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU2VudE9UUEVudHJ5LCB7XG4gICAgaXNTdWJtaXR0aW5nOiBpc0F1dGhlbnRpY2F0aW5nLFxuICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsXG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgZXhwaXJhdGlvbjogY29kZUV4cGlyYXRpb24sXG4gICAgZm9ybWF0dGVkRGVzdGluYXRpb246IChfYSA9IGZvcm1hdHRlZERlc3RpbmF0aW9uICE9PSBudWxsICYmIGZvcm1hdHRlZERlc3RpbmF0aW9uICE9PSB2b2lkIDAgPyBmb3JtYXR0ZWREZXN0aW5hdGlvbiA6IG1lbWJlclBob25lTnVtYmVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJyxcbiAgICByZXNlbmRPVFA6IGhhbmRsZVJlc2VuZE9UUFxuICB9KSkgOiAoIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExvYWRpbmdTY3JlZW4sIG51bGwpKSwgaXNUb3RwQXZhaWxhYmxlICYmICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KERpdmlkZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIHZhcmlhbnQ6IFwidGV4dFwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZVN3aXRjaFRvVG90cFxuICB9LCBcIlVzZSBhbiBhdXRoZW50aWNhdG9yIGFwcFwiKSkpKTtcbn07XG52YXIgQ29weUljb24gPSBmdW5jdGlvbiBDb3B5SWNvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi95KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogXCIyNVwiLFxuICAgIGhlaWdodDogXCIyNFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCAvKiNfX1BVUkVfXyoveShcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE3IDFINUMzLjkgMSAzIDEuOSAzIDNWMTdINVYzSDE3VjFaTTIwIDVIOUM3LjkgNSA3IDUuOSA3IDdWMjFDNyAyMi4xIDcuOSAyMyA5IDIzSDIwQzIxLjEgMjMgMjIgMjIuMSAyMiAyMVY3QzIyIDUuOSAyMS4xIDUgMjAgNVpNMjAgMjFIOVY3SDIwVjIxWlwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgfSkpO1xufTtcbnZhciBDb3B5ID0gQ3JlYXRlSWNvbihDb3B5SWNvbik7XG52YXIgQ29weUJ1dHRvbiA9IEhlLmJ1dHRvbihfdGVtcGxhdGVPYmplY3Q0OSB8fCAoX3RlbXBsYXRlT2JqZWN0NDkgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIGZsZXg6IDAgMCAyNHB4O1xcbiAgaGVpZ2h0OiAyOHB4O1xcbiAgb3BhY2l0eTogMDtcXG4gIDpmb2N1cyB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxuXCJdKSkpO1xudmFyIENvZGVDb250YWluZXIgPSBIZShJbnNldENvbnRhaW5lcikoX3RlbXBsYXRlT2JqZWN0NTAgfHwgKF90ZW1wbGF0ZU9iamVjdDUwID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIDpob3ZlciBcIiwgXCIge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcblwiXSkpLCBDb3B5QnV0dG9uKTtcbnZhciBTcGFjZXIgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0NTEgfHwgKF90ZW1wbGF0ZU9iamVjdDUxID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGZsZXg6IDAgMSAyNHB4O1xcblwiXSkpKTtcbnZhciBDb2RlID0gSGUuY29kZShfdGVtcGxhdGVPYmplY3Q1MiB8fCAoX3RlbXBsYXRlT2JqZWN0NTIgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGZsZXgtd3JhcDogd3JhcDtcXG4gIGdhcDogMWNoO1xcblwiXSkpKTtcbnZhciBUT1RQRW5yb2xsTWFudWFsU2NyZWVuID0gZnVuY3Rpb24gVE9UUEVucm9sbE1hbnVhbFNjcmVlbigpIHtcbiAgdmFyIF91c2VHbG9iYWxSZWR1Y2VyNTMgPSB1c2VHbG9iYWxSZWR1Y2VyKCksXG4gICAgX3VzZUdsb2JhbFJlZHVjZXI1NCA9IF9zbGljZWRUb0FycmF5KF91c2VHbG9iYWxSZWR1Y2VyNTMsIDIpLFxuICAgIHN0YXRlID0gX3VzZUdsb2JhbFJlZHVjZXI1NFswXSxcbiAgICBkaXNwYXRjaCA9IF91c2VHbG9iYWxSZWR1Y2VyNTRbMV07XG4gIHZhciBzZWNyZXQgPSBzdGF0ZS5tZmEudG90cC5lbnJvbGxtZW50LnNlY3JldDtcbiAgdmFyIGRpc3BsYXlTZWNyZXQgPSBzZWNyZXQudG9Mb3dlckNhc2UoKTtcbiAgdmFyIHNlY3JldENodW5rZWQgPSBkaXNwbGF5U2VjcmV0LnNwbGl0KC8oLns0fSkvZykuZmlsdGVyKEJvb2xlYW4pO1xuICB2YXIgaGFuZGxlU2hvd1FSQ29kZSA9IGZ1bmN0aW9uIGhhbmRsZVNob3dRUkNvZGUoKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ3RvdHAvc2hvd19jb2RlJyxcbiAgICAgIG1ldGhvZDogJ3FyJ1xuICAgIH0pO1xuICB9O1xuICB2YXIgaGFuZGxlQ29udGludWUgPSBmdW5jdGlvbiBoYW5kbGVDb250aW51ZSgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAndG90cC9uYXZpZ2F0ZV90b19lbnRyeSdcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGhhbmRsZUNvZGVDb3B5ID0gZnVuY3Rpb24gaGFuZGxlQ29kZUNvcHkoZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDE7XG4gICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA0O1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGRpc3BsYXlTZWNyZXQpO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHRvYXN0JDEuc3VjY2VzcygnQ29kZSBjb3BpZWQnKTtcbiAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gNztcbiAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBfY29udGV4dDE0W1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICB0b2FzdCQxLmVycm9yKFwiQ291bGRuJ3QgY29weSBjb2RlIHRvIGNsaXBib2FyZFwiKTtcbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTE0LCBudWxsLCBbWzEsIDddXSk7XG4gICAgfSkpO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tBcnJvdywge1xuICAgIG9uQ2xpY2s6IGhhbmRsZVNob3dRUkNvZGVcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiSGF2aW5nIHRyb3VibGUgc2Nhbm5pbmcgdGhlIFFSIGNvZGU/XCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCBcIkNsaWNrIHRvIGNvcHkgdGhlIGNvZGUgYmVsb3cuIEVudGVyIGludG8geW91ciBhdXRoZW50aWNhdG9yIGFwcCB0byBsaW5rIHlvdXIgYWNjb3VudC5cIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENvZGVDb250YWluZXIsIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVDb2RlQ29weVxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTcGFjZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDb2RlLCBudWxsLCBzZWNyZXRDaHVua2VkLm1hcChmdW5jdGlvbiAocGFydCwgaSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAga2V5OiBpXG4gICAgfSwgcGFydCk7XG4gIH0pKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29weUJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogaGFuZGxlQ29kZUNvcHksXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiQ29weSBjb2RlXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29weSwgbnVsbCkpKSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBoYW5kbGVDb250aW51ZVxuICB9LCBcIkNvbnRpbnVlXCIpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIHZhcmlhbnQ6IFwidGV4dFwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZVNob3dRUkNvZGVcbiAgfSwgXCJUcnkgdG8gc2NhbiB0aGUgUVIgY29kZSBhZ2FpblwiKSk7XG59O1xudmFyIFFSQ29kZUltZyA9IEhlLmltZyhfdGVtcGxhdGVPYmplY3Q1MyB8fCAoX3RlbXBsYXRlT2JqZWN0NTMgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgbWFyZ2luOiAwIGF1dG87XFxuXCJdKSkpO1xudmFyIFRPVFBFbnJvbGxRUlNjcmVlbiA9IGZ1bmN0aW9uIFRPVFBFbnJvbGxRUlNjcmVlbigpIHtcbiAgdmFyIHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXI1NSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXI1NSwgMiksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjU2WzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI1NlsxXTtcbiAgdmFyIF9zdGF0ZSRtZmEkdG90cCA9IHN0YXRlLm1mYS50b3RwLFxuICAgIGNyZWF0ZUVycm9yID0gX3N0YXRlJG1mYSR0b3RwLmNyZWF0ZUVycm9yLFxuICAgIGVucm9sbG1lbnQgPSBfc3RhdGUkbWZhJHRvdHAuZW5yb2xsbWVudCxcbiAgICBpc0NyZWF0aW5nID0gX3N0YXRlJG1mYSR0b3RwLmlzQ3JlYXRpbmc7XG4gIHZhciBfc3RhdGUkbWZhJHByaW1hcnlJbmY0ID0gc3RhdGUubWZhLnByaW1hcnlJbmZvLFxuICAgIG1lbWJlcklkID0gX3N0YXRlJG1mYSRwcmltYXJ5SW5mNC5tZW1iZXJJZCxcbiAgICBvcmdhbml6YXRpb25JZCA9IF9zdGF0ZSRtZmEkcHJpbWFyeUluZjQub3JnYW5pemF0aW9uSWQ7XG4gIHZhciBfdXNlTXV0YXRlMTEgPSB1c2VNdXRhdGUoJ3N0eXRjaC50b3RwLmNyZWF0ZScsIGZ1bmN0aW9uIChfLCBfcmVmOTcpIHtcbiAgICAgIHZhciBfcmVmOTckYXJnID0gX3JlZjk3LmFyZyxcbiAgICAgICAgbWVtYmVySWQgPSBfcmVmOTckYXJnLm1lbWJlcklkLFxuICAgICAgICBvcmdhbml6YXRpb25JZCA9IF9yZWY5NyRhcmcub3JnYW5pemF0aW9uSWQ7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICd0b3RwL2NyZWF0ZSdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC50b3RwLmNyZWF0ZSh7XG4gICAgICAgIG1lbWJlcl9pZDogbWVtYmVySWQsXG4gICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWRcbiAgICAgIH0pO1xuICAgIH0sIHtcbiAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAndG90cC9jcmVhdGVfc3VjY2VzcycsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgICAgIG1lbWJlcklkOiBtZW1iZXJJZCxcbiAgICAgICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uSWRcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgIHRvYXN0JDEuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICd0b3RwL2NyZWF0ZV9lcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGNyZWF0ZVRvdHAgPSBfdXNlTXV0YXRlMTEudHJpZ2dlcjtcbiAgdmFyIHNob3VsZENyZWF0ZSA9ICFlbnJvbGxtZW50ICYmICFpc0NyZWF0aW5nICYmICFjcmVhdGVFcnJvcjtcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2hvdWxkQ3JlYXRlKSB7XG4gICAgICBjcmVhdGVUb3RwKHtcbiAgICAgICAgbWVtYmVySWQ6IG1lbWJlcklkLFxuICAgICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uSWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NyZWF0ZVRvdHAsIG1lbWJlcklkLCBvcmdhbml6YXRpb25JZCwgc2hvdWxkQ3JlYXRlXSk7XG4gIHZhciBoYW5kbGVTaG93TWFudWFsQ29kZSA9IGZ1bmN0aW9uIGhhbmRsZVNob3dNYW51YWxDb2RlKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0b3RwL3Nob3dfY29kZScsXG4gICAgICBtZXRob2Q6ICdtYW51YWwnXG4gICAgfSk7XG4gIH07XG4gIHZhciBoYW5kbGVDb250aW51ZSA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRpbnVlKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0b3RwL25hdmlnYXRlX3RvX2VudHJ5J1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCwge1xuICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBnYXA6IDI0XG4gIH0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICBzaXplOiBcImhlYWRlclwiXG4gIH0sIFwiU2NhbiB0aGUgUVIgY29kZSB0byBsaW5rIHlvdXIgYXV0aGVudGljYXRvciBhcHBcIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIFwiWW91ciBvcmdhbml6YXRpb24gcmVxdWlyZXMgYW4gYWRkaXRpb25hbCBmb3JtIG9mIHZlcmlmaWNhdGlvbiB0byBtYWtlIHlvdXIgYWNjb3VudCBtb3JlIHNlY3VyZS4gSWYgeW91IGRvblxcdTIwMTl0IGhhdmUgYW4gYXV0aGVudGljYXRvciBhcHAsIHlvdVxcdTIwMTlsbCBuZWVkIHRvIGluc3RhbGwgb25lIGZpcnN0LlwiKSwgISFlbnJvbGxtZW50ID8gKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUVJDb2RlSW1nLCB7XG4gICAgYWx0OiBcIlFSIGNvZGUgZm9yIFRPVFAgZW5yb2xsbWVudFwiLFxuICAgIHNyYzogZW5yb2xsbWVudC5xckNvZGVcbiAgfSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgdmFyaWFudDogXCJ0ZXh0XCIsXG4gICAgb25DbGljazogaGFuZGxlU2hvd01hbnVhbENvZGVcbiAgfSwgXCJIYXZpbmcgdHJvdWJsZSBzY2FubmluZz9cIiksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogaGFuZGxlQ29udGludWVcbiAgfSwgXCJDb250aW51ZVwiKSkpIDogKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChMb2FkaW5nU2NyZWVuLCBudWxsKSkpO1xufTtcbnZhciBUT1RQRW50cnkgPSBmdW5jdGlvbiBUT1RQRW50cnkoX3JlZjk4KSB7XG4gIHZhciBoZWxwZXJDb250ZW50ID0gX3JlZjk4LmhlbHBlckNvbnRlbnQsXG4gICAgaXNTdWJtaXR0aW5nID0gX3JlZjk4LmlzU3VibWl0dGluZyxcbiAgICBvblN1Ym1pdCA9IF9yZWY5OC5vblN1Ym1pdCxcbiAgICBlcnJvck1lc3NhZ2UgPSBfcmVmOTguZXJyb3JNZXNzYWdlO1xuICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT1RQRW50cnksIHtcbiAgICBoZWFkZXI6IFwiRW50ZXIgdmVyaWZpY2F0aW9uIGNvZGVcIixcbiAgICBpbnN0cnVjdGlvbjogXCJFbnRlciB0aGUgNi1kaWdpdCBjb2RlIGZyb20geW91ciBhdXRoZW50aWNhdG9yIGFwcC5cIixcbiAgICBoZWxwZXJDb250ZW50OiBoZWxwZXJDb250ZW50LFxuICAgIGlzU3VibWl0dGluZzogaXNTdWJtaXR0aW5nLFxuICAgIG9uU3VibWl0OiBvblN1Ym1pdCxcbiAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICB9KTtcbn07XG52YXIgVE9UUEVudHJ5U2NyZWVuID0gZnVuY3Rpb24gVE9UUEVudHJ5U2NyZWVuKCkge1xuICB2YXIgc3R5dGNoQ2xpZW50ID0gdXNlU3R5dGNoKCk7XG4gIHZhciBfdXNlQ29uZmlnNCA9IHVzZUNvbmZpZygpLFxuICAgIHNlc3Npb25EdXJhdGlvbk1pbnV0ZXMgPSBfdXNlQ29uZmlnNC5zZXNzaW9uT3B0aW9ucy5zZXNzaW9uRHVyYXRpb25NaW51dGVzO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXI1NyA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXI1NywgMiksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjU4WzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI1OFsxXTtcbiAgdmFyIGlzRW5yb2xsaW5nID0gc3RhdGUubWZhLmlzRW5yb2xsaW5nO1xuICB2YXIgX3N0YXRlJG1mYSRwcmltYXJ5SW5mNSA9IHN0YXRlLm1mYS5wcmltYXJ5SW5mbyxcbiAgICBlbnJvbGxlZE1mYU1ldGhvZHMgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmY1LmVucm9sbGVkTWZhTWV0aG9kcyxcbiAgICBtZW1iZXJJZCA9IF9zdGF0ZSRtZmEkcHJpbWFyeUluZjUubWVtYmVySWQsXG4gICAgb3JnYW5pemF0aW9uSWQgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmY1Lm9yZ2FuaXphdGlvbklkLFxuICAgIG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQgPSBfc3RhdGUkbWZhJHByaW1hcnlJbmY1Lm9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQ7XG4gIHZhciBfdXNlTXV0YXRlMTIgPSB1c2VNdXRhdGUoJ3N0eXRjaC50b3RwLmF1dGhlbnRpY2F0ZScsIGZ1bmN0aW9uIChfLCBfcmVmOTkpIHtcbiAgICAgIHZhciBfcmVmOTkkYXJnID0gX3JlZjk5LmFyZyxcbiAgICAgICAgbWVtYmVySWQgPSBfcmVmOTkkYXJnLm1lbWJlcklkLFxuICAgICAgICBvcmdhbml6YXRpb25JZCA9IF9yZWY5OSRhcmcub3JnYW5pemF0aW9uSWQsXG4gICAgICAgIG90cCA9IF9yZWY5OSRhcmcub3RwLFxuICAgICAgICBzZXNzaW9uRHVyYXRpb25NaW51dGVzID0gX3JlZjk5JGFyZy5zZXNzaW9uRHVyYXRpb25NaW51dGVzO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC50b3RwLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIGNvZGU6IG90cCxcbiAgICAgICAgbWVtYmVyX2lkOiBtZW1iZXJJZCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZCxcbiAgICAgICAgc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOiBzZXNzaW9uRHVyYXRpb25NaW51dGVzXG4gICAgICB9KTtcbiAgICB9LCB7XG4gICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICd0b3RwL2F1dGhlbnRpY2F0ZV9zdWNjZXNzJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBhdXRoZW50aWNhdGUgPSBfdXNlTXV0YXRlMTIudHJpZ2dlcixcbiAgICBpc0F1dGhlbnRpY2F0aW5nID0gX3VzZU11dGF0ZTEyLmlzTXV0YXRpbmcsXG4gICAgYXV0aGVudGljYXRlRXJyb3IgPSBfdXNlTXV0YXRlMTIuZXJyb3I7XG4gIHZhciBpc1Ntc090cEF2YWlsYWJsZSA9IEYoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhaXNFbnJvbGxpbmcgJiYgZW5yb2xsZWRNZmFNZXRob2RzLmluY2x1ZGVzKEIyQk1GQVByb2R1Y3RzLnNtc090cCkgJiYgKG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQubGVuZ3RoID09PSAwIHx8IG9yZ2FuaXphdGlvbk1mYU9wdGlvbnNTdXBwb3J0ZWQuaW5jbHVkZXMoQjJCTUZBUHJvZHVjdHMuc21zT3RwKSk7XG4gIH0sIFtlbnJvbGxlZE1mYU1ldGhvZHMsIGlzRW5yb2xsaW5nLCBvcmdhbml6YXRpb25NZmFPcHRpb25zU3VwcG9ydGVkXSk7XG4gIHZhciBlcnJvck1lc3NhZ2UgPSBhdXRoZW50aWNhdGVFcnJvciA/ICdJbnZhbGlkIHBhc3Njb2RlLCBwbGVhc2UgdHJ5IGFnYWluLicgOiB1bmRlZmluZWQ7XG4gIHZhciBjYW5Hb0JhY2sgPSBpc0Vucm9sbGluZztcbiAgdmFyIGhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChvdHApIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZSh7XG4gICAgICAgICAgICAgIG1lbWJlcklkOiBtZW1iZXJJZCxcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IG9yZ2FuaXphdGlvbklkLFxuICAgICAgICAgICAgICBvdHA6IG90cCxcbiAgICAgICAgICAgICAgc2Vzc2lvbkR1cmF0aW9uTWludXRlczogc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTE1KTtcbiAgICB9KSk7XG4gIH07XG4gIHZhciBoYW5kbGVTd2l0Y2hUb1JlY292ZXJ5Q29kZSA9IGZ1bmN0aW9uIGhhbmRsZVN3aXRjaFRvUmVjb3ZlcnlDb2RlKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdyZWNvdmVyeV9jb2RlL25hdmlnYXRlX3RvX2VudHJ5J1xuICAgIH0pO1xuICB9O1xuICB2YXIgaGFuZGxlU3dpdGNoVG9TbXMgPSBmdW5jdGlvbiBoYW5kbGVTd2l0Y2hUb1NtcygpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnc21zX290cC9uYXZpZ2F0ZV90b19lbnRyeSdcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGhhbmRsZUJhY2sgPSBmdW5jdGlvbiBoYW5kbGVCYWNrKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICd0b3RwL3Nob3dfY29kZSdcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgsIHtcbiAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgZ2FwOiAyNFxuICB9LCBjYW5Hb0JhY2sgJiYgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LCB7XG4gICAgb25DbGljazogaGFuZGxlQmFja1xuICB9KSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVE9UUEVudHJ5LCB7XG4gICAgaGVscGVyQ29udGVudDogIWlzRW5yb2xsaW5nID8gKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCwgbnVsbCwgXCJDYW5cXHUyMDE5dCBhY2Nlc3MgeW91ciBhdXRoZW50aWNhdG9yIGFwcD9cIiwgJyAnLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbmxpbmVCdXR0b24sIHtcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVN3aXRjaFRvUmVjb3ZlcnlDb2RlXG4gICAgfSwgXCJVc2UgYSBiYWNrdXAgY29kZVwiKSkpIDogJ0lmIHRoZSB2ZXJpZmljYXRpb24gY29kZSBkb2VzbuKAmXQgd29yaywgZ28gYmFjayB0byB5b3VyIGF1dGhlbnRpY2F0b3IgYXBwIHRvIGdldCBhIG5ldyBjb2RlLicsXG4gICAgaXNTdWJtaXR0aW5nOiBpc0F1dGhlbnRpY2F0aW5nLFxuICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsXG4gICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgfSksIGlzU21zT3RwQXZhaWxhYmxlICYmICggLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KERpdmlkZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIHZhcmlhbnQ6IFwidGV4dFwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZVN3aXRjaFRvU21zXG4gIH0sIFwiVGV4dCBtZSBhIGNvZGUgaW5zdGVhZFwiKSkpKTtcbn07XG52YXIgTWFpbkNvbnRhaW5lciA9IEhlLmRpdihfdGVtcGxhdGVPYmplY3Q1NCB8fCAoX3RlbXBsYXRlT2JqZWN0NTQgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgd2lkdGg6IFwiLCBcIjtcXG4gIGZvbnQtZmFtaWx5OiBcIiwgXCI7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgKiB7XFxuICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgfVxcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsIFwiO1xcbiAgYm9yZGVyOiBcIiwgXCI7XFxuICBib3JkZXItcmFkaXVzOiBcIiwgXCI7XFxuXCJdKSksIGZ1bmN0aW9uIChfcmVmMTAwKSB7XG4gIHZhciB0aGVtZSA9IF9yZWYxMDAudGhlbWU7XG4gIHJldHVybiB0aGVtZS5jb250YWluZXIud2lkdGg7XG59LCBmdW5jdGlvbiAoX3JlZjEwMSkge1xuICB2YXIgdGhlbWUgPSBfcmVmMTAxLnRoZW1lO1xuICByZXR1cm4gdGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5O1xufSwgZnVuY3Rpb24gKF9yZWYxMDIpIHtcbiAgdmFyIHRoZW1lID0gX3JlZjEwMi50aGVtZTtcbiAgcmV0dXJuIHRoZW1lLmNvbnRhaW5lci5iYWNrZ3JvdW5kQ29sb3I7XG59LCBmdW5jdGlvbiAoX3JlZjEwMykge1xuICB2YXIgdGhlbWUgPSBfcmVmMTAzLnRoZW1lO1xuICByZXR1cm4gdGhlbWUuY29udGFpbmVyLmJvcmRlcjtcbn0sIGZ1bmN0aW9uIChfcmVmMTA0KSB7XG4gIHZhciB0aGVtZSA9IF9yZWYxMDQudGhlbWU7XG4gIHJldHVybiB0aGVtZS5jb250YWluZXIuYm9yZGVyUmFkaXVzO1xufSk7XG52YXIgQ2hpbGRyZW5Db250YWluZXIgPSBIZS5kaXYoX3RlbXBsYXRlT2JqZWN0NTUgfHwgKF90ZW1wbGF0ZU9iamVjdDU1ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIHBhZGRpbmc6IDI0cHggMzJweDtcXG5cIl0pKSk7XG52YXIgV2F0ZXJtYXJrQ29udGFpbmVyID0gSGUuZGl2KF90ZW1wbGF0ZU9iamVjdDU2IHx8IChfdGVtcGxhdGVPYmplY3Q1NiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiBcIiwgXCI7XFxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogXCIsIFwiO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE5MzAzZDtcXG4gIG9wYWNpdHk6IDUwJTtcXG4gIHBhZGRpbmc6IDRweCAwcHggMHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcblwiXSkpLCBmdW5jdGlvbiAoX3JlZjEwNSkge1xuICB2YXIgdGhlbWUgPSBfcmVmMTA1LnRoZW1lO1xuICByZXR1cm4gdGhlbWUuY29udGFpbmVyLmJvcmRlclJhZGl1cztcbn0sIGZ1bmN0aW9uIChfcmVmMTA2KSB7XG4gIHZhciB0aGVtZSA9IF9yZWYxMDYudGhlbWU7XG4gIHJldHVybiB0aGVtZS5jb250YWluZXIuYm9yZGVyUmFkaXVzO1xufSk7XG52YXIgSW1hZ2UgPSBIZS5pbWcoX3RlbXBsYXRlT2JqZWN0NTcgfHwgKF90ZW1wbGF0ZU9iamVjdDU3ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIHdpZHRoOiAxNTBweDtcXG5cIl0pKSk7XG52YXIgUE9XRVJFRF9CWV9TVFlUQ0hfSU1HX1VSTCA9ICdodHRwczovL3B1YmxpYy1hc3NldHMuc3R5dGNoLmNvbS9ldF9wb3dlcmVkX2J5X3N0eXRjaF9sb2dvLnBuZyc7XG52YXIgZ2V0VG9rZW5Gcm9tVXJsID0gZnVuY3Rpb24gZ2V0VG9rZW5Gcm9tVXJsKCkge1xuICB2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gIHZhciB0b2tlblR5cGUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgnc3R5dGNoX3Rva2VuX3R5cGUnKTtcbiAgdmFyIHRva2VuID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3Rva2VuJyk7XG4gIHJldHVybiB7XG4gICAgdG9rZW5UeXBlOiB0b2tlblR5cGUsXG4gICAgdG9rZW46IHRva2VuXG4gIH07XG59O1xudmFyIHN1cHBvcnRlZFRva2VuVHlwZXMgPSBbJ2Rpc2NvdmVyeScsICdkaXNjb3Zlcnlfb2F1dGgnLCAnb2F1dGgnLCAnc3NvJywgJ211bHRpX3RlbmFudF9tYWdpY19saW5rcyddO1xudmFyIHN1cHBvcnRlZFRva2VuVHlwZXNTZXQgPSBuZXcgU2V0KHN1cHBvcnRlZFRva2VuVHlwZXMpO1xudmFyIGlzU3VwcG9ydGVkVG9rZW5UeXBlID0gZnVuY3Rpb24gaXNTdXBwb3J0ZWRUb2tlblR5cGUodG9rZW5UeXBlKSB7XG4gIHJldHVybiAhISh0b2tlblR5cGUgJiYgc3VwcG9ydGVkVG9rZW5UeXBlc1NldC5oYXModG9rZW5UeXBlKSk7XG59O1xudmFyIEFwcENvbnRhaW5lciQxID0gZnVuY3Rpb24gQXBwQ29udGFpbmVyJDEoKSB7XG4gIHZhciBfU2NyZWVuQ29tcG9uZW50TWFwO1xuICB2YXIgX3VzZUdsb2JhbFJlZHVjZXI1OSA9IHVzZUdsb2JhbFJlZHVjZXIoKSxcbiAgICBfdXNlR2xvYmFsUmVkdWNlcjYwID0gX3NsaWNlZFRvQXJyYXkoX3VzZUdsb2JhbFJlZHVjZXI1OSwgMiksXG4gICAgc3RhdGUgPSBfdXNlR2xvYmFsUmVkdWNlcjYwWzBdLFxuICAgIGRpc3BhdGNoID0gX3VzZUdsb2JhbFJlZHVjZXI2MFsxXTtcbiAgdmFyIHN0eXRjaENsaWVudCA9IHVzZVN0eXRjaCgpO1xuICB2YXIgY29uZmlnID0gdXNlQ29uZmlnKCk7XG4gIHZhciBfWmUyID0gWmUoKSxcbiAgICBkaXNwbGF5V2F0ZXJtYXJrID0gX1plMi5kaXNwbGF5V2F0ZXJtYXJrO1xuICB2YXIgaXNPbmx5RmxvYXRpbmdPbmVUYXAgPSB1c2VJc09ubHlGbG9hdGluZ09uZVRhcCgpO1xuICB2YXIgY3VycmVudFNjcmVlbiA9IHN0YXRlLnNjcmVlbjtcbiAgdmFyIFNjcmVlbkNvbXBvbmVudE1hcCA9IChfU2NyZWVuQ29tcG9uZW50TWFwID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfU2NyZWVuQ29tcG9uZW50TWFwLCBBcHBTY3JlZW5zJDEuTWFpbiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFpblNjcmVlbiwgbnVsbCkpLCBBcHBTY3JlZW5zJDEuRW1haWxDb25maXJtYXRpb24sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsQ29uZmlybWF0aW9uLCBudWxsKSksIEFwcFNjcmVlbnMkMS5Mb2dnZWRJbiwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29uZmlybWF0aW9uU2NyZWVuLCBudWxsKSksIEFwcFNjcmVlbnMkMS5EaXNjb3ZlcnksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KERpc2NvdmVyeSwgbnVsbCkpLCBBcHBTY3JlZW5zJDEuRXJyb3IsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVycm9yU2NyZWVuLCBudWxsKSksIEFwcFNjcmVlbnMkMS5QYXNzd29yZEVtYWlsRm9ybSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRzRW1haWxGb3JtLCBudWxsKSksIEFwcFNjcmVlbnMkMS5QYXNzd29yZEF1dGhlbnRpY2F0ZSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRzQXV0aGVudGljYXRlLCBudWxsKSksIEFwcFNjcmVlbnMkMS5QYXNzd29yZFJlc2V0Rm9ybSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRSZXNldEZvcm0sIG51bGwpKSwgQXBwU2NyZWVucyQxLlBhc3N3b3JkUmVzZXRWZXJpZnlDb25maXJtYXRpb24sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkUmVzZXRDb25maXJtYXRpb24sIG51bGwpKSwgQXBwU2NyZWVucyQxLlBhc3N3b3JkRm9yZ290Rm9ybSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRzRm9yZ290Rm9ybSwgbnVsbCkpLCBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfU2NyZWVuQ29tcG9uZW50TWFwLCBBcHBTY3JlZW5zJDEuUGFzc3dvcmRTZXROZXdDb25maXJtYXRpb24sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkU2V0TmV3LCBudWxsKSksIEFwcFNjcmVlbnMkMS5NRkFFbnJvbGxtZW50U2VsZWN0aW9uLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChNRkFFbnJvbGxtZW50U2VsZWN0aW9uU2NyZWVuLCBudWxsKSksIEFwcFNjcmVlbnMkMS5TTVNPVFBFbnJvbGxtZW50LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTTVNPVFBFbnJvbGxTY3JlZW4sIG51bGwpKSwgQXBwU2NyZWVucyQxLlNNU09UUEVudHJ5LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTTVNPVFBFbnRyeVNjcmVlbiwgbnVsbCkpLCBBcHBTY3JlZW5zJDEuUmVjb3ZlcnlDb2RlRW50cnksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFJlY292ZXJ5Q29kZUVudHJ5U2NyZWVuLCBudWxsKSksIEFwcFNjcmVlbnMkMS5SZWNvdmVyeUNvZGVTYXZlLCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZWNvdmVyeUNvZGVTYXZlU2NyZWVuLCBudWxsKSksIEFwcFNjcmVlbnMkMS5UT1RQRW5yb2xsbWVudFFSQ29kZSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVE9UUEVucm9sbFFSU2NyZWVuLCBudWxsKSksIEFwcFNjcmVlbnMkMS5UT1RQRW5yb2xsbWVudE1hbnVhbCwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVE9UUEVucm9sbE1hbnVhbFNjcmVlbiwgbnVsbCkpLCBBcHBTY3JlZW5zJDEuVE9UUEVudHJ5LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUT1RQRW50cnlTY3JlZW4sIG51bGwpKSk7XG4gIHZhciBvblN1Y2Nlc3MgPSBmdW5jdGlvbiBvblN1Y2Nlc3MoZGF0YSkge1xuICAgIGNsZWFyU3R5dGNoU2VhcmNoUGFyYW1zKCk7XG4gICAgb25BdXRoZW50aWNhdGVTdWNjZXNzKGRhdGEsIGRpc3BhdGNoLCBjb25maWcpO1xuICB9O1xuICB2YXIgb25EaXNjb3ZlcnlTdWNjZXNzID0gZnVuY3Rpb24gb25EaXNjb3ZlcnlTdWNjZXNzKGRhdGEpIHtcbiAgICBjbGVhclN0eXRjaFNlYXJjaFBhcmFtcygpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdzZXRfZGlzY292ZXJ5X3N0YXRlJyxcbiAgICAgIGVtYWlsOiBkYXRhLmVtYWlsX2FkZHJlc3MsXG4gICAgICBkaXNjb3ZlcmVkT3JnYW5pemF0aW9uczogZGF0YS5kaXNjb3ZlcmVkX29yZ2FuaXphdGlvbnMsXG4gICAgICBpbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW46IGRhdGEuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW5cbiAgICB9KTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAndHJhbnNpdGlvbicsXG4gICAgICBzY3JlZW46IEFwcFNjcmVlbnMkMS5EaXNjb3ZlcnlcbiAgICB9KTtcbiAgfTtcbiAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKF9yZWYxMDcpIHtcbiAgICB2YXIgZXJyb3JUeXBlID0gX3JlZjEwNy5lcnJvclR5cGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyU3R5dGNoU2VhcmNoUGFyYW1zKCk7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdzZXRfZXJyb3JfbWVzc2FnZV9hbmRfdHJhbnNpdGlvbicsXG4gICAgICAgIGVycm9yVHlwZTogZXJyb3JUeXBlICE9PSBudWxsICYmIGVycm9yVHlwZSAhPT0gdm9pZCAwID8gZXJyb3JUeXBlIDogRXJyb3JUeXBlLkRlZmF1bHRcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG4gIHZhciBfdXNlTXV0YXRlMTMgPSB1c2VNdXRhdGUoXCJzdHl0Y2gubWFnaWNMaW5rcy5hdXRoZW50aWNhdGVcIiwgZnVuY3Rpb24gKF8sIF9yZWYxMDgpIHtcbiAgICAgIHZhciB0b2tlbiA9IF9yZWYxMDguYXJnLnRva2VuO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC5tYWdpY0xpbmtzLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIG1hZ2ljX2xpbmtzX3Rva2VuOiB0b2tlbixcbiAgICAgICAgc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOiBjb25maWcuc2Vzc2lvbk9wdGlvbnMuc2Vzc2lvbkR1cmF0aW9uTWludXRlc1xuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBvblN1Y2Nlc3MsXG4gICAgICBvbkVycm9yOiBvbkVycm9yKHtcbiAgICAgICAgZXJyb3JUeXBlOiBFcnJvclR5cGUuRW1haWxNYWdpY0xpbmtcbiAgICAgIH0pXG4gICAgfSksXG4gICAgc3R5dGNoTWFnaWNMaW5rQXV0aGVudGljYXRlID0gX3VzZU11dGF0ZTEzLnRyaWdnZXIsXG4gICAgaXNNYWdpY0xpbmtMb2FkaW5nID0gX3VzZU11dGF0ZTEzLmlzTXV0YXRpbmc7XG4gIHZhciBfdXNlTXV0YXRlMTQgPSB1c2VNdXRhdGUoXCJzdHl0Y2gub2F1dGguYXV0aGVudGljYXRlXCIsIGZ1bmN0aW9uIChfLCBfcmVmMTA5KSB7XG4gICAgICB2YXIgdG9rZW4gPSBfcmVmMTA5LmFyZy50b2tlbjtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQub2F1dGguYXV0aGVudGljYXRlKHtcbiAgICAgICAgb2F1dGhfdG9rZW46IHRva2VuLFxuICAgICAgICBzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6IGNvbmZpZy5zZXNzaW9uT3B0aW9ucy5zZXNzaW9uRHVyYXRpb25NaW51dGVzXG4gICAgICB9KTtcbiAgICB9LCB7XG4gICAgICBvblN1Y2Nlc3M6IG9uU3VjY2VzcyxcbiAgICAgIG9uRXJyb3I6IG9uRXJyb3Ioe1xuICAgICAgICBlcnJvclR5cGU6IG51bGxcbiAgICAgIH0pXG4gICAgfSksXG4gICAgc3R5dGNoT0F1dGhBdXRoZW50aWNhdGUgPSBfdXNlTXV0YXRlMTQudHJpZ2dlcixcbiAgICBpc09BdXRoTG9hZGluZyA9IF91c2VNdXRhdGUxNC5pc011dGF0aW5nO1xuICB2YXIgX3VzZU11dGF0ZTE1ID0gdXNlTXV0YXRlKFwic3R5dGNoLm9hdXRoLmRpc2NvdmVyeS5hdXRoZW50aWNhdGVcIiwgZnVuY3Rpb24gKF8sIF9yZWYxMTApIHtcbiAgICAgIHZhciB0b2tlbiA9IF9yZWYxMTAuYXJnLnRva2VuO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC5vYXV0aC5kaXNjb3ZlcnkuYXV0aGVudGljYXRlKHtcbiAgICAgICAgZGlzY292ZXJ5X29hdXRoX3Rva2VuOiB0b2tlblxuICAgICAgfSk7XG4gICAgfSwge1xuICAgICAgb25TdWNjZXNzOiBvbkRpc2NvdmVyeVN1Y2Nlc3MsXG4gICAgICBvbkVycm9yOiBvbkVycm9yKHtcbiAgICAgICAgZXJyb3JUeXBlOiBudWxsXG4gICAgICB9KVxuICAgIH0pLFxuICAgIHN0eXRjaE9BdXRoRGlzY292ZXJ5QXV0aGVudGljYXRlID0gX3VzZU11dGF0ZTE1LnRyaWdnZXIsXG4gICAgaXNEaXNjb3ZlcnlPQXV0aExvYWRpbmcgPSBfdXNlTXV0YXRlMTUuaXNNdXRhdGluZztcbiAgdmFyIF91c2VNdXRhdGUxNiA9IHVzZU11dGF0ZShcInN0eXRjaC5zc28uYXV0aGVudGljYXRlXCIsIGZ1bmN0aW9uIChfLCBfcmVmMTExKSB7XG4gICAgICB2YXIgdG9rZW4gPSBfcmVmMTExLmFyZy50b2tlbjtcbiAgICAgIHJldHVybiBzdHl0Y2hDbGllbnQuc3NvLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIHNzb190b2tlbjogdG9rZW4sXG4gICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogY29uZmlnLnNlc3Npb25PcHRpb25zLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXNcbiAgICAgIH0pO1xuICAgIH0sIHtcbiAgICAgIG9uU3VjY2Vzczogb25TdWNjZXNzLFxuICAgICAgb25FcnJvcjogb25FcnJvcih7XG4gICAgICAgIGVycm9yVHlwZTogbnVsbFxuICAgICAgfSlcbiAgICB9KSxcbiAgICBzdHl0Y2hTU09BdXRoZW50aWNhdGUgPSBfdXNlTXV0YXRlMTYudHJpZ2dlcixcbiAgICBpc1NTT0xvYWRpbmcgPSBfdXNlTXV0YXRlMTYuaXNNdXRhdGluZztcbiAgdmFyIF91c2VNdXRhdGUxNyA9IHVzZU11dGF0ZShcInN0eXRjaC5tYWdpY0xpbmtzLmRpc2NvdmVyeS5hdXRoZW50aWNhdGVcIiwgZnVuY3Rpb24gKF8sIF9yZWYxMTIpIHtcbiAgICAgIHZhciB0b2tlbiA9IF9yZWYxMTIuYXJnLnRva2VuO1xuICAgICAgcmV0dXJuIHN0eXRjaENsaWVudC5tYWdpY0xpbmtzLmRpc2NvdmVyeS5hdXRoZW50aWNhdGUoe1xuICAgICAgICBkaXNjb3ZlcnlfbWFnaWNfbGlua3NfdG9rZW46IHRva2VuXG4gICAgICB9KTtcbiAgICB9LCB7XG4gICAgICBvblN1Y2Nlc3M6IG9uRGlzY292ZXJ5U3VjY2VzcyxcbiAgICAgIG9uRXJyb3I6IG9uRXJyb3Ioe1xuICAgICAgICBlcnJvclR5cGU6IEVycm9yVHlwZS5EZWZhdWx0XG4gICAgICB9KVxuICAgIH0pLFxuICAgIHN0eXRjaERpc2NvdmVyeUF1dGhlbnRpY2F0ZSA9IF91c2VNdXRhdGUxNy50cmlnZ2VyLFxuICAgIGlzRGlzY292ZXJ5TG9hZGluZyA9IF91c2VNdXRhdGUxNy5pc011dGF0aW5nO1xuICB2YXIgaXNUb2tlbkF1dGhMb2FkaW5nID0gaXNNYWdpY0xpbmtMb2FkaW5nIHx8IGlzU1NPTG9hZGluZyB8fCBpc0Rpc2NvdmVyeUxvYWRpbmcgfHwgaXNEaXNjb3ZlcnlPQXV0aExvYWRpbmcgfHwgaXNPQXV0aExvYWRpbmc7XG4gIHZhciBfdXNlRXh0cmFjdFNsdWcgPSB1c2VFeHRyYWN0U2x1ZygpLFxuICAgIGlzU2VhcmNoaW5nID0gX3VzZUV4dHJhY3RTbHVnLmlzU2VhcmNoaW5nLFxuICAgIHNsdWcgPSBfdXNlRXh0cmFjdFNsdWcuc2x1ZyxcbiAgICBwYXR0ZXJuID0gX3VzZUV4dHJhY3RTbHVnLnBhdHRlcm47XG4gIHAkMShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzT25seUZsb2F0aW5nT25lVGFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzdGF0ZS5mbG93U3RhdGUudHlwZSA9PSBBdXRoRmxvd1R5cGUuUGFzc3dvcmRSZXNldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgX2dldFRva2VuRnJvbVVybCA9IGdldFRva2VuRnJvbVVybCgpLFxuICAgICAgdG9rZW5UeXBlID0gX2dldFRva2VuRnJvbVVybC50b2tlblR5cGUsXG4gICAgICB0b2tlbiA9IF9nZXRUb2tlbkZyb21VcmwudG9rZW47XG4gICAgaWYgKHRva2VuICYmIGlzU3VwcG9ydGVkVG9rZW5UeXBlKHRva2VuVHlwZSkgJiYgIWlzVG9rZW5BdXRoTG9hZGluZykge1xuICAgICAgc3dpdGNoICh0b2tlblR5cGUpIHtcbiAgICAgICAgY2FzZSAnZGlzY292ZXJ5JzpcbiAgICAgICAgICBzdHl0Y2hEaXNjb3ZlcnlBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgdG9rZW46IHRva2VuXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Rpc2NvdmVyeV9vYXV0aCc6XG4gICAgICAgICAgc3R5dGNoT0F1dGhEaXNjb3ZlcnlBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgdG9rZW46IHRva2VuXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29hdXRoJzpcbiAgICAgICAgICBzdHl0Y2hPQXV0aEF1dGhlbnRpY2F0ZSh7XG4gICAgICAgICAgICB0b2tlbjogdG9rZW5cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3NvJzpcbiAgICAgICAgICBzdHl0Y2hTU09BdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgdG9rZW46IHRva2VuXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ211bHRpX3RlbmFudF9tYWdpY19saW5rcyc6XG4gICAgICAgICAgc3R5dGNoTWFnaWNMaW5rQXV0aGVudGljYXRlKHtcbiAgICAgICAgICAgIHRva2VuOiB0b2tlblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhc3NlcnRVbnJlYWNoYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgdHJpZ2dlckVycm9yID0gdXNlRXJyb3JDYWxsYmFjaygpO1xuICBwJDEoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc09ubHlGbG9hdGluZ09uZVRhcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNUb2tlbkF1dGhMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBfZ2V0VG9rZW5Gcm9tVXJsMiA9IGdldFRva2VuRnJvbVVybCgpLFxuICAgICAgdG9rZW5UeXBlID0gX2dldFRva2VuRnJvbVVybDIudG9rZW5UeXBlLFxuICAgICAgdG9rZW4gPSBfZ2V0VG9rZW5Gcm9tVXJsMi50b2tlbjtcbiAgICBpZiAodG9rZW4gJiYgaXNTdXBwb3J0ZWRUb2tlblR5cGUodG9rZW5UeXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsdWcgJiYgcGF0dGVybiAhPT0gdW5kZWZpbmVkICYmICFpc1NlYXJjaGluZyAmJiBzdGF0ZS5mbG93U3RhdGUub3JnYW5pemF0aW9uID09PSBudWxsICYmIHN0YXRlLnNjcmVlbiA9PT0gQXBwU2NyZWVucyQxLk1haW4gJiYgc3RhdGUuZmxvd1N0YXRlLnR5cGUgPT0gQXV0aEZsb3dUeXBlLk9yZ2FuaXphdGlvbikge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnc2V0X2Vycm9yX21lc3NhZ2VfYW5kX3RyYW5zaXRpb24nLFxuICAgICAgICBlcnJvclR5cGU6IEVycm9yVHlwZS5Pcmdhbml6YXRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBpc09ubHlGbG9hdGluZ09uZVRhcCwgaXNTZWFyY2hpbmcsIGlzVG9rZW5BdXRoTG9hZGluZywgcGF0dGVybiwgc2x1Zywgc3RhdGUuZmxvd1N0YXRlLm9yZ2FuaXphdGlvbiwgc3RhdGUuZmxvd1N0YXRlLnR5cGUsIHN0YXRlLnNjcmVlbiwgdHJpZ2dlckVycm9yXSk7XG4gIGlmIChpc09ubHlGbG9hdGluZ09uZVRhcCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCMkJHb29nbGVPbmVUYXAsIG51bGwpO1xuICB9XG4gIGlmIChpc1Rva2VuQXV0aExvYWRpbmcpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFpbkNvbnRhaW5lciwgbnVsbCwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ2hpbGRyZW5Db250YWluZXIsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExvZ2dpbmdJblNjcmVlbiwgbnVsbCkpKTtcbiAgfVxuICBpZiAoaXNTZWFyY2hpbmcpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFpbkNvbnRhaW5lciwgbnVsbCwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ2hpbGRyZW5Db250YWluZXIsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExvYWRpbmdTY3JlZW4sIG51bGwpKSk7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE1haW5Db250YWluZXIsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENoaWxkcmVuQ29udGFpbmVyLCBudWxsLCBTY3JlZW5Db21wb25lbnRNYXBbY3VycmVudFNjcmVlbl0sIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFNuYWNrYmFyLCBudWxsKSksIGRpc3BsYXlXYXRlcm1hcmsgJiYgKCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChXYXRlcm1hcmtDb250YWluZXIsIG51bGwsIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3N0eXRjaC5jb20vXCIsXG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIHJlbDogXCJub3JlZmVycmVyXCJcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSW1hZ2UsIHtcbiAgICBhbHQ6IFwiUG93ZXJlZCBieSBTdHl0Y2hcIixcbiAgICBzcmM6IFBPV0VSRURfQllfU1RZVENIX0lNR19VUkxcbiAgfSkpKSkpO1xufTtcbnZhciBBcHBDb250YWluZXIgPSBmdW5jdGlvbiBBcHBDb250YWluZXIoX3JlZjExMykge1xuICB2YXIgY2xpZW50ID0gX3JlZjExMy5jbGllbnQsXG4gICAgc3R5bGVzID0gX3JlZjExMy5zdHlsZXMsXG4gICAgY2FsbGJhY2tzID0gX3JlZjExMy5jYWxsYmFja3MsXG4gICAgY29uZmlnID0gX3JlZjExMy5jb25maWc7XG4gIHZhciBfaCQ1NyA9IGgkMShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlYWRCMkJJbnRlcm5hbHMkYm9vMyA9IHJlYWRCMkJJbnRlcm5hbHMoY2xpZW50KS5ib290c3RyYXAuZ2V0U3luYygpLFxuICAgICAgICBkaXNwbGF5V2F0ZXJtYXJrID0gX3JlYWRCMkJJbnRlcm5hbHMkYm9vMy5kaXNwbGF5V2F0ZXJtYXJrO1xuICAgICAgcmV0dXJuIGRpc3BsYXlXYXRlcm1hcms7XG4gICAgfSksXG4gICAgX2gkNTggPSBfc2xpY2VkVG9BcnJheShfaCQ1NywgMiksXG4gICAgZGlzcGxheVdhdGVybWFyayA9IF9oJDU4WzBdLFxuICAgIHNldERpc3BsYXlXYXRlcm1hcmsgPSBfaCQ1OFsxXTtcbiAgcCQxKGZ1bmN0aW9uICgpIHtcbiAgICByZWFkQjJCSW50ZXJuYWxzKGNsaWVudCkubmV0d29ya0NsaWVudC5sb2dFdmVudCh7XG4gICAgICBuYW1lOiAncmVuZGVyX2IyYl9sb2dpbl9zY3JlZW4nLFxuICAgICAgZGV0YWlsczoge1xuICAgICAgICBvcHRpb25zOiBjb25maWdcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWFkQjJCSW50ZXJuYWxzKGNsaWVudCkuYm9vdHN0cmFwLmdldEFzeW5jKCkudGhlbihmdW5jdGlvbiAoX3JlZjExNCkge1xuICAgICAgdmFyIGRpc3BsYXlXYXRlcm1hcmsgPSBfcmVmMTE0LmRpc3BsYXlXYXRlcm1hcms7XG4gICAgICBzZXREaXNwbGF5V2F0ZXJtYXJrKGRpc3BsYXlXYXRlcm1hcmspO1xuICAgIH0pO1xuICB9LCBbY2xpZW50XSk7XG4gIHZhciBpbml0aWFsU3RhdGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU1RBVEUpLCB7XG4gICAgc2NyZWVuOiBjb25maWcuYXV0aEZsb3dUeXBlID09PSBBdXRoRmxvd1R5cGUuUGFzc3dvcmRSZXNldCA/IEFwcFNjcmVlbnMkMS5QYXNzd29yZFJlc2V0Rm9ybSA6IEFwcFNjcmVlbnMkMS5NYWluLFxuICAgIGZsb3dTdGF0ZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NUQVRFLmZsb3dTdGF0ZSksIHtcbiAgICAgIHR5cGU6IGNvbmZpZy5hdXRoRmxvd1R5cGVcbiAgICB9KVxuICB9KTtcbiAgdmFyIHRoZW1lID0gdXNlVGhlbWUoe1xuICAgIHN0eWxlczogc3R5bGVzLFxuICAgIGRpc3BsYXlXYXRlcm1hcms6IGRpc3BsYXlXYXRlcm1hcmtcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChHbG9iYWxDb250ZXh0UHJvdmlkZXIsIHtcbiAgICBjbGllbnQ6IGNsaWVudCxcbiAgICBjYWxsYmFja3M6IGNhbGxiYWNrcyxcbiAgICBjb25maWc6IGNvbmZpZyxcbiAgICBpbml0aWFsU3RhdGU6IGluaXRpYWxTdGF0ZVxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGZSwge1xuICAgIHRoZW1lOiB0aGVtZVxuICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChBcHBDb250YWluZXIkMSwgbnVsbCkpKTtcbn07XG52YXIgQjJCX1VJX1NDUkVFTl9XRUJfQ09NUE9ORU5UX05BTUUgPSAnc3R5dGNoLWIyYi11aSc7XG52YXIgQjJCVUlMb2dpbkNvbXBvbmVudCA9IENyZWF0ZVNTUlNhZmVXZWJDb21wb25lbnQoQXBwQ29udGFpbmVyLCBCMkJfVUlfU0NSRUVOX1dFQl9DT01QT05FTlRfTkFNRSk7XG52YXIgU3R5dGNoQjJCVUlDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hCMkJIZWFkbGVzc0NsaSkge1xuICBfaW5oZXJpdHMoU3R5dGNoQjJCVUlDbGllbnQsIF9TdHl0Y2hCMkJIZWFkbGVzc0NsaSk7XG4gIGZ1bmN0aW9uIFN0eXRjaEIyQlVJQ2xpZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHl0Y2hCMkJVSUNsaWVudCk7XG4gICAgY2hlY2tOb3RTU1IoJ1N0eXRjaFVJQ2xpZW50Jyk7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBTdHl0Y2hCMkJVSUNsaWVudCwgW10uY29uY2F0KGFyZ3MpKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoU3R5dGNoQjJCVUlDbGllbnQsIFt7XG4gICAga2V5OiBcIm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50KF9yZWYxMTUpIHtcbiAgICAgIHZhciBlbGVtZW50SWQgPSBfcmVmMTE1LmVsZW1lbnRJZCxcbiAgICAgICAgc3R5bGVzID0gX3JlZjExNS5zdHlsZXMsXG4gICAgICAgIGNhbGxiYWNrcyA9IF9yZWYxMTUuY2FsbGJhY2tzLFxuICAgICAgICBjb25maWcgPSBfcmVmMTE1LmNvbmZpZztcbiAgICAgIHZhciBfYTtcbiAgICAgIHZhciB0YXJnZXRQYXJlbnREb21Ob2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50SWQpO1xuICAgICAgaWYgKCF0YXJnZXRQYXJlbnREb21Ob2RlKSB7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlRoZSBzZWxlY3RvciB5b3Ugc3BlY2lmaWVkIChcIi5jb25jYXQoZWxlbWVudElkLCBcIikgYXBwbGllcyB0byBubyBET00gZWxlbWVudHMgdGhhdCBhcmUgY3VycmVudGx5IG9uIHRoZSBwYWdlLiBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgZXhpc3RzIG9uIHRoZSBwYWdlIGJlZm9yZSBjYWxsaW5nIG1vdW50TG9naW4oKS5cIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgaWYgKCgoX2EgPSB0YXJnZXRQYXJlbnREb21Ob2RlLmZpcnN0Q2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gQjJCX1VJX1NDUkVFTl9XRUJfQ09NUE9ORU5UX05BTUUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICB2YXIgbm9kZSA9IHRhcmdldFBhcmVudERvbU5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgbm9kZS5yZW5kZXIoe1xuICAgICAgICAgIGNsaWVudDogdGhpcyxcbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgICBjYWxsYmFja3M6IGNhbGxiYWNrcyxcbiAgICAgICAgICBzdHlsZXM6IHN0eWxlc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGxvZ2luRWxlbWVudCA9IEIyQlVJTG9naW5Db21wb25lbnQoe1xuICAgICAgICBjbGllbnQ6IHRoaXMsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICBjYWxsYmFja3M6IGNhbGxiYWNrcyxcbiAgICAgICAgc3R5bGVzOiBzdHlsZXNcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0UGFyZW50RG9tTm9kZS5hcHBlbmRDaGlsZChsb2dpbkVsZW1lbnQpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3R5dGNoQjJCVUlDbGllbnQ7XG59KFN0eXRjaEIyQkhlYWRsZXNzQ2xpZW50KTtcbmV4cG9ydCB7IEF1dGhGbG93VHlwZSwgQjJCTUZBUHJvZHVjdHMsIEIyQk9BdXRoUHJvdmlkZXJzLCBCMkJQcm9kdWN0cywgT1RQTWV0aG9kcywgT25lVGFwUG9zaXRpb25zLCBQcm9kdWN0cywgU3R5dGNoQVBJRXJyb3IsIFN0eXRjaEIyQlVJQ2xpZW50LCBTdHl0Y2hFdmVudFR5cGUsIFN0eXRjaFNES0Vycm9yLCBXYWxsZXRzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/vanilla-js/dist/b2b/index.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/vanilla-js/dist/extractErrorMessage-jipS2nNN.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@stytch/vanilla-js/dist/extractErrorMessage-jipS2nNN.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ A$3),\n/* harmony export */   B: () => (/* binding */ A$4),\n/* harmony export */   C: () => (/* binding */ CreateSSRSafeWebComponent),\n/* harmony export */   D: () => (/* binding */ j$1),\n/* harmony export */   E: () => (/* binding */ getAugmentedNamespace),\n/* harmony export */   F: () => (/* binding */ F$3),\n/* harmony export */   G: () => (/* binding */ require$$2),\n/* harmony export */   H: () => (/* binding */ He),\n/* harmony export */   I: () => (/* binding */ getDefaultExportFromCjs),\n/* harmony export */   J: () => (/* binding */ Cn),\n/* harmony export */   N: () => (/* binding */ N$1),\n/* harmony export */   T: () => (/* binding */ T$2),\n/* harmony export */   U: () => (/* binding */ UNDEFINED),\n/* harmony export */   Z: () => (/* binding */ Ze),\n/* harmony export */   _: () => (/* binding */ _$1),\n/* harmony export */   a: () => (/* binding */ w$3),\n/* harmony export */   b: () => (/* binding */ withMiddleware),\n/* harmony export */   c: () => (/* binding */ useSWRConfig),\n/* harmony export */   d: () => (/* binding */ useStateWithDeps),\n/* harmony export */   e: () => (/* binding */ mergeObjects),\n/* harmony export */   f: () => (/* binding */ getTimestamp),\n/* harmony export */   g: () => (/* binding */ g$5),\n/* harmony export */   h: () => (/* binding */ h$4),\n/* harmony export */   i: () => (/* binding */ isTruthy),\n/* harmony export */   j: () => (/* binding */ useIsomorphicLayoutEffect),\n/* harmony export */   k: () => (/* binding */ Ue),\n/* harmony export */   l: () => (/* binding */ extractErrorMessage),\n/* harmony export */   m: () => (/* binding */ merge),\n/* harmony export */   n: () => (/* binding */ Fe),\n/* harmony export */   o: () => (/* binding */ hoistNonReactStatics$1),\n/* harmony export */   p: () => (/* binding */ p$3),\n/* harmony export */   q: () => (/* binding */ q$5),\n/* harmony export */   r: () => (/* binding */ fn),\n/* harmony export */   s: () => (/* binding */ serialize),\n/* harmony export */   t: () => (/* binding */ y$2),\n/* harmony export */   u: () => (/* binding */ useSWR),\n/* harmony export */   v: () => (/* binding */ vn),\n/* harmony export */   w: () => (/* binding */ wn),\n/* harmony export */   x: () => (/* binding */ sn),\n/* harmony export */   y: () => (/* binding */ y$3),\n/* harmony export */   z: () => (/* binding */ F$4)\n/* harmony export */ });\n/* harmony import */ var _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal-D5OqLsPs.js */ \"(ssr)/./node_modules/@stytch/vanilla-js/dist/internal-D5OqLsPs.js\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(fn) { try { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; } catch (e) { return typeof fn === \"function\"; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n\nvar n$3,\n  l$4,\n  u$3,\n  i$1,\n  o$1,\n  r$4,\n  f$3,\n  e$4,\n  c$3 = {},\n  s$1 = [],\n  a$1 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,\n  h$5 = Array.isArray;\nfunction v$4(n, l) {\n  for (var u in l) n[u] = l[u];\n  return n;\n}\nfunction p$4(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\nfunction y$3(l, u, t) {\n  var i,\n    o,\n    r,\n    f = {};\n  for (r in u) \"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n  if (arguments.length > 2 && (f.children = arguments.length > 3 ? n$3.call(arguments, 2) : t), \"function\" == typeof l && null != l.defaultProps) for (r in l.defaultProps) void 0 === f[r] && (f[r] = l.defaultProps[r]);\n  return d$3(l, f, i, o, null);\n}\nfunction d$3(n, t, i, o, r) {\n  var f = {\n    type: n,\n    props: t,\n    key: i,\n    ref: o,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    constructor: void 0,\n    __v: null == r ? ++u$3 : r,\n    __i: -1,\n    __u: 0\n  };\n  return null == r && null != l$4.vnode && l$4.vnode(f), f;\n}\nfunction _$2() {\n  return {\n    current: null\n  };\n}\nfunction g$5(n) {\n  return n.children;\n}\nfunction b$4(n, l) {\n  this.props = n, this.context = l;\n}\nfunction m$4(n, l) {\n  if (null == l) return n.__ ? m$4(n.__, n.__i + 1) : null;\n  for (var u; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n  return \"function\" == typeof n.type ? m$4(n) : null;\n}\nfunction k$6(n) {\n  var l, u;\n  if (null != (n = n.__) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) {\n      n.__e = n.__c.base = u.__e;\n      break;\n    }\n    return k$6(n);\n  }\n}\nfunction w$5(n) {\n  (!n.__d && (n.__d = !0) && i$1.push(n) && !x$5.__r++ || o$1 !== l$4.debounceRendering) && ((o$1 = l$4.debounceRendering) || r$4)(x$5);\n}\nfunction x$5() {\n  var n, u, t, o, r, e, c, s, a;\n  for (i$1.sort(f$3); n = i$1.shift();) n.__d && (u = i$1.length, o = void 0, e = (r = (t = n).__v).__e, s = [], a = [], (c = t.__P) && ((o = v$4({}, r)).__v = r.__v + 1, l$4.vnode && l$4.vnode(o), L$2(c, o, r, t.__n, void 0 !== c.ownerSVGElement, 32 & r.__u ? [e] : null, s, null == e ? m$4(r) : e, !!(32 & r.__u), a), o.__.__k[o.__i] = o, M$2(s, o, a), o.__e != e && k$6(o)), i$1.length > u && i$1.sort(f$3));\n  x$5.__r = 0;\n}\nfunction C$2(n, l, u, t, i, o, r, f, e, a, h) {\n  var v,\n    p,\n    y,\n    d,\n    _,\n    g = t && t.__k || s$1,\n    b = l.length;\n  for (u.__d = e, P$3(u, l, g), e = u.__d, v = 0; v < b; v++) null != (y = u.__k[v]) && \"boolean\" != typeof y && \"function\" != typeof y && (p = -1 === y.__i ? c$3 : g[y.__i] || c$3, y.__i = v, L$2(n, y, p, i, o, r, f, e, a, h), d = y.__e, y.ref && p.ref != y.ref && (p.ref && z$5(p.ref, null, y), h.push(y.ref, y.__c || d, y)), null == _ && null != d && (_ = d), 65536 & y.__u || p.__k === y.__k ? e = S$1(y, e, n) : \"function\" == typeof y.type && void 0 !== y.__d ? e = y.__d : d && (e = d.nextSibling), y.__d = void 0, y.__u &= -196609);\n  u.__d = e, u.__e = _;\n}\nfunction P$3(n, l, u) {\n  var t,\n    i,\n    o,\n    r,\n    f,\n    e = l.length,\n    c = u.length,\n    s = c,\n    a = 0;\n  for (n.__k = [], t = 0; t < e; t++) null != (i = n.__k[t] = null == (i = l[t]) || \"boolean\" == typeof i || \"function\" == typeof i ? null : \"string\" == typeof i || \"number\" == typeof i || \"bigint\" == typeof i || i.constructor == String ? d$3(null, i, null, null, i) : h$5(i) ? d$3(g$5, {\n    children: i\n  }, null, null, null) : i.__b > 0 ? d$3(i.type, i.props, i.key, i.ref ? i.ref : null, i.__v) : i) ? (i.__ = n, i.__b = n.__b + 1, f = H$3(i, u, r = t + a, s), i.__i = f, o = null, -1 !== f && (s--, (o = u[f]) && (o.__u |= 131072)), null == o || null === o.__v ? (-1 == f && a--, \"function\" != typeof i.type && (i.__u |= 65536)) : f !== r && (f === r + 1 ? a++ : f > r ? s > e - r ? a += f - r : a-- : a = f < r && f == r - 1 ? f - r : 0, f !== t + a && (i.__u |= 65536))) : (o = u[t]) && null == o.key && o.__e && (o.__e == n.__d && (n.__d = m$4(o)), N$2(o, o, !1), u[t] = null, s--);\n  if (s) for (t = 0; t < c; t++) null != (o = u[t]) && 0 == (131072 & o.__u) && (o.__e == n.__d && (n.__d = m$4(o)), N$2(o, o));\n}\nfunction S$1(n, l, u) {\n  var t, i;\n  if (\"function\" == typeof n.type) {\n    for (t = n.__k, i = 0; t && i < t.length; i++) t[i] && (t[i].__ = n, l = S$1(t[i], l, u));\n    return l;\n  }\n  return n.__e != l && (u.insertBefore(n.__e, l || null), l = n.__e), l && l.nextSibling;\n}\nfunction $$2(n, l) {\n  return l = l || [], null == n || \"boolean\" == typeof n || (h$5(n) ? n.some(function (n) {\n    $$2(n, l);\n  }) : l.push(n)), l;\n}\nfunction H$3(n, l, u, t) {\n  var i = n.key,\n    o = n.type,\n    r = u - 1,\n    f = u + 1,\n    e = l[u];\n  if (null === e || e && i == e.key && o === e.type) return u;\n  if (t > (null != e && 0 == (131072 & e.__u) ? 1 : 0)) for (; r >= 0 || f < l.length;) {\n    if (r >= 0) {\n      if ((e = l[r]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return r;\n      r--;\n    }\n    if (f < l.length) {\n      if ((e = l[f]) && 0 == (131072 & e.__u) && i == e.key && o === e.type) return f;\n      f++;\n    }\n  }\n  return -1;\n}\nfunction I$3(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || a$1.test(l) ? u : u + \"px\";\n}\nfunction T$3(n, l, u, t, i) {\n  var o;\n  n: if (\"style\" === l) {\n    if (\"string\" == typeof u) n.style.cssText = u;else {\n      if (\"string\" == typeof t && (n.style.cssText = t = \"\"), t) for (l in t) u && l in u || I$3(n.style, l, \"\");\n      if (u) for (l in u) t && u[l] === t[l] || I$3(n.style, l, u[l]);\n    }\n  } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/(PointerCapture)$|Capture$/, \"$1\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? t ? u.u = t.u : (u.u = Date.now(), n.addEventListener(l, o ? D$2 : A$5, o)) : n.removeEventListener(l, o ? D$2 : A$5, o);else {\n    if (i) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && \"rowSpan\" !== l && \"colSpan\" !== l && \"role\" !== l && l in n) try {\n      n[l] = null == u ? \"\" : u;\n      break n;\n    } catch (n) {}\n    \"function\" == typeof u || (null == u || !1 === u && \"-\" !== l[4] ? n.removeAttribute(l) : n.setAttribute(l, u));\n  }\n}\nfunction A$5(n) {\n  var u = this.l[n.type + !1];\n  if (n.t) {\n    if (n.t <= u.u) return;\n  } else n.t = Date.now();\n  return u(l$4.event ? l$4.event(n) : n);\n}\nfunction D$2(n) {\n  return this.l[n.type + !0](l$4.event ? l$4.event(n) : n);\n}\nfunction L$2(n, u, t, i, o, r, f, e, c, s) {\n  var a,\n    p,\n    y,\n    d,\n    _,\n    m,\n    k,\n    w,\n    x,\n    P,\n    S,\n    $,\n    H,\n    I,\n    T,\n    A = u.type;\n  if (void 0 !== u.constructor) return null;\n  128 & t.__u && (c = !!(32 & t.__u), r = [e = u.__e = t.__e]), (a = l$4.__b) && a(u);\n  n: if (\"function\" == typeof A) try {\n    if (w = u.props, x = (a = A.contextType) && i[a.__c], P = a ? x ? x.props.value : a.__ : i, t.__c ? k = (p = u.__c = t.__c).__ = p.__E : (\"prototype\" in A && A.prototype.render ? u.__c = p = new A(w, P) : (u.__c = p = new b$4(w, P), p.constructor = A, p.render = O$1), x && x.sub(p), p.props = w, p.state || (p.state = {}), p.context = P, p.__n = i, y = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != A.getDerivedStateFromProps && (p.__s == p.state && (p.__s = v$4({}, p.__s)), v$4(p.__s, A.getDerivedStateFromProps(w, p.__s))), d = p.props, _ = p.state, p.__v = u, y) null == A.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);else {\n      if (null == A.getDerivedStateFromProps && w !== d && null != p.componentWillReceiveProps && p.componentWillReceiveProps(w, P), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(w, p.__s, P) || u.__v === t.__v)) {\n        for (u.__v !== t.__v && (p.props = w, p.state = p.__s, p.__d = !1), u.__e = t.__e, u.__k = t.__k, u.__k.forEach(function (n) {\n          n && (n.__ = u);\n        }), S = 0; S < p._sb.length; S++) p.__h.push(p._sb[S]);\n        p._sb = [], p.__h.length && f.push(p);\n        break n;\n      }\n      null != p.componentWillUpdate && p.componentWillUpdate(w, p.__s, P), null != p.componentDidUpdate && p.__h.push(function () {\n        p.componentDidUpdate(d, _, m);\n      });\n    }\n    if (p.context = P, p.props = w, p.__P = n, p.__e = !1, $ = l$4.__r, H = 0, \"prototype\" in A && A.prototype.render) {\n      for (p.state = p.__s, p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), I = 0; I < p._sb.length; I++) p.__h.push(p._sb[I]);\n      p._sb = [];\n    } else do {\n      p.__d = !1, $ && $(u), a = p.render(p.props, p.state, p.context), p.state = p.__s;\n    } while (p.__d && ++H < 25);\n    p.state = p.__s, null != p.getChildContext && (i = v$4(v$4({}, i), p.getChildContext())), y || null == p.getSnapshotBeforeUpdate || (m = p.getSnapshotBeforeUpdate(d, _)), C$2(n, h$5(T = null != a && a.type === g$5 && null == a.key ? a.props.children : a) ? T : [T], u, t, i, o, r, f, e, c, s), p.base = u.__e, u.__u &= -161, p.__h.length && f.push(p), k && (p.__E = p.__ = null);\n  } catch (n) {\n    u.__v = null, c || null != r ? (u.__e = e, u.__u |= c ? 160 : 32, r[r.indexOf(e)] = null) : (u.__e = t.__e, u.__k = t.__k), l$4.__e(n, u, t);\n  } else null == r && u.__v === t.__v ? (u.__k = t.__k, u.__e = t.__e) : u.__e = j$3(t.__e, u, t, i, o, r, f, c, s);\n  (a = l$4.diffed) && a(u);\n}\nfunction M$2(n, u, t) {\n  u.__d = void 0;\n  for (var i = 0; i < t.length; i++) z$5(t[i], t[++i], t[++i]);\n  l$4.__c && l$4.__c(u, n), n.some(function (u) {\n    try {\n      n = u.__h, u.__h = [], n.some(function (n) {\n        n.call(u);\n      });\n    } catch (n) {\n      l$4.__e(n, u.__v);\n    }\n  });\n}\nfunction j$3(l, u, t, i, o, r, f, e, s) {\n  var a,\n    v,\n    y,\n    d,\n    _,\n    g,\n    b,\n    k = t.props,\n    w = u.props,\n    x = u.type;\n  if (\"svg\" === x && (o = !0), null != r) for (a = 0; a < r.length; a++) if ((_ = r[a]) && \"setAttribute\" in _ == !!x && (x ? _.localName === x : 3 === _.nodeType)) {\n    l = _, r[a] = null;\n    break;\n  }\n  if (null == l) {\n    if (null === x) return document.createTextNode(w);\n    l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", x) : document.createElement(x, w.is && w), r = null, e = !1;\n  }\n  if (null === x) k === w || e && l.data === w || (l.data = w);else {\n    if (r = r && n$3.call(l.childNodes), k = t.props || c$3, !e && null != r) for (k = {}, a = 0; a < l.attributes.length; a++) k[(_ = l.attributes[a]).name] = _.value;\n    for (a in k) _ = k[a], \"children\" == a || (\"dangerouslySetInnerHTML\" == a ? y = _ : \"key\" === a || a in w || T$3(l, a, null, _, o));\n    for (a in w) _ = w[a], \"children\" == a ? d = _ : \"dangerouslySetInnerHTML\" == a ? v = _ : \"value\" == a ? g = _ : \"checked\" == a ? b = _ : \"key\" === a || e && \"function\" != typeof _ || k[a] === _ || T$3(l, a, _, k[a], o);\n    if (v) e || y && (v.__html === y.__html || v.__html === l.innerHTML) || (l.innerHTML = v.__html), u.__k = [];else if (y && (l.innerHTML = \"\"), C$2(l, h$5(d) ? d : [d], u, t, i, o && \"foreignObject\" !== x, r, f, r ? r[0] : t.__k && m$4(t, 0), e, s), null != r) for (a = r.length; a--;) null != r[a] && p$4(r[a]);\n    e || (a = \"value\", void 0 !== g && (g !== l[a] || \"progress\" === x && !g || \"option\" === x && g !== k[a]) && T$3(l, a, g, k[a], !1), a = \"checked\", void 0 !== b && b !== l[a] && T$3(l, a, b, k[a], !1));\n  }\n  return l;\n}\nfunction z$5(n, u, t) {\n  try {\n    \"function\" == typeof n ? n(u) : n.current = u;\n  } catch (n) {\n    l$4.__e(n, t);\n  }\n}\nfunction N$2(n, u, t) {\n  var i, o;\n  if (l$4.unmount && l$4.unmount(n), (i = n.ref) && (i.current && i.current !== n.__e || z$5(i, null, u)), null != (i = n.__c)) {\n    if (i.componentWillUnmount) try {\n      i.componentWillUnmount();\n    } catch (n) {\n      l$4.__e(n, u);\n    }\n    i.base = i.__P = null, n.__c = void 0;\n  }\n  if (i = n.__k) for (o = 0; o < i.length; o++) i[o] && N$2(i[o], u, t || \"function\" != typeof n.type);\n  t || null == n.__e || p$4(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction O$1(n, l, u) {\n  return this.constructor(n, u);\n}\nfunction q$6(u, t, i) {\n  var o, r, f, e;\n  l$4.__ && l$4.__(u, t), r = (o = \"function\" == typeof i) ? null : i && i.__k || t.__k, f = [], e = [], L$2(t, u = (!o && i || t).__k = y$3(g$5, null, [u]), r || c$3, c$3, void 0 !== t.ownerSVGElement, !o && i ? [i] : r ? null : t.firstChild ? n$3.call(t.childNodes) : null, f, !o && i ? i : r ? r.__e : t.firstChild, o, e), M$2(f, u, e);\n}\nfunction B$4(n, l) {\n  q$6(n, l, B$4);\n}\nfunction E$3(l, u, t) {\n  var i,\n    o,\n    r,\n    f,\n    e = v$4({}, l.props);\n  for (r in l.type && l.type.defaultProps && (f = l.type.defaultProps), u) \"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : e[r] = void 0 === u[r] && void 0 !== f ? f[r] : u[r];\n  return arguments.length > 2 && (e.children = arguments.length > 3 ? n$3.call(arguments, 2) : t), d$3(l.type, e, i || l.key, o || l.ref, null);\n}\nfunction F$4(n, l) {\n  var u = {\n    __c: l = \"__cC\" + e$4++,\n    __: n,\n    Consumer: function Consumer(n, l) {\n      return n.children(l);\n    },\n    Provider: function Provider(n) {\n      var u, t;\n      return this.getChildContext || (u = [], (t = {})[l] = this, this.getChildContext = function () {\n        return t;\n      }, this.shouldComponentUpdate = function (n) {\n        this.props.value !== n.value && u.some(function (n) {\n          n.__e = !0, w$5(n);\n        });\n      }, this.sub = function (n) {\n        u.push(n);\n        var l = n.componentWillUnmount;\n        n.componentWillUnmount = function () {\n          u.splice(u.indexOf(n), 1), l && l.call(n);\n        };\n      }), n.children;\n    }\n  };\n  return u.Provider.__ = u.Consumer.contextType = u;\n}\nn$3 = s$1.slice, l$4 = {\n  __e: function __e(n, l, u, t) {\n    for (var i, o, r; l = l.__;) if ((i = l.__c) && !i.__) try {\n      if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(n)), r = i.__d), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), r = i.__d), r) return i.__E = i;\n    } catch (l) {\n      n = l;\n    }\n    throw n;\n  }\n}, u$3 = 0, b$4.prototype.setState = function (n, l) {\n  var u;\n  u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = v$4({}, this.state), \"function\" == typeof n && (n = n(v$4({}, u), this.props)), n && v$4(u, n), null != n && this.__v && (l && this._sb.push(l), w$5(this));\n}, b$4.prototype.forceUpdate = function (n) {\n  this.__v && (this.__e = !0, n && this.__h.push(n), w$5(this));\n}, b$4.prototype.render = g$5, i$1 = [], r$4 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, f$3 = function f$3(n, l) {\n  return n.__v.__b - l.__v.__b;\n}, x$5.__r = 0, e$4 = 0;\nvar t$2,\n  r$3,\n  u$2,\n  i,\n  o = 0,\n  f$2 = [],\n  c$2 = [],\n  e$3 = l$4.__b,\n  a = l$4.__r,\n  v$3 = l$4.diffed,\n  l$3 = l$4.__c,\n  m$3 = l$4.unmount;\nfunction d$2(t, u) {\n  l$4.__h && l$4.__h(r$3, t, o || u), o = 0;\n  var i = r$3.__H || (r$3.__H = {\n    __: [],\n    __h: []\n  });\n  return t >= i.__.length && i.__.push({\n    __V: c$2\n  }), i.__[t];\n}\nfunction h$4(n) {\n  return o = 1, s(B$3, n);\n}\nfunction s(n, u, i) {\n  var o = d$2(t$2++, 2);\n  if (o.t = n, !o.__c && (o.__ = [i ? i(u) : B$3(void 0, u), function (n) {\n    var t = o.__N ? o.__N[0] : o.__[0],\n      r = o.t(t, n);\n    t !== r && (o.__N = [r, o.__[1]], o.__c.setState({}));\n  }], o.__c = r$3, !r$3.u)) {\n    var f = function f(n, t, r) {\n      if (!o.__c.__H) return !0;\n      var u = o.__c.__H.__.filter(function (n) {\n        return n.__c;\n      });\n      if (u.every(function (n) {\n        return !n.__N;\n      })) return !c || c.call(this, n, t, r);\n      var i = !1;\n      return u.forEach(function (n) {\n        if (n.__N) {\n          var t = n.__[0];\n          n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = !0);\n        }\n      }), !(!i && o.__c.props === n) && (!c || c.call(this, n, t, r));\n    };\n    r$3.u = !0;\n    var c = r$3.shouldComponentUpdate,\n      e = r$3.componentWillUpdate;\n    r$3.componentWillUpdate = function (n, t, r) {\n      if (this.__e) {\n        var u = c;\n        c = void 0, f(n, t, r), c = u;\n      }\n      e && e.call(this, n, t, r);\n    }, r$3.shouldComponentUpdate = f;\n  }\n  return o.__N || o.__;\n}\nfunction p$3(u, i) {\n  var o = d$2(t$2++, 3);\n  !l$4.__s && z$4(o.__H, i) && (o.__ = u, o.i = i, r$3.__H.__h.push(o));\n}\nfunction y$2(u, i) {\n  var o = d$2(t$2++, 4);\n  !l$4.__s && z$4(o.__H, i) && (o.__ = u, o.i = i, r$3.__h.push(o));\n}\nfunction _$1(n) {\n  return o = 5, F$3(function () {\n    return {\n      current: n\n    };\n  }, []);\n}\nfunction A$4(n, t, r) {\n  o = 6, y$2(function () {\n    return \"function\" == typeof n ? (n(t()), function () {\n      return n(null);\n    }) : n ? (n.current = t(), function () {\n      return n.current = null;\n    }) : void 0;\n  }, null == r ? r : r.concat(n));\n}\nfunction F$3(n, r) {\n  var u = d$2(t$2++, 7);\n  return z$4(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction T$2(n, t) {\n  return o = 8, F$3(function () {\n    return n;\n  }, t);\n}\nfunction q$5(n) {\n  var u = r$3.context[n.__c],\n    i = d$2(t$2++, 9);\n  return i.c = n, u ? (null == i.__ && (i.__ = !0, u.sub(r$3)), u.props.value) : n.__;\n}\nfunction x$4(t, r) {\n  l$4.useDebugValue && l$4.useDebugValue(r ? r(t) : t);\n}\nfunction P$2(n) {\n  var u = d$2(t$2++, 10),\n    i = h$4();\n  return u.__ = n, r$3.componentDidCatch || (r$3.componentDidCatch = function (n, t) {\n    u.__ && u.__(n, t), i[1](n);\n  }), [i[0], function () {\n    i[1](void 0);\n  }];\n}\nfunction V$2() {\n  var n = d$2(t$2++, 11);\n  if (!n.__) {\n    for (var u = r$3.__v; null !== u && !u.__m && null !== u.__;) u = u.__;\n    var i = u.__m || (u.__m = [0, 0]);\n    n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n  }\n  return n.__;\n}\nfunction b$3() {\n  for (var t; t = f$2.shift();) if (t.__P && t.__H) try {\n    t.__H.__h.forEach(k$5), t.__H.__h.forEach(w$4), t.__H.__h = [];\n  } catch (r) {\n    t.__H.__h = [], l$4.__e(r, t.__v);\n  }\n}\nl$4.__b = function (n) {\n  r$3 = null, e$3 && e$3(n);\n}, l$4.__r = function (n) {\n  a && a(n), t$2 = 0;\n  var i = (r$3 = n.__c).__H;\n  i && (u$2 === r$3 ? (i.__h = [], r$3.__h = [], i.__.forEach(function (n) {\n    n.__N && (n.__ = n.__N), n.__V = c$2, n.__N = n.i = void 0;\n  })) : (i.__h.forEach(k$5), i.__h.forEach(w$4), i.__h = [], t$2 = 0)), u$2 = r$3;\n}, l$4.diffed = function (t) {\n  v$3 && v$3(t);\n  var o = t.__c;\n  o && o.__H && (o.__H.__h.length && (1 !== f$2.push(o) && i === l$4.requestAnimationFrame || ((i = l$4.requestAnimationFrame) || j$2)(b$3)), o.__H.__.forEach(function (n) {\n    n.i && (n.__H = n.i), n.__V !== c$2 && (n.__ = n.__V), n.i = void 0, n.__V = c$2;\n  })), u$2 = r$3 = null;\n}, l$4.__c = function (t, r) {\n  r.some(function (t) {\n    try {\n      t.__h.forEach(k$5), t.__h = t.__h.filter(function (n) {\n        return !n.__ || w$4(n);\n      });\n    } catch (u) {\n      r.some(function (n) {\n        n.__h && (n.__h = []);\n      }), r = [], l$4.__e(u, t.__v);\n    }\n  }), l$3 && l$3(t, r);\n}, l$4.unmount = function (t) {\n  m$3 && m$3(t);\n  var r,\n    u = t.__c;\n  u && u.__H && (u.__H.__.forEach(function (n) {\n    try {\n      k$5(n);\n    } catch (n) {\n      r = n;\n    }\n  }), u.__H = void 0, r && l$4.__e(r, u.__v));\n};\nvar g$4 = \"function\" == typeof requestAnimationFrame;\nfunction j$2(n) {\n  var t,\n    r = function r() {\n      clearTimeout(u), g$4 && cancelAnimationFrame(t), setTimeout(n);\n    },\n    u = setTimeout(r, 100);\n  g$4 && (t = requestAnimationFrame(r));\n}\nfunction k$5(n) {\n  var t = r$3,\n    u = n.__c;\n  \"function\" == typeof u && (n.__c = void 0, u()), r$3 = t;\n}\nfunction w$4(n) {\n  var t = r$3;\n  n.__c = n.__(), r$3 = t;\n}\nfunction z$4(n, t) {\n  return !n || n.length !== t.length || t.some(function (t, r) {\n    return t !== n[r];\n  });\n}\nfunction B$3(n, t) {\n  return \"function\" == typeof t ? t(n) : t;\n}\nfunction g$3(n, t) {\n  for (var e in t) n[e] = t[e];\n  return n;\n}\nfunction C$1(n, t) {\n  for (var e in n) if (\"__source\" !== e && !(e in t)) return !0;\n  for (var r in t) if (\"__source\" !== r && n[r] !== t[r]) return !0;\n  return !1;\n}\nfunction E$2(n) {\n  this.props = n;\n}\nfunction w$3(n, e) {\n  function r(n) {\n    var t = this.props.ref,\n      r = t == n.ref;\n    return !r && t && (t.call ? t(null) : t.current = null), e ? !e(this.props, n) || !r : C$1(this.props, n);\n  }\n  function u(e) {\n    return this.shouldComponentUpdate = r, y$3(n, e);\n  }\n  return u.displayName = \"Memo(\" + (n.displayName || n.name) + \")\", u.prototype.isReactComponent = !0, u.__f = !0, u;\n}\n(E$2.prototype = new b$4()).isPureReactComponent = !0, E$2.prototype.shouldComponentUpdate = function (n, t) {\n  return C$1(this.props, n) || C$1(this.state, t);\n};\nvar x$3 = l$4.__b;\nl$4.__b = function (n) {\n  n.type && n.type.__f && n.ref && (n.props.ref = n.ref, n.ref = null), x$3 && x$3(n);\n};\nvar R = \"undefined\" != typeof Symbol && Symbol[\"for\"] && Symbol[\"for\"](\"react.forward_ref\") || 3911;\nfunction N$1(n) {\n  function t(t) {\n    var e = g$3({}, t);\n    return delete e.ref, n(e, t.ref || null);\n  }\n  return t.$$typeof = R, t.render = t, t.prototype.isReactComponent = t.__f = !0, t.displayName = \"ForwardRef(\" + (n.displayName || n.name) + \")\", t;\n}\nvar k$4 = function k$4(n, t) {\n    return null == n ? null : $$2($$2(n).map(t));\n  },\n  A$3 = {\n    map: k$4,\n    forEach: k$4,\n    count: function count(n) {\n      return n ? $$2(n).length : 0;\n    },\n    only: function only(n) {\n      var t = $$2(n);\n      if (1 !== t.length) throw \"Children.only\";\n      return t[0];\n    },\n    toArray: $$2\n  },\n  O = l$4.__e;\nl$4.__e = function (n, t, e, r) {\n  if (n.then) for (var u, o = t; o = o.__;) if ((u = o.__c) && u.__c) return null == t.__e && (t.__e = e.__e, t.__k = e.__k), u.__c(n, t);\n  O(n, t, e, r);\n};\nvar T$1 = l$4.unmount;\nfunction F$2(n, t, e) {\n  return n && (n.__c && n.__c.__H && (n.__c.__H.__.forEach(function (n) {\n    \"function\" == typeof n.__c && n.__c();\n  }), n.__c.__H = null), null != (n = g$3({}, n)).__c && (n.__c.__P === e && (n.__c.__P = t), n.__c = null), n.__k = n.__k && n.__k.map(function (n) {\n    return F$2(n, t, e);\n  })), n;\n}\nfunction I$2(n, t, e) {\n  return n && e && (n.__v = null, n.__k = n.__k && n.__k.map(function (n) {\n    return I$2(n, t, e);\n  }), n.__c && n.__c.__P === t && (n.__e && e.appendChild(n.__e), n.__c.__e = !0, n.__c.__P = e)), n;\n}\nfunction L$1() {\n  this.__u = 0, this.t = null, this.__b = null;\n}\nfunction U$1(n) {\n  var t = n.__.__c;\n  return t && t.__a && t.__a(n);\n}\nfunction D$1(n) {\n  var e, r, u;\n  function o(o) {\n    if (e || (e = n()).then(function (n) {\n      r = n[\"default\"] || n;\n    }, function (n) {\n      u = n;\n    }), u) throw u;\n    if (!r) throw e;\n    return y$3(r, o);\n  }\n  return o.displayName = \"Lazy\", o.__f = !0, o;\n}\nfunction M$1() {\n  this.u = null, this.o = null;\n}\nl$4.unmount = function (n) {\n  var t = n.__c;\n  t && t.__R && t.__R(), t && 32 & n.__u && (n.type = null), T$1 && T$1(n);\n}, (L$1.prototype = new b$4()).__c = function (n, t) {\n  var e = t.__c,\n    r = this;\n  null == r.t && (r.t = []), r.t.push(e);\n  var u = U$1(r.__v),\n    o = !1,\n    i = function i() {\n      o || (o = !0, e.__R = null, u ? u(l) : l());\n    };\n  e.__R = i;\n  var l = function l() {\n    if (! --r.__u) {\n      if (r.state.__a) {\n        var n = r.state.__a;\n        r.__v.__k[0] = I$2(n, n.__c.__P, n.__c.__O);\n      }\n      var t;\n      for (r.setState({\n        __a: r.__b = null\n      }); t = r.t.pop();) t.forceUpdate();\n    }\n  };\n  r.__u++ || 32 & t.__u || r.setState({\n    __a: r.__b = r.__v.__k[0]\n  }), n.then(i, i);\n}, L$1.prototype.componentWillUnmount = function () {\n  this.t = [];\n}, L$1.prototype.render = function (n, e) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var r = document.createElement(\"div\"),\n        o = this.__v.__k[0].__c;\n      this.__v.__k[0] = F$2(this.__b, r, o.__O = o.__P);\n    }\n    this.__b = null;\n  }\n  var i = e.__a && y$3(g$5, null, n.fallback);\n  return i && (i.__u &= -33), [y$3(g$5, null, e.__a ? null : n.children), i];\n};\nvar V$1 = function V$1(n, t, e) {\n  if (++e[1] === e[0] && n.o[\"delete\"](t), n.props.revealOrder && (\"t\" !== n.props.revealOrder[0] || !n.o.size)) for (e = n.u; e;) {\n    for (; e.length > 3;) e.pop()();\n    if (e[1] < e[0]) break;\n    n.u = e = e[2];\n  }\n};\nfunction W$1(n) {\n  return this.getChildContext = function () {\n    return n.context;\n  }, n.children;\n}\nfunction P$1(n) {\n  var e = this,\n    r = n.i;\n  e.componentWillUnmount = function () {\n    q$6(null, e.l), e.l = null, e.i = null;\n  }, e.i && e.i !== r && e.componentWillUnmount(), e.l || (e.i = r, e.l = {\n    nodeType: 1,\n    parentNode: r,\n    childNodes: [],\n    appendChild: function appendChild(n) {\n      this.childNodes.push(n), e.i.appendChild(n);\n    },\n    insertBefore: function insertBefore(n, t) {\n      this.childNodes.push(n), e.i.appendChild(n);\n    },\n    removeChild: function removeChild(n) {\n      this.childNodes.splice(this.childNodes.indexOf(n) >>> 1, 1), e.i.removeChild(n);\n    }\n  }), q$6(y$3(W$1, {\n    context: e.context\n  }, n.__v), e.l);\n}\nfunction j$1(n, e) {\n  var r = y$3(P$1, {\n    __v: n,\n    i: e\n  });\n  return r.containerInfo = e, r;\n}\n(M$1.prototype = new b$4()).__a = function (n) {\n  var t = this,\n    e = U$1(t.__v),\n    r = t.o.get(n);\n  return r[0]++, function (u) {\n    var o = function o() {\n      t.props.revealOrder ? (r.push(u), V$1(t, n, r)) : u();\n    };\n    e ? e(o) : o();\n  };\n}, M$1.prototype.render = function (n) {\n  this.u = null, this.o = new Map();\n  var t = $$2(n.children);\n  n.revealOrder && \"b\" === n.revealOrder[0] && t.reverse();\n  for (var e = t.length; e--;) this.o.set(t[e], this.u = [1, 0, this.u]);\n  return n.children;\n}, M$1.prototype.componentDidUpdate = M$1.prototype.componentDidMount = function () {\n  var n = this;\n  this.o.forEach(function (t, e) {\n    V$1(n, e, t);\n  });\n};\nvar z$3 = \"undefined\" != typeof Symbol && Symbol[\"for\"] && Symbol[\"for\"](\"react.element\") || 60103,\n  B$2 = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,\n  H$2 = /^on(Ani|Tra|Tou|BeforeInp|Compo)/,\n  Z$1 = /[A-Z0-9]/g,\n  Y$1 = \"undefined\" != typeof document,\n  $$1 = function $$1(n) {\n    return (\"undefined\" != typeof Symbol && \"symbol\" == _typeof(Symbol()) ? /fil|che|rad/ : /fil|che|ra/).test(n);\n  };\nfunction q$4(n, t, e) {\n  return null == t.__k && (t.textContent = \"\"), q$6(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\nfunction G$2(n, t, e) {\n  return B$4(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\nb$4.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function (t) {\n  Object.defineProperty(b$4.prototype, t, {\n    configurable: !0,\n    get: function get() {\n      return this[\"UNSAFE_\" + t];\n    },\n    set: function set(n) {\n      Object.defineProperty(this, t, {\n        configurable: !0,\n        writable: !0,\n        value: n\n      });\n    }\n  });\n});\nvar J$1 = l$4.event;\nfunction K$1() {}\nfunction Q$1() {\n  return this.cancelBubble;\n}\nfunction X$1() {\n  return this.defaultPrevented;\n}\nl$4.event = function (n) {\n  return J$1 && (n = J$1(n)), n.persist = K$1, n.isPropagationStopped = Q$1, n.isDefaultPrevented = X$1, n.nativeEvent = n;\n};\nvar nn,\n  tn = {\n    enumerable: !1,\n    configurable: !0,\n    get: function get() {\n      return this[\"class\"];\n    }\n  },\n  en = l$4.vnode;\nl$4.vnode = function (n) {\n  \"string\" == typeof n.type && function (n) {\n    var t = n.props,\n      e = n.type,\n      u = {};\n    for (var o in t) {\n      var i = t[o];\n      if (!(\"value\" === o && \"defaultValue\" in t && null == i || Y$1 && \"children\" === o && \"noscript\" === e || \"class\" === o || \"className\" === o)) {\n        var l = o.toLowerCase();\n        \"defaultValue\" === o && \"value\" in t && null == t.value ? o = \"value\" : \"download\" === o && !0 === i ? i = \"\" : \"ondoubleclick\" === l ? o = \"ondblclick\" : \"onchange\" !== l || \"input\" !== e && \"textarea\" !== e || $$1(t.type) ? \"onfocus\" === l ? o = \"onfocusin\" : \"onblur\" === l ? o = \"onfocusout\" : H$2.test(o) ? o = l : -1 === e.indexOf(\"-\") && B$2.test(o) ? o = o.replace(Z$1, \"-$&\").toLowerCase() : null === i && (i = void 0) : l = o = \"oninput\", \"oninput\" === l && u[o = l] && (o = \"oninputCapture\"), u[o] = i;\n      }\n    }\n    \"select\" == e && u.multiple && Array.isArray(u.value) && (u.value = $$2(t.children).forEach(function (n) {\n      n.props.selected = -1 != u.value.indexOf(n.props.value);\n    })), \"select\" == e && null != u.defaultValue && (u.value = $$2(t.children).forEach(function (n) {\n      n.props.selected = u.multiple ? -1 != u.defaultValue.indexOf(n.props.value) : u.defaultValue == n.props.value;\n    })), t[\"class\"] && !t.className ? (u[\"class\"] = t[\"class\"], Object.defineProperty(u, \"className\", tn)) : (t.className && !t[\"class\"] || t[\"class\"] && t.className) && (u[\"class\"] = u.className = t.className), n.props = u;\n  }(n), n.$$typeof = z$3, en && en(n);\n};\nvar rn = l$4.__r;\nl$4.__r = function (n) {\n  rn && rn(n), nn = n.__c;\n};\nvar un = l$4.diffed;\nl$4.diffed = function (n) {\n  un && un(n);\n  var t = n.props,\n    e = n.__e;\n  null != e && \"textarea\" === n.type && \"value\" in t && t.value !== e.value && (e.value = null == t.value ? \"\" : t.value), nn = null;\n};\nvar on = {\n    ReactCurrentDispatcher: {\n      current: {\n        readContext: function readContext(n) {\n          return nn.__n[n.__c].props.value;\n        }\n      }\n    }\n  },\n  ln = \"17.0.2\";\nfunction cn(n) {\n  return y$3.bind(null, n);\n}\nfunction fn(n) {\n  return !!n && n.$$typeof === z$3;\n}\nfunction an(n) {\n  return fn(n) && n.type === g$5;\n}\nfunction sn(n) {\n  return fn(n) ? E$3.apply(null, arguments) : n;\n}\nfunction hn(n) {\n  return !!n.__k && (q$6(null, n), !0);\n}\nfunction vn(n) {\n  return n && (n.base || 1 === n.nodeType && n) || null;\n}\nvar dn = function dn(n, t) {\n    return n(t);\n  },\n  pn = function pn(n, t) {\n    return n(t);\n  },\n  mn = g$5;\nfunction yn(n) {\n  n();\n}\nfunction _n(n) {\n  return n;\n}\nfunction bn() {\n  return [!1, yn];\n}\nvar Sn = y$2,\n  gn = fn;\nfunction Cn(n, t) {\n  var e = t(),\n    r = h$4({\n      h: {\n        __: e,\n        v: t\n      }\n    }),\n    u = r[0].h,\n    o = r[1];\n  return y$2(function () {\n    u.__ = e, u.v = t, En(u) && o({\n      h: u\n    });\n  }, [n, e, t]), p$3(function () {\n    return En(u) && o({\n      h: u\n    }), n(function () {\n      En(u) && o({\n        h: u\n      });\n    });\n  }, [n]), e;\n}\nfunction En(n) {\n  var t,\n    e,\n    r = n.v,\n    u = n.__;\n  try {\n    var o = r();\n    return !((t = u) === (e = o) && (0 !== t || 1 / t == 1 / e) || t != t && e != e);\n  } catch (n) {\n    return !0;\n  }\n}\nvar wn = {\n  useState: h$4,\n  useId: V$2,\n  useReducer: s,\n  useEffect: p$3,\n  useLayoutEffect: y$2,\n  useInsertionEffect: Sn,\n  useTransition: bn,\n  useDeferredValue: _n,\n  useSyncExternalStore: Cn,\n  startTransition: yn,\n  useRef: _$1,\n  useImperativeHandle: A$4,\n  useMemo: F$3,\n  useCallback: T$2,\n  useContext: q$5,\n  useDebugValue: x$4,\n  version: \"17.0.2\",\n  Children: A$3,\n  render: q$4,\n  hydrate: G$2,\n  unmountComponentAtNode: hn,\n  createPortal: j$1,\n  createElement: y$3,\n  createContext: F$4,\n  createFactory: cn,\n  cloneElement: sn,\n  createRef: _$2,\n  Fragment: g$5,\n  isValidElement: fn,\n  isElement: gn,\n  isFragment: an,\n  findDOMNode: vn,\n  Component: b$4,\n  PureComponent: E$2,\n  memo: w$3,\n  forwardRef: N$1,\n  flushSync: pn,\n  unstable_batchedUpdates: dn,\n  StrictMode: mn,\n  Suspense: L$1,\n  SuspenseList: M$1,\n  lazy: D$1,\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: on\n};\nvar compat_module = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Children: A$3,\n  Component: b$4,\n  Fragment: g$5,\n  PureComponent: E$2,\n  StrictMode: mn,\n  Suspense: L$1,\n  SuspenseList: M$1,\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: on,\n  cloneElement: sn,\n  createContext: F$4,\n  createElement: y$3,\n  createFactory: cn,\n  createPortal: j$1,\n  createRef: _$2,\n  \"default\": wn,\n  findDOMNode: vn,\n  flushSync: pn,\n  forwardRef: N$1,\n  hydrate: G$2,\n  isElement: gn,\n  isFragment: an,\n  isValidElement: fn,\n  lazy: D$1,\n  memo: w$3,\n  render: q$4,\n  startTransition: yn,\n  unmountComponentAtNode: hn,\n  unstable_batchedUpdates: dn,\n  useCallback: T$2,\n  useContext: q$5,\n  useDebugValue: x$4,\n  useDeferredValue: _n,\n  useEffect: p$3,\n  useErrorBoundary: P$2,\n  useId: V$2,\n  useImperativeHandle: A$4,\n  useInsertionEffect: Sn,\n  useLayoutEffect: y$2,\n  useMemo: F$3,\n  useReducer: s,\n  useRef: _$1,\n  useState: h$4,\n  useSyncExternalStore: Cn,\n  useTransition: bn,\n  version: ln\n});\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\nfunction getAugmentedNamespace(n) {\n  if (n.__esModule) return n;\n  var f = n[\"default\"];\n  if (typeof f == \"function\") {\n    var a = function a() {\n      if (this instanceof a) {\n        return Reflect.construct(f, arguments, this.constructor);\n      }\n      return f.apply(this, arguments);\n    };\n    a.prototype = f.prototype;\n  } else a = {};\n  Object.defineProperty(a, '__esModule', {\n    value: true\n  });\n  Object.keys(n).forEach(function (k) {\n    var d = Object.getOwnPropertyDescriptor(n, k);\n    Object.defineProperty(a, k, d.get ? d : {\n      enumerable: true,\n      get: function get() {\n        return n[k];\n      }\n    });\n  });\n  return a;\n}\nvar reactIs$2 = {\n  exports: {}\n};\nvar reactIs_production_min$1 = {};\nvar b$2 = 60103,\n  c$1 = 60106,\n  d$1 = 60107,\n  e$2 = 60108,\n  f$1 = 60114,\n  g$2 = 60109,\n  h$3 = 60110,\n  k$3 = 60112,\n  l$2 = 60113,\n  m$2 = 60120,\n  n$2 = 60115,\n  p$2 = 60116,\n  q$3 = 60121,\n  r$2 = 60122,\n  u$1 = 60117,\n  v$2 = 60129,\n  w$2 = 60131;\nif (\"function\" === typeof Symbol && Symbol[\"for\"]) {\n  var x$2 = Symbol[\"for\"];\n  b$2 = x$2(\"react.element\");\n  c$1 = x$2(\"react.portal\");\n  d$1 = x$2(\"react.fragment\");\n  e$2 = x$2(\"react.strict_mode\");\n  f$1 = x$2(\"react.profiler\");\n  g$2 = x$2(\"react.provider\");\n  h$3 = x$2(\"react.context\");\n  k$3 = x$2(\"react.forward_ref\");\n  l$2 = x$2(\"react.suspense\");\n  m$2 = x$2(\"react.suspense_list\");\n  n$2 = x$2(\"react.memo\");\n  p$2 = x$2(\"react.lazy\");\n  q$3 = x$2(\"react.block\");\n  r$2 = x$2(\"react.server.block\");\n  u$1 = x$2(\"react.fundamental\");\n  v$2 = x$2(\"react.debug_trace_mode\");\n  w$2 = x$2(\"react.legacy_hidden\");\n}\nfunction y$1(a) {\n  if (\"object\" === _typeof(a) && null !== a) {\n    var t = a.$$typeof;\n    switch (t) {\n      case b$2:\n        switch (a = a.type, a) {\n          case d$1:\n          case f$1:\n          case e$2:\n          case l$2:\n          case m$2:\n            return a;\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case h$3:\n              case k$3:\n              case p$2:\n              case n$2:\n              case g$2:\n                return a;\n              default:\n                return t;\n            }\n        }\n      case c$1:\n        return t;\n    }\n  }\n}\nvar z$2 = g$2,\n  A$2 = b$2,\n  B$1 = k$3,\n  C = d$1,\n  D = p$2,\n  E$1 = n$2,\n  F$1 = c$1,\n  G$1 = f$1,\n  H$1 = e$2,\n  I$1 = l$2;\nreactIs_production_min$1.ContextConsumer = h$3;\nreactIs_production_min$1.ContextProvider = z$2;\nreactIs_production_min$1.Element = A$2;\nreactIs_production_min$1.ForwardRef = B$1;\nreactIs_production_min$1.Fragment = C;\nreactIs_production_min$1.Lazy = D;\nreactIs_production_min$1.Memo = E$1;\nreactIs_production_min$1.Portal = F$1;\nreactIs_production_min$1.Profiler = G$1;\nreactIs_production_min$1.StrictMode = H$1;\nreactIs_production_min$1.Suspense = I$1;\nreactIs_production_min$1.isAsyncMode = function () {\n  return !1;\n};\nreactIs_production_min$1.isConcurrentMode = function () {\n  return !1;\n};\nreactIs_production_min$1.isContextConsumer = function (a) {\n  return y$1(a) === h$3;\n};\nreactIs_production_min$1.isContextProvider = function (a) {\n  return y$1(a) === g$2;\n};\nreactIs_production_min$1.isElement = function (a) {\n  return \"object\" === _typeof(a) && null !== a && a.$$typeof === b$2;\n};\nreactIs_production_min$1.isForwardRef = function (a) {\n  return y$1(a) === k$3;\n};\nreactIs_production_min$1.isFragment = function (a) {\n  return y$1(a) === d$1;\n};\nreactIs_production_min$1.isLazy = function (a) {\n  return y$1(a) === p$2;\n};\nreactIs_production_min$1.isMemo = function (a) {\n  return y$1(a) === n$2;\n};\nreactIs_production_min$1.isPortal = function (a) {\n  return y$1(a) === c$1;\n};\nreactIs_production_min$1.isProfiler = function (a) {\n  return y$1(a) === f$1;\n};\nreactIs_production_min$1.isStrictMode = function (a) {\n  return y$1(a) === e$2;\n};\nreactIs_production_min$1.isSuspense = function (a) {\n  return y$1(a) === l$2;\n};\nreactIs_production_min$1.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === d$1 || a === f$1 || a === v$2 || a === e$2 || a === l$2 || a === m$2 || a === w$2 || \"object\" === _typeof(a) && null !== a && (a.$$typeof === p$2 || a.$$typeof === n$2 || a.$$typeof === g$2 || a.$$typeof === h$3 || a.$$typeof === k$3 || a.$$typeof === u$1 || a.$$typeof === q$3 || a[0] === r$2) ? !0 : !1;\n};\nreactIs_production_min$1.typeOf = y$1;\n{\n  reactIs$2.exports = reactIs_production_min$1;\n}\nvar reactIsExports$1 = reactIs$2.exports;\nvar shallowequal = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n  if (ret !== void 0) {\n    return !!ret;\n  }\n  if (objA === objB) {\n    return true;\n  }\n  if (_typeof(objA) !== \"object\" || !objA || _typeof(objB) !== \"object\" || !objB) {\n    return false;\n  }\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n  return true;\n};\nvar h$2 = /*@__PURE__*/getDefaultExportFromCjs(shallowequal);\nfunction stylis_min(W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n            default:\n              f += e.charAt(l);\n          }\n          g = 59;\n        }\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n                case 125:\n                  k--;\n                  break;\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n                              break;\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n                          }\n                        }\n                        l = u;\n                      }\n                  }\n                  break;\n                case 91:\n                  g++;\n                case 40:\n                  g++;\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {}\n              }\n              if (0 === k) break;\n              l++;\n            }\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n                  default:\n                    r = O;\n                }\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n        default:\n          z++;\n          y = e.charAt(l);\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n            case 0:\n              y = '\\\\0';\n              break;\n            case 12:\n              y = '\\\\f';\n              break;\n            case 11:\n              y = '\\\\v';\n              break;\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n            case 91:\n              0 === n + b + v && m++;\n              break;\n            case 93:\n              0 === n + b + v && m--;\n              break;\n            case 41:\n              0 === n + b + m && v--;\n              break;\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n              break;\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n                    case 220:\n                      t = l, b = 42;\n                  }\n                  break;\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n          0 === b && (f += y);\n      }\n      K = x;\n      x = g;\n      l++;\n    }\n    t = p.length;\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n        E = 0;\n      }\n    }\n    return G + p + F;\n  }\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n      m = d.length;\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n        break;\n      default:\n        var v = b = 0;\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n    }\n    return c;\n  }\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n    return d + c;\n  }\n  function P(d, c, e, h) {\n    var a = d + ';',\n      m = 2 * c + 3 * e + 4 * h;\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n          default:\n            return a;\n        }\n        return '-webkit-' + a + '-ms-' + b + a;\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n        return a + ';';\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n    return a;\n  }\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n      h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n        default:\n          x = w;\n      }\n    }\n    if (x !== c) return x;\n  }\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === _typeof(d)) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n    return T;\n  }\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n  var ca = /^\\0+/g,\n    N = /[\\0\\r\\f]/g,\n    aa = /: */g,\n    ka = /zoo|gra/,\n    ma = /([,: ])(transform)/g,\n    ia = /,\\r+?/g,\n    F = /([\\t\\r\\n ])*\\f?&/g,\n    fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n    Q = /::(place)/g,\n    ha = /:(read-only)/g,\n    G = /[svh]\\w+-[tblr]{2}/,\n    da = /\\(\\s*(.*)\\s*\\)/g,\n    oa = /([\\s\\S]*?);/g,\n    ba = /-self|flex-/g,\n    na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n    la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n    ja = /([^-])(image-set\\()/,\n    z = 1,\n    D = 1,\n    E = 0,\n    w = 1,\n    O = [],\n    S = [],\n    A = 0,\n    R = null,\n    Y = 0,\n    V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\nvar unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\nfunction memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111 && prop.charCodeAt(1) === 110 && prop.charCodeAt(2) < 91;\n});\nvar reactIs$1 = {\n  exports: {}\n};\nvar reactIs_production_min = {};\nvar b$1 = \"function\" === typeof Symbol && Symbol[\"for\"],\n  c = b$1 ? Symbol[\"for\"](\"react.element\") : 60103,\n  d = b$1 ? Symbol[\"for\"](\"react.portal\") : 60106,\n  e$1 = b$1 ? Symbol[\"for\"](\"react.fragment\") : 60107,\n  f = b$1 ? Symbol[\"for\"](\"react.strict_mode\") : 60108,\n  g$1 = b$1 ? Symbol[\"for\"](\"react.profiler\") : 60114,\n  h$1 = b$1 ? Symbol[\"for\"](\"react.provider\") : 60109,\n  k$2 = b$1 ? Symbol[\"for\"](\"react.context\") : 60110,\n  l$1 = b$1 ? Symbol[\"for\"](\"react.async_mode\") : 60111,\n  m$1 = b$1 ? Symbol[\"for\"](\"react.concurrent_mode\") : 60111,\n  n$1 = b$1 ? Symbol[\"for\"](\"react.forward_ref\") : 60112,\n  p$1 = b$1 ? Symbol[\"for\"](\"react.suspense\") : 60113,\n  q$2 = b$1 ? Symbol[\"for\"](\"react.suspense_list\") : 60120,\n  r$1 = b$1 ? Symbol[\"for\"](\"react.memo\") : 60115,\n  t$1 = b$1 ? Symbol[\"for\"](\"react.lazy\") : 60116,\n  v$1 = b$1 ? Symbol[\"for\"](\"react.block\") : 60121,\n  w$1 = b$1 ? Symbol[\"for\"](\"react.fundamental\") : 60117,\n  x$1 = b$1 ? Symbol[\"for\"](\"react.responder\") : 60118,\n  y = b$1 ? Symbol[\"for\"](\"react.scope\") : 60119;\nfunction z$1(a) {\n  if (\"object\" === _typeof(a) && null !== a) {\n    var u = a.$$typeof;\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l$1:\n          case m$1:\n          case e$1:\n          case g$1:\n          case f:\n          case p$1:\n            return a;\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k$2:\n              case n$1:\n              case t$1:\n              case r$1:\n              case h$1:\n                return a;\n              default:\n                return u;\n            }\n        }\n      case d:\n        return u;\n    }\n  }\n}\nfunction A$1(a) {\n  return z$1(a) === m$1;\n}\nreactIs_production_min.AsyncMode = l$1;\nreactIs_production_min.ConcurrentMode = m$1;\nreactIs_production_min.ContextConsumer = k$2;\nreactIs_production_min.ContextProvider = h$1;\nreactIs_production_min.Element = c;\nreactIs_production_min.ForwardRef = n$1;\nreactIs_production_min.Fragment = e$1;\nreactIs_production_min.Lazy = t$1;\nreactIs_production_min.Memo = r$1;\nreactIs_production_min.Portal = d;\nreactIs_production_min.Profiler = g$1;\nreactIs_production_min.StrictMode = f;\nreactIs_production_min.Suspense = p$1;\nreactIs_production_min.isAsyncMode = function (a) {\n  return A$1(a) || z$1(a) === l$1;\n};\nreactIs_production_min.isConcurrentMode = A$1;\nreactIs_production_min.isContextConsumer = function (a) {\n  return z$1(a) === k$2;\n};\nreactIs_production_min.isContextProvider = function (a) {\n  return z$1(a) === h$1;\n};\nreactIs_production_min.isElement = function (a) {\n  return \"object\" === _typeof(a) && null !== a && a.$$typeof === c;\n};\nreactIs_production_min.isForwardRef = function (a) {\n  return z$1(a) === n$1;\n};\nreactIs_production_min.isFragment = function (a) {\n  return z$1(a) === e$1;\n};\nreactIs_production_min.isLazy = function (a) {\n  return z$1(a) === t$1;\n};\nreactIs_production_min.isMemo = function (a) {\n  return z$1(a) === r$1;\n};\nreactIs_production_min.isPortal = function (a) {\n  return z$1(a) === d;\n};\nreactIs_production_min.isProfiler = function (a) {\n  return z$1(a) === g$1;\n};\nreactIs_production_min.isStrictMode = function (a) {\n  return z$1(a) === f;\n};\nreactIs_production_min.isSuspense = function (a) {\n  return z$1(a) === p$1;\n};\nreactIs_production_min.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e$1 || a === m$1 || a === g$1 || a === f || a === p$1 || a === q$2 || \"object\" === _typeof(a) && null !== a && (a.$$typeof === t$1 || a.$$typeof === r$1 || a.$$typeof === h$1 || a.$$typeof === k$2 || a.$$typeof === n$1 || a.$$typeof === w$1 || a.$$typeof === x$1 || a.$$typeof === y || a.$$typeof === v$1);\n};\nreactIs_production_min.typeOf = z$1;\n{\n  reactIs$1.exports = reactIs_production_min;\n}\nvar reactIsExports = reactIs$1.exports;\nvar reactIs = reactIsExports;\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\nfunction getStatics(component) {\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  }\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n    var keys = getOwnPropertyNames(sourceComponent);\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n        try {\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n  return targetComponent;\n}\nvar hoistNonReactStatics_cjs = hoistNonReactStatics;\nvar hoistNonReactStatics$1 = /*@__PURE__*/getDefaultExportFromCjs(hoistNonReactStatics_cjs);\nfunction v() {\n  return (v = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n    }\n    return e;\n  }).apply(this, arguments);\n}\nvar g = function g(e, t) {\n    for (var n = [e[0]], r = 0, o = t.length; r < o; r += 1) n.push(t[r], e[r + 1]);\n    return n;\n  },\n  S = function S(t) {\n    return null !== t && \"object\" == _typeof(t) && \"[object Object]\" === (t.toString ? t.toString() : Object.prototype.toString.call(t)) && !reactIsExports$1.typeOf(t);\n  },\n  w = Object.freeze([]),\n  E = Object.freeze({});\nfunction b(e) {\n  return \"function\" == typeof e;\n}\nfunction _(e) {\n  return e.displayName || e.name || \"Component\";\n}\nfunction N(e) {\n  return e && \"string\" == typeof e.styledComponentId;\n}\nvar A = \"undefined\" != typeof process && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR) || \"data-styled\",\n  I = \"undefined\" != typeof window && \"HTMLElement\" in window,\n  P = Boolean(\"boolean\" == typeof SC_DISABLE_SPEEDY ? SC_DISABLE_SPEEDY : \"undefined\" != typeof process && void 0 !== process.env.REACT_APP_SC_DISABLE_SPEEDY && \"\" !== process.env.REACT_APP_SC_DISABLE_SPEEDY ? \"false\" !== process.env.REACT_APP_SC_DISABLE_SPEEDY && process.env.REACT_APP_SC_DISABLE_SPEEDY : \"undefined\" != typeof process && void 0 !== process.env.SC_DISABLE_SPEEDY && \"\" !== process.env.SC_DISABLE_SPEEDY ? \"false\" !== process.env.SC_DISABLE_SPEEDY && process.env.SC_DISABLE_SPEEDY : \"production\" !== \"production\");\nfunction j(e) {\n  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n  throw new Error(\"An error occurred. See https://git.io/JUIaE#\" + e + \" for more information.\" + (n.length > 0 ? \" Args: \" + n.join(\", \") : \"\"));\n}\nvar T = function () {\n    function e(e) {\n      this.groupSizes = new Uint32Array(512), this.length = 512, this.tag = e;\n    }\n    var t = e.prototype;\n    return t.indexOfGroup = function (e) {\n      for (var t = 0, n = 0; n < e; n++) t += this.groupSizes[n];\n      return t;\n    }, t.insertRules = function (e, t) {\n      if (e >= this.groupSizes.length) {\n        for (var n = this.groupSizes, r = n.length, o = r; e >= o;) (o <<= 1) < 0 && j(16, \"\" + e);\n        this.groupSizes = new Uint32Array(o), this.groupSizes.set(n), this.length = o;\n        for (var s = r; s < o; s++) this.groupSizes[s] = 0;\n      }\n      for (var i = this.indexOfGroup(e + 1), a = 0, c = t.length; a < c; a++) this.tag.insertRule(i, t[a]) && (this.groupSizes[e]++, i++);\n    }, t.clearGroup = function (e) {\n      if (e < this.length) {\n        var t = this.groupSizes[e],\n          n = this.indexOfGroup(e),\n          r = n + t;\n        this.groupSizes[e] = 0;\n        for (var o = n; o < r; o++) this.tag.deleteRule(n);\n      }\n    }, t.getGroup = function (e) {\n      var t = \"\";\n      if (e >= this.length || 0 === this.groupSizes[e]) return t;\n      for (var n = this.groupSizes[e], r = this.indexOfGroup(e), o = r + n, s = r; s < o; s++) t += this.tag.getRule(s) + \"/*!sc*/\\n\";\n      return t;\n    }, e;\n  }(),\n  x = new Map(),\n  k$1 = new Map(),\n  V = 1,\n  B = function B(e) {\n    if (x.has(e)) return x.get(e);\n    for (; k$1.has(V);) V++;\n    var t = V++;\n    return x.set(e, t), k$1.set(t, e), t;\n  },\n  z = function z(e) {\n    return k$1.get(e);\n  },\n  M = function M(e, t) {\n    t >= V && (V = t + 1), x.set(e, t), k$1.set(t, e);\n  },\n  G = \"style[\" + A + '][data-styled-version=\"5.3.5\"]',\n  L = new RegExp(\"^\" + A + '\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)'),\n  F = function F(e, t, n) {\n    for (var r, o = n.split(\",\"), s = 0, i = o.length; s < i; s++) (r = o[s]) && e.registerName(t, r);\n  },\n  Y = function Y(e, t) {\n    for (var n = (t.textContent || \"\").split(\"/*!sc*/\\n\"), r = [], o = 0, s = n.length; o < s; o++) {\n      var i = n[o].trim();\n      if (i) {\n        var a = i.match(L);\n        if (a) {\n          var c = 0 | parseInt(a[1], 10),\n            u = a[2];\n          0 !== c && (M(u, c), F(e, u, a[3]), e.getTag().insertRules(c, r)), r.length = 0;\n        } else r.push(i);\n      }\n    }\n  },\n  q$1 = function q$1() {\n    return \"undefined\" != typeof window && void 0 !== window.__webpack_nonce__ ? window.__webpack_nonce__ : null;\n  },\n  H = function H(e) {\n    var t = document.head,\n      n = e || t,\n      r = document.createElement(\"style\"),\n      o = function (e) {\n        for (var t = e.childNodes, n = t.length; n >= 0; n--) {\n          var r = t[n];\n          if (r && 1 === r.nodeType && r.hasAttribute(A)) return r;\n        }\n      }(n),\n      s = void 0 !== o ? o.nextSibling : null;\n    r.setAttribute(A, \"active\"), r.setAttribute(\"data-styled-version\", \"5.3.5\");\n    var i = q$1();\n    return i && r.setAttribute(\"nonce\", i), n.insertBefore(r, s), r;\n  },\n  $ = function () {\n    function e(e) {\n      var t = this.element = H(e);\n      t.appendChild(document.createTextNode(\"\")), this.sheet = function (e) {\n        if (e.sheet) return e.sheet;\n        for (var t = document.styleSheets, n = 0, r = t.length; n < r; n++) {\n          var o = t[n];\n          if (o.ownerNode === e) return o;\n        }\n        j(17);\n      }(t), this.length = 0;\n    }\n    var t = e.prototype;\n    return t.insertRule = function (e, t) {\n      try {\n        return this.sheet.insertRule(t, e), this.length++, !0;\n      } catch (e) {\n        return !1;\n      }\n    }, t.deleteRule = function (e) {\n      this.sheet.deleteRule(e), this.length--;\n    }, t.getRule = function (e) {\n      var t = this.sheet.cssRules[e];\n      return void 0 !== t && \"string\" == typeof t.cssText ? t.cssText : \"\";\n    }, e;\n  }(),\n  W = function () {\n    function e(e) {\n      var t = this.element = H(e);\n      this.nodes = t.childNodes, this.length = 0;\n    }\n    var t = e.prototype;\n    return t.insertRule = function (e, t) {\n      if (e <= this.length && e >= 0) {\n        var n = document.createTextNode(t),\n          r = this.nodes[e];\n        return this.element.insertBefore(n, r || null), this.length++, !0;\n      }\n      return !1;\n    }, t.deleteRule = function (e) {\n      this.element.removeChild(this.nodes[e]), this.length--;\n    }, t.getRule = function (e) {\n      return e < this.length ? this.nodes[e].textContent : \"\";\n    }, e;\n  }(),\n  U = function () {\n    function e(e) {\n      this.rules = [], this.length = 0;\n    }\n    var t = e.prototype;\n    return t.insertRule = function (e, t) {\n      return e <= this.length && (this.rules.splice(e, 0, t), this.length++, !0);\n    }, t.deleteRule = function (e) {\n      this.rules.splice(e, 1), this.length--;\n    }, t.getRule = function (e) {\n      return e < this.length ? this.rules[e] : \"\";\n    }, e;\n  }(),\n  J = I,\n  X = {\n    isServer: !I,\n    useCSSOMInjection: !P\n  },\n  Z = function () {\n    function e(e, t, n) {\n      void 0 === e && (e = E), void 0 === t && (t = {}), this.options = v({}, X, {}, e), this.gs = t, this.names = new Map(n), this.server = !!e.isServer, !this.server && I && J && (J = !1, function (e) {\n        for (var t = document.querySelectorAll(G), n = 0, r = t.length; n < r; n++) {\n          var o = t[n];\n          o && \"active\" !== o.getAttribute(A) && (Y(e, o), o.parentNode && o.parentNode.removeChild(o));\n        }\n      }(this));\n    }\n    e.registerId = function (e) {\n      return B(e);\n    };\n    var t = e.prototype;\n    return t.reconstructWithOptions = function (t, n) {\n      return void 0 === n && (n = !0), new e(v({}, this.options, {}, t), this.gs, n && this.names || void 0);\n    }, t.allocateGSInstance = function (e) {\n      return this.gs[e] = (this.gs[e] || 0) + 1;\n    }, t.getTag = function () {\n      return this.tag || (this.tag = (n = (t = this.options).isServer, r = t.useCSSOMInjection, o = t.target, e = n ? new U(o) : r ? new $(o) : new W(o), new T(e)));\n      var e, t, n, r, o;\n    }, t.hasNameForId = function (e, t) {\n      return this.names.has(e) && this.names.get(e).has(t);\n    }, t.registerName = function (e, t) {\n      if (B(e), this.names.has(e)) this.names.get(e).add(t);else {\n        var n = new Set();\n        n.add(t), this.names.set(e, n);\n      }\n    }, t.insertRules = function (e, t, n) {\n      this.registerName(e, t), this.getTag().insertRules(B(e), n);\n    }, t.clearNames = function (e) {\n      this.names.has(e) && this.names.get(e).clear();\n    }, t.clearRules = function (e) {\n      this.getTag().clearGroup(B(e)), this.clearNames(e);\n    }, t.clearTag = function () {\n      this.tag = void 0;\n    }, t.toString = function () {\n      return function (e) {\n        for (var t = e.getTag(), n = t.length, r = \"\", o = 0; o < n; o++) {\n          var s = z(o);\n          if (void 0 !== s) {\n            var i = e.names.get(s),\n              a = t.getGroup(o);\n            if (i && a && i.size) {\n              var c = A + \".g\" + o + '[id=\"' + s + '\"]',\n                u = \"\";\n              void 0 !== i && i.forEach(function (e) {\n                e.length > 0 && (u += e + \",\");\n              }), r += \"\" + a + c + '{content:\"' + u + '\"}/*!sc*/\\n';\n            }\n          }\n        }\n        return r;\n      }(this);\n    }, e;\n  }(),\n  K = /(a)(d)/gi,\n  Q = function Q(e) {\n    return String.fromCharCode(e + (e > 25 ? 39 : 97));\n  };\nfunction ee(e) {\n  var t,\n    n = \"\";\n  for (t = Math.abs(e); t > 52; t = t / 52 | 0) n = Q(t % 52) + n;\n  return (Q(t % 52) + n).replace(K, \"$1-$2\");\n}\nvar te = function te(e, t) {\n    for (var n = t.length; n;) e = 33 * e ^ t.charCodeAt(--n);\n    return e;\n  },\n  ne = function ne(e) {\n    return te(5381, e);\n  };\nfunction re(e) {\n  for (var t = 0; t < e.length; t += 1) {\n    var n = e[t];\n    if (b(n) && !N(n)) return !1;\n  }\n  return !0;\n}\nvar oe = ne(\"5.3.5\"),\n  se = function () {\n    function e(e, t, n) {\n      this.rules = e, this.staticRulesId = \"\", this.isStatic = (void 0 === n || n.isStatic) && re(e), this.componentId = t, this.baseHash = te(oe, t), this.baseStyle = n, Z.registerId(t);\n    }\n    return e.prototype.generateAndInjectStyles = function (e, t, n) {\n      var r = this.componentId,\n        o = [];\n      if (this.baseStyle && o.push(this.baseStyle.generateAndInjectStyles(e, t, n)), this.isStatic && !n.hash) {\n        if (this.staticRulesId && t.hasNameForId(r, this.staticRulesId)) o.push(this.staticRulesId);else {\n          var s = Ne(this.rules, e, t, n).join(\"\"),\n            i = ee(te(this.baseHash, s) >>> 0);\n          if (!t.hasNameForId(r, i)) {\n            var a = n(s, \".\" + i, void 0, r);\n            t.insertRules(r, i, a);\n          }\n          o.push(i), this.staticRulesId = i;\n        }\n      } else {\n        for (var c = this.rules.length, u = te(this.baseHash, n.hash), l = \"\", d = 0; d < c; d++) {\n          var h = this.rules[d];\n          if (\"string\" == typeof h) l += h;else if (h) {\n            var p = Ne(h, e, t, n),\n              f = Array.isArray(p) ? p.join(\"\") : p;\n            u = te(u, f + d), l += f;\n          }\n        }\n        if (l) {\n          var m = ee(u >>> 0);\n          if (!t.hasNameForId(r, m)) {\n            var y = n(l, \".\" + m, void 0, r);\n            t.insertRules(r, m, y);\n          }\n          o.push(m);\n        }\n      }\n      return o.join(\" \");\n    }, e;\n  }(),\n  ie = /^\\s*\\/\\/.*$/gm,\n  ae = [\":\", \"[\", \".\", \"#\"];\nfunction ce(e) {\n  var t,\n    n,\n    r,\n    o,\n    s = void 0 === e ? E : e,\n    i = s.options,\n    a = void 0 === i ? E : i,\n    c = s.plugins,\n    u = void 0 === c ? w : c,\n    l = new stylis_min(a),\n    d = [],\n    h = function (e) {\n      function t(t) {\n        if (t) try {\n          e(t + \"}\");\n        } catch (e) {}\n      }\n      return function (n, r, o, s, i, a, c, u, l, d) {\n        switch (n) {\n          case 1:\n            if (0 === l && 64 === r.charCodeAt(0)) return e(r + \";\"), \"\";\n            break;\n          case 2:\n            if (0 === u) return r + \"/*|*/\";\n            break;\n          case 3:\n            switch (u) {\n              case 102:\n              case 112:\n                return e(o[0] + r), \"\";\n              default:\n                return r + (0 === d ? \"/*|*/\" : \"\");\n            }\n          case -2:\n            r.split(\"/*|*/}\").forEach(t);\n        }\n      };\n    }(function (e) {\n      d.push(e);\n    }),\n    f = function f(e, r, s) {\n      return 0 === r && -1 !== ae.indexOf(s[n.length]) || s.match(o) ? e : \".\" + t;\n    };\n  function m(e, s, i, a) {\n    void 0 === a && (a = \"&\");\n    var c = e.replace(ie, \"\"),\n      u = s && i ? i + \" \" + s + \" { \" + c + \" }\" : c;\n    return t = a, n = s, r = new RegExp(\"\\\\\" + n + \"\\\\b\", \"g\"), o = new RegExp(\"(\\\\\" + n + \"\\\\b){2,}\"), l(i || !s ? \"\" : s, u);\n  }\n  return l.use([].concat(u, [function (e, t, o) {\n    2 === e && o.length && o[0].lastIndexOf(n) > 0 && (o[0] = o[0].replace(r, f));\n  }, h, function (e) {\n    if (-2 === e) {\n      var t = d;\n      return d = [], t;\n    }\n  }])), m.hash = u.length ? u.reduce(function (e, t) {\n    return t.name || j(15), te(e, t.name);\n  }, 5381).toString() : \"\", m;\n}\nvar ue = /*#__PURE__*/wn.createContext();\nue.Consumer;\nvar de = /*#__PURE__*/wn.createContext(),\n  he = (de.Consumer, new Z()),\n  pe = ce();\nfunction fe() {\n  return q$5(ue) || he;\n}\nfunction me() {\n  return q$5(de) || pe;\n}\nfunction ye(e) {\n  var t = h$4(e.stylisPlugins),\n    n = t[0],\n    s = t[1],\n    c = fe(),\n    u = F$3(function () {\n      var t = c;\n      return e.sheet ? t = e.sheet : e.target && (t = t.reconstructWithOptions({\n        target: e.target\n      }, !1)), e.disableCSSOMInjection && (t = t.reconstructWithOptions({\n        useCSSOMInjection: !1\n      })), t;\n    }, [e.disableCSSOMInjection, e.sheet, e.target]),\n    l = F$3(function () {\n      return ce({\n        options: {\n          prefix: !e.disableVendorPrefixes\n        },\n        plugins: n\n      });\n    }, [e.disableVendorPrefixes, n]);\n  return p$3(function () {\n    h$2(n, e.stylisPlugins) || s(e.stylisPlugins);\n  }, [e.stylisPlugins]), /*#__PURE__*/wn.createElement(ue.Provider, {\n    value: u\n  }, /*#__PURE__*/wn.createElement(de.Provider, {\n    value: l\n  }, e.children));\n}\nvar ve = function () {\n    function e(e, t) {\n      var n = this;\n      this.inject = function (e, t) {\n        void 0 === t && (t = pe);\n        var r = n.name + t.hash;\n        e.hasNameForId(n.id, r) || e.insertRules(n.id, r, t(n.rules, r, \"@keyframes\"));\n      }, this.toString = function () {\n        return j(12, String(n.name));\n      }, this.name = e, this.id = \"sc-keyframes-\" + e, this.rules = t;\n    }\n    return e.prototype.getName = function (e) {\n      return void 0 === e && (e = pe), this.name + e.hash;\n    }, e;\n  }(),\n  ge = /([A-Z])/,\n  Se = /([A-Z])/g,\n  we = /^ms-/,\n  Ee = function Ee(e) {\n    return \"-\" + e.toLowerCase();\n  };\nfunction be(e) {\n  return ge.test(e) ? e.replace(Se, Ee).replace(we, \"-ms-\") : e;\n}\nvar _e = function _e(e) {\n  return null == e || !1 === e || \"\" === e;\n};\nfunction Ne(e, n, r, o) {\n  if (Array.isArray(e)) {\n    for (var s, i = [], a = 0, c = e.length; a < c; a += 1) \"\" !== (s = Ne(e[a], n, r, o)) && (Array.isArray(s) ? i.push.apply(i, s) : i.push(s));\n    return i;\n  }\n  if (_e(e)) return \"\";\n  if (N(e)) return \".\" + e.styledComponentId;\n  if (b(e)) {\n    if (\"function\" != typeof (l = e) || l.prototype && l.prototype.isReactComponent || !n) return e;\n    var u = e(n);\n    return Ne(u, n, r, o);\n  }\n  var l;\n  return e instanceof ve ? r ? (e.inject(r, o), e.getName(o)) : e : S(e) ? function e(t, n) {\n    var r,\n      o,\n      s = [];\n    for (var i in t) t.hasOwnProperty(i) && !_e(t[i]) && (Array.isArray(t[i]) && t[i].isCss || b(t[i]) ? s.push(be(i) + \":\", t[i], \";\") : S(t[i]) ? s.push.apply(s, e(t[i], i)) : s.push(be(i) + \": \" + (r = i, null == (o = t[i]) || \"boolean\" == typeof o || \"\" === o ? \"\" : \"number\" != typeof o || 0 === o || r in unitlessKeys ? String(o).trim() : o + \"px\") + \";\"));\n    return n ? [n + \" {\"].concat(s, [\"}\"]) : s;\n  }(e) : e.toString();\n}\nvar Ae = function Ae(e) {\n  return Array.isArray(e) && (e.isCss = !0), e;\n};\nfunction Ce(e) {\n  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n  return b(e) || S(e) ? Ae(Ne(g(w, [e].concat(n)))) : 0 === n.length && 1 === e.length && \"string\" == typeof e[0] ? e : Ae(Ne(g(e, n)));\n}\nvar Re = function Re(e, t, n) {\n    return void 0 === n && (n = E), e.theme !== n.theme && e.theme || t || n.theme;\n  },\n  De = /[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g,\n  je = /(^-|-$)/g;\nfunction Te(e) {\n  return e.replace(De, \"-\").replace(je, \"\");\n}\nvar xe = function xe(e) {\n  return ee(ne(e) >>> 0);\n};\nfunction ke(e) {\n  return \"string\" == typeof e && \"production\" === \"production\";\n}\nvar Ve = function Ve(e) {\n    return \"function\" == typeof e || \"object\" == _typeof(e) && null !== e && !Array.isArray(e);\n  },\n  Be = function Be(e) {\n    return \"__proto__\" !== e && \"constructor\" !== e && \"prototype\" !== e;\n  };\nfunction ze(e, t, n) {\n  var r = e[n];\n  Ve(t) && Ve(r) ? Me(r, t) : e[n] = t;\n}\nfunction Me(e) {\n  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n  for (var o = 0, s = n; o < s.length; o++) {\n    var i = s[o];\n    if (Ve(i)) for (var a in i) Be(a) && ze(e, i[a], a);\n  }\n  return e;\n}\nvar Ge = /*#__PURE__*/wn.createContext();\nGe.Consumer;\nfunction Fe(e) {\n  var t = q$5(Ge),\n    n = F$3(function () {\n      return function (e, t) {\n        if (!e) return j(14);\n        if (b(e)) {\n          var n = e(t);\n          return n;\n        }\n        return Array.isArray(e) || \"object\" != _typeof(e) ? j(8) : t ? v({}, t, {}, e) : e;\n      }(e.theme, t);\n    }, [e.theme, t]);\n  return e.children ? /*#__PURE__*/wn.createElement(Ge.Provider, {\n    value: n\n  }, e.children) : null;\n}\nvar Ye = {};\nfunction qe(e, t, n) {\n  var o = N(e),\n    i = !ke(e),\n    a = t.attrs,\n    c = void 0 === a ? w : a,\n    d = t.componentId,\n    h = void 0 === d ? function (e, t) {\n      var n = \"string\" != typeof e ? \"sc\" : Te(e);\n      Ye[n] = (Ye[n] || 0) + 1;\n      var r = n + \"-\" + xe(\"5.3.5\" + n + Ye[n]);\n      return t ? t + \"-\" + r : r;\n    }(t.displayName, t.parentComponentId) : d,\n    p = t.displayName,\n    f = void 0 === p ? function (e) {\n      return ke(e) ? \"styled.\" + e : \"Styled(\" + _(e) + \")\";\n    }(e) : p,\n    g = t.displayName && t.componentId ? Te(t.displayName) + \"-\" + t.componentId : t.componentId || h,\n    S = o && e.attrs ? Array.prototype.concat(e.attrs, c).filter(Boolean) : c,\n    A = t.shouldForwardProp;\n  o && e.shouldForwardProp && (A = t.shouldForwardProp ? function (n, r, o) {\n    return e.shouldForwardProp(n, r, o) && t.shouldForwardProp(n, r, o);\n  } : e.shouldForwardProp);\n  var C,\n    I = new se(n, g, o ? e.componentStyle : void 0),\n    P = I.isStatic && 0 === c.length,\n    O = function O(e, t) {\n      return function (e, t, n, r) {\n        var o = e.attrs,\n          i = e.componentStyle,\n          a = e.defaultProps,\n          c = e.foldedComponentIds,\n          d = e.shouldForwardProp,\n          h = e.styledComponentId,\n          p = e.target;\n        var f = function (e, t, n) {\n            void 0 === e && (e = E);\n            var r = v({}, t, {\n                theme: e\n              }),\n              o = {};\n            return n.forEach(function (e) {\n              var t,\n                n,\n                s,\n                i = e;\n              for (t in b(i) && (i = i(r)), i) r[t] = o[t] = \"className\" === t ? (n = o[t], s = i[t], n && s ? n + \" \" + s : n || s) : i[t];\n            }), [r, o];\n          }(Re(t, q$5(Ge), a) || E, t, o),\n          y = f[0],\n          g = f[1],\n          S = function (e, t, n, r) {\n            var o = fe(),\n              s = me(),\n              i = t ? e.generateAndInjectStyles(E, o, s) : e.generateAndInjectStyles(n, o, s);\n            return i;\n          }(i, r, y),\n          w = n,\n          _ = g.$as || t.$as || g.as || t.as || p,\n          N = ke(_),\n          A = g !== t ? v({}, t, {}, g) : t,\n          C = {};\n        for (var I in A) \"$\" !== I[0] && \"as\" !== I && (\"forwardedAs\" === I ? C.as = A[I] : (d ? d(I, isPropValid, _) : !N || isPropValid(I)) && (C[I] = A[I]));\n        return t.style && g.style !== t.style && (C.style = v({}, t.style, {}, g.style)), C.className = Array.prototype.concat(c, h, S !== h ? S : null, t.className, g.className).filter(Boolean).join(\" \"), C.ref = w, /*#__PURE__*/y$3(_, C);\n      }(C, e, t, P);\n    };\n  return O.displayName = f, (C = /*#__PURE__*/wn.forwardRef(O)).attrs = S, C.componentStyle = I, C.displayName = f, C.shouldForwardProp = A, C.foldedComponentIds = o ? Array.prototype.concat(e.foldedComponentIds, e.styledComponentId) : w, C.styledComponentId = g, C.target = o ? e.target : e, C.withComponent = function (e) {\n    var r = t.componentId,\n      o = function (e, t) {\n        if (null == e) return {};\n        var n,\n          r,\n          o = {},\n          s = Object.keys(e);\n        for (r = 0; r < s.length; r++) n = s[r], t.indexOf(n) >= 0 || (o[n] = e[n]);\n        return o;\n      }(t, [\"componentId\"]),\n      s = r && r + \"-\" + (ke(e) ? e : Te(_(e)));\n    return qe(e, v({}, o, {\n      attrs: S,\n      componentId: s\n    }), n);\n  }, Object.defineProperty(C, \"defaultProps\", {\n    get: function get() {\n      return this._foldedDefaultProps;\n    },\n    set: function set(t) {\n      this._foldedDefaultProps = o ? Me({}, e.defaultProps, t) : t;\n    }\n  }), C.toString = function () {\n    return \".\" + C.styledComponentId;\n  }, i && hoistNonReactStatics$1(C, e, {\n    attrs: !0,\n    componentStyle: !0,\n    displayName: !0,\n    foldedComponentIds: !0,\n    shouldForwardProp: !0,\n    styledComponentId: !0,\n    target: !0,\n    withComponent: !0\n  }), C;\n}\nvar He = function He(e) {\n  return function e(t, r, o) {\n    if (void 0 === o && (o = E), !reactIsExports$1.isValidElementType(r)) return j(1, String(r));\n    var s = function s() {\n      return t(r, o, Ce.apply(void 0, arguments));\n    };\n    return s.withConfig = function (n) {\n      return e(t, r, v({}, o, {}, n));\n    }, s.attrs = function (n) {\n      return e(t, r, v({}, o, {\n        attrs: Array.prototype.concat(o.attrs, n).filter(Boolean)\n      }));\n    }, s;\n  }(qe, e);\n};\n[\"a\", \"abbr\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"bdi\", \"bdo\", \"big\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"cite\", \"code\", \"col\", \"colgroup\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"pre\", \"progress\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"small\", \"source\", \"span\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"circle\", \"clipPath\", \"defs\", \"ellipse\", \"foreignObject\", \"g\", \"image\", \"line\", \"linearGradient\", \"marker\", \"mask\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\", \"stop\", \"svg\", \"text\", \"textPath\", \"tspan\"].forEach(function (e) {\n  He[e] = He(e);\n});\nfunction Ue(e) {\n  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n  var o = Ce.apply(void 0, [e].concat(n)).join(\"\"),\n    s = xe(o);\n  return new ve(s, o);\n}\nvar Ze = function Ze() {\n  return q$5(Ge);\n};\nvar SHADOW_DOM_ONE_TAP_MOUNT_POINT = \"<div data-prompt_parent_id='g_id_onload' id='google-parent-prompt' style=''></div>\";\nfunction CreateWebComponent(ReactComponent, webComponentName) {\n  var existingRegistry = customElements.get(webComponentName);\n  if (existingRegistry) {\n    return existingRegistry;\n  }\n  var ReactWebComponent = /*#__PURE__*/function (_HTMLElement) {\n    _inherits(ReactWebComponent, _HTMLElement);\n    function ReactWebComponent(props) {\n      var _this;\n      _classCallCheck(this, ReactWebComponent);\n      _this = _callSuper(this, ReactWebComponent);\n      _this.props = props;\n      _this.rootRef = document.createElement('div');\n      _this.append(_this.rootRef);\n      return _this;\n    }\n    _createClass(ReactWebComponent, [{\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        this.styleSlot = document.createElement('section');\n        this.rootRef.appendChild(this.styleSlot);\n        this.mountPoint = document.createElement('span');\n        this.styleSlot.appendChild(this.mountPoint);\n        this.render(this.props);\n      }\n    }, {\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        if (!this.mountPoint) {\n          return;\n        }\n        wn.unmountComponentAtNode(this.mountPoint);\n      }\n    }, {\n      key: \"render\",\n      value: function render(props) {\n        if (!this.mountPoint) {\n          throw Error('Cannot render - no mount point defined');\n        }\n        if (!this.styleSlot) {\n          throw Error('Cannot render - no style slot defined');\n        }\n        wn.render( /*#__PURE__*/wn.createElement(ye, {\n          target: this.styleSlot\n        }, /*#__PURE__*/wn.createElement(ReactComponent, Object.assign({}, props))), this.mountPoint);\n      }\n    }]);\n    return ReactWebComponent;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n  customElements.define(webComponentName, ReactWebComponent);\n  return ReactWebComponent;\n}\nfunction CreateShadowWebComponent(ReactComponent, webComponentName) {\n  var existingRegistry = customElements.get(webComponentName);\n  if (existingRegistry) {\n    return existingRegistry;\n  }\n  var ReactWebComponent = /*#__PURE__*/function (_HTMLElement2) {\n    _inherits(ReactWebComponent, _HTMLElement2);\n    function ReactWebComponent(props) {\n      var _this2;\n      _classCallCheck(this, ReactWebComponent);\n      _this2 = _callSuper(this, ReactWebComponent);\n      _this2.props = props;\n      _this2.rootRef = _this2.attachShadow({\n        mode: 'open'\n      });\n      return _this2;\n    }\n    _createClass(ReactWebComponent, [{\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        this.styleSlot = document.createElement('section');\n        this.rootRef.appendChild(this.styleSlot);\n        this.mountPoint = document.createElement('span');\n        this.styleSlot.appendChild(this.mountPoint);\n        this.render(this.props);\n      }\n    }, {\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        if (!this.mountPoint) {\n          return;\n        }\n        wn.unmountComponentAtNode(this.mountPoint);\n      }\n    }, {\n      key: \"renderOneTap\",\n      value: function renderOneTap(props) {\n        var _a, _b, _c;\n        var shouldContainOneTap = (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.config) === null || _a === void 0 ? void 0 : _a.oauthOptions) === null || _b === void 0 ? void 0 : _b.providers) === null || _c === void 0 ? void 0 : _c.find(function (config) {\n          return config.type === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.O.Google && config.one_tap;\n        });\n        var containsOneTap = this.innerHTML.includes(SHADOW_DOM_ONE_TAP_MOUNT_POINT);\n        if (shouldContainOneTap) {\n          if (!containsOneTap) {\n            this.innerHTML = SHADOW_DOM_ONE_TAP_MOUNT_POINT;\n          }\n        } else {\n          this.innerHTML = '';\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render(props) {\n        if (!this.mountPoint) {\n          throw Error('Cannot render - no mount point defined');\n        }\n        if (!this.styleSlot) {\n          throw Error('Cannot render - no style slot defined');\n        }\n        this.renderOneTap(props);\n        wn.render( /*#__PURE__*/wn.createElement(ye, {\n          target: this.styleSlot\n        }, /*#__PURE__*/wn.createElement(ReactComponent, Object.assign({}, props))), this.mountPoint);\n      }\n    }]);\n    return ReactWebComponent;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n  customElements.define(webComponentName, ReactWebComponent);\n  return ReactWebComponent;\n}\nfunction CreateSSRSafeWebComponent(ReactComponent, webComponentName) {\n  if (typeof window === 'undefined') {\n    return function () {\n      return null;\n    };\n  }\n  return function (props) {\n    var _a;\n    var shadowDomEnabled = !!((_a = props.config) === null || _a === void 0 ? void 0 : _a.enableShadowDOM);\n    if (shadowDomEnabled) {\n      var Component = CreateShadowWebComponent(ReactComponent, webComponentName);\n      return new Component(props);\n    } else {\n      var _Component = CreateWebComponent(ReactComponent, webComponentName);\n      return new _Component(props);\n    }\n  };\n}\nvar isTruthy = function isTruthy(value) {\n  return Boolean(value);\n};\nvar lodash_merge = {\n  exports: {}\n};\nlodash_merge.exports;\n(function (module, exports) {\n  var LARGE_ARRAY_SIZE = 200;\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n  var HOT_COUNT = 800,\n    HOT_SPAN = 16;\n  var MAX_SAFE_INTEGER = 9007199254740991;\n  var argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n  var freeGlobal = _typeof(commonjsGlobal) == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n  var freeSelf = (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) == 'object' && self && self.Object === Object && self;\n  var root = freeGlobal || freeSelf || Function('return this')();\n  var freeExports = exports && !exports.nodeType && exports;\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  var freeProcess = moduleExports && freeGlobal.process;\n  var nodeUtil = function () {\n    try {\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n      if (types) {\n        return types;\n      }\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0:\n        return func.call(thisArg);\n      case 1:\n        return func.call(thisArg, args[0]);\n      case 2:\n        return func.call(thisArg, args[0], args[1]);\n      case 3:\n        return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n  function baseTimes(n, iteratee) {\n    var index = -1,\n      result = Array(n);\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n  var arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n  var coreJsData = root['__core-js_shared__'];\n  var funcToString = funcProto.toString;\n  var hasOwnProperty = objectProto.hasOwnProperty;\n  var maskSrcKey = function () {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? 'Symbol(src)_1.' + uid : '';\n  }();\n  var nativeObjectToString = objectProto.toString;\n  var objectCtorString = funcToString.call(Object);\n  var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  var Buffer = moduleExports ? root.Buffer : undefined,\n    _Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array;\n  Buffer ? Buffer.allocUnsafe : undefined;\n  var getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n  var defineProperty = function () {\n    try {\n      var func = getNative(Object, 'defineProperty');\n      func({}, '', {});\n      return func;\n    } catch (e) {}\n  }();\n  var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n  var Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n  var baseCreate = function () {\n    function object() {}\n    return function (proto) {\n      if (!isObject(proto)) {\n        return {};\n      }\n      if (objectCreate) {\n        return objectCreate(proto);\n      }\n      object.prototype = proto;\n      var result = new object();\n      object.prototype = undefined;\n      return result;\n    };\n  }();\n  function Hash(entries) {\n    var index = -1,\n      length = entries == null ? 0 : entries.length;\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n    this.size = 0;\n  }\n  function hashDelete(key) {\n    var result = this.has(key) && delete this.__data__[key];\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n  function hashGet(key) {\n    var data = this.__data__;\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n  }\n  function hashSet(key, value) {\n    var data = this.__data__;\n    this.size += this.has(key) ? 0 : 1;\n    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n    return this;\n  }\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n  function ListCache(entries) {\n    var index = -1,\n      length = entries == null ? 0 : entries.length;\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  function listCacheClear() {\n    this.__data__ = [];\n    this.size = 0;\n  }\n  function listCacheDelete(key) {\n    var data = this.__data__,\n      index = assocIndexOf(data, key);\n    if (index < 0) {\n      return false;\n    }\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n    --this.size;\n    return true;\n  }\n  function listCacheGet(key) {\n    var data = this.__data__,\n      index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n  }\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n      index = assocIndexOf(data, key);\n    if (index < 0) {\n      ++this.size;\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n    return this;\n  }\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n  function MapCache(entries) {\n    var index = -1,\n      length = entries == null ? 0 : entries.length;\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  function mapCacheClear() {\n    this.size = 0;\n    this.__data__ = {\n      'hash': new Hash(),\n      'map': new (Map || ListCache)(),\n      'string': new Hash()\n    };\n  }\n  function mapCacheDelete(key) {\n    var result = getMapData(this, key)['delete'](key);\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n  function mapCacheSet(key, value) {\n    var data = getMapData(this, key),\n      size = data.size;\n    data.set(key, value);\n    this.size += data.size == size ? 0 : 1;\n    return this;\n  }\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n  function Stack(entries) {\n    var data = this.__data__ = new ListCache(entries);\n    this.size = data.size;\n  }\n  function stackClear() {\n    this.__data__ = new ListCache();\n    this.size = 0;\n  }\n  function stackDelete(key) {\n    var data = this.__data__,\n      result = data['delete'](key);\n    this.size = data.size;\n    return result;\n  }\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n  function stackSet(key, value) {\n    var data = this.__data__;\n    if (data instanceof ListCache) {\n      var pairs = data.__data__;\n      if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n        pairs.push([key, value]);\n        this.size = ++data.size;\n        return this;\n      }\n      data = this.__data__ = new MapCache(pairs);\n    }\n    data.set(key, value);\n    this.size = data.size;\n    return this;\n  }\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n  function arrayLikeKeys(value, inherited) {\n    var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n    for (var key in value) {\n      if (!(skipIndexes && (key == 'length' || isBuff && (key == 'offset' || key == 'parent') || isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n  function assignMergeValue(object, key, value) {\n    if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) {\n      baseAssignValue(object, key, value);\n    }\n  }\n  function assignValue(object, key, value) {\n    var objValue = object[key];\n    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {\n      baseAssignValue(object, key, value);\n    }\n  }\n  function assocIndexOf(array, key) {\n    var length = array.length;\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n    return -1;\n  }\n  function baseAssignValue(object, key, value) {\n    if (key == '__proto__' && defineProperty) {\n      defineProperty(object, key, {\n        'configurable': true,\n        'enumerable': true,\n        'value': value,\n        'writable': true\n      });\n    } else {\n      object[key] = value;\n    }\n  }\n  var baseFor = createBaseFor();\n  function baseGetTag(value) {\n    if (value == null) {\n      return value === undefined ? undefinedTag : nullTag;\n    }\n    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n  }\n  function baseIsArguments(value) {\n    return isObjectLike(value) && baseGetTag(value) == argsTag;\n  }\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n  function baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n  }\n  function baseKeysIn(object) {\n    if (!isObject(object)) {\n      return nativeKeysIn(object);\n    }\n    var isProto = isPrototype(object),\n      result = [];\n    for (var key in object) {\n      if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n  function baseMerge(object, source, srcIndex, customizer, stack) {\n    if (object === source) {\n      return;\n    }\n    baseFor(source, function (srcValue, key) {\n      stack || (stack = new Stack());\n      if (isObject(srcValue)) {\n        baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n      } else {\n        var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + '', object, source, stack) : undefined;\n        if (newValue === undefined) {\n          newValue = srcValue;\n        }\n        assignMergeValue(object, key, newValue);\n      }\n    }, keysIn);\n  }\n  function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n    var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n    if (stacked) {\n      assignMergeValue(object, key, stacked);\n      return;\n    }\n    var newValue = customizer ? customizer(objValue, srcValue, key + '', object, source, stack) : undefined;\n    var isCommon = newValue === undefined;\n    if (isCommon) {\n      var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n      newValue = srcValue;\n      if (isArr || isBuff || isTyped) {\n        if (isArray(objValue)) {\n          newValue = objValue;\n        } else if (isArrayLikeObject(objValue)) {\n          newValue = copyArray(objValue);\n        } else if (isBuff) {\n          isCommon = false;\n          newValue = cloneBuffer(srcValue);\n        } else if (isTyped) {\n          isCommon = false;\n          newValue = cloneTypedArray(srcValue);\n        } else {\n          newValue = [];\n        }\n      } else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n        newValue = objValue;\n        if (isArguments(objValue)) {\n          newValue = toPlainObject(objValue);\n        } else if (!isObject(objValue) || isFunction(objValue)) {\n          newValue = initCloneObject(srcValue);\n        }\n      } else {\n        isCommon = false;\n      }\n    }\n    if (isCommon) {\n      stack.set(srcValue, newValue);\n      mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n      stack['delete'](srcValue);\n    }\n    assignMergeValue(object, key, newValue);\n  }\n  function baseRest(func, start) {\n    return setToString(overRest(func, start, identity), func + '');\n  }\n  var baseSetToString = !defineProperty ? identity : function (func, string) {\n    return defineProperty(func, 'toString', {\n      'configurable': true,\n      'enumerable': false,\n      'value': constant(string),\n      'writable': true\n    });\n  };\n  function cloneBuffer(buffer, isDeep) {\n    {\n      return buffer.slice();\n    }\n  }\n  function cloneArrayBuffer(arrayBuffer) {\n    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    return result;\n  }\n  function cloneTypedArray(typedArray, isDeep) {\n    var buffer = cloneArrayBuffer(typedArray.buffer);\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n  }\n  function copyArray(source, array) {\n    var index = -1,\n      length = source.length;\n    array || (array = Array(length));\n    while (++index < length) {\n      array[index] = source[index];\n    }\n    return array;\n  }\n  function copyObject(source, props, object, customizer) {\n    var isNew = !object;\n    object || (object = {});\n    var index = -1,\n      length = props.length;\n    while (++index < length) {\n      var key = props[index];\n      var newValue = undefined;\n      if (newValue === undefined) {\n        newValue = source[key];\n      }\n      if (isNew) {\n        baseAssignValue(object, key, newValue);\n      } else {\n        assignValue(object, key, newValue);\n      }\n    }\n    return object;\n  }\n  function createAssigner(assigner) {\n    return baseRest(function (object, sources) {\n      var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n      customizer = assigner.length > 3 && typeof customizer == 'function' ? (length--, customizer) : undefined;\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        customizer = length < 3 ? undefined : customizer;\n        length = 1;\n      }\n      object = Object(object);\n      while (++index < length) {\n        var source = sources[index];\n        if (source) {\n          assigner(object, source, index, customizer);\n        }\n      }\n      return object;\n    });\n  }\n  function createBaseFor(fromRight) {\n    return function (object, iteratee, keysFunc) {\n      var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n      while (length--) {\n        var key = props[++index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    };\n  }\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n  }\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n  function getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n    try {\n      value[symToStringTag] = undefined;\n      var unmasked = true;\n    } catch (e) {}\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n      if (isOwn) {\n        value[symToStringTag] = tag;\n      } else {\n        delete value[symToStringTag];\n      }\n    }\n    return result;\n  }\n  function initCloneObject(object) {\n    return typeof object.constructor == 'function' && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n  }\n  function isIndex(value, length) {\n    var type = _typeof(value);\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n  }\n  function isIterateeCall(value, index, object) {\n    if (!isObject(object)) {\n      return false;\n    }\n    var type = _typeof(index);\n    if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n      return eq(object[index], value);\n    }\n    return false;\n  }\n  function isKeyable(value) {\n    var type = _typeof(value);\n    return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n  }\n  function isMasked(func) {\n    return !!maskSrcKey && maskSrcKey in func;\n  }\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n    return value === proto;\n  }\n  function nativeKeysIn(object) {\n    var result = [];\n    if (object != null) {\n      for (var key in Object(object)) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n  function objectToString(value) {\n    return nativeObjectToString.call(value);\n  }\n  function overRest(func, start, transform) {\n    start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n    return function () {\n      var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n      while (++index < length) {\n        array[index] = args[start + index];\n      }\n      index = -1;\n      var otherArgs = Array(start + 1);\n      while (++index < start) {\n        otherArgs[index] = args[index];\n      }\n      otherArgs[start] = transform(array);\n      return apply(func, this, otherArgs);\n    };\n  }\n  function safeGet(object, key) {\n    if (key === 'constructor' && typeof object[key] === 'function') {\n      return;\n    }\n    if (key == '__proto__') {\n      return;\n    }\n    return object[key];\n  }\n  var setToString = shortOut(baseSetToString);\n  function shortOut(func) {\n    var count = 0,\n      lastCalled = 0;\n    return function () {\n      var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n      lastCalled = stamp;\n      if (remaining > 0) {\n        if (++count >= HOT_COUNT) {\n          return arguments[0];\n        }\n      } else {\n        count = 0;\n      }\n      return func.apply(undefined, arguments);\n    };\n  }\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n      try {\n        return func + '';\n      } catch (e) {}\n    }\n    return '';\n  }\n  function eq(value, other) {\n    return value === other || value !== value && other !== other;\n  }\n  var isArguments = baseIsArguments(function () {\n    return arguments;\n  }()) ? baseIsArguments : function (value) {\n    return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n  };\n  var isArray = Array.isArray;\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n  function isArrayLikeObject(value) {\n    return isObjectLike(value) && isArrayLike(value);\n  }\n  var isBuffer = nativeIsBuffer || stubFalse;\n  function isFunction(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    var tag = baseGetTag(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n  }\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n  function isObject(value) {\n    var type = _typeof(value);\n    return value != null && (type == 'object' || type == 'function');\n  }\n  function isObjectLike(value) {\n    return value != null && _typeof(value) == 'object';\n  }\n  function isPlainObject(value) {\n    if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n      return false;\n    }\n    var proto = getPrototype(value);\n    if (proto === null) {\n      return true;\n    }\n    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n  }\n  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n  function toPlainObject(value) {\n    return copyObject(value, keysIn(value));\n  }\n  function keysIn(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeysIn(object);\n  }\n  var merge = createAssigner(function (object, source, srcIndex) {\n    baseMerge(object, source, srcIndex);\n  });\n  function constant(value) {\n    return function () {\n      return value;\n    };\n  }\n  function identity(value) {\n    return value;\n  }\n  function stubFalse() {\n    return false;\n  }\n  module.exports = merge;\n})(lodash_merge, lodash_merge.exports);\nvar lodash_mergeExports = lodash_merge.exports;\nvar merge = /*@__PURE__*/getDefaultExportFromCjs(lodash_mergeExports);\nvar shim = {\n  exports: {}\n};\nvar useSyncExternalStoreShim_production_min = {};\nvar require$$2 = /*@__PURE__*/getAugmentedNamespace(compat_module);\nvar e = require$$2;\nfunction h(a, b) {\n  return a === b && (0 !== a || 1 / a === 1 / b) || a !== a && b !== b;\n}\nvar k = \"function\" === typeof Object.is ? Object.is : h,\n  l = e.useState,\n  m = e.useEffect,\n  n = e.useLayoutEffect,\n  p = e.useDebugValue;\nfunction q(a, b) {\n  var d = b(),\n    f = l({\n      inst: {\n        value: d,\n        getSnapshot: b\n      }\n    }),\n    c = f[0].inst,\n    g = f[1];\n  n(function () {\n    c.value = d;\n    c.getSnapshot = b;\n    r(c) && g({\n      inst: c\n    });\n  }, [a, d, b]);\n  m(function () {\n    r(c) && g({\n      inst: c\n    });\n    return a(function () {\n      r(c) && g({\n        inst: c\n      });\n    });\n  }, [a]);\n  p(d);\n  return d;\n}\nfunction r(a) {\n  var b = a.getSnapshot;\n  a = a.value;\n  try {\n    var d = b();\n    return !k(a, d);\n  } catch (f) {\n    return !0;\n  }\n}\nfunction t(a, b) {\n  return b();\n}\nvar u = \"undefined\" === typeof window || \"undefined\" === typeof window.document || \"undefined\" === typeof window.document.createElement ? t : q;\nuseSyncExternalStoreShim_production_min.useSyncExternalStore = void 0 !== e.useSyncExternalStore ? e.useSyncExternalStore : u;\n{\n  shim.exports = useSyncExternalStoreShim_production_min;\n}\nvar shimExports = shim.exports;\nvar SWRGlobalState = new WeakMap();\nvar EMPTY_CACHE = {};\nvar INITIAL_CACHE = {};\nvar noop = function noop() {};\nvar UNDEFINED = noop();\nvar OBJECT = Object;\nvar isUndefined = function isUndefined(v) {\n  return v === UNDEFINED;\n};\nvar isFunction = function isFunction(v) {\n  return typeof v == 'function';\n};\nvar mergeObjects = function mergeObjects(a, b) {\n  return _objectSpread(_objectSpread({}, a), b);\n};\nvar STR_UNDEFINED = 'undefined';\nvar isWindowDefined = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) != STR_UNDEFINED;\nvar isDocumentDefined = (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) != STR_UNDEFINED;\nvar hasRequestAnimationFrame = function hasRequestAnimationFrame() {\n  return isWindowDefined && _typeof(window['requestAnimationFrame']) != STR_UNDEFINED;\n};\nvar createCacheHelper = function createCacheHelper(cache, key) {\n  var state = SWRGlobalState.get(cache);\n  return [function () {\n    return cache.get(key) || EMPTY_CACHE;\n  }, function (info) {\n    if (!isUndefined(key)) {\n      var prev = cache.get(key);\n      if (!(key in INITIAL_CACHE)) {\n        INITIAL_CACHE[key] = prev;\n      }\n      state[5](key, mergeObjects(prev, info), prev || EMPTY_CACHE);\n    }\n  }, state[6], function () {\n    if (!isUndefined(key)) {\n      if (key in INITIAL_CACHE) return INITIAL_CACHE[key];\n    }\n    return cache.get(key) || EMPTY_CACHE;\n  }];\n};\nvar table = new WeakMap();\nvar counter = 0;\nvar stableHash = function stableHash(arg) {\n  var type = _typeof(arg);\n  var constructor = arg && arg.constructor;\n  var isDate = constructor == Date;\n  var result;\n  var index;\n  if (OBJECT(arg) === arg && !isDate && constructor != RegExp) {\n    result = table.get(arg);\n    if (result) return result;\n    result = ++counter + '~';\n    table.set(arg, result);\n    if (constructor == Array) {\n      result = '@';\n      for (index = 0; index < arg.length; index++) {\n        result += stableHash(arg[index]) + ',';\n      }\n      table.set(arg, result);\n    }\n    if (constructor == OBJECT) {\n      result = '#';\n      var keys = OBJECT.keys(arg).sort();\n      while (!isUndefined(index = keys.pop())) {\n        if (!isUndefined(arg[index])) {\n          result += index + ':' + stableHash(arg[index]) + ',';\n        }\n      }\n      table.set(arg, result);\n    }\n  } else {\n    result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;\n  }\n  return result;\n};\nvar online = true;\nvar isOnline = function isOnline() {\n  return online;\n};\nvar _ref = isWindowDefined && window.addEventListener ? [window.addEventListener.bind(window), window.removeEventListener.bind(window)] : [noop, noop],\n  _ref2 = _slicedToArray(_ref, 2),\n  onWindowEvent = _ref2[0],\n  offWindowEvent = _ref2[1];\nvar isVisible = function isVisible() {\n  var visibilityState = isDocumentDefined && document.visibilityState;\n  return isUndefined(visibilityState) || visibilityState !== 'hidden';\n};\nvar initFocus = function initFocus(callback) {\n  if (isDocumentDefined) {\n    document.addEventListener('visibilitychange', callback);\n  }\n  onWindowEvent('focus', callback);\n  return function () {\n    if (isDocumentDefined) {\n      document.removeEventListener('visibilitychange', callback);\n    }\n    offWindowEvent('focus', callback);\n  };\n};\nvar initReconnect = function initReconnect(callback) {\n  var onOnline = function onOnline() {\n    online = true;\n    callback();\n  };\n  var onOffline = function onOffline() {\n    online = false;\n  };\n  onWindowEvent('online', onOnline);\n  onWindowEvent('offline', onOffline);\n  return function () {\n    offWindowEvent('online', onOnline);\n    offWindowEvent('offline', onOffline);\n  };\n};\nvar preset = {\n  isOnline: isOnline,\n  isVisible: isVisible\n};\nvar defaultConfigOptions = {\n  initFocus: initFocus,\n  initReconnect: initReconnect\n};\nvar IS_REACT_LEGACY = !wn.useId;\nvar IS_SERVER = !isWindowDefined || 'Deno' in window;\nvar rAF = function rAF(f) {\n  return hasRequestAnimationFrame() ? window['requestAnimationFrame'](f) : setTimeout(f, 1);\n};\nvar useIsomorphicLayoutEffect = IS_SERVER ? p$3 : y$2;\nvar navigatorConnection = typeof navigator !== 'undefined' && navigator.connection;\nvar slowConnection = !IS_SERVER && navigatorConnection && (['slow-2g', '2g'].includes(navigatorConnection.effectiveType) || navigatorConnection.saveData);\nvar serialize = function serialize(key) {\n  if (isFunction(key)) {\n    try {\n      key = key();\n    } catch (err) {\n      key = '';\n    }\n  }\n  var args = key;\n  key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';\n  return [key, args];\n};\nvar __timestamp = 0;\nvar getTimestamp = function getTimestamp() {\n  return ++__timestamp;\n};\nvar FOCUS_EVENT = 0;\nvar RECONNECT_EVENT = 1;\nvar MUTATE_EVENT = 2;\nvar ERROR_REVALIDATE_EVENT = 3;\nvar constants = {\n  __proto__: null,\n  FOCUS_EVENT: FOCUS_EVENT,\n  RECONNECT_EVENT: RECONNECT_EVENT,\n  MUTATE_EVENT: MUTATE_EVENT,\n  ERROR_REVALIDATE_EVENT: ERROR_REVALIDATE_EVENT\n};\nfunction internalMutate() {\n  return _internalMutate.apply(this, arguments);\n}\nfunction _internalMutate() {\n  _internalMutate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    var _len,\n      args,\n      _key2,\n      cache,\n      _key,\n      _data,\n      _opts,\n      options,\n      populateCache,\n      rollbackOnErrorOption,\n      optimisticData,\n      revalidate,\n      rollbackOnError,\n      throwOnError,\n      keyFilter,\n      matchedKeys,\n      it,\n      keyIt,\n      key,\n      mutateByKey,\n      _mutateByKey,\n      _args3 = arguments;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _mutateByKey = function _mutateByKey3() {\n            _mutateByKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_k) {\n              var _serialize3, _serialize4, key, _createCacheHelper3, _createCacheHelper4, get, set, _SWRGlobalState$get5, _SWRGlobalState$get6, EVENT_REVALIDATORS, MUTATION, FETCH, revalidators, startRevalidate, data, error, beforeMutationTs, hasOptimisticData, state, displayedData, currentData, committedData, res;\n              return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _serialize3 = serialize(_k), _serialize4 = _slicedToArray(_serialize3, 1), key = _serialize4[0];\n                    if (key) {\n                      _context2.next = 3;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\");\n                  case 3:\n                    _createCacheHelper3 = createCacheHelper(cache, key), _createCacheHelper4 = _slicedToArray(_createCacheHelper3, 2), get = _createCacheHelper4[0], set = _createCacheHelper4[1];\n                    _SWRGlobalState$get5 = SWRGlobalState.get(cache), _SWRGlobalState$get6 = _slicedToArray(_SWRGlobalState$get5, 3), EVENT_REVALIDATORS = _SWRGlobalState$get6[0], MUTATION = _SWRGlobalState$get6[1], FETCH = _SWRGlobalState$get6[2];\n                    revalidators = EVENT_REVALIDATORS[key];\n                    startRevalidate = function startRevalidate() {\n                      if (revalidate) {\n                        delete FETCH[key];\n                        if (revalidators && revalidators[0]) {\n                          return revalidators[0](MUTATE_EVENT).then(function () {\n                            return get().data;\n                          });\n                        }\n                      }\n                      return get().data;\n                    };\n                    if (!(args.length < 3)) {\n                      _context2.next = 9;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\", startRevalidate());\n                  case 9:\n                    data = _data;\n                    beforeMutationTs = getTimestamp();\n                    MUTATION[key] = [beforeMutationTs, 0];\n                    hasOptimisticData = !isUndefined(optimisticData);\n                    state = get();\n                    displayedData = state.data;\n                    currentData = state._c;\n                    committedData = isUndefined(currentData) ? displayedData : currentData;\n                    if (hasOptimisticData) {\n                      optimisticData = isFunction(optimisticData) ? optimisticData(committedData) : optimisticData;\n                      set({\n                        data: optimisticData,\n                        _c: committedData\n                      });\n                    }\n                    if (isFunction(data)) {\n                      try {\n                        data = data(committedData);\n                      } catch (err) {\n                        error = err;\n                      }\n                    }\n                    if (!(data && isFunction(data.then))) {\n                      _context2.next = 30;\n                      break;\n                    }\n                    _context2.next = 22;\n                    return data[\"catch\"](function (err) {\n                      error = err;\n                    });\n                  case 22:\n                    data = _context2.sent;\n                    if (!(beforeMutationTs !== MUTATION[key][0])) {\n                      _context2.next = 29;\n                      break;\n                    }\n                    if (!error) {\n                      _context2.next = 26;\n                      break;\n                    }\n                    throw error;\n                  case 26:\n                    return _context2.abrupt(\"return\", data);\n                  case 29:\n                    if (error && hasOptimisticData && rollbackOnError(error)) {\n                      populateCache = true;\n                      data = committedData;\n                      set({\n                        data: data,\n                        _c: UNDEFINED\n                      });\n                    }\n                  case 30:\n                    if (populateCache) {\n                      if (!error) {\n                        if (isFunction(populateCache)) {\n                          data = populateCache(data, committedData);\n                        }\n                        set({\n                          data: data,\n                          _c: UNDEFINED\n                        });\n                      }\n                    }\n                    MUTATION[key][1] = getTimestamp();\n                    _context2.next = 34;\n                    return startRevalidate();\n                  case 34:\n                    res = _context2.sent;\n                    set({\n                      _c: UNDEFINED\n                    });\n                    if (!error) {\n                      _context2.next = 40;\n                      break;\n                    }\n                    if (!throwOnError) {\n                      _context2.next = 39;\n                      break;\n                    }\n                    throw error;\n                  case 39:\n                    return _context2.abrupt(\"return\");\n                  case 40:\n                    return _context2.abrupt(\"return\", populateCache ? res : data);\n                  case 41:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            return _mutateByKey.apply(this, arguments);\n          };\n          mutateByKey = function _mutateByKey2(_x2) {\n            return _mutateByKey.apply(this, arguments);\n          };\n          for (_len = _args3.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n            args[_key2] = _args3[_key2];\n          }\n          cache = args[0], _key = args[1], _data = args[2], _opts = args[3];\n          options = mergeObjects({\n            populateCache: true,\n            throwOnError: true\n          }, typeof _opts === 'boolean' ? {\n            revalidate: _opts\n          } : _opts || {});\n          populateCache = options.populateCache;\n          rollbackOnErrorOption = options.rollbackOnError;\n          optimisticData = options.optimisticData;\n          revalidate = options.revalidate !== false;\n          rollbackOnError = function rollbackOnError(error) {\n            return typeof rollbackOnErrorOption === 'function' ? rollbackOnErrorOption(error) : rollbackOnErrorOption !== false;\n          };\n          throwOnError = options.throwOnError;\n          if (!isFunction(_key)) {\n            _context3.next = 17;\n            break;\n          }\n          keyFilter = _key;\n          matchedKeys = [];\n          it = cache.keys();\n          for (keyIt = it.next(); !keyIt.done; keyIt = it.next()) {\n            key = keyIt.value;\n            if (!/^\\$(inf|sub)\\$/.test(key) && keyFilter(cache.get(key)._k)) {\n              matchedKeys.push(key);\n            }\n          }\n          return _context3.abrupt(\"return\", Promise.all(matchedKeys.map(mutateByKey)));\n        case 17:\n          return _context3.abrupt(\"return\", mutateByKey(_key));\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _internalMutate.apply(this, arguments);\n}\nvar revalidateAllKeys = function revalidateAllKeys(revalidators, type) {\n  for (var key in revalidators) {\n    if (revalidators[key][0]) revalidators[key][0](type);\n  }\n};\nvar initCache = function initCache(provider, options) {\n  if (!SWRGlobalState.has(provider)) {\n    var opts = mergeObjects(defaultConfigOptions, options);\n    var EVENT_REVALIDATORS = {};\n    var _mutate = internalMutate.bind(UNDEFINED, provider);\n    var unmount = noop;\n    var subscriptions = {};\n    var subscribe = function subscribe(key, callback) {\n      var subs = subscriptions[key] || [];\n      subscriptions[key] = subs;\n      subs.push(callback);\n      return function () {\n        return subs.splice(subs.indexOf(callback), 1);\n      };\n    };\n    var setter = function setter(key, value, prev) {\n      provider.set(key, value);\n      var subs = subscriptions[key];\n      if (subs) {\n        var _iterator = _createForOfIteratorHelper(subs),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _fn = _step.value;\n            _fn(value, prev);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    };\n    var initProvider = function initProvider() {\n      if (!SWRGlobalState.has(provider)) {\n        SWRGlobalState.set(provider, [EVENT_REVALIDATORS, {}, {}, {}, _mutate, setter, subscribe]);\n        if (!IS_SERVER) {\n          var releaseFocus = opts.initFocus(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, FOCUS_EVENT)));\n          var releaseReconnect = opts.initReconnect(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, RECONNECT_EVENT)));\n          unmount = function unmount() {\n            releaseFocus && releaseFocus();\n            releaseReconnect && releaseReconnect();\n            SWRGlobalState[\"delete\"](provider);\n          };\n        }\n      }\n    };\n    initProvider();\n    return [provider, _mutate, initProvider, unmount];\n  }\n  return [provider, SWRGlobalState.get(provider)[4]];\n};\nvar onErrorRetry = function onErrorRetry(_, __, config, revalidate, opts) {\n  var maxRetryCount = config.errorRetryCount;\n  var currentRetryCount = opts.retryCount;\n  var timeout = ~~((Math.random() + 0.5) * (1 << (currentRetryCount < 8 ? currentRetryCount : 8))) * config.errorRetryInterval;\n  if (!isUndefined(maxRetryCount) && currentRetryCount > maxRetryCount) {\n    return;\n  }\n  setTimeout(revalidate, timeout, opts);\n};\nvar compare = function compare(currentData, newData) {\n  return stableHash(currentData) == stableHash(newData);\n};\nvar _initCache = initCache(new Map()),\n  _initCache2 = _slicedToArray(_initCache, 2),\n  cache = _initCache2[0],\n  mutate = _initCache2[1];\nvar defaultConfig = mergeObjects({\n  onLoadingSlow: noop,\n  onSuccess: noop,\n  onError: noop,\n  onErrorRetry: onErrorRetry,\n  onDiscarded: noop,\n  revalidateOnFocus: true,\n  revalidateOnReconnect: true,\n  revalidateIfStale: true,\n  shouldRetryOnError: true,\n  errorRetryInterval: slowConnection ? 10000 : 5000,\n  focusThrottleInterval: 5 * 1000,\n  dedupingInterval: 2 * 1000,\n  loadingTimeout: slowConnection ? 5000 : 3000,\n  compare: compare,\n  isPaused: function isPaused() {\n    return false;\n  },\n  cache: cache,\n  mutate: mutate,\n  fallback: {}\n}, preset);\nvar mergeConfigs = function mergeConfigs(a, b) {\n  var v = mergeObjects(a, b);\n  if (b) {\n    var u1 = a.use,\n      f1 = a.fallback;\n    var u2 = b.use,\n      f2 = b.fallback;\n    if (u1 && u2) {\n      v.use = u1.concat(u2);\n    }\n    if (f1 && f2) {\n      v.fallback = mergeObjects(f1, f2);\n    }\n  }\n  return v;\n};\nvar SWRConfigContext = F$4({});\nvar enableDevtools = isWindowDefined && window.__SWR_DEVTOOLS_USE__;\nvar use = enableDevtools ? window.__SWR_DEVTOOLS_USE__ : [];\nvar setupDevTools = function setupDevTools() {\n  if (enableDevtools) {\n    window.__SWR_DEVTOOLS_REACT__ = wn;\n  }\n};\nvar normalize = function normalize(args) {\n  return isFunction(args[1]) ? [args[0], args[1], args[2] || {}] : [args[0], null, (args[1] === null ? args[2] : args[1]) || {}];\n};\nvar useSWRConfig = function useSWRConfig() {\n  return mergeObjects(defaultConfig, q$5(SWRConfigContext));\n};\nvar middleware = function middleware(useSWRNext) {\n  return function (key_, fetcher_, config) {\n    var fetcher = fetcher_ && function () {\n      var key = serialize(key_)[0];\n      var _SWRGlobalState$get = SWRGlobalState.get(cache),\n        _SWRGlobalState$get2 = _slicedToArray(_SWRGlobalState$get, 4),\n        PRELOAD = _SWRGlobalState$get2[3];\n      var req = PRELOAD[key];\n      if (req) {\n        delete PRELOAD[key];\n        return req;\n      }\n      return fetcher_.apply(void 0, arguments);\n    };\n    return useSWRNext(key_, fetcher, config);\n  };\n};\nvar BUILT_IN_MIDDLEWARE = use.concat(middleware);\nvar withArgs = function withArgs(hook) {\n  return function useSWRArgs() {\n    var fallbackConfig = useSWRConfig();\n    for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    var _normalize = normalize(args),\n      _normalize2 = _slicedToArray(_normalize, 3),\n      key = _normalize2[0],\n      fn = _normalize2[1],\n      _config = _normalize2[2];\n    var config = mergeConfigs(fallbackConfig, _config);\n    var next = hook;\n    var use = config.use;\n    var middleware = (use || []).concat(BUILT_IN_MIDDLEWARE);\n    for (var _i = middleware.length; _i--;) {\n      next = middleware[_i](next);\n    }\n    return next(key, fn || config.fetcher || null, config);\n  };\n};\nvar useStateWithDeps = function useStateWithDeps(state) {\n  var rerender = h$4({})[1];\n  var unmountedRef = _$1(false);\n  var stateRef = _$1(state);\n  var stateDependenciesRef = _$1({\n    data: false,\n    error: false,\n    isValidating: false\n  });\n  var setState = T$2(function (payload) {\n    var shouldRerender = false;\n    var currentState = stateRef.current;\n    for (var _2 in payload) {\n      var _k2 = _2;\n      if (currentState[_k2] !== payload[_k2]) {\n        currentState[_k2] = payload[_k2];\n        if (stateDependenciesRef.current[_k2]) {\n          shouldRerender = true;\n        }\n      }\n    }\n    if (shouldRerender && !unmountedRef.current) {\n      if (IS_REACT_LEGACY) {\n        rerender({});\n      } else {\n        wn.startTransition(function () {\n          return rerender({});\n        });\n      }\n    }\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    unmountedRef.current = false;\n    return function () {\n      unmountedRef.current = true;\n    };\n  });\n  return [stateRef, stateDependenciesRef.current, setState];\n};\nvar subscribeCallback = function subscribeCallback(key, callbacks, callback) {\n  var keyedRevalidators = callbacks[key] || (callbacks[key] = []);\n  keyedRevalidators.push(callback);\n  return function () {\n    var index = keyedRevalidators.indexOf(callback);\n    if (index >= 0) {\n      keyedRevalidators[index] = keyedRevalidators[keyedRevalidators.length - 1];\n      keyedRevalidators.pop();\n    }\n  };\n};\nvar withMiddleware = function withMiddleware(useSWR, middleware) {\n  return function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    var _normalize3 = normalize(args),\n      _normalize4 = _slicedToArray(_normalize3, 3),\n      key = _normalize4[0],\n      fn = _normalize4[1],\n      config = _normalize4[2];\n    var uses = (config.use || []).concat(middleware);\n    return useSWR(key, fn, _objectSpread(_objectSpread({}, config), {}, {\n      use: uses\n    }));\n  };\n};\nsetupDevTools();\nvar WITH_DEDUPE = {\n  dedupe: true\n};\nvar useSWRHandler = function useSWRHandler(_key, fetcher, config) {\n  var cache = config.cache,\n    compare = config.compare,\n    suspense = config.suspense,\n    fallbackData = config.fallbackData,\n    revalidateOnMount = config.revalidateOnMount,\n    revalidateIfStale = config.revalidateIfStale,\n    refreshInterval = config.refreshInterval,\n    refreshWhenHidden = config.refreshWhenHidden,\n    refreshWhenOffline = config.refreshWhenOffline,\n    keepPreviousData = config.keepPreviousData;\n  var _SWRGlobalState$get3 = SWRGlobalState.get(cache),\n    _SWRGlobalState$get4 = _slicedToArray(_SWRGlobalState$get3, 3),\n    EVENT_REVALIDATORS = _SWRGlobalState$get4[0],\n    MUTATION = _SWRGlobalState$get4[1],\n    FETCH = _SWRGlobalState$get4[2];\n  var _serialize = serialize(_key),\n    _serialize2 = _slicedToArray(_serialize, 2),\n    key = _serialize2[0],\n    fnArg = _serialize2[1];\n  var initialMountedRef = _$1(false);\n  var unmountedRef = _$1(false);\n  var keyRef = _$1(key);\n  var fetcherRef = _$1(fetcher);\n  var configRef = _$1(config);\n  var getConfig = function getConfig() {\n    return configRef.current;\n  };\n  var isActive = function isActive() {\n    return getConfig().isVisible() && getConfig().isOnline();\n  };\n  var _createCacheHelper = createCacheHelper(cache, key),\n    _createCacheHelper2 = _slicedToArray(_createCacheHelper, 4),\n    getCache = _createCacheHelper2[0],\n    setCache = _createCacheHelper2[1],\n    subscribeCache = _createCacheHelper2[2],\n    getInitialCache = _createCacheHelper2[3];\n  var stateDependencies = _$1({}).current;\n  var fallback = isUndefined(fallbackData) ? config.fallback[key] : fallbackData;\n  var isEqual = function isEqual(prev, current) {\n    var equal = true;\n    for (var _3 in stateDependencies) {\n      var _t = _3;\n      if (_t === 'data') {\n        if (!compare(current[_t], prev[_t])) {\n          if (isUndefined(prev[_t])) {\n            if (!compare(current[_t], returnedData)) {\n              equal = false;\n            }\n          } else {\n            equal = false;\n          }\n        }\n      } else {\n        if (current[_t] !== prev[_t]) {\n          equal = false;\n        }\n      }\n    }\n    return equal;\n  };\n  var getSnapshot = F$3(function () {\n    var shouldStartRequest = function () {\n      if (!key) return false;\n      if (!fetcher) return false;\n      if (!isUndefined(revalidateOnMount)) return revalidateOnMount;\n      if (getConfig().isPaused()) return false;\n      if (suspense) return false;\n      if (!isUndefined(revalidateIfStale)) return revalidateIfStale;\n      return true;\n    }();\n    var getSelectedCache = function getSelectedCache(state) {\n      var snapshot = mergeObjects(state);\n      delete snapshot._k;\n      if (!shouldStartRequest) {\n        return snapshot;\n      }\n      return _objectSpread({\n        isValidating: true,\n        isLoading: true\n      }, snapshot);\n    };\n    var cachedData = getCache();\n    var initialData = getInitialCache();\n    var clientSnapshot = getSelectedCache(cachedData);\n    var serverSnapshot = cachedData === initialData ? clientSnapshot : getSelectedCache(initialData);\n    var memorizedSnapshot = clientSnapshot;\n    return [function () {\n      var newSnapshot = getSelectedCache(getCache());\n      return isEqual(newSnapshot, memorizedSnapshot) ? memorizedSnapshot : memorizedSnapshot = newSnapshot;\n    }, function () {\n      return serverSnapshot;\n    }];\n  }, [cache, key]);\n  var cached = shimExports.useSyncExternalStore(T$2(function (callback) {\n    return subscribeCache(key, function (current, prev) {\n      if (!isEqual(prev, current)) callback();\n    });\n  }, [cache, key]), getSnapshot[0], getSnapshot[1]);\n  var isInitialMount = !initialMountedRef.current;\n  var hasRevalidator = EVENT_REVALIDATORS[key] && EVENT_REVALIDATORS[key].length > 0;\n  var cachedData = cached.data;\n  var data = isUndefined(cachedData) ? fallback : cachedData;\n  var error = cached.error;\n  var laggyDataRef = _$1(data);\n  var returnedData = keepPreviousData ? isUndefined(cachedData) ? laggyDataRef.current : cachedData : data;\n  var shouldDoInitialRevalidation = function () {\n    if (hasRevalidator && !isUndefined(error)) return false;\n    if (isInitialMount && !isUndefined(revalidateOnMount)) return revalidateOnMount;\n    if (getConfig().isPaused()) return false;\n    if (suspense) return isUndefined(data) ? false : revalidateIfStale;\n    return isUndefined(data) || revalidateIfStale;\n  }();\n  var defaultValidatingState = !!(key && fetcher && isInitialMount && shouldDoInitialRevalidation);\n  var isValidating = isUndefined(cached.isValidating) ? defaultValidatingState : cached.isValidating;\n  var isLoading = isUndefined(cached.isLoading) ? defaultValidatingState : cached.isLoading;\n  var revalidate = T$2( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(revalidateOpts) {\n      var currentFetcher, newData, startAt, loading, opts, shouldStartNewRequest, callbackSafeguard, finalState, finishRequestAndUpdateState, cleanupState, initialState, _FETCH$key, mutationInfo, cacheData, currentConfig, shouldRetryOnError;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            currentFetcher = fetcherRef.current;\n            if (!(!key || !currentFetcher || unmountedRef.current || getConfig().isPaused())) {\n              _context.next = 3;\n              break;\n            }\n            return _context.abrupt(\"return\", false);\n          case 3:\n            loading = true;\n            opts = revalidateOpts || {};\n            shouldStartNewRequest = !FETCH[key] || !opts.dedupe;\n            callbackSafeguard = function callbackSafeguard() {\n              if (IS_REACT_LEGACY) {\n                return !unmountedRef.current && key === keyRef.current && initialMountedRef.current;\n              }\n              return key === keyRef.current;\n            };\n            finalState = {\n              isValidating: false,\n              isLoading: false\n            };\n            finishRequestAndUpdateState = function finishRequestAndUpdateState() {\n              setCache(finalState);\n            };\n            cleanupState = function cleanupState() {\n              var requestInfo = FETCH[key];\n              if (requestInfo && requestInfo[1] === startAt) {\n                delete FETCH[key];\n              }\n            };\n            initialState = {\n              isValidating: true\n            };\n            if (isUndefined(getCache().data)) {\n              initialState.isLoading = true;\n            }\n            _context.prev = 12;\n            if (shouldStartNewRequest) {\n              setCache(initialState);\n              if (config.loadingTimeout && isUndefined(getCache().data)) {\n                setTimeout(function () {\n                  if (loading && callbackSafeguard()) {\n                    getConfig().onLoadingSlow(key, config);\n                  }\n                }, config.loadingTimeout);\n              }\n              FETCH[key] = [currentFetcher(fnArg), getTimestamp()];\n            }\n            _FETCH$key = _slicedToArray(FETCH[key], 2);\n            newData = _FETCH$key[0];\n            startAt = _FETCH$key[1];\n            _context.next = 19;\n            return newData;\n          case 19:\n            newData = _context.sent;\n            if (shouldStartNewRequest) {\n              setTimeout(cleanupState, config.dedupingInterval);\n            }\n            if (!(!FETCH[key] || FETCH[key][1] !== startAt)) {\n              _context.next = 24;\n              break;\n            }\n            if (shouldStartNewRequest) {\n              if (callbackSafeguard()) {\n                getConfig().onDiscarded(key);\n              }\n            }\n            return _context.abrupt(\"return\", false);\n          case 24:\n            finalState.error = UNDEFINED;\n            mutationInfo = MUTATION[key];\n            if (!(!isUndefined(mutationInfo) && (startAt <= mutationInfo[0] || startAt <= mutationInfo[1] || mutationInfo[1] === 0))) {\n              _context.next = 30;\n              break;\n            }\n            finishRequestAndUpdateState();\n            if (shouldStartNewRequest) {\n              if (callbackSafeguard()) {\n                getConfig().onDiscarded(key);\n              }\n            }\n            return _context.abrupt(\"return\", false);\n          case 30:\n            cacheData = getCache().data;\n            finalState.data = compare(cacheData, newData) ? cacheData : newData;\n            if (shouldStartNewRequest) {\n              if (callbackSafeguard()) {\n                getConfig().onSuccess(newData, key, config);\n              }\n            }\n            _context.next = 41;\n            break;\n          case 35:\n            _context.prev = 35;\n            _context.t0 = _context[\"catch\"](12);\n            cleanupState();\n            currentConfig = getConfig();\n            shouldRetryOnError = currentConfig.shouldRetryOnError;\n            if (!currentConfig.isPaused()) {\n              finalState.error = _context.t0;\n              if (shouldStartNewRequest && callbackSafeguard()) {\n                currentConfig.onError(_context.t0, key, currentConfig);\n                if (shouldRetryOnError === true || isFunction(shouldRetryOnError) && shouldRetryOnError(_context.t0)) {\n                  if (isActive()) {\n                    currentConfig.onErrorRetry(_context.t0, key, currentConfig, function (_opts) {\n                      var revalidators = EVENT_REVALIDATORS[key];\n                      if (revalidators && revalidators[0]) {\n                        revalidators[0](constants.ERROR_REVALIDATE_EVENT, _opts);\n                      }\n                    }, {\n                      retryCount: (opts.retryCount || 0) + 1,\n                      dedupe: true\n                    });\n                  }\n                }\n              }\n            }\n          case 41:\n            loading = false;\n            finishRequestAndUpdateState();\n            return _context.abrupt(\"return\", true);\n          case 44:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[12, 35]]);\n    }));\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [key, cache]);\n  var boundMutate = T$2(function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key5 = 0; _key5 < _len4; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    return internalMutate.apply(void 0, [cache, keyRef.current].concat(args));\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    fetcherRef.current = fetcher;\n    configRef.current = config;\n    if (!isUndefined(cachedData)) {\n      laggyDataRef.current = cachedData;\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (!key) return;\n    var softRevalidate = revalidate.bind(UNDEFINED, WITH_DEDUPE);\n    var nextFocusRevalidatedAt = 0;\n    var onRevalidate = function onRevalidate(type) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (type == constants.FOCUS_EVENT) {\n        var now = Date.now();\n        if (getConfig().revalidateOnFocus && now > nextFocusRevalidatedAt && isActive()) {\n          nextFocusRevalidatedAt = now + getConfig().focusThrottleInterval;\n          softRevalidate();\n        }\n      } else if (type == constants.RECONNECT_EVENT) {\n        if (getConfig().revalidateOnReconnect && isActive()) {\n          softRevalidate();\n        }\n      } else if (type == constants.MUTATE_EVENT) {\n        return revalidate();\n      } else if (type == constants.ERROR_REVALIDATE_EVENT) {\n        return revalidate(opts);\n      }\n      return;\n    };\n    var unsubEvents = subscribeCallback(key, EVENT_REVALIDATORS, onRevalidate);\n    unmountedRef.current = false;\n    keyRef.current = key;\n    initialMountedRef.current = true;\n    setCache({\n      _k: fnArg\n    });\n    if (shouldDoInitialRevalidation) {\n      if (isUndefined(data) || IS_SERVER) {\n        softRevalidate();\n      } else {\n        rAF(softRevalidate);\n      }\n    }\n    return function () {\n      unmountedRef.current = true;\n      unsubEvents();\n    };\n  }, [key]);\n  useIsomorphicLayoutEffect(function () {\n    var timer;\n    function next() {\n      var interval = isFunction(refreshInterval) ? refreshInterval(data) : refreshInterval;\n      if (interval && timer !== -1) {\n        timer = setTimeout(execute, interval);\n      }\n    }\n    function execute() {\n      if (!getCache().error && (refreshWhenHidden || getConfig().isVisible()) && (refreshWhenOffline || getConfig().isOnline())) {\n        revalidate(WITH_DEDUPE).then(next);\n      } else {\n        next();\n      }\n    }\n    next();\n    return function () {\n      if (timer) {\n        clearTimeout(timer);\n        timer = -1;\n      }\n    };\n  }, [refreshInterval, refreshWhenHidden, refreshWhenOffline, key]);\n  x$4(returnedData);\n  if (suspense && isUndefined(data) && key) {\n    if (!IS_REACT_LEGACY && IS_SERVER) {\n      throw new Error('Fallback data is required when using suspense in SSR.');\n    }\n    fetcherRef.current = fetcher;\n    configRef.current = config;\n    unmountedRef.current = false;\n    throw isUndefined(error) ? revalidate(WITH_DEDUPE) : error;\n  }\n  return {\n    mutate: boundMutate,\n    get data() {\n      stateDependencies.data = true;\n      return returnedData;\n    },\n    get error() {\n      stateDependencies.error = true;\n      return error;\n    },\n    get isValidating() {\n      stateDependencies.isValidating = true;\n      return isValidating;\n    },\n    get isLoading() {\n      stateDependencies.isLoading = true;\n      return isLoading;\n    }\n  };\n};\nvar useSWR = withArgs(useSWRHandler);\nvar extractErrorMessage = function extractErrorMessage(error) {\n  if (error && _typeof(error) === 'object') {\n    if ('error_message' in error && typeof error.error_message === 'string') {\n      return error.error_message;\n    }\n    if ('message' in error && typeof error.message === 'string') {\n      return error.message;\n    }\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvZXh0cmFjdEVycm9yTWVzc2FnZS1qaXBTMm5OTi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQ0FBaUMsY0FBYyw0TUFBNE0sYUFBYSxhQUFhLGdHQUFnRyxpQkFBaUIsK0NBQStDLGtIQUFrSCwyQkFBMkIscUNBQXFDLDBEQUEwRCxXQUFXLE1BQU0sU0FBUyxTQUFTLFlBQVksb0NBQW9DLHNCQUFzQiw0QkFBNEIseUhBQXlILHlCQUF5QixrQ0FBa0MsUUFBUSw2QkFBNkIsTUFBTSxTQUFTLHVDQUF1QyxZQUFZLFNBQVMsNkJBQTZCLGVBQWUsMEZBQTBGLHdCQUF3QixnQ0FBZ0MseUNBQXlDLFlBQVksMkJBQTJCLGNBQWMsR0FBRywwREFBMEQseUNBQXlDLHVGQUF1RixvQ0FBb0MsbURBQW1ELDRCQUE0Qiw0QkFBNEIsSUFBSSxLQUFLLCtCQUErQiw4QkFBOEIsOEJBQThCLDBCQUEwQiw0QkFBNEIsc0dBQXNHLDBCQUEwQixpQkFBaUIsMkJBQTJCLHFDQUFxQyxvQkFBb0IsaUJBQWlCLGtDQUFrQyxLQUFLLFlBQVksT0FBTyxxQkFBcUIsOEJBQThCLHdDQUF3QywrQkFBK0IscUJBQXFCLEtBQUssaUhBQWlILEtBQUsscUNBQXFDLFdBQVcseUJBQXlCLDhEQUE4RCxlQUFlLDRCQUE0QixTQUFTLHdCQUF3Qiw4QkFBOEIsSUFBSSxvQkFBb0IsU0FBUyxtQ0FBbUMsU0FBUyx1QkFBdUIsY0FBYyxrREFBa0QsaUNBQWlDLGlDQUFpQyw4QkFBOEIseURBQXlELE9BQU8sMkJBQTJCLDJCQUEyQiwrQ0FBK0MsU0FBUyxnQ0FBZ0MseUVBQXlFLHFDQUFxQyxxQ0FBcUMsNlJBQTZSLHdDQUF3Qyx3RkFBd0YsZUFBZSxrUUFBa1EsMkJBQTJCLFVBQVUsZ0JBQWdCLDhHQUE4Ryw0QkFBNEIsNEJBQTRCLHFEQUFxRCxzQkFB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Q0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUNBQWlDLFNBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyx5Q0FBeUM7QUFDNUM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEdBQUcsY0FBYztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0hBQStILEVBQUU7QUFDakksV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixJQUFJO0FBQzdCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEtBQTBLLE1BQU07QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE1BQU07QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlDQUFpQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFVBQVU7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFVBQVU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFVBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QiwwQkFBMEIsT0FBTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLHFDQUFxQyx5Q0FBeUM7QUFDaEs7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaU1BQWlNO0FBQ2pNO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsOEJBQThCLE9BQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZ0VBQWdFLE9BQU87QUFDdkg7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsRUFBRTtBQUMzQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0VBQWdFO0FBQ3pFO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLE1BQU07QUFDTixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGNBQWM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4QkFBOEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJLElBQUk7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsZ0VBQWdFO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGVBQWU7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxLQUFLO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixRQUFRO0FBQ1I7QUFDQSw0QkFBNEI7QUFDNUIsU0FBUztBQUNUO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsZUFBZTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMkVBQTJFLGVBQWU7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ21CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtbC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvZXh0cmFjdEVycm9yTWVzc2FnZS1qaXBTMm5OTi5qcz8wMTQ2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZTsgfTsgdmFyIHQsIGUgPSB7fSwgciA9IE9iamVjdC5wcm90b3R5cGUsIG4gPSByLmhhc093blByb3BlcnR5LCBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7IHRbZV0gPSByLnZhbHVlOyB9LCBpID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgYSA9IGkuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIiwgdSA9IGkudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogciwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgdFtlXTsgfSB0cnkgeyBkZWZpbmUoe30sIFwiXCIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpIH0pLCBhOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiB0LmNhbGwoZSwgcikgfTsgfSBjYXRjaCAodCkgeyByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsIGYgPSBcImV4ZWN1dGluZ1wiLCBzID0gXCJjb21wbGV0ZWRcIiwgeSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIHAgPSB7fTsgZGVmaW5lKHAsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTsgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpOyB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkgeyBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkgeyBmdW5jdGlvbiBpbnZva2UociwgbywgaSwgYSkgeyB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pOyBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHsgdmFyIHUgPSBjLmFyZywgaCA9IHUudmFsdWU7IHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJuZXh0XCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSkgOiBlLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbiAodCkgeyB1LnZhbHVlID0gdCwgaSh1KTsgfSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KTsgfSBhKGMuYXJnKTsgfSB2YXIgcjsgbyh0aGlzLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0gJiYgKHIubWV0aG9kID0gXCJyZXR1cm5cIiwgci5hcmcgPSB0LCBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpLCBcInRocm93XCIgPT09IHIubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBuICYmIChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBuICsgXCInIG1ldGhvZFwiKSksIHk7IHZhciBpID0gdHJ5Q2F0Y2gobywgZS5pdGVyYXRvciwgci5hcmcpOyBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gci5tZXRob2QgJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksIHIuZGVsZWdhdGUgPSBudWxsLCB5KSA6IGEgOiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCByLmRlbGVnYXRlID0gbnVsbCwgeSk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB7IHRyeUxvYzogdFswXSB9OyAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkgeyB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOyB9IGZ1bmN0aW9uIENvbnRleHQodCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgXCJcIiA9PT0gZSkgeyB2YXIgciA9IGVbYV07IGlmIChyKSByZXR1cm4gci5jYWxsKGUpOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLm5leHQpIHJldHVybiBlOyBpZiAoIWlzTmFOKGUubGVuZ3RoKSkgeyB2YXIgbyA9IC0xLCBpID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsrbyA8IGUubGVuZ3RoOykgaWYgKG4uY2FsbChlLCBvKSkgcmV0dXJuIG5leHQudmFsdWUgPSBlW29dLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIGkubmV4dCA9IGk7IH0gfSB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvKGcsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gISFlICYmIChlID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDsgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB7IF9fYXdhaXQ6IHQgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZS5hc3luYyA9IGZ1bmN0aW9uICh0LCByLCBuLCBvLCBpKSB7IHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpOyB2YXIgYSA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAodCwgciwgbiwgbyksIGkpOyByZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZG9uZSA/IHQudmFsdWUgOiBhLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSwgZGVmaW5lKGcsIHUsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoZywgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCBlLmtleXMgPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IE9iamVjdCh0KSwgciA9IFtdOyBmb3IgKHZhciBuIGluIGUpIHIucHVzaChuKTsgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgci5sZW5ndGg7KSB7IHZhciB0ID0gci5wb3AoKTsgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGUudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhZSkgZm9yICh2YXIgciBpbiB0aGlzKSBcInRcIiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihlKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGU7IHZhciByID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKG4sIG8pIHsgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IG4uY2FsbChpLCBcImNhdGNoTG9jXCIpLCB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTsgaWYgKGMgJiYgdSkgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCF1KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLnRyeUxvYyA9PT0gdCkgeyB2YXIgbiA9IHIuY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdCksIHk7IH0gfSwgZTsgfVxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgdGhyb3cgX2UyOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UzKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMzsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0W1wicmV0dXJuXCJdICYmICh1ID0gdFtcInJldHVyblwiXSgpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IFN0cmluZyhpKTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDsgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzczsgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikgeyBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTsgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTsgfTsgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpOyB9XG5mdW5jdGlvbiBfY29uc3RydWN0KHQsIGUsIHIpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IHZhciBvID0gW251bGxdOyBvLnB1c2guYXBwbHkobywgZSk7IHZhciBwID0gbmV3ICh0LmJpbmQuYXBwbHkodCwgbykpKCk7IHJldHVybiByICYmIF9zZXRQcm90b3R5cGVPZihwLCByLnByb3RvdHlwZSksIHA7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgdHJ5IHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCI7IH0gfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5pbXBvcnQgeyBPIGFzIE9BdXRoUHJvdmlkZXJzIH0gZnJvbSAnLi9pbnRlcm5hbC1ENU9xTHNQcy5qcyc7XG52YXIgbiQzLFxuICBsJDQsXG4gIHUkMyxcbiAgaSQxLFxuICBvJDEsXG4gIHIkNCxcbiAgZiQzLFxuICBlJDQsXG4gIGMkMyA9IHt9LFxuICBzJDEgPSBbXSxcbiAgYSQxID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaSxcbiAgaCQ1ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIHYkNChuLCBsKSB7XG4gIGZvciAodmFyIHUgaW4gbCkgblt1XSA9IGxbdV07XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gcCQ0KG4pIHtcbiAgdmFyIGwgPSBuLnBhcmVudE5vZGU7XG4gIGwgJiYgbC5yZW1vdmVDaGlsZChuKTtcbn1cbmZ1bmN0aW9uIHkkMyhsLCB1LCB0KSB7XG4gIHZhciBpLFxuICAgIG8sXG4gICAgcixcbiAgICBmID0ge307XG4gIGZvciAociBpbiB1KSBcImtleVwiID09IHIgPyBpID0gdVtyXSA6IFwicmVmXCIgPT0gciA/IG8gPSB1W3JdIDogZltyXSA9IHVbcl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiAoZi5jaGlsZHJlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gbiQzLmNhbGwoYXJndW1lbnRzLCAyKSA6IHQpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGwgJiYgbnVsbCAhPSBsLmRlZmF1bHRQcm9wcykgZm9yIChyIGluIGwuZGVmYXVsdFByb3BzKSB2b2lkIDAgPT09IGZbcl0gJiYgKGZbcl0gPSBsLmRlZmF1bHRQcm9wc1tyXSk7XG4gIHJldHVybiBkJDMobCwgZiwgaSwgbywgbnVsbCk7XG59XG5mdW5jdGlvbiBkJDMobiwgdCwgaSwgbywgcikge1xuICB2YXIgZiA9IHtcbiAgICB0eXBlOiBuLFxuICAgIHByb3BzOiB0LFxuICAgIGtleTogaSxcbiAgICByZWY6IG8sXG4gICAgX19rOiBudWxsLFxuICAgIF9fOiBudWxsLFxuICAgIF9fYjogMCxcbiAgICBfX2U6IG51bGwsXG4gICAgX19kOiB2b2lkIDAsXG4gICAgX19jOiBudWxsLFxuICAgIGNvbnN0cnVjdG9yOiB2b2lkIDAsXG4gICAgX192OiBudWxsID09IHIgPyArK3UkMyA6IHIsXG4gICAgX19pOiAtMSxcbiAgICBfX3U6IDBcbiAgfTtcbiAgcmV0dXJuIG51bGwgPT0gciAmJiBudWxsICE9IGwkNC52bm9kZSAmJiBsJDQudm5vZGUoZiksIGY7XG59XG5mdW5jdGlvbiBfJDIoKSB7XG4gIHJldHVybiB7XG4gICAgY3VycmVudDogbnVsbFxuICB9O1xufVxuZnVuY3Rpb24gZyQ1KG4pIHtcbiAgcmV0dXJuIG4uY2hpbGRyZW47XG59XG5mdW5jdGlvbiBiJDQobiwgbCkge1xuICB0aGlzLnByb3BzID0gbiwgdGhpcy5jb250ZXh0ID0gbDtcbn1cbmZ1bmN0aW9uIG0kNChuLCBsKSB7XG4gIGlmIChudWxsID09IGwpIHJldHVybiBuLl9fID8gbSQ0KG4uX18sIG4uX19pICsgMSkgOiBudWxsO1xuICBmb3IgKHZhciB1OyBsIDwgbi5fX2subGVuZ3RoOyBsKyspIGlmIChudWxsICE9ICh1ID0gbi5fX2tbbF0pICYmIG51bGwgIT0gdS5fX2UpIHJldHVybiB1Ll9fZTtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygbi50eXBlID8gbSQ0KG4pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGskNihuKSB7XG4gIHZhciBsLCB1O1xuICBpZiAobnVsbCAhPSAobiA9IG4uX18pICYmIG51bGwgIT0gbi5fX2MpIHtcbiAgICBmb3IgKG4uX19lID0gbi5fX2MuYmFzZSA9IG51bGwsIGwgPSAwOyBsIDwgbi5fX2subGVuZ3RoOyBsKyspIGlmIChudWxsICE9ICh1ID0gbi5fX2tbbF0pICYmIG51bGwgIT0gdS5fX2UpIHtcbiAgICAgIG4uX19lID0gbi5fX2MuYmFzZSA9IHUuX19lO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBrJDYobik7XG4gIH1cbn1cbmZ1bmN0aW9uIHckNShuKSB7XG4gICghbi5fX2QgJiYgKG4uX19kID0gITApICYmIGkkMS5wdXNoKG4pICYmICF4JDUuX19yKysgfHwgbyQxICE9PSBsJDQuZGVib3VuY2VSZW5kZXJpbmcpICYmICgobyQxID0gbCQ0LmRlYm91bmNlUmVuZGVyaW5nKSB8fCByJDQpKHgkNSk7XG59XG5mdW5jdGlvbiB4JDUoKSB7XG4gIHZhciBuLCB1LCB0LCBvLCByLCBlLCBjLCBzLCBhO1xuICBmb3IgKGkkMS5zb3J0KGYkMyk7IG4gPSBpJDEuc2hpZnQoKTspIG4uX19kICYmICh1ID0gaSQxLmxlbmd0aCwgbyA9IHZvaWQgMCwgZSA9IChyID0gKHQgPSBuKS5fX3YpLl9fZSwgcyA9IFtdLCBhID0gW10sIChjID0gdC5fX1ApICYmICgobyA9IHYkNCh7fSwgcikpLl9fdiA9IHIuX192ICsgMSwgbCQ0LnZub2RlICYmIGwkNC52bm9kZShvKSwgTCQyKGMsIG8sIHIsIHQuX19uLCB2b2lkIDAgIT09IGMub3duZXJTVkdFbGVtZW50LCAzMiAmIHIuX191ID8gW2VdIDogbnVsbCwgcywgbnVsbCA9PSBlID8gbSQ0KHIpIDogZSwgISEoMzIgJiByLl9fdSksIGEpLCBvLl9fLl9fa1tvLl9faV0gPSBvLCBNJDIocywgbywgYSksIG8uX19lICE9IGUgJiYgayQ2KG8pKSwgaSQxLmxlbmd0aCA+IHUgJiYgaSQxLnNvcnQoZiQzKSk7XG4gIHgkNS5fX3IgPSAwO1xufVxuZnVuY3Rpb24gQyQyKG4sIGwsIHUsIHQsIGksIG8sIHIsIGYsIGUsIGEsIGgpIHtcbiAgdmFyIHYsXG4gICAgcCxcbiAgICB5LFxuICAgIGQsXG4gICAgXyxcbiAgICBnID0gdCAmJiB0Ll9fayB8fCBzJDEsXG4gICAgYiA9IGwubGVuZ3RoO1xuICBmb3IgKHUuX19kID0gZSwgUCQzKHUsIGwsIGcpLCBlID0gdS5fX2QsIHYgPSAwOyB2IDwgYjsgdisrKSBudWxsICE9ICh5ID0gdS5fX2tbdl0pICYmIFwiYm9vbGVhblwiICE9IHR5cGVvZiB5ICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgeSAmJiAocCA9IC0xID09PSB5Ll9faSA/IGMkMyA6IGdbeS5fX2ldIHx8IGMkMywgeS5fX2kgPSB2LCBMJDIobiwgeSwgcCwgaSwgbywgciwgZiwgZSwgYSwgaCksIGQgPSB5Ll9fZSwgeS5yZWYgJiYgcC5yZWYgIT0geS5yZWYgJiYgKHAucmVmICYmIHokNShwLnJlZiwgbnVsbCwgeSksIGgucHVzaCh5LnJlZiwgeS5fX2MgfHwgZCwgeSkpLCBudWxsID09IF8gJiYgbnVsbCAhPSBkICYmIChfID0gZCksIDY1NTM2ICYgeS5fX3UgfHwgcC5fX2sgPT09IHkuX19rID8gZSA9IFMkMSh5LCBlLCBuKSA6IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgeS50eXBlICYmIHZvaWQgMCAhPT0geS5fX2QgPyBlID0geS5fX2QgOiBkICYmIChlID0gZC5uZXh0U2libGluZyksIHkuX19kID0gdm9pZCAwLCB5Ll9fdSAmPSAtMTk2NjA5KTtcbiAgdS5fX2QgPSBlLCB1Ll9fZSA9IF87XG59XG5mdW5jdGlvbiBQJDMobiwgbCwgdSkge1xuICB2YXIgdCxcbiAgICBpLFxuICAgIG8sXG4gICAgcixcbiAgICBmLFxuICAgIGUgPSBsLmxlbmd0aCxcbiAgICBjID0gdS5sZW5ndGgsXG4gICAgcyA9IGMsXG4gICAgYSA9IDA7XG4gIGZvciAobi5fX2sgPSBbXSwgdCA9IDA7IHQgPCBlOyB0KyspIG51bGwgIT0gKGkgPSBuLl9fa1t0XSA9IG51bGwgPT0gKGkgPSBsW3RdKSB8fCBcImJvb2xlYW5cIiA9PSB0eXBlb2YgaSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkgPyBudWxsIDogXCJzdHJpbmdcIiA9PSB0eXBlb2YgaSB8fCBcIm51bWJlclwiID09IHR5cGVvZiBpIHx8IFwiYmlnaW50XCIgPT0gdHlwZW9mIGkgfHwgaS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcgPyBkJDMobnVsbCwgaSwgbnVsbCwgbnVsbCwgaSkgOiBoJDUoaSkgPyBkJDMoZyQ1LCB7XG4gICAgY2hpbGRyZW46IGlcbiAgfSwgbnVsbCwgbnVsbCwgbnVsbCkgOiBpLl9fYiA+IDAgPyBkJDMoaS50eXBlLCBpLnByb3BzLCBpLmtleSwgaS5yZWYgPyBpLnJlZiA6IG51bGwsIGkuX192KSA6IGkpID8gKGkuX18gPSBuLCBpLl9fYiA9IG4uX19iICsgMSwgZiA9IEgkMyhpLCB1LCByID0gdCArIGEsIHMpLCBpLl9faSA9IGYsIG8gPSBudWxsLCAtMSAhPT0gZiAmJiAocy0tLCAobyA9IHVbZl0pICYmIChvLl9fdSB8PSAxMzEwNzIpKSwgbnVsbCA9PSBvIHx8IG51bGwgPT09IG8uX192ID8gKC0xID09IGYgJiYgYS0tLCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGkudHlwZSAmJiAoaS5fX3UgfD0gNjU1MzYpKSA6IGYgIT09IHIgJiYgKGYgPT09IHIgKyAxID8gYSsrIDogZiA+IHIgPyBzID4gZSAtIHIgPyBhICs9IGYgLSByIDogYS0tIDogYSA9IGYgPCByICYmIGYgPT0gciAtIDEgPyBmIC0gciA6IDAsIGYgIT09IHQgKyBhICYmIChpLl9fdSB8PSA2NTUzNikpKSA6IChvID0gdVt0XSkgJiYgbnVsbCA9PSBvLmtleSAmJiBvLl9fZSAmJiAoby5fX2UgPT0gbi5fX2QgJiYgKG4uX19kID0gbSQ0KG8pKSwgTiQyKG8sIG8sICExKSwgdVt0XSA9IG51bGwsIHMtLSk7XG4gIGlmIChzKSBmb3IgKHQgPSAwOyB0IDwgYzsgdCsrKSBudWxsICE9IChvID0gdVt0XSkgJiYgMCA9PSAoMTMxMDcyICYgby5fX3UpICYmIChvLl9fZSA9PSBuLl9fZCAmJiAobi5fX2QgPSBtJDQobykpLCBOJDIobywgbykpO1xufVxuZnVuY3Rpb24gUyQxKG4sIGwsIHUpIHtcbiAgdmFyIHQsIGk7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4udHlwZSkge1xuICAgIGZvciAodCA9IG4uX19rLCBpID0gMDsgdCAmJiBpIDwgdC5sZW5ndGg7IGkrKykgdFtpXSAmJiAodFtpXS5fXyA9IG4sIGwgPSBTJDEodFtpXSwgbCwgdSkpO1xuICAgIHJldHVybiBsO1xuICB9XG4gIHJldHVybiBuLl9fZSAhPSBsICYmICh1Lmluc2VydEJlZm9yZShuLl9fZSwgbCB8fCBudWxsKSwgbCA9IG4uX19lKSwgbCAmJiBsLm5leHRTaWJsaW5nO1xufVxuZnVuY3Rpb24gJCQyKG4sIGwpIHtcbiAgcmV0dXJuIGwgPSBsIHx8IFtdLCBudWxsID09IG4gfHwgXCJib29sZWFuXCIgPT0gdHlwZW9mIG4gfHwgKGgkNShuKSA/IG4uc29tZShmdW5jdGlvbiAobikge1xuICAgICQkMihuLCBsKTtcbiAgfSkgOiBsLnB1c2gobikpLCBsO1xufVxuZnVuY3Rpb24gSCQzKG4sIGwsIHUsIHQpIHtcbiAgdmFyIGkgPSBuLmtleSxcbiAgICBvID0gbi50eXBlLFxuICAgIHIgPSB1IC0gMSxcbiAgICBmID0gdSArIDEsXG4gICAgZSA9IGxbdV07XG4gIGlmIChudWxsID09PSBlIHx8IGUgJiYgaSA9PSBlLmtleSAmJiBvID09PSBlLnR5cGUpIHJldHVybiB1O1xuICBpZiAodCA+IChudWxsICE9IGUgJiYgMCA9PSAoMTMxMDcyICYgZS5fX3UpID8gMSA6IDApKSBmb3IgKDsgciA+PSAwIHx8IGYgPCBsLmxlbmd0aDspIHtcbiAgICBpZiAociA+PSAwKSB7XG4gICAgICBpZiAoKGUgPSBsW3JdKSAmJiAwID09ICgxMzEwNzIgJiBlLl9fdSkgJiYgaSA9PSBlLmtleSAmJiBvID09PSBlLnR5cGUpIHJldHVybiByO1xuICAgICAgci0tO1xuICAgIH1cbiAgICBpZiAoZiA8IGwubGVuZ3RoKSB7XG4gICAgICBpZiAoKGUgPSBsW2ZdKSAmJiAwID09ICgxMzEwNzIgJiBlLl9fdSkgJiYgaSA9PSBlLmtleSAmJiBvID09PSBlLnR5cGUpIHJldHVybiBmO1xuICAgICAgZisrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBJJDMobiwgbCwgdSkge1xuICBcIi1cIiA9PT0gbFswXSA/IG4uc2V0UHJvcGVydHkobCwgbnVsbCA9PSB1ID8gXCJcIiA6IHUpIDogbltsXSA9IG51bGwgPT0gdSA/IFwiXCIgOiBcIm51bWJlclwiICE9IHR5cGVvZiB1IHx8IGEkMS50ZXN0KGwpID8gdSA6IHUgKyBcInB4XCI7XG59XG5mdW5jdGlvbiBUJDMobiwgbCwgdSwgdCwgaSkge1xuICB2YXIgbztcbiAgbjogaWYgKFwic3R5bGVcIiA9PT0gbCkge1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB1KSBuLnN0eWxlLmNzc1RleHQgPSB1O2Vsc2Uge1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgJiYgKG4uc3R5bGUuY3NzVGV4dCA9IHQgPSBcIlwiKSwgdCkgZm9yIChsIGluIHQpIHUgJiYgbCBpbiB1IHx8IEkkMyhuLnN0eWxlLCBsLCBcIlwiKTtcbiAgICAgIGlmICh1KSBmb3IgKGwgaW4gdSkgdCAmJiB1W2xdID09PSB0W2xdIHx8IEkkMyhuLnN0eWxlLCBsLCB1W2xdKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJvXCIgPT09IGxbMF0gJiYgXCJuXCIgPT09IGxbMV0pIG8gPSBsICE9PSAobCA9IGwucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvLCBcIiQxXCIpKSwgbCA9IGwudG9Mb3dlckNhc2UoKSBpbiBuID8gbC50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpIDogbC5zbGljZSgyKSwgbi5sIHx8IChuLmwgPSB7fSksIG4ubFtsICsgb10gPSB1LCB1ID8gdCA/IHUudSA9IHQudSA6ICh1LnUgPSBEYXRlLm5vdygpLCBuLmFkZEV2ZW50TGlzdGVuZXIobCwgbyA/IEQkMiA6IEEkNSwgbykpIDogbi5yZW1vdmVFdmVudExpc3RlbmVyKGwsIG8gPyBEJDIgOiBBJDUsIG8pO2Vsc2Uge1xuICAgIGlmIChpKSBsID0gbC5yZXBsYWNlKC94bGluayhIfDpoKS8sIFwiaFwiKS5yZXBsYWNlKC9zTmFtZSQvLCBcInNcIik7ZWxzZSBpZiAoXCJ3aWR0aFwiICE9PSBsICYmIFwiaGVpZ2h0XCIgIT09IGwgJiYgXCJocmVmXCIgIT09IGwgJiYgXCJsaXN0XCIgIT09IGwgJiYgXCJmb3JtXCIgIT09IGwgJiYgXCJ0YWJJbmRleFwiICE9PSBsICYmIFwiZG93bmxvYWRcIiAhPT0gbCAmJiBcInJvd1NwYW5cIiAhPT0gbCAmJiBcImNvbFNwYW5cIiAhPT0gbCAmJiBcInJvbGVcIiAhPT0gbCAmJiBsIGluIG4pIHRyeSB7XG4gICAgICBuW2xdID0gbnVsbCA9PSB1ID8gXCJcIiA6IHU7XG4gICAgICBicmVhayBuO1xuICAgIH0gY2F0Y2ggKG4pIHt9XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiB1IHx8IChudWxsID09IHUgfHwgITEgPT09IHUgJiYgXCItXCIgIT09IGxbNF0gPyBuLnJlbW92ZUF0dHJpYnV0ZShsKSA6IG4uc2V0QXR0cmlidXRlKGwsIHUpKTtcbiAgfVxufVxuZnVuY3Rpb24gQSQ1KG4pIHtcbiAgdmFyIHUgPSB0aGlzLmxbbi50eXBlICsgITFdO1xuICBpZiAobi50KSB7XG4gICAgaWYgKG4udCA8PSB1LnUpIHJldHVybjtcbiAgfSBlbHNlIG4udCA9IERhdGUubm93KCk7XG4gIHJldHVybiB1KGwkNC5ldmVudCA/IGwkNC5ldmVudChuKSA6IG4pO1xufVxuZnVuY3Rpb24gRCQyKG4pIHtcbiAgcmV0dXJuIHRoaXMubFtuLnR5cGUgKyAhMF0obCQ0LmV2ZW50ID8gbCQ0LmV2ZW50KG4pIDogbik7XG59XG5mdW5jdGlvbiBMJDIobiwgdSwgdCwgaSwgbywgciwgZiwgZSwgYywgcykge1xuICB2YXIgYSxcbiAgICBwLFxuICAgIHksXG4gICAgZCxcbiAgICBfLFxuICAgIG0sXG4gICAgayxcbiAgICB3LFxuICAgIHgsXG4gICAgUCxcbiAgICBTLFxuICAgICQsXG4gICAgSCxcbiAgICBJLFxuICAgIFQsXG4gICAgQSA9IHUudHlwZTtcbiAgaWYgKHZvaWQgMCAhPT0gdS5jb25zdHJ1Y3RvcikgcmV0dXJuIG51bGw7XG4gIDEyOCAmIHQuX191ICYmIChjID0gISEoMzIgJiB0Ll9fdSksIHIgPSBbZSA9IHUuX19lID0gdC5fX2VdKSwgKGEgPSBsJDQuX19iKSAmJiBhKHUpO1xuICBuOiBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBBKSB0cnkge1xuICAgIGlmICh3ID0gdS5wcm9wcywgeCA9IChhID0gQS5jb250ZXh0VHlwZSkgJiYgaVthLl9fY10sIFAgPSBhID8geCA/IHgucHJvcHMudmFsdWUgOiBhLl9fIDogaSwgdC5fX2MgPyBrID0gKHAgPSB1Ll9fYyA9IHQuX19jKS5fXyA9IHAuX19FIDogKFwicHJvdG90eXBlXCIgaW4gQSAmJiBBLnByb3RvdHlwZS5yZW5kZXIgPyB1Ll9fYyA9IHAgPSBuZXcgQSh3LCBQKSA6ICh1Ll9fYyA9IHAgPSBuZXcgYiQ0KHcsIFApLCBwLmNvbnN0cnVjdG9yID0gQSwgcC5yZW5kZXIgPSBPJDEpLCB4ICYmIHguc3ViKHApLCBwLnByb3BzID0gdywgcC5zdGF0ZSB8fCAocC5zdGF0ZSA9IHt9KSwgcC5jb250ZXh0ID0gUCwgcC5fX24gPSBpLCB5ID0gcC5fX2QgPSAhMCwgcC5fX2ggPSBbXSwgcC5fc2IgPSBbXSksIG51bGwgPT0gcC5fX3MgJiYgKHAuX19zID0gcC5zdGF0ZSksIG51bGwgIT0gQS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiYgKHAuX19zID09IHAuc3RhdGUgJiYgKHAuX19zID0gdiQ0KHt9LCBwLl9fcykpLCB2JDQocC5fX3MsIEEuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHcsIHAuX19zKSkpLCBkID0gcC5wcm9wcywgXyA9IHAuc3RhdGUsIHAuX192ID0gdSwgeSkgbnVsbCA9PSBBLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJiBudWxsICE9IHAuY29tcG9uZW50V2lsbE1vdW50ICYmIHAuY29tcG9uZW50V2lsbE1vdW50KCksIG51bGwgIT0gcC5jb21wb25lbnREaWRNb3VudCAmJiBwLl9faC5wdXNoKHAuY29tcG9uZW50RGlkTW91bnQpO2Vsc2Uge1xuICAgICAgaWYgKG51bGwgPT0gQS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiYgdyAhPT0gZCAmJiBudWxsICE9IHAuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJiBwLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHModywgUCksICFwLl9fZSAmJiAobnVsbCAhPSBwLnNob3VsZENvbXBvbmVudFVwZGF0ZSAmJiAhMSA9PT0gcC5zaG91bGRDb21wb25lbnRVcGRhdGUodywgcC5fX3MsIFApIHx8IHUuX192ID09PSB0Ll9fdikpIHtcbiAgICAgICAgZm9yICh1Ll9fdiAhPT0gdC5fX3YgJiYgKHAucHJvcHMgPSB3LCBwLnN0YXRlID0gcC5fX3MsIHAuX19kID0gITEpLCB1Ll9fZSA9IHQuX19lLCB1Ll9fayA9IHQuX19rLCB1Ll9fay5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgbiAmJiAobi5fXyA9IHUpO1xuICAgICAgICB9KSwgUyA9IDA7IFMgPCBwLl9zYi5sZW5ndGg7IFMrKykgcC5fX2gucHVzaChwLl9zYltTXSk7XG4gICAgICAgIHAuX3NiID0gW10sIHAuX19oLmxlbmd0aCAmJiBmLnB1c2gocCk7XG4gICAgICAgIGJyZWFrIG47XG4gICAgICB9XG4gICAgICBudWxsICE9IHAuY29tcG9uZW50V2lsbFVwZGF0ZSAmJiBwLmNvbXBvbmVudFdpbGxVcGRhdGUodywgcC5fX3MsIFApLCBudWxsICE9IHAuY29tcG9uZW50RGlkVXBkYXRlICYmIHAuX19oLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICBwLmNvbXBvbmVudERpZFVwZGF0ZShkLCBfLCBtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocC5jb250ZXh0ID0gUCwgcC5wcm9wcyA9IHcsIHAuX19QID0gbiwgcC5fX2UgPSAhMSwgJCA9IGwkNC5fX3IsIEggPSAwLCBcInByb3RvdHlwZVwiIGluIEEgJiYgQS5wcm90b3R5cGUucmVuZGVyKSB7XG4gICAgICBmb3IgKHAuc3RhdGUgPSBwLl9fcywgcC5fX2QgPSAhMSwgJCAmJiAkKHUpLCBhID0gcC5yZW5kZXIocC5wcm9wcywgcC5zdGF0ZSwgcC5jb250ZXh0KSwgSSA9IDA7IEkgPCBwLl9zYi5sZW5ndGg7IEkrKykgcC5fX2gucHVzaChwLl9zYltJXSk7XG4gICAgICBwLl9zYiA9IFtdO1xuICAgIH0gZWxzZSBkbyB7XG4gICAgICBwLl9fZCA9ICExLCAkICYmICQodSksIGEgPSBwLnJlbmRlcihwLnByb3BzLCBwLnN0YXRlLCBwLmNvbnRleHQpLCBwLnN0YXRlID0gcC5fX3M7XG4gICAgfSB3aGlsZSAocC5fX2QgJiYgKytIIDwgMjUpO1xuICAgIHAuc3RhdGUgPSBwLl9fcywgbnVsbCAhPSBwLmdldENoaWxkQ29udGV4dCAmJiAoaSA9IHYkNCh2JDQoe30sIGkpLCBwLmdldENoaWxkQ29udGV4dCgpKSksIHkgfHwgbnVsbCA9PSBwLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8IChtID0gcC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShkLCBfKSksIEMkMihuLCBoJDUoVCA9IG51bGwgIT0gYSAmJiBhLnR5cGUgPT09IGckNSAmJiBudWxsID09IGEua2V5ID8gYS5wcm9wcy5jaGlsZHJlbiA6IGEpID8gVCA6IFtUXSwgdSwgdCwgaSwgbywgciwgZiwgZSwgYywgcyksIHAuYmFzZSA9IHUuX19lLCB1Ll9fdSAmPSAtMTYxLCBwLl9faC5sZW5ndGggJiYgZi5wdXNoKHApLCBrICYmIChwLl9fRSA9IHAuX18gPSBudWxsKTtcbiAgfSBjYXRjaCAobikge1xuICAgIHUuX192ID0gbnVsbCwgYyB8fCBudWxsICE9IHIgPyAodS5fX2UgPSBlLCB1Ll9fdSB8PSBjID8gMTYwIDogMzIsIHJbci5pbmRleE9mKGUpXSA9IG51bGwpIDogKHUuX19lID0gdC5fX2UsIHUuX19rID0gdC5fX2spLCBsJDQuX19lKG4sIHUsIHQpO1xuICB9IGVsc2UgbnVsbCA9PSByICYmIHUuX192ID09PSB0Ll9fdiA/ICh1Ll9fayA9IHQuX19rLCB1Ll9fZSA9IHQuX19lKSA6IHUuX19lID0gaiQzKHQuX19lLCB1LCB0LCBpLCBvLCByLCBmLCBjLCBzKTtcbiAgKGEgPSBsJDQuZGlmZmVkKSAmJiBhKHUpO1xufVxuZnVuY3Rpb24gTSQyKG4sIHUsIHQpIHtcbiAgdS5fX2QgPSB2b2lkIDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykgeiQ1KHRbaV0sIHRbKytpXSwgdFsrK2ldKTtcbiAgbCQ0Ll9fYyAmJiBsJDQuX19jKHUsIG4pLCBuLnNvbWUoZnVuY3Rpb24gKHUpIHtcbiAgICB0cnkge1xuICAgICAgbiA9IHUuX19oLCB1Ll9faCA9IFtdLCBuLnNvbWUoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgbi5jYWxsKHUpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgbCQ0Ll9fZShuLCB1Ll9fdik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGokMyhsLCB1LCB0LCBpLCBvLCByLCBmLCBlLCBzKSB7XG4gIHZhciBhLFxuICAgIHYsXG4gICAgeSxcbiAgICBkLFxuICAgIF8sXG4gICAgZyxcbiAgICBiLFxuICAgIGsgPSB0LnByb3BzLFxuICAgIHcgPSB1LnByb3BzLFxuICAgIHggPSB1LnR5cGU7XG4gIGlmIChcInN2Z1wiID09PSB4ICYmIChvID0gITApLCBudWxsICE9IHIpIGZvciAoYSA9IDA7IGEgPCByLmxlbmd0aDsgYSsrKSBpZiAoKF8gPSByW2FdKSAmJiBcInNldEF0dHJpYnV0ZVwiIGluIF8gPT0gISF4ICYmICh4ID8gXy5sb2NhbE5hbWUgPT09IHggOiAzID09PSBfLm5vZGVUeXBlKSkge1xuICAgIGwgPSBfLCByW2FdID0gbnVsbDtcbiAgICBicmVhaztcbiAgfVxuICBpZiAobnVsbCA9PSBsKSB7XG4gICAgaWYgKG51bGwgPT09IHgpIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh3KTtcbiAgICBsID0gbyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHgpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh4LCB3LmlzICYmIHcpLCByID0gbnVsbCwgZSA9ICExO1xuICB9XG4gIGlmIChudWxsID09PSB4KSBrID09PSB3IHx8IGUgJiYgbC5kYXRhID09PSB3IHx8IChsLmRhdGEgPSB3KTtlbHNlIHtcbiAgICBpZiAociA9IHIgJiYgbiQzLmNhbGwobC5jaGlsZE5vZGVzKSwgayA9IHQucHJvcHMgfHwgYyQzLCAhZSAmJiBudWxsICE9IHIpIGZvciAoayA9IHt9LCBhID0gMDsgYSA8IGwuYXR0cmlidXRlcy5sZW5ndGg7IGErKykga1soXyA9IGwuYXR0cmlidXRlc1thXSkubmFtZV0gPSBfLnZhbHVlO1xuICAgIGZvciAoYSBpbiBrKSBfID0ga1thXSwgXCJjaGlsZHJlblwiID09IGEgfHwgKFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiA9PSBhID8geSA9IF8gOiBcImtleVwiID09PSBhIHx8IGEgaW4gdyB8fCBUJDMobCwgYSwgbnVsbCwgXywgbykpO1xuICAgIGZvciAoYSBpbiB3KSBfID0gd1thXSwgXCJjaGlsZHJlblwiID09IGEgPyBkID0gXyA6IFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiA9PSBhID8gdiA9IF8gOiBcInZhbHVlXCIgPT0gYSA/IGcgPSBfIDogXCJjaGVja2VkXCIgPT0gYSA/IGIgPSBfIDogXCJrZXlcIiA9PT0gYSB8fCBlICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgXyB8fCBrW2FdID09PSBfIHx8IFQkMyhsLCBhLCBfLCBrW2FdLCBvKTtcbiAgICBpZiAodikgZSB8fCB5ICYmICh2Ll9faHRtbCA9PT0geS5fX2h0bWwgfHwgdi5fX2h0bWwgPT09IGwuaW5uZXJIVE1MKSB8fCAobC5pbm5lckhUTUwgPSB2Ll9faHRtbCksIHUuX19rID0gW107ZWxzZSBpZiAoeSAmJiAobC5pbm5lckhUTUwgPSBcIlwiKSwgQyQyKGwsIGgkNShkKSA/IGQgOiBbZF0sIHUsIHQsIGksIG8gJiYgXCJmb3JlaWduT2JqZWN0XCIgIT09IHgsIHIsIGYsIHIgPyByWzBdIDogdC5fX2sgJiYgbSQ0KHQsIDApLCBlLCBzKSwgbnVsbCAhPSByKSBmb3IgKGEgPSByLmxlbmd0aDsgYS0tOykgbnVsbCAhPSByW2FdICYmIHAkNChyW2FdKTtcbiAgICBlIHx8IChhID0gXCJ2YWx1ZVwiLCB2b2lkIDAgIT09IGcgJiYgKGcgIT09IGxbYV0gfHwgXCJwcm9ncmVzc1wiID09PSB4ICYmICFnIHx8IFwib3B0aW9uXCIgPT09IHggJiYgZyAhPT0ga1thXSkgJiYgVCQzKGwsIGEsIGcsIGtbYV0sICExKSwgYSA9IFwiY2hlY2tlZFwiLCB2b2lkIDAgIT09IGIgJiYgYiAhPT0gbFthXSAmJiBUJDMobCwgYSwgYiwga1thXSwgITEpKTtcbiAgfVxuICByZXR1cm4gbDtcbn1cbmZ1bmN0aW9uIHokNShuLCB1LCB0KSB7XG4gIHRyeSB7XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBuID8gbih1KSA6IG4uY3VycmVudCA9IHU7XG4gIH0gY2F0Y2ggKG4pIHtcbiAgICBsJDQuX19lKG4sIHQpO1xuICB9XG59XG5mdW5jdGlvbiBOJDIobiwgdSwgdCkge1xuICB2YXIgaSwgbztcbiAgaWYgKGwkNC51bm1vdW50ICYmIGwkNC51bm1vdW50KG4pLCAoaSA9IG4ucmVmKSAmJiAoaS5jdXJyZW50ICYmIGkuY3VycmVudCAhPT0gbi5fX2UgfHwgeiQ1KGksIG51bGwsIHUpKSwgbnVsbCAhPSAoaSA9IG4uX19jKSkge1xuICAgIGlmIChpLmNvbXBvbmVudFdpbGxVbm1vdW50KSB0cnkge1xuICAgICAgaS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgIGwkNC5fX2UobiwgdSk7XG4gICAgfVxuICAgIGkuYmFzZSA9IGkuX19QID0gbnVsbCwgbi5fX2MgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKGkgPSBuLl9faykgZm9yIChvID0gMDsgbyA8IGkubGVuZ3RoOyBvKyspIGlbb10gJiYgTiQyKGlbb10sIHUsIHQgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBuLnR5cGUpO1xuICB0IHx8IG51bGwgPT0gbi5fX2UgfHwgcCQ0KG4uX19lKSwgbi5fXyA9IG4uX19lID0gbi5fX2QgPSB2b2lkIDA7XG59XG5mdW5jdGlvbiBPJDEobiwgbCwgdSkge1xuICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihuLCB1KTtcbn1cbmZ1bmN0aW9uIHEkNih1LCB0LCBpKSB7XG4gIHZhciBvLCByLCBmLCBlO1xuICBsJDQuX18gJiYgbCQ0Ll9fKHUsIHQpLCByID0gKG8gPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkpID8gbnVsbCA6IGkgJiYgaS5fX2sgfHwgdC5fX2ssIGYgPSBbXSwgZSA9IFtdLCBMJDIodCwgdSA9ICghbyAmJiBpIHx8IHQpLl9fayA9IHkkMyhnJDUsIG51bGwsIFt1XSksIHIgfHwgYyQzLCBjJDMsIHZvaWQgMCAhPT0gdC5vd25lclNWR0VsZW1lbnQsICFvICYmIGkgPyBbaV0gOiByID8gbnVsbCA6IHQuZmlyc3RDaGlsZCA/IG4kMy5jYWxsKHQuY2hpbGROb2RlcykgOiBudWxsLCBmLCAhbyAmJiBpID8gaSA6IHIgPyByLl9fZSA6IHQuZmlyc3RDaGlsZCwgbywgZSksIE0kMihmLCB1LCBlKTtcbn1cbmZ1bmN0aW9uIEIkNChuLCBsKSB7XG4gIHEkNihuLCBsLCBCJDQpO1xufVxuZnVuY3Rpb24gRSQzKGwsIHUsIHQpIHtcbiAgdmFyIGksXG4gICAgbyxcbiAgICByLFxuICAgIGYsXG4gICAgZSA9IHYkNCh7fSwgbC5wcm9wcyk7XG4gIGZvciAociBpbiBsLnR5cGUgJiYgbC50eXBlLmRlZmF1bHRQcm9wcyAmJiAoZiA9IGwudHlwZS5kZWZhdWx0UHJvcHMpLCB1KSBcImtleVwiID09IHIgPyBpID0gdVtyXSA6IFwicmVmXCIgPT0gciA/IG8gPSB1W3JdIDogZVtyXSA9IHZvaWQgMCA9PT0gdVtyXSAmJiB2b2lkIDAgIT09IGYgPyBmW3JdIDogdVtyXTtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIChlLmNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBuJDMuY2FsbChhcmd1bWVudHMsIDIpIDogdCksIGQkMyhsLnR5cGUsIGUsIGkgfHwgbC5rZXksIG8gfHwgbC5yZWYsIG51bGwpO1xufVxuZnVuY3Rpb24gRiQ0KG4sIGwpIHtcbiAgdmFyIHUgPSB7XG4gICAgX19jOiBsID0gXCJfX2NDXCIgKyBlJDQrKyxcbiAgICBfXzogbixcbiAgICBDb25zdW1lcjogZnVuY3Rpb24gQ29uc3VtZXIobiwgbCkge1xuICAgICAgcmV0dXJuIG4uY2hpbGRyZW4obCk7XG4gICAgfSxcbiAgICBQcm92aWRlcjogZnVuY3Rpb24gUHJvdmlkZXIobikge1xuICAgICAgdmFyIHUsIHQ7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHQgfHwgKHUgPSBbXSwgKHQgPSB7fSlbbF0gPSB0aGlzLCB0aGlzLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgICB9LCB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHRoaXMucHJvcHMudmFsdWUgIT09IG4udmFsdWUgJiYgdS5zb21lKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgbi5fX2UgPSAhMCwgdyQ1KG4pO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMuc3ViID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdS5wdXNoKG4pO1xuICAgICAgICB2YXIgbCA9IG4uY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgICAgIG4uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdS5zcGxpY2UodS5pbmRleE9mKG4pLCAxKSwgbCAmJiBsLmNhbGwobik7XG4gICAgICAgIH07XG4gICAgICB9KSwgbi5jaGlsZHJlbjtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1LlByb3ZpZGVyLl9fID0gdS5Db25zdW1lci5jb250ZXh0VHlwZSA9IHU7XG59XG5uJDMgPSBzJDEuc2xpY2UsIGwkNCA9IHtcbiAgX19lOiBmdW5jdGlvbiBfX2UobiwgbCwgdSwgdCkge1xuICAgIGZvciAodmFyIGksIG8sIHI7IGwgPSBsLl9fOykgaWYgKChpID0gbC5fX2MpICYmICFpLl9fKSB0cnkge1xuICAgICAgaWYgKChvID0gaS5jb25zdHJ1Y3RvcikgJiYgbnVsbCAhPSBvLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAmJiAoaS5zZXRTdGF0ZShvLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihuKSksIHIgPSBpLl9fZCksIG51bGwgIT0gaS5jb21wb25lbnREaWRDYXRjaCAmJiAoaS5jb21wb25lbnREaWRDYXRjaChuLCB0IHx8IHt9KSwgciA9IGkuX19kKSwgcikgcmV0dXJuIGkuX19FID0gaTtcbiAgICB9IGNhdGNoIChsKSB7XG4gICAgICBuID0gbDtcbiAgICB9XG4gICAgdGhyb3cgbjtcbiAgfVxufSwgdSQzID0gMCwgYiQ0LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChuLCBsKSB7XG4gIHZhciB1O1xuICB1ID0gbnVsbCAhPSB0aGlzLl9fcyAmJiB0aGlzLl9fcyAhPT0gdGhpcy5zdGF0ZSA/IHRoaXMuX19zIDogdGhpcy5fX3MgPSB2JDQoe30sIHRoaXMuc3RhdGUpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4gJiYgKG4gPSBuKHYkNCh7fSwgdSksIHRoaXMucHJvcHMpKSwgbiAmJiB2JDQodSwgbiksIG51bGwgIT0gbiAmJiB0aGlzLl9fdiAmJiAobCAmJiB0aGlzLl9zYi5wdXNoKGwpLCB3JDUodGhpcykpO1xufSwgYiQ0LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuX192ICYmICh0aGlzLl9fZSA9ICEwLCBuICYmIHRoaXMuX19oLnB1c2gobiksIHckNSh0aGlzKSk7XG59LCBiJDQucHJvdG90eXBlLnJlbmRlciA9IGckNSwgaSQxID0gW10sIHIkNCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgUHJvbWlzZSA/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSkgOiBzZXRUaW1lb3V0LCBmJDMgPSBmdW5jdGlvbiBmJDMobiwgbCkge1xuICByZXR1cm4gbi5fX3YuX19iIC0gbC5fX3YuX19iO1xufSwgeCQ1Ll9fciA9IDAsIGUkNCA9IDA7XG52YXIgdCQyLFxuICByJDMsXG4gIHUkMixcbiAgaSxcbiAgbyA9IDAsXG4gIGYkMiA9IFtdLFxuICBjJDIgPSBbXSxcbiAgZSQzID0gbCQ0Ll9fYixcbiAgYSA9IGwkNC5fX3IsXG4gIHYkMyA9IGwkNC5kaWZmZWQsXG4gIGwkMyA9IGwkNC5fX2MsXG4gIG0kMyA9IGwkNC51bm1vdW50O1xuZnVuY3Rpb24gZCQyKHQsIHUpIHtcbiAgbCQ0Ll9faCAmJiBsJDQuX19oKHIkMywgdCwgbyB8fCB1KSwgbyA9IDA7XG4gIHZhciBpID0gciQzLl9fSCB8fCAociQzLl9fSCA9IHtcbiAgICBfXzogW10sXG4gICAgX19oOiBbXVxuICB9KTtcbiAgcmV0dXJuIHQgPj0gaS5fXy5sZW5ndGggJiYgaS5fXy5wdXNoKHtcbiAgICBfX1Y6IGMkMlxuICB9KSwgaS5fX1t0XTtcbn1cbmZ1bmN0aW9uIGgkNChuKSB7XG4gIHJldHVybiBvID0gMSwgcyhCJDMsIG4pO1xufVxuZnVuY3Rpb24gcyhuLCB1LCBpKSB7XG4gIHZhciBvID0gZCQyKHQkMisrLCAyKTtcbiAgaWYgKG8udCA9IG4sICFvLl9fYyAmJiAoby5fXyA9IFtpID8gaSh1KSA6IEIkMyh2b2lkIDAsIHUpLCBmdW5jdGlvbiAobikge1xuICAgIHZhciB0ID0gby5fX04gPyBvLl9fTlswXSA6IG8uX19bMF0sXG4gICAgICByID0gby50KHQsIG4pO1xuICAgIHQgIT09IHIgJiYgKG8uX19OID0gW3IsIG8uX19bMV1dLCBvLl9fYy5zZXRTdGF0ZSh7fSkpO1xuICB9XSwgby5fX2MgPSByJDMsICFyJDMudSkpIHtcbiAgICB2YXIgZiA9IGZ1bmN0aW9uIGYobiwgdCwgcikge1xuICAgICAgaWYgKCFvLl9fYy5fX0gpIHJldHVybiAhMDtcbiAgICAgIHZhciB1ID0gby5fX2MuX19ILl9fLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbi5fX2M7XG4gICAgICB9KTtcbiAgICAgIGlmICh1LmV2ZXJ5KGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiAhbi5fX047XG4gICAgICB9KSkgcmV0dXJuICFjIHx8IGMuY2FsbCh0aGlzLCBuLCB0LCByKTtcbiAgICAgIHZhciBpID0gITE7XG4gICAgICByZXR1cm4gdS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIGlmIChuLl9fTikge1xuICAgICAgICAgIHZhciB0ID0gbi5fX1swXTtcbiAgICAgICAgICBuLl9fID0gbi5fX04sIG4uX19OID0gdm9pZCAwLCB0ICE9PSBuLl9fWzBdICYmIChpID0gITApO1xuICAgICAgICB9XG4gICAgICB9KSwgISghaSAmJiBvLl9fYy5wcm9wcyA9PT0gbikgJiYgKCFjIHx8IGMuY2FsbCh0aGlzLCBuLCB0LCByKSk7XG4gICAgfTtcbiAgICByJDMudSA9ICEwO1xuICAgIHZhciBjID0gciQzLnNob3VsZENvbXBvbmVudFVwZGF0ZSxcbiAgICAgIGUgPSByJDMuY29tcG9uZW50V2lsbFVwZGF0ZTtcbiAgICByJDMuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIChuLCB0LCByKSB7XG4gICAgICBpZiAodGhpcy5fX2UpIHtcbiAgICAgICAgdmFyIHUgPSBjO1xuICAgICAgICBjID0gdm9pZCAwLCBmKG4sIHQsIHIpLCBjID0gdTtcbiAgICAgIH1cbiAgICAgIGUgJiYgZS5jYWxsKHRoaXMsIG4sIHQsIHIpO1xuICAgIH0sIHIkMy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmO1xuICB9XG4gIHJldHVybiBvLl9fTiB8fCBvLl9fO1xufVxuZnVuY3Rpb24gcCQzKHUsIGkpIHtcbiAgdmFyIG8gPSBkJDIodCQyKyssIDMpO1xuICAhbCQ0Ll9fcyAmJiB6JDQoby5fX0gsIGkpICYmIChvLl9fID0gdSwgby5pID0gaSwgciQzLl9fSC5fX2gucHVzaChvKSk7XG59XG5mdW5jdGlvbiB5JDIodSwgaSkge1xuICB2YXIgbyA9IGQkMih0JDIrKywgNCk7XG4gICFsJDQuX19zICYmIHokNChvLl9fSCwgaSkgJiYgKG8uX18gPSB1LCBvLmkgPSBpLCByJDMuX19oLnB1c2gobykpO1xufVxuZnVuY3Rpb24gXyQxKG4pIHtcbiAgcmV0dXJuIG8gPSA1LCBGJDMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50OiBuXG4gICAgfTtcbiAgfSwgW10pO1xufVxuZnVuY3Rpb24gQSQ0KG4sIHQsIHIpIHtcbiAgbyA9IDYsIHkkMihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbiA/IChuKHQoKSksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuKG51bGwpO1xuICAgIH0pIDogbiA/IChuLmN1cnJlbnQgPSB0KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuLmN1cnJlbnQgPSBudWxsO1xuICAgIH0pIDogdm9pZCAwO1xuICB9LCBudWxsID09IHIgPyByIDogci5jb25jYXQobikpO1xufVxuZnVuY3Rpb24gRiQzKG4sIHIpIHtcbiAgdmFyIHUgPSBkJDIodCQyKyssIDcpO1xuICByZXR1cm4geiQ0KHUuX19ILCByKSA/ICh1Ll9fViA9IG4oKSwgdS5pID0gciwgdS5fX2ggPSBuLCB1Ll9fVikgOiB1Ll9fO1xufVxuZnVuY3Rpb24gVCQyKG4sIHQpIHtcbiAgcmV0dXJuIG8gPSA4LCBGJDMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuO1xuICB9LCB0KTtcbn1cbmZ1bmN0aW9uIHEkNShuKSB7XG4gIHZhciB1ID0gciQzLmNvbnRleHRbbi5fX2NdLFxuICAgIGkgPSBkJDIodCQyKyssIDkpO1xuICByZXR1cm4gaS5jID0gbiwgdSA/IChudWxsID09IGkuX18gJiYgKGkuX18gPSAhMCwgdS5zdWIociQzKSksIHUucHJvcHMudmFsdWUpIDogbi5fXztcbn1cbmZ1bmN0aW9uIHgkNCh0LCByKSB7XG4gIGwkNC51c2VEZWJ1Z1ZhbHVlICYmIGwkNC51c2VEZWJ1Z1ZhbHVlKHIgPyByKHQpIDogdCk7XG59XG5mdW5jdGlvbiBQJDIobikge1xuICB2YXIgdSA9IGQkMih0JDIrKywgMTApLFxuICAgIGkgPSBoJDQoKTtcbiAgcmV0dXJuIHUuX18gPSBuLCByJDMuY29tcG9uZW50RGlkQ2F0Y2ggfHwgKHIkMy5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uIChuLCB0KSB7XG4gICAgdS5fXyAmJiB1Ll9fKG4sIHQpLCBpWzFdKG4pO1xuICB9KSwgW2lbMF0sIGZ1bmN0aW9uICgpIHtcbiAgICBpWzFdKHZvaWQgMCk7XG4gIH1dO1xufVxuZnVuY3Rpb24gViQyKCkge1xuICB2YXIgbiA9IGQkMih0JDIrKywgMTEpO1xuICBpZiAoIW4uX18pIHtcbiAgICBmb3IgKHZhciB1ID0gciQzLl9fdjsgbnVsbCAhPT0gdSAmJiAhdS5fX20gJiYgbnVsbCAhPT0gdS5fXzspIHUgPSB1Ll9fO1xuICAgIHZhciBpID0gdS5fX20gfHwgKHUuX19tID0gWzAsIDBdKTtcbiAgICBuLl9fID0gXCJQXCIgKyBpWzBdICsgXCItXCIgKyBpWzFdKys7XG4gIH1cbiAgcmV0dXJuIG4uX187XG59XG5mdW5jdGlvbiBiJDMoKSB7XG4gIGZvciAodmFyIHQ7IHQgPSBmJDIuc2hpZnQoKTspIGlmICh0Ll9fUCAmJiB0Ll9fSCkgdHJ5IHtcbiAgICB0Ll9fSC5fX2guZm9yRWFjaChrJDUpLCB0Ll9fSC5fX2guZm9yRWFjaCh3JDQpLCB0Ll9fSC5fX2ggPSBbXTtcbiAgfSBjYXRjaCAocikge1xuICAgIHQuX19ILl9faCA9IFtdLCBsJDQuX19lKHIsIHQuX192KTtcbiAgfVxufVxubCQ0Ll9fYiA9IGZ1bmN0aW9uIChuKSB7XG4gIHIkMyA9IG51bGwsIGUkMyAmJiBlJDMobik7XG59LCBsJDQuX19yID0gZnVuY3Rpb24gKG4pIHtcbiAgYSAmJiBhKG4pLCB0JDIgPSAwO1xuICB2YXIgaSA9IChyJDMgPSBuLl9fYykuX19IO1xuICBpICYmICh1JDIgPT09IHIkMyA/IChpLl9faCA9IFtdLCByJDMuX19oID0gW10sIGkuX18uZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgIG4uX19OICYmIChuLl9fID0gbi5fX04pLCBuLl9fViA9IGMkMiwgbi5fX04gPSBuLmkgPSB2b2lkIDA7XG4gIH0pKSA6IChpLl9faC5mb3JFYWNoKGskNSksIGkuX19oLmZvckVhY2godyQ0KSwgaS5fX2ggPSBbXSwgdCQyID0gMCkpLCB1JDIgPSByJDM7XG59LCBsJDQuZGlmZmVkID0gZnVuY3Rpb24gKHQpIHtcbiAgdiQzICYmIHYkMyh0KTtcbiAgdmFyIG8gPSB0Ll9fYztcbiAgbyAmJiBvLl9fSCAmJiAoby5fX0guX19oLmxlbmd0aCAmJiAoMSAhPT0gZiQyLnB1c2gobykgJiYgaSA9PT0gbCQ0LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoKGkgPSBsJDQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB8fCBqJDIpKGIkMykpLCBvLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgbi5pICYmIChuLl9fSCA9IG4uaSksIG4uX19WICE9PSBjJDIgJiYgKG4uX18gPSBuLl9fViksIG4uaSA9IHZvaWQgMCwgbi5fX1YgPSBjJDI7XG4gIH0pKSwgdSQyID0gciQzID0gbnVsbDtcbn0sIGwkNC5fX2MgPSBmdW5jdGlvbiAodCwgcikge1xuICByLnNvbWUoZnVuY3Rpb24gKHQpIHtcbiAgICB0cnkge1xuICAgICAgdC5fX2guZm9yRWFjaChrJDUpLCB0Ll9faCA9IHQuX19oLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gIW4uX18gfHwgdyQ0KG4pO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAodSkge1xuICAgICAgci5zb21lKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG4uX19oICYmIChuLl9faCA9IFtdKTtcbiAgICAgIH0pLCByID0gW10sIGwkNC5fX2UodSwgdC5fX3YpO1xuICAgIH1cbiAgfSksIGwkMyAmJiBsJDModCwgcik7XG59LCBsJDQudW5tb3VudCA9IGZ1bmN0aW9uICh0KSB7XG4gIG0kMyAmJiBtJDModCk7XG4gIHZhciByLFxuICAgIHUgPSB0Ll9fYztcbiAgdSAmJiB1Ll9fSCAmJiAodS5fX0guX18uZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgIHRyeSB7XG4gICAgICBrJDUobik7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgciA9IG47XG4gICAgfVxuICB9KSwgdS5fX0ggPSB2b2lkIDAsIHIgJiYgbCQ0Ll9fZShyLCB1Ll9fdikpO1xufTtcbnZhciBnJDQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbmZ1bmN0aW9uIGokMihuKSB7XG4gIHZhciB0LFxuICAgIHIgPSBmdW5jdGlvbiByKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHUpLCBnJDQgJiYgY2FuY2VsQW5pbWF0aW9uRnJhbWUodCksIHNldFRpbWVvdXQobik7XG4gICAgfSxcbiAgICB1ID0gc2V0VGltZW91dChyLCAxMDApO1xuICBnJDQgJiYgKHQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocikpO1xufVxuZnVuY3Rpb24gayQ1KG4pIHtcbiAgdmFyIHQgPSByJDMsXG4gICAgdSA9IG4uX19jO1xuICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHUgJiYgKG4uX19jID0gdm9pZCAwLCB1KCkpLCByJDMgPSB0O1xufVxuZnVuY3Rpb24gdyQ0KG4pIHtcbiAgdmFyIHQgPSByJDM7XG4gIG4uX19jID0gbi5fXygpLCByJDMgPSB0O1xufVxuZnVuY3Rpb24geiQ0KG4sIHQpIHtcbiAgcmV0dXJuICFuIHx8IG4ubGVuZ3RoICE9PSB0Lmxlbmd0aCB8fCB0LnNvbWUoZnVuY3Rpb24gKHQsIHIpIHtcbiAgICByZXR1cm4gdCAhPT0gbltyXTtcbiAgfSk7XG59XG5mdW5jdGlvbiBCJDMobiwgdCkge1xuICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ID8gdChuKSA6IHQ7XG59XG5mdW5jdGlvbiBnJDMobiwgdCkge1xuICBmb3IgKHZhciBlIGluIHQpIG5bZV0gPSB0W2VdO1xuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIEMkMShuLCB0KSB7XG4gIGZvciAodmFyIGUgaW4gbikgaWYgKFwiX19zb3VyY2VcIiAhPT0gZSAmJiAhKGUgaW4gdCkpIHJldHVybiAhMDtcbiAgZm9yICh2YXIgciBpbiB0KSBpZiAoXCJfX3NvdXJjZVwiICE9PSByICYmIG5bcl0gIT09IHRbcl0pIHJldHVybiAhMDtcbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gRSQyKG4pIHtcbiAgdGhpcy5wcm9wcyA9IG47XG59XG5mdW5jdGlvbiB3JDMobiwgZSkge1xuICBmdW5jdGlvbiByKG4pIHtcbiAgICB2YXIgdCA9IHRoaXMucHJvcHMucmVmLFxuICAgICAgciA9IHQgPT0gbi5yZWY7XG4gICAgcmV0dXJuICFyICYmIHQgJiYgKHQuY2FsbCA/IHQobnVsbCkgOiB0LmN1cnJlbnQgPSBudWxsKSwgZSA/ICFlKHRoaXMucHJvcHMsIG4pIHx8ICFyIDogQyQxKHRoaXMucHJvcHMsIG4pO1xuICB9XG4gIGZ1bmN0aW9uIHUoZSkge1xuICAgIHJldHVybiB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHIsIHkkMyhuLCBlKTtcbiAgfVxuICByZXR1cm4gdS5kaXNwbGF5TmFtZSA9IFwiTWVtbyhcIiArIChuLmRpc3BsYXlOYW1lIHx8IG4ubmFtZSkgKyBcIilcIiwgdS5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9ICEwLCB1Ll9fZiA9ICEwLCB1O1xufVxuKEUkMi5wcm90b3R5cGUgPSBuZXcgYiQ0KCkpLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gITAsIEUkMi5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gKG4sIHQpIHtcbiAgcmV0dXJuIEMkMSh0aGlzLnByb3BzLCBuKSB8fCBDJDEodGhpcy5zdGF0ZSwgdCk7XG59O1xudmFyIHgkMyA9IGwkNC5fX2I7XG5sJDQuX19iID0gZnVuY3Rpb24gKG4pIHtcbiAgbi50eXBlICYmIG4udHlwZS5fX2YgJiYgbi5yZWYgJiYgKG4ucHJvcHMucmVmID0gbi5yZWYsIG4ucmVmID0gbnVsbCksIHgkMyAmJiB4JDMobik7XG59O1xudmFyIFIgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sW1wiZm9yXCJdICYmIFN5bWJvbFtcImZvclwiXShcInJlYWN0LmZvcndhcmRfcmVmXCIpIHx8IDM5MTE7XG5mdW5jdGlvbiBOJDEobikge1xuICBmdW5jdGlvbiB0KHQpIHtcbiAgICB2YXIgZSA9IGckMyh7fSwgdCk7XG4gICAgcmV0dXJuIGRlbGV0ZSBlLnJlZiwgbihlLCB0LnJlZiB8fCBudWxsKTtcbiAgfVxuICByZXR1cm4gdC4kJHR5cGVvZiA9IFIsIHQucmVuZGVyID0gdCwgdC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHQuX19mID0gITAsIHQuZGlzcGxheU5hbWUgPSBcIkZvcndhcmRSZWYoXCIgKyAobi5kaXNwbGF5TmFtZSB8fCBuLm5hbWUpICsgXCIpXCIsIHQ7XG59XG52YXIgayQ0ID0gZnVuY3Rpb24gayQ0KG4sIHQpIHtcbiAgICByZXR1cm4gbnVsbCA9PSBuID8gbnVsbCA6ICQkMigkJDIobikubWFwKHQpKTtcbiAgfSxcbiAgQSQzID0ge1xuICAgIG1hcDogayQ0LFxuICAgIGZvckVhY2g6IGskNCxcbiAgICBjb3VudDogZnVuY3Rpb24gY291bnQobikge1xuICAgICAgcmV0dXJuIG4gPyAkJDIobikubGVuZ3RoIDogMDtcbiAgICB9LFxuICAgIG9ubHk6IGZ1bmN0aW9uIG9ubHkobikge1xuICAgICAgdmFyIHQgPSAkJDIobik7XG4gICAgICBpZiAoMSAhPT0gdC5sZW5ndGgpIHRocm93IFwiQ2hpbGRyZW4ub25seVwiO1xuICAgICAgcmV0dXJuIHRbMF07XG4gICAgfSxcbiAgICB0b0FycmF5OiAkJDJcbiAgfSxcbiAgTyA9IGwkNC5fX2U7XG5sJDQuX19lID0gZnVuY3Rpb24gKG4sIHQsIGUsIHIpIHtcbiAgaWYgKG4udGhlbikgZm9yICh2YXIgdSwgbyA9IHQ7IG8gPSBvLl9fOykgaWYgKCh1ID0gby5fX2MpICYmIHUuX19jKSByZXR1cm4gbnVsbCA9PSB0Ll9fZSAmJiAodC5fX2UgPSBlLl9fZSwgdC5fX2sgPSBlLl9fayksIHUuX19jKG4sIHQpO1xuICBPKG4sIHQsIGUsIHIpO1xufTtcbnZhciBUJDEgPSBsJDQudW5tb3VudDtcbmZ1bmN0aW9uIEYkMihuLCB0LCBlKSB7XG4gIHJldHVybiBuICYmIChuLl9fYyAmJiBuLl9fYy5fX0ggJiYgKG4uX19jLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBuLl9fYyAmJiBuLl9fYygpO1xuICB9KSwgbi5fX2MuX19IID0gbnVsbCksIG51bGwgIT0gKG4gPSBnJDMoe30sIG4pKS5fX2MgJiYgKG4uX19jLl9fUCA9PT0gZSAmJiAobi5fX2MuX19QID0gdCksIG4uX19jID0gbnVsbCksIG4uX19rID0gbi5fX2sgJiYgbi5fX2subWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIEYkMihuLCB0LCBlKTtcbiAgfSkpLCBuO1xufVxuZnVuY3Rpb24gSSQyKG4sIHQsIGUpIHtcbiAgcmV0dXJuIG4gJiYgZSAmJiAobi5fX3YgPSBudWxsLCBuLl9fayA9IG4uX19rICYmIG4uX19rLm1hcChmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBJJDIobiwgdCwgZSk7XG4gIH0pLCBuLl9fYyAmJiBuLl9fYy5fX1AgPT09IHQgJiYgKG4uX19lICYmIGUuYXBwZW5kQ2hpbGQobi5fX2UpLCBuLl9fYy5fX2UgPSAhMCwgbi5fX2MuX19QID0gZSkpLCBuO1xufVxuZnVuY3Rpb24gTCQxKCkge1xuICB0aGlzLl9fdSA9IDAsIHRoaXMudCA9IG51bGwsIHRoaXMuX19iID0gbnVsbDtcbn1cbmZ1bmN0aW9uIFUkMShuKSB7XG4gIHZhciB0ID0gbi5fXy5fX2M7XG4gIHJldHVybiB0ICYmIHQuX19hICYmIHQuX19hKG4pO1xufVxuZnVuY3Rpb24gRCQxKG4pIHtcbiAgdmFyIGUsIHIsIHU7XG4gIGZ1bmN0aW9uIG8obykge1xuICAgIGlmIChlIHx8IChlID0gbigpKS50aGVuKGZ1bmN0aW9uIChuKSB7XG4gICAgICByID0gbltcImRlZmF1bHRcIl0gfHwgbjtcbiAgICB9LCBmdW5jdGlvbiAobikge1xuICAgICAgdSA9IG47XG4gICAgfSksIHUpIHRocm93IHU7XG4gICAgaWYgKCFyKSB0aHJvdyBlO1xuICAgIHJldHVybiB5JDMociwgbyk7XG4gIH1cbiAgcmV0dXJuIG8uZGlzcGxheU5hbWUgPSBcIkxhenlcIiwgby5fX2YgPSAhMCwgbztcbn1cbmZ1bmN0aW9uIE0kMSgpIHtcbiAgdGhpcy51ID0gbnVsbCwgdGhpcy5vID0gbnVsbDtcbn1cbmwkNC51bm1vdW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgdmFyIHQgPSBuLl9fYztcbiAgdCAmJiB0Ll9fUiAmJiB0Ll9fUigpLCB0ICYmIDMyICYgbi5fX3UgJiYgKG4udHlwZSA9IG51bGwpLCBUJDEgJiYgVCQxKG4pO1xufSwgKEwkMS5wcm90b3R5cGUgPSBuZXcgYiQ0KCkpLl9fYyA9IGZ1bmN0aW9uIChuLCB0KSB7XG4gIHZhciBlID0gdC5fX2MsXG4gICAgciA9IHRoaXM7XG4gIG51bGwgPT0gci50ICYmIChyLnQgPSBbXSksIHIudC5wdXNoKGUpO1xuICB2YXIgdSA9IFUkMShyLl9fdiksXG4gICAgbyA9ICExLFxuICAgIGkgPSBmdW5jdGlvbiBpKCkge1xuICAgICAgbyB8fCAobyA9ICEwLCBlLl9fUiA9IG51bGwsIHUgPyB1KGwpIDogbCgpKTtcbiAgICB9O1xuICBlLl9fUiA9IGk7XG4gIHZhciBsID0gZnVuY3Rpb24gbCgpIHtcbiAgICBpZiAoISAtLXIuX191KSB7XG4gICAgICBpZiAoci5zdGF0ZS5fX2EpIHtcbiAgICAgICAgdmFyIG4gPSByLnN0YXRlLl9fYTtcbiAgICAgICAgci5fX3YuX19rWzBdID0gSSQyKG4sIG4uX19jLl9fUCwgbi5fX2MuX19PKTtcbiAgICAgIH1cbiAgICAgIHZhciB0O1xuICAgICAgZm9yIChyLnNldFN0YXRlKHtcbiAgICAgICAgX19hOiByLl9fYiA9IG51bGxcbiAgICAgIH0pOyB0ID0gci50LnBvcCgpOykgdC5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcbiAgci5fX3UrKyB8fCAzMiAmIHQuX191IHx8IHIuc2V0U3RhdGUoe1xuICAgIF9fYTogci5fX2IgPSByLl9fdi5fX2tbMF1cbiAgfSksIG4udGhlbihpLCBpKTtcbn0sIEwkMS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudCA9IFtdO1xufSwgTCQxLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobiwgZSkge1xuICBpZiAodGhpcy5fX2IpIHtcbiAgICBpZiAodGhpcy5fX3YuX19rKSB7XG4gICAgICB2YXIgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIG8gPSB0aGlzLl9fdi5fX2tbMF0uX19jO1xuICAgICAgdGhpcy5fX3YuX19rWzBdID0gRiQyKHRoaXMuX19iLCByLCBvLl9fTyA9IG8uX19QKTtcbiAgICB9XG4gICAgdGhpcy5fX2IgPSBudWxsO1xuICB9XG4gIHZhciBpID0gZS5fX2EgJiYgeSQzKGckNSwgbnVsbCwgbi5mYWxsYmFjayk7XG4gIHJldHVybiBpICYmIChpLl9fdSAmPSAtMzMpLCBbeSQzKGckNSwgbnVsbCwgZS5fX2EgPyBudWxsIDogbi5jaGlsZHJlbiksIGldO1xufTtcbnZhciBWJDEgPSBmdW5jdGlvbiBWJDEobiwgdCwgZSkge1xuICBpZiAoKytlWzFdID09PSBlWzBdICYmIG4ub1tcImRlbGV0ZVwiXSh0KSwgbi5wcm9wcy5yZXZlYWxPcmRlciAmJiAoXCJ0XCIgIT09IG4ucHJvcHMucmV2ZWFsT3JkZXJbMF0gfHwgIW4uby5zaXplKSkgZm9yIChlID0gbi51OyBlOykge1xuICAgIGZvciAoOyBlLmxlbmd0aCA+IDM7KSBlLnBvcCgpKCk7XG4gICAgaWYgKGVbMV0gPCBlWzBdKSBicmVhaztcbiAgICBuLnUgPSBlID0gZVsyXTtcbiAgfVxufTtcbmZ1bmN0aW9uIFckMShuKSB7XG4gIHJldHVybiB0aGlzLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbi5jb250ZXh0O1xuICB9LCBuLmNoaWxkcmVuO1xufVxuZnVuY3Rpb24gUCQxKG4pIHtcbiAgdmFyIGUgPSB0aGlzLFxuICAgIHIgPSBuLmk7XG4gIGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcSQ2KG51bGwsIGUubCksIGUubCA9IG51bGwsIGUuaSA9IG51bGw7XG4gIH0sIGUuaSAmJiBlLmkgIT09IHIgJiYgZS5jb21wb25lbnRXaWxsVW5tb3VudCgpLCBlLmwgfHwgKGUuaSA9IHIsIGUubCA9IHtcbiAgICBub2RlVHlwZTogMSxcbiAgICBwYXJlbnROb2RlOiByLFxuICAgIGNoaWxkTm9kZXM6IFtdLFxuICAgIGFwcGVuZENoaWxkOiBmdW5jdGlvbiBhcHBlbmRDaGlsZChuKSB7XG4gICAgICB0aGlzLmNoaWxkTm9kZXMucHVzaChuKSwgZS5pLmFwcGVuZENoaWxkKG4pO1xuICAgIH0sXG4gICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiBpbnNlcnRCZWZvcmUobiwgdCkge1xuICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2gobiksIGUuaS5hcHBlbmRDaGlsZChuKTtcbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbiByZW1vdmVDaGlsZChuKSB7XG4gICAgICB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKHRoaXMuY2hpbGROb2Rlcy5pbmRleE9mKG4pID4+PiAxLCAxKSwgZS5pLnJlbW92ZUNoaWxkKG4pO1xuICAgIH1cbiAgfSksIHEkNih5JDMoVyQxLCB7XG4gICAgY29udGV4dDogZS5jb250ZXh0XG4gIH0sIG4uX192KSwgZS5sKTtcbn1cbmZ1bmN0aW9uIGokMShuLCBlKSB7XG4gIHZhciByID0geSQzKFAkMSwge1xuICAgIF9fdjogbixcbiAgICBpOiBlXG4gIH0pO1xuICByZXR1cm4gci5jb250YWluZXJJbmZvID0gZSwgcjtcbn1cbihNJDEucHJvdG90eXBlID0gbmV3IGIkNCgpKS5fX2EgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdCA9IHRoaXMsXG4gICAgZSA9IFUkMSh0Ll9fdiksXG4gICAgciA9IHQuby5nZXQobik7XG4gIHJldHVybiByWzBdKyssIGZ1bmN0aW9uICh1KSB7XG4gICAgdmFyIG8gPSBmdW5jdGlvbiBvKCkge1xuICAgICAgdC5wcm9wcy5yZXZlYWxPcmRlciA/IChyLnB1c2godSksIFYkMSh0LCBuLCByKSkgOiB1KCk7XG4gICAgfTtcbiAgICBlID8gZShvKSA6IG8oKTtcbiAgfTtcbn0sIE0kMS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG4pIHtcbiAgdGhpcy51ID0gbnVsbCwgdGhpcy5vID0gbmV3IE1hcCgpO1xuICB2YXIgdCA9ICQkMihuLmNoaWxkcmVuKTtcbiAgbi5yZXZlYWxPcmRlciAmJiBcImJcIiA9PT0gbi5yZXZlYWxPcmRlclswXSAmJiB0LnJldmVyc2UoKTtcbiAgZm9yICh2YXIgZSA9IHQubGVuZ3RoOyBlLS07KSB0aGlzLm8uc2V0KHRbZV0sIHRoaXMudSA9IFsxLCAwLCB0aGlzLnVdKTtcbiAgcmV0dXJuIG4uY2hpbGRyZW47XG59LCBNJDEucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IE0kMS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBuID0gdGhpcztcbiAgdGhpcy5vLmZvckVhY2goZnVuY3Rpb24gKHQsIGUpIHtcbiAgICBWJDEobiwgZSwgdCk7XG4gIH0pO1xufTtcbnZhciB6JDMgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sW1wiZm9yXCJdICYmIFN5bWJvbFtcImZvclwiXShcInJlYWN0LmVsZW1lbnRcIikgfHwgNjAxMDMsXG4gIEIkMiA9IC9eKD86YWNjZW50fGFsaWdubWVudHxhcmFiaWN8YmFzZWxpbmV8Y2FwfGNsaXAoPyFQYXRoVSl8Y29sb3J8ZG9taW5hbnR8ZmlsbHxmbG9vZHxmb250fGdseXBoKD8hUil8aG9yaXp8aW1hZ2UoIVMpfGxldHRlcnxsaWdodGluZ3xtYXJrZXIoPyFIfFd8VSl8b3ZlcmxpbmV8cGFpbnR8cG9pbnRlcnxzaGFwZXxzdG9wfHN0cmlrZXRocm91Z2h8c3Ryb2tlfHRleHQoPyFMKXx0cmFuc2Zvcm18dW5kZXJsaW5lfHVuaWNvZGV8dW5pdHN8dnx2ZWN0b3J8dmVydHx3b3JkfHdyaXRpbmd8eCg/IUMpKVtBLVpdLyxcbiAgSCQyID0gL15vbihBbml8VHJhfFRvdXxCZWZvcmVJbnB8Q29tcG8pLyxcbiAgWiQxID0gL1tBLVowLTldL2csXG4gIFkkMSA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGRvY3VtZW50LFxuICAkJDEgPSBmdW5jdGlvbiAkJDEobikge1xuICAgIHJldHVybiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gX3R5cGVvZihTeW1ib2woKSkgPyAvZmlsfGNoZXxyYWQvIDogL2ZpbHxjaGV8cmEvKS50ZXN0KG4pO1xuICB9O1xuZnVuY3Rpb24gcSQ0KG4sIHQsIGUpIHtcbiAgcmV0dXJuIG51bGwgPT0gdC5fX2sgJiYgKHQudGV4dENvbnRlbnQgPSBcIlwiKSwgcSQ2KG4sIHQpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUgJiYgZSgpLCBuID8gbi5fX2MgOiBudWxsO1xufVxuZnVuY3Rpb24gRyQyKG4sIHQsIGUpIHtcbiAgcmV0dXJuIEIkNChuLCB0KSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlICYmIGUoKSwgbiA/IG4uX19jIDogbnVsbDtcbn1cbmIkNC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9LCBbXCJjb21wb25lbnRXaWxsTW91bnRcIiwgXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsIFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiJDQucHJvdG90eXBlLCB0LCB7XG4gICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzW1wiVU5TQUZFX1wiICsgdF07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgdCwge1xuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBuXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgSiQxID0gbCQ0LmV2ZW50O1xuZnVuY3Rpb24gSyQxKCkge31cbmZ1bmN0aW9uIFEkMSgpIHtcbiAgcmV0dXJuIHRoaXMuY2FuY2VsQnViYmxlO1xufVxuZnVuY3Rpb24gWCQxKCkge1xuICByZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkO1xufVxubCQ0LmV2ZW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgcmV0dXJuIEokMSAmJiAobiA9IEokMShuKSksIG4ucGVyc2lzdCA9IEskMSwgbi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IFEkMSwgbi5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBYJDEsIG4ubmF0aXZlRXZlbnQgPSBuO1xufTtcbnZhciBubixcbiAgdG4gPSB7XG4gICAgZW51bWVyYWJsZTogITEsXG4gICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzW1wiY2xhc3NcIl07XG4gICAgfVxuICB9LFxuICBlbiA9IGwkNC52bm9kZTtcbmwkNC52bm9kZSA9IGZ1bmN0aW9uIChuKSB7XG4gIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4udHlwZSAmJiBmdW5jdGlvbiAobikge1xuICAgIHZhciB0ID0gbi5wcm9wcyxcbiAgICAgIGUgPSBuLnR5cGUsXG4gICAgICB1ID0ge307XG4gICAgZm9yICh2YXIgbyBpbiB0KSB7XG4gICAgICB2YXIgaSA9IHRbb107XG4gICAgICBpZiAoIShcInZhbHVlXCIgPT09IG8gJiYgXCJkZWZhdWx0VmFsdWVcIiBpbiB0ICYmIG51bGwgPT0gaSB8fCBZJDEgJiYgXCJjaGlsZHJlblwiID09PSBvICYmIFwibm9zY3JpcHRcIiA9PT0gZSB8fCBcImNsYXNzXCIgPT09IG8gfHwgXCJjbGFzc05hbWVcIiA9PT0gbykpIHtcbiAgICAgICAgdmFyIGwgPSBvLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCIgPT09IG8gJiYgXCJ2YWx1ZVwiIGluIHQgJiYgbnVsbCA9PSB0LnZhbHVlID8gbyA9IFwidmFsdWVcIiA6IFwiZG93bmxvYWRcIiA9PT0gbyAmJiAhMCA9PT0gaSA/IGkgPSBcIlwiIDogXCJvbmRvdWJsZWNsaWNrXCIgPT09IGwgPyBvID0gXCJvbmRibGNsaWNrXCIgOiBcIm9uY2hhbmdlXCIgIT09IGwgfHwgXCJpbnB1dFwiICE9PSBlICYmIFwidGV4dGFyZWFcIiAhPT0gZSB8fCAkJDEodC50eXBlKSA/IFwib25mb2N1c1wiID09PSBsID8gbyA9IFwib25mb2N1c2luXCIgOiBcIm9uYmx1clwiID09PSBsID8gbyA9IFwib25mb2N1c291dFwiIDogSCQyLnRlc3QobykgPyBvID0gbCA6IC0xID09PSBlLmluZGV4T2YoXCItXCIpICYmIEIkMi50ZXN0KG8pID8gbyA9IG8ucmVwbGFjZShaJDEsIFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkgOiBudWxsID09PSBpICYmIChpID0gdm9pZCAwKSA6IGwgPSBvID0gXCJvbmlucHV0XCIsIFwib25pbnB1dFwiID09PSBsICYmIHVbbyA9IGxdICYmIChvID0gXCJvbmlucHV0Q2FwdHVyZVwiKSwgdVtvXSA9IGk7XG4gICAgICB9XG4gICAgfVxuICAgIFwic2VsZWN0XCIgPT0gZSAmJiB1Lm11bHRpcGxlICYmIEFycmF5LmlzQXJyYXkodS52YWx1ZSkgJiYgKHUudmFsdWUgPSAkJDIodC5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgbi5wcm9wcy5zZWxlY3RlZCA9IC0xICE9IHUudmFsdWUuaW5kZXhPZihuLnByb3BzLnZhbHVlKTtcbiAgICB9KSksIFwic2VsZWN0XCIgPT0gZSAmJiBudWxsICE9IHUuZGVmYXVsdFZhbHVlICYmICh1LnZhbHVlID0gJCQyKHQuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24gKG4pIHtcbiAgICAgIG4ucHJvcHMuc2VsZWN0ZWQgPSB1Lm11bHRpcGxlID8gLTEgIT0gdS5kZWZhdWx0VmFsdWUuaW5kZXhPZihuLnByb3BzLnZhbHVlKSA6IHUuZGVmYXVsdFZhbHVlID09IG4ucHJvcHMudmFsdWU7XG4gICAgfSkpLCB0W1wiY2xhc3NcIl0gJiYgIXQuY2xhc3NOYW1lID8gKHVbXCJjbGFzc1wiXSA9IHRbXCJjbGFzc1wiXSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsIFwiY2xhc3NOYW1lXCIsIHRuKSkgOiAodC5jbGFzc05hbWUgJiYgIXRbXCJjbGFzc1wiXSB8fCB0W1wiY2xhc3NcIl0gJiYgdC5jbGFzc05hbWUpICYmICh1W1wiY2xhc3NcIl0gPSB1LmNsYXNzTmFtZSA9IHQuY2xhc3NOYW1lKSwgbi5wcm9wcyA9IHU7XG4gIH0obiksIG4uJCR0eXBlb2YgPSB6JDMsIGVuICYmIGVuKG4pO1xufTtcbnZhciBybiA9IGwkNC5fX3I7XG5sJDQuX19yID0gZnVuY3Rpb24gKG4pIHtcbiAgcm4gJiYgcm4obiksIG5uID0gbi5fX2M7XG59O1xudmFyIHVuID0gbCQ0LmRpZmZlZDtcbmwkNC5kaWZmZWQgPSBmdW5jdGlvbiAobikge1xuICB1biAmJiB1bihuKTtcbiAgdmFyIHQgPSBuLnByb3BzLFxuICAgIGUgPSBuLl9fZTtcbiAgbnVsbCAhPSBlICYmIFwidGV4dGFyZWFcIiA9PT0gbi50eXBlICYmIFwidmFsdWVcIiBpbiB0ICYmIHQudmFsdWUgIT09IGUudmFsdWUgJiYgKGUudmFsdWUgPSBudWxsID09IHQudmFsdWUgPyBcIlwiIDogdC52YWx1ZSksIG5uID0gbnVsbDtcbn07XG52YXIgb24gPSB7XG4gICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjoge1xuICAgICAgY3VycmVudDoge1xuICAgICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gcmVhZENvbnRleHQobikge1xuICAgICAgICAgIHJldHVybiBubi5fX25bbi5fX2NdLnByb3BzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBsbiA9IFwiMTcuMC4yXCI7XG5mdW5jdGlvbiBjbihuKSB7XG4gIHJldHVybiB5JDMuYmluZChudWxsLCBuKTtcbn1cbmZ1bmN0aW9uIGZuKG4pIHtcbiAgcmV0dXJuICEhbiAmJiBuLiQkdHlwZW9mID09PSB6JDM7XG59XG5mdW5jdGlvbiBhbihuKSB7XG4gIHJldHVybiBmbihuKSAmJiBuLnR5cGUgPT09IGckNTtcbn1cbmZ1bmN0aW9uIHNuKG4pIHtcbiAgcmV0dXJuIGZuKG4pID8gRSQzLmFwcGx5KG51bGwsIGFyZ3VtZW50cykgOiBuO1xufVxuZnVuY3Rpb24gaG4obikge1xuICByZXR1cm4gISFuLl9fayAmJiAocSQ2KG51bGwsIG4pLCAhMCk7XG59XG5mdW5jdGlvbiB2bihuKSB7XG4gIHJldHVybiBuICYmIChuLmJhc2UgfHwgMSA9PT0gbi5ub2RlVHlwZSAmJiBuKSB8fCBudWxsO1xufVxudmFyIGRuID0gZnVuY3Rpb24gZG4obiwgdCkge1xuICAgIHJldHVybiBuKHQpO1xuICB9LFxuICBwbiA9IGZ1bmN0aW9uIHBuKG4sIHQpIHtcbiAgICByZXR1cm4gbih0KTtcbiAgfSxcbiAgbW4gPSBnJDU7XG5mdW5jdGlvbiB5bihuKSB7XG4gIG4oKTtcbn1cbmZ1bmN0aW9uIF9uKG4pIHtcbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBibigpIHtcbiAgcmV0dXJuIFshMSwgeW5dO1xufVxudmFyIFNuID0geSQyLFxuICBnbiA9IGZuO1xuZnVuY3Rpb24gQ24obiwgdCkge1xuICB2YXIgZSA9IHQoKSxcbiAgICByID0gaCQ0KHtcbiAgICAgIGg6IHtcbiAgICAgICAgX186IGUsXG4gICAgICAgIHY6IHRcbiAgICAgIH1cbiAgICB9KSxcbiAgICB1ID0gclswXS5oLFxuICAgIG8gPSByWzFdO1xuICByZXR1cm4geSQyKGZ1bmN0aW9uICgpIHtcbiAgICB1Ll9fID0gZSwgdS52ID0gdCwgRW4odSkgJiYgbyh7XG4gICAgICBoOiB1XG4gICAgfSk7XG4gIH0sIFtuLCBlLCB0XSksIHAkMyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEVuKHUpICYmIG8oe1xuICAgICAgaDogdVxuICAgIH0pLCBuKGZ1bmN0aW9uICgpIHtcbiAgICAgIEVuKHUpICYmIG8oe1xuICAgICAgICBoOiB1XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgW25dKSwgZTtcbn1cbmZ1bmN0aW9uIEVuKG4pIHtcbiAgdmFyIHQsXG4gICAgZSxcbiAgICByID0gbi52LFxuICAgIHUgPSBuLl9fO1xuICB0cnkge1xuICAgIHZhciBvID0gcigpO1xuICAgIHJldHVybiAhKCh0ID0gdSkgPT09IChlID0gbykgJiYgKDAgIT09IHQgfHwgMSAvIHQgPT0gMSAvIGUpIHx8IHQgIT0gdCAmJiBlICE9IGUpO1xuICB9IGNhdGNoIChuKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG59XG52YXIgd24gPSB7XG4gIHVzZVN0YXRlOiBoJDQsXG4gIHVzZUlkOiBWJDIsXG4gIHVzZVJlZHVjZXI6IHMsXG4gIHVzZUVmZmVjdDogcCQzLFxuICB1c2VMYXlvdXRFZmZlY3Q6IHkkMixcbiAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBTbixcbiAgdXNlVHJhbnNpdGlvbjogYm4sXG4gIHVzZURlZmVycmVkVmFsdWU6IF9uLFxuICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogQ24sXG4gIHN0YXJ0VHJhbnNpdGlvbjogeW4sXG4gIHVzZVJlZjogXyQxLFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBBJDQsXG4gIHVzZU1lbW86IEYkMyxcbiAgdXNlQ2FsbGJhY2s6IFQkMixcbiAgdXNlQ29udGV4dDogcSQ1LFxuICB1c2VEZWJ1Z1ZhbHVlOiB4JDQsXG4gIHZlcnNpb246IFwiMTcuMC4yXCIsXG4gIENoaWxkcmVuOiBBJDMsXG4gIHJlbmRlcjogcSQ0LFxuICBoeWRyYXRlOiBHJDIsXG4gIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGhuLFxuICBjcmVhdGVQb3J0YWw6IGokMSxcbiAgY3JlYXRlRWxlbWVudDogeSQzLFxuICBjcmVhdGVDb250ZXh0OiBGJDQsXG4gIGNyZWF0ZUZhY3Rvcnk6IGNuLFxuICBjbG9uZUVsZW1lbnQ6IHNuLFxuICBjcmVhdGVSZWY6IF8kMixcbiAgRnJhZ21lbnQ6IGckNSxcbiAgaXNWYWxpZEVsZW1lbnQ6IGZuLFxuICBpc0VsZW1lbnQ6IGduLFxuICBpc0ZyYWdtZW50OiBhbixcbiAgZmluZERPTU5vZGU6IHZuLFxuICBDb21wb25lbnQ6IGIkNCxcbiAgUHVyZUNvbXBvbmVudDogRSQyLFxuICBtZW1vOiB3JDMsXG4gIGZvcndhcmRSZWY6IE4kMSxcbiAgZmx1c2hTeW5jOiBwbixcbiAgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6IGRuLFxuICBTdHJpY3RNb2RlOiBtbixcbiAgU3VzcGVuc2U6IEwkMSxcbiAgU3VzcGVuc2VMaXN0OiBNJDEsXG4gIGxhenk6IEQkMSxcbiAgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IG9uXG59O1xudmFyIGNvbXBhdF9tb2R1bGUgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgQ2hpbGRyZW46IEEkMyxcbiAgQ29tcG9uZW50OiBiJDQsXG4gIEZyYWdtZW50OiBnJDUsXG4gIFB1cmVDb21wb25lbnQ6IEUkMixcbiAgU3RyaWN0TW9kZTogbW4sXG4gIFN1c3BlbnNlOiBMJDEsXG4gIFN1c3BlbnNlTGlzdDogTSQxLFxuICBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDogb24sXG4gIGNsb25lRWxlbWVudDogc24sXG4gIGNyZWF0ZUNvbnRleHQ6IEYkNCxcbiAgY3JlYXRlRWxlbWVudDogeSQzLFxuICBjcmVhdGVGYWN0b3J5OiBjbixcbiAgY3JlYXRlUG9ydGFsOiBqJDEsXG4gIGNyZWF0ZVJlZjogXyQyLFxuICBcImRlZmF1bHRcIjogd24sXG4gIGZpbmRET01Ob2RlOiB2bixcbiAgZmx1c2hTeW5jOiBwbixcbiAgZm9yd2FyZFJlZjogTiQxLFxuICBoeWRyYXRlOiBHJDIsXG4gIGlzRWxlbWVudDogZ24sXG4gIGlzRnJhZ21lbnQ6IGFuLFxuICBpc1ZhbGlkRWxlbWVudDogZm4sXG4gIGxhenk6IEQkMSxcbiAgbWVtbzogdyQzLFxuICByZW5kZXI6IHEkNCxcbiAgc3RhcnRUcmFuc2l0aW9uOiB5bixcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogaG4sXG4gIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBkbixcbiAgdXNlQ2FsbGJhY2s6IFQkMixcbiAgdXNlQ29udGV4dDogcSQ1LFxuICB1c2VEZWJ1Z1ZhbHVlOiB4JDQsXG4gIHVzZURlZmVycmVkVmFsdWU6IF9uLFxuICB1c2VFZmZlY3Q6IHAkMyxcbiAgdXNlRXJyb3JCb3VuZGFyeTogUCQyLFxuICB1c2VJZDogViQyLFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBBJDQsXG4gIHVzZUluc2VydGlvbkVmZmVjdDogU24sXG4gIHVzZUxheW91dEVmZmVjdDogeSQyLFxuICB1c2VNZW1vOiBGJDMsXG4gIHVzZVJlZHVjZXI6IHMsXG4gIHVzZVJlZjogXyQxLFxuICB1c2VTdGF0ZTogaCQ0LFxuICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogQ24sXG4gIHVzZVRyYW5zaXRpb246IGJuLFxuICB2ZXJzaW9uOiBsblxufSk7XG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcbmZ1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5fX2VzTW9kdWxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnZGVmYXVsdCcpID8geFsnZGVmYXVsdCddIDogeDtcbn1cbmZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7XG4gIGlmIChuLl9fZXNNb2R1bGUpIHJldHVybiBuO1xuICB2YXIgZiA9IG5bXCJkZWZhdWx0XCJdO1xuICBpZiAodHlwZW9mIGYgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGEgPSBmdW5jdGlvbiBhKCkge1xuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBhKSB7XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdChmLCBhcmd1bWVudHMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIGEucHJvdG90eXBlID0gZi5wcm90b3R5cGU7XG4gIH0gZWxzZSBhID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLCBrKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gbltrXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBhO1xufVxudmFyIHJlYWN0SXMkMiA9IHtcbiAgZXhwb3J0czoge31cbn07XG52YXIgcmVhY3RJc19wcm9kdWN0aW9uX21pbiQxID0ge307XG52YXIgYiQyID0gNjAxMDMsXG4gIGMkMSA9IDYwMTA2LFxuICBkJDEgPSA2MDEwNyxcbiAgZSQyID0gNjAxMDgsXG4gIGYkMSA9IDYwMTE0LFxuICBnJDIgPSA2MDEwOSxcbiAgaCQzID0gNjAxMTAsXG4gIGskMyA9IDYwMTEyLFxuICBsJDIgPSA2MDExMyxcbiAgbSQyID0gNjAxMjAsXG4gIG4kMiA9IDYwMTE1LFxuICBwJDIgPSA2MDExNixcbiAgcSQzID0gNjAxMjEsXG4gIHIkMiA9IDYwMTIyLFxuICB1JDEgPSA2MDExNyxcbiAgdiQyID0gNjAxMjksXG4gIHckMiA9IDYwMTMxO1xuaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2xbXCJmb3JcIl0pIHtcbiAgdmFyIHgkMiA9IFN5bWJvbFtcImZvclwiXTtcbiAgYiQyID0geCQyKFwicmVhY3QuZWxlbWVudFwiKTtcbiAgYyQxID0geCQyKFwicmVhY3QucG9ydGFsXCIpO1xuICBkJDEgPSB4JDIoXCJyZWFjdC5mcmFnbWVudFwiKTtcbiAgZSQyID0geCQyKFwicmVhY3Quc3RyaWN0X21vZGVcIik7XG4gIGYkMSA9IHgkMihcInJlYWN0LnByb2ZpbGVyXCIpO1xuICBnJDIgPSB4JDIoXCJyZWFjdC5wcm92aWRlclwiKTtcbiAgaCQzID0geCQyKFwicmVhY3QuY29udGV4dFwiKTtcbiAgayQzID0geCQyKFwicmVhY3QuZm9yd2FyZF9yZWZcIik7XG4gIGwkMiA9IHgkMihcInJlYWN0LnN1c3BlbnNlXCIpO1xuICBtJDIgPSB4JDIoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpO1xuICBuJDIgPSB4JDIoXCJyZWFjdC5tZW1vXCIpO1xuICBwJDIgPSB4JDIoXCJyZWFjdC5sYXp5XCIpO1xuICBxJDMgPSB4JDIoXCJyZWFjdC5ibG9ja1wiKTtcbiAgciQyID0geCQyKFwicmVhY3Quc2VydmVyLmJsb2NrXCIpO1xuICB1JDEgPSB4JDIoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTtcbiAgdiQyID0geCQyKFwicmVhY3QuZGVidWdfdHJhY2VfbW9kZVwiKTtcbiAgdyQyID0geCQyKFwicmVhY3QubGVnYWN5X2hpZGRlblwiKTtcbn1cbmZ1bmN0aW9uIHkkMShhKSB7XG4gIGlmIChcIm9iamVjdFwiID09PSBfdHlwZW9mKGEpICYmIG51bGwgIT09IGEpIHtcbiAgICB2YXIgdCA9IGEuJCR0eXBlb2Y7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIGIkMjpcbiAgICAgICAgc3dpdGNoIChhID0gYS50eXBlLCBhKSB7XG4gICAgICAgICAgY2FzZSBkJDE6XG4gICAgICAgICAgY2FzZSBmJDE6XG4gICAgICAgICAgY2FzZSBlJDI6XG4gICAgICAgICAgY2FzZSBsJDI6XG4gICAgICAgICAgY2FzZSBtJDI6XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgc3dpdGNoIChhID0gYSAmJiBhLiQkdHlwZW9mLCBhKSB7XG4gICAgICAgICAgICAgIGNhc2UgaCQzOlxuICAgICAgICAgICAgICBjYXNlIGskMzpcbiAgICAgICAgICAgICAgY2FzZSBwJDI6XG4gICAgICAgICAgICAgIGNhc2UgbiQyOlxuICAgICAgICAgICAgICBjYXNlIGckMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY2FzZSBjJDE6XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgfVxufVxudmFyIHokMiA9IGckMixcbiAgQSQyID0gYiQyLFxuICBCJDEgPSBrJDMsXG4gIEMgPSBkJDEsXG4gIEQgPSBwJDIsXG4gIEUkMSA9IG4kMixcbiAgRiQxID0gYyQxLFxuICBHJDEgPSBmJDEsXG4gIEgkMSA9IGUkMixcbiAgSSQxID0gbCQyO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLkNvbnRleHRDb25zdW1lciA9IGgkMztcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5Db250ZXh0UHJvdmlkZXIgPSB6JDI7XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuRWxlbWVudCA9IEEkMjtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5Gb3J3YXJkUmVmID0gQiQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLkZyYWdtZW50ID0gQztcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5MYXp5ID0gRDtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5NZW1vID0gRSQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLlBvcnRhbCA9IEYkMTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5Qcm9maWxlciA9IEckMTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5TdHJpY3RNb2RlID0gSCQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLlN1c3BlbnNlID0gSSQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzQXN5bmNNb2RlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gITE7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzQ29uY3VycmVudE1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhMTtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNDb250ZXh0Q29uc3VtZXIgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4geSQxKGEpID09PSBoJDM7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIHkkMShhKSA9PT0gZyQyO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc0VsZW1lbnQgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4gXCJvYmplY3RcIiA9PT0gX3R5cGVvZihhKSAmJiBudWxsICE9PSBhICYmIGEuJCR0eXBlb2YgPT09IGIkMjtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNGb3J3YXJkUmVmID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIHkkMShhKSA9PT0gayQzO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc0ZyYWdtZW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIHkkMShhKSA9PT0gZCQxO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc0xhenkgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4geSQxKGEpID09PSBwJDI7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzTWVtbyA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB5JDEoYSkgPT09IG4kMjtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNQb3J0YWwgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4geSQxKGEpID09PSBjJDE7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzUHJvZmlsZXIgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4geSQxKGEpID09PSBmJDE7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzU3RyaWN0TW9kZSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB5JDEoYSkgPT09IGUkMjtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNTdXNwZW5zZSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB5JDEoYSkgPT09IGwkMjtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNWYWxpZEVsZW1lbnRUeXBlID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiBhIHx8IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGEgfHwgYSA9PT0gZCQxIHx8IGEgPT09IGYkMSB8fCBhID09PSB2JDIgfHwgYSA9PT0gZSQyIHx8IGEgPT09IGwkMiB8fCBhID09PSBtJDIgfHwgYSA9PT0gdyQyIHx8IFwib2JqZWN0XCIgPT09IF90eXBlb2YoYSkgJiYgbnVsbCAhPT0gYSAmJiAoYS4kJHR5cGVvZiA9PT0gcCQyIHx8IGEuJCR0eXBlb2YgPT09IG4kMiB8fCBhLiQkdHlwZW9mID09PSBnJDIgfHwgYS4kJHR5cGVvZiA9PT0gaCQzIHx8IGEuJCR0eXBlb2YgPT09IGskMyB8fCBhLiQkdHlwZW9mID09PSB1JDEgfHwgYS4kJHR5cGVvZiA9PT0gcSQzIHx8IGFbMF0gPT09IHIkMikgPyAhMCA6ICExO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS50eXBlT2YgPSB5JDE7XG57XG4gIHJlYWN0SXMkMi5leHBvcnRzID0gcmVhY3RJc19wcm9kdWN0aW9uX21pbiQxO1xufVxudmFyIHJlYWN0SXNFeHBvcnRzJDEgPSByZWFjdElzJDIuZXhwb3J0cztcbnZhciBzaGFsbG93ZXF1YWwgPSBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQiwgY29tcGFyZSwgY29tcGFyZUNvbnRleHQpIHtcbiAgdmFyIHJldCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIG9iakEsIG9iakIpIDogdm9pZCAwO1xuICBpZiAocmV0ICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gISFyZXQ7XG4gIH1cbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoX3R5cGVvZihvYmpBKSAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQSB8fCBfdHlwZW9mKG9iakIpICE9PSBcIm9iamVjdFwiIHx8ICFvYmpCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBiSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7XG4gIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGtleXNBLmxlbmd0aDsgaWR4KyspIHtcbiAgICB2YXIga2V5ID0ga2V5c0FbaWR4XTtcbiAgICBpZiAoIWJIYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB2YWx1ZUEgPSBvYmpBW2tleV07XG4gICAgdmFyIHZhbHVlQiA9IG9iakJba2V5XTtcbiAgICByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCB2YWx1ZUEsIHZhbHVlQiwga2V5KSA6IHZvaWQgMDtcbiAgICBpZiAocmV0ID09PSBmYWxzZSB8fCByZXQgPT09IHZvaWQgMCAmJiB2YWx1ZUEgIT09IHZhbHVlQikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgaCQyID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHNoYWxsb3dlcXVhbCk7XG5mdW5jdGlvbiBzdHlsaXNfbWluKFcpIHtcbiAgZnVuY3Rpb24gTShkLCBjLCBlLCBoLCBhKSB7XG4gICAgZm9yICh2YXIgbSA9IDAsIGIgPSAwLCB2ID0gMCwgbiA9IDAsIHEsIGcsIHggPSAwLCBLID0gMCwgaywgdSA9IGsgPSBxID0gMCwgbCA9IDAsIHIgPSAwLCBJID0gMCwgdCA9IDAsIEIgPSBlLmxlbmd0aCwgSiA9IEIgLSAxLCB5LCBmID0gJycsIHAgPSAnJywgRiA9ICcnLCBHID0gJycsIEM7IGwgPCBCOykge1xuICAgICAgZyA9IGUuY2hhckNvZGVBdChsKTtcbiAgICAgIGwgPT09IEogJiYgMCAhPT0gYiArIG4gKyB2ICsgbSAmJiAoMCAhPT0gYiAmJiAoZyA9IDQ3ID09PSBiID8gMTAgOiA0NyksIG4gPSB2ID0gbSA9IDAsIEIrKywgSisrKTtcbiAgICAgIGlmICgwID09PSBiICsgbiArIHYgKyBtKSB7XG4gICAgICAgIGlmIChsID09PSBKICYmICgwIDwgciAmJiAoZiA9IGYucmVwbGFjZShOLCAnJykpLCAwIDwgZi50cmltKCkubGVuZ3RoKSkge1xuICAgICAgICAgIHN3aXRjaCAoZykge1xuICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIGNhc2UgNTk6XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBmICs9IGUuY2hhckF0KGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnID0gNTk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChnKSB7XG4gICAgICAgICAgY2FzZSAxMjM6XG4gICAgICAgICAgICBmID0gZi50cmltKCk7XG4gICAgICAgICAgICBxID0gZi5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgayA9IDE7XG4gICAgICAgICAgICBmb3IgKHQgPSArK2w7IGwgPCBCOykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGcgPSBlLmNoYXJDb2RlQXQobCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEyMzpcbiAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI1OlxuICAgICAgICAgICAgICAgICAgay0tO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZyA9IGUuY2hhckNvZGVBdChsICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHUgPSBsICsgMTsgdSA8IEo7ICsrdSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUuY2hhckNvZGVBdCh1KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNDIgPT09IGcgJiYgNDIgPT09IGUuY2hhckNvZGVBdCh1IC0gMSkgJiYgbCArIDIgIT09IHUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHUgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0NyA9PT0gZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gdSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSB1O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTE6XG4gICAgICAgICAgICAgICAgICBnKys7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgIGcrKztcbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICBmb3IgKDsgbCsrIDwgSiAmJiBlLmNoYXJDb2RlQXQobCkgIT09IGc7KSB7fVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICgwID09PSBrKSBicmVhaztcbiAgICAgICAgICAgICAgbCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgayA9IGUuc3Vic3RyaW5nKHQsIGwpO1xuICAgICAgICAgICAgMCA9PT0gcSAmJiAocSA9IChmID0gZi5yZXBsYWNlKGNhLCAnJykudHJpbSgpKS5jaGFyQ29kZUF0KDApKTtcbiAgICAgICAgICAgIHN3aXRjaCAocSkge1xuICAgICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAgIDAgPCByICYmIChmID0gZi5yZXBsYWNlKE4sICcnKSk7XG4gICAgICAgICAgICAgICAgZyA9IGYuY2hhckNvZGVBdCgxKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTAwOlxuICAgICAgICAgICAgICAgICAgY2FzZSAxMDk6XG4gICAgICAgICAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgIHIgPSBjO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHIgPSBPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrID0gTShjLCByLCBrLCBnLCBhICsgMSk7XG4gICAgICAgICAgICAgICAgdCA9IGsubGVuZ3RoO1xuICAgICAgICAgICAgICAgIDAgPCBBICYmIChyID0gWChPLCBmLCBJKSwgQyA9IEgoMywgaywgciwgYywgRCwgeiwgdCwgZywgYSwgaCksIGYgPSByLmpvaW4oJycpLCB2b2lkIDAgIT09IEMgJiYgMCA9PT0gKHQgPSAoayA9IEMudHJpbSgpKS5sZW5ndGgpICYmIChnID0gMCwgayA9ICcnKSk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPCB0KSBzd2l0Y2ggKGcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTE1OlxuICAgICAgICAgICAgICAgICAgICBmID0gZi5yZXBsYWNlKGRhLCBlYSk7XG4gICAgICAgICAgICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTA5OlxuICAgICAgICAgICAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICAgICAgICAgICAgayA9IGYgKyAneycgKyBrICsgJ30nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTA3OlxuICAgICAgICAgICAgICAgICAgICBmID0gZi5yZXBsYWNlKGZhLCAnJDEgJDInKTtcbiAgICAgICAgICAgICAgICAgICAgayA9IGYgKyAneycgKyBrICsgJ30nO1xuICAgICAgICAgICAgICAgICAgICBrID0gMSA9PT0gdyB8fCAyID09PSB3ICYmIEwoJ0AnICsgaywgMykgPyAnQC13ZWJraXQtJyArIGsgKyAnQCcgKyBrIDogJ0AnICsgaztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBrID0gZiArIGssIDExMiA9PT0gaCAmJiAoayA9IChwICs9IGssICcnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGsgPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBrID0gTShjLCBYKGMsIGYsIEkpLCBrLCBoLCBhICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBGICs9IGs7XG4gICAgICAgICAgICBrID0gSSA9IHIgPSB1ID0gcSA9IDA7XG4gICAgICAgICAgICBmID0gJyc7XG4gICAgICAgICAgICBnID0gZS5jaGFyQ29kZUF0KCsrbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICBjYXNlIDU5OlxuICAgICAgICAgICAgZiA9ICgwIDwgciA/IGYucmVwbGFjZShOLCAnJykgOiBmKS50cmltKCk7XG4gICAgICAgICAgICBpZiAoMSA8ICh0ID0gZi5sZW5ndGgpKSBzd2l0Y2ggKDAgPT09IHUgJiYgKHEgPSBmLmNoYXJDb2RlQXQoMCksIDQ1ID09PSBxIHx8IDk2IDwgcSAmJiAxMjMgPiBxKSAmJiAodCA9IChmID0gZi5yZXBsYWNlKCcgJywgJzonKSkubGVuZ3RoKSwgMCA8IEEgJiYgdm9pZCAwICE9PSAoQyA9IEgoMSwgZiwgYywgZCwgRCwgeiwgcC5sZW5ndGgsIGgsIGEsIGgpKSAmJiAwID09PSAodCA9IChmID0gQy50cmltKCkpLmxlbmd0aCkgJiYgKGYgPSAnXFx4MDBcXHgwMCcpLCBxID0gZi5jaGFyQ29kZUF0KDApLCBnID0gZi5jaGFyQ29kZUF0KDEpLCBxKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgICAgICBpZiAoMTA1ID09PSBnIHx8IDk5ID09PSBnKSB7XG4gICAgICAgICAgICAgICAgICBHICs9IGYgKyBlLmNoYXJBdChsKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICA1OCAhPT0gZi5jaGFyQ29kZUF0KHQgLSAxKSAmJiAocCArPSBQKGYsIHEsIGcsIGYuY2hhckNvZGVBdCgyKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSSA9IHIgPSB1ID0gcSA9IDA7XG4gICAgICAgICAgICBmID0gJyc7XG4gICAgICAgICAgICBnID0gZS5jaGFyQ29kZUF0KCsrbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoZykge1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIDQ3ID09PSBiID8gYiA9IDAgOiAwID09PSAxICsgcSAmJiAxMDcgIT09IGggJiYgMCA8IGYubGVuZ3RoICYmIChyID0gMSwgZiArPSAnXFx4MDAnKTtcbiAgICAgICAgICAwIDwgQSAqIFkgJiYgSCgwLCBmLCBjLCBkLCBELCB6LCBwLmxlbmd0aCwgaCwgYSwgaCk7XG4gICAgICAgICAgeiA9IDE7XG4gICAgICAgICAgRCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU5OlxuICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICBpZiAoMCA9PT0gYiArIG4gKyB2ICsgbSkge1xuICAgICAgICAgICAgeisrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHorKztcbiAgICAgICAgICB5ID0gZS5jaGFyQXQobCk7XG4gICAgICAgICAgc3dpdGNoIChnKSB7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICBpZiAoMCA9PT0gbiArIG0gKyBiKSBzd2l0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgIGNhc2UgNTg6XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICB5ID0gJyc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgMzIgIT09IGcgJiYgKHkgPSAnICcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB5ID0gJ1xcXFwwJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICB5ID0gJ1xcXFxmJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICB5ID0gJ1xcXFx2JztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIG0gJiYgKHIgPSBJID0gMSwgeSA9ICdcXGYnICsgeSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDg6XG4gICAgICAgICAgICAgIGlmICgwID09PSBuICsgYiArIG0gKyBFICYmIDAgPCB1KSBzd2l0Y2ggKGwgLSB1KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgMTEyID09PSB4ICYmIDU4ID09PSBlLmNoYXJDb2RlQXQobCAtIDMpICYmIChFID0geCk7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgMTExID09PSBLICYmIChFID0gSyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIG0gJiYgKHUgPSBsKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgICAwID09PSBiICsgdiArIG4gKyBtICYmIChyID0gMSwgeSArPSAnXFxyJyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgIDAgPT09IGIgJiYgKG4gPSBuID09PSBnID8gMCA6IDAgPT09IG4gPyBnIDogbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICAgICAgMCA9PT0gbiArIGIgKyB2ICYmIG0rKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDkzOlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIHYgJiYgbS0tO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICAgIDAgPT09IG4gKyBiICsgbSAmJiB2LS07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgaWYgKDAgPT09IG4gKyBiICsgbSkge1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBxKSBzd2l0Y2ggKDIgKiB4ICsgMyAqIEspIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTMzOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHEgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2Kys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAwID09PSBiICsgdiArIG4gKyBtICsgdSArIGsgJiYgKGsgPSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgaWYgKCEoMCA8IG4gKyBtICsgdikpIHN3aXRjaCAoYikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoMiAqIGcgKyAzICogZS5jaGFyQ29kZUF0KGwgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIzNTpcbiAgICAgICAgICAgICAgICAgICAgICBiID0gNDc7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjIwOlxuICAgICAgICAgICAgICAgICAgICAgIHQgPSBsLCBiID0gNDI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgNDcgPT09IGcgJiYgNDIgPT09IHggJiYgdCArIDIgIT09IGwgJiYgKDMzID09PSBlLmNoYXJDb2RlQXQodCArIDIpICYmIChwICs9IGUuc3Vic3RyaW5nKHQsIGwgKyAxKSksIHkgPSAnJywgYiA9IDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIDAgPT09IGIgJiYgKGYgKz0geSk7XG4gICAgICB9XG4gICAgICBLID0geDtcbiAgICAgIHggPSBnO1xuICAgICAgbCsrO1xuICAgIH1cbiAgICB0ID0gcC5sZW5ndGg7XG4gICAgaWYgKDAgPCB0KSB7XG4gICAgICByID0gYztcbiAgICAgIGlmICgwIDwgQSAmJiAoQyA9IEgoMiwgcCwgciwgZCwgRCwgeiwgdCwgaCwgYSwgaCksIHZvaWQgMCAhPT0gQyAmJiAwID09PSAocCA9IEMpLmxlbmd0aCkpIHJldHVybiBHICsgcCArIEY7XG4gICAgICBwID0gci5qb2luKCcsJykgKyAneycgKyBwICsgJ30nO1xuICAgICAgaWYgKDAgIT09IHcgKiBFKSB7XG4gICAgICAgIDIgIT09IHcgfHwgTChwLCAyKSB8fCAoRSA9IDApO1xuICAgICAgICBzd2l0Y2ggKEUpIHtcbiAgICAgICAgICBjYXNlIDExMTpcbiAgICAgICAgICAgIHAgPSBwLnJlcGxhY2UoaGEsICc6LW1vei0kMScpICsgcDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTEyOlxuICAgICAgICAgICAgcCA9IHAucmVwbGFjZShRLCAnOjotd2Via2l0LWlucHV0LSQxJykgKyBwLnJlcGxhY2UoUSwgJzo6LW1vei0kMScpICsgcC5yZXBsYWNlKFEsICc6LW1zLWlucHV0LSQxJykgKyBwO1xuICAgICAgICB9XG4gICAgICAgIEUgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRyArIHAgKyBGO1xuICB9XG4gIGZ1bmN0aW9uIFgoZCwgYywgZSkge1xuICAgIHZhciBoID0gYy50cmltKCkuc3BsaXQoaWEpO1xuICAgIGMgPSBoO1xuICAgIHZhciBhID0gaC5sZW5ndGgsXG4gICAgICBtID0gZC5sZW5ndGg7XG4gICAgc3dpdGNoIChtKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHZhciBiID0gMDtcbiAgICAgICAgZm9yIChkID0gMCA9PT0gbSA/ICcnIDogZFswXSArICcgJzsgYiA8IGE7ICsrYikge1xuICAgICAgICAgIGNbYl0gPSBaKGQsIGNbYl0sIGUpLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciB2ID0gYiA9IDA7XG4gICAgICAgIGZvciAoYyA9IFtdOyBiIDwgYTsgKytiKSB7XG4gICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBtOyArK24pIHtcbiAgICAgICAgICAgIGNbdisrXSA9IFooZFtuXSArICcgJywgaFtiXSwgZSkudHJpbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfVxuICBmdW5jdGlvbiBaKGQsIGMsIGUpIHtcbiAgICB2YXIgaCA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAzMyA+IGggJiYgKGggPSAoYyA9IGMudHJpbSgpKS5jaGFyQ29kZUF0KDApKTtcbiAgICBzd2l0Y2ggKGgpIHtcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIHJldHVybiBjLnJlcGxhY2UoRiwgJyQxJyArIGQudHJpbSgpKTtcbiAgICAgIGNhc2UgNTg6XG4gICAgICAgIHJldHVybiBkLnRyaW0oKSArIGMucmVwbGFjZShGLCAnJDEnICsgZC50cmltKCkpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKDAgPCAxICogZSAmJiAwIDwgYy5pbmRleE9mKCdcXGYnKSkgcmV0dXJuIGMucmVwbGFjZShGLCAoNTggPT09IGQuY2hhckNvZGVBdCgwKSA/ICcnIDogJyQxJykgKyBkLnRyaW0oKSk7XG4gICAgfVxuICAgIHJldHVybiBkICsgYztcbiAgfVxuICBmdW5jdGlvbiBQKGQsIGMsIGUsIGgpIHtcbiAgICB2YXIgYSA9IGQgKyAnOycsXG4gICAgICBtID0gMiAqIGMgKyAzICogZSArIDQgKiBoO1xuICAgIGlmICg5NDQgPT09IG0pIHtcbiAgICAgIGQgPSBhLmluZGV4T2YoJzonLCA5KSArIDE7XG4gICAgICB2YXIgYiA9IGEuc3Vic3RyaW5nKGQsIGEubGVuZ3RoIC0gMSkudHJpbSgpO1xuICAgICAgYiA9IGEuc3Vic3RyaW5nKDAsIGQpLnRyaW0oKSArIGIgKyAnOyc7XG4gICAgICByZXR1cm4gMSA9PT0gdyB8fCAyID09PSB3ICYmIEwoYiwgMSkgPyAnLXdlYmtpdC0nICsgYiArIGIgOiBiO1xuICAgIH1cbiAgICBpZiAoMCA9PT0gdyB8fCAyID09PSB3ICYmICFMKGEsIDEpKSByZXR1cm4gYTtcbiAgICBzd2l0Y2ggKG0pIHtcbiAgICAgIGNhc2UgMTAxNTpcbiAgICAgICAgcmV0dXJuIDk3ID09PSBhLmNoYXJDb2RlQXQoMTApID8gJy13ZWJraXQtJyArIGEgKyBhIDogYTtcbiAgICAgIGNhc2UgOTUxOlxuICAgICAgICByZXR1cm4gMTE2ID09PSBhLmNoYXJDb2RlQXQoMykgPyAnLXdlYmtpdC0nICsgYSArIGEgOiBhO1xuICAgICAgY2FzZSA5NjM6XG4gICAgICAgIHJldHVybiAxMTAgPT09IGEuY2hhckNvZGVBdCg1KSA/ICctd2Via2l0LScgKyBhICsgYSA6IGE7XG4gICAgICBjYXNlIDEwMDk6XG4gICAgICAgIGlmICgxMDAgIT09IGEuY2hhckNvZGVBdCg0KSkgYnJlYWs7XG4gICAgICBjYXNlIDk2OTpcbiAgICAgIGNhc2UgOTQyOlxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyBhO1xuICAgICAgY2FzZSA5Nzg6XG4gICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbW96LScgKyBhICsgYTtcbiAgICAgIGNhc2UgMTAxOTpcbiAgICAgIGNhc2UgOTgzOlxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1vei0nICsgYSArICctbXMtJyArIGEgKyBhO1xuICAgICAgY2FzZSA4ODM6XG4gICAgICAgIGlmICg0NSA9PT0gYS5jaGFyQ29kZUF0KDgpKSByZXR1cm4gJy13ZWJraXQtJyArIGEgKyBhO1xuICAgICAgICBpZiAoMCA8IGEuaW5kZXhPZignaW1hZ2Utc2V0KCcsIDExKSkgcmV0dXJuIGEucmVwbGFjZShqYSwgJyQxLXdlYmtpdC0kMicpICsgYTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDkzMjpcbiAgICAgICAgaWYgKDQ1ID09PSBhLmNoYXJDb2RlQXQoNCkpIHN3aXRjaCAoYS5jaGFyQ29kZUF0KDUpKSB7XG4gICAgICAgICAgY2FzZSAxMDM6XG4gICAgICAgICAgICByZXR1cm4gJy13ZWJraXQtYm94LScgKyBhLnJlcGxhY2UoJy1ncm93JywgJycpICsgJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBhLnJlcGxhY2UoJ2dyb3cnLCAncG9zaXRpdmUnKSArIGE7XG4gICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBhLnJlcGxhY2UoJ3NocmluaycsICduZWdhdGl2ZScpICsgYTtcbiAgICAgICAgICBjYXNlIDk4OlxuICAgICAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tcy0nICsgYS5yZXBsYWNlKCdiYXNpcycsICdwcmVmZXJyZWQtc2l6ZScpICsgYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBhICsgYTtcbiAgICAgIGNhc2UgOTY0OlxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLWZsZXgtJyArIGEgKyBhO1xuICAgICAgY2FzZSAxMDIzOlxuICAgICAgICBpZiAoOTkgIT09IGEuY2hhckNvZGVBdCg4KSkgYnJlYWs7XG4gICAgICAgIGIgPSBhLnN1YnN0cmluZyhhLmluZGV4T2YoJzonLCAxNSkpLnJlcGxhY2UoJ2ZsZXgtJywgJycpLnJlcGxhY2UoJ3NwYWNlLWJldHdlZW4nLCAnanVzdGlmeScpO1xuICAgICAgICByZXR1cm4gJy13ZWJraXQtYm94LXBhY2snICsgYiArICctd2Via2l0LScgKyBhICsgJy1tcy1mbGV4LXBhY2snICsgYiArIGE7XG4gICAgICBjYXNlIDEwMDU6XG4gICAgICAgIHJldHVybiBrYS50ZXN0KGEpID8gYS5yZXBsYWNlKGFhLCAnOi13ZWJraXQtJykgKyBhLnJlcGxhY2UoYWEsICc6LW1vei0nKSArIGEgOiBhO1xuICAgICAgY2FzZSAxZTM6XG4gICAgICAgIGIgPSBhLnN1YnN0cmluZygxMykudHJpbSgpO1xuICAgICAgICBjID0gYi5pbmRleE9mKCctJykgKyAxO1xuICAgICAgICBzd2l0Y2ggKGIuY2hhckNvZGVBdCgwKSArIGIuY2hhckNvZGVBdChjKSkge1xuICAgICAgICAgIGNhc2UgMjI2OlxuICAgICAgICAgICAgYiA9IGEucmVwbGFjZShHLCAndGInKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjMyOlxuICAgICAgICAgICAgYiA9IGEucmVwbGFjZShHLCAndGItcmwnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjIwOlxuICAgICAgICAgICAgYiA9IGEucmVwbGFjZShHLCAnbHInKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBiICsgYTtcbiAgICAgIGNhc2UgMTAxNzpcbiAgICAgICAgaWYgKC0xID09PSBhLmluZGV4T2YoJ3N0aWNreScsIDkpKSBicmVhaztcbiAgICAgIGNhc2UgOTc1OlxuICAgICAgICBjID0gKGEgPSBkKS5sZW5ndGggLSAxMDtcbiAgICAgICAgYiA9ICgzMyA9PT0gYS5jaGFyQ29kZUF0KGMpID8gYS5zdWJzdHJpbmcoMCwgYykgOiBhKS5zdWJzdHJpbmcoZC5pbmRleE9mKCc6JywgNykgKyAxKS50cmltKCk7XG4gICAgICAgIHN3aXRjaCAobSA9IGIuY2hhckNvZGVBdCgwKSArIChiLmNoYXJDb2RlQXQoNykgfCAwKSkge1xuICAgICAgICAgIGNhc2UgMjAzOlxuICAgICAgICAgICAgaWYgKDExMSA+IGIuY2hhckNvZGVBdCg4KSkgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICBhID0gYS5yZXBsYWNlKGIsICctd2Via2l0LScgKyBiKSArICc7JyArIGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDIwNzpcbiAgICAgICAgICBjYXNlIDEwMjpcbiAgICAgICAgICAgIGEgPSBhLnJlcGxhY2UoYiwgJy13ZWJraXQtJyArICgxMDIgPCBtID8gJ2lubGluZS0nIDogJycpICsgJ2JveCcpICsgJzsnICsgYS5yZXBsYWNlKGIsICctd2Via2l0LScgKyBiKSArICc7JyArIGEucmVwbGFjZShiLCAnLW1zLScgKyBiICsgJ2JveCcpICsgJzsnICsgYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYSArICc7JztcbiAgICAgIGNhc2UgOTM4OlxuICAgICAgICBpZiAoNDUgPT09IGEuY2hhckNvZGVBdCg1KSkgc3dpdGNoIChhLmNoYXJDb2RlQXQoNikpIHtcbiAgICAgICAgICBjYXNlIDEwNTpcbiAgICAgICAgICAgIHJldHVybiBiID0gYS5yZXBsYWNlKCctaXRlbXMnLCAnJyksICctd2Via2l0LScgKyBhICsgJy13ZWJraXQtYm94LScgKyBiICsgJy1tcy1mbGV4LScgKyBiICsgYTtcbiAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtZmxleC1pdGVtLScgKyBhLnJlcGxhY2UoYmEsICcnKSArIGE7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtZmxleC1saW5lLXBhY2snICsgYS5yZXBsYWNlKCdhbGlnbi1jb250ZW50JywgJycpLnJlcGxhY2UoYmEsICcnKSArIGE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDk3MzpcbiAgICAgIGNhc2UgOTg5OlxuICAgICAgICBpZiAoNDUgIT09IGEuY2hhckNvZGVBdCgzKSB8fCAxMjIgPT09IGEuY2hhckNvZGVBdCg0KSkgYnJlYWs7XG4gICAgICBjYXNlIDkzMTpcbiAgICAgIGNhc2UgOTUzOlxuICAgICAgICBpZiAoITAgPT09IGxhLnRlc3QoZCkpIHJldHVybiAxMTUgPT09IChiID0gZC5zdWJzdHJpbmcoZC5pbmRleE9mKCc6JykgKyAxKSkuY2hhckNvZGVBdCgwKSA/IFAoZC5yZXBsYWNlKCdzdHJldGNoJywgJ2ZpbGwtYXZhaWxhYmxlJyksIGMsIGUsIGgpLnJlcGxhY2UoJzpmaWxsLWF2YWlsYWJsZScsICc6c3RyZXRjaCcpIDogYS5yZXBsYWNlKGIsICctd2Via2l0LScgKyBiKSArIGEucmVwbGFjZShiLCAnLW1vei0nICsgYi5yZXBsYWNlKCdmaWxsLScsICcnKSkgKyBhO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgOTYyOlxuICAgICAgICBpZiAoYSA9ICctd2Via2l0LScgKyBhICsgKDEwMiA9PT0gYS5jaGFyQ29kZUF0KDUpID8gJy1tcy0nICsgYSA6ICcnKSArIGEsIDIxMSA9PT0gZSArIGggJiYgMTA1ID09PSBhLmNoYXJDb2RlQXQoMTMpICYmIDAgPCBhLmluZGV4T2YoJ3RyYW5zZm9ybScsIDEwKSkgcmV0dXJuIGEuc3Vic3RyaW5nKDAsIGEuaW5kZXhPZignOycsIDI3KSArIDEpLnJlcGxhY2UobWEsICckMS13ZWJraXQtJDInKSArIGE7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG4gIGZ1bmN0aW9uIEwoZCwgYykge1xuICAgIHZhciBlID0gZC5pbmRleE9mKDEgPT09IGMgPyAnOicgOiAneycpLFxuICAgICAgaCA9IGQuc3Vic3RyaW5nKDAsIDMgIT09IGMgPyBlIDogMTApO1xuICAgIGUgPSBkLnN1YnN0cmluZyhlICsgMSwgZC5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gUigyICE9PSBjID8gaCA6IGgucmVwbGFjZShuYSwgJyQxJyksIGUsIGMpO1xuICB9XG4gIGZ1bmN0aW9uIGVhKGQsIGMpIHtcbiAgICB2YXIgZSA9IFAoYywgYy5jaGFyQ29kZUF0KDApLCBjLmNoYXJDb2RlQXQoMSksIGMuY2hhckNvZGVBdCgyKSk7XG4gICAgcmV0dXJuIGUgIT09IGMgKyAnOycgPyBlLnJlcGxhY2Uob2EsICcgb3IgKCQxKScpLnN1YnN0cmluZyg0KSA6ICcoJyArIGMgKyAnKSc7XG4gIH1cbiAgZnVuY3Rpb24gSChkLCBjLCBlLCBoLCBhLCBtLCBiLCB2LCBuLCBxKSB7XG4gICAgZm9yICh2YXIgZyA9IDAsIHggPSBjLCB3OyBnIDwgQTsgKytnKSB7XG4gICAgICBzd2l0Y2ggKHcgPSBTW2ddLmNhbGwoQiwgZCwgeCwgZSwgaCwgYSwgbSwgYiwgdiwgbiwgcSkpIHtcbiAgICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIGNhc2UgITE6XG4gICAgICAgIGNhc2UgITA6XG4gICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB4ID0gdztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHggIT09IGMpIHJldHVybiB4O1xuICB9XG4gIGZ1bmN0aW9uIFQoZCkge1xuICAgIHN3aXRjaCAoZCkge1xuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICBjYXNlIG51bGw6XG4gICAgICAgIEEgPSBTLmxlbmd0aCA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBkKSBTW0ErK10gPSBkO2Vsc2UgaWYgKCdvYmplY3QnID09PSBfdHlwZW9mKGQpKSBmb3IgKHZhciBjID0gMCwgZSA9IGQubGVuZ3RoOyBjIDwgZTsgKytjKSB7XG4gICAgICAgICAgVChkW2NdKTtcbiAgICAgICAgfSBlbHNlIFkgPSAhIWQgfCAwO1xuICAgIH1cbiAgICByZXR1cm4gVDtcbiAgfVxuICBmdW5jdGlvbiBVKGQpIHtcbiAgICBkID0gZC5wcmVmaXg7XG4gICAgdm9pZCAwICE9PSBkICYmIChSID0gbnVsbCwgZCA/ICdmdW5jdGlvbicgIT09IHR5cGVvZiBkID8gdyA9IDEgOiAodyA9IDIsIFIgPSBkKSA6IHcgPSAwKTtcbiAgICByZXR1cm4gVTtcbiAgfVxuICBmdW5jdGlvbiBCKGQsIGMpIHtcbiAgICB2YXIgZSA9IGQ7XG4gICAgMzMgPiBlLmNoYXJDb2RlQXQoMCkgJiYgKGUgPSBlLnRyaW0oKSk7XG4gICAgViA9IGU7XG4gICAgZSA9IFtWXTtcbiAgICBpZiAoMCA8IEEpIHtcbiAgICAgIHZhciBoID0gSCgtMSwgYywgZSwgZSwgRCwgeiwgMCwgMCwgMCwgMCk7XG4gICAgICB2b2lkIDAgIT09IGggJiYgJ3N0cmluZycgPT09IHR5cGVvZiBoICYmIChjID0gaCk7XG4gICAgfVxuICAgIHZhciBhID0gTShPLCBlLCBjLCAwLCAwKTtcbiAgICAwIDwgQSAmJiAoaCA9IEgoLTIsIGEsIGUsIGUsIEQsIHosIGEubGVuZ3RoLCAwLCAwLCAwKSwgdm9pZCAwICE9PSBoICYmIChhID0gaCkpO1xuICAgIFYgPSAnJztcbiAgICBFID0gMDtcbiAgICB6ID0gRCA9IDE7XG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgdmFyIGNhID0gL15cXDArL2csXG4gICAgTiA9IC9bXFwwXFxyXFxmXS9nLFxuICAgIGFhID0gLzogKi9nLFxuICAgIGthID0gL3pvb3xncmEvLFxuICAgIG1hID0gLyhbLDogXSkodHJhbnNmb3JtKS9nLFxuICAgIGlhID0gLyxcXHIrPy9nLFxuICAgIEYgPSAvKFtcXHRcXHJcXG4gXSkqXFxmPyYvZyxcbiAgICBmYSA9IC9AKGtcXHcrKVxccyooXFxTKilcXHMqLyxcbiAgICBRID0gLzo6KHBsYWNlKS9nLFxuICAgIGhhID0gLzoocmVhZC1vbmx5KS9nLFxuICAgIEcgPSAvW3N2aF1cXHcrLVt0YmxyXXsyfS8sXG4gICAgZGEgPSAvXFwoXFxzKiguKilcXHMqXFwpL2csXG4gICAgb2EgPSAvKFtcXHNcXFNdKj8pOy9nLFxuICAgIGJhID0gLy1zZWxmfGZsZXgtL2csXG4gICAgbmEgPSAvW15dKj8oOltycF1bZWxdYVtcXHctXSspW15dKi8sXG4gICAgbGEgPSAvc3RyZXRjaHw6XFxzKlxcdytcXC0oPzpjb250ZXxhdmFpbCkvLFxuICAgIGphID0gLyhbXi1dKShpbWFnZS1zZXRcXCgpLyxcbiAgICB6ID0gMSxcbiAgICBEID0gMSxcbiAgICBFID0gMCxcbiAgICB3ID0gMSxcbiAgICBPID0gW10sXG4gICAgUyA9IFtdLFxuICAgIEEgPSAwLFxuICAgIFIgPSBudWxsLFxuICAgIFkgPSAwLFxuICAgIFYgPSAnJztcbiAgQi51c2UgPSBUO1xuICBCLnNldCA9IFU7XG4gIHZvaWQgMCAhPT0gVyAmJiBVKFcpO1xuICByZXR1cm4gQjtcbn1cbnZhciB1bml0bGVzc0tleXMgPSB7XG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiAxLFxuICBib3JkZXJJbWFnZU91dHNldDogMSxcbiAgYm9yZGVySW1hZ2VTbGljZTogMSxcbiAgYm9yZGVySW1hZ2VXaWR0aDogMSxcbiAgYm94RmxleDogMSxcbiAgYm94RmxleEdyb3VwOiAxLFxuICBib3hPcmRpbmFsR3JvdXA6IDEsXG4gIGNvbHVtbkNvdW50OiAxLFxuICBjb2x1bW5zOiAxLFxuICBmbGV4OiAxLFxuICBmbGV4R3JvdzogMSxcbiAgZmxleFBvc2l0aXZlOiAxLFxuICBmbGV4U2hyaW5rOiAxLFxuICBmbGV4TmVnYXRpdmU6IDEsXG4gIGZsZXhPcmRlcjogMSxcbiAgZ3JpZFJvdzogMSxcbiAgZ3JpZFJvd0VuZDogMSxcbiAgZ3JpZFJvd1NwYW46IDEsXG4gIGdyaWRSb3dTdGFydDogMSxcbiAgZ3JpZENvbHVtbjogMSxcbiAgZ3JpZENvbHVtbkVuZDogMSxcbiAgZ3JpZENvbHVtblNwYW46IDEsXG4gIGdyaWRDb2x1bW5TdGFydDogMSxcbiAgbXNHcmlkUm93OiAxLFxuICBtc0dyaWRSb3dTcGFuOiAxLFxuICBtc0dyaWRDb2x1bW46IDEsXG4gIG1zR3JpZENvbHVtblNwYW46IDEsXG4gIGZvbnRXZWlnaHQ6IDEsXG4gIGxpbmVIZWlnaHQ6IDEsXG4gIG9wYWNpdHk6IDEsXG4gIG9yZGVyOiAxLFxuICBvcnBoYW5zOiAxLFxuICB0YWJTaXplOiAxLFxuICB3aWRvd3M6IDEsXG4gIHpJbmRleDogMSxcbiAgem9vbTogMSxcbiAgV2Via2l0TGluZUNsYW1wOiAxLFxuICBmaWxsT3BhY2l0eTogMSxcbiAgZmxvb2RPcGFjaXR5OiAxLFxuICBzdG9wT3BhY2l0eTogMSxcbiAgc3Ryb2tlRGFzaGFycmF5OiAxLFxuICBzdHJva2VEYXNob2Zmc2V0OiAxLFxuICBzdHJva2VNaXRlcmxpbWl0OiAxLFxuICBzdHJva2VPcGFjaXR5OiAxLFxuICBzdHJva2VXaWR0aDogMVxufTtcbmZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICBpZiAoY2FjaGVbYXJnXSA9PT0gdW5kZWZpbmVkKSBjYWNoZVthcmddID0gZm4oYXJnKTtcbiAgICByZXR1cm4gY2FjaGVbYXJnXTtcbiAgfTtcbn1cbnZhciByZWFjdFByb3BzUmVnZXggPSAvXigoY2hpbGRyZW58ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8a2V5fHJlZnxhdXRvRm9jdXN8ZGVmYXVsdFZhbHVlfGRlZmF1bHRDaGVja2VkfGlubmVySFRNTHxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmd8c3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nfHZhbHVlTGlua3xhYmJyfGFjY2VwdHxhY2NlcHRDaGFyc2V0fGFjY2Vzc0tleXxhY3Rpb258YWxsb3d8YWxsb3dVc2VyTWVkaWF8YWxsb3dQYXltZW50UmVxdWVzdHxhbGxvd0Z1bGxTY3JlZW58YWxsb3dUcmFuc3BhcmVuY3l8YWx0fGFzeW5jfGF1dG9Db21wbGV0ZXxhdXRvUGxheXxjYXB0dXJlfGNlbGxQYWRkaW5nfGNlbGxTcGFjaW5nfGNoYWxsZW5nZXxjaGFyU2V0fGNoZWNrZWR8Y2l0ZXxjbGFzc0lEfGNsYXNzTmFtZXxjb2xzfGNvbFNwYW58Y29udGVudHxjb250ZW50RWRpdGFibGV8Y29udGV4dE1lbnV8Y29udHJvbHN8Y29udHJvbHNMaXN0fGNvb3Jkc3xjcm9zc09yaWdpbnxkYXRhfGRhdGVUaW1lfGRlY29kaW5nfGRlZmF1bHR8ZGVmZXJ8ZGlyfGRpc2FibGVkfGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlfGRvd25sb2FkfGRyYWdnYWJsZXxlbmNUeXBlfGVudGVyS2V5SGludHxmb3JtfGZvcm1BY3Rpb258Zm9ybUVuY1R5cGV8Zm9ybU1ldGhvZHxmb3JtTm9WYWxpZGF0ZXxmb3JtVGFyZ2V0fGZyYW1lQm9yZGVyfGhlYWRlcnN8aGVpZ2h0fGhpZGRlbnxoaWdofGhyZWZ8aHJlZkxhbmd8aHRtbEZvcnxodHRwRXF1aXZ8aWR8aW5wdXRNb2RlfGludGVncml0eXxpc3xrZXlQYXJhbXN8a2V5VHlwZXxraW5kfGxhYmVsfGxhbmd8bGlzdHxsb2FkaW5nfGxvb3B8bG93fG1hcmdpbkhlaWdodHxtYXJnaW5XaWR0aHxtYXh8bWF4TGVuZ3RofG1lZGlhfG1lZGlhR3JvdXB8bWV0aG9kfG1pbnxtaW5MZW5ndGh8bXVsdGlwbGV8bXV0ZWR8bmFtZXxub25jZXxub1ZhbGlkYXRlfG9wZW58b3B0aW11bXxwYXR0ZXJufHBsYWNlaG9sZGVyfHBsYXlzSW5saW5lfHBvc3RlcnxwcmVsb2FkfHByb2ZpbGV8cmFkaW9Hcm91cHxyZWFkT25seXxyZWZlcnJlclBvbGljeXxyZWx8cmVxdWlyZWR8cmV2ZXJzZWR8cm9sZXxyb3dzfHJvd1NwYW58c2FuZGJveHxzY29wZXxzY29wZWR8c2Nyb2xsaW5nfHNlYW1sZXNzfHNlbGVjdGVkfHNoYXBlfHNpemV8c2l6ZXN8c2xvdHxzcGFufHNwZWxsQ2hlY2t8c3JjfHNyY0RvY3xzcmNMYW5nfHNyY1NldHxzdGFydHxzdGVwfHN0eWxlfHN1bW1hcnl8dGFiSW5kZXh8dGFyZ2V0fHRpdGxlfHRyYW5zbGF0ZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGluY3JlbWVudGFsfGZhbGxiYWNrfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxvcHRpb258cmVzdWx0c3xzZWN1cml0eXx1bnNlbGVjdGFibGV8YWNjZW50SGVpZ2h0fGFjY3VtdWxhdGV8YWRkaXRpdmV8YWxpZ25tZW50QmFzZWxpbmV8YWxsb3dSZW9yZGVyfGFscGhhYmV0aWN8YW1wbGl0dWRlfGFyYWJpY0Zvcm18YXNjZW50fGF0dHJpYnV0ZU5hbWV8YXR0cmlidXRlVHlwZXxhdXRvUmV2ZXJzZXxhemltdXRofGJhc2VGcmVxdWVuY3l8YmFzZWxpbmVTaGlmdHxiYXNlUHJvZmlsZXxiYm94fGJlZ2lufGJpYXN8Ynl8Y2FsY01vZGV8Y2FwSGVpZ2h0fGNsaXB8Y2xpcFBhdGhVbml0c3xjbGlwUGF0aHxjbGlwUnVsZXxjb2xvckludGVycG9sYXRpb258Y29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc3xjb2xvclByb2ZpbGV8Y29sb3JSZW5kZXJpbmd8Y29udGVudFNjcmlwdFR5cGV8Y29udGVudFN0eWxlVHlwZXxjdXJzb3J8Y3h8Y3l8ZHxkZWNlbGVyYXRlfGRlc2NlbnR8ZGlmZnVzZUNvbnN0YW50fGRpcmVjdGlvbnxkaXNwbGF5fGRpdmlzb3J8ZG9taW5hbnRCYXNlbGluZXxkdXJ8ZHh8ZHl8ZWRnZU1vZGV8ZWxldmF0aW9ufGVuYWJsZUJhY2tncm91bmR8ZW5kfGV4cG9uZW50fGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWR8ZmlsbHxmaWxsT3BhY2l0eXxmaWxsUnVsZXxmaWx0ZXJ8ZmlsdGVyUmVzfGZpbHRlclVuaXRzfGZsb29kQ29sb3J8Zmxvb2RPcGFjaXR5fGZvY3VzYWJsZXxmb250RmFtaWx5fGZvbnRTaXplfGZvbnRTaXplQWRqdXN0fGZvbnRTdHJldGNofGZvbnRTdHlsZXxmb250VmFyaWFudHxmb250V2VpZ2h0fGZvcm1hdHxmcm9tfGZyfGZ4fGZ5fGcxfGcyfGdseXBoTmFtZXxnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbHxnbHlwaE9yaWVudGF0aW9uVmVydGljYWx8Z2x5cGhSZWZ8Z3JhZGllbnRUcmFuc2Zvcm18Z3JhZGllbnRVbml0c3xoYW5naW5nfGhvcml6QWR2WHxob3Jpek9yaWdpblh8aWRlb2dyYXBoaWN8aW1hZ2VSZW5kZXJpbmd8aW58aW4yfGludGVyY2VwdHxrfGsxfGsyfGszfGs0fGtlcm5lbE1hdHJpeHxrZXJuZWxVbml0TGVuZ3RofGtlcm5pbmd8a2V5UG9pbnRzfGtleVNwbGluZXN8a2V5VGltZXN8bGVuZ3RoQWRqdXN0fGxldHRlclNwYWNpbmd8bGlnaHRpbmdDb2xvcnxsaW1pdGluZ0NvbmVBbmdsZXxsb2NhbHxtYXJrZXJFbmR8bWFya2VyTWlkfG1hcmtlclN0YXJ0fG1hcmtlckhlaWdodHxtYXJrZXJVbml0c3xtYXJrZXJXaWR0aHxtYXNrfG1hc2tDb250ZW50VW5pdHN8bWFza1VuaXRzfG1hdGhlbWF0aWNhbHxtb2RlfG51bU9jdGF2ZXN8b2Zmc2V0fG9wYWNpdHl8b3BlcmF0b3J8b3JkZXJ8b3JpZW50fG9yaWVudGF0aW9ufG9yaWdpbnxvdmVyZmxvd3xvdmVybGluZVBvc2l0aW9ufG92ZXJsaW5lVGhpY2tuZXNzfHBhbm9zZTF8cGFpbnRPcmRlcnxwYXRoTGVuZ3RofHBhdHRlcm5Db250ZW50VW5pdHN8cGF0dGVyblRyYW5zZm9ybXxwYXR0ZXJuVW5pdHN8cG9pbnRlckV2ZW50c3xwb2ludHN8cG9pbnRzQXRYfHBvaW50c0F0WXxwb2ludHNBdFp8cHJlc2VydmVBbHBoYXxwcmVzZXJ2ZUFzcGVjdFJhdGlvfHByaW1pdGl2ZVVuaXRzfHJ8cmFkaXVzfHJlZlh8cmVmWXxyZW5kZXJpbmdJbnRlbnR8cmVwZWF0Q291bnR8cmVwZWF0RHVyfHJlcXVpcmVkRXh0ZW5zaW9uc3xyZXF1aXJlZEZlYXR1cmVzfHJlc3RhcnR8cmVzdWx0fHJvdGF0ZXxyeHxyeXxzY2FsZXxzZWVkfHNoYXBlUmVuZGVyaW5nfHNsb3BlfHNwYWNpbmd8c3BlY3VsYXJDb25zdGFudHxzcGVjdWxhckV4cG9uZW50fHNwZWVkfHNwcmVhZE1ldGhvZHxzdGFydE9mZnNldHxzdGREZXZpYXRpb258c3RlbWh8c3RlbXZ8c3RpdGNoVGlsZXN8c3RvcENvbG9yfHN0b3BPcGFjaXR5fHN0cmlrZXRocm91Z2hQb3NpdGlvbnxzdHJpa2V0aHJvdWdoVGhpY2tuZXNzfHN0cmluZ3xzdHJva2V8c3Ryb2tlRGFzaGFycmF5fHN0cm9rZURhc2hvZmZzZXR8c3Ryb2tlTGluZWNhcHxzdHJva2VMaW5lam9pbnxzdHJva2VNaXRlcmxpbWl0fHN0cm9rZU9wYWNpdHl8c3Ryb2tlV2lkdGh8c3VyZmFjZVNjYWxlfHN5c3RlbUxhbmd1YWdlfHRhYmxlVmFsdWVzfHRhcmdldFh8dGFyZ2V0WXx0ZXh0QW5jaG9yfHRleHREZWNvcmF0aW9ufHRleHRSZW5kZXJpbmd8dGV4dExlbmd0aHx0b3x0cmFuc2Zvcm18dTF8dTJ8dW5kZXJsaW5lUG9zaXRpb258dW5kZXJsaW5lVGhpY2tuZXNzfHVuaWNvZGV8dW5pY29kZUJpZGl8dW5pY29kZVJhbmdlfHVuaXRzUGVyRW18dkFscGhhYmV0aWN8dkhhbmdpbmd8dklkZW9ncmFwaGljfHZNYXRoZW1hdGljYWx8dmFsdWVzfHZlY3RvckVmZmVjdHx2ZXJzaW9ufHZlcnRBZHZZfHZlcnRPcmlnaW5YfHZlcnRPcmlnaW5ZfHZpZXdCb3h8dmlld1RhcmdldHx2aXNpYmlsaXR5fHdpZHRoc3x3b3JkU3BhY2luZ3x3cml0aW5nTW9kZXx4fHhIZWlnaHR8eDF8eDJ8eENoYW5uZWxTZWxlY3Rvcnx4bGlua0FjdHVhdGV8eGxpbmtBcmNyb2xlfHhsaW5rSHJlZnx4bGlua1JvbGV8eGxpbmtTaG93fHhsaW5rVGl0bGV8eGxpbmtUeXBlfHhtbEJhc2V8eG1sbnN8eG1sbnNYbGlua3x4bWxMYW5nfHhtbFNwYWNlfHl8eTF8eTJ8eUNoYW5uZWxTZWxlY3Rvcnx6fHpvb21BbmRQYW58Zm9yfGNsYXNzfGF1dG9mb2N1cyl8KChbRGRdW0FhXVtUdF1bQWFdfFtBYV1bUnJdW0lpXVtBYV18eCktLiopKSQvO1xudmFyIGlzUHJvcFZhbGlkID0gLyogI19fUFVSRV9fICovbWVtb2l6ZShmdW5jdGlvbiAocHJvcCkge1xuICByZXR1cm4gcmVhY3RQcm9wc1JlZ2V4LnRlc3QocHJvcCkgfHwgcHJvcC5jaGFyQ29kZUF0KDApID09PSAxMTEgJiYgcHJvcC5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgcHJvcC5jaGFyQ29kZUF0KDIpIDwgOTE7XG59KTtcbnZhciByZWFjdElzJDEgPSB7XG4gIGV4cG9ydHM6IHt9XG59O1xudmFyIHJlYWN0SXNfcHJvZHVjdGlvbl9taW4gPSB7fTtcbnZhciBiJDEgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sW1wiZm9yXCJdLFxuICBjID0gYiQxID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZWxlbWVudFwiKSA6IDYwMTAzLFxuICBkID0gYiQxID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QucG9ydGFsXCIpIDogNjAxMDYsXG4gIGUkMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmZyYWdtZW50XCIpIDogNjAxMDcsXG4gIGYgPSBiJDEgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSA6IDYwMTA4LFxuICBnJDEgPSBiJDEgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5wcm9maWxlclwiKSA6IDYwMTE0LFxuICBoJDEgPSBiJDEgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5wcm92aWRlclwiKSA6IDYwMTA5LFxuICBrJDIgPSBiJDEgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5jb250ZXh0XCIpIDogNjAxMTAsXG4gIGwkMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmFzeW5jX21vZGVcIikgOiA2MDExMSxcbiAgbSQxID0gYiQxID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuY29uY3VycmVudF9tb2RlXCIpIDogNjAxMTEsXG4gIG4kMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmZvcndhcmRfcmVmXCIpIDogNjAxMTIsXG4gIHAkMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnN1c3BlbnNlXCIpIDogNjAxMTMsXG4gIHEkMiA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnN1c3BlbnNlX2xpc3RcIikgOiA2MDEyMCxcbiAgciQxID0gYiQxID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QubWVtb1wiKSA6IDYwMTE1LFxuICB0JDEgPSBiJDEgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5sYXp5XCIpIDogNjAxMTYsXG4gIHYkMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmJsb2NrXCIpIDogNjAxMjEsXG4gIHckMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmZ1bmRhbWVudGFsXCIpIDogNjAxMTcsXG4gIHgkMSA9IGIkMSA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnJlc3BvbmRlclwiKSA6IDYwMTE4LFxuICB5ID0gYiQxID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3Quc2NvcGVcIikgOiA2MDExOTtcbmZ1bmN0aW9uIHokMShhKSB7XG4gIGlmIChcIm9iamVjdFwiID09PSBfdHlwZW9mKGEpICYmIG51bGwgIT09IGEpIHtcbiAgICB2YXIgdSA9IGEuJCR0eXBlb2Y7XG4gICAgc3dpdGNoICh1KSB7XG4gICAgICBjYXNlIGM6XG4gICAgICAgIHN3aXRjaCAoYSA9IGEudHlwZSwgYSkge1xuICAgICAgICAgIGNhc2UgbCQxOlxuICAgICAgICAgIGNhc2UgbSQxOlxuICAgICAgICAgIGNhc2UgZSQxOlxuICAgICAgICAgIGNhc2UgZyQxOlxuICAgICAgICAgIGNhc2UgZjpcbiAgICAgICAgICBjYXNlIHAkMTpcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzd2l0Y2ggKGEgPSBhICYmIGEuJCR0eXBlb2YsIGEpIHtcbiAgICAgICAgICAgICAgY2FzZSBrJDI6XG4gICAgICAgICAgICAgIGNhc2UgbiQxOlxuICAgICAgICAgICAgICBjYXNlIHQkMTpcbiAgICAgICAgICAgICAgY2FzZSByJDE6XG4gICAgICAgICAgICAgIGNhc2UgaCQxOlxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBjYXNlIGQ6XG4gICAgICAgIHJldHVybiB1O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gQSQxKGEpIHtcbiAgcmV0dXJuIHokMShhKSA9PT0gbSQxO1xufVxucmVhY3RJc19wcm9kdWN0aW9uX21pbi5Bc3luY01vZGUgPSBsJDE7XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLkNvbmN1cnJlbnRNb2RlID0gbSQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5Db250ZXh0Q29uc3VtZXIgPSBrJDI7XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLkNvbnRleHRQcm92aWRlciA9IGgkMTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4uRWxlbWVudCA9IGM7XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLkZvcndhcmRSZWYgPSBuJDE7XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLkZyYWdtZW50ID0gZSQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5MYXp5ID0gdCQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5NZW1vID0gciQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5Qb3J0YWwgPSBkO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5Qcm9maWxlciA9IGckMTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4uU3RyaWN0TW9kZSA9IGY7XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLlN1c3BlbnNlID0gcCQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc0FzeW5jTW9kZSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiBBJDEoYSkgfHwgeiQxKGEpID09PSBsJDE7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc0NvbmN1cnJlbnRNb2RlID0gQSQxO1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc0NvbnRleHRDb25zdW1lciA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB6JDEoYSkgPT09IGskMjtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIHokMShhKSA9PT0gaCQxO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNFbGVtZW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIFwib2JqZWN0XCIgPT09IF90eXBlb2YoYSkgJiYgbnVsbCAhPT0gYSAmJiBhLiQkdHlwZW9mID09PSBjO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNGb3J3YXJkUmVmID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIHokMShhKSA9PT0gbiQxO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNGcmFnbWVudCA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB6JDEoYSkgPT09IGUkMTtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzTGF6eSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB6JDEoYSkgPT09IHQkMTtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzTWVtbyA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB6JDEoYSkgPT09IHIkMTtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzUG9ydGFsID0gZnVuY3Rpb24gKGEpIHtcbiAgcmV0dXJuIHokMShhKSA9PT0gZDtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzUHJvZmlsZXIgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4geiQxKGEpID09PSBnJDE7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc1N0cmljdE1vZGUgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4geiQxKGEpID09PSBmO1xufTtcbnJlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNTdXNwZW5zZSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiB6JDEoYSkgPT09IHAkMTtcbn07XG5yZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzVmFsaWRFbGVtZW50VHlwZSA9IGZ1bmN0aW9uIChhKSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgYSB8fCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhIHx8IGEgPT09IGUkMSB8fCBhID09PSBtJDEgfHwgYSA9PT0gZyQxIHx8IGEgPT09IGYgfHwgYSA9PT0gcCQxIHx8IGEgPT09IHEkMiB8fCBcIm9iamVjdFwiID09PSBfdHlwZW9mKGEpICYmIG51bGwgIT09IGEgJiYgKGEuJCR0eXBlb2YgPT09IHQkMSB8fCBhLiQkdHlwZW9mID09PSByJDEgfHwgYS4kJHR5cGVvZiA9PT0gaCQxIHx8IGEuJCR0eXBlb2YgPT09IGskMiB8fCBhLiQkdHlwZW9mID09PSBuJDEgfHwgYS4kJHR5cGVvZiA9PT0gdyQxIHx8IGEuJCR0eXBlb2YgPT09IHgkMSB8fCBhLiQkdHlwZW9mID09PSB5IHx8IGEuJCR0eXBlb2YgPT09IHYkMSk7XG59O1xucmVhY3RJc19wcm9kdWN0aW9uX21pbi50eXBlT2YgPSB6JDE7XG57XG4gIHJlYWN0SXMkMS5leHBvcnRzID0gcmVhY3RJc19wcm9kdWN0aW9uX21pbjtcbn1cbnZhciByZWFjdElzRXhwb3J0cyA9IHJlYWN0SXMkMS5leHBvcnRzO1xudmFyIHJlYWN0SXMgPSByZWFjdElzRXhwb3J0cztcbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgY29udGV4dFR5cGU6IHRydWUsXG4gIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgbWl4aW5zOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgbmFtZTogdHJ1ZSxcbiAgbGVuZ3RoOiB0cnVlLFxuICBwcm90b3R5cGU6IHRydWUsXG4gIGNhbGxlcjogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBhcmd1bWVudHM6IHRydWUsXG4gIGFyaXR5OiB0cnVlXG59O1xudmFyIEZPUldBUkRfUkVGX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIHJlbmRlcjogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlXG59O1xudmFyIE1FTU9fU1RBVElDUyA9IHtcbiAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgY29tcGFyZTogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIFRZUEVfU1RBVElDUyA9IHt9O1xuVFlQRV9TVEFUSUNTW3JlYWN0SXMuRm9yd2FyZFJlZl0gPSBGT1JXQVJEX1JFRl9TVEFUSUNTO1xuVFlQRV9TVEFUSUNTW3JlYWN0SXMuTWVtb10gPSBNRU1PX1NUQVRJQ1M7XG5mdW5jdGlvbiBnZXRTdGF0aWNzKGNvbXBvbmVudCkge1xuICBpZiAocmVhY3RJcy5pc01lbW8oY29tcG9uZW50KSkge1xuICAgIHJldHVybiBNRU1PX1NUQVRJQ1M7XG4gIH1cbiAgcmV0dXJuIFRZUEVfU1RBVElDU1tjb21wb25lbnRbJyQkdHlwZW9mJ11dIHx8IFJFQUNUX1NUQVRJQ1M7XG59XG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcbiAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgfVxuICAgIHZhciB0YXJnZXRTdGF0aWNzID0gZ2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpO1xuICAgIHZhciBzb3VyY2VTdGF0aWNzID0gZ2V0U3RhdGljcyhzb3VyY2VDb21wb25lbnQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiYgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5XSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cbnZhciBob2lzdE5vblJlYWN0U3RhdGljc19janMgPSBob2lzdE5vblJlYWN0U3RhdGljcztcbnZhciBob2lzdE5vblJlYWN0U3RhdGljcyQxID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGhvaXN0Tm9uUmVhY3RTdGF0aWNzX2Nqcyk7XG5mdW5jdGlvbiB2KCkge1xuICByZXR1cm4gKHYgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIChlKSB7XG4gICAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICAgIHZhciBuID0gYXJndW1lbnRzW3RdO1xuICAgICAgZm9yICh2YXIgciBpbiBuKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgcikgJiYgKGVbcl0gPSBuW3JdKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG52YXIgZyA9IGZ1bmN0aW9uIGcoZSwgdCkge1xuICAgIGZvciAodmFyIG4gPSBbZVswXV0sIHIgPSAwLCBvID0gdC5sZW5ndGg7IHIgPCBvOyByICs9IDEpIG4ucHVzaCh0W3JdLCBlW3IgKyAxXSk7XG4gICAgcmV0dXJuIG47XG4gIH0sXG4gIFMgPSBmdW5jdGlvbiBTKHQpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gdCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YodCkgJiYgXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gKHQudG9TdHJpbmcgPyB0LnRvU3RyaW5nKCkgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpICYmICFyZWFjdElzRXhwb3J0cyQxLnR5cGVPZih0KTtcbiAgfSxcbiAgdyA9IE9iamVjdC5mcmVlemUoW10pLFxuICBFID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5mdW5jdGlvbiBiKGUpIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTtcbn1cbmZ1bmN0aW9uIF8oZSkge1xuICByZXR1cm4gZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUgfHwgXCJDb21wb25lbnRcIjtcbn1cbmZ1bmN0aW9uIE4oZSkge1xuICByZXR1cm4gZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlLnN0eWxlZENvbXBvbmVudElkO1xufVxudmFyIEEgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBwcm9jZXNzICYmIChwcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfQVRUUiB8fCBwcm9jZXNzLmVudi5TQ19BVFRSKSB8fCBcImRhdGEtc3R5bGVkXCIsXG4gIEkgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgJiYgXCJIVE1MRWxlbWVudFwiIGluIHdpbmRvdyxcbiAgUCA9IEJvb2xlYW4oXCJib29sZWFuXCIgPT0gdHlwZW9mIFNDX0RJU0FCTEVfU1BFRURZID8gU0NfRElTQUJMRV9TUEVFRFkgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBwcm9jZXNzICYmIHZvaWQgMCAhPT0gcHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZICYmIFwiXCIgIT09IHByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19ESVNBQkxFX1NQRUVEWSA/IFwiZmFsc2VcIiAhPT0gcHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZICYmIHByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19ESVNBQkxFX1NQRUVEWSA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHByb2Nlc3MgJiYgdm9pZCAwICE9PSBwcm9jZXNzLmVudi5TQ19ESVNBQkxFX1NQRUVEWSAmJiBcIlwiICE9PSBwcm9jZXNzLmVudi5TQ19ESVNBQkxFX1NQRUVEWSA/IFwiZmFsc2VcIiAhPT0gcHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFkgJiYgcHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFkgOiBcInByb2R1Y3Rpb25cIiAhPT0gXCJwcm9kdWN0aW9uXCIpO1xuZnVuY3Rpb24gaihlKSB7XG4gIGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gbmV3IEFycmF5KHQgPiAxID8gdCAtIDEgOiAwKSwgciA9IDE7IHIgPCB0OyByKyspIG5bciAtIDFdID0gYXJndW1lbnRzW3JdO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0LmlvL0pVSWFFI1wiICsgZSArIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiICsgKG4ubGVuZ3RoID4gMCA/IFwiIEFyZ3M6IFwiICsgbi5qb2luKFwiLCBcIikgOiBcIlwiKSk7XG59XG52YXIgVCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlKGUpIHtcbiAgICAgIHRoaXMuZ3JvdXBTaXplcyA9IG5ldyBVaW50MzJBcnJheSg1MTIpLCB0aGlzLmxlbmd0aCA9IDUxMiwgdGhpcy50YWcgPSBlO1xuICAgIH1cbiAgICB2YXIgdCA9IGUucHJvdG90eXBlO1xuICAgIHJldHVybiB0LmluZGV4T2ZHcm91cCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBmb3IgKHZhciB0ID0gMCwgbiA9IDA7IG4gPCBlOyBuKyspIHQgKz0gdGhpcy5ncm91cFNpemVzW25dO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSwgdC5pbnNlcnRSdWxlcyA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICBpZiAoZSA+PSB0aGlzLmdyb3VwU2l6ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIG4gPSB0aGlzLmdyb3VwU2l6ZXMsIHIgPSBuLmxlbmd0aCwgbyA9IHI7IGUgPj0gbzspIChvIDw8PSAxKSA8IDAgJiYgaigxNiwgXCJcIiArIGUpO1xuICAgICAgICB0aGlzLmdyb3VwU2l6ZXMgPSBuZXcgVWludDMyQXJyYXkobyksIHRoaXMuZ3JvdXBTaXplcy5zZXQobiksIHRoaXMubGVuZ3RoID0gbztcbiAgICAgICAgZm9yICh2YXIgcyA9IHI7IHMgPCBvOyBzKyspIHRoaXMuZ3JvdXBTaXplc1tzXSA9IDA7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5pbmRleE9mR3JvdXAoZSArIDEpLCBhID0gMCwgYyA9IHQubGVuZ3RoOyBhIDwgYzsgYSsrKSB0aGlzLnRhZy5pbnNlcnRSdWxlKGksIHRbYV0pICYmICh0aGlzLmdyb3VwU2l6ZXNbZV0rKywgaSsrKTtcbiAgICB9LCB0LmNsZWFyR3JvdXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUgPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuZ3JvdXBTaXplc1tlXSxcbiAgICAgICAgICBuID0gdGhpcy5pbmRleE9mR3JvdXAoZSksXG4gICAgICAgICAgciA9IG4gKyB0O1xuICAgICAgICB0aGlzLmdyb3VwU2l6ZXNbZV0gPSAwO1xuICAgICAgICBmb3IgKHZhciBvID0gbjsgbyA8IHI7IG8rKykgdGhpcy50YWcuZGVsZXRlUnVsZShuKTtcbiAgICAgIH1cbiAgICB9LCB0LmdldEdyb3VwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0ID0gXCJcIjtcbiAgICAgIGlmIChlID49IHRoaXMubGVuZ3RoIHx8IDAgPT09IHRoaXMuZ3JvdXBTaXplc1tlXSkgcmV0dXJuIHQ7XG4gICAgICBmb3IgKHZhciBuID0gdGhpcy5ncm91cFNpemVzW2VdLCByID0gdGhpcy5pbmRleE9mR3JvdXAoZSksIG8gPSByICsgbiwgcyA9IHI7IHMgPCBvOyBzKyspIHQgKz0gdGhpcy50YWcuZ2V0UnVsZShzKSArIFwiLyohc2MqL1xcblwiO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSwgZTtcbiAgfSgpLFxuICB4ID0gbmV3IE1hcCgpLFxuICBrJDEgPSBuZXcgTWFwKCksXG4gIFYgPSAxLFxuICBCID0gZnVuY3Rpb24gQihlKSB7XG4gICAgaWYgKHguaGFzKGUpKSByZXR1cm4geC5nZXQoZSk7XG4gICAgZm9yICg7IGskMS5oYXMoVik7KSBWKys7XG4gICAgdmFyIHQgPSBWKys7XG4gICAgcmV0dXJuIHguc2V0KGUsIHQpLCBrJDEuc2V0KHQsIGUpLCB0O1xuICB9LFxuICB6ID0gZnVuY3Rpb24geihlKSB7XG4gICAgcmV0dXJuIGskMS5nZXQoZSk7XG4gIH0sXG4gIE0gPSBmdW5jdGlvbiBNKGUsIHQpIHtcbiAgICB0ID49IFYgJiYgKFYgPSB0ICsgMSksIHguc2V0KGUsIHQpLCBrJDEuc2V0KHQsIGUpO1xuICB9LFxuICBHID0gXCJzdHlsZVtcIiArIEEgKyAnXVtkYXRhLXN0eWxlZC12ZXJzaW9uPVwiNS4zLjVcIl0nLFxuICBMID0gbmV3IFJlZ0V4cChcIl5cIiArIEEgKyAnXFxcXC5nKFxcXFxkKylcXFxcW2lkPVwiKFtcXFxcd1xcXFxkLV0rKVwiXFxcXF0uKj9cIihbXlwiXSopJyksXG4gIEYgPSBmdW5jdGlvbiBGKGUsIHQsIG4pIHtcbiAgICBmb3IgKHZhciByLCBvID0gbi5zcGxpdChcIixcIiksIHMgPSAwLCBpID0gby5sZW5ndGg7IHMgPCBpOyBzKyspIChyID0gb1tzXSkgJiYgZS5yZWdpc3Rlck5hbWUodCwgcik7XG4gIH0sXG4gIFkgPSBmdW5jdGlvbiBZKGUsIHQpIHtcbiAgICBmb3IgKHZhciBuID0gKHQudGV4dENvbnRlbnQgfHwgXCJcIikuc3BsaXQoXCIvKiFzYyovXFxuXCIpLCByID0gW10sIG8gPSAwLCBzID0gbi5sZW5ndGg7IG8gPCBzOyBvKyspIHtcbiAgICAgIHZhciBpID0gbltvXS50cmltKCk7XG4gICAgICBpZiAoaSkge1xuICAgICAgICB2YXIgYSA9IGkubWF0Y2goTCk7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgdmFyIGMgPSAwIHwgcGFyc2VJbnQoYVsxXSwgMTApLFxuICAgICAgICAgICAgdSA9IGFbMl07XG4gICAgICAgICAgMCAhPT0gYyAmJiAoTSh1LCBjKSwgRihlLCB1LCBhWzNdKSwgZS5nZXRUYWcoKS5pbnNlcnRSdWxlcyhjLCByKSksIHIubGVuZ3RoID0gMDtcbiAgICAgICAgfSBlbHNlIHIucHVzaChpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHEkMSA9IGZ1bmN0aW9uIHEkMSgpIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ICYmIHZvaWQgMCAhPT0gd2luZG93Ll9fd2VicGFja19ub25jZV9fID8gd2luZG93Ll9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgfSxcbiAgSCA9IGZ1bmN0aW9uIEgoZSkge1xuICAgIHZhciB0ID0gZG9jdW1lbnQuaGVhZCxcbiAgICAgIG4gPSBlIHx8IHQsXG4gICAgICByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLFxuICAgICAgbyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSBlLmNoaWxkTm9kZXMsIG4gPSB0Lmxlbmd0aDsgbiA+PSAwOyBuLS0pIHtcbiAgICAgICAgICB2YXIgciA9IHRbbl07XG4gICAgICAgICAgaWYgKHIgJiYgMSA9PT0gci5ub2RlVHlwZSAmJiByLmhhc0F0dHJpYnV0ZShBKSkgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgIH0obiksXG4gICAgICBzID0gdm9pZCAwICE9PSBvID8gby5uZXh0U2libGluZyA6IG51bGw7XG4gICAgci5zZXRBdHRyaWJ1dGUoQSwgXCJhY3RpdmVcIiksIHIuc2V0QXR0cmlidXRlKFwiZGF0YS1zdHlsZWQtdmVyc2lvblwiLCBcIjUuMy41XCIpO1xuICAgIHZhciBpID0gcSQxKCk7XG4gICAgcmV0dXJuIGkgJiYgci5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBpKSwgbi5pbnNlcnRCZWZvcmUociwgcyksIHI7XG4gIH0sXG4gICQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZShlKSB7XG4gICAgICB2YXIgdCA9IHRoaXMuZWxlbWVudCA9IEgoZSk7XG4gICAgICB0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSwgdGhpcy5zaGVldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnNoZWV0KSByZXR1cm4gZS5zaGVldDtcbiAgICAgICAgZm9yICh2YXIgdCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzLCBuID0gMCwgciA9IHQubGVuZ3RoOyBuIDwgcjsgbisrKSB7XG4gICAgICAgICAgdmFyIG8gPSB0W25dO1xuICAgICAgICAgIGlmIChvLm93bmVyTm9kZSA9PT0gZSkgcmV0dXJuIG87XG4gICAgICAgIH1cbiAgICAgICAgaigxNyk7XG4gICAgICB9KHQpLCB0aGlzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHZhciB0ID0gZS5wcm90b3R5cGU7XG4gICAgcmV0dXJuIHQuaW5zZXJ0UnVsZSA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGVldC5pbnNlcnRSdWxlKHQsIGUpLCB0aGlzLmxlbmd0aCsrLCAhMDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH0sIHQuZGVsZXRlUnVsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLnNoZWV0LmRlbGV0ZVJ1bGUoZSksIHRoaXMubGVuZ3RoLS07XG4gICAgfSwgdC5nZXRSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5zaGVldC5jc3NSdWxlc1tlXTtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IHQgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdC5jc3NUZXh0ID8gdC5jc3NUZXh0IDogXCJcIjtcbiAgICB9LCBlO1xuICB9KCksXG4gIFcgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZShlKSB7XG4gICAgICB2YXIgdCA9IHRoaXMuZWxlbWVudCA9IEgoZSk7XG4gICAgICB0aGlzLm5vZGVzID0gdC5jaGlsZE5vZGVzLCB0aGlzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHZhciB0ID0gZS5wcm90b3R5cGU7XG4gICAgcmV0dXJuIHQuaW5zZXJ0UnVsZSA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICBpZiAoZSA8PSB0aGlzLmxlbmd0aCAmJiBlID49IDApIHtcbiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KSxcbiAgICAgICAgICByID0gdGhpcy5ub2Rlc1tlXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUobiwgciB8fCBudWxsKSwgdGhpcy5sZW5ndGgrKywgITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfSwgdC5kZWxldGVSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm5vZGVzW2VdKSwgdGhpcy5sZW5ndGgtLTtcbiAgICB9LCB0LmdldFJ1bGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUgPCB0aGlzLmxlbmd0aCA/IHRoaXMubm9kZXNbZV0udGV4dENvbnRlbnQgOiBcIlwiO1xuICAgIH0sIGU7XG4gIH0oKSxcbiAgVSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlKGUpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBbXSwgdGhpcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICB2YXIgdCA9IGUucHJvdG90eXBlO1xuICAgIHJldHVybiB0Lmluc2VydFJ1bGUgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgcmV0dXJuIGUgPD0gdGhpcy5sZW5ndGggJiYgKHRoaXMucnVsZXMuc3BsaWNlKGUsIDAsIHQpLCB0aGlzLmxlbmd0aCsrLCAhMCk7XG4gICAgfSwgdC5kZWxldGVSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMucnVsZXMuc3BsaWNlKGUsIDEpLCB0aGlzLmxlbmd0aC0tO1xuICAgIH0sIHQuZ2V0UnVsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZSA8IHRoaXMubGVuZ3RoID8gdGhpcy5ydWxlc1tlXSA6IFwiXCI7XG4gICAgfSwgZTtcbiAgfSgpLFxuICBKID0gSSxcbiAgWCA9IHtcbiAgICBpc1NlcnZlcjogIUksXG4gICAgdXNlQ1NTT01JbmplY3Rpb246ICFQXG4gIH0sXG4gIFogPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZShlLCB0LCBuKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBFKSwgdm9pZCAwID09PSB0ICYmICh0ID0ge30pLCB0aGlzLm9wdGlvbnMgPSB2KHt9LCBYLCB7fSwgZSksIHRoaXMuZ3MgPSB0LCB0aGlzLm5hbWVzID0gbmV3IE1hcChuKSwgdGhpcy5zZXJ2ZXIgPSAhIWUuaXNTZXJ2ZXIsICF0aGlzLnNlcnZlciAmJiBJICYmIEogJiYgKEogPSAhMSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoRyksIG4gPSAwLCByID0gdC5sZW5ndGg7IG4gPCByOyBuKyspIHtcbiAgICAgICAgICB2YXIgbyA9IHRbbl07XG4gICAgICAgICAgbyAmJiBcImFjdGl2ZVwiICE9PSBvLmdldEF0dHJpYnV0ZShBKSAmJiAoWShlLCBvKSwgby5wYXJlbnROb2RlICYmIG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSk7XG4gICAgICAgIH1cbiAgICAgIH0odGhpcykpO1xuICAgIH1cbiAgICBlLnJlZ2lzdGVySWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEIoZSk7XG4gICAgfTtcbiAgICB2YXIgdCA9IGUucHJvdG90eXBlO1xuICAgIHJldHVybiB0LnJlY29uc3RydWN0V2l0aE9wdGlvbnMgPSBmdW5jdGlvbiAodCwgbikge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gbiAmJiAobiA9ICEwKSwgbmV3IGUodih7fSwgdGhpcy5vcHRpb25zLCB7fSwgdCksIHRoaXMuZ3MsIG4gJiYgdGhpcy5uYW1lcyB8fCB2b2lkIDApO1xuICAgIH0sIHQuYWxsb2NhdGVHU0luc3RhbmNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdzW2VdID0gKHRoaXMuZ3NbZV0gfHwgMCkgKyAxO1xuICAgIH0sIHQuZ2V0VGFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFnIHx8ICh0aGlzLnRhZyA9IChuID0gKHQgPSB0aGlzLm9wdGlvbnMpLmlzU2VydmVyLCByID0gdC51c2VDU1NPTUluamVjdGlvbiwgbyA9IHQudGFyZ2V0LCBlID0gbiA/IG5ldyBVKG8pIDogciA/IG5ldyAkKG8pIDogbmV3IFcobyksIG5ldyBUKGUpKSk7XG4gICAgICB2YXIgZSwgdCwgbiwgciwgbztcbiAgICB9LCB0Lmhhc05hbWVGb3JJZCA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lcy5oYXMoZSkgJiYgdGhpcy5uYW1lcy5nZXQoZSkuaGFzKHQpO1xuICAgIH0sIHQucmVnaXN0ZXJOYW1lID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgIGlmIChCKGUpLCB0aGlzLm5hbWVzLmhhcyhlKSkgdGhpcy5uYW1lcy5nZXQoZSkuYWRkKHQpO2Vsc2Uge1xuICAgICAgICB2YXIgbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgbi5hZGQodCksIHRoaXMubmFtZXMuc2V0KGUsIG4pO1xuICAgICAgfVxuICAgIH0sIHQuaW5zZXJ0UnVsZXMgPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgICAgdGhpcy5yZWdpc3Rlck5hbWUoZSwgdCksIHRoaXMuZ2V0VGFnKCkuaW5zZXJ0UnVsZXMoQihlKSwgbik7XG4gICAgfSwgdC5jbGVhck5hbWVzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMubmFtZXMuaGFzKGUpICYmIHRoaXMubmFtZXMuZ2V0KGUpLmNsZWFyKCk7XG4gICAgfSwgdC5jbGVhclJ1bGVzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuZ2V0VGFnKCkuY2xlYXJHcm91cChCKGUpKSwgdGhpcy5jbGVhck5hbWVzKGUpO1xuICAgIH0sIHQuY2xlYXJUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRhZyA9IHZvaWQgMDtcbiAgICB9LCB0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSBlLmdldFRhZygpLCBuID0gdC5sZW5ndGgsIHIgPSBcIlwiLCBvID0gMDsgbyA8IG47IG8rKykge1xuICAgICAgICAgIHZhciBzID0geihvKTtcbiAgICAgICAgICBpZiAodm9pZCAwICE9PSBzKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGUubmFtZXMuZ2V0KHMpLFxuICAgICAgICAgICAgICBhID0gdC5nZXRHcm91cChvKTtcbiAgICAgICAgICAgIGlmIChpICYmIGEgJiYgaS5zaXplKSB7XG4gICAgICAgICAgICAgIHZhciBjID0gQSArIFwiLmdcIiArIG8gKyAnW2lkPVwiJyArIHMgKyAnXCJdJyxcbiAgICAgICAgICAgICAgICB1ID0gXCJcIjtcbiAgICAgICAgICAgICAgdm9pZCAwICE9PSBpICYmIGkuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGUubGVuZ3RoID4gMCAmJiAodSArPSBlICsgXCIsXCIpO1xuICAgICAgICAgICAgICB9KSwgciArPSBcIlwiICsgYSArIGMgKyAne2NvbnRlbnQ6XCInICsgdSArICdcIn0vKiFzYyovXFxuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9KHRoaXMpO1xuICAgIH0sIGU7XG4gIH0oKSxcbiAgSyA9IC8oYSkoZCkvZ2ksXG4gIFEgPSBmdW5jdGlvbiBRKGUpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlICsgKGUgPiAyNSA/IDM5IDogOTcpKTtcbiAgfTtcbmZ1bmN0aW9uIGVlKGUpIHtcbiAgdmFyIHQsXG4gICAgbiA9IFwiXCI7XG4gIGZvciAodCA9IE1hdGguYWJzKGUpOyB0ID4gNTI7IHQgPSB0IC8gNTIgfCAwKSBuID0gUSh0ICUgNTIpICsgbjtcbiAgcmV0dXJuIChRKHQgJSA1MikgKyBuKS5yZXBsYWNlKEssIFwiJDEtJDJcIik7XG59XG52YXIgdGUgPSBmdW5jdGlvbiB0ZShlLCB0KSB7XG4gICAgZm9yICh2YXIgbiA9IHQubGVuZ3RoOyBuOykgZSA9IDMzICogZSBeIHQuY2hhckNvZGVBdCgtLW4pO1xuICAgIHJldHVybiBlO1xuICB9LFxuICBuZSA9IGZ1bmN0aW9uIG5lKGUpIHtcbiAgICByZXR1cm4gdGUoNTM4MSwgZSk7XG4gIH07XG5mdW5jdGlvbiByZShlKSB7XG4gIGZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQgKz0gMSkge1xuICAgIHZhciBuID0gZVt0XTtcbiAgICBpZiAoYihuKSAmJiAhTihuKSkgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiAhMDtcbn1cbnZhciBvZSA9IG5lKFwiNS4zLjVcIiksXG4gIHNlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGUoZSwgdCwgbikge1xuICAgICAgdGhpcy5ydWxlcyA9IGUsIHRoaXMuc3RhdGljUnVsZXNJZCA9IFwiXCIsIHRoaXMuaXNTdGF0aWMgPSAodm9pZCAwID09PSBuIHx8IG4uaXNTdGF0aWMpICYmIHJlKGUpLCB0aGlzLmNvbXBvbmVudElkID0gdCwgdGhpcy5iYXNlSGFzaCA9IHRlKG9lLCB0KSwgdGhpcy5iYXNlU3R5bGUgPSBuLCBaLnJlZ2lzdGVySWQodCk7XG4gICAgfVxuICAgIHJldHVybiBlLnByb3RvdHlwZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgICB2YXIgciA9IHRoaXMuY29tcG9uZW50SWQsXG4gICAgICAgIG8gPSBbXTtcbiAgICAgIGlmICh0aGlzLmJhc2VTdHlsZSAmJiBvLnB1c2godGhpcy5iYXNlU3R5bGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMoZSwgdCwgbikpLCB0aGlzLmlzU3RhdGljICYmICFuLmhhc2gpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGljUnVsZXNJZCAmJiB0Lmhhc05hbWVGb3JJZChyLCB0aGlzLnN0YXRpY1J1bGVzSWQpKSBvLnB1c2godGhpcy5zdGF0aWNSdWxlc0lkKTtlbHNlIHtcbiAgICAgICAgICB2YXIgcyA9IE5lKHRoaXMucnVsZXMsIGUsIHQsIG4pLmpvaW4oXCJcIiksXG4gICAgICAgICAgICBpID0gZWUodGUodGhpcy5iYXNlSGFzaCwgcykgPj4+IDApO1xuICAgICAgICAgIGlmICghdC5oYXNOYW1lRm9ySWQociwgaSkpIHtcbiAgICAgICAgICAgIHZhciBhID0gbihzLCBcIi5cIiArIGksIHZvaWQgMCwgcik7XG4gICAgICAgICAgICB0Lmluc2VydFJ1bGVzKHIsIGksIGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvLnB1c2goaSksIHRoaXMuc3RhdGljUnVsZXNJZCA9IGk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGMgPSB0aGlzLnJ1bGVzLmxlbmd0aCwgdSA9IHRlKHRoaXMuYmFzZUhhc2gsIG4uaGFzaCksIGwgPSBcIlwiLCBkID0gMDsgZCA8IGM7IGQrKykge1xuICAgICAgICAgIHZhciBoID0gdGhpcy5ydWxlc1tkXTtcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgaCkgbCArPSBoO2Vsc2UgaWYgKGgpIHtcbiAgICAgICAgICAgIHZhciBwID0gTmUoaCwgZSwgdCwgbiksXG4gICAgICAgICAgICAgIGYgPSBBcnJheS5pc0FycmF5KHApID8gcC5qb2luKFwiXCIpIDogcDtcbiAgICAgICAgICAgIHUgPSB0ZSh1LCBmICsgZCksIGwgKz0gZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICB2YXIgbSA9IGVlKHUgPj4+IDApO1xuICAgICAgICAgIGlmICghdC5oYXNOYW1lRm9ySWQociwgbSkpIHtcbiAgICAgICAgICAgIHZhciB5ID0gbihsLCBcIi5cIiArIG0sIHZvaWQgMCwgcik7XG4gICAgICAgICAgICB0Lmluc2VydFJ1bGVzKHIsIG0sIHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvLnB1c2gobSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvLmpvaW4oXCIgXCIpO1xuICAgIH0sIGU7XG4gIH0oKSxcbiAgaWUgPSAvXlxccypcXC9cXC8uKiQvZ20sXG4gIGFlID0gW1wiOlwiLCBcIltcIiwgXCIuXCIsIFwiI1wiXTtcbmZ1bmN0aW9uIGNlKGUpIHtcbiAgdmFyIHQsXG4gICAgbixcbiAgICByLFxuICAgIG8sXG4gICAgcyA9IHZvaWQgMCA9PT0gZSA/IEUgOiBlLFxuICAgIGkgPSBzLm9wdGlvbnMsXG4gICAgYSA9IHZvaWQgMCA9PT0gaSA/IEUgOiBpLFxuICAgIGMgPSBzLnBsdWdpbnMsXG4gICAgdSA9IHZvaWQgMCA9PT0gYyA/IHcgOiBjLFxuICAgIGwgPSBuZXcgc3R5bGlzX21pbihhKSxcbiAgICBkID0gW10sXG4gICAgaCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBmdW5jdGlvbiB0KHQpIHtcbiAgICAgICAgaWYgKHQpIHRyeSB7XG4gICAgICAgICAgZSh0ICsgXCJ9XCIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuLCByLCBvLCBzLCBpLCBhLCBjLCB1LCBsLCBkKSB7XG4gICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmICgwID09PSBsICYmIDY0ID09PSByLmNoYXJDb2RlQXQoMCkpIHJldHVybiBlKHIgKyBcIjtcIiksIFwiXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoMCA9PT0gdSkgcmV0dXJuIHIgKyBcIi8qfCovXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBzd2l0Y2ggKHUpIHtcbiAgICAgICAgICAgICAgY2FzZSAxMDI6XG4gICAgICAgICAgICAgIGNhc2UgMTEyOlxuICAgICAgICAgICAgICAgIHJldHVybiBlKG9bMF0gKyByKSwgXCJcIjtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gciArICgwID09PSBkID8gXCIvKnwqL1wiIDogXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAtMjpcbiAgICAgICAgICAgIHIuc3BsaXQoXCIvKnwqL31cIikuZm9yRWFjaCh0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KGZ1bmN0aW9uIChlKSB7XG4gICAgICBkLnB1c2goZSk7XG4gICAgfSksXG4gICAgZiA9IGZ1bmN0aW9uIGYoZSwgciwgcykge1xuICAgICAgcmV0dXJuIDAgPT09IHIgJiYgLTEgIT09IGFlLmluZGV4T2Yoc1tuLmxlbmd0aF0pIHx8IHMubWF0Y2gobykgPyBlIDogXCIuXCIgKyB0O1xuICAgIH07XG4gIGZ1bmN0aW9uIG0oZSwgcywgaSwgYSkge1xuICAgIHZvaWQgMCA9PT0gYSAmJiAoYSA9IFwiJlwiKTtcbiAgICB2YXIgYyA9IGUucmVwbGFjZShpZSwgXCJcIiksXG4gICAgICB1ID0gcyAmJiBpID8gaSArIFwiIFwiICsgcyArIFwiIHsgXCIgKyBjICsgXCIgfVwiIDogYztcbiAgICByZXR1cm4gdCA9IGEsIG4gPSBzLCByID0gbmV3IFJlZ0V4cChcIlxcXFxcIiArIG4gKyBcIlxcXFxiXCIsIFwiZ1wiKSwgbyA9IG5ldyBSZWdFeHAoXCIoXFxcXFwiICsgbiArIFwiXFxcXGIpezIsfVwiKSwgbChpIHx8ICFzID8gXCJcIiA6IHMsIHUpO1xuICB9XG4gIHJldHVybiBsLnVzZShbXS5jb25jYXQodSwgW2Z1bmN0aW9uIChlLCB0LCBvKSB7XG4gICAgMiA9PT0gZSAmJiBvLmxlbmd0aCAmJiBvWzBdLmxhc3RJbmRleE9mKG4pID4gMCAmJiAob1swXSA9IG9bMF0ucmVwbGFjZShyLCBmKSk7XG4gIH0sIGgsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKC0yID09PSBlKSB7XG4gICAgICB2YXIgdCA9IGQ7XG4gICAgICByZXR1cm4gZCA9IFtdLCB0O1xuICAgIH1cbiAgfV0pKSwgbS5oYXNoID0gdS5sZW5ndGggPyB1LnJlZHVjZShmdW5jdGlvbiAoZSwgdCkge1xuICAgIHJldHVybiB0Lm5hbWUgfHwgaigxNSksIHRlKGUsIHQubmFtZSk7XG4gIH0sIDUzODEpLnRvU3RyaW5nKCkgOiBcIlwiLCBtO1xufVxudmFyIHVlID0gLyojX19QVVJFX18qL3duLmNyZWF0ZUNvbnRleHQoKTtcbnVlLkNvbnN1bWVyO1xudmFyIGRlID0gLyojX19QVVJFX18qL3duLmNyZWF0ZUNvbnRleHQoKSxcbiAgaGUgPSAoZGUuQ29uc3VtZXIsIG5ldyBaKCkpLFxuICBwZSA9IGNlKCk7XG5mdW5jdGlvbiBmZSgpIHtcbiAgcmV0dXJuIHEkNSh1ZSkgfHwgaGU7XG59XG5mdW5jdGlvbiBtZSgpIHtcbiAgcmV0dXJuIHEkNShkZSkgfHwgcGU7XG59XG5mdW5jdGlvbiB5ZShlKSB7XG4gIHZhciB0ID0gaCQ0KGUuc3R5bGlzUGx1Z2lucyksXG4gICAgbiA9IHRbMF0sXG4gICAgcyA9IHRbMV0sXG4gICAgYyA9IGZlKCksXG4gICAgdSA9IEYkMyhmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdCA9IGM7XG4gICAgICByZXR1cm4gZS5zaGVldCA/IHQgPSBlLnNoZWV0IDogZS50YXJnZXQgJiYgKHQgPSB0LnJlY29uc3RydWN0V2l0aE9wdGlvbnMoe1xuICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0XG4gICAgICB9LCAhMSkpLCBlLmRpc2FibGVDU1NPTUluamVjdGlvbiAmJiAodCA9IHQucmVjb25zdHJ1Y3RXaXRoT3B0aW9ucyh7XG4gICAgICAgIHVzZUNTU09NSW5qZWN0aW9uOiAhMVxuICAgICAgfSkpLCB0O1xuICAgIH0sIFtlLmRpc2FibGVDU1NPTUluamVjdGlvbiwgZS5zaGVldCwgZS50YXJnZXRdKSxcbiAgICBsID0gRiQzKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjZSh7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwcmVmaXg6ICFlLmRpc2FibGVWZW5kb3JQcmVmaXhlc1xuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiBuXG4gICAgICB9KTtcbiAgICB9LCBbZS5kaXNhYmxlVmVuZG9yUHJlZml4ZXMsIG5dKTtcbiAgcmV0dXJuIHAkMyhmdW5jdGlvbiAoKSB7XG4gICAgaCQyKG4sIGUuc3R5bGlzUGx1Z2lucykgfHwgcyhlLnN0eWxpc1BsdWdpbnMpO1xuICB9LCBbZS5zdHlsaXNQbHVnaW5zXSksIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHVlLlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHVcbiAgfSwgLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoZGUuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogbFxuICB9LCBlLmNoaWxkcmVuKSk7XG59XG52YXIgdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZShlLCB0KSB7XG4gICAgICB2YXIgbiA9IHRoaXM7XG4gICAgICB0aGlzLmluamVjdCA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHBlKTtcbiAgICAgICAgdmFyIHIgPSBuLm5hbWUgKyB0Lmhhc2g7XG4gICAgICAgIGUuaGFzTmFtZUZvcklkKG4uaWQsIHIpIHx8IGUuaW5zZXJ0UnVsZXMobi5pZCwgciwgdChuLnJ1bGVzLCByLCBcIkBrZXlmcmFtZXNcIikpO1xuICAgICAgfSwgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGooMTIsIFN0cmluZyhuLm5hbWUpKTtcbiAgICAgIH0sIHRoaXMubmFtZSA9IGUsIHRoaXMuaWQgPSBcInNjLWtleWZyYW1lcy1cIiArIGUsIHRoaXMucnVsZXMgPSB0O1xuICAgIH1cbiAgICByZXR1cm4gZS5wcm90b3R5cGUuZ2V0TmFtZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gcGUpLCB0aGlzLm5hbWUgKyBlLmhhc2g7XG4gICAgfSwgZTtcbiAgfSgpLFxuICBnZSA9IC8oW0EtWl0pLyxcbiAgU2UgPSAvKFtBLVpdKS9nLFxuICB3ZSA9IC9ebXMtLyxcbiAgRWUgPSBmdW5jdGlvbiBFZShlKSB7XG4gICAgcmV0dXJuIFwiLVwiICsgZS50b0xvd2VyQ2FzZSgpO1xuICB9O1xuZnVuY3Rpb24gYmUoZSkge1xuICByZXR1cm4gZ2UudGVzdChlKSA/IGUucmVwbGFjZShTZSwgRWUpLnJlcGxhY2Uod2UsIFwiLW1zLVwiKSA6IGU7XG59XG52YXIgX2UgPSBmdW5jdGlvbiBfZShlKSB7XG4gIHJldHVybiBudWxsID09IGUgfHwgITEgPT09IGUgfHwgXCJcIiA9PT0gZTtcbn07XG5mdW5jdGlvbiBOZShlLCBuLCByLCBvKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgZm9yICh2YXIgcywgaSA9IFtdLCBhID0gMCwgYyA9IGUubGVuZ3RoOyBhIDwgYzsgYSArPSAxKSBcIlwiICE9PSAocyA9IE5lKGVbYV0sIG4sIHIsIG8pKSAmJiAoQXJyYXkuaXNBcnJheShzKSA/IGkucHVzaC5hcHBseShpLCBzKSA6IGkucHVzaChzKSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgaWYgKF9lKGUpKSByZXR1cm4gXCJcIjtcbiAgaWYgKE4oZSkpIHJldHVybiBcIi5cIiArIGUuc3R5bGVkQ29tcG9uZW50SWQ7XG4gIGlmIChiKGUpKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgKGwgPSBlKSB8fCBsLnByb3RvdHlwZSAmJiBsLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50IHx8ICFuKSByZXR1cm4gZTtcbiAgICB2YXIgdSA9IGUobik7XG4gICAgcmV0dXJuIE5lKHUsIG4sIHIsIG8pO1xuICB9XG4gIHZhciBsO1xuICByZXR1cm4gZSBpbnN0YW5jZW9mIHZlID8gciA/IChlLmluamVjdChyLCBvKSwgZS5nZXROYW1lKG8pKSA6IGUgOiBTKGUpID8gZnVuY3Rpb24gZSh0LCBuKSB7XG4gICAgdmFyIHIsXG4gICAgICBvLFxuICAgICAgcyA9IFtdO1xuICAgIGZvciAodmFyIGkgaW4gdCkgdC5oYXNPd25Qcm9wZXJ0eShpKSAmJiAhX2UodFtpXSkgJiYgKEFycmF5LmlzQXJyYXkodFtpXSkgJiYgdFtpXS5pc0NzcyB8fCBiKHRbaV0pID8gcy5wdXNoKGJlKGkpICsgXCI6XCIsIHRbaV0sIFwiO1wiKSA6IFModFtpXSkgPyBzLnB1c2guYXBwbHkocywgZSh0W2ldLCBpKSkgOiBzLnB1c2goYmUoaSkgKyBcIjogXCIgKyAociA9IGksIG51bGwgPT0gKG8gPSB0W2ldKSB8fCBcImJvb2xlYW5cIiA9PSB0eXBlb2YgbyB8fCBcIlwiID09PSBvID8gXCJcIiA6IFwibnVtYmVyXCIgIT0gdHlwZW9mIG8gfHwgMCA9PT0gbyB8fCByIGluIHVuaXRsZXNzS2V5cyA/IFN0cmluZyhvKS50cmltKCkgOiBvICsgXCJweFwiKSArIFwiO1wiKSk7XG4gICAgcmV0dXJuIG4gPyBbbiArIFwiIHtcIl0uY29uY2F0KHMsIFtcIn1cIl0pIDogcztcbiAgfShlKSA6IGUudG9TdHJpbmcoKTtcbn1cbnZhciBBZSA9IGZ1bmN0aW9uIEFlKGUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZSkgJiYgKGUuaXNDc3MgPSAhMCksIGU7XG59O1xuZnVuY3Rpb24gQ2UoZSkge1xuICBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgbiA9IG5ldyBBcnJheSh0ID4gMSA/IHQgLSAxIDogMCksIHIgPSAxOyByIDwgdDsgcisrKSBuW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTtcbiAgcmV0dXJuIGIoZSkgfHwgUyhlKSA/IEFlKE5lKGcodywgW2VdLmNvbmNhdChuKSkpKSA6IDAgPT09IG4ubGVuZ3RoICYmIDEgPT09IGUubGVuZ3RoICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGVbMF0gPyBlIDogQWUoTmUoZyhlLCBuKSkpO1xufVxudmFyIFJlID0gZnVuY3Rpb24gUmUoZSwgdCwgbikge1xuICAgIHJldHVybiB2b2lkIDAgPT09IG4gJiYgKG4gPSBFKSwgZS50aGVtZSAhPT0gbi50aGVtZSAmJiBlLnRoZW1lIHx8IHQgfHwgbi50aGVtZTtcbiAgfSxcbiAgRGUgPSAvWyFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fi1dKy9nLFxuICBqZSA9IC8oXi18LSQpL2c7XG5mdW5jdGlvbiBUZShlKSB7XG4gIHJldHVybiBlLnJlcGxhY2UoRGUsIFwiLVwiKS5yZXBsYWNlKGplLCBcIlwiKTtcbn1cbnZhciB4ZSA9IGZ1bmN0aW9uIHhlKGUpIHtcbiAgcmV0dXJuIGVlKG5lKGUpID4+PiAwKTtcbn07XG5mdW5jdGlvbiBrZShlKSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBlICYmIFwicHJvZHVjdGlvblwiID09PSBcInByb2R1Y3Rpb25cIjtcbn1cbnZhciBWZSA9IGZ1bmN0aW9uIFZlKGUpIHtcbiAgICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlIHx8IFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSAmJiBudWxsICE9PSBlICYmICFBcnJheS5pc0FycmF5KGUpO1xuICB9LFxuICBCZSA9IGZ1bmN0aW9uIEJlKGUpIHtcbiAgICByZXR1cm4gXCJfX3Byb3RvX19cIiAhPT0gZSAmJiBcImNvbnN0cnVjdG9yXCIgIT09IGUgJiYgXCJwcm90b3R5cGVcIiAhPT0gZTtcbiAgfTtcbmZ1bmN0aW9uIHplKGUsIHQsIG4pIHtcbiAgdmFyIHIgPSBlW25dO1xuICBWZSh0KSAmJiBWZShyKSA/IE1lKHIsIHQpIDogZVtuXSA9IHQ7XG59XG5mdW5jdGlvbiBNZShlKSB7XG4gIGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gbmV3IEFycmF5KHQgPiAxID8gdCAtIDEgOiAwKSwgciA9IDE7IHIgPCB0OyByKyspIG5bciAtIDFdID0gYXJndW1lbnRzW3JdO1xuICBmb3IgKHZhciBvID0gMCwgcyA9IG47IG8gPCBzLmxlbmd0aDsgbysrKSB7XG4gICAgdmFyIGkgPSBzW29dO1xuICAgIGlmIChWZShpKSkgZm9yICh2YXIgYSBpbiBpKSBCZShhKSAmJiB6ZShlLCBpW2FdLCBhKTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbnZhciBHZSA9IC8qI19fUFVSRV9fKi93bi5jcmVhdGVDb250ZXh0KCk7XG5HZS5Db25zdW1lcjtcbmZ1bmN0aW9uIEZlKGUpIHtcbiAgdmFyIHQgPSBxJDUoR2UpLFxuICAgIG4gPSBGJDMoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIGlmICghZSkgcmV0dXJuIGooMTQpO1xuICAgICAgICBpZiAoYihlKSkge1xuICAgICAgICAgIHZhciBuID0gZSh0KTtcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShlKSB8fCBcIm9iamVjdFwiICE9IF90eXBlb2YoZSkgPyBqKDgpIDogdCA/IHYoe30sIHQsIHt9LCBlKSA6IGU7XG4gICAgICB9KGUudGhlbWUsIHQpO1xuICAgIH0sIFtlLnRoZW1lLCB0XSk7XG4gIHJldHVybiBlLmNoaWxkcmVuID8gLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2UuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogblxuICB9LCBlLmNoaWxkcmVuKSA6IG51bGw7XG59XG52YXIgWWUgPSB7fTtcbmZ1bmN0aW9uIHFlKGUsIHQsIG4pIHtcbiAgdmFyIG8gPSBOKGUpLFxuICAgIGkgPSAha2UoZSksXG4gICAgYSA9IHQuYXR0cnMsXG4gICAgYyA9IHZvaWQgMCA9PT0gYSA/IHcgOiBhLFxuICAgIGQgPSB0LmNvbXBvbmVudElkLFxuICAgIGggPSB2b2lkIDAgPT09IGQgPyBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgdmFyIG4gPSBcInN0cmluZ1wiICE9IHR5cGVvZiBlID8gXCJzY1wiIDogVGUoZSk7XG4gICAgICBZZVtuXSA9IChZZVtuXSB8fCAwKSArIDE7XG4gICAgICB2YXIgciA9IG4gKyBcIi1cIiArIHhlKFwiNS4zLjVcIiArIG4gKyBZZVtuXSk7XG4gICAgICByZXR1cm4gdCA/IHQgKyBcIi1cIiArIHIgOiByO1xuICAgIH0odC5kaXNwbGF5TmFtZSwgdC5wYXJlbnRDb21wb25lbnRJZCkgOiBkLFxuICAgIHAgPSB0LmRpc3BsYXlOYW1lLFxuICAgIGYgPSB2b2lkIDAgPT09IHAgPyBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGtlKGUpID8gXCJzdHlsZWQuXCIgKyBlIDogXCJTdHlsZWQoXCIgKyBfKGUpICsgXCIpXCI7XG4gICAgfShlKSA6IHAsXG4gICAgZyA9IHQuZGlzcGxheU5hbWUgJiYgdC5jb21wb25lbnRJZCA/IFRlKHQuZGlzcGxheU5hbWUpICsgXCItXCIgKyB0LmNvbXBvbmVudElkIDogdC5jb21wb25lbnRJZCB8fCBoLFxuICAgIFMgPSBvICYmIGUuYXR0cnMgPyBBcnJheS5wcm90b3R5cGUuY29uY2F0KGUuYXR0cnMsIGMpLmZpbHRlcihCb29sZWFuKSA6IGMsXG4gICAgQSA9IHQuc2hvdWxkRm9yd2FyZFByb3A7XG4gIG8gJiYgZS5zaG91bGRGb3J3YXJkUHJvcCAmJiAoQSA9IHQuc2hvdWxkRm9yd2FyZFByb3AgPyBmdW5jdGlvbiAobiwgciwgbykge1xuICAgIHJldHVybiBlLnNob3VsZEZvcndhcmRQcm9wKG4sIHIsIG8pICYmIHQuc2hvdWxkRm9yd2FyZFByb3Aobiwgciwgbyk7XG4gIH0gOiBlLnNob3VsZEZvcndhcmRQcm9wKTtcbiAgdmFyIEMsXG4gICAgSSA9IG5ldyBzZShuLCBnLCBvID8gZS5jb21wb25lbnRTdHlsZSA6IHZvaWQgMCksXG4gICAgUCA9IEkuaXNTdGF0aWMgJiYgMCA9PT0gYy5sZW5ndGgsXG4gICAgTyA9IGZ1bmN0aW9uIE8oZSwgdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7XG4gICAgICAgIHZhciBvID0gZS5hdHRycyxcbiAgICAgICAgICBpID0gZS5jb21wb25lbnRTdHlsZSxcbiAgICAgICAgICBhID0gZS5kZWZhdWx0UHJvcHMsXG4gICAgICAgICAgYyA9IGUuZm9sZGVkQ29tcG9uZW50SWRzLFxuICAgICAgICAgIGQgPSBlLnNob3VsZEZvcndhcmRQcm9wLFxuICAgICAgICAgIGggPSBlLnN0eWxlZENvbXBvbmVudElkLFxuICAgICAgICAgIHAgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIGYgPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgICAgICAgICAgdm9pZCAwID09PSBlICYmIChlID0gRSk7XG4gICAgICAgICAgICB2YXIgciA9IHYoe30sIHQsIHtcbiAgICAgICAgICAgICAgICB0aGVtZTogZVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgbyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICB2YXIgdCxcbiAgICAgICAgICAgICAgICBuLFxuICAgICAgICAgICAgICAgIHMsXG4gICAgICAgICAgICAgICAgaSA9IGU7XG4gICAgICAgICAgICAgIGZvciAodCBpbiBiKGkpICYmIChpID0gaShyKSksIGkpIHJbdF0gPSBvW3RdID0gXCJjbGFzc05hbWVcIiA9PT0gdCA/IChuID0gb1t0XSwgcyA9IGlbdF0sIG4gJiYgcyA/IG4gKyBcIiBcIiArIHMgOiBuIHx8IHMpIDogaVt0XTtcbiAgICAgICAgICAgIH0pLCBbciwgb107XG4gICAgICAgICAgfShSZSh0LCBxJDUoR2UpLCBhKSB8fCBFLCB0LCBvKSxcbiAgICAgICAgICB5ID0gZlswXSxcbiAgICAgICAgICBnID0gZlsxXSxcbiAgICAgICAgICBTID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgICAgIHZhciBvID0gZmUoKSxcbiAgICAgICAgICAgICAgcyA9IG1lKCksXG4gICAgICAgICAgICAgIGkgPSB0ID8gZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFLCBvLCBzKSA6IGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMobiwgbywgcyk7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICB9KGksIHIsIHkpLFxuICAgICAgICAgIHcgPSBuLFxuICAgICAgICAgIF8gPSBnLiRhcyB8fCB0LiRhcyB8fCBnLmFzIHx8IHQuYXMgfHwgcCxcbiAgICAgICAgICBOID0ga2UoXyksXG4gICAgICAgICAgQSA9IGcgIT09IHQgPyB2KHt9LCB0LCB7fSwgZykgOiB0LFxuICAgICAgICAgIEMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgSSBpbiBBKSBcIiRcIiAhPT0gSVswXSAmJiBcImFzXCIgIT09IEkgJiYgKFwiZm9yd2FyZGVkQXNcIiA9PT0gSSA/IEMuYXMgPSBBW0ldIDogKGQgPyBkKEksIGlzUHJvcFZhbGlkLCBfKSA6ICFOIHx8IGlzUHJvcFZhbGlkKEkpKSAmJiAoQ1tJXSA9IEFbSV0pKTtcbiAgICAgICAgcmV0dXJuIHQuc3R5bGUgJiYgZy5zdHlsZSAhPT0gdC5zdHlsZSAmJiAoQy5zdHlsZSA9IHYoe30sIHQuc3R5bGUsIHt9LCBnLnN0eWxlKSksIEMuY2xhc3NOYW1lID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdChjLCBoLCBTICE9PSBoID8gUyA6IG51bGwsIHQuY2xhc3NOYW1lLCBnLmNsYXNzTmFtZSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLCBDLnJlZiA9IHcsIC8qI19fUFVSRV9fKi95JDMoXywgQyk7XG4gICAgICB9KEMsIGUsIHQsIFApO1xuICAgIH07XG4gIHJldHVybiBPLmRpc3BsYXlOYW1lID0gZiwgKEMgPSAvKiNfX1BVUkVfXyovd24uZm9yd2FyZFJlZihPKSkuYXR0cnMgPSBTLCBDLmNvbXBvbmVudFN0eWxlID0gSSwgQy5kaXNwbGF5TmFtZSA9IGYsIEMuc2hvdWxkRm9yd2FyZFByb3AgPSBBLCBDLmZvbGRlZENvbXBvbmVudElkcyA9IG8gPyBBcnJheS5wcm90b3R5cGUuY29uY2F0KGUuZm9sZGVkQ29tcG9uZW50SWRzLCBlLnN0eWxlZENvbXBvbmVudElkKSA6IHcsIEMuc3R5bGVkQ29tcG9uZW50SWQgPSBnLCBDLnRhcmdldCA9IG8gPyBlLnRhcmdldCA6IGUsIEMud2l0aENvbXBvbmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHIgPSB0LmNvbXBvbmVudElkLFxuICAgICAgbyA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIGlmIChudWxsID09IGUpIHJldHVybiB7fTtcbiAgICAgICAgdmFyIG4sXG4gICAgICAgICAgcixcbiAgICAgICAgICBvID0ge30sXG4gICAgICAgICAgcyA9IE9iamVjdC5rZXlzKGUpO1xuICAgICAgICBmb3IgKHIgPSAwOyByIDwgcy5sZW5ndGg7IHIrKykgbiA9IHNbcl0sIHQuaW5kZXhPZihuKSA+PSAwIHx8IChvW25dID0gZVtuXSk7XG4gICAgICAgIHJldHVybiBvO1xuICAgICAgfSh0LCBbXCJjb21wb25lbnRJZFwiXSksXG4gICAgICBzID0gciAmJiByICsgXCItXCIgKyAoa2UoZSkgPyBlIDogVGUoXyhlKSkpO1xuICAgIHJldHVybiBxZShlLCB2KHt9LCBvLCB7XG4gICAgICBhdHRyczogUyxcbiAgICAgIGNvbXBvbmVudElkOiBzXG4gICAgfSksIG4pO1xuICB9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkoQywgXCJkZWZhdWx0UHJvcHNcIiwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZvbGRlZERlZmF1bHRQcm9wcztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgIHRoaXMuX2ZvbGRlZERlZmF1bHRQcm9wcyA9IG8gPyBNZSh7fSwgZS5kZWZhdWx0UHJvcHMsIHQpIDogdDtcbiAgICB9XG4gIH0pLCBDLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIi5cIiArIEMuc3R5bGVkQ29tcG9uZW50SWQ7XG4gIH0sIGkgJiYgaG9pc3ROb25SZWFjdFN0YXRpY3MkMShDLCBlLCB7XG4gICAgYXR0cnM6ICEwLFxuICAgIGNvbXBvbmVudFN0eWxlOiAhMCxcbiAgICBkaXNwbGF5TmFtZTogITAsXG4gICAgZm9sZGVkQ29tcG9uZW50SWRzOiAhMCxcbiAgICBzaG91bGRGb3J3YXJkUHJvcDogITAsXG4gICAgc3R5bGVkQ29tcG9uZW50SWQ6ICEwLFxuICAgIHRhcmdldDogITAsXG4gICAgd2l0aENvbXBvbmVudDogITBcbiAgfSksIEM7XG59XG52YXIgSGUgPSBmdW5jdGlvbiBIZShlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBlKHQsIHIsIG8pIHtcbiAgICBpZiAodm9pZCAwID09PSBvICYmIChvID0gRSksICFyZWFjdElzRXhwb3J0cyQxLmlzVmFsaWRFbGVtZW50VHlwZShyKSkgcmV0dXJuIGooMSwgU3RyaW5nKHIpKTtcbiAgICB2YXIgcyA9IGZ1bmN0aW9uIHMoKSB7XG4gICAgICByZXR1cm4gdChyLCBvLCBDZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gICAgcmV0dXJuIHMud2l0aENvbmZpZyA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gZSh0LCByLCB2KHt9LCBvLCB7fSwgbikpO1xuICAgIH0sIHMuYXR0cnMgPSBmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuIGUodCwgciwgdih7fSwgbywge1xuICAgICAgICBhdHRyczogQXJyYXkucHJvdG90eXBlLmNvbmNhdChvLmF0dHJzLCBuKS5maWx0ZXIoQm9vbGVhbilcbiAgICAgIH0pKTtcbiAgICB9LCBzO1xuICB9KHFlLCBlKTtcbn07XG5bXCJhXCIsIFwiYWJiclwiLCBcImFkZHJlc3NcIiwgXCJhcmVhXCIsIFwiYXJ0aWNsZVwiLCBcImFzaWRlXCIsIFwiYXVkaW9cIiwgXCJiXCIsIFwiYmFzZVwiLCBcImJkaVwiLCBcImJkb1wiLCBcImJpZ1wiLCBcImJsb2NrcXVvdGVcIiwgXCJib2R5XCIsIFwiYnJcIiwgXCJidXR0b25cIiwgXCJjYW52YXNcIiwgXCJjYXB0aW9uXCIsIFwiY2l0ZVwiLCBcImNvZGVcIiwgXCJjb2xcIiwgXCJjb2xncm91cFwiLCBcImRhdGFcIiwgXCJkYXRhbGlzdFwiLCBcImRkXCIsIFwiZGVsXCIsIFwiZGV0YWlsc1wiLCBcImRmblwiLCBcImRpYWxvZ1wiLCBcImRpdlwiLCBcImRsXCIsIFwiZHRcIiwgXCJlbVwiLCBcImVtYmVkXCIsIFwiZmllbGRzZXRcIiwgXCJmaWdjYXB0aW9uXCIsIFwiZmlndXJlXCIsIFwiZm9vdGVyXCIsIFwiZm9ybVwiLCBcImgxXCIsIFwiaDJcIiwgXCJoM1wiLCBcImg0XCIsIFwiaDVcIiwgXCJoNlwiLCBcImhlYWRcIiwgXCJoZWFkZXJcIiwgXCJoZ3JvdXBcIiwgXCJoclwiLCBcImh0bWxcIiwgXCJpXCIsIFwiaWZyYW1lXCIsIFwiaW1nXCIsIFwiaW5wdXRcIiwgXCJpbnNcIiwgXCJrYmRcIiwgXCJrZXlnZW5cIiwgXCJsYWJlbFwiLCBcImxlZ2VuZFwiLCBcImxpXCIsIFwibGlua1wiLCBcIm1haW5cIiwgXCJtYXBcIiwgXCJtYXJrXCIsIFwibWFycXVlZVwiLCBcIm1lbnVcIiwgXCJtZW51aXRlbVwiLCBcIm1ldGFcIiwgXCJtZXRlclwiLCBcIm5hdlwiLCBcIm5vc2NyaXB0XCIsIFwib2JqZWN0XCIsIFwib2xcIiwgXCJvcHRncm91cFwiLCBcIm9wdGlvblwiLCBcIm91dHB1dFwiLCBcInBcIiwgXCJwYXJhbVwiLCBcInBpY3R1cmVcIiwgXCJwcmVcIiwgXCJwcm9ncmVzc1wiLCBcInFcIiwgXCJycFwiLCBcInJ0XCIsIFwicnVieVwiLCBcInNcIiwgXCJzYW1wXCIsIFwic2NyaXB0XCIsIFwic2VjdGlvblwiLCBcInNlbGVjdFwiLCBcInNtYWxsXCIsIFwic291cmNlXCIsIFwic3BhblwiLCBcInN0cm9uZ1wiLCBcInN0eWxlXCIsIFwic3ViXCIsIFwic3VtbWFyeVwiLCBcInN1cFwiLCBcInRhYmxlXCIsIFwidGJvZHlcIiwgXCJ0ZFwiLCBcInRleHRhcmVhXCIsIFwidGZvb3RcIiwgXCJ0aFwiLCBcInRoZWFkXCIsIFwidGltZVwiLCBcInRpdGxlXCIsIFwidHJcIiwgXCJ0cmFja1wiLCBcInVcIiwgXCJ1bFwiLCBcInZhclwiLCBcInZpZGVvXCIsIFwid2JyXCIsIFwiY2lyY2xlXCIsIFwiY2xpcFBhdGhcIiwgXCJkZWZzXCIsIFwiZWxsaXBzZVwiLCBcImZvcmVpZ25PYmplY3RcIiwgXCJnXCIsIFwiaW1hZ2VcIiwgXCJsaW5lXCIsIFwibGluZWFyR3JhZGllbnRcIiwgXCJtYXJrZXJcIiwgXCJtYXNrXCIsIFwicGF0aFwiLCBcInBhdHRlcm5cIiwgXCJwb2x5Z29uXCIsIFwicG9seWxpbmVcIiwgXCJyYWRpYWxHcmFkaWVudFwiLCBcInJlY3RcIiwgXCJzdG9wXCIsIFwic3ZnXCIsIFwidGV4dFwiLCBcInRleHRQYXRoXCIsIFwidHNwYW5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICBIZVtlXSA9IEhlKGUpO1xufSk7XG5mdW5jdGlvbiBVZShlKSB7XG4gIGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gbmV3IEFycmF5KHQgPiAxID8gdCAtIDEgOiAwKSwgciA9IDE7IHIgPCB0OyByKyspIG5bciAtIDFdID0gYXJndW1lbnRzW3JdO1xuICB2YXIgbyA9IENlLmFwcGx5KHZvaWQgMCwgW2VdLmNvbmNhdChuKSkuam9pbihcIlwiKSxcbiAgICBzID0geGUobyk7XG4gIHJldHVybiBuZXcgdmUocywgbyk7XG59XG52YXIgWmUgPSBmdW5jdGlvbiBaZSgpIHtcbiAgcmV0dXJuIHEkNShHZSk7XG59O1xudmFyIFNIQURPV19ET01fT05FX1RBUF9NT1VOVF9QT0lOVCA9IFwiPGRpdiBkYXRhLXByb21wdF9wYXJlbnRfaWQ9J2dfaWRfb25sb2FkJyBpZD0nZ29vZ2xlLXBhcmVudC1wcm9tcHQnIHN0eWxlPScnPjwvZGl2PlwiO1xuZnVuY3Rpb24gQ3JlYXRlV2ViQ29tcG9uZW50KFJlYWN0Q29tcG9uZW50LCB3ZWJDb21wb25lbnROYW1lKSB7XG4gIHZhciBleGlzdGluZ1JlZ2lzdHJ5ID0gY3VzdG9tRWxlbWVudHMuZ2V0KHdlYkNvbXBvbmVudE5hbWUpO1xuICBpZiAoZXhpc3RpbmdSZWdpc3RyeSkge1xuICAgIHJldHVybiBleGlzdGluZ1JlZ2lzdHJ5O1xuICB9XG4gIHZhciBSZWFjdFdlYkNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKFJlYWN0V2ViQ29tcG9uZW50LCBfSFRNTEVsZW1lbnQpO1xuICAgIGZ1bmN0aW9uIFJlYWN0V2ViQ29tcG9uZW50KHByb3BzKSB7XG4gICAgICB2YXIgX3RoaXM7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVhY3RXZWJDb21wb25lbnQpO1xuICAgICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIFJlYWN0V2ViQ29tcG9uZW50KTtcbiAgICAgIF90aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICBfdGhpcy5yb290UmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBfdGhpcy5hcHBlbmQoX3RoaXMucm9vdFJlZik7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIF9jcmVhdGVDbGFzcyhSZWFjdFdlYkNvbXBvbmVudCwgW3tcbiAgICAgIGtleTogXCJjb25uZWN0ZWRDYWxsYmFja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnN0eWxlU2xvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcbiAgICAgICAgdGhpcy5yb290UmVmLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVTbG90KTtcbiAgICAgICAgdGhpcy5tb3VudFBvaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0aGlzLnN0eWxlU2xvdC5hcHBlbmRDaGlsZCh0aGlzLm1vdW50UG9pbnQpO1xuICAgICAgICB0aGlzLnJlbmRlcih0aGlzLnByb3BzKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGlzY29ubmVjdGVkQ2FsbGJhY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vdW50UG9pbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd24udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLm1vdW50UG9pbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIocHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vdW50UG9pbnQpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IHJlbmRlciAtIG5vIG1vdW50IHBvaW50IGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3R5bGVTbG90KSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCByZW5kZXIgLSBubyBzdHlsZSBzbG90IGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB3bi5yZW5kZXIoIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHllLCB7XG4gICAgICAgICAgdGFyZ2V0OiB0aGlzLnN0eWxlU2xvdFxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZWFjdENvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKSksIHRoaXMubW91bnRQb2ludCk7XG4gICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBSZWFjdFdlYkNvbXBvbmVudDtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHdlYkNvbXBvbmVudE5hbWUsIFJlYWN0V2ViQ29tcG9uZW50KTtcbiAgcmV0dXJuIFJlYWN0V2ViQ29tcG9uZW50O1xufVxuZnVuY3Rpb24gQ3JlYXRlU2hhZG93V2ViQ29tcG9uZW50KFJlYWN0Q29tcG9uZW50LCB3ZWJDb21wb25lbnROYW1lKSB7XG4gIHZhciBleGlzdGluZ1JlZ2lzdHJ5ID0gY3VzdG9tRWxlbWVudHMuZ2V0KHdlYkNvbXBvbmVudE5hbWUpO1xuICBpZiAoZXhpc3RpbmdSZWdpc3RyeSkge1xuICAgIHJldHVybiBleGlzdGluZ1JlZ2lzdHJ5O1xuICB9XG4gIHZhciBSZWFjdFdlYkNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50Mikge1xuICAgIF9pbmhlcml0cyhSZWFjdFdlYkNvbXBvbmVudCwgX0hUTUxFbGVtZW50Mik7XG4gICAgZnVuY3Rpb24gUmVhY3RXZWJDb21wb25lbnQocHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczI7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVhY3RXZWJDb21wb25lbnQpO1xuICAgICAgX3RoaXMyID0gX2NhbGxTdXBlcih0aGlzLCBSZWFjdFdlYkNvbXBvbmVudCk7XG4gICAgICBfdGhpczIucHJvcHMgPSBwcm9wcztcbiAgICAgIF90aGlzMi5yb290UmVmID0gX3RoaXMyLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6ICdvcGVuJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xhc3MoUmVhY3RXZWJDb21wb25lbnQsIFt7XG4gICAgICBrZXk6IFwiY29ubmVjdGVkQ2FsbGJhY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5zdHlsZVNsb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgICAgIHRoaXMucm9vdFJlZi5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlU2xvdCk7XG4gICAgICAgIHRoaXMubW91bnRQb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5zdHlsZVNsb3QuYXBwZW5kQ2hpbGQodGhpcy5tb3VudFBvaW50KTtcbiAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5wcm9wcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIGlmICghdGhpcy5tb3VudFBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHduLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5tb3VudFBvaW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyT25lVGFwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyT25lVGFwKHByb3BzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgc2hvdWxkQ29udGFpbk9uZVRhcCA9IChfYyA9IChfYiA9IChfYSA9IHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYXV0aE9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wcm92aWRlcnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5maW5kKGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICByZXR1cm4gY29uZmlnLnR5cGUgPT09IE9BdXRoUHJvdmlkZXJzLkdvb2dsZSAmJiBjb25maWcub25lX3RhcDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjb250YWluc09uZVRhcCA9IHRoaXMuaW5uZXJIVE1MLmluY2x1ZGVzKFNIQURPV19ET01fT05FX1RBUF9NT1VOVF9QT0lOVCk7XG4gICAgICAgIGlmIChzaG91bGRDb250YWluT25lVGFwKSB7XG4gICAgICAgICAgaWYgKCFjb250YWluc09uZVRhcCkge1xuICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBTSEFET1dfRE9NX09ORV9UQVBfTU9VTlRfUE9JTlQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKHByb3BzKSB7XG4gICAgICAgIGlmICghdGhpcy5tb3VudFBvaW50KSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCByZW5kZXIgLSBubyBtb3VudCBwb2ludCBkZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlU2xvdCkge1xuICAgICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgcmVuZGVyIC0gbm8gc3R5bGUgc2xvdCBkZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJPbmVUYXAocHJvcHMpO1xuICAgICAgICB3bi5yZW5kZXIoIC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHllLCB7XG4gICAgICAgICAgdGFyZ2V0OiB0aGlzLnN0eWxlU2xvdFxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZWFjdENvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKSksIHRoaXMubW91bnRQb2ludCk7XG4gICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBSZWFjdFdlYkNvbXBvbmVudDtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHdlYkNvbXBvbmVudE5hbWUsIFJlYWN0V2ViQ29tcG9uZW50KTtcbiAgcmV0dXJuIFJlYWN0V2ViQ29tcG9uZW50O1xufVxuZnVuY3Rpb24gQ3JlYXRlU1NSU2FmZVdlYkNvbXBvbmVudChSZWFjdENvbXBvbmVudCwgd2ViQ29tcG9uZW50TmFtZSkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBzaGFkb3dEb21FbmFibGVkID0gISEoKF9hID0gcHJvcHMuY29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5hYmxlU2hhZG93RE9NKTtcbiAgICBpZiAoc2hhZG93RG9tRW5hYmxlZCkge1xuICAgICAgdmFyIENvbXBvbmVudCA9IENyZWF0ZVNoYWRvd1dlYkNvbXBvbmVudChSZWFjdENvbXBvbmVudCwgd2ViQ29tcG9uZW50TmFtZSk7XG4gICAgICByZXR1cm4gbmV3IENvbXBvbmVudChwcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfQ29tcG9uZW50ID0gQ3JlYXRlV2ViQ29tcG9uZW50KFJlYWN0Q29tcG9uZW50LCB3ZWJDb21wb25lbnROYW1lKTtcbiAgICAgIHJldHVybiBuZXcgX0NvbXBvbmVudChwcm9wcyk7XG4gICAgfVxuICB9O1xufVxudmFyIGlzVHJ1dGh5ID0gZnVuY3Rpb24gaXNUcnV0aHkodmFsdWUpIHtcbiAgcmV0dXJuIEJvb2xlYW4odmFsdWUpO1xufTtcbnZhciBsb2Rhc2hfbWVyZ2UgPSB7XG4gIGV4cG9ydHM6IHt9XG59O1xubG9kYXNoX21lcmdlLmV4cG9ydHM7XG4oZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG4gIHZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID0gdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID0gdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcbiAgdmFyIGZyZWVHbG9iYWwgPSBfdHlwZW9mKGNvbW1vbmpzR2xvYmFsKSA9PSAnb2JqZWN0JyAmJiBjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBjb21tb25qc0dsb2JhbDtcbiAgdmFyIGZyZWVTZWxmID0gKHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yoc2VsZikpID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgdmFyIGZyZWVFeHBvcnRzID0gZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmICdvYmplY3QnID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuICB2YXIgbm9kZVV0aWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCk7XG4gIHZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cbiAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcbiAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcbiAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG4gIHZhciBtYXNrU3JjS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgcmV0dXJuIHVpZCA/ICdTeW1ib2woc3JjKV8xLicgKyB1aWQgOiAnJztcbiAgfSgpO1xuICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbiAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgKyBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJyk7XG4gIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgX1N5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXk7XG4gIEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZDtcbiAgdmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IF9TeW1ib2wgPyBfU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpO1xuICB2YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG4gIHZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcbiAgdmFyIGJhc2VDcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICByZXR1cm4gZnVuY3Rpb24gKHByb3RvKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgfVxuICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3QoKTtcbiAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH0oKTtcbiAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgdGhpcy5zaXplID0gMDtcbiAgfVxuICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICB9XG4gIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICBkYXRhW2tleV0gPSBuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG4gIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICBkYXRhLnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgfVxuICAgIC0tdGhpcy5zaXplO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgfVxuICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gIH1cbiAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICsrdGhpcy5zaXplO1xuICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG4gIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAnaGFzaCc6IG5ldyBIYXNoKCksXG4gICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSgpLFxuICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoKClcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG4gICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIH1cbiAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZSgpO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gIH1cbiAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcbiAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgaWYgKCFNYXAgfHwgcGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpIHtcbiAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgfVxuICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG4gIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIGlmICghKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSB8fCBpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpIHx8IHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8IHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcbiAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgfVxuICAgIHJldHVybiBzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpID8gZ2V0UmF3VGFnKHZhbHVlKSA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICB9XG4gIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gIH1cbiAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gIH1cbiAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG4gICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24gKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjaygpKTtcbiAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIGtleSArICcnLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH0sIGtleXNJbik7XG4gIH1cbiAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuICAgIGlmIChzdGFja2VkKSB7XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXkgKyAnJywgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgfVxuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xuICB9XG4gIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uIChmdW5jLCBzdHJpbmcpIHtcbiAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICB7XG4gICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgdmFyIGJ1ZmZlciA9IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpO1xuICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICB9XG4gIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChpc05ldykge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24gKG9iamVjdCwgc291cmNlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG4gICAgICBjdXN0b21pemVyID0gYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1srK2luZGV4XTtcbiAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgIHJldHVybiBpc0tleWFibGUoa2V5KSA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXSA6IGRhdGEubWFwO1xuICB9XG4gIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICB9XG4gIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB0cnkge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgIGlmIChpc093bikge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgfVxuICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICB2YXIgdHlwZSA9IF90eXBlb2YodmFsdWUpO1xuICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aDtcbiAgfVxuICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IF90eXBlb2YoaW5kZXgpO1xuICAgIGlmICh0eXBlID09ICdudW1iZXInID8gaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSA6IHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KSB7XG4gICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBfdHlwZW9mKHZhbHVlKTtcbiAgICByZXR1cm4gdHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgPyB2YWx1ZSAhPT0gJ19fcHJvdG9fXycgOiB2YWx1ZSA9PT0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiBtYXNrU3JjS2V5IGluIGZ1bmM7XG4gIH1cbiAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlIHx8IG9iamVjdFByb3RvO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gIH1cbiAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gZnVuYy5sZW5ndGggLSAxIDogc3RhcnQsIDApO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgfVxuICAgICAgaW5kZXggPSAtMTtcbiAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICB9XG4gICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9XG4gIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG4gIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZnVuYyArICcnO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcmd1bWVudHM7XG4gIH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiYgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgfTtcbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICB9XG4gIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcbiAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICB9XG4gIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gIH1cbiAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IF90eXBlb2YodmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gIH1cbiAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgX3R5cGVvZih2YWx1ZSkgPT0gJ29iamVjdCc7XG4gIH1cbiAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gIH1cbiAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICB9XG4gIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbiAob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gIH0pO1xuICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gbWVyZ2U7XG59KShsb2Rhc2hfbWVyZ2UsIGxvZGFzaF9tZXJnZS5leHBvcnRzKTtcbnZhciBsb2Rhc2hfbWVyZ2VFeHBvcnRzID0gbG9kYXNoX21lcmdlLmV4cG9ydHM7XG52YXIgbWVyZ2UgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMobG9kYXNoX21lcmdlRXhwb3J0cyk7XG52YXIgc2hpbSA9IHtcbiAgZXhwb3J0czoge31cbn07XG52YXIgdXNlU3luY0V4dGVybmFsU3RvcmVTaGltX3Byb2R1Y3Rpb25fbWluID0ge307XG52YXIgcmVxdWlyZSQkMiA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY29tcGF0X21vZHVsZSk7XG52YXIgZSA9IHJlcXVpcmUkJDI7XG5mdW5jdGlvbiBoKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGIgJiYgKDAgIT09IGEgfHwgMSAvIGEgPT09IDEgLyBiKSB8fCBhICE9PSBhICYmIGIgIT09IGI7XG59XG52YXIgayA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGgsXG4gIGwgPSBlLnVzZVN0YXRlLFxuICBtID0gZS51c2VFZmZlY3QsXG4gIG4gPSBlLnVzZUxheW91dEVmZmVjdCxcbiAgcCA9IGUudXNlRGVidWdWYWx1ZTtcbmZ1bmN0aW9uIHEoYSwgYikge1xuICB2YXIgZCA9IGIoKSxcbiAgICBmID0gbCh7XG4gICAgICBpbnN0OiB7XG4gICAgICAgIHZhbHVlOiBkLFxuICAgICAgICBnZXRTbmFwc2hvdDogYlxuICAgICAgfVxuICAgIH0pLFxuICAgIGMgPSBmWzBdLmluc3QsXG4gICAgZyA9IGZbMV07XG4gIG4oZnVuY3Rpb24gKCkge1xuICAgIGMudmFsdWUgPSBkO1xuICAgIGMuZ2V0U25hcHNob3QgPSBiO1xuICAgIHIoYykgJiYgZyh7XG4gICAgICBpbnN0OiBjXG4gICAgfSk7XG4gIH0sIFthLCBkLCBiXSk7XG4gIG0oZnVuY3Rpb24gKCkge1xuICAgIHIoYykgJiYgZyh7XG4gICAgICBpbnN0OiBjXG4gICAgfSk7XG4gICAgcmV0dXJuIGEoZnVuY3Rpb24gKCkge1xuICAgICAgcihjKSAmJiBnKHtcbiAgICAgICAgaW5zdDogY1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFthXSk7XG4gIHAoZCk7XG4gIHJldHVybiBkO1xufVxuZnVuY3Rpb24gcihhKSB7XG4gIHZhciBiID0gYS5nZXRTbmFwc2hvdDtcbiAgYSA9IGEudmFsdWU7XG4gIHRyeSB7XG4gICAgdmFyIGQgPSBiKCk7XG4gICAgcmV0dXJuICFrKGEsIGQpO1xuICB9IGNhdGNoIChmKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG59XG5mdW5jdGlvbiB0KGEsIGIpIHtcbiAgcmV0dXJuIGIoKTtcbn1cbnZhciB1ID0gXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHdpbmRvdyB8fCBcInVuZGVmaW5lZFwiID09PSB0eXBlb2Ygd2luZG93LmRvY3VtZW50IHx8IFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA/IHQgOiBxO1xudXNlU3luY0V4dGVybmFsU3RvcmVTaGltX3Byb2R1Y3Rpb25fbWluLnVzZVN5bmNFeHRlcm5hbFN0b3JlID0gdm9pZCAwICE9PSBlLnVzZVN5bmNFeHRlcm5hbFN0b3JlID8gZS51c2VTeW5jRXh0ZXJuYWxTdG9yZSA6IHU7XG57XG4gIHNoaW0uZXhwb3J0cyA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlU2hpbV9wcm9kdWN0aW9uX21pbjtcbn1cbnZhciBzaGltRXhwb3J0cyA9IHNoaW0uZXhwb3J0cztcbnZhciBTV1JHbG9iYWxTdGF0ZSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgRU1QVFlfQ0FDSEUgPSB7fTtcbnZhciBJTklUSUFMX0NBQ0hFID0ge307XG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcbnZhciBVTkRFRklORUQgPSBub29wKCk7XG52YXIgT0JKRUNUID0gT2JqZWN0O1xudmFyIGlzVW5kZWZpbmVkID0gZnVuY3Rpb24gaXNVbmRlZmluZWQodikge1xuICByZXR1cm4gdiA9PT0gVU5ERUZJTkVEO1xufTtcbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2KSB7XG4gIHJldHVybiB0eXBlb2YgdiA9PSAnZnVuY3Rpb24nO1xufTtcbnZhciBtZXJnZU9iamVjdHMgPSBmdW5jdGlvbiBtZXJnZU9iamVjdHMoYSwgYikge1xuICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhKSwgYik7XG59O1xudmFyIFNUUl9VTkRFRklORUQgPSAndW5kZWZpbmVkJztcbnZhciBpc1dpbmRvd0RlZmluZWQgPSAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHdpbmRvdykpICE9IFNUUl9VTkRFRklORUQ7XG52YXIgaXNEb2N1bWVudERlZmluZWQgPSAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZG9jdW1lbnQpKSAhPSBTVFJfVU5ERUZJTkVEO1xudmFyIGhhc1JlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIGhhc1JlcXVlc3RBbmltYXRpb25GcmFtZSgpIHtcbiAgcmV0dXJuIGlzV2luZG93RGVmaW5lZCAmJiBfdHlwZW9mKHdpbmRvd1sncmVxdWVzdEFuaW1hdGlvbkZyYW1lJ10pICE9IFNUUl9VTkRFRklORUQ7XG59O1xudmFyIGNyZWF0ZUNhY2hlSGVscGVyID0gZnVuY3Rpb24gY3JlYXRlQ2FjaGVIZWxwZXIoY2FjaGUsIGtleSkge1xuICB2YXIgc3RhdGUgPSBTV1JHbG9iYWxTdGF0ZS5nZXQoY2FjaGUpO1xuICByZXR1cm4gW2Z1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSkgfHwgRU1QVFlfQ0FDSEU7XG4gIH0sIGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChrZXkpKSB7XG4gICAgICB2YXIgcHJldiA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKCEoa2V5IGluIElOSVRJQUxfQ0FDSEUpKSB7XG4gICAgICAgIElOSVRJQUxfQ0FDSEVba2V5XSA9IHByZXY7XG4gICAgICB9XG4gICAgICBzdGF0ZVs1XShrZXksIG1lcmdlT2JqZWN0cyhwcmV2LCBpbmZvKSwgcHJldiB8fCBFTVBUWV9DQUNIRSk7XG4gICAgfVxuICB9LCBzdGF0ZVs2XSwgZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNVbmRlZmluZWQoa2V5KSkge1xuICAgICAgaWYgKGtleSBpbiBJTklUSUFMX0NBQ0hFKSByZXR1cm4gSU5JVElBTF9DQUNIRVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSkgfHwgRU1QVFlfQ0FDSEU7XG4gIH1dO1xufTtcbnZhciB0YWJsZSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgY291bnRlciA9IDA7XG52YXIgc3RhYmxlSGFzaCA9IGZ1bmN0aW9uIHN0YWJsZUhhc2goYXJnKSB7XG4gIHZhciB0eXBlID0gX3R5cGVvZihhcmcpO1xuICB2YXIgY29uc3RydWN0b3IgPSBhcmcgJiYgYXJnLmNvbnN0cnVjdG9yO1xuICB2YXIgaXNEYXRlID0gY29uc3RydWN0b3IgPT0gRGF0ZTtcbiAgdmFyIHJlc3VsdDtcbiAgdmFyIGluZGV4O1xuICBpZiAoT0JKRUNUKGFyZykgPT09IGFyZyAmJiAhaXNEYXRlICYmIGNvbnN0cnVjdG9yICE9IFJlZ0V4cCkge1xuICAgIHJlc3VsdCA9IHRhYmxlLmdldChhcmcpO1xuICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gICAgcmVzdWx0ID0gKytjb3VudGVyICsgJ34nO1xuICAgIHRhYmxlLnNldChhcmcsIHJlc3VsdCk7XG4gICAgaWYgKGNvbnN0cnVjdG9yID09IEFycmF5KSB7XG4gICAgICByZXN1bHQgPSAnQCc7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBhcmcubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHJlc3VsdCArPSBzdGFibGVIYXNoKGFyZ1tpbmRleF0pICsgJywnO1xuICAgICAgfVxuICAgICAgdGFibGUuc2V0KGFyZywgcmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKGNvbnN0cnVjdG9yID09IE9CSkVDVCkge1xuICAgICAgcmVzdWx0ID0gJyMnO1xuICAgICAgdmFyIGtleXMgPSBPQkpFQ1Qua2V5cyhhcmcpLnNvcnQoKTtcbiAgICAgIHdoaWxlICghaXNVbmRlZmluZWQoaW5kZXggPSBrZXlzLnBvcCgpKSkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGFyZ1tpbmRleF0pKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IGluZGV4ICsgJzonICsgc3RhYmxlSGFzaChhcmdbaW5kZXhdKSArICcsJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGFibGUuc2V0KGFyZywgcmVzdWx0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gaXNEYXRlID8gYXJnLnRvSlNPTigpIDogdHlwZSA9PSAnc3ltYm9sJyA/IGFyZy50b1N0cmluZygpIDogdHlwZSA9PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KGFyZykgOiAnJyArIGFyZztcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBvbmxpbmUgPSB0cnVlO1xudmFyIGlzT25saW5lID0gZnVuY3Rpb24gaXNPbmxpbmUoKSB7XG4gIHJldHVybiBvbmxpbmU7XG59O1xudmFyIF9yZWYgPSBpc1dpbmRvd0RlZmluZWQgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPyBbd2luZG93LmFkZEV2ZW50TGlzdGVuZXIuYmluZCh3aW5kb3cpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lci5iaW5kKHdpbmRvdyldIDogW25vb3AsIG5vb3BdLFxuICBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICBvbldpbmRvd0V2ZW50ID0gX3JlZjJbMF0sXG4gIG9mZldpbmRvd0V2ZW50ID0gX3JlZjJbMV07XG52YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xuICB2YXIgdmlzaWJpbGl0eVN0YXRlID0gaXNEb2N1bWVudERlZmluZWQgJiYgZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlO1xuICByZXR1cm4gaXNVbmRlZmluZWQodmlzaWJpbGl0eVN0YXRlKSB8fCB2aXNpYmlsaXR5U3RhdGUgIT09ICdoaWRkZW4nO1xufTtcbnZhciBpbml0Rm9jdXMgPSBmdW5jdGlvbiBpbml0Rm9jdXMoY2FsbGJhY2spIHtcbiAgaWYgKGlzRG9jdW1lbnREZWZpbmVkKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGNhbGxiYWNrKTtcbiAgfVxuICBvbldpbmRvd0V2ZW50KCdmb2N1cycsIGNhbGxiYWNrKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNEb2N1bWVudERlZmluZWQpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIG9mZldpbmRvd0V2ZW50KCdmb2N1cycsIGNhbGxiYWNrKTtcbiAgfTtcbn07XG52YXIgaW5pdFJlY29ubmVjdCA9IGZ1bmN0aW9uIGluaXRSZWNvbm5lY3QoY2FsbGJhY2spIHtcbiAgdmFyIG9uT25saW5lID0gZnVuY3Rpb24gb25PbmxpbmUoKSB7XG4gICAgb25saW5lID0gdHJ1ZTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuICB2YXIgb25PZmZsaW5lID0gZnVuY3Rpb24gb25PZmZsaW5lKCkge1xuICAgIG9ubGluZSA9IGZhbHNlO1xuICB9O1xuICBvbldpbmRvd0V2ZW50KCdvbmxpbmUnLCBvbk9ubGluZSk7XG4gIG9uV2luZG93RXZlbnQoJ29mZmxpbmUnLCBvbk9mZmxpbmUpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG9mZldpbmRvd0V2ZW50KCdvbmxpbmUnLCBvbk9ubGluZSk7XG4gICAgb2ZmV2luZG93RXZlbnQoJ29mZmxpbmUnLCBvbk9mZmxpbmUpO1xuICB9O1xufTtcbnZhciBwcmVzZXQgPSB7XG4gIGlzT25saW5lOiBpc09ubGluZSxcbiAgaXNWaXNpYmxlOiBpc1Zpc2libGVcbn07XG52YXIgZGVmYXVsdENvbmZpZ09wdGlvbnMgPSB7XG4gIGluaXRGb2N1czogaW5pdEZvY3VzLFxuICBpbml0UmVjb25uZWN0OiBpbml0UmVjb25uZWN0XG59O1xudmFyIElTX1JFQUNUX0xFR0FDWSA9ICF3bi51c2VJZDtcbnZhciBJU19TRVJWRVIgPSAhaXNXaW5kb3dEZWZpbmVkIHx8ICdEZW5vJyBpbiB3aW5kb3c7XG52YXIgckFGID0gZnVuY3Rpb24gckFGKGYpIHtcbiAgcmV0dXJuIGhhc1JlcXVlc3RBbmltYXRpb25GcmFtZSgpID8gd2luZG93WydyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXShmKSA6IHNldFRpbWVvdXQoZiwgMSk7XG59O1xudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBJU19TRVJWRVIgPyBwJDMgOiB5JDI7XG52YXIgbmF2aWdhdG9yQ29ubmVjdGlvbiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5jb25uZWN0aW9uO1xudmFyIHNsb3dDb25uZWN0aW9uID0gIUlTX1NFUlZFUiAmJiBuYXZpZ2F0b3JDb25uZWN0aW9uICYmIChbJ3Nsb3ctMmcnLCAnMmcnXS5pbmNsdWRlcyhuYXZpZ2F0b3JDb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUpIHx8IG5hdmlnYXRvckNvbm5lY3Rpb24uc2F2ZURhdGEpO1xudmFyIHNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZShrZXkpIHtcbiAgaWYgKGlzRnVuY3Rpb24oa2V5KSkge1xuICAgIHRyeSB7XG4gICAgICBrZXkgPSBrZXkoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGtleSA9ICcnO1xuICAgIH1cbiAgfVxuICB2YXIgYXJncyA9IGtleTtcbiAga2V5ID0gdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/IGtleSA6IChBcnJheS5pc0FycmF5KGtleSkgPyBrZXkubGVuZ3RoIDoga2V5KSA/IHN0YWJsZUhhc2goa2V5KSA6ICcnO1xuICByZXR1cm4gW2tleSwgYXJnc107XG59O1xudmFyIF9fdGltZXN0YW1wID0gMDtcbnZhciBnZXRUaW1lc3RhbXAgPSBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKSB7XG4gIHJldHVybiArK19fdGltZXN0YW1wO1xufTtcbnZhciBGT0NVU19FVkVOVCA9IDA7XG52YXIgUkVDT05ORUNUX0VWRU5UID0gMTtcbnZhciBNVVRBVEVfRVZFTlQgPSAyO1xudmFyIEVSUk9SX1JFVkFMSURBVEVfRVZFTlQgPSAzO1xudmFyIGNvbnN0YW50cyA9IHtcbiAgX19wcm90b19fOiBudWxsLFxuICBGT0NVU19FVkVOVDogRk9DVVNfRVZFTlQsXG4gIFJFQ09OTkVDVF9FVkVOVDogUkVDT05ORUNUX0VWRU5ULFxuICBNVVRBVEVfRVZFTlQ6IE1VVEFURV9FVkVOVCxcbiAgRVJST1JfUkVWQUxJREFURV9FVkVOVDogRVJST1JfUkVWQUxJREFURV9FVkVOVFxufTtcbmZ1bmN0aW9uIGludGVybmFsTXV0YXRlKCkge1xuICByZXR1cm4gX2ludGVybmFsTXV0YXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5mdW5jdGlvbiBfaW50ZXJuYWxNdXRhdGUoKSB7XG4gIF9pbnRlcm5hbE11dGF0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgdmFyIF9sZW4sXG4gICAgICBhcmdzLFxuICAgICAgX2tleTIsXG4gICAgICBjYWNoZSxcbiAgICAgIF9rZXksXG4gICAgICBfZGF0YSxcbiAgICAgIF9vcHRzLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHBvcHVsYXRlQ2FjaGUsXG4gICAgICByb2xsYmFja09uRXJyb3JPcHRpb24sXG4gICAgICBvcHRpbWlzdGljRGF0YSxcbiAgICAgIHJldmFsaWRhdGUsXG4gICAgICByb2xsYmFja09uRXJyb3IsXG4gICAgICB0aHJvd09uRXJyb3IsXG4gICAgICBrZXlGaWx0ZXIsXG4gICAgICBtYXRjaGVkS2V5cyxcbiAgICAgIGl0LFxuICAgICAga2V5SXQsXG4gICAgICBrZXksXG4gICAgICBtdXRhdGVCeUtleSxcbiAgICAgIF9tdXRhdGVCeUtleSxcbiAgICAgIF9hcmdzMyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX211dGF0ZUJ5S2V5ID0gZnVuY3Rpb24gX211dGF0ZUJ5S2V5MygpIHtcbiAgICAgICAgICAgIF9tdXRhdGVCeUtleSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX2spIHtcbiAgICAgICAgICAgICAgdmFyIF9zZXJpYWxpemUzLCBfc2VyaWFsaXplNCwga2V5LCBfY3JlYXRlQ2FjaGVIZWxwZXIzLCBfY3JlYXRlQ2FjaGVIZWxwZXI0LCBnZXQsIHNldCwgX1NXUkdsb2JhbFN0YXRlJGdldDUsIF9TV1JHbG9iYWxTdGF0ZSRnZXQ2LCBFVkVOVF9SRVZBTElEQVRPUlMsIE1VVEFUSU9OLCBGRVRDSCwgcmV2YWxpZGF0b3JzLCBzdGFydFJldmFsaWRhdGUsIGRhdGEsIGVycm9yLCBiZWZvcmVNdXRhdGlvblRzLCBoYXNPcHRpbWlzdGljRGF0YSwgc3RhdGUsIGRpc3BsYXllZERhdGEsIGN1cnJlbnREYXRhLCBjb21taXR0ZWREYXRhLCByZXM7XG4gICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfc2VyaWFsaXplMyA9IHNlcmlhbGl6ZShfayksIF9zZXJpYWxpemU0ID0gX3NsaWNlZFRvQXJyYXkoX3NlcmlhbGl6ZTMsIDEpLCBrZXkgPSBfc2VyaWFsaXplNFswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZUNhY2hlSGVscGVyMyA9IGNyZWF0ZUNhY2hlSGVscGVyKGNhY2hlLCBrZXkpLCBfY3JlYXRlQ2FjaGVIZWxwZXI0ID0gX3NsaWNlZFRvQXJyYXkoX2NyZWF0ZUNhY2hlSGVscGVyMywgMiksIGdldCA9IF9jcmVhdGVDYWNoZUhlbHBlcjRbMF0sIHNldCA9IF9jcmVhdGVDYWNoZUhlbHBlcjRbMV07XG4gICAgICAgICAgICAgICAgICAgIF9TV1JHbG9iYWxTdGF0ZSRnZXQ1ID0gU1dSR2xvYmFsU3RhdGUuZ2V0KGNhY2hlKSwgX1NXUkdsb2JhbFN0YXRlJGdldDYgPSBfc2xpY2VkVG9BcnJheShfU1dSR2xvYmFsU3RhdGUkZ2V0NSwgMyksIEVWRU5UX1JFVkFMSURBVE9SUyA9IF9TV1JHbG9iYWxTdGF0ZSRnZXQ2WzBdLCBNVVRBVElPTiA9IF9TV1JHbG9iYWxTdGF0ZSRnZXQ2WzFdLCBGRVRDSCA9IF9TV1JHbG9iYWxTdGF0ZSRnZXQ2WzJdO1xuICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRvcnMgPSBFVkVOVF9SRVZBTElEQVRPUlNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRSZXZhbGlkYXRlID0gZnVuY3Rpb24gc3RhcnRSZXZhbGlkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXZhbGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgRkVUQ0hba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXZhbGlkYXRvcnMgJiYgcmV2YWxpZGF0b3JzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXZhbGlkYXRvcnNbMF0oTVVUQVRFX0VWRU5UKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KCkuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXQoKS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhcmdzLmxlbmd0aCA8IDMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHN0YXJ0UmV2YWxpZGF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9kYXRhO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVNdXRhdGlvblRzID0gZ2V0VGltZXN0YW1wKCk7XG4gICAgICAgICAgICAgICAgICAgIE1VVEFUSU9OW2tleV0gPSBbYmVmb3JlTXV0YXRpb25UcywgMF07XG4gICAgICAgICAgICAgICAgICAgIGhhc09wdGltaXN0aWNEYXRhID0gIWlzVW5kZWZpbmVkKG9wdGltaXN0aWNEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheWVkRGF0YSA9IHN0YXRlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnREYXRhID0gc3RhdGUuX2M7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZERhdGEgPSBpc1VuZGVmaW5lZChjdXJyZW50RGF0YSkgPyBkaXNwbGF5ZWREYXRhIDogY3VycmVudERhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPcHRpbWlzdGljRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgIG9wdGltaXN0aWNEYXRhID0gaXNGdW5jdGlvbihvcHRpbWlzdGljRGF0YSkgPyBvcHRpbWlzdGljRGF0YShjb21taXR0ZWREYXRhKSA6IG9wdGltaXN0aWNEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgIHNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBvcHRpbWlzdGljRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jOiBjb21taXR0ZWREYXRhXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEoY29tbWl0dGVkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZGF0YSAmJiBpc0Z1bmN0aW9uKGRhdGEudGhlbikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGJlZm9yZU11dGF0aW9uVHMgIT09IE1VVEFUSU9OW2tleV1bMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNjtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yICYmIGhhc09wdGltaXN0aWNEYXRhICYmIHJvbGxiYWNrT25FcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gY29tbWl0dGVkRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jOiBVTkRFRklORURcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcHVsYXRlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwb3B1bGF0ZUNhY2hlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcG9wdWxhdGVDYWNoZShkYXRhLCBjb21taXR0ZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jOiBVTkRFRklORURcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBNVVRBVElPTltrZXldWzFdID0gZ2V0VGltZXN0YW1wKCk7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFJldmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgICAgICBzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgIF9jOiBVTkRFRklORURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQwO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhyb3dPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcG9wdWxhdGVDYWNoZSA/IHJlcyA6IGRhdGEpO1xuICAgICAgICAgICAgICAgICAgY2FzZSA0MTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gX211dGF0ZUJ5S2V5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBtdXRhdGVCeUtleSA9IGZ1bmN0aW9uIF9tdXRhdGVCeUtleTIoX3gyKSB7XG4gICAgICAgICAgICByZXR1cm4gX211dGF0ZUJ5S2V5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKF9sZW4gPSBfYXJnczMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjsgX2tleTIrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBfYXJnczNbX2tleTJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWNoZSA9IGFyZ3NbMF0sIF9rZXkgPSBhcmdzWzFdLCBfZGF0YSA9IGFyZ3NbMl0sIF9vcHRzID0gYXJnc1szXTtcbiAgICAgICAgICBvcHRpb25zID0gbWVyZ2VPYmplY3RzKHtcbiAgICAgICAgICAgIHBvcHVsYXRlQ2FjaGU6IHRydWUsXG4gICAgICAgICAgICB0aHJvd09uRXJyb3I6IHRydWVcbiAgICAgICAgICB9LCB0eXBlb2YgX29wdHMgPT09ICdib29sZWFuJyA/IHtcbiAgICAgICAgICAgIHJldmFsaWRhdGU6IF9vcHRzXG4gICAgICAgICAgfSA6IF9vcHRzIHx8IHt9KTtcbiAgICAgICAgICBwb3B1bGF0ZUNhY2hlID0gb3B0aW9ucy5wb3B1bGF0ZUNhY2hlO1xuICAgICAgICAgIHJvbGxiYWNrT25FcnJvck9wdGlvbiA9IG9wdGlvbnMucm9sbGJhY2tPbkVycm9yO1xuICAgICAgICAgIG9wdGltaXN0aWNEYXRhID0gb3B0aW9ucy5vcHRpbWlzdGljRGF0YTtcbiAgICAgICAgICByZXZhbGlkYXRlID0gb3B0aW9ucy5yZXZhbGlkYXRlICE9PSBmYWxzZTtcbiAgICAgICAgICByb2xsYmFja09uRXJyb3IgPSBmdW5jdGlvbiByb2xsYmFja09uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygcm9sbGJhY2tPbkVycm9yT3B0aW9uID09PSAnZnVuY3Rpb24nID8gcm9sbGJhY2tPbkVycm9yT3B0aW9uKGVycm9yKSA6IHJvbGxiYWNrT25FcnJvck9wdGlvbiAhPT0gZmFsc2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aHJvd09uRXJyb3IgPSBvcHRpb25zLnRocm93T25FcnJvcjtcbiAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24oX2tleSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5RmlsdGVyID0gX2tleTtcbiAgICAgICAgICBtYXRjaGVkS2V5cyA9IFtdO1xuICAgICAgICAgIGl0ID0gY2FjaGUua2V5cygpO1xuICAgICAgICAgIGZvciAoa2V5SXQgPSBpdC5uZXh0KCk7ICFrZXlJdC5kb25lOyBrZXlJdCA9IGl0Lm5leHQoKSkge1xuICAgICAgICAgICAga2V5ID0ga2V5SXQudmFsdWU7XG4gICAgICAgICAgICBpZiAoIS9eXFwkKGluZnxzdWIpXFwkLy50ZXN0KGtleSkgJiYga2V5RmlsdGVyKGNhY2hlLmdldChrZXkpLl9rKSkge1xuICAgICAgICAgICAgICBtYXRjaGVkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UuYWxsKG1hdGNoZWRLZXlzLm1hcChtdXRhdGVCeUtleSkpKTtcbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBtdXRhdGVCeUtleShfa2V5KSk7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMyk7XG4gIH0pKTtcbiAgcmV0dXJuIF9pbnRlcm5hbE11dGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxudmFyIHJldmFsaWRhdGVBbGxLZXlzID0gZnVuY3Rpb24gcmV2YWxpZGF0ZUFsbEtleXMocmV2YWxpZGF0b3JzLCB0eXBlKSB7XG4gIGZvciAodmFyIGtleSBpbiByZXZhbGlkYXRvcnMpIHtcbiAgICBpZiAocmV2YWxpZGF0b3JzW2tleV1bMF0pIHJldmFsaWRhdG9yc1trZXldWzBdKHR5cGUpO1xuICB9XG59O1xudmFyIGluaXRDYWNoZSA9IGZ1bmN0aW9uIGluaXRDYWNoZShwcm92aWRlciwgb3B0aW9ucykge1xuICBpZiAoIVNXUkdsb2JhbFN0YXRlLmhhcyhwcm92aWRlcikpIHtcbiAgICB2YXIgb3B0cyA9IG1lcmdlT2JqZWN0cyhkZWZhdWx0Q29uZmlnT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgdmFyIEVWRU5UX1JFVkFMSURBVE9SUyA9IHt9O1xuICAgIHZhciBfbXV0YXRlID0gaW50ZXJuYWxNdXRhdGUuYmluZChVTkRFRklORUQsIHByb3ZpZGVyKTtcbiAgICB2YXIgdW5tb3VudCA9IG5vb3A7XG4gICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB7fTtcbiAgICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGtleSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBzdWJzID0gc3Vic2NyaXB0aW9uc1trZXldIHx8IFtdO1xuICAgICAgc3Vic2NyaXB0aW9uc1trZXldID0gc3VicztcbiAgICAgIHN1YnMucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3Vicy5zcGxpY2Uoc3Vicy5pbmRleE9mKGNhbGxiYWNrKSwgMSk7XG4gICAgICB9O1xuICAgIH07XG4gICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uIHNldHRlcihrZXksIHZhbHVlLCBwcmV2KSB7XG4gICAgICBwcm92aWRlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB2YXIgc3VicyA9IHN1YnNjcmlwdGlvbnNba2V5XTtcbiAgICAgIGlmIChzdWJzKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdWJzKSxcbiAgICAgICAgICBfc3RlcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9mbiA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgX2ZuKHZhbHVlLCBwcmV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGluaXRQcm92aWRlciA9IGZ1bmN0aW9uIGluaXRQcm92aWRlcigpIHtcbiAgICAgIGlmICghU1dSR2xvYmFsU3RhdGUuaGFzKHByb3ZpZGVyKSkge1xuICAgICAgICBTV1JHbG9iYWxTdGF0ZS5zZXQocHJvdmlkZXIsIFtFVkVOVF9SRVZBTElEQVRPUlMsIHt9LCB7fSwge30sIF9tdXRhdGUsIHNldHRlciwgc3Vic2NyaWJlXSk7XG4gICAgICAgIGlmICghSVNfU0VSVkVSKSB7XG4gICAgICAgICAgdmFyIHJlbGVhc2VGb2N1cyA9IG9wdHMuaW5pdEZvY3VzKHNldFRpbWVvdXQuYmluZChVTkRFRklORUQsIHJldmFsaWRhdGVBbGxLZXlzLmJpbmQoVU5ERUZJTkVELCBFVkVOVF9SRVZBTElEQVRPUlMsIEZPQ1VTX0VWRU5UKSkpO1xuICAgICAgICAgIHZhciByZWxlYXNlUmVjb25uZWN0ID0gb3B0cy5pbml0UmVjb25uZWN0KHNldFRpbWVvdXQuYmluZChVTkRFRklORUQsIHJldmFsaWRhdGVBbGxLZXlzLmJpbmQoVU5ERUZJTkVELCBFVkVOVF9SRVZBTElEQVRPUlMsIFJFQ09OTkVDVF9FVkVOVCkpKTtcbiAgICAgICAgICB1bm1vdW50ID0gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgICAgICAgIHJlbGVhc2VGb2N1cyAmJiByZWxlYXNlRm9jdXMoKTtcbiAgICAgICAgICAgIHJlbGVhc2VSZWNvbm5lY3QgJiYgcmVsZWFzZVJlY29ubmVjdCgpO1xuICAgICAgICAgICAgU1dSR2xvYmFsU3RhdGVbXCJkZWxldGVcIl0ocHJvdmlkZXIpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGluaXRQcm92aWRlcigpO1xuICAgIHJldHVybiBbcHJvdmlkZXIsIF9tdXRhdGUsIGluaXRQcm92aWRlciwgdW5tb3VudF07XG4gIH1cbiAgcmV0dXJuIFtwcm92aWRlciwgU1dSR2xvYmFsU3RhdGUuZ2V0KHByb3ZpZGVyKVs0XV07XG59O1xudmFyIG9uRXJyb3JSZXRyeSA9IGZ1bmN0aW9uIG9uRXJyb3JSZXRyeShfLCBfXywgY29uZmlnLCByZXZhbGlkYXRlLCBvcHRzKSB7XG4gIHZhciBtYXhSZXRyeUNvdW50ID0gY29uZmlnLmVycm9yUmV0cnlDb3VudDtcbiAgdmFyIGN1cnJlbnRSZXRyeUNvdW50ID0gb3B0cy5yZXRyeUNvdW50O1xuICB2YXIgdGltZW91dCA9IH5+KChNYXRoLnJhbmRvbSgpICsgMC41KSAqICgxIDw8IChjdXJyZW50UmV0cnlDb3VudCA8IDggPyBjdXJyZW50UmV0cnlDb3VudCA6IDgpKSkgKiBjb25maWcuZXJyb3JSZXRyeUludGVydmFsO1xuICBpZiAoIWlzVW5kZWZpbmVkKG1heFJldHJ5Q291bnQpICYmIGN1cnJlbnRSZXRyeUNvdW50ID4gbWF4UmV0cnlDb3VudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzZXRUaW1lb3V0KHJldmFsaWRhdGUsIHRpbWVvdXQsIG9wdHMpO1xufTtcbnZhciBjb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShjdXJyZW50RGF0YSwgbmV3RGF0YSkge1xuICByZXR1cm4gc3RhYmxlSGFzaChjdXJyZW50RGF0YSkgPT0gc3RhYmxlSGFzaChuZXdEYXRhKTtcbn07XG52YXIgX2luaXRDYWNoZSA9IGluaXRDYWNoZShuZXcgTWFwKCkpLFxuICBfaW5pdENhY2hlMiA9IF9zbGljZWRUb0FycmF5KF9pbml0Q2FjaGUsIDIpLFxuICBjYWNoZSA9IF9pbml0Q2FjaGUyWzBdLFxuICBtdXRhdGUgPSBfaW5pdENhY2hlMlsxXTtcbnZhciBkZWZhdWx0Q29uZmlnID0gbWVyZ2VPYmplY3RzKHtcbiAgb25Mb2FkaW5nU2xvdzogbm9vcCxcbiAgb25TdWNjZXNzOiBub29wLFxuICBvbkVycm9yOiBub29wLFxuICBvbkVycm9yUmV0cnk6IG9uRXJyb3JSZXRyeSxcbiAgb25EaXNjYXJkZWQ6IG5vb3AsXG4gIHJldmFsaWRhdGVPbkZvY3VzOiB0cnVlLFxuICByZXZhbGlkYXRlT25SZWNvbm5lY3Q6IHRydWUsXG4gIHJldmFsaWRhdGVJZlN0YWxlOiB0cnVlLFxuICBzaG91bGRSZXRyeU9uRXJyb3I6IHRydWUsXG4gIGVycm9yUmV0cnlJbnRlcnZhbDogc2xvd0Nvbm5lY3Rpb24gPyAxMDAwMCA6IDUwMDAsXG4gIGZvY3VzVGhyb3R0bGVJbnRlcnZhbDogNSAqIDEwMDAsXG4gIGRlZHVwaW5nSW50ZXJ2YWw6IDIgKiAxMDAwLFxuICBsb2FkaW5nVGltZW91dDogc2xvd0Nvbm5lY3Rpb24gPyA1MDAwIDogMzAwMCxcbiAgY29tcGFyZTogY29tcGFyZSxcbiAgaXNQYXVzZWQ6IGZ1bmN0aW9uIGlzUGF1c2VkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgY2FjaGU6IGNhY2hlLFxuICBtdXRhdGU6IG11dGF0ZSxcbiAgZmFsbGJhY2s6IHt9XG59LCBwcmVzZXQpO1xudmFyIG1lcmdlQ29uZmlncyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlncyhhLCBiKSB7XG4gIHZhciB2ID0gbWVyZ2VPYmplY3RzKGEsIGIpO1xuICBpZiAoYikge1xuICAgIHZhciB1MSA9IGEudXNlLFxuICAgICAgZjEgPSBhLmZhbGxiYWNrO1xuICAgIHZhciB1MiA9IGIudXNlLFxuICAgICAgZjIgPSBiLmZhbGxiYWNrO1xuICAgIGlmICh1MSAmJiB1Mikge1xuICAgICAgdi51c2UgPSB1MS5jb25jYXQodTIpO1xuICAgIH1cbiAgICBpZiAoZjEgJiYgZjIpIHtcbiAgICAgIHYuZmFsbGJhY2sgPSBtZXJnZU9iamVjdHMoZjEsIGYyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHY7XG59O1xudmFyIFNXUkNvbmZpZ0NvbnRleHQgPSBGJDQoe30pO1xudmFyIGVuYWJsZURldnRvb2xzID0gaXNXaW5kb3dEZWZpbmVkICYmIHdpbmRvdy5fX1NXUl9ERVZUT09MU19VU0VfXztcbnZhciB1c2UgPSBlbmFibGVEZXZ0b29scyA/IHdpbmRvdy5fX1NXUl9ERVZUT09MU19VU0VfXyA6IFtdO1xudmFyIHNldHVwRGV2VG9vbHMgPSBmdW5jdGlvbiBzZXR1cERldlRvb2xzKCkge1xuICBpZiAoZW5hYmxlRGV2dG9vbHMpIHtcbiAgICB3aW5kb3cuX19TV1JfREVWVE9PTFNfUkVBQ1RfXyA9IHduO1xuICB9XG59O1xudmFyIG5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShhcmdzKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGFyZ3NbMV0pID8gW2FyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0gfHwge31dIDogW2FyZ3NbMF0sIG51bGwsIChhcmdzWzFdID09PSBudWxsID8gYXJnc1syXSA6IGFyZ3NbMV0pIHx8IHt9XTtcbn07XG52YXIgdXNlU1dSQ29uZmlnID0gZnVuY3Rpb24gdXNlU1dSQ29uZmlnKCkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RzKGRlZmF1bHRDb25maWcsIHEkNShTV1JDb25maWdDb250ZXh0KSk7XG59O1xudmFyIG1pZGRsZXdhcmUgPSBmdW5jdGlvbiBtaWRkbGV3YXJlKHVzZVNXUk5leHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChrZXlfLCBmZXRjaGVyXywgY29uZmlnKSB7XG4gICAgdmFyIGZldGNoZXIgPSBmZXRjaGVyXyAmJiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIga2V5ID0gc2VyaWFsaXplKGtleV8pWzBdO1xuICAgICAgdmFyIF9TV1JHbG9iYWxTdGF0ZSRnZXQgPSBTV1JHbG9iYWxTdGF0ZS5nZXQoY2FjaGUpLFxuICAgICAgICBfU1dSR2xvYmFsU3RhdGUkZ2V0MiA9IF9zbGljZWRUb0FycmF5KF9TV1JHbG9iYWxTdGF0ZSRnZXQsIDQpLFxuICAgICAgICBQUkVMT0FEID0gX1NXUkdsb2JhbFN0YXRlJGdldDJbM107XG4gICAgICB2YXIgcmVxID0gUFJFTE9BRFtrZXldO1xuICAgICAgaWYgKHJlcSkge1xuICAgICAgICBkZWxldGUgUFJFTE9BRFtrZXldO1xuICAgICAgICByZXR1cm4gcmVxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoZXJfLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIHJldHVybiB1c2VTV1JOZXh0KGtleV8sIGZldGNoZXIsIGNvbmZpZyk7XG4gIH07XG59O1xudmFyIEJVSUxUX0lOX01JRERMRVdBUkUgPSB1c2UuY29uY2F0KG1pZGRsZXdhcmUpO1xudmFyIHdpdGhBcmdzID0gZnVuY3Rpb24gd2l0aEFyZ3MoaG9vaykge1xuICByZXR1cm4gZnVuY3Rpb24gdXNlU1dSQXJncygpIHtcbiAgICB2YXIgZmFsbGJhY2tDb25maWcgPSB1c2VTV1JDb25maWcoKTtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjI7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG4gICAgdmFyIF9ub3JtYWxpemUgPSBub3JtYWxpemUoYXJncyksXG4gICAgICBfbm9ybWFsaXplMiA9IF9zbGljZWRUb0FycmF5KF9ub3JtYWxpemUsIDMpLFxuICAgICAga2V5ID0gX25vcm1hbGl6ZTJbMF0sXG4gICAgICBmbiA9IF9ub3JtYWxpemUyWzFdLFxuICAgICAgX2NvbmZpZyA9IF9ub3JtYWxpemUyWzJdO1xuICAgIHZhciBjb25maWcgPSBtZXJnZUNvbmZpZ3MoZmFsbGJhY2tDb25maWcsIF9jb25maWcpO1xuICAgIHZhciBuZXh0ID0gaG9vaztcbiAgICB2YXIgdXNlID0gY29uZmlnLnVzZTtcbiAgICB2YXIgbWlkZGxld2FyZSA9ICh1c2UgfHwgW10pLmNvbmNhdChCVUlMVF9JTl9NSURETEVXQVJFKTtcbiAgICBmb3IgKHZhciBfaSA9IG1pZGRsZXdhcmUubGVuZ3RoOyBfaS0tOykge1xuICAgICAgbmV4dCA9IG1pZGRsZXdhcmVbX2ldKG5leHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dChrZXksIGZuIHx8IGNvbmZpZy5mZXRjaGVyIHx8IG51bGwsIGNvbmZpZyk7XG4gIH07XG59O1xudmFyIHVzZVN0YXRlV2l0aERlcHMgPSBmdW5jdGlvbiB1c2VTdGF0ZVdpdGhEZXBzKHN0YXRlKSB7XG4gIHZhciByZXJlbmRlciA9IGgkNCh7fSlbMV07XG4gIHZhciB1bm1vdW50ZWRSZWYgPSBfJDEoZmFsc2UpO1xuICB2YXIgc3RhdGVSZWYgPSBfJDEoc3RhdGUpO1xuICB2YXIgc3RhdGVEZXBlbmRlbmNpZXNSZWYgPSBfJDEoe1xuICAgIGRhdGE6IGZhbHNlLFxuICAgIGVycm9yOiBmYWxzZSxcbiAgICBpc1ZhbGlkYXRpbmc6IGZhbHNlXG4gIH0pO1xuICB2YXIgc2V0U3RhdGUgPSBUJDIoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICB2YXIgc2hvdWxkUmVyZW5kZXIgPSBmYWxzZTtcbiAgICB2YXIgY3VycmVudFN0YXRlID0gc3RhdGVSZWYuY3VycmVudDtcbiAgICBmb3IgKHZhciBfMiBpbiBwYXlsb2FkKSB7XG4gICAgICB2YXIgX2syID0gXzI7XG4gICAgICBpZiAoY3VycmVudFN0YXRlW19rMl0gIT09IHBheWxvYWRbX2syXSkge1xuICAgICAgICBjdXJyZW50U3RhdGVbX2syXSA9IHBheWxvYWRbX2syXTtcbiAgICAgICAgaWYgKHN0YXRlRGVwZW5kZW5jaWVzUmVmLmN1cnJlbnRbX2syXSkge1xuICAgICAgICAgIHNob3VsZFJlcmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkUmVyZW5kZXIgJiYgIXVubW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoSVNfUkVBQ1RfTEVHQUNZKSB7XG4gICAgICAgIHJlcmVuZGVyKHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHduLnN0YXJ0VHJhbnNpdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyKHt9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHVubW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIFtzdGF0ZVJlZiwgc3RhdGVEZXBlbmRlbmNpZXNSZWYuY3VycmVudCwgc2V0U3RhdGVdO1xufTtcbnZhciBzdWJzY3JpYmVDYWxsYmFjayA9IGZ1bmN0aW9uIHN1YnNjcmliZUNhbGxiYWNrKGtleSwgY2FsbGJhY2tzLCBjYWxsYmFjaykge1xuICB2YXIga2V5ZWRSZXZhbGlkYXRvcnMgPSBjYWxsYmFja3Nba2V5XSB8fCAoY2FsbGJhY2tzW2tleV0gPSBbXSk7XG4gIGtleWVkUmV2YWxpZGF0b3JzLnB1c2goY2FsbGJhY2spO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbmRleCA9IGtleWVkUmV2YWxpZGF0b3JzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBrZXllZFJldmFsaWRhdG9yc1tpbmRleF0gPSBrZXllZFJldmFsaWRhdG9yc1trZXllZFJldmFsaWRhdG9ycy5sZW5ndGggLSAxXTtcbiAgICAgIGtleWVkUmV2YWxpZGF0b3JzLnBvcCgpO1xuICAgIH1cbiAgfTtcbn07XG52YXIgd2l0aE1pZGRsZXdhcmUgPSBmdW5jdGlvbiB3aXRoTWlkZGxld2FyZSh1c2VTV1IsIG1pZGRsZXdhcmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjM7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG4gICAgdmFyIF9ub3JtYWxpemUzID0gbm9ybWFsaXplKGFyZ3MpLFxuICAgICAgX25vcm1hbGl6ZTQgPSBfc2xpY2VkVG9BcnJheShfbm9ybWFsaXplMywgMyksXG4gICAgICBrZXkgPSBfbm9ybWFsaXplNFswXSxcbiAgICAgIGZuID0gX25vcm1hbGl6ZTRbMV0sXG4gICAgICBjb25maWcgPSBfbm9ybWFsaXplNFsyXTtcbiAgICB2YXIgdXNlcyA9IChjb25maWcudXNlIHx8IFtdKS5jb25jYXQobWlkZGxld2FyZSk7XG4gICAgcmV0dXJuIHVzZVNXUihrZXksIGZuLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIHt9LCB7XG4gICAgICB1c2U6IHVzZXNcbiAgICB9KSk7XG4gIH07XG59O1xuc2V0dXBEZXZUb29scygpO1xudmFyIFdJVEhfREVEVVBFID0ge1xuICBkZWR1cGU6IHRydWVcbn07XG52YXIgdXNlU1dSSGFuZGxlciA9IGZ1bmN0aW9uIHVzZVNXUkhhbmRsZXIoX2tleSwgZmV0Y2hlciwgY29uZmlnKSB7XG4gIHZhciBjYWNoZSA9IGNvbmZpZy5jYWNoZSxcbiAgICBjb21wYXJlID0gY29uZmlnLmNvbXBhcmUsXG4gICAgc3VzcGVuc2UgPSBjb25maWcuc3VzcGVuc2UsXG4gICAgZmFsbGJhY2tEYXRhID0gY29uZmlnLmZhbGxiYWNrRGF0YSxcbiAgICByZXZhbGlkYXRlT25Nb3VudCA9IGNvbmZpZy5yZXZhbGlkYXRlT25Nb3VudCxcbiAgICByZXZhbGlkYXRlSWZTdGFsZSA9IGNvbmZpZy5yZXZhbGlkYXRlSWZTdGFsZSxcbiAgICByZWZyZXNoSW50ZXJ2YWwgPSBjb25maWcucmVmcmVzaEludGVydmFsLFxuICAgIHJlZnJlc2hXaGVuSGlkZGVuID0gY29uZmlnLnJlZnJlc2hXaGVuSGlkZGVuLFxuICAgIHJlZnJlc2hXaGVuT2ZmbGluZSA9IGNvbmZpZy5yZWZyZXNoV2hlbk9mZmxpbmUsXG4gICAga2VlcFByZXZpb3VzRGF0YSA9IGNvbmZpZy5rZWVwUHJldmlvdXNEYXRhO1xuICB2YXIgX1NXUkdsb2JhbFN0YXRlJGdldDMgPSBTV1JHbG9iYWxTdGF0ZS5nZXQoY2FjaGUpLFxuICAgIF9TV1JHbG9iYWxTdGF0ZSRnZXQ0ID0gX3NsaWNlZFRvQXJyYXkoX1NXUkdsb2JhbFN0YXRlJGdldDMsIDMpLFxuICAgIEVWRU5UX1JFVkFMSURBVE9SUyA9IF9TV1JHbG9iYWxTdGF0ZSRnZXQ0WzBdLFxuICAgIE1VVEFUSU9OID0gX1NXUkdsb2JhbFN0YXRlJGdldDRbMV0sXG4gICAgRkVUQ0ggPSBfU1dSR2xvYmFsU3RhdGUkZ2V0NFsyXTtcbiAgdmFyIF9zZXJpYWxpemUgPSBzZXJpYWxpemUoX2tleSksXG4gICAgX3NlcmlhbGl6ZTIgPSBfc2xpY2VkVG9BcnJheShfc2VyaWFsaXplLCAyKSxcbiAgICBrZXkgPSBfc2VyaWFsaXplMlswXSxcbiAgICBmbkFyZyA9IF9zZXJpYWxpemUyWzFdO1xuICB2YXIgaW5pdGlhbE1vdW50ZWRSZWYgPSBfJDEoZmFsc2UpO1xuICB2YXIgdW5tb3VudGVkUmVmID0gXyQxKGZhbHNlKTtcbiAgdmFyIGtleVJlZiA9IF8kMShrZXkpO1xuICB2YXIgZmV0Y2hlclJlZiA9IF8kMShmZXRjaGVyKTtcbiAgdmFyIGNvbmZpZ1JlZiA9IF8kMShjb25maWcpO1xuICB2YXIgZ2V0Q29uZmlnID0gZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xuICAgIHJldHVybiBjb25maWdSZWYuY3VycmVudDtcbiAgfTtcbiAgdmFyIGlzQWN0aXZlID0gZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIGdldENvbmZpZygpLmlzVmlzaWJsZSgpICYmIGdldENvbmZpZygpLmlzT25saW5lKCk7XG4gIH07XG4gIHZhciBfY3JlYXRlQ2FjaGVIZWxwZXIgPSBjcmVhdGVDYWNoZUhlbHBlcihjYWNoZSwga2V5KSxcbiAgICBfY3JlYXRlQ2FjaGVIZWxwZXIyID0gX3NsaWNlZFRvQXJyYXkoX2NyZWF0ZUNhY2hlSGVscGVyLCA0KSxcbiAgICBnZXRDYWNoZSA9IF9jcmVhdGVDYWNoZUhlbHBlcjJbMF0sXG4gICAgc2V0Q2FjaGUgPSBfY3JlYXRlQ2FjaGVIZWxwZXIyWzFdLFxuICAgIHN1YnNjcmliZUNhY2hlID0gX2NyZWF0ZUNhY2hlSGVscGVyMlsyXSxcbiAgICBnZXRJbml0aWFsQ2FjaGUgPSBfY3JlYXRlQ2FjaGVIZWxwZXIyWzNdO1xuICB2YXIgc3RhdGVEZXBlbmRlbmNpZXMgPSBfJDEoe30pLmN1cnJlbnQ7XG4gIHZhciBmYWxsYmFjayA9IGlzVW5kZWZpbmVkKGZhbGxiYWNrRGF0YSkgPyBjb25maWcuZmFsbGJhY2tba2V5XSA6IGZhbGxiYWNrRGF0YTtcbiAgdmFyIGlzRXF1YWwgPSBmdW5jdGlvbiBpc0VxdWFsKHByZXYsIGN1cnJlbnQpIHtcbiAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgIGZvciAodmFyIF8zIGluIHN0YXRlRGVwZW5kZW5jaWVzKSB7XG4gICAgICB2YXIgX3QgPSBfMztcbiAgICAgIGlmIChfdCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgIGlmICghY29tcGFyZShjdXJyZW50W190XSwgcHJldltfdF0pKSB7XG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHByZXZbX3RdKSkge1xuICAgICAgICAgICAgaWYgKCFjb21wYXJlKGN1cnJlbnRbX3RdLCByZXR1cm5lZERhdGEpKSB7XG4gICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudFtfdF0gIT09IHByZXZbX3RdKSB7XG4gICAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXF1YWw7XG4gIH07XG4gIHZhciBnZXRTbmFwc2hvdCA9IEYkMyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNob3VsZFN0YXJ0UmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgha2V5KSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoIWZldGNoZXIpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghaXNVbmRlZmluZWQocmV2YWxpZGF0ZU9uTW91bnQpKSByZXR1cm4gcmV2YWxpZGF0ZU9uTW91bnQ7XG4gICAgICBpZiAoZ2V0Q29uZmlnKCkuaXNQYXVzZWQoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHN1c3BlbnNlKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoIWlzVW5kZWZpbmVkKHJldmFsaWRhdGVJZlN0YWxlKSkgcmV0dXJuIHJldmFsaWRhdGVJZlN0YWxlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSgpO1xuICAgIHZhciBnZXRTZWxlY3RlZENhY2hlID0gZnVuY3Rpb24gZ2V0U2VsZWN0ZWRDYWNoZShzdGF0ZSkge1xuICAgICAgdmFyIHNuYXBzaG90ID0gbWVyZ2VPYmplY3RzKHN0YXRlKTtcbiAgICAgIGRlbGV0ZSBzbmFwc2hvdC5faztcbiAgICAgIGlmICghc2hvdWxkU3RhcnRSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgaXNWYWxpZGF0aW5nOiB0cnVlLFxuICAgICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICAgIH0sIHNuYXBzaG90KTtcbiAgICB9O1xuICAgIHZhciBjYWNoZWREYXRhID0gZ2V0Q2FjaGUoKTtcbiAgICB2YXIgaW5pdGlhbERhdGEgPSBnZXRJbml0aWFsQ2FjaGUoKTtcbiAgICB2YXIgY2xpZW50U25hcHNob3QgPSBnZXRTZWxlY3RlZENhY2hlKGNhY2hlZERhdGEpO1xuICAgIHZhciBzZXJ2ZXJTbmFwc2hvdCA9IGNhY2hlZERhdGEgPT09IGluaXRpYWxEYXRhID8gY2xpZW50U25hcHNob3QgOiBnZXRTZWxlY3RlZENhY2hlKGluaXRpYWxEYXRhKTtcbiAgICB2YXIgbWVtb3JpemVkU25hcHNob3QgPSBjbGllbnRTbmFwc2hvdDtcbiAgICByZXR1cm4gW2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBuZXdTbmFwc2hvdCA9IGdldFNlbGVjdGVkQ2FjaGUoZ2V0Q2FjaGUoKSk7XG4gICAgICByZXR1cm4gaXNFcXVhbChuZXdTbmFwc2hvdCwgbWVtb3JpemVkU25hcHNob3QpID8gbWVtb3JpemVkU25hcHNob3QgOiBtZW1vcml6ZWRTbmFwc2hvdCA9IG5ld1NuYXBzaG90O1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzZXJ2ZXJTbmFwc2hvdDtcbiAgICB9XTtcbiAgfSwgW2NhY2hlLCBrZXldKTtcbiAgdmFyIGNhY2hlZCA9IHNoaW1FeHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFQkMihmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlQ2FjaGUoa2V5LCBmdW5jdGlvbiAoY3VycmVudCwgcHJldikge1xuICAgICAgaWYgKCFpc0VxdWFsKHByZXYsIGN1cnJlbnQpKSBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9LCBbY2FjaGUsIGtleV0pLCBnZXRTbmFwc2hvdFswXSwgZ2V0U25hcHNob3RbMV0pO1xuICB2YXIgaXNJbml0aWFsTW91bnQgPSAhaW5pdGlhbE1vdW50ZWRSZWYuY3VycmVudDtcbiAgdmFyIGhhc1JldmFsaWRhdG9yID0gRVZFTlRfUkVWQUxJREFUT1JTW2tleV0gJiYgRVZFTlRfUkVWQUxJREFUT1JTW2tleV0ubGVuZ3RoID4gMDtcbiAgdmFyIGNhY2hlZERhdGEgPSBjYWNoZWQuZGF0YTtcbiAgdmFyIGRhdGEgPSBpc1VuZGVmaW5lZChjYWNoZWREYXRhKSA/IGZhbGxiYWNrIDogY2FjaGVkRGF0YTtcbiAgdmFyIGVycm9yID0gY2FjaGVkLmVycm9yO1xuICB2YXIgbGFnZ3lEYXRhUmVmID0gXyQxKGRhdGEpO1xuICB2YXIgcmV0dXJuZWREYXRhID0ga2VlcFByZXZpb3VzRGF0YSA/IGlzVW5kZWZpbmVkKGNhY2hlZERhdGEpID8gbGFnZ3lEYXRhUmVmLmN1cnJlbnQgOiBjYWNoZWREYXRhIDogZGF0YTtcbiAgdmFyIHNob3VsZERvSW5pdGlhbFJldmFsaWRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaGFzUmV2YWxpZGF0b3IgJiYgIWlzVW5kZWZpbmVkKGVycm9yKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc0luaXRpYWxNb3VudCAmJiAhaXNVbmRlZmluZWQocmV2YWxpZGF0ZU9uTW91bnQpKSByZXR1cm4gcmV2YWxpZGF0ZU9uTW91bnQ7XG4gICAgaWYgKGdldENvbmZpZygpLmlzUGF1c2VkKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoc3VzcGVuc2UpIHJldHVybiBpc1VuZGVmaW5lZChkYXRhKSA/IGZhbHNlIDogcmV2YWxpZGF0ZUlmU3RhbGU7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGRhdGEpIHx8IHJldmFsaWRhdGVJZlN0YWxlO1xuICB9KCk7XG4gIHZhciBkZWZhdWx0VmFsaWRhdGluZ1N0YXRlID0gISEoa2V5ICYmIGZldGNoZXIgJiYgaXNJbml0aWFsTW91bnQgJiYgc2hvdWxkRG9Jbml0aWFsUmV2YWxpZGF0aW9uKTtcbiAgdmFyIGlzVmFsaWRhdGluZyA9IGlzVW5kZWZpbmVkKGNhY2hlZC5pc1ZhbGlkYXRpbmcpID8gZGVmYXVsdFZhbGlkYXRpbmdTdGF0ZSA6IGNhY2hlZC5pc1ZhbGlkYXRpbmc7XG4gIHZhciBpc0xvYWRpbmcgPSBpc1VuZGVmaW5lZChjYWNoZWQuaXNMb2FkaW5nKSA/IGRlZmF1bHRWYWxpZGF0aW5nU3RhdGUgOiBjYWNoZWQuaXNMb2FkaW5nO1xuICB2YXIgcmV2YWxpZGF0ZSA9IFQkMiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmV2YWxpZGF0ZU9wdHMpIHtcbiAgICAgIHZhciBjdXJyZW50RmV0Y2hlciwgbmV3RGF0YSwgc3RhcnRBdCwgbG9hZGluZywgb3B0cywgc2hvdWxkU3RhcnROZXdSZXF1ZXN0LCBjYWxsYmFja1NhZmVndWFyZCwgZmluYWxTdGF0ZSwgZmluaXNoUmVxdWVzdEFuZFVwZGF0ZVN0YXRlLCBjbGVhbnVwU3RhdGUsIGluaXRpYWxTdGF0ZSwgX0ZFVENIJGtleSwgbXV0YXRpb25JbmZvLCBjYWNoZURhdGEsIGN1cnJlbnRDb25maWcsIHNob3VsZFJldHJ5T25FcnJvcjtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGN1cnJlbnRGZXRjaGVyID0gZmV0Y2hlclJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCEoIWtleSB8fCAhY3VycmVudEZldGNoZXIgfHwgdW5tb3VudGVkUmVmLmN1cnJlbnQgfHwgZ2V0Q29uZmlnKCkuaXNQYXVzZWQoKSkpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBmYWxzZSk7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgbG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICBvcHRzID0gcmV2YWxpZGF0ZU9wdHMgfHwge307XG4gICAgICAgICAgICBzaG91bGRTdGFydE5ld1JlcXVlc3QgPSAhRkVUQ0hba2V5XSB8fCAhb3B0cy5kZWR1cGU7XG4gICAgICAgICAgICBjYWxsYmFja1NhZmVndWFyZCA9IGZ1bmN0aW9uIGNhbGxiYWNrU2FmZWd1YXJkKCkge1xuICAgICAgICAgICAgICBpZiAoSVNfUkVBQ1RfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF1bm1vdW50ZWRSZWYuY3VycmVudCAmJiBrZXkgPT09IGtleVJlZi5jdXJyZW50ICYmIGluaXRpYWxNb3VudGVkUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0ga2V5UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZmluYWxTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZpbmlzaFJlcXVlc3RBbmRVcGRhdGVTdGF0ZSA9IGZ1bmN0aW9uIGZpbmlzaFJlcXVlc3RBbmRVcGRhdGVTdGF0ZSgpIHtcbiAgICAgICAgICAgICAgc2V0Q2FjaGUoZmluYWxTdGF0ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2xlYW51cFN0YXRlID0gZnVuY3Rpb24gY2xlYW51cFN0YXRlKCkge1xuICAgICAgICAgICAgICB2YXIgcmVxdWVzdEluZm8gPSBGRVRDSFtrZXldO1xuICAgICAgICAgICAgICBpZiAocmVxdWVzdEluZm8gJiYgcmVxdWVzdEluZm9bMV0gPT09IHN0YXJ0QXQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgRkVUQ0hba2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGdldENhY2hlKCkuZGF0YSkpIHtcbiAgICAgICAgICAgICAgaW5pdGlhbFN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU3RhcnROZXdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgIHNldENhY2hlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgICAgIGlmIChjb25maWcubG9hZGluZ1RpbWVvdXQgJiYgaXNVbmRlZmluZWQoZ2V0Q2FjaGUoKS5kYXRhKSkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGxvYWRpbmcgJiYgY2FsbGJhY2tTYWZlZ3VhcmQoKSkge1xuICAgICAgICAgICAgICAgICAgICBnZXRDb25maWcoKS5vbkxvYWRpbmdTbG93KGtleSwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBjb25maWcubG9hZGluZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIEZFVENIW2tleV0gPSBbY3VycmVudEZldGNoZXIoZm5BcmcpLCBnZXRUaW1lc3RhbXAoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfRkVUQ0gka2V5ID0gX3NsaWNlZFRvQXJyYXkoRkVUQ0hba2V5XSwgMik7XG4gICAgICAgICAgICBuZXdEYXRhID0gX0ZFVENIJGtleVswXTtcbiAgICAgICAgICAgIHN0YXJ0QXQgPSBfRkVUQ0gka2V5WzFdO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5O1xuICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgIG5ld0RhdGEgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgaWYgKHNob3VsZFN0YXJ0TmV3UmVxdWVzdCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNsZWFudXBTdGF0ZSwgY29uZmlnLmRlZHVwaW5nSW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoIUZFVENIW2tleV0gfHwgRkVUQ0hba2V5XVsxXSAhPT0gc3RhcnRBdCkpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRTdGFydE5ld1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrU2FmZWd1YXJkKCkpIHtcbiAgICAgICAgICAgICAgICBnZXRDb25maWcoKS5vbkRpc2NhcmRlZChrZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGZhbHNlKTtcbiAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgZmluYWxTdGF0ZS5lcnJvciA9IFVOREVGSU5FRDtcbiAgICAgICAgICAgIG11dGF0aW9uSW5mbyA9IE1VVEFUSU9OW2tleV07XG4gICAgICAgICAgICBpZiAoISghaXNVbmRlZmluZWQobXV0YXRpb25JbmZvKSAmJiAoc3RhcnRBdCA8PSBtdXRhdGlvbkluZm9bMF0gfHwgc3RhcnRBdCA8PSBtdXRhdGlvbkluZm9bMV0gfHwgbXV0YXRpb25JbmZvWzFdID09PSAwKSkpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmlzaFJlcXVlc3RBbmRVcGRhdGVTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFN0YXJ0TmV3UmVxdWVzdCkge1xuICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tTYWZlZ3VhcmQoKSkge1xuICAgICAgICAgICAgICAgIGdldENvbmZpZygpLm9uRGlzY2FyZGVkKGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICBjYWNoZURhdGEgPSBnZXRDYWNoZSgpLmRhdGE7XG4gICAgICAgICAgICBmaW5hbFN0YXRlLmRhdGEgPSBjb21wYXJlKGNhY2hlRGF0YSwgbmV3RGF0YSkgPyBjYWNoZURhdGEgOiBuZXdEYXRhO1xuICAgICAgICAgICAgaWYgKHNob3VsZFN0YXJ0TmV3UmVxdWVzdCkge1xuICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tTYWZlZ3VhcmQoKSkge1xuICAgICAgICAgICAgICAgIGdldENvbmZpZygpLm9uU3VjY2VzcyhuZXdEYXRhLCBrZXksIGNvbmZpZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzU7XG4gICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMTIpO1xuICAgICAgICAgICAgY2xlYW51cFN0YXRlKCk7XG4gICAgICAgICAgICBjdXJyZW50Q29uZmlnID0gZ2V0Q29uZmlnKCk7XG4gICAgICAgICAgICBzaG91bGRSZXRyeU9uRXJyb3IgPSBjdXJyZW50Q29uZmlnLnNob3VsZFJldHJ5T25FcnJvcjtcbiAgICAgICAgICAgIGlmICghY3VycmVudENvbmZpZy5pc1BhdXNlZCgpKSB7XG4gICAgICAgICAgICAgIGZpbmFsU3RhdGUuZXJyb3IgPSBfY29udGV4dC50MDtcbiAgICAgICAgICAgICAgaWYgKHNob3VsZFN0YXJ0TmV3UmVxdWVzdCAmJiBjYWxsYmFja1NhZmVndWFyZCgpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENvbmZpZy5vbkVycm9yKF9jb250ZXh0LnQwLCBrZXksIGN1cnJlbnRDb25maWcpO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZXRyeU9uRXJyb3IgPT09IHRydWUgfHwgaXNGdW5jdGlvbihzaG91bGRSZXRyeU9uRXJyb3IpICYmIHNob3VsZFJldHJ5T25FcnJvcihfY29udGV4dC50MCkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb25maWcub25FcnJvclJldHJ5KF9jb250ZXh0LnQwLCBrZXksIGN1cnJlbnRDb25maWcsIGZ1bmN0aW9uIChfb3B0cykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciByZXZhbGlkYXRvcnMgPSBFVkVOVF9SRVZBTElEQVRPUlNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocmV2YWxpZGF0b3JzICYmIHJldmFsaWRhdG9yc1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0b3JzWzBdKGNvbnN0YW50cy5FUlJPUl9SRVZBTElEQVRFX0VWRU5ULCBfb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudDogKG9wdHMucmV0cnlDb3VudCB8fCAwKSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgZGVkdXBlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBmaW5pc2hSZXF1ZXN0QW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgdHJ1ZSk7XG4gICAgICAgICAgY2FzZSA0NDpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEyLCAzNV1dKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSgpLCBba2V5LCBjYWNoZV0pO1xuICB2YXIgYm91bmRNdXRhdGUgPSBUJDIoZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNDsgX2tleTUrKykge1xuICAgICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJuYWxNdXRhdGUuYXBwbHkodm9pZCAwLCBbY2FjaGUsIGtleVJlZi5jdXJyZW50XS5jb25jYXQoYXJncykpO1xuICB9LCBbXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGZldGNoZXJSZWYuY3VycmVudCA9IGZldGNoZXI7XG4gICAgY29uZmlnUmVmLmN1cnJlbnQgPSBjb25maWc7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChjYWNoZWREYXRhKSkge1xuICAgICAgbGFnZ3lEYXRhUmVmLmN1cnJlbnQgPSBjYWNoZWREYXRhO1xuICAgIH1cbiAgfSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICgha2V5KSByZXR1cm47XG4gICAgdmFyIHNvZnRSZXZhbGlkYXRlID0gcmV2YWxpZGF0ZS5iaW5kKFVOREVGSU5FRCwgV0lUSF9ERURVUEUpO1xuICAgIHZhciBuZXh0Rm9jdXNSZXZhbGlkYXRlZEF0ID0gMDtcbiAgICB2YXIgb25SZXZhbGlkYXRlID0gZnVuY3Rpb24gb25SZXZhbGlkYXRlKHR5cGUpIHtcbiAgICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIGlmICh0eXBlID09IGNvbnN0YW50cy5GT0NVU19FVkVOVCkge1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKGdldENvbmZpZygpLnJldmFsaWRhdGVPbkZvY3VzICYmIG5vdyA+IG5leHRGb2N1c1JldmFsaWRhdGVkQXQgJiYgaXNBY3RpdmUoKSkge1xuICAgICAgICAgIG5leHRGb2N1c1JldmFsaWRhdGVkQXQgPSBub3cgKyBnZXRDb25maWcoKS5mb2N1c1Rocm90dGxlSW50ZXJ2YWw7XG4gICAgICAgICAgc29mdFJldmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09IGNvbnN0YW50cy5SRUNPTk5FQ1RfRVZFTlQpIHtcbiAgICAgICAgaWYgKGdldENvbmZpZygpLnJldmFsaWRhdGVPblJlY29ubmVjdCAmJiBpc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgc29mdFJldmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09IGNvbnN0YW50cy5NVVRBVEVfRVZFTlQpIHtcbiAgICAgICAgcmV0dXJuIHJldmFsaWRhdGUoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBjb25zdGFudHMuRVJST1JfUkVWQUxJREFURV9FVkVOVCkge1xuICAgICAgICByZXR1cm4gcmV2YWxpZGF0ZShvcHRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIHZhciB1bnN1YkV2ZW50cyA9IHN1YnNjcmliZUNhbGxiYWNrKGtleSwgRVZFTlRfUkVWQUxJREFUT1JTLCBvblJldmFsaWRhdGUpO1xuICAgIHVubW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAga2V5UmVmLmN1cnJlbnQgPSBrZXk7XG4gICAgaW5pdGlhbE1vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgc2V0Q2FjaGUoe1xuICAgICAgX2s6IGZuQXJnXG4gICAgfSk7XG4gICAgaWYgKHNob3VsZERvSW5pdGlhbFJldmFsaWRhdGlvbikge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKGRhdGEpIHx8IElTX1NFUlZFUikge1xuICAgICAgICBzb2Z0UmV2YWxpZGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgckFGKHNvZnRSZXZhbGlkYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHVuc3ViRXZlbnRzKCk7XG4gICAgfTtcbiAgfSwgW2tleV0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGltZXI7XG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBpbnRlcnZhbCA9IGlzRnVuY3Rpb24ocmVmcmVzaEludGVydmFsKSA/IHJlZnJlc2hJbnRlcnZhbChkYXRhKSA6IHJlZnJlc2hJbnRlcnZhbDtcbiAgICAgIGlmIChpbnRlcnZhbCAmJiB0aW1lciAhPT0gLTEpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGV4ZWN1dGUsIGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICAgIGlmICghZ2V0Q2FjaGUoKS5lcnJvciAmJiAocmVmcmVzaFdoZW5IaWRkZW4gfHwgZ2V0Q29uZmlnKCkuaXNWaXNpYmxlKCkpICYmIChyZWZyZXNoV2hlbk9mZmxpbmUgfHwgZ2V0Q29uZmlnKCkuaXNPbmxpbmUoKSkpIHtcbiAgICAgICAgcmV2YWxpZGF0ZShXSVRIX0RFRFVQRSkudGhlbihuZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dCgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSAtMTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcmVmcmVzaEludGVydmFsLCByZWZyZXNoV2hlbkhpZGRlbiwgcmVmcmVzaFdoZW5PZmZsaW5lLCBrZXldKTtcbiAgeCQ0KHJldHVybmVkRGF0YSk7XG4gIGlmIChzdXNwZW5zZSAmJiBpc1VuZGVmaW5lZChkYXRhKSAmJiBrZXkpIHtcbiAgICBpZiAoIUlTX1JFQUNUX0xFR0FDWSAmJiBJU19TRVJWRVIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFsbGJhY2sgZGF0YSBpcyByZXF1aXJlZCB3aGVuIHVzaW5nIHN1c3BlbnNlIGluIFNTUi4nKTtcbiAgICB9XG4gICAgZmV0Y2hlclJlZi5jdXJyZW50ID0gZmV0Y2hlcjtcbiAgICBjb25maWdSZWYuY3VycmVudCA9IGNvbmZpZztcbiAgICB1bm1vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIHRocm93IGlzVW5kZWZpbmVkKGVycm9yKSA/IHJldmFsaWRhdGUoV0lUSF9ERURVUEUpIDogZXJyb3I7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtdXRhdGU6IGJvdW5kTXV0YXRlLFxuICAgIGdldCBkYXRhKCkge1xuICAgICAgc3RhdGVEZXBlbmRlbmNpZXMuZGF0YSA9IHRydWU7XG4gICAgICByZXR1cm4gcmV0dXJuZWREYXRhO1xuICAgIH0sXG4gICAgZ2V0IGVycm9yKCkge1xuICAgICAgc3RhdGVEZXBlbmRlbmNpZXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH0sXG4gICAgZ2V0IGlzVmFsaWRhdGluZygpIHtcbiAgICAgIHN0YXRlRGVwZW5kZW5jaWVzLmlzVmFsaWRhdGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gaXNWYWxpZGF0aW5nO1xuICAgIH0sXG4gICAgZ2V0IGlzTG9hZGluZygpIHtcbiAgICAgIHN0YXRlRGVwZW5kZW5jaWVzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gaXNMb2FkaW5nO1xuICAgIH1cbiAgfTtcbn07XG52YXIgdXNlU1dSID0gd2l0aEFyZ3ModXNlU1dSSGFuZGxlcik7XG52YXIgZXh0cmFjdEVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgaWYgKGVycm9yICYmIF90eXBlb2YoZXJyb3IpID09PSAnb2JqZWN0Jykge1xuICAgIGlmICgnZXJyb3JfbWVzc2FnZScgaW4gZXJyb3IgJiYgdHlwZW9mIGVycm9yLmVycm9yX21lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZXJyb3IuZXJyb3JfbWVzc2FnZTtcbiAgICB9XG4gICAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydCB7IEEkMyBhcyBBLCBBJDQgYXMgQiwgQ3JlYXRlU1NSU2FmZVdlYkNvbXBvbmVudCBhcyBDLCBqJDEgYXMgRCwgZ2V0QXVnbWVudGVkTmFtZXNwYWNlIGFzIEUsIEYkMyBhcyBGLCByZXF1aXJlJCQyIGFzIEcsIEhlIGFzIEgsIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzIGFzIEksIENuIGFzIEosIE4kMSBhcyBOLCBUJDIgYXMgVCwgVU5ERUZJTkVEIGFzIFUsIFplIGFzIFosIF8kMSBhcyBfLCB3JDMgYXMgYSwgd2l0aE1pZGRsZXdhcmUgYXMgYiwgdXNlU1dSQ29uZmlnIGFzIGMsIHVzZVN0YXRlV2l0aERlcHMgYXMgZCwgbWVyZ2VPYmplY3RzIGFzIGUsIGdldFRpbWVzdGFtcCBhcyBmLCBnJDUgYXMgZywgaCQ0IGFzIGgsIGlzVHJ1dGh5IGFzIGksIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgaiwgVWUgYXMgaywgZXh0cmFjdEVycm9yTWVzc2FnZSBhcyBsLCBtZXJnZSBhcyBtLCBGZSBhcyBuLCBob2lzdE5vblJlYWN0U3RhdGljcyQxIGFzIG8sIHAkMyBhcyBwLCBxJDUgYXMgcSwgZm4gYXMgciwgc2VyaWFsaXplIGFzIHMsIHkkMiBhcyB0LCB1c2VTV1IgYXMgdSwgdm4gYXMgdiwgd24gYXMgdywgc24gYXMgeCwgeSQzIGFzIHksIEYkNCBhcyB6IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/vanilla-js/dist/extractErrorMessage-jipS2nNN.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/vanilla-js/dist/index.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@stytch/vanilla-js/dist/index.esm.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthFlowType: () => (/* binding */ AuthFlowType),\n/* harmony export */   B2BMFAProducts: () => (/* binding */ B2BMFAProducts),\n/* harmony export */   B2BOAuthProviders: () => (/* binding */ B2BOAuthProviders),\n/* harmony export */   B2BProducts: () => (/* binding */ B2BProducts),\n/* harmony export */   BiometricsFailedError: () => (/* binding */ BiometricsFailedError),\n/* harmony export */   BiometricsUnavailableError: () => (/* binding */ BiometricsUnavailableError),\n/* harmony export */   ChallengeSigningFailedError: () => (/* binding */ ChallengeSigningFailedError),\n/* harmony export */   DeviceCredentialsNotAllowedError: () => (/* binding */ DeviceCredentialsNotAllowedError),\n/* harmony export */   FailedCodeChallengeError: () => (/* binding */ FailedCodeChallengeError),\n/* harmony export */   FailedToDecryptDataError: () => (/* binding */ FailedToDecryptDataError),\n/* harmony export */   InternalError: () => (/* binding */ InternalError),\n/* harmony export */   InvalidAuthorizationCredentialError: () => (/* binding */ InvalidAuthorizationCredentialError),\n/* harmony export */   InvalidCredentialTypeError: () => (/* binding */ InvalidCredentialTypeError),\n/* harmony export */   InvalidRedirectSchemeError: () => (/* binding */ InvalidRedirectSchemeError),\n/* harmony export */   InvalidStartUrlError: () => (/* binding */ InvalidStartUrlError),\n/* harmony export */   JSONDataNotConvertibleToStringError: () => (/* binding */ JSONDataNotConvertibleToStringError),\n/* harmony export */   KeyInvalidatedError: () => (/* binding */ KeyInvalidatedError),\n/* harmony export */   KeystoreUnavailableError: () => (/* binding */ KeystoreUnavailableError),\n/* harmony export */   MissingAttestationObjectError: () => (/* binding */ MissingAttestationObjectError),\n/* harmony export */   MissingAuthorizationCredentialIDTokenError: () => (/* binding */ MissingAuthorizationCredentialIDTokenError),\n/* harmony export */   MissingGoogleClientIDError: () => (/* binding */ MissingGoogleClientIDError),\n/* harmony export */   MissingPKCEError: () => (/* binding */ MissingPKCEError),\n/* harmony export */   MissingPublicKeyError: () => (/* binding */ MissingPublicKeyError),\n/* harmony export */   MissingUrlError: () => (/* binding */ MissingUrlError),\n/* harmony export */   NoBiometricsEnrolledError: () => (/* binding */ NoBiometricsEnrolledError),\n/* harmony export */   NoBiometricsRegistrationError: () => (/* binding */ NoBiometricsRegistrationError),\n/* harmony export */   NoCredentialsPresentError: () => (/* binding */ NoCredentialsPresentError),\n/* harmony export */   NoCurrentSessionError: () => (/* binding */ NoCurrentSessionError),\n/* harmony export */   OAuthProviders: () => (/* binding */ OAuthProviders),\n/* harmony export */   OTPMethods: () => (/* binding */ OTPMethods),\n/* harmony export */   OneTapPositions: () => (/* binding */ OneTapPositions),\n/* harmony export */   PasskeysInvalidEncoding: () => (/* binding */ PasskeysInvalidEncoding),\n/* harmony export */   PasskeysMisconfigured: () => (/* binding */ PasskeysMisconfigured),\n/* harmony export */   PasskeysUnsupportedError: () => (/* binding */ PasskeysUnsupportedError),\n/* harmony export */   Products: () => (/* binding */ Products),\n/* harmony export */   RNUIProducts: () => (/* binding */ RNUIProducts),\n/* harmony export */   RandomNumberGenerationFailed: () => (/* binding */ RandomNumberGenerationFailed),\n/* harmony export */   SDKAPIUnreachableError: () => (/* binding */ SDKAPIUnreachableError),\n/* harmony export */   SDKNotConfiguredError: () => (/* binding */ SDKNotConfiguredError),\n/* harmony export */   SignInWithAppleMisconfigured: () => (/* binding */ SignInWithAppleMisconfigured),\n/* harmony export */   StytchAPIError: () => (/* binding */ StytchAPIError),\n/* harmony export */   StytchAPISchemaError: () => (/* binding */ StytchAPISchemaError),\n/* harmony export */   StytchAPIUnreachableError: () => (/* binding */ StytchAPIUnreachableError),\n/* harmony export */   StytchError: () => (/* binding */ StytchError),\n/* harmony export */   StytchEventType: () => (/* binding */ StytchEventType),\n/* harmony export */   StytchSDKAPIError: () => (/* binding */ StytchSDKAPIError),\n/* harmony export */   StytchSDKError: () => (/* binding */ StytchSDKError),\n/* harmony export */   StytchSDKSchemaError: () => (/* binding */ StytchSDKSchemaError),\n/* harmony export */   StytchSDKUsageError: () => (/* binding */ StytchSDKUsageError),\n/* harmony export */   StytchUIClient: () => (/* binding */ StytchUIClient),\n/* harmony export */   UNRECOVERABLE_ERROR_TYPES: () => (/* binding */ UNRECOVERABLE_ERROR_TYPES),\n/* harmony export */   UserCancellationError: () => (/* binding */ UserCancellationError),\n/* harmony export */   UserLockedOutError: () => (/* binding */ UserLockedOutError),\n/* harmony export */   Wallets: () => (/* binding */ Wallets),\n/* harmony export */   errorToStytchError: () => (/* binding */ errorToStytchError)\n/* harmony export */ });\nvar _excluded=[\"children\"],_excluded2=[\"children\"],_excluded3=[\"asChild\"],_excluded4=[\"scope\",\"children\"],_excluded5=[\"scope\",\"children\"],_excluded6=[\"__scopeRovingFocusGroup\",\"orientation\",\"dir\",\"loop\",\"currentTabStopId\",\"defaultCurrentTabStopId\",\"onCurrentTabStopIdChange\",\"onEntryFocus\"],_excluded7=[\"__scopeRovingFocusGroup\",\"focusable\",\"active\"],_excluded8=[\"__scopeTabs\",\"value\",\"onValueChange\",\"defaultValue\",\"orientation\",\"dir\",\"activationMode\"],_excluded9=[\"__scopeTabs\",\"loop\"],_excluded10=[\"__scopeTabs\",\"value\",\"disabled\"],_excluded11=[\"__scopeTabs\",\"value\",\"children\"];var _templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34,_templateObject35,_templateObject36,_templateObject37,_templateObject38,_templateObject39,_templateObject40,_templateObject41,_templateObject42,_templateObject43,_templateObject44,_templateObject45,_templateObject46,_templateObject47,_templateObject48,_templateObject49,_templateObject50,_templateObject51,_templateObject52,_templateObject53;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function _createForOfIteratorHelper2(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray2(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e5){throw _e5;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e6){didErr=true;err=_e6;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function _wrapNativeSuper2(Class){var _cache=typeof Map===\"function\"?new Map():undefined;_wrapNativeSuper2=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction2(Class))return Class;if(typeof Class!==\"function\"){throw new TypeError(\"Super expression must either be null or a function\");}if(typeof _cache!==\"undefined\"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct2(Class,arguments,_getPrototypeOf2(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf2(Wrapper,Class);};return _wrapNativeSuper2(Class);}function _construct2(t,e,r){if(_isNativeReflectConstruct2())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o))();return r&&_setPrototypeOf2(p,r.prototype),p;}function _isNativeFunction2(fn){try{return Function.toString.call(fn).indexOf(\"[native code]\")!==-1;}catch(e){return typeof fn===\"function\";}}function _defineProperty(obj,key,value){key=_toPropertyKey2(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _slicedToArray2(arr,i){return _arrayWithHoles2(arr)||_iterableToArrayLimit2(arr,i)||_unsupportedIterableToArray2(arr,i)||_nonIterableRest2();}function _nonIterableRest2(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _iterableToArrayLimit2(r,l){var t=null==r?null:\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1;}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r;}finally{try{if(!f&&null!=t[\"return\"]&&(u=t[\"return\"](),Object(u)!==u))return;}finally{if(o)throw n;}}return a;}}function _arrayWithHoles2(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray2(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray2(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray2(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray2(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!==\"undefined\"&&iter[Symbol.iterator]!=null||iter[\"@@iterator\"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray2(arr);}function _arrayLikeToArray2(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}function _callSuper2(t,o,e){return o=_getPrototypeOf2(o),_possibleConstructorReturn2(t,_isNativeReflectConstruct2()?Reflect.construct(o,e||[],_getPrototypeOf2(t).constructor):o.apply(t,e));}function _possibleConstructorReturn2(self,call){if(call&&(_typeof2(call)===\"object\"||typeof call===\"function\")){return call;}else if(call!==void 0){throw new TypeError(\"Derived constructors may only return object or undefined\");}return _assertThisInitialized2(self);}function _isNativeReflectConstruct2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct2=function _isNativeReflectConstruct2(){return!!t;})();}function _getPrototypeOf2(o){_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf2(o);}function _assertThisInitialized2(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _inherits2(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,\"prototype\",{writable:false});if(superClass)_setPrototypeOf2(subClass,superClass);}function _setPrototypeOf2(o,p){_setPrototypeOf2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf2(o,p);}function _regeneratorRuntime2(){\"use strict\";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime2=function _regeneratorRuntime2(){return e;};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value;},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",c=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e];}try{define({},\"\");}catch(t){define=function define(t,e,r){return t[e]=r;};}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,\"_invoke\",{value:makeInvokeMethod(t,r,c)}),a;}function tryCatch(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)};}catch(t){return{type:\"throw\",arg:t};}}e.wrap=wrap;var h=\"suspendedStart\",l=\"suspendedYield\",f=\"executing\",s=\"completed\",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this;});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){[\"next\",\"throw\",\"return\"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t);});});}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if(\"throw\"!==c.type){var u=c.arg,h=u.value;return h&&\"object\"==_typeof2(h)&&n.call(h,\"__await\")?e.resolve(h.__await).then(function(t){invoke(\"next\",t,i,a);},function(t){invoke(\"throw\",t,i,a);}):e.resolve(h).then(function(t){u.value=t,i(u);},function(t){return invoke(\"throw\",t,i,a);});}a(c.arg);}var r;o(this,\"_invoke\",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r);});}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error(\"Generator is already running\");if(o===s){if(\"throw\"===i)throw a;return{value:t,done:!0};}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u;}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg);}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=f;var p=tryCatch(e,r,n);if(\"normal\"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done};}\"throw\"===p.type&&(o=s,n.method=\"throw\",n.arg=p.arg);}};}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator[\"return\"]&&(r.method=\"return\",r.arg=t,maybeInvokeDelegate(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),y;var i=tryCatch(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,y):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,y);}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function resetTryEntry(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e;}function Context(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(pushTryEntry,this),this.reset(!0);}function values(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next;};return i.next=i;}}throw new TypeError(_typeof2(e)+\" is not iterable\");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,\"constructor\",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,\"constructor\",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||\"GeneratorFunction\"===(e.displayName||e.name));},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,\"GeneratorFunction\")),t.prototype=Object.create(g),t;},e.awrap=function(t){return{__await:t};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this;}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next();});},defineIteratorMethods(g),define(g,u,\"Generator\"),define(g,a,function(){return this;}),define(g,\"toString\",function(){return\"[object Generator]\";}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next;}return next.done=!0,next;};},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t);},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval;},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type=\"throw\",a.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o;}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if(\"root\"===i.tryLoc)return handle(\"end\");if(i.tryLoc<=this.prev){var c=n.call(i,\"catchLoc\"),u=n.call(i,\"finallyLoc\");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break;}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,y):this.complete(a);},complete:function complete(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),y;},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y;}},\"catch\":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;resetTryEntry(r);}return o;}}throw new Error(\"illegal catch attempt\");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),y;}},e;}function _typeof2(o){\"@babel/helpers - typeof\";return _typeof2=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o;},_typeof2(o);}function _classCallCheck2(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function __defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey2(descriptor.key),descriptor);}}function _createClass2(Constructor,protoProps,staticProps){if(protoProps)__defineProperties(Constructor.prototype,protoProps);if(staticProps)__defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,\"prototype\",{writable:false});return Constructor;}function _toPropertyKey2(t){var i=_toPrimitive2(t,\"string\");return\"symbol\"==_typeof2(i)?i:String(i);}function _toPrimitive2(t,r){if(\"object\"!=_typeof2(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||\"default\");if(\"object\"!=_typeof2(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(\"string\"===r?String:Number)(t);}function _typeof$1(o){\"@babel/helpers - typeof\";return _typeof$1=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o;},_typeof$1(o);}function _createClass$1(Constructor,protoProps,staticProps){Object.defineProperty(Constructor,\"prototype\",{writable:false});return Constructor;}function _classCallCheck$1(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _callSuper$1(t,o,e){return o=_getPrototypeOf$1(o),_possibleConstructorReturn$1(t,_isNativeReflectConstruct$1()?Reflect.construct(o,e||[],_getPrototypeOf$1(t).constructor):o.apply(t,e));}function _possibleConstructorReturn$1(self,call){if(call&&(_typeof$1(call)===\"object\"||typeof call===\"function\")){return call;}else if(call!==void 0){throw new TypeError(\"Derived constructors may only return object or undefined\");}return _assertThisInitialized$1(self);}function _assertThisInitialized$1(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _inherits$1(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,\"prototype\",{writable:false});if(superClass)_setPrototypeOf$1(subClass,superClass);}function _wrapNativeSuper$1(Class){var _cache=typeof Map===\"function\"?new Map():undefined;_wrapNativeSuper$1=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction$1(Class))return Class;if(typeof Class!==\"function\"){throw new TypeError(\"Super expression must either be null or a function\");}if(typeof _cache!==\"undefined\"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct$1(Class,arguments,_getPrototypeOf$1(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf$1(Wrapper,Class);};return _wrapNativeSuper$1(Class);}function _construct$1(t,e,r){if(_isNativeReflectConstruct$1())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o))();return r&&_setPrototypeOf$1(p,r.prototype),p;}function _isNativeReflectConstruct$1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct$1=function _isNativeReflectConstruct(){return!!t;})();}function _isNativeFunction$1(fn){try{return Function.toString.call(fn).indexOf(\"[native code]\")!==-1;}catch(e){return typeof fn===\"function\";}}function _setPrototypeOf$1(o,p){_setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf$1(o,p);}function _getPrototypeOf$1(o){_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf$1(o);}var Products;(function(Products){Products[\"emailMagicLinks\"]=\"emailMagicLinks\";Products[\"oauth\"]=\"oauth\";Products[\"otp\"]=\"otp\";Products[\"crypto\"]=\"crypto\";Products[\"passwords\"]=\"passwords\";Products[\"passkeys\"]=\"passkeys\";})(Products||(Products={}));var OAuthProviders;(function(OAuthProviders){OAuthProviders[\"Google\"]=\"google\";OAuthProviders[\"Microsoft\"]=\"microsoft\";OAuthProviders[\"Apple\"]=\"apple\";OAuthProviders[\"Github\"]=\"github\";OAuthProviders[\"GitLab\"]=\"gitlab\";OAuthProviders[\"Facebook\"]=\"facebook\";OAuthProviders[\"Discord\"]=\"discord\";OAuthProviders[\"Salesforce\"]=\"salesforce\";OAuthProviders[\"Slack\"]=\"slack\";OAuthProviders[\"Amazon\"]=\"amazon\";OAuthProviders[\"Bitbucket\"]=\"bitbucket\";OAuthProviders[\"LinkedIn\"]=\"linkedin\";OAuthProviders[\"Coinbase\"]=\"coinbase\";OAuthProviders[\"Twitch\"]=\"twitch\";OAuthProviders[\"Twitter\"]=\"twitter\";OAuthProviders[\"TikTok\"]=\"tiktok\";OAuthProviders[\"Snapchat\"]=\"snapchat\";OAuthProviders[\"Figma\"]=\"figma\";OAuthProviders[\"Yahoo\"]=\"yahoo\";})(OAuthProviders||(OAuthProviders={}));var Wallets;(function(Wallets){Wallets[\"Vessel\"]=\"Vessel\";Wallets[\"Phantom\"]=\"Phantom\";Wallets[\"Metamask\"]=\"Metamask\";Wallets[\"Coinbase\"]=\"Coinbase\";Wallets[\"Binance\"]=\"Binance\";Wallets[\"GenericEthereumWallet\"]=\"Other Ethereum Wallet\";Wallets[\"GenericSolanaWallet\"]=\"Other Solana Wallet\";})(Wallets||(Wallets={}));var OneTapPositions;(function(OneTapPositions){OneTapPositions[\"embedded\"]=\"embedded\";OneTapPositions[\"floating\"]=\"floating\";OneTapPositions[\"embeddedOnly\"]=\"embeddedOnly\";OneTapPositions[\"floatingOrEmbedded\"]=\"floatingOrEmbedded\";OneTapPositions[\"forceLegacyEmbedded\"]=\"forceLegacyEmbedded\";})(OneTapPositions||(OneTapPositions={}));var OTPMethods;(function(OTPMethods){OTPMethods[\"SMS\"]=\"sms\";OTPMethods[\"WhatsApp\"]=\"whatsapp\";OTPMethods[\"Email\"]=\"email\";})(OTPMethods||(OTPMethods={}));var StytchEventType;(function(StytchEventType){StytchEventType[\"MagicLinkLoginOrCreateEvent\"]=\"MAGIC_LINK_LOGIN_OR_CREATE\";StytchEventType[\"OTPsLoginOrCreateEvent\"]=\"OTP_LOGIN_OR_CREATE\";StytchEventType[\"OTPsAuthenticate\"]=\"OTP_AUTHENTICATE\";StytchEventType[\"CryptoWalletAuthenticateStart\"]=\"CRYPTO_WALLET_AUTHENTICATE_START\";StytchEventType[\"CryptoWalletAuthenticate\"]=\"CRYPTO_WALLET_AUTHENTICATE\";StytchEventType[\"PasswordCreate\"]=\"PASSWORD_CREATE\";StytchEventType[\"PasswordAuthenticate\"]=\"PASSWORD_AUTHENTICATE\";StytchEventType[\"PasswordResetByEmailStart\"]=\"PASSWORD_RESET_BY_EMAIL_START\";StytchEventType[\"PasswordResetByEmail\"]=\"PASSWORD_RESET_BY_EMAIL\";StytchEventType[\"PasskeyRegister\"]=\"PASSKEY_REGISTER\";StytchEventType[\"PasskeyAuthenticate\"]=\"PASSKEY_AUTHENTICATE\";StytchEventType[\"PasskeySkip\"]=\"PASSKEY_SKIP\";StytchEventType[\"PasskeyDone\"]=\"PASSKEY_DONE\";StytchEventType[\"B2BMagicLinkEmailLoginOrSignup\"]=\"B2B_MAGIC_LINK_EMAIL_LOGIN_OR_SIGNUP\";StytchEventType[\"B2BMagicLinkAuthenticate\"]=\"B2B_MAGIC_LINK_AUTHENTICATE\";StytchEventType[\"B2BMagicLinkEmailDiscoverySend\"]=\"B2B_MAGIC_LINK_EMAIL_DISCOVERY_SEND\";StytchEventType[\"B2BMagicLinkDiscoveryAuthenticate\"]=\"B2B_MAGIC_LINK_DISCOVERY_AUTHENTICATE\";StytchEventType[\"B2BSSOStart\"]=\"B2B_SSO_START\";StytchEventType[\"B2BSSOAuthenticate\"]=\"B2B_SSO_AUTHENTICATE\";StytchEventType[\"B2BOAuthAuthenticate\"]=\"B2B_OAUTH_AUTHENTICATE\";StytchEventType[\"B2BOAuthDiscoveryAuthenticate\"]=\"B2B_OAUTH_DISCOVERY_AUTHENTICATE\";StytchEventType[\"B2BDiscoveryOrganizationsCreate\"]=\"B2B_DISCOVERY_ORGANIZATIONS_CREATE\";StytchEventType[\"B2BDiscoveryIntermediateSessionExchange\"]=\"B2B_DISCOVERY_INTERMEDIATE_SESSION_EXCHANGE\";StytchEventType[\"B2BPasswordAuthenticate\"]=\"B2B_PASSWORD_AUTHENTICATE\";StytchEventType[\"B2BPasswordResetByEmailStart\"]=\"B2B_PASSWORD_RESET_BY_EMAIL_START\";StytchEventType[\"B2BPasswordResetByEmail\"]=\"B2B_PASSWORD_RESET_BY_EMAIL\";StytchEventType[\"B2BPasswordResetBySession\"]=\"B2B_PASSWORD_RESET_BY_SESSION\";StytchEventType[\"B2BSMSOTPSend\"]=\"B2B_SMS_OTP_SEND\";StytchEventType[\"B2BSMSOTPAuthenticate\"]=\"B2B_SMS_OTP_AUTHENTICATE\";StytchEventType[\"B2BTOTPCreate\"]=\"B2B_TOTP_CREATE\";StytchEventType[\"B2BTOTPAuthenticate\"]=\"B2B_TOTP_AUTHENTICATE\";StytchEventType[\"B2BRecoveryCodesRecover\"]=\"B2B_RECOVERY_CODES_RECOVER\";})(StytchEventType||(StytchEventType={}));var RNUIProducts;(function(RNUIProducts){RNUIProducts[RNUIProducts[\"emailMagicLinks\"]=0]=\"emailMagicLinks\";RNUIProducts[RNUIProducts[\"oauth\"]=1]=\"oauth\";RNUIProducts[RNUIProducts[\"otp\"]=2]=\"otp\";RNUIProducts[RNUIProducts[\"passwords\"]=3]=\"passwords\";})(RNUIProducts||(RNUIProducts={}));var SDKAPIUnreachableError=/*#__PURE__*/function(_Error){_inherits$1(SDKAPIUnreachableError,_Error);function SDKAPIUnreachableError(message,details){var _this;_classCallCheck$1(this,SDKAPIUnreachableError);_this=_callSuper$1(this,SDKAPIUnreachableError,[message+'\\n'+details]);_this.message=message+'\\n'+details;_this.name='SDKAPIUnreachableError';_this.details=details;Object.setPrototypeOf(_assertThisInitialized$1(_this),SDKAPIUnreachableError.prototype);return _this;}return _createClass$1(SDKAPIUnreachableError);}(/*#__PURE__*/_wrapNativeSuper$1(Error));var StytchSDKUsageError=/*#__PURE__*/function(_Error2){_inherits$1(StytchSDKUsageError,_Error2);function StytchSDKUsageError(methodName,message){var _this2;_classCallCheck$1(this,StytchSDKUsageError);_this2=_callSuper$1(this,StytchSDKUsageError);_this2.name='StytchSDKUsageError';_this2.message=\"Invalid call to \".concat(methodName,\"\\n\")+message;return _this2;}return _createClass$1(StytchSDKUsageError);}(/*#__PURE__*/_wrapNativeSuper$1(Error));var StytchSDKSchemaError=/*#__PURE__*/function(_Error3){_inherits$1(StytchSDKSchemaError,_Error3);function StytchSDKSchemaError(schemaError){var _this3;_classCallCheck$1(this,StytchSDKSchemaError);var _a;_this3=_callSuper$1(this,StytchSDKSchemaError);_this3.name='StytchSDKSchemaError';var messages=(_a=schemaError.body)===null||_a===void 0?void 0:_a.map(function(err){return\"\".concat(err.dataPath,\": \").concat(err.message);}).join('\\n');_this3.message=\"[400] Request does not match expected schema\\n\".concat(messages);return _this3;}return _createClass$1(StytchSDKSchemaError);}(/*#__PURE__*/_wrapNativeSuper$1(Error));var StytchSDKAPIError=/*#__PURE__*/function(_Error4){_inherits$1(StytchSDKAPIError,_Error4);function StytchSDKAPIError(details){var _this4;_classCallCheck$1(this,StytchSDKAPIError);_this4=_callSuper$1(this,StytchSDKAPIError);_this4.name='StytchSDKAPIError';var status_code=details.status_code,error_type=details.error_type,error_message=details.error_message,error_url=details.error_url,request_id=details.request_id;_this4.error_type=error_type;_this4.error_message=error_message;_this4.error_url=error_url;_this4.request_id=request_id;_this4.status_code=status_code;_this4.message=\"[\".concat(status_code,\"] \").concat(error_type,\"\\n\")+\"\".concat(error_message,\"\\n\")+\"See \".concat(error_url,\" for more information.\\n\")+(request_id?\"request_id: \".concat(request_id,\"\\n\"):'');return _this4;}return _createClass$1(StytchSDKAPIError);}(/*#__PURE__*/_wrapNativeSuper$1(Error));var UNRECOVERABLE_ERROR_TYPES=['unauthorized_credentials','user_unauthenticated','invalid_secret_authentication','session_not_found'];var StytchError=/*#__PURE__*/function(_Error5){_inherits$1(StytchError,_Error5);function StytchError(name,message){var _this5;_classCallCheck$1(this,StytchError);_this5=_callSuper$1(this,StytchError,[message]);_this5.name=name;return _this5;}return _createClass$1(StytchError);}(/*#__PURE__*/_wrapNativeSuper$1(Error));var StytchAPIUnreachableError=/*#__PURE__*/function(_StytchError){_inherits$1(StytchAPIUnreachableError,_StytchError);function StytchAPIUnreachableError(details){var _this6;_classCallCheck$1(this,StytchAPIUnreachableError);_this6=_callSuper$1(this,StytchAPIUnreachableError,['StytchAPIUnreachableError',details]);Object.setPrototypeOf(_assertThisInitialized$1(_this6),StytchAPIUnreachableError.prototype);return _this6;}return _createClass$1(StytchAPIUnreachableError);}(StytchError);var StytchAPISchemaError=/*#__PURE__*/function(_StytchError2){_inherits$1(StytchAPISchemaError,_StytchError2);function StytchAPISchemaError(schemaError){_classCallCheck$1(this,StytchAPISchemaError);var _a;var messages=(_a=schemaError.body)===null||_a===void 0?void 0:_a.map(function(err){return\"\".concat(err.dataPath,\": \").concat(err.message);}).join('\\n');return _callSuper$1(this,StytchAPISchemaError,['StytchAPISchemaError',\"Request does not match expected schema\\n\".concat(messages)]);}return _createClass$1(StytchAPISchemaError);}(StytchError);var StytchAPIError=/*#__PURE__*/function(_StytchError3){_inherits$1(StytchAPIError,_StytchError3);function StytchAPIError(details){var _this7;_classCallCheck$1(this,StytchAPIError);var status_code=details.status_code,error_type=details.error_type,error_message=details.error_message,error_url=details.error_url,request_id=details.request_id;_this7=_callSuper$1(this,StytchAPIError,['StytchAPIError',\"[\".concat(status_code,\"] \").concat(error_type,\"\\n\")+\"\".concat(error_message,\"\\n\")+\"See \".concat(error_url,\" for more information.\\n\")+(request_id?\"request_id: \".concat(request_id,\"\\n\"):'')]);_this7.error_type=error_type;_this7.error_message=error_message;_this7.error_url=error_url;_this7.request_id=request_id;_this7.status_code=status_code;return _this7;}return _createClass$1(StytchAPIError);}(StytchError);var StytchSDKError=/*#__PURE__*/function(_StytchError4){_inherits$1(StytchSDKError,_StytchError4);function StytchSDKError(name,description,options){var _this8;_classCallCheck$1(this,StytchSDKError);_this8=_callSuper$1(this,StytchSDKError,[name,description]);_this8.options=options;return _this8;}return _createClass$1(StytchSDKError);}(StytchError);var NoCurrentSessionError=/*#__PURE__*/function(_StytchSDKError){_inherits$1(NoCurrentSessionError,_StytchSDKError);function NoCurrentSessionError(){_classCallCheck$1(this,NoCurrentSessionError);return _callSuper$1(this,NoCurrentSessionError,['NoCurrentSessionError','There is no session currently available. Make sure the user is authenticated with a valid session.']);}return _createClass$1(NoCurrentSessionError);}(StytchSDKError);var InternalError=/*#__PURE__*/function(_StytchSDKError2){_inherits$1(InternalError,_StytchSDKError2);function InternalError(message){_classCallCheck$1(this,InternalError);return _callSuper$1(this,InternalError,['InternalError',message?message:'An internal error has occurred. Please contact Stytch if this occurs.']);}return _createClass$1(InternalError);}(StytchSDKError);var NoBiometricsRegistrationError=/*#__PURE__*/function(_StytchSDKError3){_inherits$1(NoBiometricsRegistrationError,_StytchSDKError3);function NoBiometricsRegistrationError(){_classCallCheck$1(this,NoBiometricsRegistrationError);return _callSuper$1(this,NoBiometricsRegistrationError,['NoBiometricsRegistrationError','There is no biometric registration available. Authenticate with another method and add a new biometric registration first.']);}return _createClass$1(NoBiometricsRegistrationError);}(StytchSDKError);var BiometricsUnavailableError=/*#__PURE__*/function(_StytchSDKError4){_inherits$1(BiometricsUnavailableError,_StytchSDKError4);function BiometricsUnavailableError(){_classCallCheck$1(this,BiometricsUnavailableError);return _callSuper$1(this,BiometricsUnavailableError,['BiometricsUnavailableError','Biometrics is not available on the device.']);}return _createClass$1(BiometricsUnavailableError);}(StytchSDKError);var KeyInvalidatedError=/*#__PURE__*/function(_StytchSDKError5){_inherits$1(KeyInvalidatedError,_StytchSDKError5);function KeyInvalidatedError(){_classCallCheck$1(this,KeyInvalidatedError);return _callSuper$1(this,KeyInvalidatedError,['KeyInvalidatedError','The biometrics enrollment on the device has changed.']);}return _createClass$1(KeyInvalidatedError);}(StytchSDKError);var KeystoreUnavailableError=/*#__PURE__*/function(_StytchSDKError6){_inherits$1(KeystoreUnavailableError,_StytchSDKError6);function KeystoreUnavailableError(){_classCallCheck$1(this,KeystoreUnavailableError);return _callSuper$1(this,KeystoreUnavailableError,['KeystoreUnavailableError','The Android keystore is unavailable on the device. Consider setting allowFallbackToCleartext to true.']);}return _createClass$1(KeystoreUnavailableError);}(StytchSDKError);var NoBiometricsEnrolledError=/*#__PURE__*/function(_StytchSDKError7){_inherits$1(NoBiometricsEnrolledError,_StytchSDKError7);function NoBiometricsEnrolledError(){_classCallCheck$1(this,NoBiometricsEnrolledError);return _callSuper$1(this,NoBiometricsEnrolledError,['NoBiometricsEnrolledError','There is no biometric factor enrolled on the device. Add a biometric factor in the device settings.']);}return _createClass$1(NoBiometricsEnrolledError);}(StytchSDKError);var UserCancellationError=/*#__PURE__*/function(_StytchSDKError8){_inherits$1(UserCancellationError,_StytchSDKError8);function UserCancellationError(){_classCallCheck$1(this,UserCancellationError);return _callSuper$1(this,UserCancellationError,['UserCancellationError','The user canceled the prompt. Ask the user to try again.']);}return _createClass$1(UserCancellationError);}(StytchSDKError);var UserLockedOutError=/*#__PURE__*/function(_StytchSDKError9){_inherits$1(UserLockedOutError,_StytchSDKError9);function UserLockedOutError(){_classCallCheck$1(this,UserLockedOutError);return _callSuper$1(this,UserLockedOutError,['UserLockedOutError','The user has been locked out due to too many failed attempts. Ask the user to try again later.']);}return _createClass$1(UserLockedOutError);}(StytchSDKError);var DeviceCredentialsNotAllowedError=/*#__PURE__*/function(_StytchSDKError10){_inherits$1(DeviceCredentialsNotAllowedError,_StytchSDKError10);function DeviceCredentialsNotAllowedError(){_classCallCheck$1(this,DeviceCredentialsNotAllowedError);return _callSuper$1(this,DeviceCredentialsNotAllowedError,['DeviceCredentialsNotAllowedError','The device credentials allowment is mismatched. Change the allowDeviceCredentials parameter to be the same in both the register and authenticate methods.']);}return _createClass$1(DeviceCredentialsNotAllowedError);}(StytchSDKError);var MissingGoogleClientIDError=/*#__PURE__*/function(_StytchSDKError11){_inherits$1(MissingGoogleClientIDError,_StytchSDKError11);function MissingGoogleClientIDError(){_classCallCheck$1(this,MissingGoogleClientIDError);return _callSuper$1(this,MissingGoogleClientIDError,['MissingGoogleClientIDError','No Google client ID was found in the project.']);}return _createClass$1(MissingGoogleClientIDError);}(StytchSDKError);var MissingPKCEError=/*#__PURE__*/function(_StytchSDKError12){_inherits$1(MissingPKCEError,_StytchSDKError12);function MissingPKCEError(){_classCallCheck$1(this,MissingPKCEError);return _callSuper$1(this,MissingPKCEError,['MissingPKCEError','Make sure this flow is completed on the same device on which it was started.']);}return _createClass$1(MissingPKCEError);}(StytchSDKError);var MissingAuthorizationCredentialIDTokenError=/*#__PURE__*/function(_StytchSDKError13){_inherits$1(MissingAuthorizationCredentialIDTokenError,_StytchSDKError13);function MissingAuthorizationCredentialIDTokenError(){_classCallCheck$1(this,MissingAuthorizationCredentialIDTokenError);return _callSuper$1(this,MissingAuthorizationCredentialIDTokenError,['MissingAuthorizationCredentialIDTokenError','The authorization credential is missing an ID token.']);}return _createClass$1(MissingAuthorizationCredentialIDTokenError);}(StytchSDKError);var InvalidAuthorizationCredentialError=/*#__PURE__*/function(_StytchSDKError14){_inherits$1(InvalidAuthorizationCredentialError,_StytchSDKError14);function InvalidAuthorizationCredentialError(){_classCallCheck$1(this,InvalidAuthorizationCredentialError);return _callSuper$1(this,InvalidAuthorizationCredentialError,['InvalidAuthorizationCredentialError','The authorization credential is invalid. Verify that OAuth is set up correctly in the developer console, and call the start flow method.']);}return _createClass$1(InvalidAuthorizationCredentialError);}(StytchSDKError);var NoCredentialsPresentError=/*#__PURE__*/function(_StytchSDKError15){_inherits$1(NoCredentialsPresentError,_StytchSDKError15);function NoCredentialsPresentError(){_classCallCheck$1(this,NoCredentialsPresentError);return _callSuper$1(this,NoCredentialsPresentError,['NoCredentialsPresentError','The user did not provide credentials for a Google OneTap attempt']);}return _createClass$1(NoCredentialsPresentError);}(StytchSDKError);var MissingPublicKeyError=/*#__PURE__*/function(_StytchSDKError16){_inherits$1(MissingPublicKeyError,_StytchSDKError16);function MissingPublicKeyError(){_classCallCheck$1(this,MissingPublicKeyError);return _callSuper$1(this,MissingPublicKeyError,['MissingPublicKeyError','Failed to retrieve the public key. Add a new biometric registration.']);}return _createClass$1(MissingPublicKeyError);}(StytchSDKError);var ChallengeSigningFailedError=/*#__PURE__*/function(_StytchSDKError17){_inherits$1(ChallengeSigningFailedError,_StytchSDKError17);function ChallengeSigningFailedError(){_classCallCheck$1(this,ChallengeSigningFailedError);return _callSuper$1(this,ChallengeSigningFailedError,['ChallengeSigningFailedError','Failed to sign the challenge with the key.']);}return _createClass$1(ChallengeSigningFailedError);}(StytchSDKError);var SDKNotConfiguredError=/*#__PURE__*/function(_StytchSDKError18){_inherits$1(SDKNotConfiguredError,_StytchSDKError18);function SDKNotConfiguredError(){_classCallCheck$1(this,SDKNotConfiguredError);return _callSuper$1(this,SDKNotConfiguredError,['SDKNotConfiguredError','Stytch client is not confiured. You must call the configure method before using the SDK']);}return _createClass$1(SDKNotConfiguredError);}(StytchSDKError);var FailedCodeChallengeError=/*#__PURE__*/function(_StytchSDKError19){_inherits$1(FailedCodeChallengeError,_StytchSDKError19);function FailedCodeChallengeError(){_classCallCheck$1(this,FailedCodeChallengeError);return _callSuper$1(this,FailedCodeChallengeError,['FailedCodeChallengeError','Failed to create a code challenge']);}return _createClass$1(FailedCodeChallengeError);}(StytchSDKError);var PasskeysUnsupportedError=/*#__PURE__*/function(_StytchSDKError20){_inherits$1(PasskeysUnsupportedError,_StytchSDKError20);function PasskeysUnsupportedError(){_classCallCheck$1(this,PasskeysUnsupportedError);return _callSuper$1(this,PasskeysUnsupportedError,['PasskeysUnsupportedError','Passkeys are not supported on this device']);}return _createClass$1(PasskeysUnsupportedError);}(StytchSDKError);var FailedToDecryptDataError=/*#__PURE__*/function(_StytchSDKError21){_inherits$1(FailedToDecryptDataError,_StytchSDKError21);function FailedToDecryptDataError(){_classCallCheck$1(this,FailedToDecryptDataError);return _callSuper$1(this,FailedToDecryptDataError,['FailedToDecryptDataError','Failed to decrypt user data']);}return _createClass$1(FailedToDecryptDataError);}(StytchSDKError);var BiometricsFailedError=/*#__PURE__*/function(_StytchSDKError22){_inherits$1(BiometricsFailedError,_StytchSDKError22);function BiometricsFailedError(){_classCallCheck$1(this,BiometricsFailedError);return _callSuper$1(this,BiometricsFailedError,['BiometricsFailedError','Biometric authentication failed']);}return _createClass$1(BiometricsFailedError);}(StytchSDKError);var InvalidStartUrlError=/*#__PURE__*/function(_StytchSDKError23){_inherits$1(InvalidStartUrlError,_StytchSDKError23);function InvalidStartUrlError(){_classCallCheck$1(this,InvalidStartUrlError);return _callSuper$1(this,InvalidStartUrlError,['InvalidStartUrlError','The start URL was invalid or improperly formatted.']);}return _createClass$1(InvalidStartUrlError);}(StytchSDKError);var InvalidRedirectSchemeError=/*#__PURE__*/function(_StytchSDKError24){_inherits$1(InvalidRedirectSchemeError,_StytchSDKError24);function InvalidRedirectSchemeError(){_classCallCheck$1(this,InvalidRedirectSchemeError);return _callSuper$1(this,InvalidRedirectSchemeError,['InvalidRedirectSchemeError','The scheme from the given redirect urls was invalid. Possible reasons include: nil scheme, non-custom scheme (using http or https), or differing schemes for login/signup urls.']);}return _createClass$1(InvalidRedirectSchemeError);}(StytchSDKError);var MissingUrlError=/*#__PURE__*/function(_StytchSDKError25){_inherits$1(MissingUrlError,_StytchSDKError25);function MissingUrlError(){_classCallCheck$1(this,MissingUrlError);return _callSuper$1(this,MissingUrlError,['MissingUrlError','The underlying web authentication service failed to return a URL.']);}return _createClass$1(MissingUrlError);}(StytchSDKError);var InvalidCredentialTypeError=/*#__PURE__*/function(_StytchSDKError26){_inherits$1(InvalidCredentialTypeError,_StytchSDKError26);function InvalidCredentialTypeError(){_classCallCheck$1(this,InvalidCredentialTypeError);return _callSuper$1(this,InvalidCredentialTypeError,['InvalidCredentialTypeError','The public key credential type was not of the expected type.']);}return _createClass$1(InvalidCredentialTypeError);}(StytchSDKError);var MissingAttestationObjectError=/*#__PURE__*/function(_StytchSDKError27){_inherits$1(MissingAttestationObjectError,_StytchSDKError27);function MissingAttestationObjectError(){_classCallCheck$1(this,MissingAttestationObjectError);return _callSuper$1(this,MissingAttestationObjectError,['MissingAttestationObjectError','The public key credential is missing the attestation object.']);}return _createClass$1(MissingAttestationObjectError);}(StytchSDKError);var JSONDataNotConvertibleToStringError=/*#__PURE__*/function(_StytchSDKError28){_inherits$1(JSONDataNotConvertibleToStringError,_StytchSDKError28);function JSONDataNotConvertibleToStringError(){_classCallCheck$1(this,JSONDataNotConvertibleToStringError);return _callSuper$1(this,JSONDataNotConvertibleToStringError,['JSONDataNotConvertibleToStringError','JSON data unable to be converted to String type.']);}return _createClass$1(JSONDataNotConvertibleToStringError);}(StytchSDKError);var RandomNumberGenerationFailed=/*#__PURE__*/function(_StytchSDKError29){_inherits$1(RandomNumberGenerationFailed,_StytchSDKError29);function RandomNumberGenerationFailed(){_classCallCheck$1(this,RandomNumberGenerationFailed);return _callSuper$1(this,RandomNumberGenerationFailed,['RandomNumberGenerationFailed','Random number generation failed']);}return _createClass$1(RandomNumberGenerationFailed);}(StytchSDKError);var PasskeysInvalidEncoding=/*#__PURE__*/function(_StytchSDKError30){_inherits$1(PasskeysInvalidEncoding,_StytchSDKError30);function PasskeysInvalidEncoding(){_classCallCheck$1(this,PasskeysInvalidEncoding);return _callSuper$1(this,PasskeysInvalidEncoding,['PasskeysInvalidEncoding','Invalid passkey encoding']);}return _createClass$1(PasskeysInvalidEncoding);}(StytchSDKError);var PasskeysMisconfigured=/*#__PURE__*/function(_StytchSDKError31){_inherits$1(PasskeysMisconfigured,_StytchSDKError31);function PasskeysMisconfigured(){_classCallCheck$1(this,PasskeysMisconfigured);return _callSuper$1(this,PasskeysMisconfigured,['PasskeysMisconfigured','Passkeys are misconfigured. Verify that you have added the correct associated domain for your application, and that the signing information is correct.']);}return _createClass$1(PasskeysMisconfigured);}(StytchSDKError);var SignInWithAppleMisconfigured=/*#__PURE__*/function(_StytchSDKError32){_inherits$1(SignInWithAppleMisconfigured,_StytchSDKError32);function SignInWithAppleMisconfigured(){_classCallCheck$1(this,SignInWithAppleMisconfigured);return _callSuper$1(this,SignInWithAppleMisconfigured,['SignInWithAppleMisconfigured','Sign In With Apple is misconfigured. Verify that you have correctly configured Apple OAuth in the Stytch Dashboard and added the Sign In With Apple capability to your project.']);}return _createClass$1(SignInWithAppleMisconfigured);}(StytchSDKError);function errorToStytchError(error){switch(error.message){case'internal_error':return new InternalError(error.message);case'no_current_session':return new NoCurrentSessionError();case'no_biometrics_registration':return new NoBiometricsRegistrationError();case'biometrics_unavailable':return new BiometricsUnavailableError();case'key_invalidated':return new KeyInvalidatedError();case'device_hardware_error':return new BiometricsUnavailableError();case'biometrics_not_available':return new BiometricsUnavailableError();case'no_biometrics_enrolled':return new NoBiometricsEnrolledError();case'keystore_unavailable':return new KeystoreUnavailableError();case'no_biometric_key':return new KeyInvalidatedError();case'device_credentials_not_allowed':return new DeviceCredentialsNotAllowedError();case'user_cancellation':return new UserCancellationError();case'user_locked_out':return new UserLockedOutError();case'google_onetap_missing_id_token':return new MissingAuthorizationCredentialIDTokenError();case'google_onetap_missing_member':return new InvalidAuthorizationCredentialError();case'oauth_apple_missing_id_token':return new MissingAuthorizationCredentialIDTokenError();case'oauth_apple_credential_invalid':return new InvalidAuthorizationCredentialError();case'missing_public_key':return new MissingPublicKeyError();case'challenge_signing_failed':return new ChallengeSigningFailedError();case'missing_authorization_credential_id_token':return new MissingAuthorizationCredentialIDTokenError();case'invalid_authorization_credential':return new InvalidAuthorizationCredentialError();case'no_credentials_present':return new NoCredentialsPresentError();case'sdk_not_configured':return new SDKNotConfiguredError();case'failed_code_challenge':return new FailedCodeChallengeError();case'passkeys_unsupported':return new PasskeysUnsupportedError();case'failed_to_decrypt_data':return new FailedToDecryptDataError();case'biometrics_failed':return new BiometricsFailedError();case'invalid_start_url':return new InvalidStartUrlError();case'invalid_redirect_scheme':return new InvalidRedirectSchemeError();case'missing_url':return new MissingUrlError();case'invalid_credential_type':return new InvalidCredentialTypeError();case'missing_attestation_object':return new MissingAttestationObjectError();case'json_data_not_convertible_to_string':return new JSONDataNotConvertibleToStringError();case'random_number_generation_failed':return new RandomNumberGenerationFailed();case'passkeys_invalid_encoding':return new PasskeysInvalidEncoding();case'passkeys_misconfigured':return new PasskeysMisconfigured();case'signinwithapple_misconfigured':return new SignInWithAppleMisconfigured();default:return new StytchSDKError(error.name,error.message);}}var B2BProducts;(function(B2BProducts){B2BProducts[\"emailMagicLinks\"]=\"emailMagicLinks\";B2BProducts[\"sso\"]=\"sso\";B2BProducts[\"passwords\"]=\"passwords\";B2BProducts[\"oauth\"]=\"oauth\";})(B2BProducts||(B2BProducts={}));var AuthFlowType;(function(AuthFlowType){AuthFlowType[\"Discovery\"]=\"Discovery\";AuthFlowType[\"Organization\"]=\"Organization\";AuthFlowType[\"PasswordReset\"]=\"PasswordReset\";})(AuthFlowType||(AuthFlowType={}));var B2BMFAProducts;(function(B2BMFAProducts){B2BMFAProducts[\"smsOtp\"]=\"smsOtp\";B2BMFAProducts[\"totp\"]=\"totp\";})(B2BMFAProducts||(B2BMFAProducts={}));var B2BOAuthProviders;(function(B2BOAuthProviders){B2BOAuthProviders[\"Google\"]=\"google\";B2BOAuthProviders[\"Microsoft\"]=\"microsoft\";})(B2BOAuthProviders||(B2BOAuthProviders={}));function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _iterableToArrayLimit(r,l){var t=null==r?null:\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l);else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r;}finally{try{if(!f&&null!=t[\"return\"]&&(u=t[\"return\"](),Object(u)!==u))return;}finally{if(o)throw n;}}return a;}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}function _typeof(o){\"@babel/helpers - typeof\";return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o;},_typeof(o);}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return e;};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value;},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",c=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e];}try{define({},\"\");}catch(t){define=function define(t,e,r){return t[e]=r;};}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,\"_invoke\",{value:makeInvokeMethod(t,r,c)}),a;}function tryCatch(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)};}catch(t){return{type:\"throw\",arg:t};}}e.wrap=wrap;var h=\"suspendedStart\",l=\"suspendedYield\",f=\"executing\",s=\"completed\",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this;});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){[\"next\",\"throw\",\"return\"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t);});});}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if(\"throw\"!==c.type){var u=c.arg,h=u.value;return h&&\"object\"==_typeof(h)&&n.call(h,\"__await\")?e.resolve(h.__await).then(function(t){invoke(\"next\",t,i,a);},function(t){invoke(\"throw\",t,i,a);}):e.resolve(h).then(function(t){u.value=t,i(u);},function(t){return invoke(\"throw\",t,i,a);});}a(c.arg);}var r;o(this,\"_invoke\",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r);});}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error(\"Generator is already running\");if(o===s){if(\"throw\"===i)throw a;return{value:t,done:!0};}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u;}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg);}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=f;var p=tryCatch(e,r,n);if(\"normal\"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done};}\"throw\"===p.type&&(o=s,n.method=\"throw\",n.arg=p.arg);}};}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator[\"return\"]&&(r.method=\"return\",r.arg=t,maybeInvokeDelegate(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),y;var i=tryCatch(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,y):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,y);}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function resetTryEntry(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e;}function Context(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(pushTryEntry,this),this.reset(!0);}function values(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next;};return i.next=i;}}throw new TypeError(_typeof(e)+\" is not iterable\");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,\"constructor\",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,\"constructor\",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||\"GeneratorFunction\"===(e.displayName||e.name));},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,\"GeneratorFunction\")),t.prototype=Object.create(g),t;},e.awrap=function(t){return{__await:t};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this;}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next();});},defineIteratorMethods(g),define(g,u,\"Generator\"),define(g,a,function(){return this;}),define(g,\"toString\",function(){return\"[object Generator]\";}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next;}return next.done=!0,next;};},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t);},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval;},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type=\"throw\",a.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o;}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if(\"root\"===i.tryLoc)return handle(\"end\");if(i.tryLoc<=this.prev){var c=n.call(i,\"catchLoc\"),u=n.call(i,\"finallyLoc\");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break;}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,y):this.complete(a);},complete:function complete(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),y;},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y;}},\"catch\":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;resetTryEntry(r);}return o;}}throw new Error(\"illegal catch attempt\");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),y;}},e;}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,\"prototype\",{writable:false});return Constructor;}function _toPropertyKey(t){var i=_toPrimitive(t,\"string\");return\"symbol\"==_typeof(i)?i:String(i);}function _toPrimitive(t,r){if(\"object\"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r);if(\"object\"!=_typeof(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return String(t);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call;}else if(call!==void 0){throw new TypeError(\"Derived constructors may only return object or undefined\");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,\"prototype\",{writable:false});if(superClass)_setPrototypeOf(subClass,superClass);}function _wrapNativeSuper(Class){var _cache=typeof Map===\"function\"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!==\"function\"){throw new TypeError(\"Super expression must either be null or a function\");}if(typeof _cache!==\"undefined\"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o))();return r&&_setPrototypeOf(p,r.prototype),p;}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}function _isNativeFunction(fn){try{return Function.toString.call(fn).indexOf(\"[native code]\")!==-1;}catch(e){return typeof fn===\"function\";}}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}var TEST_API_URL='https://test.stytch.com';var LIVE_API_URL='https://api.stytch.com';var CLIENTSIDE_SERVICES_IFRAME_URL='https://js.stytch.com/clientside-services/index.html';var STYTCH_WEB_BACKEND_URL=\"https://web.stytch.com\";var STYTCH_DFP_BACKEND_URL=\"https://telemetry.stytch.com\";var STYTCH_DFP_CDN_URL=\"https://elements.stytch.com\";var GOOGLE_ONE_TAP_HOST='https://accounts.google.com/gsi';var GOOGLE_ONE_TAP_SCRIPT_URL=\"\".concat(GOOGLE_ONE_TAP_HOST,\"/client\");var DEFAULT_SESSION_DURATION_MINUTES=30;var DEFAULT_OTP_EXPIRATION_MINUTES=5;function __rest(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols===\"function\")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]];}return t;}function __awaiter$1(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator[\"throw\"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,[])).next());});}typeof SuppressedError===\"function\"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name=\"SuppressedError\",e.error=error,e.suppressed=suppressed,e;};var RetriableErrorType;(function(RetriableErrorType){RetriableErrorType[\"RequiredCatcha\"]=\"Catcha Required\";})(RetriableErrorType||(RetriableErrorType={}));var RetriableError=/*#__PURE__*/function(_Error){_inherits(RetriableError,_Error);function RetriableError(type){var _this;_classCallCheck(this,RetriableError);_this=_callSuper(this,RetriableError,[type]);_this.type=type;return _this;}return _createClass(RetriableError);}(/*#__PURE__*/_wrapNativeSuper(Error));function _retriableFetchSDK(_ref){var method=_ref.method,errorMessage=_ref.errorMessage,finalURL=_ref.finalURL,basicAuthHeader=_ref.basicAuthHeader,xSDKClientHeader=_ref.xSDKClientHeader,xSDKParentHostHeader=_ref.xSDKParentHostHeader,body=_ref.body,retryCallback=_ref.retryCallback;return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var req;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:req={method:method,errorMessage:errorMessage,finalURL:finalURL,basicAuthHeader:basicAuthHeader,xSDKClientHeader:xSDKClientHeader,xSDKParentHostHeader:xSDKParentHostHeader,body:body};_context.prev=1;_context.next=4;return baseFetchSDK(req);case 4:return _context.abrupt(\"return\",_context.sent);case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);if(!(_context.t0 instanceof RetriableError)){_context.next=16;break;}_context.next=12;return retryCallback(_context.t0,req);case 12:req=_context.sent;_context.next=15;return baseFetchSDK(req);case 15:return _context.abrupt(\"return\",_context.sent);case 16:throw _context.t0;case 17:case\"end\":return _context.stop();}},_callee,null,[[1,7]]);}));}function baseFetchSDK(_ref2){var method=_ref2.method,finalURL=_ref2.finalURL,basicAuthHeader=_ref2.basicAuthHeader,xSDKClientHeader=_ref2.xSDKClientHeader,xSDKParentHostHeader=_ref2.xSDKParentHostHeader,body=_ref2.body;var _a;return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var headers,fetchOpts,resp,_respData,respError,respData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:headers={Authorization:basicAuthHeader,'Content-Type':'application/json','X-SDK-Client':xSDKClientHeader};if(xSDKParentHostHeader){headers['X-SDK-Parent-Host']=xSDKParentHostHeader;}fetchOpts={method:method,headers:headers,body:body&&JSON.stringify(body)};_context2.prev=3;_context2.next=6;return fetch(finalURL,fetchOpts);case 6:resp=_context2.sent;_context2.next=14;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](3);if(!(_context2.t0.message==='Failed to fetch')){_context2.next=13;break;}throw new StytchAPIUnreachableError('Unable to contact the Stytch servers. Are you online?');case 13:throw _context2.t0;case 14:if(!(resp.status<=299)){_context2.next=25;break;}_context2.prev=15;_context2.next=18;return resp.json();case 18:_respData=_context2.sent;return _context2.abrupt(\"return\",_respData.data);case 22:_context2.prev=22;_context2.t1=_context2[\"catch\"](15);throw new StytchAPIUnreachableError('Invalid JSON response from the Stytch servers.');case 25:if(!(resp.status!==200&&((_a=resp.headers.get('content-type'))===null||_a===void 0?void 0:_a.includes('application/json')))){_context2.next=38;break;}_context2.prev=26;_context2.next=29;return resp.json();case 29:respError=_context2.sent;_context2.next=35;break;case 32:_context2.prev=32;_context2.t2=_context2[\"catch\"](26);throw new StytchAPIUnreachableError('Invalid or no response from server');case 35:if(!('body'in respError||'params'in respError||'query'in respError)){_context2.next=37;break;}throw new StytchAPISchemaError(respError);case 37:throw new StytchAPIError(respError);case 38:_context2.prev=38;_context2.next=41;return resp.text();case 41:respData=_context2.sent;_context2.next=47;break;case 44:_context2.prev=44;_context2.t3=_context2[\"catch\"](38);throw new StytchAPIUnreachableError('Invalid response from the Stytch servers.');case 47:if(!respData.includes('Captcha required')){_context2.next=49;break;}throw new RetriableError(RetriableErrorType.RequiredCatcha);case 49:throw new StytchAPIUnreachableError('Invalid response from the Stytch servers.');case 50:case\"end\":return _context2.stop();}},_callee2,null,[[3,9],[15,22],[26,32],[38,44]]);}));}var getRandomValues;var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=='undefined'&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=='undefined'&&typeof msCrypto.getRandomValues==='function'&&msCrypto.getRandomValues.bind(msCrypto);if(!getRandomValues){throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');}}return getRandomValues(rnds8);}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(uuid){return typeof uuid==='string'&&REGEX.test(uuid);}var byteToHex=[];for(var i$3=0;i$3<256;++i$3){byteToHex.push((i$3+0x100).toString(16).substr(1));}function stringify(arr){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+'-'+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+'-'+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+'-'+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+'-'+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!validate$1(uuid)){throw TypeError('Stringified UUID is invalid');}return uuid;}function v4(options,buf,offset){options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&0x0f|0x40;rnds[8]=rnds[8]&0x3f|0x80;return stringify(rnds);}var ModulePromiseCache={};function loadESModule(url,moduleFromGlobalScope){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(ModulePromiseCache[url]!==undefined)){_context3.next=2;break;}return _context3.abrupt(\"return\",ModulePromiseCache[url]);case 2:ModulePromiseCache[url]=loadESModuleFromNetwork(url,moduleFromGlobalScope);return _context3.abrupt(\"return\",ModulePromiseCache[url]);case 4:case\"end\":return _context3.stop();}},_callee3);}));}function loadESModuleFromNetwork(url,moduleFromGlobalScope){return new Promise(function(resolve,reject){var maybeScript=findScript(url);if(maybeScript&&maybeScript.dataset.loaded==='true'){try{resolve(moduleFromGlobalScope());}catch(err){return reject(new Error(\"\".concat(url,\" already loaded, but module was not found in global scope: \").concat(err)));}}var script=createScript(url);script.addEventListener('load',function(){script.dataset.loaded='true';try{resolve(moduleFromGlobalScope());}catch(err){reject(new Error(\"\".concat(url,\" was loaded, but module was not found in global scope: \").concat(err)));}});script.addEventListener('error',function(err){reject(new Error(\"\".concat(url,\" could not be loaded: \").concat(err)));});});}var findScriptsInDom=function findScriptsInDom(url){return document.querySelectorAll(\"script[src=\\\"\".concat(url,\"\\\"]\"));};function findScript(url){var scripts=findScriptsInDom(url);if(scripts[0]){return scripts[0];}}function createScript(url){var script=document.createElement('script');script.setAttribute('src',url);script.setAttribute('async','true');script.setAttribute('defer','true');document.head.appendChild(script);return script;}var STYTCH_BADGE=['[Stytch]'];var DEBUG=false;var logger={debug:function debug(){return DEBUG;},log:function log(){var _console;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return(_console=console).log.apply(_console,STYTCH_BADGE.concat(args));},warn:function warn(){var _console2;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return(_console2=console).warn.apply(_console2,STYTCH_BADGE.concat(args));},error:function error(){var _console3;for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return(_console3=console).error.apply(_console3,STYTCH_BADGE.concat(args));}};var trailer=\"\\nYou can find your public token at https://stytch.com/dashboard/api-keys.\";var checkPublicToken=function checkPublicToken(publicToken){if(typeof publicToken!=='string'){logger.warn(\"Public token is malformed. Expected a string, got \".concat(_typeof(publicToken),\".\").concat(trailer));}else if(publicToken===''){logger.warn(\"Public token is malformed. Expected \\\"public-token-...\\\", got an empty string.\".concat(trailer));}else if(!publicToken.startsWith('public-token-')){logger.warn(\"Public token is malformed. Expected \\\"public-token-...\\\", got \".concat(publicToken,\".\").concat(trailer));}};var checkNotSSR=function checkNotSSR(clientName){var codeSample=clientName==='StytchUIClient'?\"import { createStytchUIClient } from '@stytch/nextjs/ui';\\n    \\nconst stytch = createStytchUIClient('public-token-...');\\n\":\"import { createStytchHeadlessClient } from '@stytch/nextjs/ui';\\n    \\nconst stytch = createStytchHeadlessClient('public-token-...');\\n\";if(typeof window==='undefined'){throw new Error(\"The \".concat(clientName,\" is not compatible with server-side environments.\\nIf using nextjs, use the create\").concat(clientName,\" method instead.\\n```\\n\").concat(codeSample,\"\\n```\\n\"));}};var COUNTRIES_LIST={US:'1',AX:'358',AS:'1684',AG:'1268',AI:'1264',AR:'54',AT:'43',AU:'61',BE:'32',BJ:'229',BO:'591',BR:'55',IO:'246',BN:'673',BG:'359',BF:'226',CM:'237',CA:'1',BQ:'599',CF:'236',CL:'56',CX:'61',CC:'61',CO:'57',CD:'243',CK:'682',CR:'506',HR:'385',CZ:'420',DK:'45',DO:'1829',EC:'593',SV:'503',EE:'372',SZ:'268',FK:'500',FI:'358',FR:'33',GF:'594',DE:'49',GH:'233',GR:'30',GD:'1473',GT:'502',GG:'44',GW:'245',GY:'592',HU:'36',IS:'354',IN:'91',IE:'353',IM:'44',IT:'39',JM:'1876',JP:'81',KZ:'7',KE:'254',KI:'686',KR:'82',LV:'371',LT:'370',LU:'352',MO:'853',MT:'356',MH:'692',MR:'222',MU:'230',YT:'262',MX:'52',MC:'377',ME:'382',NR:'674',NL:'31',NZ:'64',NI:'505',NF:'672',NO:'47',PA:'507',PY:'595',PE:'51',PN:'870',PL:'48',PT:'351',PR:'1',RO:'40',BL:'590',SH:'290',KN:'1869',LC:'1758',MF:'590',PM:'508',SM:'378',ST:'239',SC:'248',SX:'599',SK:'421',SI:'386',ZA:'27',SS:'211',ES:'34',SR:'597',SJ:'47',SE:'46',CH:'41',TW:'886',TZ:'255',TK:'690',TO:'676',TT:'1868',TR:'90',UA:'380',GB:'44',UM:'1',UY:'598',VA:'379',EH:'212'};var isTestPublicToken=function isTestPublicToken(token){return token.includes('public-token-test');};var createEventId=function createEventId(){return\"event-id-\".concat(v4());};var createAppSessionId=function createAppSessionId(){return\"app-session-id-\".concat(v4());};var createPersistentId=function createPersistentId(){return\"persistent-id-\".concat(v4());};var validate=function validate(methodName){var validator={isObject:function isObject(fieldName,value){var isObject=_typeof(value)==='object'&&!Array.isArray(value)&&value!==null;if(!isObject){throw new StytchSDKUsageError(methodName,fieldName+' must be an object.');}return validator;},isOptionalObject:function isOptionalObject(fieldName,value){if(typeof value==='undefined'){return validator;}return validator.isObject(fieldName,value);},isString:function isString(fieldName,value){if(typeof value!=='string'){throw new StytchSDKUsageError(methodName,fieldName+' must be a string.');}return validator;},isOptionalString:function isOptionalString(fieldName,value){if(typeof value==='undefined'){return validator;}return validator.isString(fieldName,value);},isStringArray:function isStringArray(fieldName,value){if(!Array.isArray(value)){throw new StytchSDKUsageError(methodName,fieldName+' must be an array of strings.');}var _iterator=_createForOfIteratorHelper(value),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var str=_step.value;if(typeof str!=='string'){throw new StytchSDKUsageError(methodName,fieldName+' must be an array of strings.');}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return validator;},isOptionalStringArray:function isOptionalStringArray(fieldName,value){if(typeof value==='undefined'){return validator;}return validator.isStringArray(fieldName,value);},isNumber:function isNumber(fieldName,value){if(typeof value!=='number'){throw new StytchSDKUsageError(methodName,fieldName+' must be a number.');}return validator;},isOptionalNumber:function isOptionalNumber(fieldName,value){if(typeof value==='undefined'){return validator;}return validator.isNumber(fieldName,value);},isBoolean:function isBoolean(fieldName,value){if(typeof value!=='boolean'){throw new StytchSDKUsageError(methodName,fieldName+' must be a boolean.');}return validator;},isOptionalBoolean:function isOptionalBoolean(fieldName,value){if(typeof value==='undefined'){return validator;}return validator.isBoolean(fieldName,value);}};return validator;};var removeResponseCommon=function removeResponseCommon(_a){var rest=__rest(_a,[\"request_id\",\"status_code\"]);return rest;};var omitUser=function omitUser(resp){var rest=__rest(resp,[\"__user\"]);return rest;};var loadTelemetryJS=function loadTelemetryJS(){return loadESModule(\"\".concat(STYTCH_DFP_CDN_URL,\"/telemetry.js\"),function(){return window.GetTelemetryID;});};var DFPProtectedAuthProvider=/*#__PURE__*/_createClass(function DFPProtectedAuthProvider(publicToken,dfpBackendURL,bootstrapPromise){var _this2=this;var executeRecaptcha=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(){return Promise.resolve(undefined);};_classCallCheck(this,DFPProtectedAuthProvider);this.bootstrapPromise=bootstrapPromise;this.isEnabled=function(){return __awaiter$1(_this2,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt(\"return\",this.state.then(function(state){return state.enabled;}));case 1:case\"end\":return _context4.stop();}},_callee4,this);}));};this.getTelemetryID=function(){return __awaiter$1(_this2,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var _yield$this$state,publicToken,enabled,dfpBackendURL;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.state;case 2:_yield$this$state=_context5.sent;publicToken=_yield$this$state.publicToken;enabled=_yield$this$state.enabled;dfpBackendURL=_yield$this$state.dfpBackendURL;if(enabled){_context5.next=8;break;}return _context5.abrupt(\"return\",undefined);case 8:_context5.next=10;return window.GetTelemetryID(publicToken,\"\".concat(dfpBackendURL,\"/submit\"));case 10:return _context5.abrupt(\"return\",_context5.sent);case 11:case\"end\":return _context5.stop();}},_callee5,this);}));};this.getDFPTelemetryIDAndCaptcha=function(){return __awaiter$1(_this2,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var _yield$this$state2,enabled,executeRecaptcha,mode,dfp_telemetry_id,captcha_token;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.state;case 2:_yield$this$state2=_context6.sent;enabled=_yield$this$state2.enabled;executeRecaptcha=_yield$this$state2.executeRecaptcha;mode=_yield$this$state2.mode;dfp_telemetry_id=undefined;captcha_token=undefined;if(enabled){_context6.next=12;break;}_context6.next=11;return executeRecaptcha();case 11:captcha_token=_context6.sent;case 12:if(!(mode==='DECISIONING')){_context6.next=18;break;}_context6.next=15;return this.getTelemetryID();case 15:dfp_telemetry_id=_context6.sent;_context6.next=25;break;case 18:if(!(mode==='OBSERVATION')){_context6.next=25;break;}_context6.next=21;return this.getTelemetryID();case 21:dfp_telemetry_id=_context6.sent;_context6.next=24;return executeRecaptcha();case 24:captcha_token=_context6.sent;case 25:return _context6.abrupt(\"return\",{dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token});case 26:case\"end\":return _context6.stop();}},_callee6,this);}));};this.retryWithCaptchaAndDFP=function(e,req){return __awaiter$1(_this2,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var _yield$this$state3,enabled,executeRecaptcha;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.state;case 2:_yield$this$state3=_context7.sent;enabled=_yield$this$state3.enabled;executeRecaptcha=_yield$this$state3.executeRecaptcha;if(!(e.type===RetriableErrorType.RequiredCatcha&&enabled)){_context7.next=14;break;}if(!req.body){_context7.next=13;break;}_context7.next=9;return this.getTelemetryID();case 9:req.body.dfp_telemetry_id=_context7.sent;_context7.next=12;return executeRecaptcha();case 12:req.body.captcha_token=_context7.sent;case 13:return _context7.abrupt(\"return\",req);case 14:throw new Error('Unable to query captcha and/or dfp telemetry ID');case 15:case\"end\":return _context7.stop();}},_callee7,this);}));};this.state=bootstrapPromise.then(function(bootstrapData){return __awaiter$1(_this2,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(){return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:if(bootstrapData.runDFPProtectedAuth){_context8.next=2;break;}return _context8.abrupt(\"return\",{publicToken:publicToken,dfpBackendURL:dfpBackendURL,enabled:false,loaded:false,executeRecaptcha:executeRecaptcha});case 2:_context8.next=4;return loadTelemetryJS();case 4:return _context8.abrupt(\"return\",{publicToken:publicToken,dfpBackendURL:dfpBackendURL,enabled:true,mode:bootstrapData.dfpProtectedAuthMode||'OBSERVATION',loaded:true,executeRecaptcha:executeRecaptcha});case 5:case\"end\":return _context8.stop();}},_callee8);}));});});var DisabledDFPProtectedAuthProvider=function DisabledDFPProtectedAuthProvider(){return{isEnabled:function isEnabled(){return __awaiter$1(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(){return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt(\"return\",false);case 1:case\"end\":return _context9.stop();}},_callee9);}));},getTelemetryID:function getTelemetryID(){return __awaiter$1(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(){return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:return _context10.abrupt(\"return\",undefined);case 1:case\"end\":return _context10.stop();}},_callee10);}));},getDFPTelemetryIDAndCaptcha:function getDFPTelemetryIDAndCaptcha(){return __awaiter$1(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(){return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:return _context11.abrupt(\"return\",{dfp_telemetry_id:undefined,captcha_token:undefined});case 1:case\"end\":return _context11.stop();}},_callee11);}));},retryWithCaptchaAndDFP:function retryWithCaptchaAndDFP(){return __awaiter$1(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(){return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:throw new Error('DFP protected auth is disabled');case 1:case\"end\":return _context12.stop();}},_callee12);}));}};};var ErrorMarshaller=/*#__PURE__*/function(){function ErrorMarshaller(){_classCallCheck(this,ErrorMarshaller);}_createClass(ErrorMarshaller,null,[{key:\"marshall\",value:function marshall(error){return Object.assign(Object.assign({},error),{name:error.name,message:error.message,stack:error.stack});}},{key:\"inflate\",value:function inflate(ErrorClass,ErrorData){var err=new ErrorClass(ErrorData);Object.assign(err,ErrorData);Object.setPrototypeOf(err,ErrorClass.prototype);return err;}},{key:\"unmarshall\",value:function unmarshall(error){if('name'in error){switch(error.name){case'SDKAPIUnreachableError':return ErrorMarshaller.inflate(SDKAPIUnreachableError,error);case'StytchSDKSchemaError':return ErrorMarshaller.inflate(StytchSDKSchemaError,error);case'StytchAPIUnreachableError':return ErrorMarshaller.inflate(StytchAPIUnreachableError,error);case'StytchAPISchemaError':return ErrorMarshaller.inflate(StytchAPISchemaError,error);case'StytchSDKAPIError':return ErrorMarshaller.inflate(StytchSDKAPIError,error);case'StytchAPIError':return ErrorMarshaller.inflate(StytchAPIError,error);case'TypeError':return ErrorMarshaller.inflate(TypeError,error);case'SyntaxError':return ErrorMarshaller.inflate(SyntaxError,error);case'ReferenceError':return ErrorMarshaller.inflate(ReferenceError,error);case'RangeError':return ErrorMarshaller.inflate(RangeError,error);case'EvalError':return ErrorMarshaller.inflate(EvalError,error);case'URIError':return ErrorMarshaller.inflate(URIError,error);}}return ErrorMarshaller.inflate(Error,error);}}]);return ErrorMarshaller;}();var DEFAULT_MAX_BATCH_SIZE=15;var DEFAULT_INTERVAL_DURATION_MS=800;var EventLogger=/*#__PURE__*/function(){function EventLogger(args){_classCallCheck(this,EventLogger);this.maxBatchSize=args.maxBatchSize;this.logEventURL=args.logEventURL;setInterval(this.flush.bind(this),args.intervalDurationMs);this.batch=[];}_createClass(EventLogger,[{key:\"logEvent\",value:function logEvent(telemetry,event){this.batch.push({telemetry:telemetry,event:event});if(this.batch.length>=this.maxBatchSize){this.flush();}}},{key:\"flush\",value:function flush(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee13(){var batchToSubmit;return _regeneratorRuntime().wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:if(this.batch.length){_context13.next=2;break;}return _context13.abrupt(\"return\");case 2:batchToSubmit=this.batch;this.batch=[];_context13.prev=4;_context13.next=7;return fetch(this.logEventURL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(batchToSubmit)});case 7:_context13.next=11;break;case 9:_context13.prev=9;_context13.t0=_context13[\"catch\"](4);case 11:case\"end\":return _context13.stop();}},_callee13,this,[[4,9]]);}));}}]);return EventLogger;}();var EmailSentType;(function(EmailSentType){EmailSentType[\"LoginOrCreateEML\"]=\"login_or_create_eml\";EmailSentType[\"LoginOrCreateOTP\"]=\"login_or_create_otp\";EmailSentType[\"ResetPassword\"]=\"reset_password\";})(EmailSentType||(EmailSentType={}));var HeadlessUserClient=/*#__PURE__*/_createClass(function HeadlessUserClient(_networkClient,_subscriptionService){var _this3=this;_classCallCheck(this,HeadlessUserClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this.get=function(){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee14(){var resp,user;return _regeneratorRuntime().wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:_context14.next=2;return this._networkClient.fetchSDK({url:'/users/me',errorMessage:'Failed to retrieve user info.',method:'GET'});case 2:resp=_context14.sent;user=removeResponseCommon(resp);this._subscriptionService.updateUser(user);return _context14.abrupt(\"return\",user);case 6:case\"end\":return _context14.stop();}},_callee14,this);}));};this.getSync=function(){return _this3._subscriptionService.getUser();};this.getInfo=function(){return{user:_this3.getSync(),fromCache:_this3._subscriptionService.getFromCache()};};this.update=function(options){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee15(){var resp,user;return _regeneratorRuntime().wrap(function _callee15$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:validate('stytch.user.update').isOptionalObject('untrusted_metadata',options.untrusted_metadata);_context15.next=3;return this._networkClient.fetchSDK({url:'/users/me',body:options,errorMessage:'Failed to update user.',method:'PUT'});case 3:resp=_context15.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context15.abrupt(\"return\",omitUser(resp));case 7:case\"end\":return _context15.stop();}},_callee15,this);}));};this.deleteEmail=function(emailId){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee16(){var resp,user;return _regeneratorRuntime().wrap(function _callee16$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:_context16.next=2;return this._networkClient.fetchSDK({url:\"/users/emails/\".concat(emailId),errorMessage:'Failed to delete email.',method:'DELETE'});case 2:resp=_context16.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context16.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context16.stop();}},_callee16,this);}));};this.deletePhoneNumber=function(phoneId){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee17(){var resp,user;return _regeneratorRuntime().wrap(function _callee17$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:_context17.next=2;return this._networkClient.fetchSDK({url:\"/users/phone_numbers/\".concat(phoneId),errorMessage:'Failed to delete phone number.',method:'DELETE'});case 2:resp=_context17.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context17.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context17.stop();}},_callee17,this);}));};this.deleteTOTP=function(totpId){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee18(){var resp,user;return _regeneratorRuntime().wrap(function _callee18$(_context18){while(1)switch(_context18.prev=_context18.next){case 0:_context18.next=2;return this._networkClient.fetchSDK({url:\"/users/totps/\".concat(totpId),errorMessage:'Failed to delete TOTP.',method:'DELETE'});case 2:resp=_context18.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context18.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context18.stop();}},_callee18,this);}));};this.deleteOAuthRegistration=function(oauthUserRegistrationId){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee19(){var resp,user;return _regeneratorRuntime().wrap(function _callee19$(_context19){while(1)switch(_context19.prev=_context19.next){case 0:_context19.next=2;return this._networkClient.fetchSDK({url:\"/users/oauth/\".concat(oauthUserRegistrationId),errorMessage:'Failed to delete OAuth registration.',method:'DELETE'});case 2:resp=_context19.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context19.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context19.stop();}},_callee19,this);}));};this.deleteWebauthnRegistration=function(webAuthnId){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee20(){var resp,user;return _regeneratorRuntime().wrap(function _callee20$(_context20){while(1)switch(_context20.prev=_context20.next){case 0:_context20.next=2;return this._networkClient.fetchSDK({url:\"/users/webauthn_registrations/\".concat(webAuthnId),errorMessage:'Failed to delete WebAuthn registration.',method:'DELETE'});case 2:resp=_context20.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context20.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context20.stop();}},_callee20,this);}));};this.deleteBiometricRegistration=function(biometricRegistrationId){return __awaiter$1(_this3,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee21(){var resp,user;return _regeneratorRuntime().wrap(function _callee21$(_context21){while(1)switch(_context21.prev=_context21.next){case 0:_context21.next=2;return this._networkClient.fetchSDK({url:\"/users/biometric_registrations/\".concat(biometricRegistrationId),errorMessage:'Failed to delete Biometric registration.',method:'DELETE'});case 2:resp=_context21.sent;user=removeResponseCommon(resp.__user);this._subscriptionService.updateUser(user);return _context21.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context21.stop();}},_callee21,this);}));};this.onChange=function(callback){var lastVal=_this3._subscriptionService.getUser();var listener=function listener(state){var _a;if((state===null||state===void 0?void 0:state.user)!==lastVal){lastVal=(_a=state===null||state===void 0?void 0:state.user)!==null&&_a!==void 0?_a:null;callback(lastVal);}};return _this3._subscriptionService.subscribeToState(listener);};});var HeadlessSessionClient=/*#__PURE__*/function(){function HeadlessSessionClient(_networkClient,_subscriptionService){var _this4=this;_classCallCheck(this,HeadlessSessionClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this.getSync=function(){return _this4._subscriptionService.getSession();};this.getInfo=function(){return{session:_this4.getSync(),fromCache:_this4._subscriptionService.getFromCache()};};this.onChange=function(callback){var lastVal=_this4._subscriptionService.getSession();var listener=function listener(state){var _a;if((state===null||state===void 0?void 0:state.session)!==lastVal){lastVal=(_a=state===null||state===void 0?void 0:state.session)!==null&&_a!==void 0?_a:null;callback(lastVal);}};return _this4._subscriptionService.subscribeToState(listener);};this.revoke=function(options){return __awaiter$1(_this4,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee22(){var resp;return _regeneratorRuntime().wrap(function _callee22$(_context22){while(1)switch(_context22.prev=_context22.next){case 0:_context22.prev=0;_context22.next=3;return this._networkClient.fetchSDK({url:\"/sessions/revoke\",errorMessage:'Error revoking session',method:'POST'});case 3:resp=_context22.sent;this._subscriptionService.destroyState();return _context22.abrupt(\"return\",resp);case 8:_context22.prev=8;_context22.t0=_context22[\"catch\"](0);if(!!(options===null||options===void 0?void 0:options.forceClear)){this._subscriptionService.destroyState();}else if(UNRECOVERABLE_ERROR_TYPES.includes(_context22.t0.error_type)){this._subscriptionService.destroyState();}throw _context22.t0;case 12:case\"end\":return _context22.stop();}},_callee22,this,[[0,8]]);}));};this.authenticate=function(options){return __awaiter$1(_this4,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee23(){var _this5=this;var initialSession,isSessionStale,requestBody,resp;return _regeneratorRuntime().wrap(function _callee23$(_context23){while(1)switch(_context23.prev=_context23.next){case 0:initialSession=this._subscriptionService.getSession();isSessionStale=function isSessionStale(){var _a;return(initialSession===null||initialSession===void 0?void 0:initialSession.session_id)!==((_a=_this5._subscriptionService.getSession())===null||_a===void 0?void 0:_a.session_id);};_context23.prev=2;requestBody={session_duration_minutes:options===null||options===void 0?void 0:options.session_duration_minutes};_context23.next=6;return this._networkClient.fetchSDK({url:'/sessions/authenticate',body:requestBody,errorMessage:'Error authenticating session',method:'POST'});case 6:resp=_context23.sent;if(!isSessionStale()){_context23.next=9;break;}return _context23.abrupt(\"return\",this.authenticate(options));case 9:this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context23.abrupt(\"return\",omitUser(resp));case 13:_context23.prev=13;_context23.t0=_context23[\"catch\"](2);if(!isSessionStale()){_context23.next=17;break;}return _context23.abrupt(\"return\",this.authenticate(options));case 17:if(UNRECOVERABLE_ERROR_TYPES.includes(_context23.t0.error_type)){this._subscriptionService.destroySession();}throw _context23.t0;case 19:case\"end\":return _context23.stop();}},_callee23,this,[[2,13]]);}));};}_createClass(HeadlessSessionClient,[{key:\"getTokens\",value:function getTokens(){return this._subscriptionService.getTokens();}},{key:\"updateSession\",value:function updateSession(tokens){var _a;validate('stytch.session.updateSession').isString('session_token',tokens.session_token).isOptionalString('session_jwt',(_a=tokens.session_jwt)!==null&&_a!==void 0?_a:undefined);this._subscriptionService.updateTokens(tokens);}}]);return HeadlessSessionClient;}();var DefaultDynamicConfig$3=Promise.resolve({pkceRequiredForEmailMagicLinks:false});var HeadlessMagicLinksClient=/*#__PURE__*/function(){function HeadlessMagicLinksClient(_networkClient,_subscriptionService,_pkceManager,_passwordResetPKCEManager){var _this6=this;var _config=arguments.length>4&&arguments[4]!==undefined?arguments[4]:DefaultDynamicConfig$3;var dfpProtectedAuth=arguments.length>5&&arguments[5]!==undefined?arguments[5]:DisabledDFPProtectedAuthProvider();_classCallCheck(this,HeadlessMagicLinksClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this._pkceManager=_pkceManager;this._passwordResetPKCEManager=_passwordResetPKCEManager;this._config=_config;this.dfpProtectedAuth=dfpProtectedAuth;this.email={loginOrCreate:function loginOrCreate(email){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return __awaiter$1(_this6,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee24(){var _yield$this$_config,pkceRequiredForEmailMagicLinks,code_challenge,_yield$this$dfpProtec,dfp_telemetry_id,captcha_token,requestBody;return _regeneratorRuntime().wrap(function _callee24$(_context24){while(1)switch(_context24.prev=_context24.next){case 0:_context24.next=2;return this._config;case 2:_yield$this$_config=_context24.sent;pkceRequiredForEmailMagicLinks=_yield$this$_config.pkceRequiredForEmailMagicLinks;code_challenge=undefined;if(!pkceRequiredForEmailMagicLinks){_context24.next=9;break;}_context24.next=8;return this.getCodeChallenge();case 8:code_challenge=_context24.sent;case 9:_context24.next=11;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 11:_yield$this$dfpProtec=_context24.sent;dfp_telemetry_id=_yield$this$dfpProtec.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec.captcha_token;requestBody=Object.assign(Object.assign({},options),{email:email,code_challenge:code_challenge,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id});return _context24.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:'/magic_links/email/login_or_create',body:requestBody,errorMessage:'Failed to send magic link',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 16:case\"end\":return _context24.stop();}},_callee24,this);}));},send:function send(email){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return __awaiter$1(_this6,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee25(){var _yield$this$_config2,pkceRequiredForEmailMagicLinks,code_challenge,_yield$this$dfpProtec2,dfp_telemetry_id,captcha_token,requestBody,isLoggedIn,endpoint;return _regeneratorRuntime().wrap(function _callee25$(_context25){while(1)switch(_context25.prev=_context25.next){case 0:_context25.next=2;return this._config;case 2:_yield$this$_config2=_context25.sent;pkceRequiredForEmailMagicLinks=_yield$this$_config2.pkceRequiredForEmailMagicLinks;code_challenge=undefined;if(!pkceRequiredForEmailMagicLinks){_context25.next=9;break;}_context25.next=8;return this.getCodeChallenge();case 8:code_challenge=_context25.sent;case 9:_context25.next=11;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 11:_yield$this$dfpProtec2=_context25.sent;dfp_telemetry_id=_yield$this$dfpProtec2.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec2.captcha_token;requestBody=Object.assign(Object.assign({},options),{email:email,code_challenge:code_challenge,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id});isLoggedIn=!!this._subscriptionService.getSession();endpoint=isLoggedIn?'/magic_links/email/send/secondary':'/magic_links/email/send/primary';return _context25.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:endpoint,body:requestBody,errorMessage:'Failed to send magic link',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 18:case\"end\":return _context25.stop();}},_callee25,this);}));}};this.authenticate=function(token,options){return __awaiter$1(_this6,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee26(){var passwordResetPKPair,resp;return _regeneratorRuntime().wrap(function _callee26$(_context26){while(1)switch(_context26.prev=_context26.next){case 0:validate('stytch.magicLinks.authenticate').isString('Token',token).isNumber('session_duration_minutes',options.session_duration_minutes);_context26.next=3;return this._passwordResetPKCEManager.getPKPair();case 3:passwordResetPKPair=_context26.sent;resp=null;if(!(passwordResetPKPair===null||passwordResetPKPair===void 0?void 0:passwordResetPKPair.code_verifier)){_context26.next=19;break;}_context26.prev=6;_context26.next=9;return this.handlePKCEForAuthenticate(this._passwordResetPKCEManager,Object.assign(Object.assign({},options),{token:token}));case 9:resp=_context26.sent;_context26.next=19;break;case 12:_context26.prev=12;_context26.t0=_context26[\"catch\"](6);if(!_context26.t0.message.includes('pkce')){_context26.next=18;break;}console.log('Authenticate with passwords pkce namespace failed. Falling back to authenticate with magic_links namespace.');_context26.next=19;break;case 18:throw _context26.t0;case 19:if(resp){_context26.next=23;break;}_context26.next=22;return this.handlePKCEForAuthenticate(this._pkceManager,Object.assign(Object.assign({},options),{token:token}));case 22:resp=_context26.sent;case 23:this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context26.abrupt(\"return\",omitUser(resp));case 25:case\"end\":return _context26.stop();}},_callee26,this,[[6,12]]);}));};}_createClass(HeadlessMagicLinksClient,[{key:\"getCodeChallenge\",value:function getCodeChallenge(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee27(){var keyPair;return _regeneratorRuntime().wrap(function _callee27$(_context27){while(1)switch(_context27.prev=_context27.next){case 0:_context27.next=2;return this._pkceManager.getPKPair();case 2:keyPair=_context27.sent;if(!keyPair){_context27.next=5;break;}return _context27.abrupt(\"return\",keyPair.code_challenge);case 5:_context27.next=7;return this._pkceManager.startPKCETransaction();case 7:keyPair=_context27.sent;return _context27.abrupt(\"return\",keyPair.code_challenge);case 9:case\"end\":return _context27.stop();}},_callee27,this);}));}},{key:\"handlePKCEForAuthenticate\",value:function handlePKCEForAuthenticate(pkceManager,data){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee28(){var pkPair,requestBody,resp;return _regeneratorRuntime().wrap(function _callee28$(_context28){while(1)switch(_context28.prev=_context28.next){case 0:_context28.next=2;return pkceManager.getPKPair();case 2:pkPair=_context28.sent;requestBody=Object.assign({code_verifier:pkPair===null||pkPair===void 0?void 0:pkPair.code_verifier},data);_context28.next=6;return this._networkClient.fetchSDK({url:'/magic_links/authenticate',body:requestBody,errorMessage:'Failed to authenticate token.',method:'POST'});case 6:resp=_context28.sent;pkceManager.clearPKPair();return _context28.abrupt(\"return\",resp);case 9:case\"end\":return _context28.stop();}},_callee28,this);}));}}]);return HeadlessMagicLinksClient;}();var HeadlessOTPClient=/*#__PURE__*/_createClass(function HeadlessOTPClient(_networkClient,_subscriptionService){var _this7=this;var executeRecaptcha=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){return Promise.resolve(undefined);};var dfpProtectedAuth=arguments.length>3&&arguments[3]!==undefined?arguments[3]:DisabledDFPProtectedAuthProvider();_classCallCheck(this,HeadlessOTPClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this.executeRecaptcha=executeRecaptcha;this.dfpProtectedAuth=dfpProtectedAuth;this.sms={loginOrCreate:function loginOrCreate(phone_number,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee29(){var _yield$this$dfpProtec3,dfp_telemetry_id,captcha_token,requestBody;return _regeneratorRuntime().wrap(function _callee29$(_context29){while(1)switch(_context29.prev=_context29.next){case 0:_context29.next=2;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 2:_yield$this$dfpProtec3=_context29.sent;dfp_telemetry_id=_yield$this$dfpProtec3.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec3.captcha_token;requestBody=Object.assign(Object.assign({},options),{phone_number:phone_number,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id});return _context29.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:'/otps/sms/login_or_create',body:requestBody,errorMessage:'Failed to send one time passcode',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 7:case\"end\":return _context29.stop();}},_callee29,this);}));},send:function send(phone_number,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee30(){var _yield$this$dfpProtec4,dfp_telemetry_id,captcha_token,requestBody,isLoggedIn,endpoint;return _regeneratorRuntime().wrap(function _callee30$(_context30){while(1)switch(_context30.prev=_context30.next){case 0:_context30.next=2;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 2:_yield$this$dfpProtec4=_context30.sent;dfp_telemetry_id=_yield$this$dfpProtec4.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec4.captcha_token;requestBody=Object.assign(Object.assign({},options),{phone_number:phone_number,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id});isLoggedIn=!!this._subscriptionService.getSession();endpoint=isLoggedIn?'/otps/sms/send/secondary':'/otps/sms/send/primary';return _context30.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:endpoint,body:requestBody,errorMessage:'Failed to send one time passcode',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 9:case\"end\":return _context30.stop();}},_callee30,this);}));}};this.whatsapp={loginOrCreate:function loginOrCreate(phone_number,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee31(){var _yield$this$dfpProtec5,dfp_telemetry_id,captcha_token,requestBody;return _regeneratorRuntime().wrap(function _callee31$(_context31){while(1)switch(_context31.prev=_context31.next){case 0:_context31.next=2;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 2:_yield$this$dfpProtec5=_context31.sent;dfp_telemetry_id=_yield$this$dfpProtec5.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec5.captcha_token;requestBody=Object.assign(Object.assign({},options),{phone_number:phone_number,dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token});return _context31.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:'/otps/whatsapp/login_or_create',body:requestBody,errorMessage:'Failed to send one time passcode',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 7:case\"end\":return _context31.stop();}},_callee31,this);}));},send:function send(phone_number,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee32(){var _yield$this$dfpProtec6,dfp_telemetry_id,captcha_token,requestBody,isLoggedIn,endpoint;return _regeneratorRuntime().wrap(function _callee32$(_context32){while(1)switch(_context32.prev=_context32.next){case 0:_context32.next=2;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 2:_yield$this$dfpProtec6=_context32.sent;dfp_telemetry_id=_yield$this$dfpProtec6.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec6.captcha_token;requestBody=Object.assign(Object.assign({},options),{phone_number:phone_number,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id});isLoggedIn=!!this._subscriptionService.getSession();endpoint=isLoggedIn?'/otps/whatsapp/send/secondary':'/otps/whatsapp/send/primary';return _context32.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:endpoint,body:requestBody,errorMessage:'Failed to send one time passcode',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 9:case\"end\":return _context32.stop();}},_callee32,this);}));}};this.email={loginOrCreate:function loginOrCreate(email,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee33(){var captcha_token,requestBody;return _regeneratorRuntime().wrap(function _callee33$(_context33){while(1)switch(_context33.prev=_context33.next){case 0:_context33.next=2;return this.executeRecaptcha();case 2:captcha_token=_context33.sent;requestBody=Object.assign(Object.assign({},options),{email:email,captcha_token:captcha_token});return _context33.abrupt(\"return\",this._networkClient.fetchSDK({url:'/otps/email/login_or_create',body:requestBody,errorMessage:'Failed to send one time passcode',method:'POST'}));case 5:case\"end\":return _context33.stop();}},_callee33,this);}));},send:function send(email,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee34(){var captcha_token,requestBody,isLoggedIn,endpoint;return _regeneratorRuntime().wrap(function _callee34$(_context34){while(1)switch(_context34.prev=_context34.next){case 0:_context34.next=2;return this.executeRecaptcha();case 2:captcha_token=_context34.sent;requestBody=Object.assign(Object.assign({},options),{email:email,captcha_token:captcha_token});isLoggedIn=!!this._subscriptionService.getSession();endpoint=isLoggedIn?'/otps/email/send/secondary':'/otps/email/send/primary';return _context34.abrupt(\"return\",this._networkClient.fetchSDK({url:endpoint,body:requestBody,errorMessage:'Failed to send one time passcode',method:'POST'}));case 7:case\"end\":return _context34.stop();}},_callee34,this);}));}};this.authenticate=function(code,method_id,options){return __awaiter$1(_this7,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee35(){var _yield$this$dfpProtec7,dfp_telemetry_id,captcha_token,requestBody,resp;return _regeneratorRuntime().wrap(function _callee35$(_context35){while(1)switch(_context35.prev=_context35.next){case 0:validate('stytch.otps.authenticate').isString('Code',code).isNumber('session_duration_minutes',options.session_duration_minutes);_context35.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec7=_context35.sent;dfp_telemetry_id=_yield$this$dfpProtec7.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec7.captcha_token;requestBody=Object.assign({token:code,method_id:method_id,dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token},options);_context35.next=9;return this._networkClient.retriableFetchSDK({url:'/otps/authenticate',body:requestBody,errorMessage:'Failed to authenticate token.',method:'POST',retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 9:resp=_context35.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context35.abrupt(\"return\",omitUser(resp));case 12:case\"end\":return _context35.stop();}},_callee35,this);}));};});var HeadlessOAuthClient$1=/*#__PURE__*/function(){function HeadlessOAuthClient(_networkClient,_subscriptionService,_pkceManager,_dynamicConfig,_config){_classCallCheck(this,HeadlessOAuthClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this._pkceManager=_pkceManager;this._dynamicConfig=_dynamicConfig;this._config=_config;this.google={start:this.startOAuthFlow(OAuthProviders.Google)};this.apple={start:this.startOAuthFlow(OAuthProviders.Apple)};this.microsoft={start:this.startOAuthFlow(OAuthProviders.Microsoft)};this.github={start:this.startOAuthFlow(OAuthProviders.Github)};this.gitlab={start:this.startOAuthFlow(OAuthProviders.GitLab)};this.facebook={start:this.startOAuthFlow(OAuthProviders.Facebook)};this.discord={start:this.startOAuthFlow(OAuthProviders.Discord)};this.salesforce={start:this.startOAuthFlow(OAuthProviders.Salesforce)};this.slack={start:this.startOAuthFlow(OAuthProviders.Slack)};this.amazon={start:this.startOAuthFlow(OAuthProviders.Amazon)};this.bitbucket={start:this.startOAuthFlow(OAuthProviders.Bitbucket)};this.linkedin={start:this.startOAuthFlow(OAuthProviders.LinkedIn)};this.coinbase={start:this.startOAuthFlow(OAuthProviders.Coinbase)};this.twitch={start:this.startOAuthFlow(OAuthProviders.Twitch)};this.twitter={start:this.startOAuthFlow(OAuthProviders.Twitter)};this.tiktok={start:this.startOAuthFlow(OAuthProviders.TikTok)};this.snapchat={start:this.startOAuthFlow(OAuthProviders.Snapchat)};this.figma={start:this.startOAuthFlow(OAuthProviders.Figma)};this.yahoo={start:this.startOAuthFlow(OAuthProviders.Yahoo)};}_createClass(HeadlessOAuthClient,[{key:\"authenticate\",value:function authenticate(token,options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee36(){var keyPair,resp;return _regeneratorRuntime().wrap(function _callee36$(_context36){while(1)switch(_context36.prev=_context36.next){case 0:validate('stytch.oauth.authenticate').isString('Token',token).isNumber('session_duration_minutes',options.session_duration_minutes);_context36.next=3;return this._pkceManager.getPKPair();case 3:keyPair=_context36.sent;if(!keyPair){logger.warn('No code verifier found in local storage for OAuth flow.\\n'+'Consider using stytch.oauth.$provider.start() to add PKCE to your OAuth flows for added security.\\n'+'See https://stytch.com/docs/oauth#guides_pkce for more information.');}_context36.next=7;return this._networkClient.fetchSDK({url:'/oauth/authenticate',method:'POST',body:Object.assign({token:token,code_verifier:keyPair===null||keyPair===void 0?void 0:keyPair.code_verifier},options),errorMessage:'Failed to authenticate token'});case 7:resp=_context36.sent;this._pkceManager.clearPKPair();this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:removeResponseCommon(resp.__user)},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context36.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context36.stop();}},_callee36,this);}));}},{key:\"getBaseApiUrl\",value:function getBaseApiUrl(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee37(){var _yield$this$_dynamicC,cnameDomain;return _regeneratorRuntime().wrap(function _callee37$(_context37){while(1)switch(_context37.prev=_context37.next){case 0:_context37.next=2;return this._dynamicConfig;case 2:_yield$this$_dynamicC=_context37.sent;cnameDomain=_yield$this$_dynamicC.cnameDomain;if(!cnameDomain){_context37.next=6;break;}return _context37.abrupt(\"return\",\"https://\".concat(cnameDomain));case 6:if(!isTestPublicToken(this._config.publicToken)){_context37.next=8;break;}return _context37.abrupt(\"return\",this._config.testAPIURL);case 8:return _context37.abrupt(\"return\",this._config.liveAPIURL);case 9:case\"end\":return _context37.stop();}},_callee37,this);}));}},{key:\"startOAuthFlow\",value:function startOAuthFlow(providerType){var _this8=this;return function(){var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},login_redirect_url=_ref3.login_redirect_url,signup_redirect_url=_ref3.signup_redirect_url,custom_scopes=_ref3.custom_scopes,provider_params=_ref3.provider_params;return __awaiter$1(_this8,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee38(){var _yield$this$_dynamicC2,cnameDomain,pkceRequiredForOAuth,baseURL,oauthUrl,keyPair,key;return _regeneratorRuntime().wrap(function _callee38$(_context38){while(1)switch(_context38.prev=_context38.next){case 0:_context38.next=2;return this._dynamicConfig;case 2:_yield$this$_dynamicC2=_context38.sent;cnameDomain=_yield$this$_dynamicC2.cnameDomain;pkceRequiredForOAuth=_yield$this$_dynamicC2.pkceRequiredForOAuth;_context38.next=7;return this.getBaseApiUrl();case 7:baseURL=_context38.sent;this._networkClient.logEvent({name:'start_oauth_flow',details:{provider_type:providerType,custom_scopes:custom_scopes,cname_domain:cnameDomain,pkce:pkceRequiredForOAuth,provider_params:provider_params}});oauthUrl=new URL(\"\".concat(baseURL,\"/v1/public/oauth/\").concat(providerType,\"/start\"));oauthUrl.searchParams.set('public_token',this._config.publicToken);if(!pkceRequiredForOAuth){_context38.next=18;break;}_context38.next=14;return this._pkceManager.startPKCETransaction();case 14:keyPair=_context38.sent;oauthUrl.searchParams.set('code_challenge',keyPair.code_challenge);_context38.next=19;break;case 18:this._pkceManager.clearPKPair();case 19:if(custom_scopes){validate('startOAuthFlow').isStringArray('custom_scopes',custom_scopes);oauthUrl.searchParams.set('custom_scopes',custom_scopes.join(' '));}if(provider_params){validate('startOAuthFlow').isOptionalObject('provider_params',provider_params);for(key in provider_params){oauthUrl.searchParams.set('provider_'+key,provider_params[key]);}}login_redirect_url&&oauthUrl.searchParams.set('login_redirect_url',login_redirect_url);signup_redirect_url&&oauthUrl.searchParams.set('signup_redirect_url',signup_redirect_url);window.location.href=oauthUrl.toString();case 24:case\"end\":return _context38.stop();}},_callee38,this);}));};}}]);return HeadlessOAuthClient;}();var HeadlessCryptoWalletClient=/*#__PURE__*/function(){function HeadlessCryptoWalletClient(_networkClient,_subscriptionService){var executeRecaptcha=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){return Promise.resolve(undefined);};var dfpProtectedAuth=arguments.length>3&&arguments[3]!==undefined?arguments[3]:DisabledDFPProtectedAuthProvider();_classCallCheck(this,HeadlessCryptoWalletClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this.executeRecaptcha=executeRecaptcha;this.dfpProtectedAuth=dfpProtectedAuth;}_createClass(HeadlessCryptoWalletClient,[{key:\"authenticateStart\",value:function authenticateStart(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee39(){var isLoggedIn,captcha_token,endpoint;return _regeneratorRuntime().wrap(function _callee39$(_context39){while(1)switch(_context39.prev=_context39.next){case 0:validate('stytch.cryptoWallets.authenticateStart').isString('crypto_wallet_address',options.crypto_wallet_address).isString('crypto_wallet_type',options.crypto_wallet_type);isLoggedIn=!!this._subscriptionService.getSession();_context39.next=4;return this.executeRecaptcha();case 4:captcha_token=_context39.sent;endpoint=isLoggedIn?'/crypto_wallets/authenticate/start/secondary':'/crypto_wallets/authenticate/start/primary';return _context39.abrupt(\"return\",this._networkClient.fetchSDK({url:endpoint,method:'POST',errorMessage:'Failed to start wallet authentication.',body:{crypto_wallet_address:options.crypto_wallet_address,crypto_wallet_type:options.crypto_wallet_type,captcha_token:captcha_token}}));case 7:case\"end\":return _context39.stop();}},_callee39,this);}));}},{key:\"authenticate\",value:function authenticate(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee40(){var _yield$this$dfpProtec8,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee40$(_context40){while(1)switch(_context40.prev=_context40.next){case 0:validate('stytch.cryptoWallets.authenticate').isString('signature',options.signature).isString('crypto_wallet_address',options.crypto_wallet_address).isString('crypto_wallet_type',options.crypto_wallet_type).isNumber('session_duration_minutes',options.session_duration_minutes);_context40.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec8=_context40.sent;dfp_telemetry_id=_yield$this$dfpProtec8.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec8.captcha_token;_context40.next=8;return this._networkClient.retriableFetchSDK({url:'/crypto_wallets/authenticate',method:'POST',errorMessage:'Failed to authenticate.',body:{session_duration_minutes:options.session_duration_minutes,crypto_wallet_address:options.crypto_wallet_address,crypto_wallet_type:options.crypto_wallet_type,signature:options.signature,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context40.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:removeResponseCommon(resp.__user)},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context40.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context40.stop();}},_callee40,this);}));}}]);return HeadlessCryptoWalletClient;}();var HeadlessTOTPClient=/*#__PURE__*/function(){function HeadlessTOTPClient(_networkClient,_subscriptionService,dfpProtectedAuth){_classCallCheck(this,HeadlessTOTPClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this.dfpProtectedAuth=dfpProtectedAuth;}_createClass(HeadlessTOTPClient,[{key:\"create\",value:function create(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee41(){var resp;return _regeneratorRuntime().wrap(function _callee41$(_context41){while(1)switch(_context41.prev=_context41.next){case 0:validate('stytch.totps.create').isNumber('expiration_minutes',options.expiration_minutes);_context41.next=3;return this._networkClient.fetchSDK({url:'/totps',method:'POST',errorMessage:'Failed to create TOTP',body:{expiration_minutes:options.expiration_minutes}});case 3:resp=_context41.sent;this._subscriptionService.updateUser(resp.__user);return _context41.abrupt(\"return\",omitUser(resp));case 6:case\"end\":return _context41.stop();}},_callee41,this);}));}},{key:\"authenticate\",value:function authenticate(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee42(){var _yield$this$dfpProtec9,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee42$(_context42){while(1)switch(_context42.prev=_context42.next){case 0:validate('stytch.totps.authenticate').isNumber('session_duration_minutes',options.session_duration_minutes).isString('totp_code',options.totp_code);_context42.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec9=_context42.sent;dfp_telemetry_id=_yield$this$dfpProtec9.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec9.captcha_token;_context42.next=8;return this._networkClient.retriableFetchSDK({url:'/totps/authenticate',method:'POST',errorMessage:'Failed to authenticate TOTP',body:{session_duration_minutes:options.session_duration_minutes,totp_code:options.totp_code,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context42.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.__user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context42.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context42.stop();}},_callee42,this);}));}},{key:\"recoveryCodes\",value:function recoveryCodes(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee43(){return _regeneratorRuntime().wrap(function _callee43$(_context43){while(1)switch(_context43.prev=_context43.next){case 0:return _context43.abrupt(\"return\",this._networkClient.fetchSDK({url:'/totps/recovery_codes',method:'POST',errorMessage:'Failed to retrieve recovery codes'}));case 1:case\"end\":return _context43.stop();}},_callee43,this);}));}},{key:\"recover\",value:function recover(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee44(){var _yield$this$dfpProtec10,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee44$(_context44){while(1)switch(_context44.prev=_context44.next){case 0:validate('stytch.totps.recover').isNumber('session_duration_minutes',options.session_duration_minutes).isString('recovery_code',options.recovery_code);_context44.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec10=_context44.sent;dfp_telemetry_id=_yield$this$dfpProtec10.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec10.captcha_token;_context44.next=8;return this._networkClient.retriableFetchSDK({url:'/totps/recover',method:'POST',errorMessage:'Failed to recover TOTP',body:{session_duration_minutes:options.session_duration_minutes,recovery_code:options.recovery_code,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context44.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.__user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context44.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context44.stop();}},_callee44,this);}));}}]);return HeadlessTOTPClient;}();function base64urlToBuffer(baseurl64String){var padding=\"==\".slice(0,(4-baseurl64String.length%4)%4);var base64String=baseurl64String.replace(/-/g,\"+\").replace(/_/g,\"/\")+padding;var str=atob(base64String);var buffer=new ArrayBuffer(str.length);var byteView=new Uint8Array(buffer);for(var _i=0;_i<str.length;_i++){byteView[_i]=str.charCodeAt(_i);}return buffer;}function bufferToBase64url(buffer){var byteView=new Uint8Array(buffer);var str=\"\";var _iterator2=_createForOfIteratorHelper(byteView),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var charCode=_step2.value;str+=String.fromCharCode(charCode);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var base64String=btoa(str);var base64urlString=base64String.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\");return base64urlString;}var copyValue=\"copy\";var convertValue=\"convert\";function convert(conversionFn,schema2,input){if(schema2===copyValue){return input;}if(schema2===convertValue){return conversionFn(input);}if(schema2 instanceof Array){return input.map(function(v){return convert(conversionFn,schema2[0],v);});}if(schema2 instanceof Object){var output={};for(var _i2=0,_Object$entries=Object.entries(schema2);_i2<_Object$entries.length;_i2++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i2],2),key=_Object$entries$_i[0],schemaField=_Object$entries$_i[1];if(schemaField.derive){var v=schemaField.derive(input);if(v!==void 0){input[key]=v;}}if(!(key in input)){if(schemaField.required){throw new Error(\"Missing key: \".concat(key));}continue;}if(input[key]==null){output[key]=null;continue;}output[key]=convert(conversionFn,schemaField.schema,input[key]);}return output;}}function derived(schema2,derive){return{required:true,schema:schema2,derive:derive};}function required(schema2){return{required:true,schema:schema2};}function optional(schema2){return{required:false,schema:schema2};}var publicKeyCredentialDescriptorSchema={type:required(copyValue),id:required(convertValue),transports:optional(copyValue)};var simplifiedExtensionsSchema={appid:optional(copyValue),appidExclude:optional(copyValue),credProps:optional(copyValue)};var simplifiedClientExtensionResultsSchema={appid:optional(copyValue),appidExclude:optional(copyValue),credProps:optional(copyValue)};var credentialCreationOptions={publicKey:required({rp:required(copyValue),user:required({id:required(convertValue),name:required(copyValue),displayName:required(copyValue)}),challenge:required(convertValue),pubKeyCredParams:required(copyValue),timeout:optional(copyValue),excludeCredentials:optional([publicKeyCredentialDescriptorSchema]),authenticatorSelection:optional(copyValue),attestation:optional(copyValue),extensions:optional(simplifiedExtensionsSchema)}),signal:optional(copyValue)};var publicKeyCredentialWithAttestation={type:required(copyValue),id:required(copyValue),rawId:required(convertValue),authenticatorAttachment:optional(copyValue),response:required({clientDataJSON:required(convertValue),attestationObject:required(convertValue),transports:derived(copyValue,function(response){var _a;return((_a=response.getTransports)==null?void 0:_a.call(response))||[];})}),clientExtensionResults:derived(simplifiedClientExtensionResultsSchema,function(pkc){return pkc.getClientExtensionResults();})};var credentialRequestOptions={mediation:optional(copyValue),publicKey:required({challenge:required(convertValue),timeout:optional(copyValue),rpId:optional(copyValue),allowCredentials:optional([publicKeyCredentialDescriptorSchema]),userVerification:optional(copyValue),extensions:optional(simplifiedExtensionsSchema)}),signal:optional(copyValue)};var publicKeyCredentialWithAssertion={type:required(copyValue),id:required(copyValue),rawId:required(convertValue),authenticatorAttachment:optional(copyValue),response:required({clientDataJSON:required(convertValue),authenticatorData:required(convertValue),signature:required(convertValue),userHandle:required(convertValue)}),clientExtensionResults:derived(simplifiedClientExtensionResultsSchema,function(pkc){return pkc.getClientExtensionResults();})};function createRequestFromJSON(requestJSON){return convert(base64urlToBuffer,credentialCreationOptions,requestJSON);}function createResponseToJSON(credential){return convert(bufferToBase64url,publicKeyCredentialWithAttestation,credential);}function create(requestJSON){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee45(){var credential;return _regeneratorRuntime().wrap(function _callee45$(_context45){while(1)switch(_context45.prev=_context45.next){case 0:_context45.next=2;return navigator.credentials.create(createRequestFromJSON(requestJSON));case 2:credential=_context45.sent;return _context45.abrupt(\"return\",createResponseToJSON(credential));case 4:case\"end\":return _context45.stop();}},_callee45);}));}function getRequestFromJSON(requestJSON){return convert(base64urlToBuffer,credentialRequestOptions,requestJSON);}function getResponseToJSON(credential){return convert(bufferToBase64url,publicKeyCredentialWithAssertion,credential);}function get(requestJSON){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee46(){var credential;return _regeneratorRuntime().wrap(function _callee46$(_context46){while(1)switch(_context46.prev=_context46.next){case 0:_context46.next=2;return navigator.credentials.get(getRequestFromJSON(requestJSON));case 2:credential=_context46.sent;return _context46.abrupt(\"return\",getResponseToJSON(credential));case 4:case\"end\":return _context46.stop();}},_callee46);}));}var HeadlessWebAuthnClient=/*#__PURE__*/function(){function HeadlessWebAuthnClient(_networkClient,_subscriptionService,dfpProtectedAuth){_classCallCheck(this,HeadlessWebAuthnClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this.dfpProtectedAuth=dfpProtectedAuth;this.checkEligibleInputs=function(){var eligibleInputs=document.querySelectorAll(\"input[autocomplete*='webauthn']\");if(eligibleInputs.length<1){console.error('No <input> with `\"webauthn\"` in its `autocomplete` attribute was detected');return false;}return true;};}_createClass(HeadlessWebAuthnClient,[{key:\"register\",value:function register(options){var _a,_b;return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee47(){var startResp,publicKeyCredentialCreationOptions,publicKey,credential,resp;return _regeneratorRuntime().wrap(function _callee47$(_context47){while(1)switch(_context47.prev=_context47.next){case 0:validate('stytch.webauthn.register').isOptionalString('domain',options===null||options===void 0?void 0:options.domain).isOptionalString('authenticator_type',options===null||options===void 0?void 0:options.authenticator_type).isOptionalBoolean('is_passkey',options===null||options===void 0?void 0:options.is_passkey).isOptionalNumber('session_duration_minutes',options===null||options===void 0?void 0:options.session_duration_minutes);_context47.next=3;return this._networkClient.fetchSDK({url:'/webauthn/register/start',method:'POST',errorMessage:'Failed to start WebAuthn registration',body:{domain:(_a=options===null||options===void 0?void 0:options.domain)!==null&&_a!==void 0?_a:window.location.hostname,authenticator_type:(_b=options===null||options===void 0?void 0:options.authenticator_type)!==null&&_b!==void 0?_b:undefined,return_passkey_credential_options:options===null||options===void 0?void 0:options.is_passkey,user_agent:navigator.userAgent}});case 3:startResp=_context47.sent;publicKeyCredentialCreationOptions=startResp.public_key_credential_creation_options;publicKey=JSON.parse(publicKeyCredentialCreationOptions);_context47.next=8;return create({publicKey:publicKey});case 8:credential=_context47.sent;_context47.next=11;return this._networkClient.fetchSDK({url:'/webauthn/register',method:'POST',errorMessage:'Failed to register WebAuthn device',body:{public_key_credential:JSON.stringify(credential),session_duration_minutes:options===null||options===void 0?void 0:options.session_duration_minutes}});case 11:resp=_context47.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.__user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context47.abrupt(\"return\",omitUser(resp));case 14:case\"end\":return _context47.stop();}},_callee47,this);}));}},{key:\"authenticate\",value:function authenticate(options){var _a,_b;return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee48(){var _yield$this$dfpProtec11,dfp_telemetry_id,captcha_token,isLoggedIn,endpoint,startResp,publicKeyCredentialRequestOptions,abortController,credReqOptions,conditionalMediationCredReqOption,credential,authenticationData;return _regeneratorRuntime().wrap(function _callee48$(_context48){while(1)switch(_context48.prev=_context48.next){case 0:validate('stytch.webauthn.authenticate').isOptionalString('domain',options.domain).isNumber('session_duration_minutes',options.session_duration_minutes).isOptionalBoolean('is_passkey',options.is_passkey).isOptionalObject('signal',options.signal);_context48.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec11=_context48.sent;dfp_telemetry_id=_yield$this$dfpProtec11.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec11.captcha_token;if(!options.conditional_mediation){_context48.next=14;break;}_context48.next=9;return this.browserSupportsAutofill();case 9:if(_context48.sent){_context48.next=12;break;}console.error('Browser does not support WebAuthn autofill');return _context48.abrupt(\"return\",null);case 12:if(this.checkEligibleInputs()){_context48.next=14;break;}return _context48.abrupt(\"return\",null);case 14:isLoggedIn=!!this._subscriptionService.getSession();endpoint=isLoggedIn?'/webauthn/authenticate/start/secondary':'/webauthn/authenticate/start/primary';_context48.next=18;return this._networkClient.fetchSDK({url:endpoint,method:'POST',errorMessage:'Failed to start WebAuthn authentication',body:{domain:(_a=options.domain)!==null&&_a!==void 0?_a:window.location.hostname,return_passkey_credential_options:options===null||options===void 0?void 0:options.is_passkey}});case 18:startResp=_context48.sent;publicKeyCredentialRequestOptions=startResp.public_key_credential_request_options;abortController=new AbortController();credReqOptions={publicKey:JSON.parse(publicKeyCredentialRequestOptions),signal:(_b=options.signal)!==null&&_b!==void 0?_b:abortController.signal};conditionalMediationCredReqOption=Object.assign(Object.assign({},credReqOptions),{mediation:'conditional'});_context48.next=25;return get(options.conditional_mediation?conditionalMediationCredReqOption:credReqOptions);case 25:credential=_context48.sent;_context48.next=28;return this._networkClient.retriableFetchSDK({url:'/webauthn/authenticate',method:'POST',errorMessage:'Failed to authenticate WebAuthn device',body:{public_key_credential:JSON.stringify(credential),session_duration_minutes:options.session_duration_minutes,dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 28:authenticationData=_context48.sent;this._subscriptionService.updateStateAndTokens({state:{session:authenticationData.session,user:authenticationData.__user},session_token:authenticationData.session_token,session_jwt:authenticationData.session_jwt,intermediate_session_token:null});return _context48.abrupt(\"return\",omitUser(authenticationData));case 31:case\"end\":return _context48.stop();}},_callee48,this);}));}},{key:\"update\",value:function update(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee49(){var url;return _regeneratorRuntime().wrap(function _callee49$(_context49){while(1)switch(_context49.prev=_context49.next){case 0:url='/webauthn/update/'+options.webauthn_registration_id;_context49.next=3;return this._networkClient.fetchSDK({url:url,method:'PUT',errorMessage:'Failed to update WebAuthn Registration',body:{name:options.name}});case 3:return _context49.abrupt(\"return\",_context49.sent);case 4:case\"end\":return _context49.stop();}},_callee49,this);}));}},{key:\"browserSupportsAutofill\",value:function browserSupportsAutofill(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee50(){var globalPublicKeyCredential;return _regeneratorRuntime().wrap(function _callee50$(_context50){while(1)switch(_context50.prev=_context50.next){case 0:globalPublicKeyCredential=window.PublicKeyCredential;if(!(globalPublicKeyCredential===undefined||globalPublicKeyCredential.isConditionalMediationAvailable===undefined)){_context50.next=3;break;}return _context50.abrupt(\"return\",new Promise(function(resolve){return resolve(false);}));case 3:return _context50.abrupt(\"return\",globalPublicKeyCredential.isConditionalMediationAvailable());case 4:case\"end\":return _context50.stop();}},_callee50);}));}}]);return HeadlessWebAuthnClient;}();var DefaultDynamicConfig$2=Promise.resolve({pkceRequiredForPasswordResets:false});var HeadlessPasswordClient=/*#__PURE__*/function(){function HeadlessPasswordClient(_networkClient,_subscriptionService,_pkceManager){var _config=arguments.length>3&&arguments[3]!==undefined?arguments[3]:DefaultDynamicConfig$2;var dfpProtectedAuth=arguments.length>4&&arguments[4]!==undefined?arguments[4]:DisabledDFPProtectedAuthProvider();_classCallCheck(this,HeadlessPasswordClient);this._networkClient=_networkClient;this._subscriptionService=_subscriptionService;this._pkceManager=_pkceManager;this._config=_config;this.dfpProtectedAuth=dfpProtectedAuth;}_createClass(HeadlessPasswordClient,[{key:\"getCodeChallenge\",value:function getCodeChallenge(){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee51(){var _yield$this$_config3,pkceRequiredForPasswordResets,keyPair;return _regeneratorRuntime().wrap(function _callee51$(_context51){while(1)switch(_context51.prev=_context51.next){case 0:_context51.next=2;return this._config;case 2:_yield$this$_config3=_context51.sent;pkceRequiredForPasswordResets=_yield$this$_config3.pkceRequiredForPasswordResets;if(pkceRequiredForPasswordResets){_context51.next=6;break;}return _context51.abrupt(\"return\",undefined);case 6:_context51.next=8;return this._pkceManager.getPKPair();case 8:keyPair=_context51.sent;if(!keyPair){_context51.next=11;break;}return _context51.abrupt(\"return\",keyPair.code_challenge);case 11:_context51.next=13;return this._pkceManager.startPKCETransaction();case 13:keyPair=_context51.sent;return _context51.abrupt(\"return\",keyPair.code_challenge);case 15:case\"end\":return _context51.stop();}},_callee51,this);}));}},{key:\"create\",value:function create(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee52(){var _yield$this$dfpProtec12,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee52$(_context52){while(1)switch(_context52.prev=_context52.next){case 0:validate('stytch.passwords.create').isString('password',options.password).isString('email',options.email).isNumber('session_duration_minutes',options.session_duration_minutes);_context52.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec12=_context52.sent;dfp_telemetry_id=_yield$this$dfpProtec12.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec12.captcha_token;_context52.next=8;return this._networkClient.retriableFetchSDK({url:'/passwords',method:'POST',errorMessage:'Failed to create password.',body:{email:options.email,password:options.password,session_duration_minutes:options.session_duration_minutes,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context52.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context52.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context52.stop();}},_callee52,this);}));}},{key:\"authenticate\",value:function authenticate(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee53(){var _yield$this$dfpProtec13,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee53$(_context53){while(1)switch(_context53.prev=_context53.next){case 0:validate('stytch.passwords.authenticate').isString('password',options.password).isString('email',options.email).isNumber('session_duration_minutes',options.session_duration_minutes);_context53.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec13=_context53.sent;dfp_telemetry_id=_yield$this$dfpProtec13.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec13.captcha_token;_context53.next=8;return this._networkClient.retriableFetchSDK({url:'/passwords/authenticate',method:'POST',errorMessage:'Failed to authenticate password.',body:{email:options.email,password:options.password,session_duration_minutes:options.session_duration_minutes,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context53.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context53.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context53.stop();}},_callee53,this);}));}},{key:\"resetByEmailStart\",value:function resetByEmailStart(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee54(){var code_challenge,_yield$this$dfpProtec14,dfp_telemetry_id,captcha_token;return _regeneratorRuntime().wrap(function _callee54$(_context54){while(1)switch(_context54.prev=_context54.next){case 0:validate('stytch.passwords.resetByEmailStart').isString('email',options.email).isOptionalString('login_redirect_url',options.login_redirect_url).isOptionalString('reset_password_redirect_url',options.reset_password_redirect_url).isOptionalString('reset_password_template_id',options.reset_password_template_id).isOptionalNumber('reset_password_expiration_minutes',options.reset_password_expiration_minutes);_context54.next=3;return this.getCodeChallenge();case 3:code_challenge=_context54.sent;_context54.next=6;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 6:_yield$this$dfpProtec14=_context54.sent;dfp_telemetry_id=_yield$this$dfpProtec14.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec14.captcha_token;return _context54.abrupt(\"return\",this._networkClient.retriableFetchSDK({url:'/passwords/email/reset/start',method:'POST',errorMessage:'Failed to start password reset flow.',body:{email:options.email,login_redirect_url:options.login_redirect_url,reset_password_redirect_url:options.reset_password_redirect_url,reset_password_expiration_minutes:options.reset_password_expiration_minutes,reset_password_template_id:options.reset_password_template_id,code_challenge:code_challenge,captcha_token:captcha_token,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP}));case 10:case\"end\":return _context54.stop();}},_callee54,this);}));}},{key:\"resetByEmail\",value:function resetByEmail(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee55(){var _yield$this$dfpProtec15,dfp_telemetry_id,captcha_token,pkPair,code_verifier,resp;return _regeneratorRuntime().wrap(function _callee55$(_context55){while(1)switch(_context55.prev=_context55.next){case 0:validate('stytch.passwords.resetByEmail').isString('token',options.token).isString('password',options.password).isNumber('session_duration_minutes',options.session_duration_minutes);_context55.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec15=_context55.sent;dfp_telemetry_id=_yield$this$dfpProtec15.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec15.captcha_token;_context55.next=8;return this._pkceManager.getPKPair();case 8:pkPair=_context55.sent;code_verifier=pkPair===null||pkPair===void 0?void 0:pkPair.code_verifier;_context55.next=12;return this._networkClient.retriableFetchSDK({url:'/passwords/email/reset',method:'POST',errorMessage:'Failed to reset password.',body:{token:options.token,password:options.password,session_duration_minutes:options.session_duration_minutes,captcha_token:captcha_token,code_verifier:code_verifier,dfp_telemetry_id:dfp_telemetry_id},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 12:resp=_context55.sent;this._pkceManager.clearPKPair();this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context55.abrupt(\"return\",omitUser(resp));case 16:case\"end\":return _context55.stop();}},_callee55,this);}));}},{key:\"resetByExistingPassword\",value:function resetByExistingPassword(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee56(){var _yield$this$dfpProtec16,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee56$(_context56){while(1)switch(_context56.prev=_context56.next){case 0:validate('stytch.passwords.resetByExistingPassword').isString('email',options.email).isString('existing_password',options.existing_password).isString('new_password',options.new_password).isNumber('session_duration_minutes',options.session_duration_minutes);_context56.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec16=_context56.sent;dfp_telemetry_id=_yield$this$dfpProtec16.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec16.captcha_token;_context56.next=8;return this._networkClient.retriableFetchSDK({url:'/passwords/existing_password/reset',method:'POST',errorMessage:'Failed to reset password.',body:{email:options.email,existing_password:options.existing_password,new_password:options.new_password,session_duration_minutes:options.session_duration_minutes,dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context56.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context56.abrupt(\"return\",omitUser(resp));case 11:case\"end\":return _context56.stop();}},_callee56,this);}));}},{key:\"resetBySession\",value:function resetBySession(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee57(){var _yield$this$dfpProtec17,dfp_telemetry_id,captcha_token,resp;return _regeneratorRuntime().wrap(function _callee57$(_context57){while(1)switch(_context57.prev=_context57.next){case 0:validate('stytch.passwords.resetBySession').isString('password',options.password);_context57.next=3;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();case 3:_yield$this$dfpProtec17=_context57.sent;dfp_telemetry_id=_yield$this$dfpProtec17.dfp_telemetry_id;captcha_token=_yield$this$dfpProtec17.captcha_token;_context57.next=8;return this._networkClient.retriableFetchSDK({url:'/passwords/session/reset',method:'POST',errorMessage:'Failed to reset by session.',body:{password:options.password,session_duration_minutes:options.session_duration_minutes,dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token},retryCallback:this.dfpProtectedAuth.retryWithCaptchaAndDFP});case 8:resp=_context57.sent;this._subscriptionService.updateStateAndTokens({state:{session:resp.session,user:resp.user},session_token:resp.session_token,session_jwt:resp.session_jwt,intermediate_session_token:null});return _context57.abrupt(\"return\",resp);case 11:case\"end\":return _context57.stop();}},_callee57,this);}));}},{key:\"strengthCheck\",value:function strengthCheck(options){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee58(){return _regeneratorRuntime().wrap(function _callee58$(_context58){while(1)switch(_context58.prev=_context58.next){case 0:validate('stytch.passwords.strengthCheck').isOptionalString('email',options.email).isString('password',options.password);return _context58.abrupt(\"return\",this._networkClient.fetchSDK({url:'/passwords/strength_check',method:'POST',errorMessage:'Failed to check password strength.',body:{email:options.email,password:options.password}}));case 2:case\"end\":return _context58.stop();}},_callee58,this);}));}}]);return HeadlessPasswordClient;}();Promise.resolve({pkceRequiredForEmailMagicLinks:false});Promise.resolve({pkceRequiredForPasswordResets:false});var IframeHostClient=/*#__PURE__*/function(){function IframeHostClient(iframeURL){_classCallCheck(this,IframeHostClient);this.iframeURL=iframeURL;this.createIframe();}_createClass(IframeHostClient,[{key:\"createIframe\",value:function createIframe(){var existingIframe=document.querySelector(\"[src~=\\\"\".concat(this.iframeURL,\"\\\"]\"));if(!existingIframe){existingIframe=document.createElement('iframe');existingIframe.src=this.iframeURL;existingIframe.style.position='absolute';existingIframe.style.width='0';existingIframe.style.height='0';existingIframe.style.border='0';document.body.appendChild(existingIframe);}else{logger.warn(\"It looks like you're creating multiple copies of the Stytch client.\"+' This behavior is unsupported, and unintended side effects may occur. '+\"Make sure you are creating the Stytch client at the global level, and not inside a component's render function.\");}if(existingIframe.dataset.loaded==='true'){this.frame=Promise.resolve(existingIframe);return;}this.frame=new Promise(function(resolve){existingIframe.addEventListener('load',function(){existingIframe.dataset.loaded='true';resolve(existingIframe);},{once:true});});}},{key:\"call\",value:function call(method,args){return __awaiter$1(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee127(){var _this22=this;var frame,channel;return _regeneratorRuntime().wrap(function _callee127$(_context127){while(1)switch(_context127.prev=_context127.next){case 0:_context127.next=2;return this.frame;case 2:frame=_context127.sent;channel=new MessageChannel();return _context127.abrupt(\"return\",new Promise(function(resolve,reject){var _a;channel.port1.onmessage=function(event){var resp=event.data;channel.port1.close();if(resp.success){resolve(resp.payload);}else{reject(ErrorMarshaller.unmarshall(resp.error));}};var message={method:method,args:args};(_a=frame.contentWindow)===null||_a===void 0?void 0:_a.postMessage(message,_this22.iframeURL,[channel.port2]);}));case 5:case\"end\":return _context127.stop();}},_callee127,this);}));}}]);return IframeHostClient;}();var SearchDataManager=/*#__PURE__*/function(){function SearchDataManager(_networkClient,dfpProtectedAuth){_classCallCheck(this,SearchDataManager);this._networkClient=_networkClient;this.dfpProtectedAuth=dfpProtectedAuth;}_createClass(SearchDataManager,[{key:\"searchUser\",value:function searchUser(email){var _this24=this;return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha().then(function(_ref7){var dfp_telemetry_id=_ref7.dfp_telemetry_id,captcha_token=_ref7.captcha_token;return _this24._networkClient.fetchSDK({url:\"/users/search\",method:'POST',body:{email:email,dfp_telemetry_id:dfp_telemetry_id,captcha_token:captcha_token},errorMessage:\"Error searching for user \".concat(email)});});}},{key:\"searchMember\",value:function searchMember(email,organization_id){return this._networkClient.fetchSDK({url:\"/b2b/organizations/members/search\",method:'POST',body:{email_address:email,organization_id:organization_id},errorMessage:\"Error searching for member \".concat(email)});}}]);return SearchDataManager;}();var shouldTryRefresh=function shouldTryRefresh(state){return!!(state===null||state===void 0?void 0:state.session);};var SessionManager=/*#__PURE__*/function(){function SessionManager(_subscriptionService,_headlessSessionClient){var _this25=this;_classCallCheck(this,SessionManager);this._subscriptionService=_subscriptionService;this._headlessSessionClient=_headlessSessionClient;this._onDataChange=function(state){if(shouldTryRefresh(state)){_this25.scheduleBackgroundRefresh();}else{_this25.cancelBackgroundRefresh();}};this._reauthenticateWithBackoff=function(){return __awaiter$1(_this25,void 0,void 0,/*#__PURE__*/_regeneratorRuntime().mark(function _callee129(){var count;return _regeneratorRuntime().wrap(function _callee129$(_context129){while(1)switch(_context129.prev=_context129.next){case 0:count=0;case 1:_context129.prev=2;_context129.next=5;return this._headlessSessionClient.authenticate();case 5:return _context129.abrupt(\"return\",_context129.sent);case 8:_context129.prev=8;_context129.t0=_context129[\"catch\"](2);if(!SessionManager.isUnrecoverableError(_context129.t0)){_context129.next=12;break;}return _context129.abrupt(\"return\",Promise.reject(_context129.t0));case 12:count++;_context129.next=15;return new Promise(function(done){return setTimeout(done,SessionManager.timeoutForAttempt(count));});case 15:_context129.next=1;break;case 17:case\"end\":return _context129.stop();}},_callee129,this,[[2,8]]);}));};this.timeout=null;this._subscriptionService.subscribeToState(this._onDataChange);}_createClass(SessionManager,[{key:\"performBackgroundRefresh\",value:function performBackgroundRefresh(){var _this26=this;this._reauthenticateWithBackoff().then(function(){_this26.scheduleBackgroundRefresh();})[\"catch\"](function(error){logger.warn('Session background refresh failed. Signalling to app that user is logged out.',{error:error});_this26._subscriptionService.destroySession();});}},{key:\"scheduleBackgroundRefresh\",value:function scheduleBackgroundRefresh(){var _this27=this;this.cancelBackgroundRefresh();this.timeout=setTimeout(function(){_this27.performBackgroundRefresh();},SessionManager.REFRESH_INTERVAL_MS);}},{key:\"cancelBackgroundRefresh\",value:function cancelBackgroundRefresh(){if(this.timeout!==null){clearTimeout(this.timeout);this.timeout=null;}}}],[{key:\"timeoutForAttempt\",value:function timeoutForAttempt(count){count=Math.min(count,7);var jitter=Math.floor(Math.random()*350)-175;var delayMS=2000*Math.pow(2,count);return jitter+delayMS;}},{key:\"isUnrecoverableError\",value:function isUnrecoverableError(error){return UNRECOVERABLE_ERROR_TYPES.includes(error.error_type);}}]);return SessionManager;}();SessionManager.REFRESH_INTERVAL_MS=1000*60*3;var StateChangeClient=/*#__PURE__*/_createClass(function StateChangeClient(_subscriptionService,emptyState){var _this28=this;_classCallCheck(this,StateChangeClient);this._subscriptionService=_subscriptionService;this.emptyState=emptyState;this.onStateChange=function(callback){return _this28._subscriptionService.subscribeToState(function(state){callback(state!==null&&state!==void 0?state:_this28.emptyState);});};});var BOOTSTRAP_CACHE_KEY='bootstrap';var DEFAULT_BOOTSTRAP=function DEFAULT_BOOTSTRAP(){return{displayWatermark:false,cnameDomain:null,emailDomains:['stytch.com'],captchaSettings:{enabled:false},pkceRequiredForEmailMagicLinks:false,pkceRequiredForPasswordResets:false,pkceRequiredForOAuth:false,pkceRequiredForSso:false,slugPattern:null,createOrganizationEnabled:false,passwordConfig:null,runDFPProtectedAuth:false,rbacPolicy:null};};var BootstrapDataManager=/*#__PURE__*/function(){function BootstrapDataManager(_publicToken,_networkClient,_dataLayer){var _this9=this;_classCallCheck2(this,BootstrapDataManager);this._publicToken=_publicToken;this._networkClient=_networkClient;this._dataLayer=_dataLayer;this._bootstrapDataPromise=this._networkClient.fetchSDK({url:\"/projects/bootstrap/\".concat(this._publicToken),method:'GET',errorMessage:\"Error fetching bootstrap data for SDK for \".concat(this._publicToken)}).then(BootstrapDataManager.mapBootstrapData).then(function(data){_this9._dataLayer.setItem(BOOTSTRAP_CACHE_KEY,JSON.stringify(data));return data;})[\"catch\"](function(error){logger.error(error);return DEFAULT_BOOTSTRAP();});}_createClass2(BootstrapDataManager,[{key:\"getSync\",value:function getSync(){var cached=this._dataLayer.getItem(BOOTSTRAP_CACHE_KEY);if(cached===null){return DEFAULT_BOOTSTRAP();}try{return JSON.parse(cached);}catch(_a){return DEFAULT_BOOTSTRAP();}}},{key:\"getAsync\",value:function getAsync(){return this._bootstrapDataPromise;}}],[{key:\"mapBootstrapData\",value:function mapBootstrapData(response){var _a,_b;var passwordConfig=response.password_config!==null?{ludsComplexity:response.password_config.luds_complexity,ludsMinimumCount:response.password_config.luds_minimum_count}:null;return{displayWatermark:!response.disable_sdk_watermark,captchaSettings:response.captcha_settings,cnameDomain:response.cname_domain,emailDomains:response.email_domains,pkceRequiredForEmailMagicLinks:response.pkce_required_for_email_magic_links,pkceRequiredForPasswordResets:response.pkce_required_for_password_resets,pkceRequiredForOAuth:response.pkce_required_for_oauth,pkceRequiredForSso:response.pkce_required_for_sso,slugPattern:response.slug_pattern,createOrganizationEnabled:response.create_organization_enabled,passwordConfig:passwordConfig,runDFPProtectedAuth:(_a=response.dfp_protected_auth_enabled)!==null&&_a!==void 0?_a:false,dfpProtectedAuthMode:response.dfp_protected_auth_mode,rbacPolicy:(_b=response.rbac_policy)!==null&&_b!==void 0?_b:null};}}]);return BootstrapDataManager;}();function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator[\"throw\"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});}typeof SuppressedError===\"function\"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name=\"SuppressedError\",e.error=error,e.suppressed=suppressed,e;};var loadRecaptchaClient=function loadRecaptchaClient(siteKey){return loadESModule(\"https://www.google.com/recaptcha/enterprise.js?render=\".concat(siteKey),function(){return window.grecaptcha.enterprise;});};var CaptchaProvider=/*#__PURE__*/_createClass2(function CaptchaProvider(bootstrapPromise){var _this10=this;_classCallCheck2(this,CaptchaProvider);this.bootstrapPromise=bootstrapPromise;this.executeRecaptcha=function(){return __awaiter(_this10,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee59(){var _yield$this$state4,captchaClient,configured,siteKey;return _regeneratorRuntime2().wrap(function _callee59$(_context59){while(1)switch(_context59.prev=_context59.next){case 0:_context59.next=2;return this.state;case 2:_yield$this$state4=_context59.sent;captchaClient=_yield$this$state4.captchaClient;configured=_yield$this$state4.configured;siteKey=_yield$this$state4.siteKey;if(configured){_context59.next=8;break;}return _context59.abrupt(\"return\",undefined);case 8:_context59.next=10;return new Promise(function(resolve){return captchaClient.ready(resolve);});case 10:return _context59.abrupt(\"return\",captchaClient.execute(siteKey,{action:'LOGIN'}));case 11:case\"end\":return _context59.stop();}},_callee59,this);}));};this.state=bootstrapPromise.then(function(bootstrapData){return __awaiter(_this10,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee60(){return _regeneratorRuntime2().wrap(function _callee60$(_context60){while(1)switch(_context60.prev=_context60.next){case 0:if(bootstrapData.captchaSettings.enabled){_context60.next=2;break;}return _context60.abrupt(\"return\",{configured:false});case 2:_context60.next=4;return loadRecaptchaClient(bootstrapData.captchaSettings.siteKey);case 4:_context60.t0=_context60.sent;_context60.t1=bootstrapData.captchaSettings.siteKey;return _context60.abrupt(\"return\",{configured:true,captchaClient:_context60.t0,siteKey:_context60.t1});case 7:case\"end\":return _context60.stop();}},_callee60);}));});});var ClientsideServicesProvider=/*#__PURE__*/function(){function ClientsideServicesProvider(iframeURL){var _this11=this;_classCallCheck2(this,ClientsideServicesProvider);this.iframeURL=iframeURL;this.oneTapStart=function(req){return _this11.call('oneTapStart',req);};this.oneTapSubmit=function(req){return _this11.call('oneTapSubmit',req);};this.parsedPhoneNumber=function(req){return _this11.call('parsedPhoneNumber',req);};}_createClass2(ClientsideServicesProvider,[{key:\"frameClient\",get:function get(){var _a;this._frameClient=(_a=this._frameClient)!==null&&_a!==void 0?_a:new IframeHostClient(this.iframeURL);return this._frameClient;}},{key:\"call\",value:function call(handlerName,req){return this.frameClient.call(handlerName,[req]);}}]);return ClientsideServicesProvider;}();var HeadlessOAuthClient=/*#__PURE__*/function(_HeadlessOAuthClient$){_inherits2(HeadlessOAuthClient,_HeadlessOAuthClient$);function HeadlessOAuthClient(_networkClient,_subscriptionService,_pkceManager,_dynamicConfig,_config,_oneTap){var _this12;_classCallCheck2(this,HeadlessOAuthClient);_this12=_callSuper2(this,HeadlessOAuthClient,[_networkClient,_subscriptionService,_pkceManager,_dynamicConfig,_config]);_this12._oneTap=_oneTap;_this12.startOneTap=function(options){return __awaiter(_assertThisInitialized2(_this12),void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee61(){var clientResult,client,onSuccessCallback;return _regeneratorRuntime2().wrap(function _callee61$(_context61){while(1)switch(_context61.prev=_context61.next){case 0:_context61.next=2;return this._oneTap.createOneTapClient();case 2:clientResult=_context61.sent;if(clientResult.success){_context61.next=5;break;}throw new Error(\"One Tap could not load: \".concat(clientResult.reason));case 5:client=clientResult.client;onSuccessCallback=this._oneTap.createOnSuccessHandler({signupRedirectUrl:options.signup_redirect_url,loginRedirectUrl:options.login_redirect_url,onSuccess:this._oneTap.RedirectOnSuccess});return _context61.abrupt(\"return\",client.render({style:{position:OneTapPositions.floating},onOneTapCancelled:options.onOneTapCancelled,callback:onSuccessCallback}));case 8:case\"end\":return _context61.stop();}},_callee61,this);}));};_this12.googleOneTap={start:_this12.startOneTap};return _this12;}return _createClass2(HeadlessOAuthClient);}(HeadlessOAuthClient$1);var version=\"4.15.0\";var NetworkClient=/*#__PURE__*/function(){function NetworkClient(_publicToken,_subscriptionDataLayer,baseURL,additionalTelemetryDataFn){_classCallCheck2(this,NetworkClient);this._publicToken=_publicToken;this._subscriptionDataLayer=_subscriptionDataLayer;this.baseURL=baseURL;this.additionalTelemetryDataFn=additionalTelemetryDataFn;this.updateSessionToken=function(){return null;};this.eventLogger=new EventLogger({maxBatchSize:DEFAULT_MAX_BATCH_SIZE,intervalDurationMs:DEFAULT_INTERVAL_DURATION_MS,logEventURL:this.buildSDKUrl('/events')});}_createClass2(NetworkClient,[{key:\"logEvent\",value:function logEvent(_ref4){var name=_ref4.name,details=_ref4.details,_ref4$error=_ref4.error,error=_ref4$error===void 0?{}:_ref4$error;this.eventLogger.logEvent(this.createTelemetryBlob(),{public_token:this._publicToken,event_name:name,details:details,error_code:error.error_code,error_description:error.error_description,http_status_code:error.http_status_code});}},{key:\"createTelemetryBlob\",value:function createTelemetryBlob(){return Object.assign(Object.assign({event_id:createEventId(),app_session_id:createAppSessionId(),persistent_id:createPersistentId(),client_sent_at:new Date().toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},this.additionalTelemetryDataFn()),{app:{identifier:window.location.hostname},sdk:{identifier:'Stytch.js Javascript SDK',version:version}});}},{key:\"fetchSDK\",value:function fetchSDK(_ref5){var url=_ref5.url,body=_ref5.body,errorMessage=_ref5.errorMessage,method=_ref5.method;return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee62(){var sessionToken,basicAuthHeader,xSDKClientHeader,xSDKParentHostHeader;return _regeneratorRuntime2().wrap(function _callee62$(_context62){while(1)switch(_context62.prev=_context62.next){case 0:sessionToken=this._subscriptionDataLayer.readSessionCookie().session_token;basicAuthHeader='Basic '+window.btoa(this._publicToken+':'+(sessionToken||this._publicToken));xSDKClientHeader=window.btoa(JSON.stringify(this.createTelemetryBlob()));xSDKParentHostHeader=window.location.origin;return _context62.abrupt(\"return\",baseFetchSDK({basicAuthHeader:basicAuthHeader,body:body,errorMessage:errorMessage,finalURL:this.buildSDKUrl(url),method:method,xSDKClientHeader:xSDKClientHeader,xSDKParentHostHeader:xSDKParentHostHeader}));case 5:case\"end\":return _context62.stop();}},_callee62,this);}));}},{key:\"retriableFetchSDK\",value:function retriableFetchSDK(_ref6){var url=_ref6.url,body=_ref6.body,errorMessage=_ref6.errorMessage,method=_ref6.method,retryCallback=_ref6.retryCallback;return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee63(){var sessionToken,basicAuthHeader,xSDKClientHeader,xSDKParentHostHeader;return _regeneratorRuntime2().wrap(function _callee63$(_context63){while(1)switch(_context63.prev=_context63.next){case 0:sessionToken=this._subscriptionDataLayer.readSessionCookie().session_token;basicAuthHeader='Basic '+window.btoa(this._publicToken+':'+(sessionToken||this._publicToken));xSDKClientHeader=window.btoa(JSON.stringify(this.createTelemetryBlob()));xSDKParentHostHeader=window.location.origin;return _context63.abrupt(\"return\",_retriableFetchSDK({basicAuthHeader:basicAuthHeader,body:body,errorMessage:errorMessage,finalURL:this.buildSDKUrl(url),method:method,xSDKClientHeader:xSDKClientHeader,xSDKParentHostHeader:xSDKParentHostHeader,retryCallback:retryCallback}));case 5:case\"end\":return _context63.stop();}},_callee63,this);}));}},{key:\"buildSDKUrl\",value:function buildSDKUrl(url){return\"\".concat(this.baseURL,\"/sdk/v1\").concat(url);}}]);return NetworkClient;}();var navigatorSupportsFedCM=typeof window!=='undefined'&&'IdentityCredential'in window;var getConfiguredEmbeddedMode=function getConfiguredEmbeddedMode(position){if(position===OneTapPositions.forceLegacyEmbedded){return'force';}if(position===OneTapPositions.embeddedOnly||position===OneTapPositions.embedded||position===OneTapPositions.floatingOrEmbedded){return true;}return false;};var getShouldRenderEmbeddedOneTap=function getShouldRenderEmbeddedOneTap(position){var embeddedMode=getConfiguredEmbeddedMode(position);return embeddedMode==='force'||embeddedMode&&!navigatorSupportsFedCM;};var getShouldRenderFloatingOneTap=function getShouldRenderFloatingOneTap(position){return position!==OneTapPositions.embeddedOnly&&!getShouldRenderEmbeddedOneTap(position);};var getRenderedOneTapMode=function getRenderedOneTapMode(position){var embeddedMode=getConfiguredEmbeddedMode(position);if(embeddedMode==='force'||embeddedMode&&!navigatorSupportsFedCM){return'embedded';}if(position!==OneTapPositions.embeddedOnly){return'floating';}return false;};var GoogleOneTapClient=/*#__PURE__*/function(){function GoogleOneTapClient(_googleClient,_clientId){_classCallCheck2(this,GoogleOneTapClient);this._googleClient=_googleClient;this._clientId=_clientId;}_createClass2(GoogleOneTapClient,[{key:\"cancel\",value:function cancel(){this._googleClient.cancel();}},{key:\"render\",value:function render(_ref8){var callback=_ref8.callback,onOneTapCancelled=_ref8.onOneTapCancelled,style=_ref8.style;return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee64(){var _this13=this;var embeddedMode,shouldRenderEmbeddedOneTap,config;return _regeneratorRuntime2().wrap(function _callee64$(_context64){while(1)switch(_context64.prev=_context64.next){case 0:embeddedMode=getConfiguredEmbeddedMode(style.position);shouldRenderEmbeddedOneTap=getShouldRenderEmbeddedOneTap(style.position);config={client_id:this._clientId,callback:callback,auto_select:false,context:'use',itp_support:true,use_fedcm_for_prompt:embeddedMode!=='force'};if(shouldRenderEmbeddedOneTap){config.prompt_parent_id='google-parent-prompt';config.cancel_on_tap_outside=false;}this._googleClient.initialize(config);return _context64.abrupt(\"return\",new Promise(function(resolve){_this13._googleClient.prompt(function(notification){var _a,_b,_c,_d,_e;if(notification.isSkippedMoment()){var reason=(_b=(_a=notification.getSkippedReason)===null||_a===void 0?void 0:_a.call(notification))!==null&&_b!==void 0?_b:'unknown_reason';if(reason==='user_cancel'){onOneTapCancelled===null||onOneTapCancelled===void 0?void 0:onOneTapCancelled();}return resolve({success:false,reason:reason});}if(!notification.isNotDisplayed&&shouldRenderEmbeddedOneTap||((_c=notification.isNotDisplayed)===null||_c===void 0?void 0:_c.call(notification))){return resolve({success:false,reason:(_e=(_d=notification.getNotDisplayedReason)===null||_d===void 0?void 0:_d.call(notification))!==null&&_e!==void 0?_e:'unknown_reason'});}if(!notification.isDismissedMoment()){_this13.styleFrame(shouldRenderEmbeddedOneTap);return resolve({success:true});}});}));case 6:case\"end\":return _context64.stop();}},_callee64,this);}));}},{key:\"styleFrame\",value:function styleFrame(shouldRenderEmbeddedOneTap){if(!shouldRenderEmbeddedOneTap){return;}Array.from(document.getElementsByTagName('iframe')).forEach(function(frame){if(frame.src.includes(GOOGLE_ONE_TAP_HOST)){frame.style.width='100%';}});}}]);return GoogleOneTapClient;}();var loadGoogleOneTapClient=function loadGoogleOneTapClient(){return loadESModule(GOOGLE_ONE_TAP_SCRIPT_URL,function(){return window.google.accounts.id;});};var OneTapProvider=/*#__PURE__*/function(){function OneTapProvider(_publicToken,clientsideServices){var _this14=this;_classCallCheck2(this,OneTapProvider);this._publicToken=_publicToken;this.clientsideServices=clientsideServices;this.createOnSuccessHandler=function(_ref9){var loginRedirectUrl=_ref9.loginRedirectUrl,signupRedirectUrl=_ref9.signupRedirectUrl,onSuccess=_ref9.onSuccess;return function(response){return __awaiter(_this14,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee65(){var credential,_yield$this$submitGoo,redirect_url;return _regeneratorRuntime2().wrap(function _callee65$(_context65){while(1)switch(_context65.prev=_context65.next){case 0:credential=response.credential;_context65.next=3;return this.submitGoogleOneTapToken({credential:credential,loginRedirectUrl:loginRedirectUrl,signupRedirectUrl:signupRedirectUrl});case 3:_yield$this$submitGoo=_context65.sent;redirect_url=_yield$this$submitGoo.redirect_url;onSuccess(redirect_url);case 6:case\"end\":return _context65.stop();}},_callee65,this);}));};};this.RedirectOnSuccess=function(redirect_url){window.location.href=redirect_url;};}_createClass2(OneTapProvider,[{key:\"createOneTapClient\",value:function createOneTapClient(){return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee66(){var googleClientId,_yield$this$fetchGoog,err,client;return _regeneratorRuntime2().wrap(function _callee66$(_context66){while(1)switch(_context66.prev=_context66.next){case 0:_context66.prev=0;_context66.next=3;return this.fetchGoogleStart();case 3:_yield$this$fetchGoog=_context66.sent;googleClientId=_yield$this$fetchGoog.googleClientId;_context66.next=11;break;case 7:_context66.prev=7;_context66.t0=_context66[\"catch\"](0);err=_context66.t0;return _context66.abrupt(\"return\",{success:false,reason:err.error_type});case 11:if(!(googleClientId==='')){_context66.next=13;break;}return _context66.abrupt(\"return\",{success:false,reason:'oauth_config_not_found'});case 13:_context66.t1=GoogleOneTapClient;_context66.next=16;return loadGoogleOneTapClient();case 16:_context66.t2=_context66.sent;_context66.t3=googleClientId;client=new _context66.t1(_context66.t2,_context66.t3);return _context66.abrupt(\"return\",{success:true,client:client});case 20:case\"end\":return _context66.stop();}},_callee66,this,[[0,7]]);}));}},{key:\"fetchGoogleStart\",value:function fetchGoogleStart(){if(this.googleConfig){return this.googleConfig;}this.googleConfig=this.clientsideServices.oneTapStart({publicToken:this._publicToken});return this.googleConfig;}},{key:\"submitGoogleOneTapToken\",value:function submitGoogleOneTapToken(_ref10){var credential=_ref10.credential,loginRedirectUrl=_ref10.loginRedirectUrl,signupRedirectUrl=_ref10.signupRedirectUrl;return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee67(){var _yield$this$fetchGoog2,oauthCallbackId;return _regeneratorRuntime2().wrap(function _callee67$(_context67){while(1)switch(_context67.prev=_context67.next){case 0:_context67.next=2;return this.fetchGoogleStart();case 2:_yield$this$fetchGoog2=_context67.sent;oauthCallbackId=_yield$this$fetchGoog2.oauthCallbackId;return _context67.abrupt(\"return\",this.clientsideServices.oneTapSubmit({publicToken:this._publicToken,idToken:credential,loginRedirectURL:loginRedirectUrl,oauthCallbackID:oauthCallbackId,signupRedirectURL:signupRedirectUrl}));case 5:case\"end\":return _context67.stop();}},_callee67,this);}));}}],[{key:\"WillGoogleOneTapShowBannerForUA\",value:function WillGoogleOneTapShowBannerForUA(ua){var uaContains=function uaContains(userAgent,searchString){return userAgent.indexOf(searchString)!==-1;};var isTabletUA=uaContains(ua,'iPad')||uaContains(ua,'Android')&&!uaContains(ua,'Mobile')||uaContains(ua,'Silk');var isMobileUA=uaContains(ua,'iPod')||uaContains(ua,'iPhone')||uaContains(ua,'Android')||uaContains(ua,'IEMobile');return!isTabletUA&&isMobileUA;}},{key:\"WillGoogleOneTapShowEmbedded\",value:function WillGoogleOneTapShowEmbedded(){return!OneTapProvider.WillGoogleOneTapShowBannerForUA(navigator.userAgent);}}]);return OneTapProvider;}();var PKCE_VERIFIER_STORAGE_KEY='PKCE_VERIFIER';function toHex(n){var str=n.toString(16);if(str.length===1){str='0'+str;}return str;}function base64URLEncode(buf){var _String$fromCharCode;return btoa((_String$fromCharCode=String.fromCharCode).call.apply(_String$fromCharCode,[null].concat(_toConsumableArray(new Uint8Array(buf))))).replace(/\\+/g,'-').replace(/\\//g,'_').replace(/=+$/,'');}var PKCEManager=/*#__PURE__*/function(){function PKCEManager(_dataLayer,namespace){_classCallCheck2(this,PKCEManager);this._dataLayer=_dataLayer;this.namespace=namespace;}_createClass2(PKCEManager,[{key:\"key\",value:function key(){return PKCE_VERIFIER_STORAGE_KEY+':'+this.namespace;}},{key:\"startPKCETransaction\",value:function startPKCETransaction(){return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee68(){var keyPair;return _regeneratorRuntime2().wrap(function _callee68$(_context68){while(1)switch(_context68.prev=_context68.next){case 0:_context68.next=2;return PKCEManager.createProofkeyPair();case 2:keyPair=_context68.sent;this._dataLayer.setItem(this.key(),JSON.stringify(keyPair));return _context68.abrupt(\"return\",keyPair);case 5:case\"end\":return _context68.stop();}},_callee68,this);}));}},{key:\"getPKPair\",value:function getPKPair(){var serialized=this._dataLayer.getItem(this.key());if(serialized===null){return undefined;}try{return JSON.parse(serialized);}catch(_a){logger.warn('Found malformed Proof Key pair in localstorage.');return undefined;}}},{key:\"clearPKPair\",value:function clearPKPair(){return this._dataLayer.removeItem(this.key());}}],[{key:\"createProofkeyPair\",value:function createProofkeyPair(){return __awaiter(this,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee69(){var bytes,codeVerifier,digest;return _regeneratorRuntime2().wrap(function _callee69$(_context69){while(1)switch(_context69.prev=_context69.next){case 0:bytes=new Uint32Array(16);window.crypto.getRandomValues(bytes);codeVerifier=Array.from(bytes).map(toHex).join('');_context69.next=5;return window.crypto.subtle.digest('SHA-256',new TextEncoder().encode(codeVerifier));case 5:digest=_context69.sent;return _context69.abrupt(\"return\",{code_challenge:base64URLEncode(digest),code_verifier:codeVerifier});case 7:case\"end\":return _context69.stop();}},_callee69);}));}}]);return PKCEManager;}();var createDeepEqual=function createDeepEqual(){var _ref11=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref11$KEYS_TO_EXCLUD=_ref11.KEYS_TO_EXCLUDE,KEYS_TO_EXCLUDE=_ref11$KEYS_TO_EXCLUD===void 0?[]:_ref11$KEYS_TO_EXCLUD;var deepEqual=function deepEqual(a,b){if(_typeof2(a)!==_typeof2(b))return false;if(a===null||b===null)return a===b;if(_typeof2(a)==='object'){if(Object.keys(a).length!==Object.keys(b).length||Object.keys(a).some(function(k){return!(k in b);}))return false;return Object.entries(a).filter(function(_ref12){var _ref13=_slicedToArray2(_ref12,1),k=_ref13[0];return!KEYS_TO_EXCLUDE.includes(k);}).every(function(_ref14){var _ref15=_slicedToArray2(_ref14,2),k=_ref15[0],v=_ref15[1];return deepEqual(v,b[k]);});}return a===b;};return deepEqual;};var EMAIL_REGEX=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/i;var convertMagicLinkOptions=function convertMagicLinkOptions(options){return{signup_magic_link_url:options.signupRedirectURL,signup_expiration_minutes:options.signupExpirationMinutes,login_magic_link_url:options.loginRedirectURL,login_expiration_minutes:options.loginExpirationMinutes,login_template_id:options.loginTemplateId,signup_template_id:options.signupTemplateId};};var convertPasswordResetOptions=function convertPasswordResetOptions(email,options){return{email:email,login_redirect_url:options.loginRedirectURL,login_expiration_minutes:options.loginExpirationMinutes,reset_password_redirect_url:options.resetPasswordRedirectURL,reset_password_expiration_minutes:options.resetPasswordExpirationMinutes,reset_password_template_id:options.resetPasswordTemplateId};};var debounce=function debounce(func){var waitFor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var timeout;var debounced=function debounced(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}clearTimeout(timeout);timeout=setTimeout(function(){return func.apply(void 0,args);},waitFor);};return debounced;};var isLocalhost=function isLocalhost(){return Boolean(window.location.hostname==='localhost'||window.location.hostname==='[::1]'||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));};var buildFinalConfig=function buildFinalConfig(opts){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;return{cookieOptions:opts===null||opts===void 0?void 0:opts.cookieOptions,endpoints:{sdkBackendURL:(_b=(_a=opts===null||opts===void 0?void 0:opts.endpoints)===null||_a===void 0?void 0:_a.sdkBackendURL)!==null&&_b!==void 0?_b:STYTCH_WEB_BACKEND_URL,testAPIURL:(_d=(_c=opts===null||opts===void 0?void 0:opts.endpoints)===null||_c===void 0?void 0:_c.testAPIURL)!==null&&_d!==void 0?_d:TEST_API_URL,liveAPIURL:(_f=(_e=opts===null||opts===void 0?void 0:opts.endpoints)===null||_e===void 0?void 0:_e.liveAPIURL)!==null&&_f!==void 0?_f:LIVE_API_URL,dfpBackendURL:(_h=(_g=opts===null||opts===void 0?void 0:opts.endpoints)===null||_g===void 0?void 0:_g.dfpBackendURL)!==null&&_h!==void 0?_h:STYTCH_DFP_BACKEND_URL,clientsideServicesIframeURL:(_k=(_j=opts===null||opts===void 0?void 0:opts.endpoints)===null||_j===void 0?void 0:_j.clientsideServicesIframeURL)!==null&&_k!==void 0?_k:CLIENTSIDE_SERVICES_IFRAME_URL}};};var hasMultipleCookies=function hasMultipleCookies(cookieName){var cookiePairs=document.cookie?document.cookie.split('; '):[];var matchedCookies=cookiePairs.filter(function(pair){var _pair$split=pair.split('='),_pair$split2=_slicedToArray2(_pair$split,1),name=_pair$split2[0];return cookieName===name;});return matchedCookies.length>1;};var LOCAL_STORAGE_KEY_PREFIX='stytch_sdk_state_';var getLocalStorageKey=function getLocalStorageKey(publicToken){var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return\"\".concat(LOCAL_STORAGE_KEY_PREFIX).concat(publicToken).concat(key?\"::\".concat(key):'');};/*! js-cookie v3.0.1 | MIT */function assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){target[key]=source[key];}}return target;}var defaultConverter={read:function read(value){if(value[0]==='\"'){value=value.slice(1,-1);}return value.replace(/(%[\\dA-F]{2})+/gi,decodeURIComponent);},write:function write(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent);}};function init(converter,defaultAttributes){function set(key,value,attributes){if(typeof document==='undefined'){return;}attributes=assign({},defaultAttributes,attributes);if(typeof attributes.expires==='number'){attributes.expires=new Date(Date.now()+attributes.expires*864e5);}if(attributes.expires){attributes.expires=attributes.expires.toUTCString();}key=encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue;}stringifiedAttributes+='; '+attributeName;if(attributes[attributeName]===true){continue;}stringifiedAttributes+='='+attributes[attributeName].split(';')[0];}return document.cookie=key+'='+converter.write(value,key)+stringifiedAttributes;}function get(key){if(typeof document==='undefined'||arguments.length&&!key){return;}var cookies=document.cookie?document.cookie.split('; '):[];var jar={};for(var i=0;i<cookies.length;i++){var parts=cookies[i].split('=');var value=parts.slice(1).join('=');try{var foundKey=decodeURIComponent(parts[0]);jar[foundKey]=converter.read(value,foundKey);if(key===foundKey){break;}}catch(e){}}return key?jar[key]:jar;}return Object.create({set:set,get:get,remove:function remove(key,attributes){set(key,'',assign({},attributes,{expires:-1}));},withAttributes:function withAttributes(attributes){return init(this.converter,assign({},this.attributes,attributes));},withConverter:function withConverter(converter){return init(assign({},this.converter,converter),this.attributes);}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}});}var api=init(defaultConverter,{path:'/'});var cookieVerificationTimeouts=new Map();var cancelCookieRestoration=function cancelCookieRestoration(name){clearTimeout(cookieVerificationTimeouts.get(name));};var setCookiePersistently=function setCookiePersistently(name,value,options){var COOKIE_VERIFY_DELAY_MS=10;cancelCookieRestoration(name);var timeoutId=setTimeout(function(){if(api.get(name)===undefined){api.set(name,value,options);}},COOKIE_VERIFY_DELAY_MS);cookieVerificationTimeouts.set(name,timeoutId);return api.set(name,value,options);};var STYTCH_SESSION_COOKIE='stytch_session';var STYTCH_SESSION_JWT_COOKIE='stytch_session_jwt';var STYTCH_INTERMEDIATE_SESSION_TOKEN_COOKIE='stytch_intermediate_session_token';var SubscriptionDataLayer=/*#__PURE__*/function(){function SubscriptionDataLayer(publicToken,options){var _this15=this;_classCallCheck2(this,SubscriptionDataLayer);this.browserSessionStorage={getItem:function getItem(key){return sessionStorage.getItem(getLocalStorageKey(_this15.publicToken,key));},setItem:function setItem(key,value){return sessionStorage.setItem(getLocalStorageKey(_this15.publicToken,key),value);},removeItem:function removeItem(key){return sessionStorage.removeItem(getLocalStorageKey(_this15.publicToken,key));}};this.publicToken=publicToken;this.state=null;this.stateKeysUpdated=new Set();this.subscriptions={};if(options===null||options===void 0?void 0:options.cookieOptions){validate('SubscriptionDataLayer').isOptionalString('cookieOptions.opaqueTokenCookieName',options.cookieOptions.opaqueTokenCookieName).isOptionalString('cookieOptions.jwtCookieName',options.cookieOptions.jwtCookieName).isOptionalString('cookieOptions.istCookieName',options.cookieOptions.istCookieName).isOptionalString('cookieOptions.path',options.cookieOptions.path).isOptionalString('cookieOptions.domain',options.cookieOptions.domain);this._jwtCookieName=options.cookieOptions.jwtCookieName||null;this._opaqueTokenCookieName=options.cookieOptions.opaqueTokenCookieName||null;this._cookiePath=options.cookieOptions.path||null;this._domain=options.cookieOptions.domain||null;this._cookieAvailableToSubdomains=options.cookieOptions.availableToSubdomains||false;this._istCookieName=options.cookieOptions.istCookieName||null;}else{this._opaqueTokenCookieName=null;this._jwtCookieName=null;this._cookiePath=null;this._domain=null;this._cookieAvailableToSubdomains=false;this._istCookieName=null;}var localStorageState=localStorage.getItem(getLocalStorageKey(this.publicToken));if(!localStorageState){return;}var parsedState;try{parsedState=JSON.parse(localStorageState);}catch(e){this.syncToLocalStorage();return;}this.state=parsedState;}_createClass2(SubscriptionDataLayer,[{key:\"opaqueTokenCookieName\",get:function get(){var _a;return(_a=this._opaqueTokenCookieName)!==null&&_a!==void 0?_a:STYTCH_SESSION_COOKIE;}},{key:\"jwtCookieName\",get:function get(){var _a;return(_a=this._jwtCookieName)!==null&&_a!==void 0?_a:STYTCH_SESSION_JWT_COOKIE;}},{key:\"istCookieName\",get:function get(){var _a;return(_a=this._istCookieName)!==null&&_a!==void 0?_a:STYTCH_INTERMEDIATE_SESSION_TOKEN_COOKIE;}},{key:\"readSessionCookie\",value:function readSessionCookie(){return{session_token:api.get(this.opaqueTokenCookieName),session_jwt:api.get(this.jwtCookieName)};}},{key:\"readIntermediateSessionTokenCookie\",value:function readIntermediateSessionTokenCookie(){return api.get(this.istCookieName);}},{key:\"writeSessionCookie\",value:function writeSessionCookie(stateDiff){var _a,_b,_c,_d;var state=stateDiff.state,session_token=stateDiff.session_token,session_jwt=stateDiff.session_jwt;var cookieOpts=SubscriptionDataLayer.generateCookieOpts({expiresAt:(_b=(_a=state===null||state===void 0?void 0:state.session)===null||_a===void 0?void 0:_a.expires_at)!==null&&_b!==void 0?_b:'',availableToSubdomains:this._cookieAvailableToSubdomains,path:this._cookiePath,domain:this._domain});setCookiePersistently(this.opaqueTokenCookieName,session_token,cookieOpts);setCookiePersistently(this.jwtCookieName,session_jwt,cookieOpts);var alternateCookieOptions=SubscriptionDataLayer.generateCookieOpts({expiresAt:(_d=(_c=state===null||state===void 0?void 0:state.session)===null||_c===void 0?void 0:_c.expires_at)!==null&&_d!==void 0?_d:'',availableToSubdomains:!this._cookieAvailableToSubdomains,path:this._cookiePath,domain:this._domain});if(hasMultipleCookies(this.jwtCookieName)){api.remove(this.jwtCookieName,alternateCookieOptions);}if(hasMultipleCookies(this.opaqueTokenCookieName)){api.remove(this.opaqueTokenCookieName,alternateCookieOptions);}if(hasMultipleCookies(this.jwtCookieName)){logger.warn('Could not remove extraneous JWT cookie. This might happen if the cookie has been set using multiple `path` settings, and may produce unwanted behavior.');}if(hasMultipleCookies(this.opaqueTokenCookieName)){logger.warn('Could not remove extraneous opaque token cookie.');}}},{key:\"writeIntermediateSessionTokenCookie\",value:function writeIntermediateSessionTokenCookie(IST){var expiresAtTime=new Date(Date.now()+10*60000);var cookieOpts=SubscriptionDataLayer.generateCookieOpts({expiresAt:expiresAtTime.toString(),availableToSubdomains:this._cookieAvailableToSubdomains,path:this._cookiePath,domain:this._domain});setCookiePersistently(this.istCookieName,IST,cookieOpts);}},{key:\"removeSessionCookie\",value:function removeSessionCookie(){this.removeCookies([this.opaqueTokenCookieName,this.jwtCookieName]);}},{key:\"removeISTCookie\",value:function removeISTCookie(){this.removeCookies([this.istCookieName]);}},{key:\"removeCookies\",value:function removeCookies(cookiesToRemove){var _this16=this;[true,false].forEach(function(availableToSubdomains){[_this16._cookiePath,null].forEach(function(path){[_this16._domain,null].forEach(function(domain){var cookieOpts=SubscriptionDataLayer.generateCookieOpts({expiresAt:new Date(0).toString(),availableToSubdomains:availableToSubdomains,path:path,domain:domain});cookiesToRemove.forEach(function(cookieName){api.remove(cookieName,cookieOpts);});});});});cookiesToRemove.forEach(cancelCookieRestoration);}},{key:\"syncToLocalStorage\",value:function syncToLocalStorage(){localStorage.setItem(getLocalStorageKey(this.publicToken),JSON.stringify(this.state));}},{key:\"getItem\",value:function getItem(key){return localStorage.getItem(getLocalStorageKey(this.publicToken,key));}},{key:\"setItem\",value:function setItem(key,value){return localStorage.setItem(getLocalStorageKey(this.publicToken,key),value);}},{key:\"removeItem\",value:function removeItem(key){return localStorage.removeItem(getLocalStorageKey(this.publicToken,key));}}],[{key:\"generateCookieOpts\",value:function generateCookieOpts(_ref16){var path=_ref16.path,domain=_ref16.domain,availableToSubdomains=_ref16.availableToSubdomains,expiresAt=_ref16.expiresAt;var cookieOpts={expires:new Date(expiresAt),sameSite:'lax'};if(path){cookieOpts.path=path;}if(isLocalhost()){cookieOpts.secure=false;}else{if(availableToSubdomains){cookieOpts.domain=domain||window.location.host;}cookieOpts.secure=true;}return cookieOpts;}}]);return SubscriptionDataLayer;}();var ConsumerSubscriptionDataLayer=/*#__PURE__*/function(_SubscriptionDataLaye){_inherits2(ConsumerSubscriptionDataLayer,_SubscriptionDataLaye);function ConsumerSubscriptionDataLayer(){_classCallCheck2(this,ConsumerSubscriptionDataLayer);return _callSuper2(this,ConsumerSubscriptionDataLayer,arguments);}return _createClass2(ConsumerSubscriptionDataLayer);}(SubscriptionDataLayer);var consumerDataLayerCacheSymbol=Symbol[\"for\"]('__stytch_DataLayer');var getConsumerDataLayerCache=function getConsumerDataLayerCache(){var wdw=window;if(!wdw[consumerDataLayerCacheSymbol]){wdw[consumerDataLayerCacheSymbol]={};}return wdw[consumerDataLayerCacheSymbol];};var getConsumerDataLayer=function getConsumerDataLayer(publicToken,options){var dataLayerCache=getConsumerDataLayerCache();if(!dataLayerCache[publicToken]){dataLayerCache[publicToken]=new ConsumerSubscriptionDataLayer(publicToken,options);}return dataLayerCache[publicToken];};var addSubscriber=function addSubscriber(collection,subscriber){var uniqueId=Math.random().toString(36).slice(-10);collection[uniqueId]=subscriber;return function(){return delete collection[uniqueId];};};var notifySubscribers=function notifySubscribers(collection,value){Object.values(collection).forEach(function(cb){return cb(value);});};var deepEqualData=createDeepEqual({KEYS_TO_EXCLUDE:['last_accessed_at']});var BaseSubscriptionService=/*#__PURE__*/function(){function BaseSubscriptionService(_publicToken,_datalayer){var _this17=this;_classCallCheck2(this,BaseSubscriptionService);this._publicToken=_publicToken;this._datalayer=_datalayer;this.fromCache=true;this._listen=function(e){if(e.key!==getLocalStorageKey(_this17._publicToken)){return;}var parsedValue=e.newValue===null||e.newValue==='null'?null:JSON.parse(e.newValue);_this17.updateState(parsedValue,true);};window.addEventListener('storage',this._listen);var _this$_datalayer$read=this._datalayer.readSessionCookie(),session_token=_this$_datalayer$read.session_token;if(!session_token){this.destroySession();return;}}_createClass2(BaseSubscriptionService,[{key:\"getTokens\",value:function getTokens(){var _this$_datalayer$read2=this._datalayer.readSessionCookie(),session_token=_this$_datalayer$read2.session_token,session_jwt=_this$_datalayer$read2.session_jwt;if(!(typeof session_token==='string')||!(typeof session_jwt==='string')){return null;}return{session_token:session_token,session_jwt:session_jwt};}},{key:\"getIntermediateSessionToken\",value:function getIntermediateSessionToken(){return this._datalayer.readIntermediateSessionTokenCookie()||null;}},{key:\"destroyState\",value:function destroyState(){this.updateStateAndTokens({state:null,session_token:null,session_jwt:null,intermediate_session_token:null});}},{key:\"destroySession\",value:function destroySession(){this._datalayer.removeSessionCookie();this.updateState(null);}},{key:\"_updateStateAndTokensInternal\",value:function _updateStateAndTokensInternal(stateDiff){var oldStateValue=this._datalayer.state;var newStateValue=stateDiff.state===null?null:Object.assign(Object.assign({},this._datalayer.state),stateDiff.state);this._datalayer.state=newStateValue;var wasCached=this.getFromCache();this.setCacheRefreshed();if(wasCached||!deepEqualData(oldStateValue,newStateValue)){notifySubscribers(this._datalayer.subscriptions,newStateValue);}}},{key:\"updateStateAndTokens\",value:function updateStateAndTokens(stateDiff){if(stateDiff.state){this._datalayer.writeSessionCookie(stateDiff);this._datalayer.removeISTCookie();}else if(stateDiff.intermediate_session_token){this._datalayer.writeIntermediateSessionTokenCookie(stateDiff.intermediate_session_token);this._datalayer.removeSessionCookie();}else{this._datalayer.removeSessionCookie();this._datalayer.removeISTCookie();}this._updateStateAndTokensInternal(stateDiff);this._datalayer.syncToLocalStorage();}},{key:\"updateState\",value:function updateState(state){var fromExternalSource=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var oldStateValue=this._datalayer.state;var newStateValue=state===null?null:Object.assign(Object.assign({},this._datalayer.state),state);this._datalayer.state=newStateValue;var wasCached=this.getFromCache();this.setCacheRefreshed();var hasStateChanged=!deepEqualData(oldStateValue,newStateValue);if(wasCached||hasStateChanged){notifySubscribers(this._datalayer.subscriptions,newStateValue);if(hasStateChanged&&!fromExternalSource){this._datalayer.syncToLocalStorage();}}}},{key:\"updateTokens\",value:function updateTokens(tokens){var session_token=tokens.session_token,session_jwt=tokens.session_jwt;var cookie=this._datalayer.readSessionCookie();var diff=Object.assign(Object.assign({},cookie),{session_token:session_token,session_jwt:session_jwt});if(session_token||session_jwt){this._datalayer.writeSessionCookie(diff);this._datalayer.removeISTCookie();}else{this._datalayer.removeSessionCookie();}}},{key:\"subscribeToState\",value:function subscribeToState(callback){return addSubscriber(this._datalayer.subscriptions,callback);}},{key:\"getState\",value:function getState(){return this._datalayer.state;}},{key:\"destroy\",value:function destroy(){window.removeEventListener('storage',this._listen);}},{key:\"syncFromDeviceStorage\",value:function syncFromDeviceStorage(){return null;}},{key:\"getFromCache\",value:function getFromCache(){return this.fromCache;}},{key:\"setCacheRefreshed\",value:function setCacheRefreshed(){this.fromCache=false;}}]);return BaseSubscriptionService;}();var ConsumerSubscriptionService=/*#__PURE__*/function(_BaseSubscriptionServ){_inherits2(ConsumerSubscriptionService,_BaseSubscriptionServ);function ConsumerSubscriptionService(){var _this18;_classCallCheck2(this,ConsumerSubscriptionService);_this18=_callSuper2(this,ConsumerSubscriptionService,arguments);_this18.updateUser=function(user){return _this18.updateState({user:user});};_this18.getUser=function(){var _a,_b;return(_b=(_a=_this18.getState())===null||_a===void 0?void 0:_a.user)!==null&&_b!==void 0?_b:null;};_this18.getSession=function(){var _a,_b;return(_b=(_a=_this18.getState())===null||_a===void 0?void 0:_a.session)!==null&&_b!==void 0?_b:null;};return _this18;}return _createClass2(ConsumerSubscriptionService);}(BaseSubscriptionService);var internalSymB2C=Symbol[\"for\"]('stytch__internal_b2c');var writeB2CInternals=function writeB2CInternals(obj,internals){Object.assign(obj,_defineProperty({},internalSymB2C,internals));};var readB2CInternals=function readB2CInternals(obj){var casted=obj;if(!casted[internalSymB2C]){throw Error('Internals not found!');}return casted[internalSymB2C];};var StytchHeadlessClient=/*#__PURE__*/_createClass2(function StytchHeadlessClient(_PUBLIC_TOKEN,options){var _this19=this;_classCallCheck2(this,StytchHeadlessClient);checkNotSSR('StytchHeadlessClient');checkPublicToken(_PUBLIC_TOKEN);var _options=options;var config=buildFinalConfig(_options);this._dataLayer=getConsumerDataLayer(_PUBLIC_TOKEN,_options);this._subscriptionService=new ConsumerSubscriptionService(_PUBLIC_TOKEN,this._dataLayer);this._stateChangeClient=new StateChangeClient(this._subscriptionService,{});this.onStateChange=function(){var _this19$_stateChangeC;return(_this19$_stateChangeC=_this19._stateChangeClient).onStateChange.apply(_this19$_stateChangeC,arguments);};var additionalTelemetryDataFn=function additionalTelemetryDataFn(){var _a,_b,_c,_d;return{stytch_user_id:(_b=(_a=_this19._dataLayer.state)===null||_a===void 0?void 0:_a.user)===null||_b===void 0?void 0:_b.user_id,stytch_session_id:(_d=(_c=_this19._dataLayer.state)===null||_c===void 0?void 0:_c.session)===null||_d===void 0?void 0:_d.session_id};};var passwordsPKCEManager=new PKCEManager(this._dataLayer,'passwords');this._networkClient=new NetworkClient(_PUBLIC_TOKEN,this._dataLayer,config.endpoints.sdkBackendURL,additionalTelemetryDataFn);var bootstrap=new BootstrapDataManager(_PUBLIC_TOKEN,this._networkClient,this._dataLayer);var captcha=new CaptchaProvider(bootstrap.getAsync());var dfpProtectedAuth=new DFPProtectedAuthProvider(_PUBLIC_TOKEN,config.endpoints.dfpBackendURL,bootstrap.getAsync(),captcha.executeRecaptcha);var clientsideServices=new ClientsideServicesProvider(config.endpoints.clientsideServicesIframeURL);var oneTap=new OneTapProvider(_PUBLIC_TOKEN,clientsideServices);var searchManager=new SearchDataManager(this._networkClient,dfpProtectedAuth);this.user=new HeadlessUserClient(this._networkClient,this._subscriptionService);this.session=new HeadlessSessionClient(this._networkClient,this._subscriptionService);this.magicLinks=new HeadlessMagicLinksClient(this._networkClient,this._subscriptionService,new PKCEManager(this._dataLayer,'magic_links'),passwordsPKCEManager,bootstrap.getAsync(),dfpProtectedAuth);this.otps=new HeadlessOTPClient(this._networkClient,this._subscriptionService,captcha.executeRecaptcha,dfpProtectedAuth);this.oauth=new HeadlessOAuthClient(this._networkClient,this._subscriptionService,new PKCEManager(this._dataLayer,'oauth'),bootstrap.getAsync(),{publicToken:_PUBLIC_TOKEN,testAPIURL:config.endpoints.testAPIURL,liveAPIURL:config.endpoints.liveAPIURL},oneTap);this.cryptoWallets=new HeadlessCryptoWalletClient(this._networkClient,this._subscriptionService,captcha.executeRecaptcha,dfpProtectedAuth);this.totps=new HeadlessTOTPClient(this._networkClient,this._subscriptionService,dfpProtectedAuth);this.webauthn=new HeadlessWebAuthnClient(this._networkClient,this._subscriptionService,dfpProtectedAuth);this.passwords=new HeadlessPasswordClient(this._networkClient,this._subscriptionService,passwordsPKCEManager,bootstrap.getAsync(),dfpProtectedAuth);this._sessionManager=new SessionManager(this._subscriptionService,this.session);if(this._dataLayer.readSessionCookie().session_token){this._sessionManager.performBackgroundRefresh();}this._networkClient.logEvent({name:'sdk_instance_instantiated',details:{event_callback_registered:false,error_callback_registered:false,success_callback_registered:false}});writeB2CInternals(this,{bootstrap:bootstrap,clientsideServices:clientsideServices,captcha:captcha,oneTap:oneTap,searchManager:searchManager,publicToken:_PUBLIC_TOKEN,dataLayer:this._dataLayer,networkClient:this._networkClient});});var n$6,l$8,u$5,i$2,o$3,r$5,f$6,e$5,c$4={},s$2=[],a$2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h$6=Array.isArray;function v$5(n,l){for(var u in l)n[u]=l[u];return n;}function p$7(n){var l=n.parentNode;l&&l.removeChild(n);}function y$4(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n$6.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d$6(l,f,i,o,null);}function d$6(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u$5:r,__i:-1,__u:0};return null==r&&null!=l$8.vnode&&l$8.vnode(f),f;}function _$2(){return{current:null};}function g$7(n){return n.children;}function b$6(n,l){this.props=n,this.context=l;}function m$7(n,l){if(null==l)return n.__?m$7(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m$7(n):null;}function k$6(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break;}return k$6(n);}}function w$6(n){(!n.__d&&(n.__d=!0)&&i$2.push(n)&&!x$5.__r++||o$3!==l$8.debounceRendering)&&((o$3=l$8.debounceRendering)||r$5)(x$5);}function x$5(){var n,u,t,o,r,e,c,s,a;for(i$2.sort(f$6);n=i$2.shift();)n.__d&&(u=i$2.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v$5({},r)).__v=r.__v+1,l$8.vnode&&l$8.vnode(o),L$2(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m$7(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M$2(s,o,a),o.__e!=e&&k$6(o)),i$2.length>u&&i$2.sort(f$6));x$5.__r=0;}function C$2(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s$2,b=l.length;for(u.__d=e,P$3(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c$4:g[y.__i]||c$4,y.__i=v,L$2(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z$5(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S$1(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_;}function P$3(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d$6(null,i,null,null,i):h$6(i)?d$6(g$7,{children:i},null,null,null):i.__b>0?d$6(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H$3(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m$7(o)),N$2(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m$7(o)),N$2(o,o));}function S$1(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S$1(t[i],l,u));return l;}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling;}function $$2(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h$6(n)?n.some(function(n){$$2(n,l);}):l.push(n)),l;}function H$3(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--;}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++;}}return-1;}function I$3(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a$2.test(l)?u:u+\"px\";}function T$3(n,l,u,t,i){var o;n:if(\"style\"===l){if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I$3(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I$3(n.style,l,u[l]);}}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D$2:A$5,o)):n.removeEventListener(l,o?D$2:A$5,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n;}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u));}}function A$5(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return;}else n.t=Date.now();return u(l$8.event?l$8.event(n):n);}function D$2(n){return this.l[n.type+!0](l$8.event?l$8.event(n):n);}function L$2(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l$8.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b$6(w,P),p.constructor=A,p.render=O$1),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v$5({},p.__s)),v$5(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u);}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n;}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m);});}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l$8.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[];}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s;}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v$5(v$5({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C$2(n,h$6(T=null!=a&&a.type===g$7&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null);}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l$8.__e(n,u,t);}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j$4(t.__e,u,t,i,o,r,f,c,s);(a=l$8.diffed)&&a(u);}function M$2(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z$5(t[i],t[++i],t[++i]);l$8.__c&&l$8.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u);});}catch(n){l$8.__e(n,u.__v);}});}function j$4(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break;}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1;}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n$6.call(l.childNodes),k=t.props||c$4,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T$3(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T$3(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C$2(l,h$6(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m$7(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p$7(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T$3(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T$3(l,a,b,k[a],!1));}return l;}function z$5(n,u,t){try{\"function\"==typeof n?n(u):n.current=u;}catch(n){l$8.__e(n,t);}}function N$2(n,u,t){var i,o;if(l$8.unmount&&l$8.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z$5(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount();}catch(n){l$8.__e(n,u);}i.base=i.__P=null,n.__c=void 0;}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N$2(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p$7(n.__e),n.__=n.__e=n.__d=void 0;}function O$1(n,l,u){return this.constructor(n,u);}function q$6(u,t,i){var o,r,f,e;l$8.__&&l$8.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L$2(t,u=(!o&&i||t).__k=y$4(g$7,null,[u]),r||c$4,c$4,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n$6.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M$2(f,u,e);}function B$4(n,l){q$6(n,l,B$4);}function E$3(l,u,t){var i,o,r,f,e=v$5({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n$6.call(arguments,2):t),d$6(l.type,e,i||l.key,o||l.ref,null);}function F$5(n,l){var u={__c:l=\"__cC\"+e$5++,__:n,Consumer:function Consumer(n,l){return n.children(l);},Provider:function Provider(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t;},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w$6(n);});},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children;}};return u.Provider.__=u.Consumer.contextType=u;}n$6=s$2.slice,l$8={__e:function __e(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i;}catch(l){n=l;}throw n;}},u$5=0,b$6.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v$5({},this.state),\"function\"==typeof n&&(n=n(v$5({},u),this.props)),n&&v$5(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w$6(this));},b$6.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w$6(this));},b$6.prototype.render=g$7,i$2=[],r$5=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$6=function f$6(n,l){return n.__v.__b-l.__v.__b;},x$5.__r=0,e$5=0;var t$4,r$4,u$4,i$1,o$2=0,f$5=[],c$3=[],e$4=l$8.__b,a$1=l$8.__r,v$4=l$8.diffed,l$7=l$8.__c,m$6=l$8.unmount;function d$5(t,u){l$8.__h&&l$8.__h(r$4,t,o$2||u),o$2=0;var i=r$4.__H||(r$4.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c$3}),i.__[t];}function h$5(n){return o$2=1,s$1(B$3,n);}function s$1(n,u,i){var o=d$5(t$4++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B$3(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}));}],o.__c=r$4,!r$4.u)){var f=function f(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c;});if(u.every(function(n){return!n.__N;}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0);}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r));};r$4.u=!0;var c=r$4.shouldComponentUpdate,e=r$4.componentWillUpdate;r$4.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u;}e&&e.call(this,n,t,r);},r$4.shouldComponentUpdate=f;}return o.__N||o.__;}function p$6(u,i){var o=d$5(t$4++,3);!l$8.__s&&z$4(o.__H,i)&&(o.__=u,o.i=i,r$4.__H.__h.push(o));}function y$3(u,i){var o=d$5(t$4++,4);!l$8.__s&&z$4(o.__H,i)&&(o.__=u,o.i=i,r$4.__h.push(o));}function _$1(n){return o$2=5,F$4(function(){return{current:n};},[]);}function A$4(n,t,r){o$2=6,y$3(function(){return\"function\"==typeof n?(n(t()),function(){return n(null);}):n?(n.current=t(),function(){return n.current=null;}):void 0;},null==r?r:r.concat(n));}function F$4(n,r){var u=d$5(t$4++,7);return z$4(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__;}function T$2(n,t){return o$2=8,F$4(function(){return n;},t);}function q$5(n){var u=r$4.context[n.__c],i=d$5(t$4++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r$4)),u.props.value):n.__;}function x$4(t,r){l$8.useDebugValue&&l$8.useDebugValue(r?r(t):t);}function P$2(n){var u=d$5(t$4++,10),i=h$5();return u.__=n,r$4.componentDidCatch||(r$4.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n);}),[i[0],function(){i[1](void 0);}];}function V$2(){var n=d$5(t$4++,11);if(!n.__){for(var u=r$4.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++;}return n.__;}function b$5(){for(var t;t=f$5.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k$5),t.__H.__h.forEach(w$5),t.__H.__h=[];}catch(r){t.__H.__h=[],l$8.__e(r,t.__v);}}l$8.__b=function(n){r$4=null,e$4&&e$4(n);},l$8.__r=function(n){a$1&&a$1(n),t$4=0;var i=(r$4=n.__c).__H;i&&(u$4===r$4?(i.__h=[],r$4.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c$3,n.__N=n.i=void 0;})):(i.__h.forEach(k$5),i.__h.forEach(w$5),i.__h=[],t$4=0)),u$4=r$4;},l$8.diffed=function(t){v$4&&v$4(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f$5.push(o)&&i$1===l$8.requestAnimationFrame||((i$1=l$8.requestAnimationFrame)||j$3)(b$5)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c$3&&(n.__=n.__V),n.i=void 0,n.__V=c$3;})),u$4=r$4=null;},l$8.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k$5),t.__h=t.__h.filter(function(n){return!n.__||w$5(n);});}catch(u){r.some(function(n){n.__h&&(n.__h=[]);}),r=[],l$8.__e(u,t.__v);}}),l$7&&l$7(t,r);},l$8.unmount=function(t){m$6&&m$6(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k$5(n);}catch(n){r=n;}}),u.__H=void 0,r&&l$8.__e(r,u.__v));};var g$6=\"function\"==typeof requestAnimationFrame;function j$3(n){var t,r=function r(){clearTimeout(u),g$6&&cancelAnimationFrame(t),setTimeout(n);},u=setTimeout(r,100);g$6&&(t=requestAnimationFrame(r));}function k$5(n){var t=r$4,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r$4=t;}function w$5(n){var t=r$4;n.__c=n.__(),r$4=t;}function z$4(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r];});}function B$3(n,t){return\"function\"==typeof t?t(n):t;}function g$5(n,t){for(var e in t)n[e]=t[e];return n;}function C$1(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1;}function E$2(n){this.props=n;}function w$4(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C$1(this.props,n);}function u(e){return this.shouldComponentUpdate=r,y$4(n,e);}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u;}(E$2.prototype=new b$6()).isPureReactComponent=!0,E$2.prototype.shouldComponentUpdate=function(n,t){return C$1(this.props,n)||C$1(this.state,t);};var x$3=l$8.__b;l$8.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x$3&&x$3(n);};var R$1=\"undefined\"!=typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.forward_ref\")||3911;function N$1(n){function t(t){var e=g$5({},t);return delete e.ref,n(e,t.ref||null);}return t.$$typeof=R$1,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t;}var k$4=function k$4(n,t){return null==n?null:$$2($$2(n).map(t));},A$3={map:k$4,forEach:k$4,count:function count(n){return n?$$2(n).length:0;},only:function only(n){var t=$$2(n);if(1!==t.length)throw\"Children.only\";return t[0];},toArray:$$2},O=l$8.__e;l$8.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r);};var T$1=l$8.unmount;function F$3(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c();}),n.__c.__H=null),null!=(n=g$5({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return F$3(n,t,e);})),n;}function I$2(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return I$2(n,t,e);}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n;}function L$1(){this.__u=0,this.t=null,this.__b=null;}function U$1(n){var t=n.__.__c;return t&&t.__a&&t.__a(n);}function D$1(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n[\"default\"]||n;},function(n){u=n;}),u)throw u;if(!r)throw e;return y$4(r,o);}return o.displayName=\"Lazy\",o.__f=!0,o;}function M$1(){this.u=null,this.o=null;}l$8.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),T$1&&T$1(n);},(L$1.prototype=new b$6()).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U$1(r.__v),o=!1,i=function i(){o||(o=!0,e.__R=null,u?u(l):l());};e.__R=i;var l=function l(){if(! --r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=I$2(n,n.__c.__P,n.__c.__O);}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate();}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i);},L$1.prototype.componentWillUnmount=function(){this.t=[];},L$1.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=F$3(this.__b,r,o.__O=o.__P);}this.__b=null;}var i=e.__a&&y$4(g$7,null,n.fallback);return i&&(i.__u&=-33),[y$4(g$7,null,e.__a?null:n.children),i];};var V$1=function V$1(n,t,e){if(++e[1]===e[0]&&n.o[\"delete\"](t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2];}};function W$1(n){return this.getChildContext=function(){return n.context;},n.children;}function P$1(n){var e=this,r=n.i;e.componentWillUnmount=function(){q$6(null,e.l),e.l=null,e.i=null;},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function appendChild(n){this.childNodes.push(n),e.i.appendChild(n);},insertBefore:function insertBefore(n,t){this.childNodes.push(n),e.i.appendChild(n);},removeChild:function removeChild(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n);}}),q$6(y$4(W$1,{context:e.context},n.__v),e.l);}function j$2(n,e){var r=y$4(P$1,{__v:n,i:e});return r.containerInfo=e,r;}(M$1.prototype=new b$6()).__a=function(n){var t=this,e=U$1(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function o(){t.props.revealOrder?(r.push(u),V$1(t,n,r)):u();};e?e(o):o();};},M$1.prototype.render=function(n){this.u=null,this.o=new Map();var t=$$2(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children;},M$1.prototype.componentDidUpdate=M$1.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V$1(n,e,t);});};var z$3=\"undefined\"!=typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.element\")||60103,B$2=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H$2=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Z$1=/[A-Z0-9]/g,Y$1=\"undefined\"!=typeof document,$$1=function $$1(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==_typeof2(Symbol())?/fil|che|rad/:/fil|che|ra/).test(n);};function q$4(n,t,e){return null==t.__k&&(t.textContent=\"\"),q$6(n,t),\"function\"==typeof e&&e(),n?n.__c:null;}function G$2(n,t,e){return B$4(n,t),\"function\"==typeof e&&e(),n?n.__c:null;}b$6.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(b$6.prototype,t,{configurable:!0,get:function get(){return this[\"UNSAFE_\"+t];},set:function set(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n});}});});var J$1=l$8.event;function K$1(){}function Q$1(){return this.cancelBubble;}function X$1(){return this.defaultPrevented;}l$8.event=function(n){return J$1&&(n=J$1(n)),n.persist=K$1,n.isPropagationStopped=Q$1,n.isDefaultPrevented=X$1,n.nativeEvent=n;};var nn,tn={enumerable:!1,configurable:!0,get:function get(){return this[\"class\"];}},en=l$8.vnode;l$8.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||Y$1&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||$$1(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":H$2.test(o)?o=l:-1===e.indexOf(\"-\")&&B$2.test(o)?o=o.replace(Z$1,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i;}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=$$2(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value);})),\"select\"==e&&null!=u.defaultValue&&(u.value=$$2(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value;})),t[\"class\"]&&!t.className?(u[\"class\"]=t[\"class\"],Object.defineProperty(u,\"className\",tn)):(t.className&&!t[\"class\"]||t[\"class\"]&&t.className)&&(u[\"class\"]=u.className=t.className),n.props=u;}(n),n.$$typeof=z$3,en&&en(n);};var rn=l$8.__r;l$8.__r=function(n){rn&&rn(n),nn=n.__c;};var un=l$8.diffed;l$8.diffed=function(n){un&&un(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),nn=null;};var on={ReactCurrentDispatcher:{current:{readContext:function readContext(n){return nn.__n[n.__c].props.value;}}}},ln=\"17.0.2\";function cn(n){return y$4.bind(null,n);}function fn(n){return!!n&&n.$$typeof===z$3;}function an(n){return fn(n)&&n.type===g$7;}function sn(n){return fn(n)?E$3.apply(null,arguments):n;}function hn(n){return!!n.__k&&(q$6(null,n),!0);}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null;}var dn=function dn(n,t){return n(t);},pn=function pn(n,t){return n(t);},mn=g$7;function yn(n){n();}function _n(n){return n;}function bn(){return[!1,yn];}var Sn=y$3,gn=fn;function Cn(n,t){var e=t(),r=h$5({h:{__:e,v:t}}),u=r[0].h,o=r[1];return y$3(function(){u.__=e,u.v=t,En(u)&&o({h:u});},[n,e,t]),p$6(function(){return En(u)&&o({h:u}),n(function(){En(u)&&o({h:u});});},[n]),e;}function En(n){var t,e,r=n.v,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e);}catch(n){return!0;}}var wn={useState:h$5,useId:V$2,useReducer:s$1,useEffect:p$6,useLayoutEffect:y$3,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:Cn,startTransition:yn,useRef:_$1,useImperativeHandle:A$4,useMemo:F$4,useCallback:T$2,useContext:q$5,useDebugValue:x$4,version:\"17.0.2\",Children:A$3,render:q$4,hydrate:G$2,unmountComponentAtNode:hn,createPortal:j$2,createElement:y$4,createContext:F$5,createFactory:cn,cloneElement:sn,createRef:_$2,Fragment:g$7,isValidElement:fn,isElement:gn,isFragment:an,findDOMNode:vn,Component:b$6,PureComponent:E$2,memo:w$4,forwardRef:N$1,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:L$1,SuspenseList:M$1,lazy:D$1,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:on};var compat_module=/*#__PURE__*/Object.freeze({__proto__:null,Children:A$3,Component:b$6,Fragment:g$7,PureComponent:E$2,StrictMode:mn,Suspense:L$1,SuspenseList:M$1,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:on,cloneElement:sn,createContext:F$5,createElement:y$4,createFactory:cn,createPortal:j$2,createRef:_$2,\"default\":wn,findDOMNode:vn,flushSync:pn,forwardRef:N$1,hydrate:G$2,isElement:gn,isFragment:an,isValidElement:fn,lazy:D$1,memo:w$4,render:q$4,startTransition:yn,unmountComponentAtNode:hn,unstable_batchedUpdates:dn,useCallback:T$2,useContext:q$5,useDebugValue:x$4,useDeferredValue:_n,useEffect:p$6,useErrorBoundary:P$2,useId:V$2,useImperativeHandle:A$4,useInsertionEffect:Sn,useLayoutEffect:y$3,useMemo:F$4,useReducer:s$1,useRef:_$1,useState:h$5,useSyncExternalStore:Cn,useTransition:bn,version:ln});var commonjsGlobal=typeof globalThis!=='undefined'?globalThis:typeof window!=='undefined'?window:typeof global!=='undefined'?global:typeof self!=='undefined'?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,'default')?x['default']:x;}function getAugmentedNamespace(n){if(n.__esModule)return n;var f=n[\"default\"];if(typeof f==\"function\"){var a=function a(){if(this instanceof a){return Reflect.construct(f,arguments,this.constructor);}return f.apply(this,arguments);};a.prototype=f.prototype;}else a={};Object.defineProperty(a,'__esModule',{value:true});Object.keys(n).forEach(function(k){var d=Object.getOwnPropertyDescriptor(n,k);Object.defineProperty(a,k,d.get?d:{enumerable:true,get:function get(){return n[k];}});});return a;}var reactIs$2={exports:{}};var reactIs_production_min$1={};var b$4=60103,c$2=60106,d$4=60107,e$3=60108,f$4=60114,g$4=60109,h$4=60110,k$3=60112,l$6=60113,m$5=60120,n$5=60115,p$5=60116,q$3=60121,r$3=60122,u$3=60117,v$3=60129,w$3=60131;if(\"function\"===typeof Symbol&&Symbol[\"for\"]){var x$2=Symbol[\"for\"];b$4=x$2(\"react.element\");c$2=x$2(\"react.portal\");d$4=x$2(\"react.fragment\");e$3=x$2(\"react.strict_mode\");f$4=x$2(\"react.profiler\");g$4=x$2(\"react.provider\");h$4=x$2(\"react.context\");k$3=x$2(\"react.forward_ref\");l$6=x$2(\"react.suspense\");m$5=x$2(\"react.suspense_list\");n$5=x$2(\"react.memo\");p$5=x$2(\"react.lazy\");q$3=x$2(\"react.block\");r$3=x$2(\"react.server.block\");u$3=x$2(\"react.fundamental\");v$3=x$2(\"react.debug_trace_mode\");w$3=x$2(\"react.legacy_hidden\");}function y$2(a){if(\"object\"===_typeof2(a)&&null!==a){var t=a.$$typeof;switch(t){case b$4:switch(a=a.type,a){case d$4:case f$4:case e$3:case l$6:case m$5:return a;default:switch(a=a&&a.$$typeof,a){case h$4:case k$3:case p$5:case n$5:case g$4:return a;default:return t;}}case c$2:return t;}}}var z$2=g$4,A$2=b$4,B$1=k$3,C=d$4,D=p$5,E$1=n$5,F$2=c$2,G$1=f$4,H$1=e$3,I$1=l$6;reactIs_production_min$1.ContextConsumer=h$4;reactIs_production_min$1.ContextProvider=z$2;reactIs_production_min$1.Element=A$2;reactIs_production_min$1.ForwardRef=B$1;reactIs_production_min$1.Fragment=C;reactIs_production_min$1.Lazy=D;reactIs_production_min$1.Memo=E$1;reactIs_production_min$1.Portal=F$2;reactIs_production_min$1.Profiler=G$1;reactIs_production_min$1.StrictMode=H$1;reactIs_production_min$1.Suspense=I$1;reactIs_production_min$1.isAsyncMode=function(){return!1;};reactIs_production_min$1.isConcurrentMode=function(){return!1;};reactIs_production_min$1.isContextConsumer=function(a){return y$2(a)===h$4;};reactIs_production_min$1.isContextProvider=function(a){return y$2(a)===g$4;};reactIs_production_min$1.isElement=function(a){return\"object\"===_typeof2(a)&&null!==a&&a.$$typeof===b$4;};reactIs_production_min$1.isForwardRef=function(a){return y$2(a)===k$3;};reactIs_production_min$1.isFragment=function(a){return y$2(a)===d$4;};reactIs_production_min$1.isLazy=function(a){return y$2(a)===p$5;};reactIs_production_min$1.isMemo=function(a){return y$2(a)===n$5;};reactIs_production_min$1.isPortal=function(a){return y$2(a)===c$2;};reactIs_production_min$1.isProfiler=function(a){return y$2(a)===f$4;};reactIs_production_min$1.isStrictMode=function(a){return y$2(a)===e$3;};reactIs_production_min$1.isSuspense=function(a){return y$2(a)===l$6;};reactIs_production_min$1.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d$4||a===f$4||a===v$3||a===e$3||a===l$6||a===m$5||a===w$3||\"object\"===_typeof2(a)&&null!==a&&(a.$$typeof===p$5||a.$$typeof===n$5||a.$$typeof===g$4||a.$$typeof===h$4||a.$$typeof===k$3||a.$$typeof===u$3||a.$$typeof===q$3||a[0]===r$3)?!0:!1;};reactIs_production_min$1.typeOf=y$2;{reactIs$2.exports=reactIs_production_min$1;}var reactIsExports$1=reactIs$2.exports;var shallowequal=function shallowEqual(objA,objB,compare,compareContext){var ret=compare?compare.call(compareContext,objA,objB):void 0;if(ret!==void 0){return!!ret;}if(objA===objB){return true;}if(_typeof2(objA)!==\"object\"||!objA||_typeof2(objB)!==\"object\"||!objB){return false;}var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length){return false;}var bHasOwnProperty=Object.prototype.hasOwnProperty.bind(objB);for(var idx=0;idx<keysA.length;idx++){var key=keysA[idx];if(!bHasOwnProperty(key)){return false;}var valueA=objA[key];var valueB=objB[key];ret=compare?compare.call(compareContext,valueA,valueB,key):void 0;if(ret===false||ret===void 0&&valueA!==valueB){return false;}}return true;};var h$3=/*@__PURE__*/getDefaultExportFromCjs(shallowequal);function stylis_min(W){function M(d,c,e,h,a){for(var m=0,b=0,v=0,n=0,q,g,x=0,K=0,k,u=k=q=0,l=0,r=0,I=0,t=0,B=e.length,J=B-1,y,f='',p='',F='',G='',C;l<B;){g=e.charCodeAt(l);l===J&&0!==b+n+v+m&&(0!==b&&(g=47===b?10:47),n=v=m=0,B++,J++);if(0===b+n+v+m){if(l===J&&(0<r&&(f=f.replace(N,'')),0<f.trim().length)){switch(g){case 32:case 9:case 59:case 13:case 10:break;default:f+=e.charAt(l);}g=59;}switch(g){case 123:f=f.trim();q=f.charCodeAt(0);k=1;for(t=++l;l<B;){switch(g=e.charCodeAt(l)){case 123:k++;break;case 125:k--;break;case 47:switch(g=e.charCodeAt(l+1)){case 42:case 47:a:{for(u=l+1;u<J;++u){switch(e.charCodeAt(u)){case 47:if(42===g&&42===e.charCodeAt(u-1)&&l+2!==u){l=u+1;break a;}break;case 10:if(47===g){l=u+1;break a;}}}l=u;}}break;case 91:g++;case 40:g++;case 34:case 39:for(;l++<J&&e.charCodeAt(l)!==g;){}}if(0===k)break;l++;}k=e.substring(t,l);0===q&&(q=(f=f.replace(ca,'').trim()).charCodeAt(0));switch(q){case 64:0<r&&(f=f.replace(N,''));g=f.charCodeAt(1);switch(g){case 100:case 109:case 115:case 45:r=c;break;default:r=O;}k=M(c,r,k,g,a+1);t=k.length;0<A&&(r=X(O,f,I),C=H(3,k,r,c,D,z,t,g,a,h),f=r.join(''),void 0!==C&&0===(t=(k=C.trim()).length)&&(g=0,k=''));if(0<t)switch(g){case 115:f=f.replace(da,ea);case 100:case 109:case 45:k=f+'{'+k+'}';break;case 107:f=f.replace(fa,'$1 $2');k=f+'{'+k+'}';k=1===w||2===w&&L('@'+k,3)?'@-webkit-'+k+'@'+k:'@'+k;break;default:k=f+k,112===h&&(k=(p+=k,''));}else k='';break;default:k=M(c,X(c,f,I),k,h,a+1);}F+=k;k=I=r=u=q=0;f='';g=e.charCodeAt(++l);break;case 125:case 59:f=(0<r?f.replace(N,''):f).trim();if(1<(t=f.length))switch(0===u&&(q=f.charCodeAt(0),45===q||96<q&&123>q)&&(t=(f=f.replace(' ',':')).length),0<A&&void 0!==(C=H(1,f,c,d,D,z,p.length,h,a,h))&&0===(t=(f=C.trim()).length)&&(f='\\x00\\x00'),q=f.charCodeAt(0),g=f.charCodeAt(1),q){case 0:break;case 64:if(105===g||99===g){G+=f+e.charAt(l);break;}default:58!==f.charCodeAt(t-1)&&(p+=P(f,q,g,f.charCodeAt(2)));}I=r=u=q=0;f='';g=e.charCodeAt(++l);}}switch(g){case 13:case 10:47===b?b=0:0===1+q&&107!==h&&0<f.length&&(r=1,f+='\\x00');0<A*Y&&H(0,f,c,d,D,z,p.length,h,a,h);z=1;D++;break;case 59:case 125:if(0===b+n+v+m){z++;break;}default:z++;y=e.charAt(l);switch(g){case 9:case 32:if(0===n+m+b)switch(x){case 44:case 58:case 9:case 32:y='';break;default:32!==g&&(y=' ');}break;case 0:y='\\\\0';break;case 12:y='\\\\f';break;case 11:y='\\\\v';break;case 38:0===n+b+m&&(r=I=1,y='\\f'+y);break;case 108:if(0===n+b+m+E&&0<u)switch(l-u){case 2:112===x&&58===e.charCodeAt(l-3)&&(E=x);case 8:111===K&&(E=K);}break;case 58:0===n+b+m&&(u=l);break;case 44:0===b+v+n+m&&(r=1,y+='\\r');break;case 34:case 39:0===b&&(n=n===g?0:0===n?g:n);break;case 91:0===n+b+v&&m++;break;case 93:0===n+b+v&&m--;break;case 41:0===n+b+m&&v--;break;case 40:if(0===n+b+m){if(0===q)switch(2*x+3*K){case 533:break;default:q=1;}v++;}break;case 64:0===b+v+n+m+u+k&&(k=1);break;case 42:case 47:if(!(0<n+m+v))switch(b){case 0:switch(2*g+3*e.charCodeAt(l+1)){case 235:b=47;break;case 220:t=l,b=42;}break;case 42:47===g&&42===x&&t+2!==l&&(33===e.charCodeAt(t+2)&&(p+=e.substring(t,l+1)),y='',b=0);}}0===b&&(f+=y);}K=x;x=g;l++;}t=p.length;if(0<t){r=c;if(0<A&&(C=H(2,p,r,d,D,z,t,h,a,h),void 0!==C&&0===(p=C).length))return G+p+F;p=r.join(',')+'{'+p+'}';if(0!==w*E){2!==w||L(p,2)||(E=0);switch(E){case 111:p=p.replace(ha,':-moz-$1')+p;break;case 112:p=p.replace(Q,'::-webkit-input-$1')+p.replace(Q,'::-moz-$1')+p.replace(Q,':-ms-input-$1')+p;}E=0;}}return G+p+F;}function X(d,c,e){var h=c.trim().split(ia);c=h;var a=h.length,m=d.length;switch(m){case 0:case 1:var b=0;for(d=0===m?'':d[0]+' ';b<a;++b){c[b]=Z(d,c[b],e).trim();}break;default:var v=b=0;for(c=[];b<a;++b){for(var n=0;n<m;++n){c[v++]=Z(d[n]+' ',h[b],e).trim();}}}return c;}function Z(d,c,e){var h=c.charCodeAt(0);33>h&&(h=(c=c.trim()).charCodeAt(0));switch(h){case 38:return c.replace(F,'$1'+d.trim());case 58:return d.trim()+c.replace(F,'$1'+d.trim());default:if(0<1*e&&0<c.indexOf('\\f'))return c.replace(F,(58===d.charCodeAt(0)?'':'$1')+d.trim());}return d+c;}function P(d,c,e,h){var a=d+';',m=2*c+3*e+4*h;if(944===m){d=a.indexOf(':',9)+1;var b=a.substring(d,a.length-1).trim();b=a.substring(0,d).trim()+b+';';return 1===w||2===w&&L(b,1)?'-webkit-'+b+b:b;}if(0===w||2===w&&!L(a,1))return a;switch(m){case 1015:return 97===a.charCodeAt(10)?'-webkit-'+a+a:a;case 951:return 116===a.charCodeAt(3)?'-webkit-'+a+a:a;case 963:return 110===a.charCodeAt(5)?'-webkit-'+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return'-webkit-'+a+a;case 978:return'-webkit-'+a+'-moz-'+a+a;case 1019:case 983:return'-webkit-'+a+'-moz-'+a+'-ms-'+a+a;case 883:if(45===a.charCodeAt(8))return'-webkit-'+a+a;if(0<a.indexOf('image-set(',11))return a.replace(ja,'$1-webkit-$2')+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return'-webkit-box-'+a.replace('-grow','')+'-webkit-'+a+'-ms-'+a.replace('grow','positive')+a;case 115:return'-webkit-'+a+'-ms-'+a.replace('shrink','negative')+a;case 98:return'-webkit-'+a+'-ms-'+a.replace('basis','preferred-size')+a;}return'-webkit-'+a+'-ms-'+a+a;case 964:return'-webkit-'+a+'-ms-flex-'+a+a;case 1023:if(99!==a.charCodeAt(8))break;b=a.substring(a.indexOf(':',15)).replace('flex-','').replace('space-between','justify');return'-webkit-box-pack'+b+'-webkit-'+a+'-ms-flex-pack'+b+a;case 1005:return ka.test(a)?a.replace(aa,':-webkit-')+a.replace(aa,':-moz-')+a:a;case 1e3:b=a.substring(13).trim();c=b.indexOf('-')+1;switch(b.charCodeAt(0)+b.charCodeAt(c)){case 226:b=a.replace(G,'tb');break;case 232:b=a.replace(G,'tb-rl');break;case 220:b=a.replace(G,'lr');break;default:return a;}return'-webkit-'+a+'-ms-'+b+a;case 1017:if(-1===a.indexOf('sticky',9))break;case 975:c=(a=d).length-10;b=(33===a.charCodeAt(c)?a.substring(0,c):a).substring(d.indexOf(':',7)+1).trim();switch(m=b.charCodeAt(0)+(b.charCodeAt(7)|0)){case 203:if(111>b.charCodeAt(8))break;case 115:a=a.replace(b,'-webkit-'+b)+';'+a;break;case 207:case 102:a=a.replace(b,'-webkit-'+(102<m?'inline-':'')+'box')+';'+a.replace(b,'-webkit-'+b)+';'+a.replace(b,'-ms-'+b+'box')+';'+a;}return a+';';case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return b=a.replace('-items',''),'-webkit-'+a+'-webkit-box-'+b+'-ms-flex-'+b+a;case 115:return'-webkit-'+a+'-ms-flex-item-'+a.replace(ba,'')+a;default:return'-webkit-'+a+'-ms-flex-line-pack'+a.replace('align-content','').replace(ba,'')+a;}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===la.test(d))return 115===(b=d.substring(d.indexOf(':')+1)).charCodeAt(0)?P(d.replace('stretch','fill-available'),c,e,h).replace(':fill-available',':stretch'):a.replace(b,'-webkit-'+b)+a.replace(b,'-moz-'+b.replace('fill-',''))+a;break;case 962:if(a='-webkit-'+a+(102===a.charCodeAt(5)?'-ms-'+a:'')+a,211===e+h&&105===a.charCodeAt(13)&&0<a.indexOf('transform',10))return a.substring(0,a.indexOf(';',27)+1).replace(ma,'$1-webkit-$2')+a;}return a;}function L(d,c){var e=d.indexOf(1===c?':':'{'),h=d.substring(0,3!==c?e:10);e=d.substring(e+1,d.length-1);return R(2!==c?h:h.replace(na,'$1'),e,c);}function ea(d,c){var e=P(c,c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2));return e!==c+';'?e.replace(oa,' or ($1)').substring(4):'('+c+')';}function H(d,c,e,h,a,m,b,v,n,q){for(var g=0,x=c,w;g<A;++g){switch(w=S[g].call(B,d,x,e,h,a,m,b,v,n,q)){case void 0:case!1:case!0:case null:break;default:x=w;}}if(x!==c)return x;}function T(d){switch(d){case void 0:case null:A=S.length=0;break;default:if('function'===typeof d)S[A++]=d;else if('object'===_typeof2(d))for(var c=0,e=d.length;c<e;++c){T(d[c]);}else Y=!!d|0;}return T;}function U(d){d=d.prefix;void 0!==d&&(R=null,d?'function'!==typeof d?w=1:(w=2,R=d):w=0);return U;}function B(d,c){var e=d;33>e.charCodeAt(0)&&(e=e.trim());V=e;e=[V];if(0<A){var h=H(-1,c,e,e,D,z,0,0,0,0);void 0!==h&&'string'===typeof h&&(c=h);}var a=M(O,e,c,0,0);0<A&&(h=H(-2,a,e,e,D,z,a.length,0,0,0),void 0!==h&&(a=h));V='';E=0;z=D=1;return a;}var ca=/^\\0+/g,N=/[\\0\\r\\f]/g,aa=/: */g,ka=/zoo|gra/,ma=/([,: ])(transform)/g,ia=/,\\r+?/g,F=/([\\t\\r\\n ])*\\f?&/g,fa=/@(k\\w+)\\s*(\\S*)\\s*/,Q=/::(place)/g,ha=/:(read-only)/g,G=/[svh]\\w+-[tblr]{2}/,da=/\\(\\s*(.*)\\s*\\)/g,oa=/([\\s\\S]*?);/g,ba=/-self|flex-/g,na=/[^]*?(:[rp][el]a[\\w-]+)[^]*/,la=/stretch|:\\s*\\w+\\-(?:conte|avail)/,ja=/([^-])(image-set\\()/,z=1,D=1,E=0,w=1,O=[],S=[],A=0,R=null,Y=0,V='';B.use=T;B.set=U;void 0!==W&&U(W);return B;}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(fn){var cache=Object.create(null);return function(arg){if(cache[arg]===undefined)cache[arg]=fn(arg);return cache[arg];};}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var isPropValid=/* #__PURE__ */memoize(function(prop){return reactPropsRegex.test(prop)||prop.charCodeAt(0)===111&&prop.charCodeAt(1)===110&&prop.charCodeAt(2)<91;});var reactIs$1={exports:{}};var reactIs_production_min={};var b$3=\"function\"===typeof Symbol&&Symbol[\"for\"],c$1=b$3?Symbol[\"for\"](\"react.element\"):60103,d$3=b$3?Symbol[\"for\"](\"react.portal\"):60106,e$2=b$3?Symbol[\"for\"](\"react.fragment\"):60107,f$3=b$3?Symbol[\"for\"](\"react.strict_mode\"):60108,g$3=b$3?Symbol[\"for\"](\"react.profiler\"):60114,h$2=b$3?Symbol[\"for\"](\"react.provider\"):60109,k$2=b$3?Symbol[\"for\"](\"react.context\"):60110,l$5=b$3?Symbol[\"for\"](\"react.async_mode\"):60111,m$4=b$3?Symbol[\"for\"](\"react.concurrent_mode\"):60111,n$4=b$3?Symbol[\"for\"](\"react.forward_ref\"):60112,p$4=b$3?Symbol[\"for\"](\"react.suspense\"):60113,q$2=b$3?Symbol[\"for\"](\"react.suspense_list\"):60120,r$2=b$3?Symbol[\"for\"](\"react.memo\"):60115,t$3=b$3?Symbol[\"for\"](\"react.lazy\"):60116,v$2=b$3?Symbol[\"for\"](\"react.block\"):60121,w$2=b$3?Symbol[\"for\"](\"react.fundamental\"):60117,x$1=b$3?Symbol[\"for\"](\"react.responder\"):60118,y$1=b$3?Symbol[\"for\"](\"react.scope\"):60119;function z$1(a){if(\"object\"===_typeof2(a)&&null!==a){var u=a.$$typeof;switch(u){case c$1:switch(a=a.type,a){case l$5:case m$4:case e$2:case g$3:case f$3:case p$4:return a;default:switch(a=a&&a.$$typeof,a){case k$2:case n$4:case t$3:case r$2:case h$2:return a;default:return u;}}case d$3:return u;}}}function A$1(a){return z$1(a)===m$4;}reactIs_production_min.AsyncMode=l$5;reactIs_production_min.ConcurrentMode=m$4;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$2;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$4;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$3;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d$3;reactIs_production_min.Profiler=g$3;reactIs_production_min.StrictMode=f$3;reactIs_production_min.Suspense=p$4;reactIs_production_min.isAsyncMode=function(a){return A$1(a)||z$1(a)===l$5;};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(a){return z$1(a)===k$2;};reactIs_production_min.isContextProvider=function(a){return z$1(a)===h$2;};reactIs_production_min.isElement=function(a){return\"object\"===_typeof2(a)&&null!==a&&a.$$typeof===c$1;};reactIs_production_min.isForwardRef=function(a){return z$1(a)===n$4;};reactIs_production_min.isFragment=function(a){return z$1(a)===e$2;};reactIs_production_min.isLazy=function(a){return z$1(a)===t$3;};reactIs_production_min.isMemo=function(a){return z$1(a)===r$2;};reactIs_production_min.isPortal=function(a){return z$1(a)===d$3;};reactIs_production_min.isProfiler=function(a){return z$1(a)===g$3;};reactIs_production_min.isStrictMode=function(a){return z$1(a)===f$3;};reactIs_production_min.isSuspense=function(a){return z$1(a)===p$4;};reactIs_production_min.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e$2||a===m$4||a===g$3||a===f$3||a===p$4||a===q$2||\"object\"===_typeof2(a)&&null!==a&&(a.$$typeof===t$3||a.$$typeof===r$2||a.$$typeof===h$2||a.$$typeof===k$2||a.$$typeof===n$4||a.$$typeof===w$2||a.$$typeof===x$1||a.$$typeof===y$1||a.$$typeof===v$2);};reactIs_production_min.typeOf=z$1;{reactIs$1.exports=reactIs_production_min;}var reactIsExports=reactIs$1.exports;var reactIs=reactIsExports;var REACT_STATICS={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var FORWARD_REF_STATICS={'$$typeof':true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={'$$typeof':true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(component){if(reactIs.isMemo(component)){return MEMO_STATICS;}return TYPE_STATICS[component['$$typeof']]||REACT_STATICS;}var defineProperty=Object.defineProperty;var getOwnPropertyNames=Object.getOwnPropertyNames;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var getPrototypeOf=Object.getPrototypeOf;var objectPrototype=Object.prototype;function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if(typeof sourceComponent!=='string'){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);if(inheritedComponent&&inheritedComponent!==objectPrototype){hoistNonReactStatics(targetComponent,inheritedComponent,blacklist);}}var keys=getOwnPropertyNames(sourceComponent);if(getOwnPropertySymbols){keys=keys.concat(getOwnPropertySymbols(sourceComponent));}var targetStatics=getStatics(targetComponent);var sourceStatics=getStatics(sourceComponent);for(var i=0;i<keys.length;++i){var key=keys[i];if(!KNOWN_STATICS[key]&&!(blacklist&&blacklist[key])&&!(sourceStatics&&sourceStatics[key])&&!(targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor);}catch(e){}}}}return targetComponent;}var hoistNonReactStatics_cjs=hoistNonReactStatics;var y=/*@__PURE__*/getDefaultExportFromCjs(hoistNonReactStatics_cjs);function v$1(){return(v$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);}return e;}).apply(this,arguments);}var g$2=function g$2(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n;},S=function S(t){return null!==t&&\"object\"==_typeof2(t)&&\"[object Object]\"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!reactIsExports$1.typeOf(t);},w$1=Object.freeze([]),E=Object.freeze({});function b$2(e){return\"function\"==typeof e;}function _(e){return e.displayName||e.name||\"Component\";}function N(e){return e&&\"string\"==typeof e.styledComponentId;}var A=\"undefined\"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||\"data-styled\",I=\"undefined\"!=typeof window&&\"HTMLElement\"in window,P=Boolean(\"boolean\"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:\"undefined\"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&\"\"!==process.env.REACT_APP_SC_DISABLE_SPEEDY?\"false\"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:\"undefined\"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&\"\"!==process.env.SC_DISABLE_SPEEDY?\"false\"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY:\"production\"!==\"production\");function j$1(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(\"An error occurred. See https://git.io/JUIaE#\"+e+\" for more information.\"+(n.length>0?\" Args: \"+n.join(\", \"):\"\"));}var T=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e;}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t;},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)(o<<=1)<0&&j$1(16,\"\"+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var s=r;s<o;s++)this.groupSizes[s]=0;}for(var i=this.indexOfGroup(e+1),a=0,c=t.length;a<c;a++)this.tag.insertRule(i,t[a])&&(this.groupSizes[e]++,i++);},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n);}},t.getGroup=function(e){var t=\"\";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,s=r;s<o;s++)t+=this.tag.getRule(s)+\"/*!sc*/\\n\";return t;},e;}(),x=new Map(),k$1=new Map(),V=1,B=function B(e){if(x.has(e))return x.get(e);for(;k$1.has(V);)V++;var t=V++;return x.set(e,t),k$1.set(t,e),t;},z=function z(e){return k$1.get(e);},M=function M(e,t){t>=V&&(V=t+1),x.set(e,t),k$1.set(t,e);},G=\"style[\"+A+'][data-styled-version=\"5.3.5\"]',L=new RegExp(\"^\"+A+'\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)'),F$1=function F$1(e,t,n){for(var r,o=n.split(\",\"),s=0,i=o.length;s<i;s++)(r=o[s])&&e.registerName(t,r);},Y=function Y(e,t){for(var n=(t.textContent||\"\").split(\"/*!sc*/\\n\"),r=[],o=0,s=n.length;o<s;o++){var i=n[o].trim();if(i){var a=i.match(L);if(a){var c=0|parseInt(a[1],10),u=a[2];0!==c&&(M(u,c),F$1(e,u,a[3]),e.getTag().insertRules(c,r)),r.length=0;}else r.push(i);}}},q$1=function q$1(){return\"undefined\"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null;},H=function H(e){var t=document.head,n=e||t,r=document.createElement(\"style\"),o=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(A))return r;}}(n),s=void 0!==o?o.nextSibling:null;r.setAttribute(A,\"active\"),r.setAttribute(\"data-styled-version\",\"5.3.5\");var i=q$1();return i&&r.setAttribute(\"nonce\",i),n.insertBefore(r,s),r;},$=function(){function e(e){var t=this.element=H(e);t.appendChild(document.createTextNode(\"\")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o;}j$1(17);}(t),this.length=0;}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0;}catch(e){return!1;}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--;},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&\"string\"==typeof t.cssText?t.cssText:\"\";},e;}(),W=function(){function e(e){var t=this.element=H(e);this.nodes=t.childNodes,this.length=0;}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0;}return!1;},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--;},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:\"\";},e;}(),U=function(){function e(e){this.rules=[],this.length=0;}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0);},t.deleteRule=function(e){this.rules.splice(e,1),this.length--;},t.getRule=function(e){return e<this.length?this.rules[e]:\"\";},e;}(),J=I,X={isServer:!I,useCSSOMInjection:!P},Z=function(){function e(e,t,n){void 0===e&&(e=E),void 0===t&&(t={}),this.options=v$1({},X,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&I&&J&&(J=!1,function(e){for(var t=document.querySelectorAll(G),n=0,r=t.length;n<r;n++){var o=t[n];o&&\"active\"!==o.getAttribute(A)&&(Y(e,o),o.parentNode&&o.parentNode.removeChild(o));}}(this));}e.registerId=function(e){return B(e);};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(v$1({},this.options,{},t),this.gs,n&&this.names||void 0);},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1;},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,o=t.target,e=n?new U(o):r?new $(o):new W(o),new T(e)));var e,t,n,r,o;},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t);},t.registerName=function(e,t){if(B(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set();n.add(t),this.names.set(e,n);}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(B(e),n);},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear();},t.clearRules=function(e){this.getTag().clearGroup(B(e)),this.clearNames(e);},t.clearTag=function(){this.tag=void 0;},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r=\"\",o=0;o<n;o++){var s=z(o);if(void 0!==s){var i=e.names.get(s),a=t.getGroup(o);if(i&&a&&i.size){var c=A+\".g\"+o+'[id=\"'+s+'\"]',u=\"\";void 0!==i&&i.forEach(function(e){e.length>0&&(u+=e+\",\");}),r+=\"\"+a+c+'{content:\"'+u+'\"}/*!sc*/\\n';}}}return r;}(this);},e;}(),K=/(a)(d)/gi,Q=function Q(e){return String.fromCharCode(e+(e>25?39:97));};function ee(e){var t,n=\"\";for(t=Math.abs(e);t>52;t=t/52|0)n=Q(t%52)+n;return(Q(t%52)+n).replace(K,\"$1-$2\");}var te=function te(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e;},ne=function ne(e){return te(5381,e);};function re(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b$2(n)&&!N(n))return!1;}return!0;}var oe=ne(\"5.3.5\"),se=function(){function e(e,t,n){this.rules=e,this.staticRulesId=\"\",this.isStatic=(void 0===n||n.isStatic)&&re(e),this.componentId=t,this.baseHash=te(oe,t),this.baseStyle=n,Z.registerId(t);}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash){if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))o.push(this.staticRulesId);else{var s=Ne(this.rules,e,t,n).join(\"\"),i=ee(te(this.baseHash,s)>>>0);if(!t.hasNameForId(r,i)){var a=n(s,\".\"+i,void 0,r);t.insertRules(r,i,a);}o.push(i),this.staticRulesId=i;}}else{for(var c=this.rules.length,u=te(this.baseHash,n.hash),l=\"\",d=0;d<c;d++){var h=this.rules[d];if(\"string\"==typeof h)l+=h;else if(h){var p=Ne(h,e,t,n),f=Array.isArray(p)?p.join(\"\"):p;u=te(u,f+d),l+=f;}}if(l){var m=ee(u>>>0);if(!t.hasNameForId(r,m)){var y=n(l,\".\"+m,void 0,r);t.insertRules(r,m,y);}o.push(m);}}return o.join(\" \");},e;}(),ie=/^\\s*\\/\\/.*$/gm,ae=[\":\",\"[\",\".\",\"#\"];function ce(e){var t,n,r,o,s=void 0===e?E:e,i=s.options,a=void 0===i?E:i,c=s.plugins,u=void 0===c?w$1:c,l=new stylis_min(a),d=[],h=function(e){function t(t){if(t)try{e(t+\"}\");}catch(e){}}return function(n,r,o,s,i,a,c,u,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+\";\"),\"\";break;case 2:if(0===u)return r+\"/*|*/\";break;case 3:switch(u){case 102:case 112:return e(o[0]+r),\"\";default:return r+(0===d?\"/*|*/\":\"\");}case-2:r.split(\"/*|*/}\").forEach(t);}};}(function(e){d.push(e);}),f=function f(e,r,s){return 0===r&&-1!==ae.indexOf(s[n.length])||s.match(o)?e:\".\"+t;};function m(e,s,i,a){void 0===a&&(a=\"&\");var c=e.replace(ie,\"\"),u=s&&i?i+\" \"+s+\" { \"+c+\" }\":c;return t=a,n=s,r=new RegExp(\"\\\\\"+n+\"\\\\b\",\"g\"),o=new RegExp(\"(\\\\\"+n+\"\\\\b){2,}\"),l(i||!s?\"\":s,u);}return l.use([].concat(u,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(r,f));},h,function(e){if(-2===e){var t=d;return d=[],t;}}])),m.hash=u.length?u.reduce(function(e,t){return t.name||j$1(15),te(e,t.name);},5381).toString():\"\",m;}var ue=/*#__PURE__*/wn.createContext();ue.Consumer;var de=/*#__PURE__*/wn.createContext(),he=(de.Consumer,new Z()),pe=ce();function fe(){return q$5(ue)||he;}function me(){return q$5(de)||pe;}function ye(e){var t=h$5(e.stylisPlugins),n=t[0],s=t[1],c=fe(),u=F$4(function(){var t=c;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t;},[e.disableCSSOMInjection,e.sheet,e.target]),l=F$4(function(){return ce({options:{prefix:!e.disableVendorPrefixes},plugins:n});},[e.disableVendorPrefixes,n]);return p$6(function(){h$3(n,e.stylisPlugins)||s(e.stylisPlugins);},[e.stylisPlugins]),/*#__PURE__*/wn.createElement(ue.Provider,{value:u},/*#__PURE__*/wn.createElement(de.Provider,{value:l},e.children));}var ve=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=pe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,\"@keyframes\"));},this.toString=function(){return j$1(12,String(n.name));},this.name=e,this.id=\"sc-keyframes-\"+e,this.rules=t;}return e.prototype.getName=function(e){return void 0===e&&(e=pe),this.name+e.hash;},e;}(),ge=/([A-Z])/,Se=/([A-Z])/g,we=/^ms-/,Ee=function Ee(e){return\"-\"+e.toLowerCase();};function be(e){return ge.test(e)?e.replace(Se,Ee).replace(we,\"-ms-\"):e;}var _e=function _e(e){return null==e||!1===e||\"\"===e;};function Ne(e,n,r,o){if(Array.isArray(e)){for(var s,i=[],a=0,c=e.length;a<c;a+=1)\"\"!==(s=Ne(e[a],n,r,o))&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));return i;}if(_e(e))return\"\";if(N(e))return\".\"+e.styledComponentId;if(b$2(e)){if(\"function\"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!n)return e;var u=e(n);return Ne(u,n,r,o);}var l;return e instanceof ve?r?(e.inject(r,o),e.getName(o)):e:S(e)?function e(t,n){var r,o,s=[];for(var i in t)t.hasOwnProperty(i)&&!_e(t[i])&&(Array.isArray(t[i])&&t[i].isCss||b$2(t[i])?s.push(be(i)+\":\",t[i],\";\"):S(t[i])?s.push.apply(s,e(t[i],i)):s.push(be(i)+\": \"+(r=i,null==(o=t[i])||\"boolean\"==typeof o||\"\"===o?\"\":\"number\"!=typeof o||0===o||r in unitlessKeys?String(o).trim():o+\"px\")+\";\"));return n?[n+\" {\"].concat(s,[\"}\"]):s;}(e):e.toString();}var Ae=function Ae(e){return Array.isArray(e)&&(e.isCss=!0),e;};function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b$2(e)||S(e)?Ae(Ne(g$2(w$1,[e].concat(n)))):0===n.length&&1===e.length&&\"string\"==typeof e[0]?e:Ae(Ne(g$2(e,n)));}var Re=function Re(e,t,n){return void 0===n&&(n=E),e.theme!==n.theme&&e.theme||t||n.theme;},De=/[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g,je=/(^-|-$)/g;function Te(e){return e.replace(De,\"-\").replace(je,\"\");}var xe=function xe(e){return ee(ne(e)>>>0);};function ke(e){return\"string\"==typeof e&&\"production\"===\"production\";}var Ve=function Ve(e){return\"function\"==typeof e||\"object\"==_typeof2(e)&&null!==e&&!Array.isArray(e);},Be=function Be(e){return\"__proto__\"!==e&&\"constructor\"!==e&&\"prototype\"!==e;};function ze(e,t,n){var r=e[n];Ve(t)&&Ve(r)?Me(r,t):e[n]=t;}function Me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,s=n;o<s.length;o++){var i=s[o];if(Ve(i))for(var a in i)Be(a)&&ze(e,i[a],a);}return e;}var Ge=/*#__PURE__*/wn.createContext();Ge.Consumer;function Fe(e){var t=q$5(Ge),n=F$4(function(){return function(e,t){if(!e)return j$1(14);if(b$2(e)){var n=e(t);return n;}return Array.isArray(e)||\"object\"!=_typeof2(e)?j$1(8):t?v$1({},t,{},e):e;}(e.theme,t);},[e.theme,t]);return e.children?/*#__PURE__*/wn.createElement(Ge.Provider,{value:n},e.children):null;}var Ye={};function qe(e,t,n){var o=N(e),i=!ke(e),a=t.attrs,c=void 0===a?w$1:a,d=t.componentId,h=void 0===d?function(e,t){var n=\"string\"!=typeof e?\"sc\":Te(e);Ye[n]=(Ye[n]||0)+1;var r=n+\"-\"+xe(\"5.3.5\"+n+Ye[n]);return t?t+\"-\"+r:r;}(t.displayName,t.parentComponentId):d,p=t.displayName,f=void 0===p?function(e){return ke(e)?\"styled.\"+e:\"Styled(\"+_(e)+\")\";}(e):p,g=t.displayName&&t.componentId?Te(t.displayName)+\"-\"+t.componentId:t.componentId||h,S=o&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,A=t.shouldForwardProp;o&&e.shouldForwardProp&&(A=t.shouldForwardProp?function(n,r,o){return e.shouldForwardProp(n,r,o)&&t.shouldForwardProp(n,r,o);}:e.shouldForwardProp);var C,I=new se(n,g,o?e.componentStyle:void 0),P=I.isStatic&&0===c.length,O=function O(e,t){return function(e,t,n,r){var o=e.attrs,i=e.componentStyle,a=e.defaultProps,c=e.foldedComponentIds,d=e.shouldForwardProp,h=e.styledComponentId,p=e.target;var f=function(e,t,n){void 0===e&&(e=E);var r=v$1({},t,{theme:e}),o={};return n.forEach(function(e){var t,n,s,i=e;for(t in b$2(i)&&(i=i(r)),i)r[t]=o[t]=\"className\"===t?(n=o[t],s=i[t],n&&s?n+\" \"+s:n||s):i[t];}),[r,o];}(Re(t,q$5(Ge),a)||E,t,o),y=f[0],g=f[1],S=function(e,t,n,r){var o=fe(),s=me(),i=t?e.generateAndInjectStyles(E,o,s):e.generateAndInjectStyles(n,o,s);return i;}(i,r,y),w=n,_=g.$as||t.$as||g.as||t.as||p,N=ke(_),A=g!==t?v$1({},t,{},g):t,C={};for(var I in A)\"$\"!==I[0]&&\"as\"!==I&&(\"forwardedAs\"===I?C.as=A[I]:(d?d(I,isPropValid,_):!N||isPropValid(I))&&(C[I]=A[I]));return t.style&&g.style!==t.style&&(C.style=v$1({},t.style,{},g.style)),C.className=Array.prototype.concat(c,h,S!==h?S:null,t.className,g.className).filter(Boolean).join(\" \"),C.ref=w,/*#__PURE__*/y$4(_,C);}(C,e,t,P);};return O.displayName=f,(C=/*#__PURE__*/wn.forwardRef(O)).attrs=S,C.componentStyle=I,C.displayName=f,C.shouldForwardProp=A,C.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):w$1,C.styledComponentId=g,C.target=o?e.target:e,C.withComponent=function(e){var r=t.componentId,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o;}(t,[\"componentId\"]),s=r&&r+\"-\"+(ke(e)?e:Te(_(e)));return qe(e,v$1({},o,{attrs:S,componentId:s}),n);},Object.defineProperty(C,\"defaultProps\",{get:function get(){return this._foldedDefaultProps;},set:function set(t){this._foldedDefaultProps=o?Me({},e.defaultProps,t):t;}}),C.toString=function(){return\".\"+C.styledComponentId;},i&&y(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C;}var He=function He(e){return function e(t,r,o){if(void 0===o&&(o=E),!reactIsExports$1.isValidElementType(r))return j$1(1,String(r));var s=function s(){return t(r,o,Ce.apply(void 0,arguments));};return s.withConfig=function(n){return e(t,r,v$1({},o,{},n));},s.attrs=function(n){return e(t,r,v$1({},o,{attrs:Array.prototype.concat(o.attrs,n).filter(Boolean)}));},s;}(qe,e);};[\"a\",\"abbr\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"base\",\"bdi\",\"bdo\",\"big\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"cite\",\"code\",\"col\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"dialog\",\"div\",\"dl\",\"dt\",\"em\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"iframe\",\"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"legend\",\"li\",\"link\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meta\",\"meter\",\"nav\",\"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"param\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\",\"small\",\"source\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"title\",\"tr\",\"track\",\"u\",\"ul\",\"var\",\"video\",\"wbr\",\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"foreignObject\",\"g\",\"image\",\"line\",\"linearGradient\",\"marker\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"svg\",\"text\",\"textPath\",\"tspan\"].forEach(function(e){He[e]=He(e);});function Ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Ce.apply(void 0,[e].concat(n)).join(\"\"),s=xe(o);return new ve(s,o);}var Ze=function Ze(){return q$5(Ge);};var SHADOW_DOM_ONE_TAP_MOUNT_POINT=\"<div data-prompt_parent_id='g_id_onload' id='google-parent-prompt' style=''></div>\";function CreateWebComponent(ReactComponent,webComponentName){var existingRegistry=customElements.get(webComponentName);if(existingRegistry){return existingRegistry;}var ReactWebComponent=/*#__PURE__*/function(_HTMLElement){_inherits2(ReactWebComponent,_HTMLElement);function ReactWebComponent(props){var _this20;_classCallCheck2(this,ReactWebComponent);_this20=_callSuper2(this,ReactWebComponent);_this20.props=props;_this20.rootRef=document.createElement('div');_this20.append(_this20.rootRef);return _this20;}_createClass2(ReactWebComponent,[{key:\"connectedCallback\",value:function connectedCallback(){this.styleSlot=document.createElement('section');this.rootRef.appendChild(this.styleSlot);this.mountPoint=document.createElement('span');this.styleSlot.appendChild(this.mountPoint);this.render(this.props);}},{key:\"disconnectedCallback\",value:function disconnectedCallback(){if(!this.mountPoint){return;}wn.unmountComponentAtNode(this.mountPoint);}},{key:\"render\",value:function render(props){if(!this.mountPoint){throw Error('Cannot render - no mount point defined');}if(!this.styleSlot){throw Error('Cannot render - no style slot defined');}wn.render(/*#__PURE__*/wn.createElement(ye,{target:this.styleSlot},/*#__PURE__*/wn.createElement(ReactComponent,Object.assign({},props))),this.mountPoint);}}]);return ReactWebComponent;}(/*#__PURE__*/_wrapNativeSuper2(HTMLElement));customElements.define(webComponentName,ReactWebComponent);return ReactWebComponent;}function CreateShadowWebComponent(ReactComponent,webComponentName){var existingRegistry=customElements.get(webComponentName);if(existingRegistry){return existingRegistry;}var ReactWebComponent=/*#__PURE__*/function(_HTMLElement2){_inherits2(ReactWebComponent,_HTMLElement2);function ReactWebComponent(props){var _this21;_classCallCheck2(this,ReactWebComponent);_this21=_callSuper2(this,ReactWebComponent);_this21.props=props;_this21.rootRef=_this21.attachShadow({mode:'open'});return _this21;}_createClass2(ReactWebComponent,[{key:\"connectedCallback\",value:function connectedCallback(){this.styleSlot=document.createElement('section');this.rootRef.appendChild(this.styleSlot);this.mountPoint=document.createElement('span');this.styleSlot.appendChild(this.mountPoint);this.render(this.props);}},{key:\"disconnectedCallback\",value:function disconnectedCallback(){if(!this.mountPoint){return;}wn.unmountComponentAtNode(this.mountPoint);}},{key:\"renderOneTap\",value:function renderOneTap(props){var _a,_b,_c;var shouldContainOneTap=(_c=(_b=(_a=props===null||props===void 0?void 0:props.config)===null||_a===void 0?void 0:_a.oauthOptions)===null||_b===void 0?void 0:_b.providers)===null||_c===void 0?void 0:_c.find(function(config){return config.type===OAuthProviders.Google&&config.one_tap;});var containsOneTap=this.innerHTML.includes(SHADOW_DOM_ONE_TAP_MOUNT_POINT);if(shouldContainOneTap){if(!containsOneTap){this.innerHTML=SHADOW_DOM_ONE_TAP_MOUNT_POINT;}}else{this.innerHTML='';}}},{key:\"render\",value:function render(props){if(!this.mountPoint){throw Error('Cannot render - no mount point defined');}if(!this.styleSlot){throw Error('Cannot render - no style slot defined');}this.renderOneTap(props);wn.render(/*#__PURE__*/wn.createElement(ye,{target:this.styleSlot},/*#__PURE__*/wn.createElement(ReactComponent,Object.assign({},props))),this.mountPoint);}}]);return ReactWebComponent;}(/*#__PURE__*/_wrapNativeSuper2(HTMLElement));customElements.define(webComponentName,ReactWebComponent);return ReactWebComponent;}function CreateSSRSafeWebComponent(ReactComponent,webComponentName){if(typeof window==='undefined'){return function(){return null;};}return function(props){var _a;var shadowDomEnabled=!!((_a=props.config)===null||_a===void 0?void 0:_a.enableShadowDOM);if(shadowDomEnabled){var Component=CreateShadowWebComponent(ReactComponent,webComponentName);return new Component(props);}else{var _Component=CreateWebComponent(ReactComponent,webComponentName);return new _Component(props);}};}var reducer$1=function reducer$1(state,action){switch(action.type){case'transition':return Object.assign(Object.assign({},state),{screen:action.screen});case'set_magic_link_email':{return Object.assign(Object.assign({},state),{formState:Object.assign(Object.assign({},state.formState),{magicLinkState:{email:action.email}})});}case'update_otp_state':{return Object.assign(Object.assign({},state),{formState:Object.assign(Object.assign({},state.formState),{otpState:action.otpState})});}case'update_crypto_state':{return Object.assign(Object.assign({},state),{formState:Object.assign(Object.assign({},state.formState),{cryptoState:action.cryptoState})});}case'update_password_state':{return Object.assign(Object.assign({},state),{formState:Object.assign(Object.assign({},state.formState),{passwordState:action.passwordState})});}case'set_error_message':{return Object.assign(Object.assign({},state),{formState:Object.assign(Object.assign({},state.formState),{errorMessage:action.errorMessage})});}case'clear_error_message':{return Object.assign(Object.assign({},state),{formState:Object.assign(Object.assign({},state.formState),{errorMessage:''})});}default:throw new Error();}};var AppScreens$1;(function(AppScreens){AppScreens[\"Main\"]=\"Main\";AppScreens[\"PasskeyRegistrationStart\"]=\"Register New Passkey\";AppScreens[\"PasskeyRegistrationSuccess\"]=\"Passkey Registration Success\";AppScreens[\"PasskeyConfirmation\"]=\"Passkey Confirmation\";AppScreens[\"PasswordCreateOrLogin\"]=\"Password\";AppScreens[\"PasswordResetForm\"]=\"Password Reset Form\";AppScreens[\"PasswordForgot\"]=\"Password Forgot\";AppScreens[\"PasswordBreached\"]=\"Password Breached\";AppScreens[\"PasswordSetNew\"]=\"Password Set New\";AppScreens[\"PasswordDedupe\"]=\"Password Dedupe\";AppScreens[\"PasswordConfirmation\"]=\"Password Confirmation\";AppScreens[\"EmailConfirmation\"]=\"Email Confirmation\";AppScreens[\"OTPAuthenticate\"]=\"OTP Authenticate\";AppScreens[\"OTPConfirmation\"]=\"OTP Confirmation\";AppScreens[\"CryptoConnect\"]=\"Crypto Connect\";AppScreens[\"CryptoSignMessage\"]=\"Crypto Sign Message\";AppScreens[\"CryptoOtherScreen\"]=\"Crypto Other Screen\";AppScreens[\"CryptoSetupWallet\"]=\"Crypto Setup Wallet\";AppScreens[\"CryptoError\"]=\"Crypto Error\";AppScreens[\"CryptoConfirmation\"]=\"Crypto Confirmation\";})(AppScreens$1||(AppScreens$1={}));var DEFAULT_STATE={screen:AppScreens$1.Main,formState:{magicLinkState:{email:''},otpState:{type:OTPMethods.Email,methodId:'',otpDestination:''},cryptoState:{walletAddress:'',walletOption:Wallets.Metamask,walletChallenge:''},passwordState:{email:'',type:'new'},resetPasswordState:{token:''},errorMessage:''}};var DEFAULT_CONFIG={products:[Products.emailMagicLinks],emailMagicLinksOptions:{loginRedirectURL:'',loginExpirationMinutes:30,signupRedirectURL:'',signupExpirationMinutes:30,createUserAsPending:false}};var DEFAULT_STYLE_CONFIG={container:{backgroundColor:'#FFFFFF',borderColor:'#ADBCC5',borderRadius:'8px',width:'400px'},colors:{primary:'#19303D',secondary:'#5C727D',success:'#0C5A56',error:'#8B1214'},buttons:{primary:{backgroundColor:'#19303D',textColor:'#FFFFFF',borderColor:'#19303D',borderRadius:'4px'},secondary:{backgroundColor:'#FFFFFF',textColor:'#19303D',borderColor:'#19303D',borderRadius:'4px'}},fontFamily:'Arial, Helvetica, sans-serif',hideHeaderText:false,logo:{logoImageUrl:''}};var GlobalContext=/*#__PURE__*/wn.createContext({client:{},config:DEFAULT_CONFIG,state:[DEFAULT_STATE,function(){return null;}]});var GlobalContextProvider=function GlobalContextProvider(_ref17){var children=_ref17.children,client=_ref17.client,config=_ref17.config,callbacks=_ref17.callbacks,initialState=_ref17.initialState;var state=wn.useReducer(reducer$1,initialState!==null&&initialState!==void 0?initialState:DEFAULT_STATE);return/*#__PURE__*/wn.createElement(GlobalContext.Provider,{value:{client:client,state:state,config:config,callbacks:callbacks}},children);};var useGlobalContext=function useGlobalContext(){return q$5(GlobalContext);};var useStytch=function useStytch(){return useGlobalContext().client;};var useGlobalReducer=function useGlobalReducer(){return useGlobalContext().state;};var useConfig=function useConfig(){return useGlobalContext().config;};var useErrorCallback=function useErrorCallback(){var _a,_b;return(_b=(_a=useGlobalContext().callbacks)===null||_a===void 0?void 0:_a.onError)!==null&&_b!==void 0?_b:function(){return void 0;};};var useEventCallback=function useEventCallback(){var _a,_b;return(_b=(_a=useGlobalContext().callbacks)===null||_a===void 0?void 0:_a.onEvent)!==null&&_b!==void 0?_b:function(){return void 0;};};var Button=He.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  all: unset;\\n  width: 100%;\\n  height: 45px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 18px;\\n  text-transform: none;\\n  font-family: \",\";\\n  box-shadow: none;\\n  text-align: center;\\n\\n  \",\"\\n\\n  &:disabled {\\n    background-color: \",\";\\n    color: \",\";\\n    cursor: not-allowed;\\n  }\\n\"])),function(props){return props.theme.typography.fontFamily;},function(props){switch(props.variant){case'primary':return\"\\n          border: \".concat(props.theme.buttons.primary.border,\";\\n          border-radius: \").concat(props.theme.buttons.primary.borderRadius,\";\\n          color: \").concat(props.theme.buttons.primary.textColor,\";\\n          background-color: \").concat(props.theme.buttons.primary.backgroundColor,\";\\n        \");case'outlined':return\"\\n          border: \".concat(props.theme.buttons.secondary.border,\";\\n          border-radius: \").concat(props.theme.buttons.secondary.borderRadius,\";\\n          color: \").concat(props.theme.buttons.secondary.textColor,\";\\n          background-color: \").concat(props.theme.buttons.secondary.backgroundColor,\";\\n        \");case'text':return\"\\n          color: \".concat(props.theme.colors.primary,\";\\n          background-color: transparent;\\n          font-weight: 600;\\n        \");}},function(props){return props.theme.colors.disabled;},function(props){return props.theme.colors.disabledText;});Button.defaultProps={variant:'primary'};var itemOrNone=function itemOrNone(item){return item!==null&&item!==void 0?item:undefined;};var spaceOrNone=function spaceOrNone(space){return space?\"\".concat(space,\"px\"):undefined;};var Flex=He.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: \",\";\\n\\n  flex-direction: \",\";\\n  justify-content: \",\";\\n  align-items: \",\";\\n  flex-grow: \",\";\\n  flex-shrink: \",\";\\n  order: \",\";\\n  align-self: \",\";\\n  flex-flow: \",\";\\n  flex-wrap: \",\";\\n\\n  width: \",\";\\n  height: \",\";\\n  max-width: \",\";\\n  max-height: \",\";\\n  min-width: \",\";\\n  min-height: \",\";\\n  padding: \",\";\\n  margin: \",\";\\n  margin-top: \",\";\\n  margin-right: \",\";\\n  margin-bottom: \",\";\\n  margin-left: \",\";\\n  padding-top: \",\";\\n  padding-right: \",\";\\n  padding-bottom: \",\";\\n  padding-left: \",\";\\n\\n  gap: \",\";\\n\"])),function(_ref18){var inline=_ref18.inline;return inline?'inline-flex':'flex';},function(_ref19){var direction=_ref19.direction;return itemOrNone(direction);},function(_ref20){var justifyContent=_ref20.justifyContent,center=_ref20.center;return center?'center':itemOrNone(justifyContent);},function(_ref21){var alignItems=_ref21.alignItems,center=_ref21.center;return center?'center':itemOrNone(alignItems);},function(_ref22){var grow=_ref22.grow;return itemOrNone(grow);},function(_ref23){var shrink=_ref23.shrink;return itemOrNone(shrink);},function(_ref24){var order=_ref24.order;return itemOrNone(order);},function(_ref25){var alignSelf=_ref25.alignSelf;return itemOrNone(alignSelf);},function(_ref26){var flow=_ref26.flow;return itemOrNone(flow);},function(_ref27){var wrap=_ref27.wrap;return itemOrNone(wrap);},function(_ref28){var width=_ref28.width;return typeof width==='string'?width:spaceOrNone(width);},function(_ref29){var height=_ref29.height;return typeof height==='string'?height:spaceOrNone(height);},function(_ref30){var maxWidth=_ref30.maxWidth;return typeof maxWidth==='string'?maxWidth:spaceOrNone(maxWidth);},function(_ref31){var maxHeight=_ref31.maxHeight;return typeof maxHeight==='string'?maxHeight:spaceOrNone(maxHeight);},function(_ref32){var minWidth=_ref32.minWidth;return typeof minWidth==='string'?minWidth:spaceOrNone(minWidth);},function(_ref33){var minHeight=_ref33.minHeight;return typeof minHeight==='string'?minHeight:spaceOrNone(minHeight);},function(_ref34){var padding=_ref34.padding;return spaceOrNone(padding);},function(_ref35){var margin=_ref35.margin;return spaceOrNone(margin);},function(_ref36){var marginTop=_ref36.marginTop;return spaceOrNone(marginTop);},function(_ref37){var marginRight=_ref37.marginRight;return spaceOrNone(marginRight);},function(_ref38){var marginBottom=_ref38.marginBottom;return spaceOrNone(marginBottom);},function(_ref39){var marginLeft=_ref39.marginLeft;return spaceOrNone(marginLeft);},function(_ref40){var paddingTop=_ref40.paddingTop;return spaceOrNone(paddingTop);},function(_ref41){var paddingRight=_ref41.paddingRight;return spaceOrNone(paddingRight);},function(_ref42){var paddingBottom=_ref42.paddingBottom;return spaceOrNone(paddingBottom);},function(_ref43){var paddingLeft=_ref43.paddingLeft;return spaceOrNone(paddingLeft);},function(_ref44){var gap=_ref44.gap;return spaceOrNone(gap);});var Text=He.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  text-align: \",\";\\n  \",\";\\n\"])),function(props){return props.color&&props.theme.colors[props.color];},function(props){return props.align;},function(props){return props.size&&props.theme.typography[props.size];});Text.defaultProps={size:'body',color:'primary',align:'left'};var CreateIcon=function CreateIcon(IconSvgComponent){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{wrapped:true};var IconComponent=function IconComponent(){var component=/*#__PURE__*/wn.createElement(IconSvgComponent,null);return options.wrapped?(/*#__PURE__*/wn.createElement(Flex,{height:24,width:24},component)):component;};return IconComponent;};var GmailIconSvg=function GmailIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 48 48\"},/*#__PURE__*/wn.createElement(\"path\",{fill:\"#4caf50\",d:\"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#1e88e5\",d:\"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z\"}),/*#__PURE__*/wn.createElement(\"polygon\",{fill:\"#e53935\",points:\"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#c62828\",d:\"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#fbc02d\",d:\"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z\"}));};var GmailIcon=CreateIcon(GmailIconSvg);var OutlookIconSvg=function OutlookIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",version:\"1.1\",id:\"Layer_1\",viewBox:\"0 0 103.17322 104.31332\",xmlSpace:\"preserve\"},/*#__PURE__*/wn.createElement(\"defs\",{id:\"defs43\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"m 64.566509,22.116383 v 20.404273 l 7.130526,4.489881 c 0.188058,0.05485 0.595516,0.05877 0.783574,0 L 103.16929,26.320259 c 0,-2.44867 -2.28412,-4.203876 -3.573094,-4.203876 H 64.566509 z\",id:\"path3\",style:{fill:'#0072c6'}}),/*#__PURE__*/wn.createElement(\"path\",{d:\"m 64.566509,50.13308 6.507584,4.470291 c 0.916782,0.673874 2.021622,0 2.021622,0 -1.100922,0.673874 30.077495,-20.035993 30.077495,-20.035993 v 37.501863 c 0,4.082422 -2.61322,5.794531 -5.551621,5.794531 H 64.562591 V 50.13308 z\",id:\"path5\",style:{fill:'#0072c6'}}),/*#__PURE__*/wn.createElement(\"g\",{id:\"g23\",transform:\"matrix(3.9178712,0,0,3.9178712,-13.481403,-41.384473)\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"m 11.321,20.958 c -0.566,0 -1.017,0.266 -1.35,0.797 -0.333,0.531 -0.5,1.234 -0.5,2.109 0,0.888 0.167,1.59 0.5,2.106 0.333,0.517 0.77,0.774 1.31,0.774 0.557,0 0.999,-0.251 1.325,-0.753 0.326,-0.502 0.49,-1.199 0.49,-2.09 0,-0.929 -0.158,-1.652 -0.475,-2.169 -0.317,-0.516 -0.75,-0.774 -1.3,-0.774 z\",id:\"path25\",style:{fill:'#0072c6'}}),/*#__PURE__*/wn.createElement(\"path\",{d:\"m 3.441,13.563 v 20.375 l 15.5,3.25 V 10.563 l -15.5,3 z m 10.372,13.632 c -0.655,0.862 -1.509,1.294 -2.563,1.294 -1.027,0 -1.863,-0.418 -2.51,-1.253 C 8.094,26.4 7.77,25.312 7.77,23.97 c 0,-1.417 0.328,-2.563 0.985,-3.438 0.657,-0.875 1.527,-1.313 2.61,-1.313 1.023,0 1.851,0.418 2.482,1.256 0.632,0.838 0.948,1.942 0.948,3.313 10e-4,1.409 -0.327,2.545 -0.982,3.407 z\",id:\"path27\",style:{fill:'#0072c6'}})));};var OutlookIcon=CreateIcon(OutlookIconSvg);var YahooIconSvg=function YahooIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"rect\",{x:\"2\",y:\"2\",width:\"20\",height:\"20\",rx:\"1\",fill:\"#671BDF\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M5 8.7284H7.71407L9.29444 12.7716L10.8953 8.7284H13.5379L9.55876 18.3H6.89942L7.98865 15.7637L5 8.7284Z\",fill:\"white\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.2 16.2028C15.108 16.2028 15.8441 15.4667 15.8441 14.5587C15.8441 13.6507 15.108 12.9146 14.2 12.9146C13.292 12.9146 12.5559 13.6507 12.5559 14.5587C12.5559 15.4667 13.292 16.2028 14.2 16.2028Z\",fill:\"white\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M16.3842 12.3106H13.4243L16.0512 6H19L16.3842 12.3106Z\",fill:\"white\"}));};var YahooIcon$1=CreateIcon(YahooIconSvg);var inboxLinks=function inboxLinks(emailDomain){if(!emailDomain){return{GMAIL:'https://mail.google.com/mail/u/0/#search/in%3Aanywhere',OUTLOOK:'https://outlook.office.com/mail/0/inbox',YAHOO:'https://mail.yahoo.com/d/search/referrer=unread'};}var gmailQuery=encodeURIComponent(\"from:@\".concat(emailDomain,\" in:anywhere\"));return{GMAIL:\"https://mail.google.com/mail/u/0/#search/\".concat(gmailQuery),OUTLOOK:'https://outlook.office.com/mail/0/inbox',YAHOO:\"https://mail.yahoo.com/d/search/keyword=\".concat(emailDomain)};};var Link=He.a(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\\n  &:hover {\\n    text-decoration: underline;\\n    text-decoration-color: \",\";\\n  }\\n\"])),function(props){return props.theme.colors.primary;});var EmailProviderLink=function EmailProviderLink(_ref45){var label=_ref45.label,href=_ref45.href,Icon=_ref45.Icon;return/*#__PURE__*/wn.createElement(Flex,{gap:4},Icon,/*#__PURE__*/wn.createElement(Link,{href:href,target:\"_blank\",rel:\"noopener noreferrer\"},/*#__PURE__*/wn.createElement(Text,null,\"Open in \",label)));};var EmailConfirmation$1=function EmailConfirmation$1(_ref46){var emailDomain=_ref46.emailDomain,reset=_ref46.reset,email=_ref46.email;var _inboxLinks=inboxLinks(emailDomain),GMAIL=_inboxLinks.GMAIL,YAHOO=_inboxLinks.YAHOO,OUTLOOK=_inboxLinks.OUTLOOK;return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Check your email\"),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:12},/*#__PURE__*/wn.createElement(Text,null,\"An email was sent to \",/*#__PURE__*/wn.createElement(\"b\",null,email),\".\"),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(EmailProviderLink,{href:GMAIL,label:'Gmail',Icon:/*#__PURE__*/wn.createElement(GmailIcon,null)}),/*#__PURE__*/wn.createElement(EmailProviderLink,{href:YAHOO,label:'Yahoo',Icon:/*#__PURE__*/wn.createElement(YahooIcon$1,null)}),/*#__PURE__*/wn.createElement(EmailProviderLink,{href:OUTLOOK,label:'Outlook',Icon:/*#__PURE__*/wn.createElement(OutlookIcon,null)}))),/*#__PURE__*/wn.createElement(Button,{type:\"button\",onClick:reset},\"Try again\"));};var useEmailDomain=function useEmailDomain(){var _a,_b;var stytch=useStytch();var config=useConfig();var _h$=h$5(function(){var _readB2CInternals$boo=readB2CInternals(stytch).bootstrap.getSync(),emailDomains=_readB2CInternals$boo.emailDomains;return emailDomains;}),_h$2=_slicedToArray2(_h$,2),emailDomains=_h$2[0],setEmailDomains=_h$2[1];p$6(function(){readB2CInternals(stytch).bootstrap.getAsync().then(function(_ref47){var emailDomains=_ref47.emailDomains;setEmailDomains(emailDomains);});},[stytch]);if((_a=config.emailMagicLinksOptions)===null||_a===void 0?void 0:_a.domainHint){return(_b=config.emailMagicLinksOptions)===null||_b===void 0?void 0:_b.domainHint;}if((emailDomains===null||emailDomains===void 0?void 0:emailDomains.length)===1){return emailDomains[0];}return null;};var EmailConfirmation=function EmailConfirmation(){var stytchClient=useStytch();var _useGlobalReducer=useGlobalReducer(),_useGlobalReducer2=_slicedToArray2(_useGlobalReducer,2),state=_useGlobalReducer2[0],dispatch=_useGlobalReducer2[1];var emailDomain=useEmailDomain();var email=state.formState.magicLinkState.email!==''?state.formState.magicLinkState.email:state.formState.passwordState.email;var reset=function reset(){dispatch({type:'set_magic_link_email',email:''});dispatch({type:'transition',screen:AppScreens$1.Main});readB2CInternals(stytchClient).networkClient.logEvent({name:'email_try_again_clicked',details:{email:email,type:EmailSentType.LoginOrCreateEML}});};return/*#__PURE__*/wn.createElement(EmailConfirmation$1,{emailDomain:emailDomain,reset:reset,email:email});};var ConfirmationSVG=function ConfirmationSVG(){return/*#__PURE__*/y$4(\"svg\",{width:\"201\",height:\"200\",viewBox:\"0 0 201 200\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"g\",{opacity:\"0.1\"},/*#__PURE__*/y$4(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M100.5 0C155.729 0 200.5 44.7715 200.5 99.9999C200.5 155.229 155.729 200 100.5 200C45.2715 200 0.5 155.229 0.5 99.9999C0.5 44.7715 45.2715 0 100.5 0Z\",fill:\"url(#paint0_linear_1356_5135)\"})),/*#__PURE__*/y$4(\"g\",{opacity:\"0.3\"},/*#__PURE__*/y$4(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M100.5 17.5728C146.023 17.5728 182.927 54.4767 182.927 99.9998C182.927 145.523 146.023 182.427 100.5 182.427C54.9768 182.427 18.0729 145.523 18.0729 99.9998C18.0729 54.4767 54.9768 17.5728 100.5 17.5728Z\",fill:\"url(#paint1_linear_1356_5135)\"})),/*#__PURE__*/y$4(\"g\",{opacity:\"0.7\"},/*#__PURE__*/y$4(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M100.5 32.231C137.988 32.231 168.378 62.6208 168.378 100.109C168.378 137.597 137.988 167.987 100.5 167.987C63.012 167.987 32.6222 137.597 32.6222 100.109C32.6222 62.6208 63.012 32.231 100.5 32.231Z\",fill:\"url(#paint2_linear_1356_5135)\"})),/*#__PURE__*/y$4(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M100.605 48.7734C128.955 48.7734 151.937 71.7553 151.937 100.105C151.937 128.455 128.955 151.437 100.605 151.437C72.255 151.437 49.2731 128.455 49.2731 100.105C49.2731 71.7553 72.255 48.7734 100.605 48.7734Z\",fill:\"#00AC26\",fillOpacity:\"0.12\"}),/*#__PURE__*/y$4(\"mask\",{id:\"mask0_1356_5135\",style:{maskType:'alpha'},maskUnits:\"userSpaceOnUse\",x:\"49\",y:\"48\",width:\"103\",height:\"104\"},/*#__PURE__*/y$4(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M100.605 48.7734C128.955 48.7734 151.937 71.7553 151.937 100.105C151.937 128.455 128.955 151.437 100.605 151.437C72.255 151.437 49.2731 128.455 49.2731 100.105C49.2731 71.7553 72.255 48.7734 100.605 48.7734Z\",fill:\"white\"})),/*#__PURE__*/y$4(\"g\",{mask:\"url(#mask0_1356_5135)\"}),/*#__PURE__*/y$4(\"path\",{d:\"M88 117.5L70.5 100L64.6667 105.833L88 129.167L138 79.1666L132.167 73.3333L88 117.5Z\",fill:\"white\"}),/*#__PURE__*/y$4(\"defs\",null,/*#__PURE__*/y$4(\"linearGradient\",{id:\"paint0_linear_1356_5135\",x1:\"-86.6375\",y1:\"160.384\",x2:\"170.169\",y2:\"338.297\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/y$4(\"stop\",{stopColor:\"white\"}),/*#__PURE__*/y$4(\"stop\",{offset:\"1\",stopColor:\"#09F33D\"})),/*#__PURE__*/y$4(\"linearGradient\",{id:\"paint1_linear_1356_5135\",x1:\"-86.6374\",y1:\"160.384\",x2:\"170.169\",y2:\"338.297\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/y$4(\"stop\",{stopColor:\"#00AC26\",stopOpacity:\"0.4\"}),/*#__PURE__*/y$4(\"stop\",{offset:\"1\",stopColor:\"#BDFFBC\",stopOpacity:\"0.58\"})),/*#__PURE__*/y$4(\"linearGradient\",{id:\"paint2_linear_1356_5135\",x1:\"-86.6375\",y1:\"160.493\",x2:\"170.169\",y2:\"338.406\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/y$4(\"stop\",{stopColor:\"#F8FFF5\"}),/*#__PURE__*/y$4(\"stop\",{offset:\"1\",stopColor:\"#00AC26\",stopOpacity:\"0.26\"}))));};var OTPConfirmation=function OTPConfirmation(){return/*#__PURE__*/y$4(Flex,{direction:\"column\",gap:24},/*#__PURE__*/y$4(Text,{size:\"header\"},\"Success\"),/*#__PURE__*/y$4(Text,null,\"Your passcode has been successfully verified.\"),/*#__PURE__*/y$4(\"div\",{style:{display:'block',marginLeft:'auto',marginRight:'auto',width:'50%'}},/*#__PURE__*/y$4(ConfirmationSVG,null)));};var DividerContainer=He(Flex)(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"])),function(props){return props.theme.colors.secondary;});var DividerBar=He.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  \",\"\\n  \",\"\\n  border-bottom: 1px solid \",\";\\n  flex-grow: 1;\\n\"])),function(props){return props.$placement==='left'&&'margin-right: 6px;';},function(props){return props.$placement==='right'&&'margin-left: 6px;';},function(props){return props.theme.colors.secondary;});var StyledText=He(Text)(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"])),function(props){return props.theme.colors.secondary;});var Divider=function Divider(){return/*#__PURE__*/wn.createElement(DividerContainer,{alignItems:\"center\"},/*#__PURE__*/wn.createElement(DividerBar,{\"$placement\":\"left\"}),/*#__PURE__*/wn.createElement(StyledText,null,\"or\"),/*#__PURE__*/wn.createElement(DividerBar,{\"$placement\":\"right\"}));};var OAuthButton=function OAuthButton(props){var stytchClient=useStytch();var onButtonClick=function onButtonClick(){return stytchClient.oauth[props.providerType].start({login_redirect_url:props.loginRedirectUrl,signup_redirect_url:props.signupRedirectUrl,custom_scopes:props.customScopes,provider_params:props.providerParams});};return/*#__PURE__*/wn.createElement(Button,{id:\"oauth-\".concat(props.providerType),type:\"button\",onClick:onButtonClick,variant:\"outlined\"},/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\",alignItems:\"center\",gap:4},props.icon,/*#__PURE__*/wn.createElement(\"span\",{style:{verticalAlign:'middle'}},\"Continue with \".concat(props.providerTypeTitle))));};var GoogleIconSvg=function GoogleIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 48 48\"},/*#__PURE__*/wn.createElement(\"path\",{fill:\"#FFC107\",d:\"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#FF3D00\",d:\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#4CAF50\",d:\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#1976D2\",d:\"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"}));};var GoogleIcon=CreateIcon(GoogleIconSvg);var useIsUnmounted=function useIsUnmounted(){var isUnmounted=_$1(false);p$6(function(){return function(){isUnmounted.current=true;};},[]);return isUnmounted;};var OAuthErrorMessage=function OAuthErrorMessage(_ref48){var children=_ref48.children;return/*#__PURE__*/wn.createElement(\"div\",{key:\"oauth-error-message\"},/*#__PURE__*/wn.createElement(Text,{color:\"error\"},children));};var OneTapNoConfiguredClientsErrorMessage=function OneTapNoConfiguredClientsErrorMessage(){return/*#__PURE__*/wn.createElement(OAuthErrorMessage,null,\"One Tap cannot render because no Google OAuth client configuration could be found for this project. Please make sure a client is configured in the\\xA0\",/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/dashboard/oauth\"},\"dashboard.\"));};var RedirectUrlsErrorMessage=function RedirectUrlsErrorMessage(_ref49){var niceName=_ref49.niceName,variableName=_ref49.variableName;return/*#__PURE__*/wn.createElement(OAuthErrorMessage,null,\"One Tap cannot render because there are no \",niceName,\" set for this project so we are unable to verify the\",' ',/*#__PURE__*/wn.createElement(\"code\",null,variableName),\"\\xA0 provided in the configuration. To set \",niceName,\" for this project please visit\\xA0\",/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/docs/javascript-sdk\"},\"the Stytch dashboard.\"),\"\\xA0 For more information on why this validation is necessary please visit\\xA0\",/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/docs/api/url-validation\"},\"https://stytch.com/docs/api/url-validation.\"));};var OneTapNoConfiguredLoginRedirectUrlsErrorMessage=function OneTapNoConfiguredLoginRedirectUrlsErrorMessage(){return/*#__PURE__*/wn.createElement(RedirectUrlsErrorMessage,{niceName:\"login redirect URLs\",variableName:\"oauthOptions.loginRedirectURL\"});};var OneTapNoConfiguredSignupRedirectUrlsErrorMessage=function OneTapNoConfiguredSignupRedirectUrlsErrorMessage(){return/*#__PURE__*/wn.createElement(RedirectUrlsErrorMessage,{niceName:\"signup redirect URLs\",variableName:\"oauthOptions.signupRedirectURL\"});};var OneTapJSOriginErrorMessage=function OneTapJSOriginErrorMessage(){return/*#__PURE__*/wn.createElement(OAuthErrorMessage,null,\"One Tap cannot render because the current host\\xA0\",/*#__PURE__*/wn.createElement(\"code\",null,\"\\\"\".concat(window.location.host,\"\\\"\")),\" is not allowed for this project. Make sure to put your project's host into the Google API console. When using localhost for development, you must add both\\xA0\",/*#__PURE__*/wn.createElement(\"code\",null,\"http://localhost\"),\" and\\xA0\",/*#__PURE__*/wn.createElement(\"code\",null,\"http://localhost:<port_number>\"),\"\\xA0 to the Authorized JavaScript origins box. You can learn more\\xA0\",/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/docs/javascript-sdk\"},\"here.\"));};var OneTapInvalidOAuthClient=function OneTapInvalidOAuthClient(){return/*#__PURE__*/wn.createElement(OAuthErrorMessage,null,\"One Tap cannot render because the client ID configured for your project is not recognized by Google. \\xA0 Please check that the client ID saved in \",/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/dashboard/oauth/google\"},\"the Stytch Dashboard\"),\"\\xA0 matches the client ID in your Google Cloud Console.\");};var OneTapNoDefaultProviderAllowedErrorMessage=function OneTapNoDefaultProviderAllowedErrorMessage(){return/*#__PURE__*/wn.createElement(OAuthErrorMessage,null,\"One Tap cannot render because the Stytch Default OAuth Provider is not compatible with One Tap. Please configure your own Google client in the\\xA0\",/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/dashboard/oauth\"},\"dashboard.\"));};var circularRotateKeyframe=Ue(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n\"])));var circularDashKeyframe=Ue(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  0% {\\n    stroke-dasharray: 1px, 200px;\\n    stroke-dashoffset: 0;\\n  }\\n  50% {\\n    stroke-dasharray: 100px, 200px;\\n    stroke-dashoffset: -15px;\\n  }\\n  100% {\\n    stroke-dasharray: 100px, 200px;\\n    stroke-dashoffset: -125px;\\n  }\\n\"])));var AnimatedCircle=He.circle(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  stroke-dasharray: 80px, 200px;\\n  stroke-dashoffset: 0;\\n  animation: \",\" 1.4s ease-in-out infinite;\\n  stroke: \",\";\\n  fill: none;\\n\"])),circularDashKeyframe,function(props){return props.theme.colors.primary;});var CircularProgressRoot=He.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  width: \",\"px;\\n  height: \",\"px;\\n  animation: \",\" 1.4s ease-in-out infinite;\\n\"])),function(props){return props.size;},function(props){return props.size;},circularRotateKeyframe);var CircularProgressSVG=He.svg(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  display: block;\\n\"])));var CircularProgress=function CircularProgress(_ref50){var size=_ref50.size,thickness=_ref50.thickness;return/*#__PURE__*/wn.createElement(CircularProgressRoot,{size:size},/*#__PURE__*/wn.createElement(CircularProgressSVG,{viewBox:\"\".concat(size/2,\" \").concat(size/2,\" \").concat(size,\" \").concat(size)},/*#__PURE__*/wn.createElement(AnimatedCircle,{cx:size,cy:size,r:(size-thickness)/2,fill:\"none\",strokeWidth:thickness})));};var useIsOnlyFloatingOneTap=function useIsOnlyFloatingOneTap(){var config=useConfig();var isOnlyFloatingOneTap=F$4(function(){var _a,_b,_c,_d;var position=(_a=config.oauthOptions)===null||_a===void 0?void 0:_a.providers[0].position;return config.products.length===1&&config.products.includes(Products.oauth)&&((_b=config.oauthOptions)===null||_b===void 0?void 0:_b.providers.length)===1&&((_c=config.oauthOptions)===null||_c===void 0?void 0:_c.providers[0].type)===OAuthProviders.Google&&((_d=config.oauthOptions)===null||_d===void 0?void 0:_d.providers[0].one_tap)===true&&getShouldRenderFloatingOneTap(position);},[config]);return isOnlyFloatingOneTap;};var OAUTH_BUTTON_HEIGHT=47;var OneTapMountNode=function OneTapMountNode(_ref51){var enableShadowDOM=_ref51.enableShadowDOM;return enableShadowDOM?/*#__PURE__*/wn.createElement(\"slot\",null):/*#__PURE__*/wn.createElement(\"div\",{\"data-prompt_parent_id\":\"g_id_onload\",id:\"google-parent-prompt\"});};var OneTapErrors;(function(OneTapErrors){OneTapErrors[\"None\"]=\"none\";OneTapErrors[\"OriginNotAllowedForClient\"]=\"origin_not_allowed_for_client\";OneTapErrors[\"InvalidOAuthClient\"]=\"invalid_client\";OneTapErrors[\"NoConfiguredOAuthClient\"]=\"oauth_config_not_found\";OneTapErrors[\"NoConfiguredLoginRedirectUrls\"]=\"no_login_redirect_urls_set\";OneTapErrors[\"NoConfiguredSignupRedirectUrls\"]=\"no_signup_redirect_urls_set\";OneTapErrors[\"DefaultProviderNotAllowed\"]=\"default_provider_not_allowed\";})(OneTapErrors||(OneTapErrors={}));var ErrorMessages=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},OneTapErrors.None,/*#__PURE__*/wn.createElement(wn.Fragment,null)),OneTapErrors.OriginNotAllowedForClient,/*#__PURE__*/wn.createElement(OneTapJSOriginErrorMessage,null)),OneTapErrors.InvalidOAuthClient,/*#__PURE__*/wn.createElement(OneTapInvalidOAuthClient,null)),OneTapErrors.NoConfiguredOAuthClient,/*#__PURE__*/wn.createElement(OneTapNoConfiguredClientsErrorMessage,null)),OneTapErrors.NoConfiguredLoginRedirectUrls,/*#__PURE__*/wn.createElement(OneTapNoConfiguredLoginRedirectUrlsErrorMessage,null)),OneTapErrors.NoConfiguredSignupRedirectUrls,/*#__PURE__*/wn.createElement(OneTapNoConfiguredSignupRedirectUrlsErrorMessage,null)),OneTapErrors.DefaultProviderNotAllowed,/*#__PURE__*/wn.createElement(OneTapNoDefaultProviderAllowedErrorMessage,null));var OneTapContainer=He.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  height: \",\";\\n  display: \",\";\\n  transition: all 0.5s ease-out;\\n  justify-content: center;\\n  align-items: center;\\n\"])),function(props){return\"\".concat(props.$height,\"px\");},function(props){return props.pending?'flex':'block';});var GoogleOneTap=function GoogleOneTap(_ref52){var position=_ref52.position;var _a,_b,_c,_d;var oneTapRenderMode=getRenderedOneTapMode(position);var shouldRenderEmbeddedOneTap=oneTapRenderMode==='embedded';var shouldRenderOneTap=!!oneTapRenderMode;var config=useConfig();var stytch=useStytch();var isOnlyFloatingOneTap=useIsOnlyFloatingOneTap();var _h$3=h$5(shouldRenderEmbeddedOneTap),_h$4=_slicedToArray2(_h$3,2),pending=_h$4[0],setPending=_h$4[1];var _h$5=h$5(true),_h$6=_slicedToArray2(_h$5,2),canDisplayOneTap=_h$6[0],setCanDisplayOneTap=_h$6[1];var _h$7=h$5(OAUTH_BUTTON_HEIGHT),_h$8=_slicedToArray2(_h$7,2),height=_h$8[0],setHeight=_h$8[1];var _h$9=h$5(OneTapErrors.None),_h$10=_slicedToArray2(_h$9,2),oneTapError=_h$10[0],setOneTapError=_h$10[1];var resizeCount=_$1(0);var timeout=_$1();var isUnmounted=useIsUnmounted();var onResize=T$2(function(_ref53){var _ref54=_slicedToArray2(_ref53,1),el=_ref54[0];timeout.current&&clearTimeout(timeout.current);if(resizeCount.current>1){setHeight(function(currentHeight){return el.contentRect.height===0?canDisplayOneTap?currentHeight:OAUTH_BUTTON_HEIGHT:el.contentRect.height;});}else{timeout.current=setTimeout(function(){return setHeight(function(currentHeight){return el.contentRect.height===0?canDisplayOneTap?currentHeight:OAUTH_BUTTON_HEIGHT:el.contentRect.height;});},100);}resizeCount.current++;},[]);p$6(function(){if(shouldRenderEmbeddedOneTap){var el=document.getElementById('google-parent-prompt');if(el){var resizeObserver=new ResizeObserver(onResize);resizeObserver.observe(el);return function(){return resizeObserver.disconnect();};}}},[onResize,shouldRenderEmbeddedOneTap]);var attemptToLoadOneTap=T$2(function(){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee70(){var _e,_f,_readB2CInternals,oneTap,clientResult,client,onOneTapCancelled,renderResult;return _regeneratorRuntime2().wrap(function _callee70$(_context70){while(1)switch(_context70.prev=_context70.next){case 0:if(shouldRenderOneTap){_context70.next=2;break;}return _context70.abrupt(\"return\");case 2:_readB2CInternals=readB2CInternals(stytch),oneTap=_readB2CInternals.oneTap;_context70.next=5;return oneTap.createOneTapClient();case 5:clientResult=_context70.sent;if(clientResult.success){_context70.next=9;break;}if(clientResult.reason==='oauth_config_not_found'){setOneTapError(OneTapErrors.NoConfiguredOAuthClient);}else if(clientResult.reason==='no_signup_redirect_urls_set'){setOneTapError(OneTapErrors.NoConfiguredSignupRedirectUrls);}else if(clientResult.reason==='no_login_redirect_urls_set'){setOneTapError(OneTapErrors.NoConfiguredLoginRedirectUrls);}else{logger.error('Unable to load One Tap settings for project',clientResult);}return _context70.abrupt(\"return\");case 9:client=clientResult.client;onOneTapCancelled=function onOneTapCancelled(showError){setCanDisplayOneTap(false);setHeight(OAUTH_BUTTON_HEIGHT);if(showError){setOneTapError(OneTapErrors.OriginNotAllowedForClient);}};if(!isUnmounted.current){_context70.next=13;break;}return _context70.abrupt(\"return\");case 13:_context70.next=15;return client.render({callback:oneTap.createOnSuccessHandler({loginRedirectUrl:(_e=config.oauthOptions)===null||_e===void 0?void 0:_e.loginRedirectURL,signupRedirectUrl:(_f=config.oauthOptions)===null||_f===void 0?void 0:_f.signupRedirectURL,onSuccess:oneTap.RedirectOnSuccess}),onOneTapCancelled:onOneTapCancelled,style:{position:position}});case 15:renderResult=_context70.sent;if(!isUnmounted.current){_context70.next=19;break;}client.cancel();return _context70.abrupt(\"return\");case 19:setCanDisplayOneTap(renderResult.success);setPending(false);if(!renderResult.success){if(renderResult.reason==='unregistered_origin'){setOneTapError(OneTapErrors.OriginNotAllowedForClient);}if(renderResult.reason==='invalid_client'){setOneTapError(OneTapErrors.InvalidOAuthClient);}logger.error('Unable to render One Tap prompt',renderResult);}return _context70.abrupt(\"return\",client);case 23:case\"end\":return _context70.stop();}},_callee70);}));},[shouldRenderOneTap,stytch,isUnmounted,(_a=config.oauthOptions)===null||_a===void 0?void 0:_a.loginRedirectURL,(_b=config.oauthOptions)===null||_b===void 0?void 0:_b.signupRedirectURL,position]);p$6(function(){var client;attemptToLoadOneTap().then(function($client){return client=$client;})[\"catch\"](function(err){logger.error('Unable to render One Tap prompt',err);setCanDisplayOneTap(false);setPending(false);});return function(){return client===null||client===void 0?void 0:client.cancel();};},[attemptToLoadOneTap]);var googleAuthButton=/*#__PURE__*/wn.createElement(OAuthButton,{key:\"oauth-\".concat(OAuthProviders.Google),providerType:OAuthProviders.Google,icon:/*#__PURE__*/wn.createElement(GoogleIcon,null),providerTypeTitle:\"Google\",loginRedirectUrl:(_c=config.oauthOptions)===null||_c===void 0?void 0:_c.loginRedirectURL,signupRedirectUrl:(_d=config.oauthOptions)===null||_d===void 0?void 0:_d.signupRedirectURL});var _readB2CInternals2=readB2CInternals(stytch),publicToken=_readB2CInternals2.publicToken;if(isOnlyFloatingOneTap){return/*#__PURE__*/wn.createElement(OneTapMountNode,{enableShadowDOM:!!config.enableShadowDOM});}if(oneTapError!==OneTapErrors.None){return/*#__PURE__*/wn.createElement(wn.Fragment,null,isTestPublicToken(publicToken)?ErrorMessages[oneTapError]:null,googleAuthButton);}if(shouldRenderEmbeddedOneTap&&OneTapProvider.WillGoogleOneTapShowEmbedded()){return/*#__PURE__*/wn.createElement(OneTapContainer,{pending:pending,\"$height\":height},pending&&/*#__PURE__*/wn.createElement(CircularProgress,{size:25,thickness:2}),canDisplayOneTap?/*#__PURE__*/wn.createElement(OneTapMountNode,{enableShadowDOM:!!config.enableShadowDOM}):googleAuthButton);}return googleAuthButton;};var AppleIconSvg=function AppleIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.2227 6.25C13.0547 6.25 14.0977 5.65496 14.7188 4.86157C15.2813 4.14256 15.6914 3.13843 15.6914 2.1343C15.6914 1.99793 15.6797 1.86157 15.6563 1.75C14.7305 1.78719 13.6172 2.40702 12.9492 3.2376C12.4219 3.86983 11.9414 4.86157 11.9414 5.8781C11.9414 6.02686 11.9648 6.17562 11.9766 6.22521C12.0352 6.2376 12.1289 6.25 12.2227 6.25ZM9.29297 21.25C10.4297 21.25 10.9336 20.4442 12.3516 20.4442C13.793 20.4442 14.1094 21.2252 15.375 21.2252C16.6172 21.2252 17.4492 20.0103 18.2344 18.8202C19.1133 17.4566 19.4766 16.1178 19.5 16.0558C19.418 16.031 17.0391 15.0021 17.0391 12.1136C17.0391 9.6095 18.9141 8.4814 19.0195 8.39463C17.7773 6.51033 15.8906 6.46074 15.375 6.46074C13.9805 6.46074 12.8438 7.35331 12.1289 7.35331C11.3555 7.35331 10.3359 6.51033 9.12891 6.51033C6.83203 6.51033 4.5 8.51859 4.5 12.312C4.5 14.6674 5.36719 17.1591 6.43359 18.7707C7.34766 20.1343 8.14453 21.25 9.29297 21.25Z\",fill:\"black\"}));};var AppleIcon=CreateIcon(AppleIconSvg);var GithubIconSvg=function GithubIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.0001 2.25C6.47791 2.25 2 6.72709 2 12.2501C2 16.6684 4.86533 20.4168 8.83867 21.7391C9.33844 21.8317 9.52192 21.5222 9.52192 21.2581C9.52192 21.0196 9.51265 20.2319 9.50834 19.3963C6.72631 20.0012 6.13927 18.2164 6.13927 18.2164C5.68437 17.0605 5.02894 16.7532 5.02894 16.7532C4.12163 16.1325 5.09733 16.1453 5.09733 16.1453C6.10151 16.2158 6.63026 17.1758 6.63026 17.1758C7.52217 18.7046 8.96965 18.2626 9.5403 18.0071C9.63006 17.3607 9.88922 16.9196 10.1752 16.6699C7.95405 16.417 5.61913 15.5595 5.61913 11.7278C5.61913 10.636 6.00977 9.74394 6.64947 9.04362C6.54564 8.79175 6.20335 7.77465 6.74635 6.39722C6.74635 6.39722 7.58609 6.12845 9.49708 7.42226C10.2948 7.20069 11.1502 7.08958 12.0001 7.08577C12.8499 7.08958 13.7061 7.20069 14.5052 7.42226C16.4139 6.12845 17.2525 6.39722 17.2525 6.39722C17.7968 7.77465 17.4544 8.79175 17.3505 9.04362C17.9917 9.74394 18.3797 10.636 18.3797 11.7278C18.3797 15.5687 16.0403 16.4144 13.8135 16.6619C14.1722 16.9723 14.4918 17.5808 14.4918 18.5138C14.4918 19.8518 14.4802 20.9287 14.4802 21.2581C14.4802 21.5242 14.6602 21.836 15.1671 21.7378C19.1383 20.414 22 16.6669 22 12.2501C22 6.72709 17.5227 2.25 12.0001 2.25ZM5.74536 16.4953C5.72333 16.545 5.64517 16.5599 5.57396 16.5258C5.50143 16.4932 5.46069 16.4254 5.48421 16.3756C5.50574 16.3244 5.58406 16.3102 5.65643 16.3445C5.72913 16.3771 5.77053 16.4455 5.74536 16.4953ZM6.23725 16.9342C6.18956 16.9785 6.09633 16.9579 6.03307 16.888C5.96766 16.8183 5.9554 16.7251 6.00376 16.6802C6.05294 16.636 6.14336 16.6567 6.20893 16.7264C6.27434 16.797 6.28709 16.8895 6.23725 16.9342ZM6.57471 17.4958C6.51344 17.5384 6.41325 17.4985 6.35132 17.4095C6.29004 17.3206 6.29004 17.214 6.35264 17.1712C6.41474 17.1285 6.51344 17.1669 6.5762 17.2552C6.6373 17.3456 6.6373 17.4523 6.57471 17.4958ZM7.14542 18.1462C7.09061 18.2066 6.97386 18.1904 6.88841 18.1079C6.80098 18.0273 6.77663 17.9129 6.83161 17.8524C6.88709 17.7918 7.0045 17.8089 7.09061 17.8907C7.17738 17.9711 7.20387 18.0864 7.14542 18.1462ZM7.88301 18.3657C7.85883 18.4441 7.74639 18.4797 7.63312 18.4464C7.52002 18.4121 7.446 18.3204 7.46885 18.2412C7.49237 18.1624 7.6053 18.1253 7.7194 18.1609C7.83234 18.195 7.90652 18.2861 7.88301 18.3657ZM8.72242 18.4589C8.72523 18.5413 8.62919 18.6097 8.51029 18.6112C8.39073 18.6139 8.29402 18.5471 8.29269 18.466C8.29269 18.3827 8.38659 18.315 8.50615 18.313C8.62505 18.3107 8.72242 18.3769 8.72242 18.4589ZM9.54704 18.4273C9.56128 18.5077 9.47865 18.5904 9.36058 18.6124C9.2445 18.6336 9.13702 18.5839 9.12229 18.5041C9.10788 18.4216 9.192 18.339 9.30792 18.3176C9.42616 18.2971 9.53197 18.3455 9.54704 18.4273Z\",fill:\"#161614\"}));};var GithubIcon=CreateIcon(GithubIconSvg);var FacebookIconSVG=function FacebookIconSVG(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M22 12C22 6.47715 17.5229 2 12 2C6.47715 2 2 6.47715 2 12C2 16.9913 5.65685 21.1283 10.4375 21.8785V14.8906H7.89844V12H10.4375V9.79688C10.4375 7.29062 11.9304 5.90626 14.2146 5.90626C15.3087 5.90626 16.4531 6.10156 16.4531 6.10156V8.5625H15.1922C13.9499 8.5625 13.5625 9.33335 13.5625 10.1242V12H16.3359L15.8926 14.8906H13.5625V21.8785C18.3431 21.1283 22 16.9913 22 12Z\",fill:\"#1877F2\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M15.8926 14.8906L16.3359 12H13.5625V10.1242C13.5625 9.33334 13.9499 8.5625 15.1921 8.5625H16.4531V6.10156C16.4531 6.10156 15.3087 5.90625 14.2146 5.90625C11.9304 5.90625 10.4375 7.29062 10.4375 9.79688V12H7.89844V14.8906H10.4375V21.8785C10.9544 21.9595 11.4768 22.0001 12 22C12.5316 22 13.0534 21.9584 13.5625 21.8785V14.8906H15.8926Z\",fill:\"white\"}));};var FacebookIcon=CreateIcon(FacebookIconSVG);var MicrosoftIconSvg=function MicrosoftIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M9.52382 0.952381H0.952393V9.52381H9.52382V0.952381Z\",fill:\"#F25022\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M9.52382 10.4762H0.952393V19.0476H9.52382V10.4762Z\",fill:\"#00A4EF\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M19.0475 0.952381H10.4761V9.52381H19.0475V0.952381Z\",fill:\"#7FBA00\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M19.0475 10.4762H10.4761V19.0476H19.0475V10.4762Z\",fill:\"#FFB900\"}));};var MicrosoftIcon=CreateIcon(MicrosoftIconSvg);var GitLabIconSvg=function GitLabIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"-.1 .5 960.2 923.9\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"m958.9 442.4c1.1 26.1-2 52.1-9.2 77.2-7.1 25.1-18.3 48.8-33.1 70.3a240.43 240.43 0 0 1 -53.6 56.2l-.5.4-199.9 149.8-98.3 74.5-59.9 45.2c-3.5 2.7-7.4 4.7-11.5 6.1s-8.5 2.1-12.9 2.1c-4.3 0-8.7-.7-12.8-2.1s-8-3.4-11.5-6.1l-59.9-45.2-98.3-74.5-198.7-148.9-1.2-.8-.4-.4c-20.9-15.7-39-34.7-53.8-56.2s-26-45.3-33.2-70.4c-7.2-25.1-10.3-51.2-9.2-77.3 1.2-26.1 6.5-51.8 15.8-76.2l1.3-3.5 130.7-340.5q1-2.5 2.4-4.8 1.3-2.3 3.1-4.3 1.7-2.1 3.7-3.9 2-1.7 4.2-3.2c3.1-1.9 6.3-3.3 9.8-4.1 3.4-.9 7-1.3 10.5-1.1 3.6.2 7.1.9 10.4 2.2 3.3 1.2 6.5 3 9.3 5.2q2 1.7 3.9 3.6 1.8 2 3.2 4.3 1.5 2.2 2.6 4.7 1.1 2.4 1.8 5l88.1 269.7h356.6l88.1-269.7q.7-2.6 1.9-5 1.1-2.4 2.6-4.7 1.4-2.2 3.2-4.2 1.8-2 3.9-3.7c2.8-2.2 5.9-3.9 9.2-5.2 3.4-1.2 6.9-1.9 10.4-2.1 3.6-.2 7.1.1 10.6 1 3.4.9 6.7 2.3 9.7 4.2q2.3 1.4 4.3 3.2 2 1.7 3.7 3.8 1.7 2.1 3.1 4.4 1.3 2.3 2.3 4.8l130.5 340.6 1.3 3.5c9.3 24.3 14.6 50 15.7 76.1z\",fill:\"#e24329\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"m959 442.5c1.1 26-2 52.1-9.2 77.2s-18.4 48.9-33.2 70.4-32.9 40.5-53.7 56.2l-.5.4-199.9 149.8s-84.9-64.1-182.5-138l286.5-216.8c12.9-9.7 26.4-18.6 40.3-26.8 13.9-8.3 28.3-15.7 43-22.3 14.8-6.6 29.9-12.5 45.2-17.4 15.4-5 31-9.1 46.9-12.4l1.3 3.5c9.3 24.4 14.6 50.1 15.8 76.2z\",fill:\"#fc6d26\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"m480 658.5c97.6 73.7 182.6 138 182.6 138l-98.3 74.5-59.9 45.2c-3.5 2.7-7.4 4.7-11.5 6.1s-8.5 2.1-12.9 2.1c-4.3 0-8.7-.7-12.8-2.1s-8-3.4-11.5-6.1l-59.9-45.2-98.3-74.5s84.9-64.3 182.5-138z\",fill:\"#fca326\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"m480 658.3c-97.7 73.9-182.5 138-182.5 138l-198.7-148.9-1.2-.8-.4-.4c-20.9-15.7-39-34.7-53.8-56.2s-26-45.3-33.2-70.4c-7.2-25.1-10.3-51.2-9.2-77.3 1.2-26.1 6.5-51.8 15.8-76.2l1.3-3.5c15.9 3.3 31.5 7.4 46.9 12.4 15.3 5 30.4 10.8 45.2 17.5 14.7 6.6 29.1 14.1 43 22.3s27.3 17.2 40.3 26.9z\",fill:\"#fc6d26\"}));};var GitLabIcon=CreateIcon(GitLabIconSvg);var DiscordIconSvg=function DiscordIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M18.5843 6.16943C17.3733 5.62815 16.0747 5.22936 14.7169 5.00096C14.6922 4.99655 14.6675 5.00757 14.6548 5.0296C14.4877 5.31896 14.3027 5.69645 14.1732 5.99316C12.7128 5.78018 11.2599 5.78018 9.8295 5.99316C9.69993 5.68986 9.50822 5.31896 9.34046 5.0296C9.32772 5.0083 9.30302 4.99729 9.27829 5.00096C7.92126 5.22863 6.62265 5.62742 5.41091 6.16943C5.40042 6.17384 5.39143 6.18119 5.38546 6.19073C2.92227 9.77548 2.2475 13.2721 2.57852 16.7254C2.58002 16.7423 2.58975 16.7584 2.60323 16.7687C4.22837 17.9313 5.8026 18.6371 7.3476 19.1049C7.37232 19.1123 7.39852 19.1035 7.41426 19.0836C7.77973 18.5975 8.10551 18.0848 8.38484 17.5457C8.40132 17.5142 8.38558 17.4767 8.35189 17.4642C7.83515 17.2733 7.3431 17.0405 6.86979 16.7761C6.83235 16.7548 6.82935 16.7026 6.86379 16.6776C6.96339 16.6049 7.06302 16.5293 7.15813 16.4529C7.17534 16.439 7.19932 16.436 7.21955 16.4448C10.329 17.8278 13.6954 17.8278 16.7682 16.4448C16.7884 16.4353 16.8124 16.4382 16.8303 16.4522C16.9255 16.5286 17.0251 16.6049 17.1254 16.6776C17.1599 16.7026 17.1576 16.7548 17.1202 16.7761C16.6469 17.0456 16.1548 17.2733 15.6373 17.4635C15.6036 17.476 15.5886 17.5142 15.6051 17.5457C15.8905 18.0841 16.2162 18.5967 16.575 19.0829C16.5899 19.1035 16.6169 19.1123 16.6416 19.1049C18.1941 18.6371 19.7683 17.9313 21.3935 16.7687C21.4077 16.7584 21.4167 16.743 21.4182 16.7261C21.8144 12.7338 20.7546 9.26579 18.609 6.19146C18.6038 6.18119 18.5948 6.17384 18.5843 6.16943ZM8.84918 14.6227C7.91302 14.6227 7.14165 13.7855 7.14165 12.7573C7.14165 11.7291 7.89806 10.8918 8.84918 10.8918C9.80777 10.8918 10.5717 11.7364 10.5567 12.7573C10.5567 13.7855 9.80028 14.6227 8.84918 14.6227ZM15.1625 14.6227C14.2264 14.6227 13.455 13.7855 13.455 12.7573C13.455 11.7291 14.2114 10.8918 15.1625 10.8918C16.1211 10.8918 16.885 11.7364 16.87 12.7573C16.87 13.7855 16.1211 14.6227 15.1625 14.6227Z\",fill:\"#5865F2\"}));};var DiscordIcon=CreateIcon(DiscordIconSvg);var SlackIconSvg=function SlackIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.78176 14.3746C6.78176 15.4153 5.9316 16.2655 4.89088 16.2655C3.85016 16.2655 3 15.4153 3 14.3746C3 13.3339 3.85016 12.4837 4.89088 12.4837H6.78176V14.3746Z\",fill:\"#E01E5A\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M7.73462 14.3746C7.73462 13.3339 8.58478 12.4837 9.6255 12.4837C10.6662 12.4837 11.5164 13.3339 11.5164 14.3746V19.1091C11.5164 20.1498 10.6662 21 9.6255 21C8.58478 21 7.73462 20.1498 7.73462 19.1091V14.3746Z\",fill:\"#E01E5A\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M9.6255 6.78176C8.58478 6.78176 7.73462 5.9316 7.73462 4.89088C7.73462 3.85016 8.58478 3 9.6255 3C10.6662 3 11.5164 3.85016 11.5164 4.89088V6.78176H9.6255Z\",fill:\"#36C5F0\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M9.62541 7.73453C10.6661 7.73453 11.5163 8.58469 11.5163 9.62541C11.5163 10.6661 10.6661 11.5163 9.62541 11.5163H4.89088C3.85016 11.5163 3 10.6661 3 9.62541C3 8.58469 3.85016 7.73453 4.89088 7.73453H9.62541Z\",fill:\"#36C5F0\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M17.2183 9.62541C17.2183 8.58469 18.0684 7.73453 19.1091 7.73453C20.1499 7.73453 21 8.58469 21 9.62541C21 10.6661 20.1499 11.5163 19.1091 11.5163H17.2183V9.62541Z\",fill:\"#2EB67D\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M16.2654 9.62541C16.2654 10.6661 15.4152 11.5163 14.3745 11.5163C13.3338 11.5163 12.4836 10.6661 12.4836 9.62541V4.89088C12.4836 3.85016 13.3338 3 14.3745 3C15.4152 3 16.2654 3.85016 16.2654 4.89088V9.62541Z\",fill:\"#2EB67D\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.3745 17.2182C15.4152 17.2182 16.2654 18.0684 16.2654 19.1091C16.2654 20.1498 15.4152 21 14.3745 21C13.3338 21 12.4836 20.1498 12.4836 19.1091V17.2182H14.3745Z\",fill:\"#ECB22E\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.3745 16.2655C13.3338 16.2655 12.4836 15.4153 12.4836 14.3746C12.4836 13.3339 13.3338 12.4837 14.3745 12.4837H19.109C20.1498 12.4837 20.9999 13.3339 20.9999 14.3746C20.9999 15.4153 20.1498 16.2655 19.109 16.2655H14.3745Z\",fill:\"#ECB22E\"}));};var SlackIcon=CreateIcon(SlackIconSvg);var AmazonIconSvg=function AmazonIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M7 11.9273C7 11.0909 7.20605 10.3758 7.61818 9.78182C8.03029 9.18787 8.59393 8.7394 9.30909 8.43636C9.96364 8.15758 10.7697 7.95758 11.7273 7.83636C12.0545 7.8 12.5879 7.75151 13.3273 7.69091V7.38182C13.3273 6.60605 13.2424 6.08485 13.0727 5.81818C12.8182 5.45455 12.4182 5.27273 11.8727 5.27273H11.7273C11.3273 5.30909 10.9818 5.43636 10.6909 5.65455C10.4 5.87273 10.2121 6.17576 10.1273 6.56364C10.0788 6.80605 9.95756 6.94545 9.76364 6.98182L7.67273 6.72727C7.46665 6.67878 7.36364 6.56969 7.36364 6.4C7.36364 6.36364 7.36969 6.32122 7.38182 6.27273C7.58787 5.19395 8.09393 4.39395 8.9 3.87273C9.70605 3.35151 10.6485 3.0606 11.7273 3H12.1818C13.5636 3 14.6424 3.35758 15.4182 4.07273C15.5399 4.19449 15.6523 4.32516 15.7545 4.46364C15.8576 4.60304 15.9394 4.72727 16 4.83636C16.0606 4.94545 16.1151 5.10304 16.1636 5.30909C16.2121 5.51515 16.2485 5.65758 16.2727 5.73636C16.297 5.81515 16.3151 5.98485 16.3273 6.24545C16.3394 6.50605 16.3455 6.6606 16.3455 6.70909V11.1091C16.3455 11.4242 16.3909 11.7121 16.4818 11.9727C16.5727 12.2333 16.6606 12.4212 16.7455 12.5364C16.8303 12.6515 16.9697 12.8364 17.1636 13.0909C17.2364 13.2 17.2727 13.297 17.2727 13.3818C17.2727 13.4788 17.2242 13.5636 17.1273 13.6364C16.1212 14.5091 15.5757 14.9818 15.4909 15.0545C15.3455 15.1636 15.1697 15.1758 14.9636 15.0909C14.7939 14.9455 14.6455 14.8061 14.5182 14.6727C14.3909 14.5394 14.3 14.4424 14.2455 14.3818C14.1909 14.3212 14.103 14.203 13.9818 14.0273C13.8606 13.8515 13.7757 13.7333 13.7273 13.6727C13.0485 14.4121 12.3818 14.8727 11.7273 15.0545C11.3151 15.1758 10.8061 15.2364 10.2 15.2364C9.26665 15.2364 8.5 14.9485 7.9 14.3727C7.3 13.797 7 12.9818 7 11.9273ZM10.1273 11.5636C10.1273 12.0364 10.2455 12.4151 10.4818 12.7C10.7182 12.9849 11.0364 13.1273 11.4364 13.1273C11.4727 13.1273 11.5242 13.1212 11.5909 13.1091C11.6576 13.097 11.703 13.0909 11.7273 13.0909C12.2364 12.9576 12.6303 12.6303 12.9091 12.1091C13.0424 11.8788 13.1424 11.6273 13.2091 11.3545C13.2757 11.0818 13.3121 10.8606 13.3182 10.6909C13.3242 10.5212 13.3273 10.2424 13.3273 9.85455V9.4C12.6242 9.4 12.0909 9.44849 11.7273 9.54545C10.6606 9.84849 10.1273 10.5212 10.1273 11.5636Z\",fill:\"black\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M2.32727 16.4424C2.19393 16.3576 2.09696 16.3636 2.03636 16.4606C2.01211 16.497 2 16.5333 2 16.5697C2 16.6303 2.03636 16.6909 2.10909 16.7515C3.44242 17.9515 4.95151 18.8818 6.63636 19.5424C8.3212 20.203 10.1091 20.5333 12 20.5333C13.2242 20.5333 14.4788 20.3636 15.7636 20.0242C17.0485 19.6848 18.2121 19.2061 19.2545 18.5879C19.5939 18.3818 19.8727 18.2 20.0909 18.0424C20.2606 17.9212 20.2939 17.7879 20.1909 17.6424C20.0879 17.497 19.9455 17.4606 19.7636 17.5333C19.7151 17.5576 19.6333 17.5939 19.5182 17.6424C19.403 17.6909 19.3151 17.7273 19.2545 17.7515C16.9394 18.6364 14.5939 19.0788 12.2182 19.0788C8.65455 19.0788 5.35756 18.2 2.32727 16.4424Z\",fill:\"#FF9900\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M18.3818 16.6242C18.3333 16.6727 18.297 16.7212 18.2727 16.7697C18.2606 16.7939 18.2545 16.8121 18.2545 16.8242C18.2424 16.8485 18.2485 16.8727 18.2727 16.897C18.297 16.9212 18.3455 16.9333 18.4182 16.9333C18.6727 16.897 18.9515 16.8606 19.2545 16.8242C19.5333 16.8 19.7757 16.7879 19.9818 16.7879C20.5394 16.7879 20.8788 16.8606 21 17.0061C21.0485 17.0667 21.0727 17.1636 21.0727 17.297C21.0727 17.7091 20.8485 18.4424 20.4 19.497C20.3636 19.5939 20.3818 19.6606 20.4545 19.697C20.4788 19.7091 20.503 19.7152 20.5273 19.7152C20.5757 19.7152 20.6303 19.6909 20.6909 19.6424C21.103 19.2909 21.4242 18.8273 21.6545 18.2515C21.8848 17.6758 22 17.1758 22 16.7515V16.6242C22 16.4788 21.9757 16.3697 21.9273 16.297C21.8182 16.1636 21.4909 16.0727 20.9455 16.0242C20.8364 16 20.7212 15.9939 20.6 16.0061C20.1636 16.0182 19.7151 16.0848 19.2545 16.2061C18.9757 16.2788 18.6848 16.4182 18.3818 16.6242Z\",fill:\"#FF9900\"}));};var AmazonIcon=CreateIcon(AmazonIconSvg);var BitbucketIconSvg=function BitbucketIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 28 28\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.98153 7.125C6.68181 7.125 6.45702 7.39974 6.50697 7.67449L8.53009 20.0629C8.58004 20.3877 8.85479 20.6124 9.17948 20.6124H18.9704C19.1952 20.6124 19.395 20.4376 19.4449 20.2128L21.493 7.69947C21.543 7.39974 21.3182 7.14998 21.0185 7.14998L6.98153 7.125ZM15.5736 16.0667H12.4514L11.6272 11.6458H16.3478L15.5736 16.0667Z\",fill:\"#2684FF\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M20.8186 11.6458H16.3228L15.5735 16.0667H12.4513L8.77979 20.4376C8.77979 20.4376 8.95462 20.5875 9.20439 20.5875H18.9953C19.2201 20.5875 19.4199 20.4126 19.4698 20.1878L20.8186 11.6458Z\",fill:\"url(#paint0_linear_414_2186)\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M2 2V0.875H0.875V2H2ZM26 2H27.125V0.875H26V2ZM26 26V27.125H27.125V26H26ZM2 26H0.875V27.125H2V26ZM2 3.125H26V0.875H2V3.125ZM24.875 2V26H27.125V2H24.875ZM26 24.875H2V27.125H26V24.875ZM3.125 26V2H0.875V26H3.125Z\",fill:\"#E5E8EB\"}),/*#__PURE__*/wn.createElement(\"defs\",null,/*#__PURE__*/wn.createElement(\"linearGradient\",{id:\"paint0_linear_414_2186\",x1:\"21.8703\",y1:\"12.8916\",x2:\"14.42\",y2:\"18.7072\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/wn.createElement(\"stop\",{offset:\"0.176\",stopColor:\"#0052CC\"}),/*#__PURE__*/wn.createElement(\"stop\",{offset:\"1\",stopColor:\"#2684FF\"}))));};var BitbucketIcon=CreateIcon(BitbucketIconSvg);var LinkedInIconSvg=function LinkedInIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21Z\",fill:\"#0A66C2\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M18.5 18.5H15.8289V13.9505C15.8289 12.7032 15.3549 12.0061 14.3677 12.0061C13.2937 12.0061 12.7325 12.7315 12.7325 13.9505V18.5H10.1583V9.83333H12.7325V11.0007C12.7325 11.0007 13.5065 9.56855 15.3456 9.56855C17.1839 9.56855 18.5 10.6911 18.5 13.0128V18.5ZM7.08734 8.6985C6.21051 8.6985 5.5 7.98241 5.5 7.09925C5.5 6.21609 6.21051 5.5 7.08734 5.5C7.96416 5.5 8.67425 6.21609 8.67425 7.09925C8.67425 7.98241 7.96416 8.6985 7.08734 8.6985ZM5.75814 18.5H8.44235V9.83333H5.75814V18.5Z\",fill:\"white\"}));};var LinkedInIcon=CreateIcon(LinkedInIconSvg);var CoinbaseIconSvg=function CoinbaseIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\",version:\"1.2\",baseProfile:\"tiny\",x:\"0px\",y:\"0px\",viewBox:\"0 0 1024 1024\",overflow:\"visible\",xmlSpace:\"preserve\"},/*#__PURE__*/wn.createElement(\"path\",{fill:\"#0052FF\",d:\"M512,0L512,0c282.8,0,512,229.2,512,512l0,0c0,282.8-229.2,512-512,512l0,0C229.2,1024,0,794.8,0,512l0,0  C0,229.2,229.2,0,512,0z\"}),/*#__PURE__*/wn.createElement(\"path\",{fill:\"#FFFFFF\",d:\"M512.1,692c-99.4,0-180-80.5-180-180s80.6-180,180-180c89.1,0,163.1,65,177.3,150h181.3  c-15.3-184.8-170-330-358.7-330c-198.8,0-360,161.2-360,360s161.2,360,360,360c188.7,0,343.4-145.2,358.7-330H689.3  C675,627,601.2,692,512.1,692z\"}));};var CoinbaseIcon=CreateIcon(CoinbaseIconSvg);var TwitchIconSvg=function TwitchIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 18 21\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M16.1141 9.78571L13.257 12.6429H10.3998L7.89983 15.1429V12.6429H4.68555V1.92857H16.1141V9.78571Z\",fill:\"white\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M3.97133 0.5L0.399902 4.07143V16.9286H4.68562V20.5L8.25704 16.9286H11.1142L17.5428 10.5V0.5H3.97133ZM16.1142 9.78571L13.257 12.6429H10.3999L7.8999 15.1429V12.6429H4.68562V1.92857H16.1142V9.78571Z\",fill:\"#9146FF\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M13.9713 4.42857H12.5427V8.71428H13.9713V4.42857Z\",fill:\"#9146FF\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M10.0428 4.42857H8.61426V8.71428H10.0428V4.42857Z\",fill:\"#9146FF\"}));};var TwitchIcon=CreateIcon(TwitchIconSvg);var TwitterIconSvg=function TwitterIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M19.8991 8.13629C19.9112 8.31129 19.9112 8.48629 19.9112 8.66291C19.9112 14.0444 15.8144 20.2508 8.32331 20.2508V20.2476C6.1104 20.2508 3.94347 19.6169 2.08057 18.4218C2.40234 18.4605 2.72573 18.4798 3.04992 18.4806C4.88379 18.4823 6.66524 17.8669 8.10799 16.7339C6.36524 16.7008 4.83702 15.5645 4.30315 13.9056C4.91363 14.0234 5.54266 13.9992 6.14186 13.8355C4.24186 13.4516 2.87492 11.7823 2.87492 9.84355C2.87492 9.82581 2.87492 9.80887 2.87492 9.79194C3.44105 10.1073 4.07492 10.2823 4.72331 10.3016C2.93379 9.10565 2.38218 6.725 3.46282 4.86371C5.53057 7.40807 8.58137 8.95484 11.8564 9.11855C11.5281 7.70403 11.9765 6.22178 13.0346 5.22742C14.6749 3.68549 17.2548 3.76452 18.7967 5.40403C19.7088 5.2242 20.583 4.88952 21.383 4.41532C21.079 5.35807 20.4427 6.15887 19.5927 6.66774C20.3999 6.57258 21.1886 6.35645 21.9314 6.02661C21.3846 6.84597 20.6959 7.55968 19.8991 8.13629Z\",fill:\"#1D9BF0\"}));};var TwitterIcon=CreateIcon(TwitterIconSvg);var TikTokIconSvg=function TikTokIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",fill:\"black\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.9767 10.0746C15.8641 10.7087 16.9513 11.0817 18.1255 11.0817V8.8234C17.9033 8.82344 17.6816 8.80028 17.4642 8.75425V10.5319C16.2901 10.5319 15.2031 10.1588 14.3154 9.52481V14.1334C14.3154 16.4389 12.4455 18.3077 10.139 18.3077C9.27835 18.3077 8.47845 18.0477 7.81396 17.6017C8.57236 18.3767 9.63 18.8575 10.8001 18.8575C13.1067 18.8575 14.9767 16.9887 14.9767 14.6832V10.0746H14.9767ZM15.7924 7.79623C15.3389 7.30099 15.0411 6.66099 14.9767 5.95344V5.66297H14.35C14.5077 6.56226 15.0458 7.33057 15.7924 7.79623ZM9.27283 15.8325C9.01944 15.5005 8.8825 15.0942 8.88312 14.6766C8.88312 13.6221 9.7384 12.7672 10.7936 12.7672C10.9902 12.7671 11.1857 12.7972 11.3731 12.8567V10.5478C11.1541 10.5178 10.9331 10.5051 10.7121 10.5098V12.3068C10.5246 12.2474 10.329 12.2172 10.1323 12.2174C9.07713 12.2174 8.22189 13.0723 8.22189 14.1268C8.22189 14.8725 8.64939 15.5181 9.27283 15.8325Z\",fill:\"#FF004F\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.3153 9.52476C15.203 10.1588 16.29 10.5318 17.4641 10.5318V8.7542C16.8087 8.61467 16.2285 8.27236 15.7923 7.79623C15.0456 7.33052 14.5076 6.56222 14.3499 5.66297H12.7039V14.6831C12.7001 15.7346 11.8463 16.5861 10.7934 16.5861C10.1729 16.5861 9.6217 16.2905 9.27259 15.8325C8.6492 15.5181 8.2217 14.8725 8.2217 14.1269C8.2217 13.0724 9.07693 12.2175 10.1321 12.2175C10.3343 12.2175 10.5291 12.2489 10.7119 12.3069V10.5098C8.44594 10.5566 6.62354 12.4072 6.62354 14.6831C6.62354 15.8192 7.07736 16.8492 7.81391 17.6017C8.47839 18.0477 9.2783 18.3078 10.1389 18.3078C12.4455 18.3078 14.3153 16.4389 14.3153 14.1334V9.52476H14.3153Z\",fill:\"white\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M17.464 8.7542V8.27354C16.873 8.27443 16.2936 8.10901 15.7922 7.79618C16.236 8.28188 16.8205 8.61679 17.464 8.7542ZM14.3498 5.66297C14.3347 5.57703 14.3231 5.49052 14.3151 5.40368V5.1132H12.0424V14.1334C12.0388 15.1848 11.185 16.0363 10.132 16.0363C9.82282 16.0363 9.53093 15.9629 9.27244 15.8326C9.62154 16.2905 10.1728 16.586 10.7932 16.586C11.8461 16.586 12.7 15.7347 12.7037 14.6831V5.66297H14.3498ZM10.7119 10.5098V9.99811C10.522 9.97217 10.3305 9.95915 10.1388 9.95924C7.83206 9.9592 5.96216 11.8281 5.96216 14.1334C5.96216 15.5787 6.69706 16.8524 7.81381 17.6016C7.07725 16.8491 6.62343 15.8191 6.62343 14.6831C6.62343 12.4072 8.44579 10.5566 10.7119 10.5098Z\",fill:\"#00F2EA\"}));};var TikTokIcon=CreateIcon(TikTokIconSvg);var SnapchatIconSvg=function SnapchatIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M18.549 15.4187C16.124 14.2448 15.7375 12.4323 15.7203 12.2978C15.6995 12.135 15.6759 12.007 15.8555 11.8413C16.0288 11.6813 16.7974 11.2055 17.0106 11.0567C17.3631 10.8102 17.5184 10.5642 17.4039 10.2617C17.3239 10.0524 17.1291 9.9736 16.9238 9.9736C16.8591 9.9738 16.7945 9.98105 16.7313 9.99521C16.344 10.0792 15.9679 10.2733 15.7503 10.3257C15.7241 10.3324 15.6973 10.3361 15.6703 10.3365C15.5542 10.3365 15.5102 10.2849 15.5214 10.1453C15.5486 9.72194 15.6062 8.89571 15.5394 8.12391C15.4478 7.06202 15.1053 6.53588 14.6992 6.07055C14.5027 5.84489 13.5905 4.87543 11.83 4.87543C10.0696 4.87543 9.15851 5.84489 8.96326 6.06775C8.55595 6.53308 8.21385 7.05922 8.12303 8.12111C8.05621 8.89291 8.11623 9.71874 8.14104 10.1425C8.14904 10.2753 8.10823 10.3337 7.9922 10.3337C7.96519 10.3332 7.93833 10.3296 7.91217 10.3229C7.69492 10.2705 7.31881 10.0764 6.93151 9.99241C6.86833 9.97825 6.8038 9.971 6.73906 9.9708C6.533 9.9708 6.33895 10.0508 6.25893 10.2589C6.1445 10.5614 6.29894 10.8074 6.65263 11.0539C6.86589 11.2027 7.6345 11.6781 7.80775 11.8385C7.98699 12.0042 7.96379 12.1322 7.94298 12.295C7.92578 12.4315 7.53887 14.244 5.11422 15.4159C4.97218 15.4847 4.73052 15.6303 5.15663 15.8656C5.82561 16.2353 6.27093 16.1957 6.61702 16.4185C6.9107 16.6078 6.73706 17.0159 6.95071 17.1631C7.21319 17.3444 7.98899 17.1503 8.99126 17.4812C9.83149 17.7581 10.342 18.5403 11.832 18.5403C13.322 18.5403 13.8474 17.7545 14.6728 17.4812C15.6731 17.1503 16.4505 17.3444 16.7133 17.1631C16.9266 17.0159 16.7534 16.6078 17.047 16.4185C17.3931 16.1957 17.838 16.2353 18.5074 15.8656C18.9327 15.6331 18.6911 15.4875 18.549 15.4187Z\",fill:\"white\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M19.604 15.2806C19.4952 14.9846 19.2879 14.8261 19.0519 14.6949C19.0075 14.6689 18.9666 14.6481 18.9318 14.6321C18.8614 14.5957 18.7894 14.5604 18.7178 14.5232C17.982 14.1331 17.4074 13.641 17.0089 13.0576C16.8957 12.8934 16.7976 12.7193 16.7156 12.5375C16.6816 12.4403 16.6832 12.3851 16.7076 12.3346C16.7318 12.2958 16.7639 12.2624 16.8017 12.2366C16.9281 12.153 17.0585 12.0682 17.147 12.011C17.3046 11.9089 17.4294 11.8281 17.5099 11.7709C17.8119 11.5596 18.0232 11.3352 18.1552 11.0843C18.2473 10.911 18.3011 10.7199 18.3127 10.5239C18.3244 10.328 18.2937 10.1318 18.2228 9.9488C18.0228 9.42226 17.5255 9.09537 16.9229 9.09537C16.7958 9.09525 16.669 9.10866 16.5448 9.13538C16.5116 9.14258 16.4784 9.15019 16.446 9.15859C16.4516 8.79849 16.4436 8.41839 16.4116 8.04429C16.2979 6.72913 15.8374 6.03975 15.3573 5.49C15.0498 5.14551 14.6877 4.85405 14.2854 4.62737C13.5568 4.21126 12.7306 4 11.8299 4C10.9293 4 10.1071 4.21126 9.37766 4.62737C8.9744 4.85412 8.61152 5.14616 8.30377 5.4916C7.82364 6.04135 7.36312 6.73194 7.24949 8.04589C7.21748 8.41999 7.20948 8.80209 7.21468 9.16019C7.18227 9.15179 7.14946 9.14419 7.11625 9.13698C6.992 9.11026 6.86525 9.09685 6.73815 9.09697C6.13519 9.09697 5.63705 9.42386 5.4378 9.9504C5.36658 10.1335 5.33561 10.3298 5.347 10.5259C5.35839 10.7221 5.41188 10.9135 5.50382 11.0871C5.63625 11.338 5.84751 11.5624 6.14959 11.7737C6.22961 11.8297 6.35485 11.9105 6.51249 12.0138C6.59771 12.069 6.72215 12.1498 6.84418 12.2306C6.88687 12.2582 6.92316 12.2946 6.95061 12.3374C6.97621 12.3899 6.97702 12.4463 6.939 12.5503C6.85816 12.7283 6.76162 12.8988 6.65053 13.0596C6.26082 13.6298 5.70307 14.1131 4.99088 14.5C4.61358 14.7001 4.22147 14.8337 4.05583 15.2838C3.93099 15.6235 4.01262 16.01 4.3299 16.3357C4.44635 16.4573 4.58141 16.5595 4.73001 16.6386C5.03921 16.8085 5.368 16.9401 5.70907 17.0303C5.77946 17.0485 5.84628 17.0784 5.90673 17.1187C6.02236 17.22 6.00595 17.3724 6.15999 17.5957C6.23732 17.711 6.33557 17.8109 6.44967 17.8901C6.77296 18.1134 7.13626 18.1274 7.52116 18.1422C7.86885 18.1554 8.26296 18.1706 8.71308 18.3191C8.89953 18.3807 9.09318 18.4999 9.31765 18.6391C9.85659 18.9704 10.5944 19.4238 11.8291 19.4238C13.0639 19.4238 13.8069 18.968 14.3498 18.6355C14.5727 18.4987 14.7651 18.3807 14.9464 18.3207C15.3965 18.1718 15.7906 18.157 16.1383 18.1438C16.5232 18.129 16.8865 18.115 17.2098 17.8917C17.3449 17.7975 17.4575 17.6745 17.5395 17.5316C17.6503 17.3432 17.6475 17.2116 17.7515 17.1195C17.8082 17.0811 17.871 17.0524 17.9372 17.0347C18.2829 16.9442 18.6162 16.8114 18.9294 16.6394C19.0873 16.5547 19.2294 16.4434 19.3495 16.3105L19.3535 16.3057C19.6512 15.9872 19.726 15.6119 19.604 15.2806ZM18.5065 15.8704C17.8371 16.2401 17.3922 16.2005 17.0461 16.4233C16.752 16.6126 16.9261 17.0207 16.7124 17.1679C16.45 17.3492 15.6742 17.1551 14.6719 17.486C13.8453 17.7593 13.3179 18.5451 11.8311 18.5451C10.3443 18.5451 9.82938 17.7609 8.98916 17.484C7.98889 17.1531 7.21148 17.3472 6.94861 17.1659C6.73535 17.0187 6.9086 16.6106 6.61492 16.4213C6.26842 16.1985 5.8235 16.2381 5.15452 15.8704C4.72841 15.6351 4.97007 15.4895 5.11211 15.4207C7.53677 14.2468 7.92367 12.4343 7.94087 12.2998C7.96168 12.137 7.98489 12.009 7.80564 11.8433C7.63239 11.6833 6.86378 11.2075 6.65053 11.0587C6.29763 10.8122 6.14239 10.5662 6.25682 10.2637C6.33684 10.0544 6.5321 9.97561 6.73695 9.97561C6.80169 9.97581 6.86623 9.98305 6.9294 9.99722C7.31671 10.0812 7.69281 10.2753 7.91007 10.3277C7.93623 10.3344 7.96308 10.338 7.99009 10.3385C8.10612 10.3385 8.14693 10.2801 8.13893 10.1473C8.11412 9.72354 8.05411 8.89772 8.12092 8.12591C8.21255 7.06402 8.55464 6.53788 8.96115 6.07256C9.1564 5.8489 10.0738 4.87944 11.8283 4.87944C13.5828 4.87944 14.5026 5.8449 14.6979 6.06776C15.1048 6.53308 15.4473 7.05922 15.5381 8.12111C15.6049 8.89292 15.5473 9.71914 15.5201 10.1425C15.5109 10.2821 15.5529 10.3337 15.669 10.3337C15.696 10.3333 15.7228 10.3296 15.749 10.3229C15.9666 10.2705 16.3427 10.0764 16.73 9.99241C16.7932 9.97825 16.8577 9.97101 16.9225 9.97081C17.1285 9.97081 17.3226 10.0508 17.4026 10.2589C17.5171 10.5614 17.3626 10.8074 17.0093 11.0539C16.7961 11.2027 16.0275 11.6781 15.8542 11.8385C15.6746 12.0042 15.6982 12.1322 15.719 12.295C15.7362 12.4315 16.1227 14.244 18.5477 15.4159C18.691 15.4875 18.9326 15.6331 18.5065 15.8704Z\",fill:\"black\"}));};var SnapchatIcon=CreateIcon(SnapchatIconSvg);var FigmaIconSvg=function FigmaIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.3157 12C12.3157 10.1591 13.7295 8.66665 15.4736 8.66665C17.2176 8.66665 18.6315 10.1591 18.6315 12C18.6315 13.8409 17.2176 15.3333 15.4736 15.3333C13.7295 15.3333 12.3157 13.8409 12.3157 12Z\",fill:\"#1ABCFE\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6 18.6666C6 16.8257 7.41384 15.3333 9.15789 15.3333H12.3158V18.6666C12.3158 20.5076 10.902 22 9.15789 22C7.41384 22 6 20.5076 6 18.6666Z\",fill:\"#0ACF83\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.3157 2V8.66665H15.4736C17.2176 8.66665 18.6315 7.17428 18.6315 5.33333C18.6315 3.49238 17.2176 2 15.4736 2H12.3157Z\",fill:\"#FF7262\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6 5.33333C6 7.17428 7.41384 8.66665 9.15789 8.66665H12.3158V2H9.15789C7.41384 2 6 3.49238 6 5.33333Z\",fill:\"#F24E1E\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6 12C6 13.8409 7.41384 15.3333 9.15789 15.3333H12.3158V8.66665H9.15789C7.41384 8.66665 6 10.1591 6 12Z\",fill:\"#A259FF\"}));};var FigmaIcon=CreateIcon(FigmaIconSvg);var SalesforceIconSvg=function SalesforceIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 20 14\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"g\",{clipPath:\"url(#clip0_1550_2151)\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M8.3228 1.52737C8.96783 0.855295 9.86583 0.438458 10.859 0.438458C12.1792 0.438458 13.3311 1.17463 13.9445 2.26751C14.4775 2.02935 15.0675 1.89686 15.6883 1.89686C18.0695 1.89686 20 3.84416 20 6.24615C20 8.64841 18.0695 10.5957 15.6883 10.5957C15.4031 10.5959 15.1186 10.5675 14.839 10.5111C14.2989 11.4746 13.2695 12.1256 12.088 12.1256C11.5935 12.1256 11.1256 12.0114 10.7091 11.8082C10.1615 13.0963 8.88577 13.9994 7.39886 13.9994C5.85043 13.9994 4.53077 13.0196 4.02422 11.6456C3.80286 11.6926 3.57351 11.7171 3.33818 11.7171C1.49459 11.7171 0 10.2071 0 8.34416C0 7.09573 0.671511 6.00568 1.66923 5.4225C1.46382 4.94987 1.34957 4.42821 1.34957 3.87976C1.34957 1.73732 3.08889 0.000579834 5.23419 0.000579834C6.49373 0.000579834 7.61311 0.599439 8.3228 1.52737Z\",fill:\"#00A1E0\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M2.89685 7.26004C2.88432 7.29281 2.90142 7.29966 2.9054 7.30535C2.943 7.33269 2.9812 7.35237 3.01965 7.37429C3.22364 7.48254 3.41625 7.51416 3.61767 7.51416C4.02792 7.51416 4.28262 7.29594 4.28262 6.94465V6.93782C4.28262 6.61301 3.99517 6.49508 3.72536 6.40989L3.69033 6.3985C3.4869 6.33239 3.31141 6.27544 3.31141 6.14152V6.13442C3.31141 6.01988 3.41397 5.93554 3.57295 5.93554C3.74958 5.93554 3.95927 5.99424 4.09431 6.06887C4.09431 6.06887 4.13391 6.09452 4.14844 6.05606C4.15641 6.03554 4.2248 5.85149 4.23193 5.83155C4.23961 5.80989 4.22594 5.79393 4.21199 5.78539C4.05785 5.69165 3.84474 5.62755 3.62424 5.62755L3.58322 5.62783C3.20772 5.62783 2.94562 5.85462 2.94562 6.17968V6.18653C2.94562 6.52925 3.23479 6.64036 3.50574 6.71786L3.54932 6.73125C3.74676 6.79193 3.91685 6.84407 3.91685 6.9831V6.98995C3.91685 7.11702 3.80632 7.21159 3.62796 7.21159C3.55873 7.21159 3.33793 7.21017 3.09947 7.05944C3.07069 7.04262 3.05389 7.03039 3.03167 7.017C3.01999 7.00959 2.99065 6.99676 2.97783 7.03552L2.89685 7.26004ZM8.90282 7.26004C8.89029 7.29281 8.90738 7.29966 8.91137 7.30535C8.94896 7.33269 8.98716 7.35237 9.0256 7.37429C9.22958 7.48254 9.42222 7.51416 9.62362 7.51416C10.0339 7.51416 10.2886 7.29594 10.2886 6.94465V6.93782C10.2886 6.61301 10.0011 6.49508 9.73131 6.40989L9.69627 6.3985C9.49285 6.33239 9.31733 6.27544 9.31733 6.14152V6.13442C9.31733 6.01988 9.41989 5.93554 9.57887 5.93554C9.75551 5.93554 9.9652 5.99424 10.1003 6.06887C10.1003 6.06887 10.1399 6.09452 10.1544 6.05606C10.1623 6.03554 10.2307 5.85149 10.2379 5.83155C10.2456 5.80989 10.2319 5.79393 10.2179 5.78539C10.0638 5.69165 9.85067 5.62755 9.63016 5.62755L9.58912 5.62783C9.21363 5.62783 8.95153 5.85462 8.95153 6.17968V6.18653C8.95153 6.52925 9.2407 6.64036 9.51165 6.71786L9.55523 6.73125C9.75267 6.79193 9.92306 6.84407 9.92306 6.9831V6.98995C9.92306 7.11702 9.81223 7.21159 9.63387 7.21159C9.56466 7.21159 9.34386 7.21017 9.1054 7.05944C9.07661 7.04262 9.05953 7.03095 9.03789 7.017C9.03047 7.01215 8.99571 6.99876 8.98374 7.03552L8.90282 7.26004ZM13.0029 6.57195C13.0029 6.77053 12.9659 6.92693 12.893 7.03748C12.8209 7.14689 12.7118 7.20016 12.5597 7.20016C12.4072 7.20016 12.2987 7.14717 12.2277 7.03748C12.1559 6.92723 12.1195 6.77053 12.1195 6.57195C12.1195 6.37367 12.1559 6.21754 12.2277 6.10813C12.2987 5.99988 12.4072 5.94717 12.5597 5.94717C12.7118 5.94717 12.8209 5.99988 12.8933 6.10813C12.9659 6.21752 13.0029 6.37365 13.0029 6.57195ZM13.3454 6.20386C13.3118 6.09017 13.2594 5.98989 13.1896 5.90643C13.1198 5.82266 13.0314 5.75544 12.9266 5.70643C12.822 5.65772 12.6984 5.63293 12.5597 5.63293C12.4206 5.63293 12.297 5.65772 12.1924 5.70643C12.0876 5.75544 11.9993 5.82268 11.9292 5.90643C11.8597 5.99019 11.8072 6.09047 11.7733 6.20386C11.74 6.31696 11.7232 6.4406 11.7232 6.57195C11.7232 6.7033 11.74 6.82723 11.7733 6.94004C11.8072 7.05343 11.8594 7.15373 11.9295 7.23748C11.9993 7.32124 12.0879 7.38819 12.1924 7.43576C12.2973 7.48334 12.4206 7.50755 12.5597 7.50755C12.6984 7.50755 12.8218 7.48334 12.9266 7.43576C13.0312 7.38819 13.1198 7.32122 13.1896 7.23748C13.2594 7.15399 13.3118 7.05371 13.3454 6.94004C13.3791 6.82695 13.3959 6.703 13.3959 6.57195C13.3959 6.4409 13.379 6.31696 13.3454 6.20386ZM16.1576 7.14713C16.1462 7.11379 16.114 7.12633 16.114 7.12633C16.0641 7.14543 16.0111 7.16308 15.9547 7.17191C15.8974 7.18072 15.8345 7.18531 15.7669 7.18531C15.6012 7.18531 15.4695 7.13602 15.3752 7.03858C15.2806 6.94114 15.2276 6.7836 15.2282 6.57049C15.2288 6.37648 15.2755 6.23059 15.3596 6.1195C15.443 6.00897 15.5701 5.95225 15.7396 5.95225C15.8809 5.95225 15.9886 5.96849 16.1014 6.00411C16.1014 6.00411 16.1285 6.01578 16.1413 5.98046C16.1712 5.89726 16.1934 5.83772 16.2253 5.74627C16.2345 5.72034 16.2122 5.70923 16.2043 5.70609C16.1598 5.68871 16.055 5.66052 15.9758 5.64855C15.9017 5.63716 15.8151 5.63117 15.7188 5.63117C15.5749 5.63117 15.4467 5.65568 15.337 5.70469C15.2276 5.75339 15.1347 5.82062 15.0613 5.90441C14.9877 5.98817 14.9319 6.08843 14.8946 6.20182C14.8576 6.31492 14.8388 6.43914 14.8388 6.57049C14.8388 6.85454 14.9154 7.08415 15.0667 7.25225C15.2182 7.42092 15.4459 7.50667 15.7428 7.50667C15.9183 7.50667 16.0983 7.47107 16.2277 7.42006C16.2277 7.42006 16.2524 7.40809 16.2416 7.37934L16.1576 7.14713ZM16.7567 6.38172C16.773 6.27147 16.8035 6.17972 16.8505 6.10823C16.9214 5.99968 17.0297 5.94014 17.1818 5.94014C17.334 5.94014 17.4345 5.99996 17.5066 6.10823C17.5545 6.17972 17.5753 6.27548 17.5835 6.38172H16.7567ZM17.9097 6.13926C17.8807 6.02957 17.8086 5.91874 17.7613 5.86803C17.6866 5.78769 17.6137 5.73157 17.5414 5.70022C17.4468 5.65976 17.3334 5.63299 17.2092 5.63299C17.0644 5.63299 16.9331 5.65722 16.8265 5.70735C16.7197 5.7575 16.63 5.82589 16.5596 5.91107C16.4892 5.99596 16.4362 6.0971 16.4026 6.21191C16.3687 6.32617 16.3516 6.45067 16.3516 6.58198C16.3516 6.71562 16.3693 6.84012 16.4043 6.95207C16.4397 7.06491 16.496 7.16433 16.5724 7.24665C16.6485 7.32957 16.7465 7.39454 16.8639 7.4398C16.9804 7.48483 17.122 7.50819 17.2847 7.50789C17.6194 7.50675 17.7958 7.43211 17.8684 7.39193C17.8813 7.38483 17.8935 7.37229 17.8781 7.3364L17.8023 7.12413C17.7909 7.09251 17.7587 7.10419 17.7587 7.10419C17.6758 7.13496 17.5579 7.19023 17.2829 7.18967C17.1032 7.18939 16.9698 7.1364 16.8863 7.05347C16.8006 6.96859 16.7587 6.84378 16.7513 6.66773L17.9106 6.66887C17.9106 6.66887 17.941 6.66831 17.9442 6.63866C17.9453 6.62617 17.9841 6.40052 17.9097 6.13926ZM7.47275 6.38172C7.48926 6.27147 7.51947 6.17972 7.56648 6.10823C7.63741 5.99968 7.74568 5.94014 7.89781 5.94014C8.04994 5.94014 8.15053 5.99996 8.22288 6.10823C8.27044 6.17972 8.29125 6.27548 8.29951 6.38172H7.47275ZM8.62544 6.13926C8.59639 6.02957 8.5246 5.91874 8.47731 5.86803C8.40266 5.78769 8.32972 5.73157 8.25737 5.70022C8.16278 5.65976 8.0494 5.63299 7.92518 5.63299C7.78074 5.63299 7.6491 5.65722 7.54256 5.70735C7.43573 5.7575 7.34598 5.82589 7.27561 5.91107C7.20524 5.99596 7.15225 6.0971 7.11863 6.21191C7.08502 6.32617 7.06764 6.45067 7.06764 6.58198C7.06764 6.71562 7.0853 6.84012 7.12036 6.95207C7.15569 7.06491 7.21211 7.16433 7.28844 7.24665C7.36452 7.32957 7.46252 7.39454 7.5799 7.4398C7.69643 7.48483 7.83801 7.50819 8.0007 7.50789C8.33545 7.50675 8.51181 7.43211 8.58446 7.39193C8.59729 7.38483 8.60952 7.37229 8.59415 7.3364L8.51865 7.12413C8.50696 7.09251 8.47479 7.10419 8.47479 7.10419C8.39189 7.13496 8.27421 7.19023 7.99871 7.18967C7.81923 7.18939 7.6859 7.1364 7.60242 7.05347C7.51665 6.96859 7.47479 6.84378 7.46736 6.66773L8.62662 6.66887C8.62662 6.66887 8.65709 6.66831 8.66023 6.63866C8.66134 6.62617 8.70007 6.40052 8.62544 6.13926ZM4.96702 7.14078C4.92172 7.10459 4.91545 7.09548 4.90007 7.07211C4.87727 7.0365 4.8656 6.98579 4.8656 6.9214C4.8656 6.8194 4.89921 6.74619 4.96902 6.6969C4.96818 6.6972 5.06874 6.61001 5.3052 6.61313C5.47129 6.61542 5.61971 6.63992 5.61971 6.63992V7.16699H5.62C5.62 7.16699 5.47271 7.1986 5.3069 7.20857C5.07101 7.22282 4.96616 7.1405 4.96702 7.14078ZM5.42826 6.32625C5.38126 6.32282 5.32028 6.32082 5.24734 6.32082C5.14792 6.32082 5.05191 6.33335 4.96188 6.35758C4.87129 6.38178 4.7898 6.4197 4.71971 6.46981C4.64973 6.51976 4.59221 6.58518 4.55163 6.66098C4.51061 6.73734 4.4898 6.82737 4.4898 6.92823C4.4898 7.03079 4.50746 7.11996 4.5428 7.19291C4.57813 7.26613 4.62912 7.32709 4.69407 7.37412C4.75845 7.42112 4.83795 7.45558 4.93025 7.47638C5.02114 7.49718 5.12426 7.50771 5.23709 7.50771C5.35589 7.50771 5.47441 7.49804 5.58922 7.47836C5.7029 7.45898 5.8425 7.43077 5.88124 7.42196C5.9084 7.41542 5.93547 7.40848 5.96244 7.40116C5.99123 7.39405 5.98894 7.36326 5.98894 7.36326L5.98836 6.30316C5.98836 6.07067 5.92626 5.8983 5.80404 5.79147C5.68238 5.68493 5.50318 5.63105 5.27157 5.63105C5.18466 5.63105 5.04478 5.64304 4.96102 5.65984C4.96102 5.65984 4.70774 5.70885 4.60346 5.79033C4.60346 5.79033 4.58068 5.80459 4.59321 5.8365L4.67527 6.05702C4.68552 6.08551 4.71317 6.07582 4.71317 6.07582C4.71317 6.07582 4.722 6.07239 4.73227 6.06641C4.95535 5.94505 5.23739 5.94875 5.23739 5.94875C5.36276 5.94875 5.45905 5.97381 5.524 6.02366C5.58724 6.07209 5.61943 6.14531 5.61943 6.29972V6.34873C5.51971 6.3345 5.42826 6.32625 5.42826 6.32625ZM14.7782 5.72893C14.787 5.7027 14.7685 5.69017 14.7608 5.68733C14.7412 5.67964 14.6426 5.65884 14.5665 5.65399C14.4209 5.64517 14.34 5.66967 14.2676 5.70214C14.1959 5.73462 14.1161 5.78703 14.0716 5.84659V5.70557C14.0716 5.68591 14.0577 5.67023 14.0383 5.67023H13.7411C13.7218 5.67023 13.7078 5.68589 13.7078 5.70557V7.43462C13.7078 7.45399 13.7238 7.46995 13.7431 7.46995H14.0477C14.057 7.4699 14.066 7.46615 14.0725 7.45952C14.0791 7.4529 14.0828 7.44394 14.0827 7.43462V6.57081C14.0827 6.45486 14.0956 6.3392 14.1212 6.26655C14.1463 6.19474 14.1805 6.1372 14.2226 6.09588C14.2651 6.05486 14.3132 6.02609 14.3659 6.00985C14.4198 5.99331 14.4793 5.98791 14.5215 5.98791C14.5822 5.98791 14.6488 6.00356 14.6488 6.00356C14.671 6.00613 14.6836 5.99245 14.691 5.97223C14.7109 5.91924 14.7674 5.76054 14.7782 5.72893Z\",fill:\"white\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M11.9195 4.92756C11.8825 4.91617 11.8489 4.90846 11.805 4.90022C11.7605 4.89225 11.7075 4.88824 11.6474 4.88824C11.4377 4.88824 11.2725 4.9475 11.1566 5.0643C11.0412 5.18056 10.9628 5.35747 10.9235 5.59025L10.9092 5.66858H10.646C10.646 5.66858 10.6141 5.66744 10.6072 5.70222L10.5642 5.94352C10.5611 5.96632 10.5711 5.98084 10.6018 5.98084H10.858L10.5981 7.43155C10.5779 7.54836 10.5545 7.64438 10.5286 7.71729C10.5032 7.78911 10.4785 7.84294 10.4477 7.88226C10.4181 7.91988 10.3901 7.94778 10.3417 7.96402C10.3018 7.97741 10.2557 7.98368 10.2052 7.98368C10.1773 7.98368 10.14 7.9791 10.1124 7.97341C10.085 7.96798 10.0705 7.96202 10.0497 7.95317C10.0497 7.95317 10.0198 7.9418 10.0078 7.97171C9.99839 7.99649 9.93003 8.18422 9.92176 8.20732C9.91379 8.23039 9.92518 8.24834 9.9397 8.25375C9.97389 8.26572 9.99924 8.27369 10.0457 8.2848C10.1101 8.29992 10.1645 8.30076 10.2155 8.30076C10.322 8.30076 10.4195 8.28566 10.5001 8.25661C10.581 8.22726 10.6516 8.17625 10.7143 8.10732C10.7819 8.03267 10.8243 7.95461 10.8648 7.84778C10.9049 7.74236 10.9394 7.61131 10.9668 7.45861L11.228 5.98084H11.6098C11.6098 5.98084 11.642 5.98198 11.6485 5.94694L11.6918 5.70592C11.6947 5.68286 11.685 5.66861 11.6539 5.66861H11.2833C11.2853 5.66036 11.3021 5.52985 11.3445 5.40708C11.3628 5.35495 11.397 5.31249 11.4257 5.28342C11.4543 5.25493 11.487 5.23471 11.5229 5.22302C11.5597 5.21105 11.6016 5.20536 11.6474 5.20536C11.6822 5.20536 11.7166 5.20935 11.7426 5.21475C11.7785 5.22246 11.7924 5.22644 11.8018 5.22931C11.8397 5.2407 11.8448 5.22959 11.8523 5.21137L11.9409 4.96806C11.95 4.9418 11.9275 4.93069 11.9195 4.92756ZM6.74074 7.43469C6.74074 7.45407 6.72678 7.46975 6.7074 7.46975H6.4C6.38062 7.46975 6.36694 7.45407 6.36694 7.43469V4.96062C6.36694 4.94126 6.38062 4.92558 6.4 4.92558H6.7074C6.72678 4.92558 6.74074 4.94126 6.74074 4.96062V7.43469Z\",fill:\"white\"})));};var SalesforceIcon=CreateIcon(SalesforceIconSvg);var YahooLogoIconSvg=function YahooLogoIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",\"aria-label\":\"Yahoo!\",role:\"img\",viewBox:\"0 0 512 512\",fill:\"#ffffff\"},/*#__PURE__*/wn.createElement(\"rect\",{width:\"512\",height:\"512\",rx:\"15%\",fill:\"#5f01d1\"}),/*#__PURE__*/wn.createElement(\"g\",{fill:\"#ffffff\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M203 404h-62l25-59-69-165h63l37 95 37-95h62m58 76h-69l62-148h69\"}),/*#__PURE__*/wn.createElement(\"circle\",{cx:\"303\",cy:\"308\",r:\"38\"})));};var YahooIcon=CreateIcon(YahooLogoIconSvg);var OAuthButtons=function OAuthButtons(){var config=useConfig();if(!config.oauthOptions)return/*#__PURE__*/y$4(g$7,null);var _config$oauthOptions=config.oauthOptions,providers=_config$oauthOptions.providers,loginRedirectURL=_config$oauthOptions.loginRedirectURL,signupRedirectURL=_config$oauthOptions.signupRedirectURL;var getProviderInfo=function getProviderInfo(providerType){switch(providerType){case OAuthProviders.Google:return{providerTypeTitle:'Google',icon:/*#__PURE__*/y$4(GoogleIcon,null)};case OAuthProviders.Microsoft:return{providerTypeTitle:'Microsoft',icon:/*#__PURE__*/y$4(MicrosoftIcon,null)};case OAuthProviders.Apple:return{providerTypeTitle:'Apple',icon:/*#__PURE__*/y$4(AppleIcon,null)};case OAuthProviders.Github:return{providerTypeTitle:'GitHub',icon:/*#__PURE__*/y$4(GithubIcon,null)};case OAuthProviders.GitLab:return{providerTypeTitle:'GitLab',icon:/*#__PURE__*/y$4(GitLabIcon,null)};case OAuthProviders.Facebook:return{providerTypeTitle:'Facebook',icon:/*#__PURE__*/y$4(FacebookIcon,null)};case OAuthProviders.Discord:return{providerTypeTitle:'Discord',icon:/*#__PURE__*/y$4(DiscordIcon,null)};case OAuthProviders.Salesforce:return{providerTypeTitle:'Salesforce',icon:/*#__PURE__*/y$4(SalesforceIcon,null)};case OAuthProviders.Slack:return{providerTypeTitle:'Slack',icon:/*#__PURE__*/y$4(SlackIcon,null)};case OAuthProviders.Amazon:return{providerTypeTitle:'Amazon',icon:/*#__PURE__*/y$4(AmazonIcon,null)};case OAuthProviders.Bitbucket:return{providerTypeTitle:'Bitbucket',icon:/*#__PURE__*/y$4(BitbucketIcon,null)};case OAuthProviders.LinkedIn:return{providerTypeTitle:'LinkedIn',icon:/*#__PURE__*/y$4(LinkedInIcon,null)};case OAuthProviders.Coinbase:return{providerTypeTitle:'Coinbase',icon:/*#__PURE__*/y$4(CoinbaseIcon,null)};case OAuthProviders.Twitch:return{providerTypeTitle:'Twitch',icon:/*#__PURE__*/y$4(TwitchIcon,null)};case OAuthProviders.Twitter:return{providerTypeTitle:'Twitter',icon:/*#__PURE__*/y$4(TwitterIcon,null)};case OAuthProviders.TikTok:return{providerTypeTitle:'TikTok',icon:/*#__PURE__*/y$4(TikTokIcon,null)};case OAuthProviders.Snapchat:return{providerTypeTitle:'Snapchat',icon:/*#__PURE__*/y$4(SnapchatIcon,null)};case OAuthProviders.Figma:return{providerTypeTitle:'Figma',icon:/*#__PURE__*/y$4(FigmaIcon,null)};case OAuthProviders.Yahoo:return{providerTypeTitle:'Yahoo',icon:/*#__PURE__*/y$4(YahooIcon,null)};default:return{providerTypeTitle:'',icon:/*#__PURE__*/y$4(g$7,null)};}};return/*#__PURE__*/y$4(Flex,{direction:\"column\",gap:8,className:\"oauth-buttons\"},providers.map(function(provider){var _getProviderInfo=getProviderInfo(provider.type),icon=_getProviderInfo.icon,providerTypeTitle=_getProviderInfo.providerTypeTitle;if(provider.one_tap){return/*#__PURE__*/y$4(GoogleOneTap,{position:provider.position,key:\"oauth-\".concat(provider.type)});}return/*#__PURE__*/y$4(OAuthButton,{key:\"oauth-\".concat(provider.type),providerType:provider.type,icon:icon,providerTypeTitle:providerTypeTitle,customScopes:provider.custom_scopes,loginRedirectUrl:loginRedirectURL,signupRedirectUrl:signupRedirectURL,providerParams:provider.provider_params});}));};var useLayoutEffect=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?y$3:function(){};var r$1=compat_module[\"useId\".toString()]||function(){};var n$3=0;function useId(o){var _h$11=h$5(r$1()),_h$12=_slicedToArray2(_h$11,2),u=_h$12[0],i=_h$12[1];return useLayoutEffect(function(){i(function(t){return null!=t?t:String(n$3++);});},[o]),u?\"radix-\".concat(u):\"\";}function useCallbackRef(r){var t=_$1(r);return p$6(function(){t.current=r;}),F$4(function(){return function(){var _r;var r;for(var _len5=arguments.length,e=new Array(_len5),_key5=0;_key5<_len5;_key5++){e[_key5]=arguments[_key5];}return null===(r=t.current)||void 0===r?void 0:(_r=r).call.apply(_r,[t].concat(e));};},[]);}function useControllableState(_ref55){var o=_ref55.prop,r=_ref55.defaultProp,_ref55$onChange=_ref55.onChange,n=_ref55$onChange===void 0?function(){}:_ref55$onChange;var _ref56=function(_ref58){var o=_ref58.defaultProp,r=_ref58.onChange;var n=h$5(o),_n2=_slicedToArray2(n,1),a=_n2[0],u=_$1(a),c=useCallbackRef(r);return p$6(function(){u.current!==a&&(c(a),u.current=a);},[a,u,c]),n;}({defaultProp:r,onChange:n}),_ref57=_slicedToArray2(_ref56,2),a=_ref57[0],u=_ref57[1],c=void 0!==o,f=c?o:a,l=useCallbackRef(n);return[f,T$2(function(e){if(c){var _t=e,_r2=\"function\"==typeof e?_t(o):e;_r2!==o&&l(_r2);}else u(e);},[c,o,u,l])];}function composeRefs(){for(var _len6=arguments.length,o=new Array(_len6),_key6=0;_key6<_len6;_key6++){o[_key6]=arguments[_key6];}return function(e){return o.forEach(function(o){return function(o,e){\"function\"==typeof o?o(e):null!=o&&(o.current=e);}(o,e);});};}function useComposedRefs(){for(var _len7=arguments.length,e=new Array(_len7),_key7=0;_key7<_len7;_key7++){e[_key7]=arguments[_key7];}return T$2(composeRefs.apply(void 0,e),e);}function _extends$1(){_extends$1=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends$1.apply(this,arguments);}var Slot=/*#__PURE__*/N$1(function(e,o){var a=e.children,s=_objectWithoutProperties(e,_excluded);return A$3.toArray(a).some(l$4)?/*#__PURE__*/y$4(g$7,null,A$3.map(a,function(e){return l$4(e)?/*#__PURE__*/y$4(n$2,_extends$1({},s,{ref:o}),e.props.children):e;})):/*#__PURE__*/y$4(n$2,_extends$1({},s,{ref:o}),a);});Slot.displayName=\"Slot\";var n$2=/*#__PURE__*/N$1(function(r,n){var l=r.children,a=_objectWithoutProperties(r,_excluded2);return/*#__PURE__*/fn(l)?/*#__PURE__*/sn(l,_objectSpread(_objectSpread({},o$1(a,l.props)),{},{ref:composeRefs(n,l.ref)})):A$3.count(l)>1?A$3.only(null):null;});n$2.displayName=\"SlotClone\";var Slottable=function Slottable(_ref59){var e=_ref59.children;return/*#__PURE__*/y$4(g$7,null,e);};function l$4(e){return/*#__PURE__*/fn(e)&&e.type===Slottable;}function o$1(e,t){var r=_objectSpread({},t);var _loop=function _loop(){var l=e[_n3],o=t[_n3];/^on[A-Z]/.test(_n3)?r[_n3]=function(){null==o||o.apply(void 0,arguments),null==l||l.apply(void 0,arguments);}:\"style\"===_n3?r[_n3]=_objectSpread(_objectSpread({},l),o):\"className\"===_n3&&(r[_n3]=[l,o].filter(Boolean).join(\" \"));};for(var _n3 in t){_loop();}return _objectSpread(_objectSpread({},e),r);}var Primitive=[\"a\",\"button\",\"div\",\"h2\",\"h3\",\"img\",\"li\",\"nav\",\"ol\",\"p\",\"span\",\"svg\",\"ul\"].reduce(function(o,i){return _objectSpread(_objectSpread({},o),{},_defineProperty({},i,/*#__PURE__*/N$1(function(o,m){var a=o.asChild,s=_objectWithoutProperties(o,_excluded3),n=a?Slot:i;return p$6(function(){window[Symbol[\"for\"](\"radix-ui\")]=!0;},[]),/*#__PURE__*/y$4(n,_extends$1({},s,{ref:m}));})));},{});function createContextScope(n){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=[];var c=function c(){var t=r.map(function(t){return/*#__PURE__*/F$5(t);});return function(o){var r=(null==o?void 0:o[n])||t;return F$4(function(){return _defineProperty({},\"__scope\".concat(n),_objectSpread(_objectSpread({},o),{},_defineProperty({},n,r)));},[o,r]);};};return c.scopeName=n,[function(t,o){var c=/*#__PURE__*/F$5(o),u=r.length;function s(t){var o=t.scope,r=t.children,s=_objectWithoutProperties(t,_excluded4),i=(null==o?void 0:o[n][u])||c,a=F$4(function(){return s;},Object.values(s));return/*#__PURE__*/y$4(i.Provider,{value:a},r);}return r=[].concat(_toConsumableArray(r),[o]),s.displayName=t+\"Provider\",[s,function(r,s){var i=(null==s?void 0:s[n][u])||c,a=q$5(i);if(a)return a;if(void 0!==o)return o;throw new Error(\"`\".concat(r,\"` must be used within `\").concat(t,\"`\"));}];},t$2.apply(void 0,[c].concat(_toConsumableArray(o)))];}function t$2(){for(var _len8=arguments.length,t=new Array(_len8),_key8=0;_key8<_len8;_key8++){t[_key8]=arguments[_key8];}var n=t[0];if(1===t.length)return n;var o=function o(){var o=t.map(function(e){return{useScope:e(),scopeName:e.scopeName};});return function(t){var r=o.reduce(function(e,_ref61){var n=_ref61.useScope,o=_ref61.scopeName;return _objectSpread(_objectSpread({},e),n(t)[\"__scope\".concat(o)]);},{});return F$4(function(){return _defineProperty({},\"__scope\".concat(n.scopeName),r);},[r]);};};return o.scopeName=n.scopeName,o;}function createCollection(c){var n=c+\"CollectionProvider\",_createContextScope=createContextScope(n),_createContextScope2=_slicedToArray2(_createContextScope,2),l=_createContextScope2[0],i=_createContextScope2[1],_l=l(n,{collectionRef:{current:null},itemMap:new Map()}),_l2=_slicedToArray2(_l,2),f=_l2[0],a=_l2[1],u=function u(e){var r=e.scope,t=e.children,c=wn.useRef(null),n=wn.useRef(new Map()).current;return/*#__PURE__*/wn.createElement(f,{scope:r,itemMap:n,collectionRef:c},t);},m=c+\"CollectionSlot\",s=/*#__PURE__*/wn.forwardRef(function(t,c){var n=t.scope,l=t.children,i=a(m,n),f=useComposedRefs(c,i.collectionRef);return/*#__PURE__*/wn.createElement(Slot,{ref:f},l);}),p=c+\"CollectionItemSlot\",d=\"data-radix-collection-item\",R=/*#__PURE__*/wn.forwardRef(function(t,c){var n=t.scope,l=t.children,i=_objectWithoutProperties(t,_excluded5),f=wn.useRef(null),u=useComposedRefs(c,f),m=a(p,n);return wn.useEffect(function(){return m.itemMap.set(f,_objectSpread({ref:f},i)),function(){m.itemMap[\"delete\"](f);};}),/*#__PURE__*/wn.createElement(Slot,_defineProperty(_defineProperty({},d,\"\"),\"ref\",u),l);});return[{Provider:u,Slot:s,ItemSlot:R},function(e){var r=a(c+\"CollectionConsumer\",e);return wn.useCallback(function(){var e=r.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll(\"[\".concat(d,\"]\")));return Array.from(r.itemMap.values()).sort(function(e,r){return t.indexOf(e.ref.current)-t.indexOf(r.ref.current);});},[r.collectionRef,r.itemMap]);},i];}function composeEventHandlers(e,n){var _ref63=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},_ref63$checkForDefaul=_ref63.checkForDefaultPrevented,t=_ref63$checkForDefaul===void 0?!0:_ref63$checkForDefaul;return function(r){if(null==e||e(r),!1===t||!r.defaultPrevented)return null==n?void 0:n(r);};}var f$2={bubbles:!1,cancelable:!0},_createCollection=createCollection(\"RovingFocusGroup\"),_createCollection2=_slicedToArray2(_createCollection,3),p$3=_createCollection2[0],l$3=_createCollection2[1],m$3=_createCollection2[2],_createContextScope3=createContextScope(\"RovingFocusGroup\",[m$3]),_createContextScope4=_slicedToArray2(_createContextScope3,2),d$2=_createContextScope4[0],v=_createContextScope4[1];var _d$=d$2(\"RovingFocusGroup\"),_d$2=_slicedToArray2(_d$,2),g$1=_d$2[0],F=_d$2[1];var RovingFocusGroup=/*#__PURE__*/N$1(function(e,o){return/*#__PURE__*/y$4(p$3.Provider,{scope:e.__scopeRovingFocusGroup},/*#__PURE__*/y$4(p$3.Slot,{scope:e.__scopeRovingFocusGroup},/*#__PURE__*/y$4(w,_extends$1({},e,{ref:o}))));});var w=/*#__PURE__*/N$1(function(t,n){var c=t.__scopeRovingFocusGroup,p=t.orientation,_t$dir=t.dir,m=_t$dir===void 0?\"ltr\":_t$dir,_t$loop=t.loop,d=_t$loop===void 0?!1:_t$loop,v=t.currentTabStopId,F=t.defaultCurrentTabStopId,w=t.onCurrentTabStopIdChange,b=t.onEntryFocus,x=_objectWithoutProperties(t,_excluded6),E=_$1(null),I=useComposedRefs(n,E),_useControllableState=useControllableState({prop:v,defaultProp:F,onChange:w}),_useControllableState2=_slicedToArray2(_useControllableState,2),_useControllableState3=_useControllableState2[0],G=_useControllableState3===void 0?null:_useControllableState3,h=_useControllableState2[1],_h$13=h$5(!1),_h$14=_slicedToArray2(_h$13,2),T=_h$14[0],A=_h$14[1],y=useCallbackRef(b),D=l$3(c),S=_$1(!1);return p$6(function(){var e=E.current;if(e)return e.addEventListener(\"rovingFocusGroup.onEntryFocus\",y),function(){return e.removeEventListener(\"rovingFocusGroup.onEntryFocus\",y);};},[y]),/*#__PURE__*/y$4(g$1,{scope:c,orientation:p,dir:m,loop:d,currentTabStopId:G,onItemFocus:T$2(function(e){return h(e);},[h]),onItemShiftTab:T$2(function(){return A(!0);},[])},/*#__PURE__*/y$4(Primitive.div,_extends$1({tabIndex:T?-1:0,\"data-orientation\":p},x,{ref:I,style:_objectSpread({outline:\"none\"},t.style),onMouseDown:composeEventHandlers(t.onMouseDown,function(){S.current=!0;}),onFocus:composeEventHandlers(t.onFocus,function(e){var o=!S.current;if(e.target===e.currentTarget&&o&&!T){var _o=new Event(\"rovingFocusGroup.onEntryFocus\",f$2);if(e.currentTarget.dispatchEvent(_o),!_o.defaultPrevented){var _e3=D().filter(function(e){return e.focusable;});R([_e3.find(function(e){return e.active;}),_e3.find(function(e){return e.id===G;})].concat(_toConsumableArray(_e3)).filter(Boolean).map(function(e){return e.ref.current;}));}}S.current=!1;}),onBlur:composeEventHandlers(t.onBlur,function(){return A(!1);})})));});var RovingFocusGroupItem=/*#__PURE__*/N$1(function(e,o){var n=e.__scopeRovingFocusGroup,_e$focusable=e.focusable,i=_e$focusable===void 0?!0:_e$focusable,_e$active=e.active,c=_e$active===void 0?!1:_e$active,f=_objectWithoutProperties(e,_excluded7),m=useId(),d=F(\"RovingFocusGroupItem\",n),v=d.currentTabStopId===m,g=l$3(n);return/*#__PURE__*/y$4(p$3.ItemSlot,{scope:n,id:m,focusable:i,active:c},/*#__PURE__*/y$4(Primitive.span,_extends$1({tabIndex:v?0:-1,\"data-orientation\":d.orientation},f,{ref:o,onMouseDown:composeEventHandlers(e.onMouseDown,function(e){i?d.onItemFocus(m):e.preventDefault();}),onFocus:composeEventHandlers(e.onFocus,function(){return d.onItemFocus(m);}),onKeyDown:composeEventHandlers(e.onKeyDown,function(e){if(\"Tab\"===e.key&&e.shiftKey)return void d.onItemShiftTab();if(e.target!==e.currentTarget)return;var o=function(e,o,r){var t=function(e,o){return\"rtl\"!==o?e:\"ArrowLeft\"===e?\"ArrowRight\":\"ArrowRight\"===e?\"ArrowLeft\":e;}(e.key,r);return\"vertical\"===o&&[\"ArrowLeft\",\"ArrowRight\"].includes(t)||\"horizontal\"===o&&[\"ArrowUp\",\"ArrowDown\"].includes(t)?void 0:b$1[t];}(e,d.orientation,d.dir);if(void 0!==o){e.preventDefault();var _n4=g().filter(function(e){return e.focusable;}).map(function(e){return e.ref.current;});if(\"last\"===o)_n4.reverse();else if(\"prev\"===o||\"next\"===o){\"prev\"===o&&_n4.reverse();var _i3=_n4.indexOf(e.currentTarget);_n4=d.loop?(t=_i3+1,(r=_n4).map(function(e,o){return r[(t+o)%r.length];})):_n4.slice(_i3+1);}setTimeout(function(){return R(_n4);});}var r,t;})})));});var b$1={ArrowLeft:\"prev\",ArrowUp:\"prev\",ArrowRight:\"next\",ArrowDown:\"next\",PageUp:\"first\",Home:\"first\",PageDown:\"last\",End:\"last\"};function R(e){var o=document.activeElement;var _iterator3=_createForOfIteratorHelper2(e),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _r3=_step3.value;if(_r3===o)return;if(_r3.focus(),document.activeElement!==o)return;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}var Root$1=RovingFocusGroup;var Item=RovingFocusGroupItem;var _createContextScope5=createContextScope(\"Tabs\",[v]),_createContextScope6=_slicedToArray2(_createContextScope5,2),d$1=_createContextScope6[0],l$2=_createContextScope6[1];var u$2=v(),_d$3=d$1(\"Tabs\"),_d$4=_slicedToArray2(_d$3,2),b=_d$4[0],p$2=_d$4[1];var Tabs=/*#__PURE__*/N$1(function(t,o){var n=t.__scopeTabs,i=t.value,d=t.onValueChange,l=t.defaultValue,_t$orientation=t.orientation,u=_t$orientation===void 0?\"horizontal\":_t$orientation,_t$dir2=t.dir,p=_t$dir2===void 0?\"ltr\":_t$dir2,_t$activationMode=t.activationMode,m=_t$activationMode===void 0?\"automatic\":_t$activationMode,f=_objectWithoutProperties(t,_excluded8),_useControllableState4=useControllableState({prop:i,onChange:d,defaultProp:l}),_useControllableState5=_slicedToArray2(_useControllableState4,2),v=_useControllableState5[0],T=_useControllableState5[1];return/*#__PURE__*/y$4(b,{scope:n,baseId:useId(),value:v,onValueChange:T,orientation:u,dir:p,activationMode:m},/*#__PURE__*/y$4(Primitive.div,_extends$1({\"data-orientation\":u},f,{ref:o})));});var TabsList=/*#__PURE__*/N$1(function(e,o){var r=e.__scopeTabs,_e$loop=e.loop,n=_e$loop===void 0?!0:_e$loop,i=_objectWithoutProperties(e,_excluded9),d=p$2(\"TabsList\",r),l=u$2(r);return/*#__PURE__*/y$4(Root$1,_extends$1({asChild:!0},l,{orientation:d.orientation,dir:d.dir,loop:n}),/*#__PURE__*/y$4(Primitive.div,_extends$1({role:\"tablist\",\"aria-orientation\":d.orientation,dir:d.dir},i,{ref:o})));});var TabsTrigger=/*#__PURE__*/N$1(function(e,o){var r=e.__scopeTabs,n=e.value,_e$disabled=e.disabled,d=_e$disabled===void 0?!1:_e$disabled,l=_objectWithoutProperties(e,_excluded10),b=p$2(\"TabsTrigger\",r),v=u$2(r),T=m$2(b.baseId,n),x=f$1(b.baseId,n),g=n===b.value;return/*#__PURE__*/y$4(Item,_extends$1({asChild:!0},v,{focusable:!d,active:g}),/*#__PURE__*/y$4(Primitive.button,_extends$1({type:\"button\",role:\"tab\",\"aria-selected\":g,\"aria-controls\":x,\"data-state\":g?\"active\":\"inactive\",\"data-disabled\":d?\"\":void 0,disabled:d,id:T},l,{ref:o,onMouseDown:composeEventHandlers(e.onMouseDown,function(e){d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():b.onValueChange(n);}),onKeyDown:composeEventHandlers(e.onKeyDown,function(e){[\" \",\"Enter\"].includes(e.key)&&b.onValueChange(n);}),onFocus:composeEventHandlers(e.onFocus,function(){var e=\"manual\"!==b.activationMode;g||d||!e||b.onValueChange(n);})})));});var TabsContent=/*#__PURE__*/N$1(function(e,t){var o=e.__scopeTabs,r=e.value,n=e.children,i=_objectWithoutProperties(e,_excluded11),d=p$2(\"TabsContent\",o),l=m$2(d.baseId,r),u=f$1(d.baseId,r),b=r===d.value;return/*#__PURE__*/y$4(Primitive.div,_extends$1({\"data-state\":b?\"active\":\"inactive\",\"data-orientation\":d.orientation,role:\"tabpanel\",\"aria-labelledby\":l,hidden:!b,id:u,tabIndex:0},i,{ref:t}),b&&n);});function m$2(e,t){return\"\".concat(e,\"-trigger-\").concat(t);}function f$1(e,t){return\"\".concat(e,\"-content-\").concat(t);}var Root=Tabs;var List=TabsList;var Trigger=TabsTrigger;var Content=TabsContent;var Select=He.select(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border: 1px solid \",\";\\n  border-radius: \",\";\\n  height: 47px;\\n  box-sizing: border-box;\\n  padding: 0 8px;\\n  color: \",\";\\n  font-family: \",\";\\n  width: 80px;\\n  font-size: 18px;\\n\"])),function(props){return props.theme.inputs.backgroundColor;},function(props){return props.theme.inputs.borderColor;},function(props){return props.theme.inputs.borderRadius;},function(props){return props.theme.inputs.textColor;},function(props){return props.theme.typography.fontFamily;});var CountrySelector=function CountrySelector(_ref60){var country=_ref60.country,setCountry=_ref60.setCountry;var countryFormatter=new Intl.DisplayNames(['en'],{type:'region'});return/*#__PURE__*/wn.createElement(Select,{\"data-testid\":\"select-test-id\",name:\"country-select\",value:country,onChange:function onChange(e){setCountry(e.target.value);}},Object.entries(COUNTRIES_LIST).map(function(_ref62){var _ref64=_slicedToArray2(_ref62,2),countryCode=_ref64[0],countryNumber=_ref64[1];return/*#__PURE__*/wn.createElement(\"option\",{key:countryCode,value:countryCode},countryCode!==country?\"+\".concat(countryNumber,\" \").concat(countryFormatter.of(countryCode)):\"+\".concat(countryNumber));}));};var Input=He.input(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  height: 47px;\\n  padding: 0 8px;\\n  box-sizing: border-box;\\n  border: 1px solid \",\";\\n  border-radius: \",\";\\n  color: \",\";\\n  font-family: \",\";\\n  font-size: 18px;\\n  &::placeholder {\\n    color: \",\";\\n  }\\n\\n  &:disabled {\\n    border: 1px solid \",\";\\n    color: \",\";\\n    background-color: \",\";\\n  }\\n\"])),function(props){return props.theme.inputs.backgroundColor;},function(props){return props.theme.inputs.borderColor;},function(props){return props.theme.inputs.borderRadius;},function(props){return props.theme.inputs.textColor;},function(props){return props.theme.typography.fontFamily;},function(props){return props.theme.inputs.placeholderColor;},function(props){return props.theme.colors.disabledText;},function(props){return props.theme.colors.disabledText;},function(props){return props.theme.colors.disabled;});var PhoneStyledInput=He(Input)(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  flex-grow: 1;\\n  min-width: 100px;\\n\"])));var PhoneInput=function PhoneInput(_ref65){var phone=_ref65.phone,setPhone=_ref65.setPhone,country=_ref65.country,setCountry=_ref65.setCountry,parsePhoneNumber=_ref65.parsePhoneNumber,hasPasskeys=_ref65.hasPasskeys;return/*#__PURE__*/wn.createElement(Flex,{direction:\"row\",wrap:\"nowrap\",justifyContent:\"flex-start\",alignContent:\"stretch\",alignItems:\"center\",gap:8},/*#__PURE__*/wn.createElement(CountrySelector,{country:country,setCountry:setCountry}),/*#__PURE__*/wn.createElement(PhoneStyledInput,Object.assign({placeholder:\"(123) 456-7890\",name:hasPasskeys?'email':'phoneNumber',id:\"phone-input\",autoComplete:hasPasskeys?'webauthn':undefined,value:phone,type:'text',onChange:function onChange(e){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee71(){var parsedPhoneNumber;return _regeneratorRuntime2().wrap(function _callee71$(_context71){while(1)switch(_context71.prev=_context71.next){case 0:_context71.next=2;return parsePhoneNumber(e.target.value,country);case 2:parsedPhoneNumber=_context71.sent;setPhone(parsedPhoneNumber.national);case 4:case\"end\":return _context71.stop();}},_callee71);}));},required:true},hasPasskeys?{'data-1p-ignore':true}:{})));};var EmailInput=function EmailInput(_ref66){var email=_ref66.email,setEmail=_ref66.setEmail,_ref66$disableInput=_ref66.disableInput,disableInput=_ref66$disableInput===void 0?false:_ref66$disableInput,_ref66$hasPasskeys=_ref66.hasPasskeys,hasPasskeys=_ref66$hasPasskeys===void 0?false:_ref66$hasPasskeys;return/*#__PURE__*/wn.createElement(Input,Object.assign({placeholder:\"example@email.com\",name:\"email\",type:\"email\",autoComplete:hasPasskeys?'email webauthn':'email',disabled:disableInput,id:\"email-input\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true},hasPasskeys?{'data-1p-ignore':true}:{}));};var SubmitButton=function SubmitButton(props){var buttonDisabled=props.isSubmitting||props.disabled;return/*#__PURE__*/wn.createElement(Button,{id:'submit',type:\"submit\",disabled:buttonDisabled},props.isSubmitting?(/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\"},/*#__PURE__*/wn.createElement(CircularProgress,{size:18,thickness:1,\"data-testid\":\"loading-icon\"}))):props.text);};var DASHBOARD_REGEX=/https:\\/\\/stytch\\.com\\/[#a-zA-Z0-9/-]+/g;var mapURLsToLinks=function mapURLsToLinks(str){var nonLinkChunks=str.split(DASHBOARD_REGEX);var linkChunks=Array.from(str.matchAll(DASHBOARD_REGEX)).map(function(el){return el[0];});var chunkResults=[];while(nonLinkChunks.length||linkChunks.length){if(nonLinkChunks.length){chunkResults.push(nonLinkChunks.shift());}if(linkChunks.length){var chunk=linkChunks.shift();chunkResults.push(/*#__PURE__*/wn.createElement(\"a\",{key:chunk+'__'+String(linkChunks.length),href:chunk,target:\"_blank\",rel:\"noreferrer\"},chunk));}}return chunkResults;};var ErrorText=function ErrorText(_ref67){var errorMessage=_ref67.errorMessage;var tokens=F$4(function(){return mapURLsToLinks(errorMessage);},[errorMessage]);return/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"error\"},tokens);};_defineProperty(_defineProperty(_defineProperty({},OTPMethods.SMS,'Text'),OTPMethods.WhatsApp,'WhatsApp'),OTPMethods.Email,'Email');var OTPButtonText=_defineProperty(_defineProperty(_defineProperty({},OTPMethods.SMS,'text message'),OTPMethods.WhatsApp,'WhatsApp'),OTPMethods.Email,'email');var OTPEmailForm=function OTPEmailForm(){var onEvent=useEventCallback();var onError=useErrorCallback();var stytchClient=useStytch();var config=useConfig();var _useGlobalReducer3=useGlobalReducer(),_useGlobalReducer4=_slicedToArray2(_useGlobalReducer3,2),dispatch=_useGlobalReducer4[1];var _h$15=h$5(''),_h$16=_slicedToArray2(_h$15,2),email=_h$16[0],setEmail=_h$16[1];var _h$17=h$5(''),_h$18=_slicedToArray2(_h$17,2),errorMessage=_h$18[0],setErrorMessage=_h$18[1];var _h$19=h$5(false),_h$20=_slicedToArray2(_h$19,2),isSubmitting=_h$20[0],setIsSubmitting=_h$20[1];var hasPasskeys=config.products.includes(Products.passkeys);var stopSubmit=function stopSubmit(errorText){onError({message:errorText});setIsSubmitting(false);return setErrorMessage(errorText);};var handleEmailSubmit=function handleEmailSubmit(e){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee72(){var _a,_b,_c,_d;return _regeneratorRuntime2().wrap(function _callee72$(_context72){while(1)switch(_context72.prev=_context72.next){case 0:e.preventDefault();setIsSubmitting(true);if(email.match(EMAIL_REGEX)){_context72.next=4;break;}return _context72.abrupt(\"return\",stopSubmit(\"Invalid email, please try again.\"));case 4:setErrorMessage('');setIsSubmitting(true);stytchClient.otps.email.loginOrCreate(email,{expiration_minutes:(_b=(_a=config.otpOptions)===null||_a===void 0?void 0:_a.expirationMinutes)!==null&&_b!==void 0?_b:DEFAULT_OTP_EXPIRATION_MINUTES,login_template_id:(_c=config.otpOptions)===null||_c===void 0?void 0:_c.loginTemplateId,signup_template_id:(_d=config.otpOptions)===null||_d===void 0?void 0:_d.signupTemplateId}).then(function(data){setIsSubmitting(false);onEvent({type:StytchEventType.OTPsLoginOrCreateEvent,data:data});dispatch({type:'update_otp_state',otpState:{type:OTPMethods.Email,methodId:data.method_id,otpDestination:email}});dispatch({type:'transition',screen:AppScreens$1.OTPAuthenticate});readB2CInternals(stytchClient).networkClient.logEvent({name:'email_sent',details:{email:email,type:EmailSentType.LoginOrCreateOTP}});})[\"catch\"](function(err){var message=err.message;if(err instanceof StytchAPIError){message=err.error_message;}stopSubmit(message);});case 7:case\"end\":return _context72.stop();}},_callee72);}));};return/*#__PURE__*/wn.createElement(\"form\",{onSubmit:handleEmailSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",minHeight:52},/*#__PURE__*/wn.createElement(EmailInput,{email:email,setEmail:setEmail,hasPasskeys:hasPasskeys}),/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:errorMessage})),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:\"Continue with \".concat(OTPButtonText[OTPMethods.Email])})));};var PhoneForm=function PhoneForm(_ref69){var method=_ref69.method;var onEvent=useEventCallback();var onError=useErrorCallback();var stytchClient=useStytch();var config=useConfig();var _useGlobalReducer5=useGlobalReducer(),_useGlobalReducer6=_slicedToArray2(_useGlobalReducer5,2),dispatch=_useGlobalReducer6[1];var _h$21=h$5(''),_h$22=_slicedToArray2(_h$21,2),phoneNumber=_h$22[0],setPhoneNumber=_h$22[1];var _h$23=h$5('US'),_h$24=_slicedToArray2(_h$23,2),country=_h$24[0],setCountry=_h$24[1];var _h$25=h$5(''),_h$26=_slicedToArray2(_h$25,2),errorMessage=_h$26[0],setErrorMessage=_h$26[1];var _h$27=h$5(false),_h$28=_slicedToArray2(_h$27,2),isSubmitting=_h$28[0],setIsSubmitting=_h$28[1];var hasPasskeys=config.products.includes(Products.passkeys);var stopSubmit=function stopSubmit(errorText){onError({message:errorText});setIsSubmitting(false);return setErrorMessage(errorText);};var parsePhoneNumber=function parsePhoneNumber(phoneNumber,countryCode){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee73(){return _regeneratorRuntime2().wrap(function _callee73$(_context73){while(1)switch(_context73.prev=_context73.next){case 0:return _context73.abrupt(\"return\",readB2CInternals(stytchClient).clientsideServices.parsedPhoneNumber({phoneNumber:phoneNumber,regionCode:countryCode}));case 1:case\"end\":return _context73.stop();}},_callee73);}));};var handlePhoneSubmit=function handlePhoneSubmit(e){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee74(){var _a,_b,parsedNumber;return _regeneratorRuntime2().wrap(function _callee74$(_context74){while(1)switch(_context74.prev=_context74.next){case 0:e.preventDefault();_context74.next=3;return parsePhoneNumber(phoneNumber,country);case 3:parsedNumber=_context74.sent;if(parsedNumber.isValid){_context74.next=6;break;}return _context74.abrupt(\"return\",stopSubmit(\"Invalid phone number, please try again.\"));case 6:setIsSubmitting(true);setErrorMessage('');stytchClient.otps[method].loginOrCreate(parsedNumber.number,{expiration_minutes:(_b=(_a=config.otpOptions)===null||_a===void 0?void 0:_a.expirationMinutes)!==null&&_b!==void 0?_b:DEFAULT_OTP_EXPIRATION_MINUTES}).then(function(data){setIsSubmitting(false);onEvent({type:StytchEventType.OTPsLoginOrCreateEvent,data:data});dispatch({type:'update_otp_state',otpState:{type:method,methodId:data.method_id,otpDestination:parsedNumber.number}});dispatch({type:'transition',screen:AppScreens$1.OTPAuthenticate});})[\"catch\"](function(err){var message=err.message;if(err instanceof StytchAPIError){message=err.error_message;}stopSubmit(message);});case 9:case\"end\":return _context74.stop();}},_callee74);}));};return/*#__PURE__*/wn.createElement(\"form\",{onSubmit:handlePhoneSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",minHeight:52},/*#__PURE__*/wn.createElement(PhoneInput,{phone:phoneNumber,setPhone:setPhoneNumber,country:country,setCountry:setCountry,parsePhoneNumber:parsePhoneNumber,hasPasskeys:hasPasskeys}),/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:errorMessage})),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:\"Continue with \".concat(OTPButtonText[method])})));};var MagicLinkEmailForm=function MagicLinkEmailForm(){var onEvent=useEventCallback();var onError=useErrorCallback();var _useGlobalReducer7=useGlobalReducer(),_useGlobalReducer8=_slicedToArray2(_useGlobalReducer7,2),dispatch=_useGlobalReducer8[1];var stytchClient=useStytch();var config=useConfig();var emailMagicLinksOptions=config.emailMagicLinksOptions;var hasPasskeys=config.products.includes(Products.passkeys);var _h$29=h$5(''),_h$30=_slicedToArray2(_h$29,2),email=_h$30[0],setEmail=_h$30[1];var _h$31=h$5(''),_h$32=_slicedToArray2(_h$31,2),errorMessage=_h$32[0],setErrorMessage=_h$32[1];var _h$33=h$5(false),_h$34=_slicedToArray2(_h$33,2),isSubmitting=_h$34[0],setIsSubmitting=_h$34[1];if(!emailMagicLinksOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var handleSubmit=function handleSubmit(e){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee75(){return _regeneratorRuntime2().wrap(function _callee75$(_context75){while(1)switch(_context75.prev=_context75.next){case 0:e.preventDefault();if(!email.match(EMAIL_REGEX)){setErrorMessage('Invalid email address');}else{setErrorMessage('');setIsSubmitting(true);stytchClient.magicLinks.email.loginOrCreate(email,convertMagicLinkOptions(emailMagicLinksOptions)).then(function(data){onEvent({type:StytchEventType.MagicLinkLoginOrCreateEvent,data:data});setIsSubmitting(false);dispatch({type:'set_magic_link_email',email:email});dispatch({type:'transition',screen:AppScreens$1.EmailConfirmation});readB2CInternals(stytchClient).networkClient.logEvent({name:'email_try_again_clicked',details:{email:email,type:EmailSentType.LoginOrCreateEML}});})[\"catch\"](function(e){onError(e);setIsSubmitting(false);var message=e.message;if(e instanceof StytchAPIError){message=e.error_message;}setErrorMessage(message);});}case 2:case\"end\":return _context75.stop();}},_callee75);}));};return/*#__PURE__*/wn.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",minHeight:52},/*#__PURE__*/wn.createElement(EmailInput,{email:email,setEmail:setEmail,hasPasskeys:hasPasskeys}),/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:errorMessage})),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:'Continue with email'})));};var PasswordsEmailForm=function PasswordsEmailForm(){var _useGlobalReducer9=useGlobalReducer(),_useGlobalReducer10=_slicedToArray2(_useGlobalReducer9,2),dispatch=_useGlobalReducer10[1];var config=useConfig();var stytch=useStytch();var passwordOptions=config.passwordOptions;var hasPasskeys=config.products.includes(Products.passkeys);var _h$35=h$5(''),_h$36=_slicedToArray2(_h$35,2),email=_h$36[0],setEmail=_h$36[1];var _h$37=h$5(''),_h$38=_slicedToArray2(_h$37,2),errorMessage=_h$38[0],setErrorMessage=_h$38[1];var _h$39=h$5(false),_h$40=_slicedToArray2(_h$39,2),isSubmitting=_h$40[0],setIsSubmitting=_h$40[1];if(!passwordOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var handleSubmit=function handleSubmit(e){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee76(){return _regeneratorRuntime2().wrap(function _callee76$(_context76){while(1)switch(_context76.prev=_context76.next){case 0:e.preventDefault();if(!email.match(EMAIL_REGEX)){setErrorMessage('Invalid email address');}else{setErrorMessage('');setIsSubmitting(true);readB2CInternals(stytch).searchManager.searchUser(email).then(function(_ref70){var userType=_ref70.userType;dispatch({type:'update_password_state',passwordState:{email:email,type:userType}});dispatch({type:'transition',screen:AppScreens$1.PasswordCreateOrLogin});readB2CInternals(stytch).networkClient.logEvent({name:'email_sent',details:{email:email,type:EmailSentType.ResetPassword}});})[\"catch\"](function(e){setIsSubmitting(false);var message=e.message;if(e instanceof StytchAPIError){message=e.error_message;}setErrorMessage(message);});}case 2:case\"end\":return _context76.stop();}},_callee76);}));};return/*#__PURE__*/wn.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",height:52},/*#__PURE__*/wn.createElement(EmailInput,{email:email,setEmail:setEmail,hasPasskeys:hasPasskeys}),/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"error\"},errorMessage)),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:'Continue with email'})));};var usePromptPasskey=function usePromptPasskey(_ref71){var conditionalMediation=_ref71.conditionalMediation;var stytchClient=useStytch();var config=useConfig();var hasPasskeys=config.products.includes(Products.passkeys);var onEvent=useEventCallback();var onError=useErrorCallback();var _useGlobalReducer11=useGlobalReducer(),_useGlobalReducer12=_slicedToArray2(_useGlobalReducer11,2),dispatch=_useGlobalReducer12[1];var _h$41=h$5(5),_h$42=_slicedToArray2(_h$41,2),triesLeft=_h$42[0],setTries=_h$42[1];var genericErrorMessage='Unknown error occurred during passkey authentication. Please try again.';var passkeyRegistrationNotFoundErrorMessage='Passkey registration not found. You may have deleted the passkey from your account but not password manager. Please try again.';var promptPasskeyInternal=function promptPasskeyInternal(_ref72){var abortController=_ref72.abortController;var _a,_b;return stytchClient.webauthn.authenticate({session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES,conditional_mediation:conditionalMediation,is_passkey:true,signal:abortController===null||abortController===void 0?void 0:abortController.signal}).then(function(resp){if(resp){onEvent({type:StytchEventType.PasskeyAuthenticate,data:resp});dispatch({type:'transition',screen:AppScreens$1.PasskeyConfirmation});dispatch({type:'clear_error_message'});return resp;}else{dispatch({type:'set_error_message',errorMessage:genericErrorMessage});throw new Error('Empty response');}})[\"catch\"](function(e){if(e.error_type==='webauthn_registration_not_found'){dispatch({type:'set_error_message',errorMessage:passkeyRegistrationNotFoundErrorMessage});}else if(e.name==='StytchAPIError'){dispatch({type:'set_error_message',errorMessage:genericErrorMessage});}onError(e);throw e;});};var promptAutofill=function promptAutofill(){p$6(function(){if(!hasPasskeys){return;}if(triesLeft<1){return;}var abortController=new AbortController();stytchClient.webauthn.browserSupportsAutofill().then(function(supports){if(!supports){return;}promptPasskeyInternal({abortController:abortController})[\"catch\"](function(){setTries(function(triesLeft){return triesLeft-1;});});});return function(){abortController.abort();};},[triesLeft]);};var prompt=function prompt(){return promptPasskeyInternal({});};return{prompt:prompt,promptAutofill:promptAutofill};};var WarningIcon=function WarningIcon(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"25\",height:\"24\",viewBox:\"0 0 25 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.5 6.49L20.03 19.5H4.97L12.5 6.49ZM12.5 2.5L1.5 21.5H23.5L12.5 2.5ZM13.5 16.5H11.5V18.5H13.5V16.5ZM13.5 10.5H11.5V14.5H13.5V10.5Z\",fill:\"#C28E1F\"}));};var WarningIcon$1=CreateIcon(WarningIcon);var SuccessIcon$1=function SuccessIcon$1(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z\",fill:\"#0C5A56\"}));};var SuccessIcon$2=CreateIcon(SuccessIcon$1);var ErrorIcon$2=function ErrorIcon$2(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M9 13H11V15H9V13ZM9 5H11V11H9V5ZM9.99 0C4.47 0 0 4.48 0 10C0 15.52 4.47 20 9.99 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 9.99 0ZM10 18C5.58 18 2 14.42 2 10C2 5.58 5.58 2 10 2C14.42 2 18 5.58 18 10C18 14.42 14.42 18 10 18Z\",fill:\"#AD2E30\"}));};var ErrorIcon$3=CreateIcon(ErrorIcon$2);var variantToStyles={error:{backgroundColor:'#FFF6F5',borderColor:'#FD4E43'},warning:{backgroundColor:'#fffbf0',borderColor:'#ffd94a'},success:{backgroundColor:'#f7fffb',borderColor:'#0c5a56'}};var AlertBoxStyled=He.div(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border-left: 6px solid \",\";\\n  border-radius: 4px 0 0 4px;\\n  padding: 24px;\\n\"])),function(props){return variantToStyles[props.variant].backgroundColor;},function(props){return variantToStyles[props.variant].borderColor;});var AlertText=He(Text)(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  font-family: IBM Plex Sans;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 20px;\\n  letter-spacing: 0em;\\n\"])));var AlertBox=function AlertBox(_ref73){var variant=_ref73.variant,text=_ref73.text;var _useGlobalReducer13=useGlobalReducer(),_useGlobalReducer14=_slicedToArray2(_useGlobalReducer13,1),state=_useGlobalReducer14[0];if(state.formState.errorMessage===''&&!text){return null;}return/*#__PURE__*/wn.createElement(AlertBoxStyled,{variant:variant},/*#__PURE__*/wn.createElement(Flex,{gap:8,alignItems:\"flex-start\"},variant==='error'&&/*#__PURE__*/wn.createElement(ErrorIcon$3,null),variant==='warning'&&/*#__PURE__*/wn.createElement(WarningIcon$1,null),variant==='success'&&/*#__PURE__*/wn.createElement(SuccessIcon$2,null),/*#__PURE__*/wn.createElement(AlertText,null,text?text:state.formState.errorMessage)));};var TabList=He(List)(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  justify-content: space-between;\\n  border-bottom: 1px solid \",\";\\n  margin-bottom: 24px;\\n\"])),function(props){return props.theme.colors.secondary;});var TabTrigger=He(Trigger)(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n  all: unset;\\n  width: 100%;\\n  text-align: center;\\n  color: \",\";\\n  border-bottom: 3px solid \",\";\\n  font-weight: \",\";\\n\"])),function(props){return props.$active?props.theme.colors.primary:props.theme.colors.secondary;},function(props){return props.$active?props.theme.colors.primary:'transparent';},function(props){return props.$active?'500':'400';});var MagicLinkMethods;(function(MagicLinkMethods){MagicLinkMethods[\"Email\"]=\"emailMagicLink\";})(MagicLinkMethods||(MagicLinkMethods={}));var PasswordMethods;(function(PasswordMethods){PasswordMethods[\"Email\"]=\"passwords\";})(PasswordMethods||(PasswordMethods={}));var OTPTabHeaders=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},OTPMethods.SMS,'Text'),OTPMethods.WhatsApp,'WhatsApp'),OTPMethods.Email,'Email'),MagicLinkMethods.Email,'Email'),PasswordMethods.Email,'Email');var LoginForm=function LoginForm(){var _a,_b;var config=useConfig();var otpMethods=(_b=(_a=config===null||config===void 0?void 0:config.otpOptions)===null||_a===void 0?void 0:_a.methods)!==null&&_b!==void 0?_b:[];var hasEmailMagicLink=config.products.includes(Products.emailMagicLinks);var hasOTPEmail=config.products.includes(Products.otp)&&otpMethods.includes(OTPMethods.Email);var hasPassword=config.products.includes(Products.passwords);var tabMethods=hasEmailMagicLink?[].concat(_toConsumableArray(otpMethods),[MagicLinkMethods.Email]):otpMethods;tabMethods=hasPassword?[].concat(_toConsumableArray(tabMethods),[PasswordMethods.Email]):tabMethods;var _usePromptPasskey=usePromptPasskey({conditionalMediation:true}),promptAutofill=_usePromptPasskey.promptAutofill;promptAutofill();if(hasPassword&&hasEmailMagicLink)tabMethods=tabMethods.filter(function(method){return method!==MagicLinkMethods.Email;});if(hasPassword&&hasOTPEmail)tabMethods=tabMethods.filter(function(method){return method!==OTPMethods.Email;});var _h$43=h$5(tabMethods[0]),_h$44=_slicedToArray2(_h$43,2),currentTab=_h$44[0],setCurrentTab=_h$44[1];if(hasEmailMagicLink&&hasOTPEmail)return/*#__PURE__*/wn.createElement(Text,{size:\"helper\"},\"Error: Cannot use both EML and Email OTP\");var TabMethodToComponent=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},OTPMethods.Email,OTPEmailForm),OTPMethods.WhatsApp,function(){return/*#__PURE__*/wn.createElement(PhoneForm,{method:OTPMethods.WhatsApp});}),OTPMethods.SMS,function(){return/*#__PURE__*/wn.createElement(PhoneForm,{method:OTPMethods.SMS});}),MagicLinkMethods.Email,MagicLinkEmailForm),PasswordMethods.Email,PasswordsEmailForm);return/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(AlertBox,{variant:'warning'}),/*#__PURE__*/wn.createElement(Root,{value:currentTab,onValueChange:function onValueChange(value){return setCurrentTab(value);}},tabMethods.length>1&&(/*#__PURE__*/wn.createElement(TabList,{\"aria-label\":\"otp-tabs\"},tabMethods.map(function(method){return/*#__PURE__*/wn.createElement(TabTrigger,{value:method,key:method,\"$active\":method===currentTab},OTPTabHeaders[method]);}))),tabMethods.map(function(method){var Component=TabMethodToComponent[method];return/*#__PURE__*/wn.createElement(Content,{value:method,key:method},/*#__PURE__*/wn.createElement(Component,null));})));};var WalletButton=function WalletButton(props){return/*#__PURE__*/wn.createElement(Button,{id:\"wallet-\".concat(props.walletTypeTitle),type:\"button\",onClick:props.onClick,variant:\"outlined\"},/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\",alignItems:\"center\",gap:4},props.icon,/*#__PURE__*/wn.createElement(\"span\",{style:{verticalAlign:'middle'}},props.walletTypeTitle)));};function base(ALPHABET){if(ALPHABET.length>=255){throw new TypeError('Alphabet too long');}var BASE_MAP=new Uint8Array(256);for(var j=0;j<BASE_MAP.length;j++){BASE_MAP[j]=255;}for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i);var xc=x.charCodeAt(0);if(BASE_MAP[xc]!==255){throw new TypeError(x+' is ambiguous');}BASE_MAP[xc]=i;}var BASE=ALPHABET.length;var LEADER=ALPHABET.charAt(0);var FACTOR=Math.log(BASE)/Math.log(256);var iFACTOR=Math.log(256)/Math.log(BASE);function encode(source){if(source instanceof Uint8Array);else if(ArrayBuffer.isView(source)){source=new Uint8Array(source.buffer,source.byteOffset,source.byteLength);}else if(Array.isArray(source)){source=Uint8Array.from(source);}if(!(source instanceof Uint8Array)){throw new TypeError('Expected Uint8Array');}if(source.length===0){return'';}var zeroes=0;var length=0;var pbegin=0;var pend=source.length;while(pbegin!==pend&&source[pbegin]===0){pbegin++;zeroes++;}var size=(pend-pbegin)*iFACTOR+1>>>0;var b58=new Uint8Array(size);while(pbegin!==pend){var carry=source[pbegin];var i=0;for(var it1=size-1;(carry!==0||i<length)&&it1!==-1;it1--,i++){carry+=256*b58[it1]>>>0;b58[it1]=carry%BASE>>>0;carry=carry/BASE>>>0;}if(carry!==0){throw new Error('Non-zero carry');}length=i;pbegin++;}var it2=size-length;while(it2!==size&&b58[it2]===0){it2++;}var str=LEADER.repeat(zeroes);for(;it2<size;++it2){str+=ALPHABET.charAt(b58[it2]);}return str;}function decodeUnsafe(source){if(typeof source!=='string'){throw new TypeError('Expected String');}if(source.length===0){return new Uint8Array();}var psz=0;var zeroes=0;var length=0;while(source[psz]===LEADER){zeroes++;psz++;}var size=(source.length-psz)*FACTOR+1>>>0;var b256=new Uint8Array(size);while(source[psz]){var carry=BASE_MAP[source.charCodeAt(psz)];if(carry===255){return;}var i=0;for(var it3=size-1;(carry!==0||i<length)&&it3!==-1;it3--,i++){carry+=BASE*b256[it3]>>>0;b256[it3]=carry%256>>>0;carry=carry/256>>>0;}if(carry!==0){throw new Error('Non-zero carry');}length=i;psz++;}var it4=size-length;while(it4!==size&&b256[it4]===0){it4++;}var vch=new Uint8Array(zeroes+(size-it4));var j=zeroes;while(it4!==size){vch[j++]=b256[it4++];}return vch;}function decode(string){var buffer=decodeUnsafe(string);if(buffer){return buffer;}throw new Error('Non-base'+BASE+' character');}return{encode:encode,decodeUnsafe:decodeUnsafe,decode:decode};}var src=base;var basex=src;var ALPHABET='123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';var bs58=basex(ALPHABET);var PhantomIconSvg=function PhantomIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20Z\",fill:\"url(#paint0_linear_2_2)\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M17.2787 10.1428H15.4909C15.4909 6.5258 12.527 3.59375 8.87068 3.59375C5.25956 3.59375 2.32368 6.45402 2.25184 10.0091C2.1775 13.6839 5.66265 16.875 9.3779 16.875H9.84521C13.1207 16.875 17.5108 14.3385 18.1967 11.248C18.3234 10.6783 17.8684 10.1428 17.2787 10.1428ZM6.21389 10.304C6.21389 10.7877 5.81398 11.1833 5.32503 11.1833C4.83607 11.1833 4.43618 10.7875 4.43618 10.304V8.88147C4.43618 8.39777 4.83607 8.00217 5.32503 8.00217C5.81398 8.00217 6.21389 8.39777 6.21389 8.88147V10.304ZM9.30037 10.304C9.30037 10.7877 8.90048 11.1833 8.41153 11.1833C7.92257 11.1833 7.52267 10.7875 7.52267 10.304V8.88147C7.52267 8.39777 7.92275 8.00217 8.41153 8.00217C8.90048 8.00217 9.30037 8.39777 9.30037 8.88147V10.304Z\",fill:\"url(#paint1_linear_2_2)\"}),/*#__PURE__*/wn.createElement(\"defs\",null,/*#__PURE__*/wn.createElement(\"linearGradient\",{id:\"paint0_linear_2_2\",x1:\"10\",y1:\"0\",x2:\"10\",y2:\"20\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/wn.createElement(\"stop\",{stopColor:\"#534BB1\"}),/*#__PURE__*/wn.createElement(\"stop\",{offset:\"1\",stopColor:\"#551BF9\"})),/*#__PURE__*/wn.createElement(\"linearGradient\",{id:\"paint1_linear_2_2\",x1:\"10.2343\",y1:\"3.59375\",x2:\"10.2343\",y2:\"16.875\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/wn.createElement(\"stop\",{stopColor:\"white\"}),/*#__PURE__*/wn.createElement(\"stop\",{offset:\"1\",stopColor:\"white\",stopOpacity:\"0.82\"}))));};var PhantomIcon=CreateIcon(PhantomIconSvg);var MetamaskIconSvg=function MetamaskIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M17.2065 2.22849L10.9604 6.86753L12.1155 4.13056L17.2065 2.22849Z\",fill:\"#E2761B\",stroke:\"#E2761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M2.78717 2.22849L8.98303 6.91147L7.88447 4.13056L2.78717 2.22849Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.9592 12.9818L13.2957 15.5304L16.855 16.5097L17.8782 13.0383L14.9592 12.9818Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M2.12805 13.0383L3.145 16.5097L6.70432 15.5304L5.04079 12.9818L2.12805 13.0383Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.50344 8.67544L5.5116 10.1757L9.04581 10.3327L8.92026 6.53482L6.50344 8.67544Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M13.4903 8.67543L11.0421 6.49088L10.9604 10.3327L14.4884 10.1757L13.4903 8.67543Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.70432 15.5304L8.8261 14.4946L6.99308 13.0634L6.70432 15.5304Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M11.1676 14.4946L13.2957 15.5304L13.0006 13.0634L11.1676 14.4946Z\",fill:\"#E4761B\",stroke:\"#E4761B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M13.2957 15.5304L11.1676 14.4947L11.3371 15.882L11.3183 16.4658L13.2957 15.5304Z\",fill:\"#D7C1B3\",stroke:\"#D7C1B3\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.70435 15.5304L8.68175 16.4658L8.66919 15.882L8.82613 14.4947L6.70435 15.5304Z\",fill:\"#D7C1B3\",stroke:\"#D7C1B3\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M8.71312 12.1469L6.94287 11.6259L8.19209 11.0546L8.71312 12.1469Z\",fill:\"#233447\",stroke:\"#233447\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M11.2806 12.1469L11.8016 11.0546L13.0571 11.6259L11.2806 12.1469Z\",fill:\"#233447\",stroke:\"#233447\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.70433 15.5305L7.00565 12.9818L5.0408 13.0383L6.70433 15.5305Z\",fill:\"#CD6116\",stroke:\"#CD6116\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.9944 12.9818L13.2957 15.5305L14.9592 13.0383L12.9944 12.9818Z\",fill:\"#CD6116\",stroke:\"#CD6116\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.4884 10.1758L10.9604 10.3327L11.2869 12.1469L11.8079 11.0546L13.0634 11.6259L14.4884 10.1758Z\",fill:\"#CD6116\",stroke:\"#CD6116\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.94289 11.6259L8.19838 11.0546L8.71313 12.1469L9.04584 10.3327L5.51163 10.1758L6.94289 11.6259Z\",fill:\"#CD6116\",stroke:\"#CD6116\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M5.51163 10.1758L6.99311 13.0634L6.94289 11.6259L5.51163 10.1758Z\",fill:\"#E4751F\",stroke:\"#E4751F\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M13.0634 11.6259L13.0006 13.0634L14.4884 10.1758L13.0634 11.6259Z\",fill:\"#E4751F\",stroke:\"#E4751F\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M9.04584 10.3327L8.71313 12.1469L9.12745 14.2875L9.22161 11.469L9.04584 10.3327Z\",fill:\"#E4751F\",stroke:\"#E4751F\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M10.9605 10.3327L10.791 11.4627L10.8663 14.2875L11.2869 12.1469L10.9605 10.3327Z\",fill:\"#E4751F\",stroke:\"#E4751F\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M11.2869 12.1469L10.8663 14.2875L11.1676 14.4947L13.0006 13.0634L13.0634 11.6259L11.2869 12.1469Z\",fill:\"#F6851B\",stroke:\"#F6851B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.94287 11.6259L6.99309 13.0634L8.82611 14.4947L9.12743 14.2875L8.71312 12.1469L6.94287 11.6259Z\",fill:\"#F6851B\",stroke:\"#F6851B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M11.3183 16.4658L11.3371 15.882L11.1802 15.7439H8.81357L8.66919 15.882L8.68175 16.4658L6.70435 15.5305L7.39487 16.0954L8.79474 17.0684H11.199L12.6052 16.0954L13.2957 15.5305L11.3183 16.4658Z\",fill:\"#C0AD9E\",stroke:\"#C0AD9E\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M11.1676 14.4947L10.8663 14.2875H9.12744L8.82613 14.4947L8.66919 15.882L8.81357 15.7439H11.1802L11.3371 15.882L11.1676 14.4947Z\",fill:\"#161616\",stroke:\"#161616\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M17.4702 7.16885L18.0038 4.60764L17.2066 2.22849L11.1676 6.71059L13.4903 8.67544L16.7734 9.63589L17.5016 8.78843L17.1877 8.56245L17.6899 8.10419L17.3007 7.80287L17.8029 7.41995L17.4702 7.16885Z\",fill:\"#763D16\",stroke:\"#763D16\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M1.99625 4.60764L2.52983 7.16885L2.19085 7.41995L2.69304 7.80287L2.31012 8.10419L2.81232 8.56245L2.49844 8.78843L3.22035 9.63589L6.50347 8.67544L8.82613 6.71059L2.78721 2.22849L1.99625 4.60764Z\",fill:\"#763D16\",stroke:\"#763D16\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M16.7734 9.6359L13.4903 8.67545L14.4884 10.1758L13.0006 13.0634L14.9592 13.0383H17.8782L16.7734 9.6359Z\",fill:\"#F6851B\",stroke:\"#F6851B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M6.50344 8.67545L3.22033 9.6359L2.12805 13.0383H5.0408L6.99309 13.0634L5.51161 10.1758L6.50344 8.67545Z\",fill:\"#F6851B\",stroke:\"#F6851B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M10.9604 10.3327L11.1676 6.71062L12.1218 4.13058H7.88449L8.82611 6.71062L9.04582 10.3327L9.12115 11.4752L9.12743 14.2875H10.8663L10.8788 11.4752L10.9604 10.3327Z\",fill:\"#F6851B\",stroke:\"#F6851B\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}));};var MetamaskIcon=CreateIcon(MetamaskIconSvg);var VesselIconSvg=function VesselIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 21 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"g\",{clipPath:\"url(#clip0_517_6831)\"},/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M11.602 3.2325C7.99856 3.2325 4.36714 6.58551 5.54083 11.2565L4.91376 11.414C3.6226 6.27561 7.64076 2.58594 11.602 2.58594C15.8216 2.58594 19.7562 6.44977 18.3304 11.5481L17.7077 11.374C19.0018 6.74671 15.4567 3.2325 11.602 3.2325Z\",fill:\"#2A384A\"}),/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M11.5988 1.29891C6.41566 1.29891 2.05244 6.14046 3.88531 12.8124L3.26184 12.9836C1.32182 5.92165 5.96682 0.652344 11.5988 0.652344C17.5841 0.652344 22.5861 6.77296 19.5889 13.4516L18.9991 13.1869C21.7871 6.97427 17.1579 1.29891 11.5988 1.29891Z\",fill:\"#2A384A\"}),/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M8.17894 6.94622C7.48133 7.91408 7.24057 9.10031 7.36887 9.96188C7.39522 10.1385 7.27334 10.303 7.09673 10.3292C6.92019 10.3555 6.75568 10.2337 6.72938 10.0571C6.57532 9.0227 6.86195 7.6676 7.65447 6.56814C8.4568 5.45497 9.77856 4.60352 11.6727 4.60352C13.3065 4.60352 14.641 5.40696 15.4926 6.51476C16.3399 7.61698 16.7272 9.0444 16.4408 10.3222C16.4018 10.4965 16.2289 10.606 16.0547 10.567C15.8804 10.5279 15.7709 10.355 15.8099 10.1808C16.0479 9.11899 15.7297 7.88408 14.98 6.9088C14.2346 5.93917 13.0806 5.25008 11.6727 5.25008C9.99793 5.25008 8.86673 5.99201 8.17894 6.94622Z\",fill:\"#2A384A\"}),/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M19.521 14.6751C19.5048 11.7314 16.1357 10.3576 16.1357 10.3576H13.8259L12.9183 8.46875H11.5936H10.2689L9.36128 10.3576H6.91197L4.36073 12.1829L2.74168 10.3576H0.877319L2.15294 13.7625L0.877319 14.6751L2.15294 15.5981L0.877319 19.0416H2.74168L4.36073 17.1956L6.91197 19.0416H16.1357C16.1357 19.0416 19.5371 17.6188 19.521 14.6751ZM7.69518 15.9039C8.38612 15.9039 8.94625 15.3438 8.94625 14.6528C8.94625 13.9618 8.38612 13.4017 7.69518 13.4017C7.00423 13.4017 6.4441 13.9618 6.4441 14.6528C6.4441 15.3438 7.00423 15.9039 7.69518 15.9039ZM12.8871 14.6528C12.8871 15.3438 12.327 15.9039 11.6361 15.9039C10.9451 15.9039 10.385 15.3438 10.385 14.6528C10.385 13.9618 10.9451 13.4017 11.6361 13.4017C12.327 13.4017 12.8871 13.9618 12.8871 14.6528ZM15.5893 15.9039C16.2803 15.9039 16.8405 15.3438 16.8405 14.6528C16.8405 13.9618 16.2803 13.4017 15.5893 13.4017C14.8984 13.4017 14.3383 13.9618 14.3383 14.6528C14.3383 15.3438 14.8984 15.9039 15.5893 15.9039Z\",fill:\"url(#paint0_linear_517_6831)\"}),/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M11.2704 6.78422C11.2704 6.60567 11.4151 6.46094 11.5936 6.46094H12.858C13.0365 6.46094 13.1813 6.60567 13.1813 6.78422C13.1813 6.96273 13.0365 7.10751 12.858 7.10751H11.9169V8.14474H12.9183C13.0426 8.14474 13.1558 8.216 13.2097 8.32801L14.0293 10.0337H16.1357C16.1775 10.0337 16.219 10.0418 16.2577 10.0576L16.1357 10.3569C16.2577 10.0576 16.2579 10.0576 16.258 10.0577L16.2584 10.0578L16.2592 10.0582L16.2619 10.0593C16.2641 10.0602 16.2672 10.0615 16.271 10.0631C16.2786 10.0663 16.2893 10.0709 16.303 10.0768C16.3302 10.0887 16.3691 10.1061 16.418 10.1291C16.5158 10.1751 16.6538 10.2434 16.8188 10.3347C17.148 10.5167 17.5883 10.7919 18.0306 11.1646C18.9106 11.906 19.8355 13.0668 19.8443 14.6727C19.8531 16.2802 18.9272 17.4542 18.0442 18.2075C17.6001 18.5863 17.157 18.8677 16.8255 19.0544C16.6594 19.1479 16.5203 19.2181 16.4218 19.2655C16.3725 19.2891 16.3333 19.3071 16.3058 19.3193C16.2921 19.3255 16.2814 19.3302 16.2737 19.3335C16.2699 19.3352 16.2669 19.3364 16.2647 19.3374L16.2619 19.3386L16.261 19.339L16.2607 19.3391C16.2606 19.3391 16.2604 19.3392 16.1357 19.041L16.2604 19.3392C16.2209 19.3557 16.1786 19.3642 16.1357 19.3642H6.91201C6.84396 19.3642 6.77763 19.3427 6.72249 19.3029L4.40973 17.6294L2.98477 19.2541C2.92339 19.3241 2.83482 19.3642 2.74172 19.3642H0.877361C0.77156 19.3642 0.672454 19.3125 0.612017 19.2256C0.551579 19.1388 0.537458 19.0278 0.57421 18.9286L1.76453 15.7154L0.687849 14.9363C0.603584 14.8754 0.553802 14.7776 0.55408 14.6735C0.554359 14.5695 0.604664 14.472 0.689255 14.4115L1.76328 13.6431L0.574628 10.4703C0.537435 10.3711 0.551278 10.2599 0.611676 10.1727C0.672073 10.0856 0.771349 10.0337 0.877361 10.0337H2.74172C2.83418 10.0337 2.92222 10.0732 2.98357 10.1424L4.40944 11.7499L6.7239 10.094C6.77877 10.0547 6.84453 10.0337 6.91201 10.0337H9.15798L9.97754 8.32801C10.0314 8.216 10.1447 8.14474 10.2689 8.14474H11.2704V6.78422ZM10.4723 8.79135L9.87534 10.0337H13.3119L12.715 8.79135H10.4723ZM7.01572 10.6802L2.34109 14.0247C2.34102 14.0247 2.34097 14.0248 2.34091 14.0248L1.43088 14.6759L2.34249 15.3355C2.34254 15.3356 2.3426 15.3356 2.34266 15.3356L4.54971 16.9326C4.5499 16.9327 4.55009 16.9329 4.55029 16.933L7.01673 18.7176H16.0672C16.0873 18.7085 16.1123 18.6968 16.1419 18.6827C16.2293 18.6407 16.3558 18.5768 16.5083 18.4909C16.814 18.3188 17.2203 18.0605 17.6246 17.7156C18.4382 17.0215 19.205 16.0124 19.1977 14.6762C19.1904 13.3383 18.4226 12.3403 17.614 11.659C17.2119 11.3203 16.8089 11.068 16.506 10.9005C16.3548 10.8169 16.2295 10.755 16.143 10.7143C16.1135 10.7005 16.0886 10.6891 16.0687 10.6802H7.01572ZM3.88361 17.2487L2.30828 16.1088L1.34187 18.7176H2.59526L3.88361 17.2487ZM2.30778 13.2535L3.88071 12.1282L2.59634 10.6802H1.3437L2.30778 13.2535ZM7.69522 13.7243C7.18283 13.7243 6.76743 14.1397 6.76743 14.6521C6.76743 15.1645 7.18283 15.5799 7.69522 15.5799C8.20761 15.5799 8.62302 15.1645 8.62302 14.6521C8.62302 14.1397 8.20761 13.7243 7.69522 13.7243ZM6.12086 14.6521C6.12086 13.7826 6.82572 13.0778 7.69522 13.0778C8.56471 13.0778 9.26962 13.7826 9.26962 14.6521C9.26962 15.5216 8.56471 16.2264 7.69522 16.2264C6.82572 16.2264 6.12086 15.5216 6.12086 14.6521ZM10.0617 14.6521C10.0617 13.7826 10.7666 13.0778 11.6361 13.0778C12.5056 13.0778 13.2104 13.7826 13.2104 14.6521C13.2104 15.5216 12.5056 16.2264 11.6361 16.2264C10.7666 16.2264 10.0617 15.5216 10.0617 14.6521ZM11.6361 13.7243C11.1236 13.7243 10.7083 14.1397 10.7083 14.6521C10.7083 15.1645 11.1236 15.5799 11.6361 15.5799C12.1485 15.5799 12.5639 15.1645 12.5639 14.6521C12.5639 14.1397 12.1485 13.7243 11.6361 13.7243ZM15.5894 13.7243C15.077 13.7243 14.6616 14.1397 14.6616 14.6521C14.6616 15.1645 15.077 15.5799 15.5894 15.5799C16.1018 15.5799 16.5172 15.1645 16.5172 14.6521C16.5172 14.1397 16.1018 13.7243 15.5894 13.7243ZM14.015 14.6521C14.015 13.7826 14.7199 13.0778 15.5894 13.0778C16.4589 13.0778 17.1638 13.7826 17.1638 14.6521C17.1638 15.5216 16.4589 16.2264 15.5894 16.2264C14.7199 16.2264 14.015 15.5216 14.015 14.6521Z\",fill:\"#2A384A\"})),/*#__PURE__*/wn.createElement(\"defs\",null,/*#__PURE__*/wn.createElement(\"linearGradient\",{id:\"paint0_linear_517_6831\",x1:\"10.2255\",y1:\"6.04818\",x2:\"8.95738\",y2:\"20.334\",gradientUnits:\"userSpaceOnUse\"},/*#__PURE__*/wn.createElement(\"stop\",{stopColor:\"#FFFF82\"}),/*#__PURE__*/wn.createElement(\"stop\",{offset:\"1\",stopColor:\"#FF99B4\"})),/*#__PURE__*/wn.createElement(\"clipPath\",{id:\"clip0_517_6831\"},/*#__PURE__*/wn.createElement(\"rect\",{width:\"20\",height:\"18.805\",fill:\"white\",transform:\"translate(0.5 0.597656)\"}))));};var VesselIcon=CreateIcon(VesselIconSvg);var BinanceIconSvg=function BinanceIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M20 0H0V20H20V0Z\",fill:\"#14151A\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M7.26562 10L6.13281 11.1328L5 10L6.13281 8.86719L7.26562 10ZM10 7.25781L11.9375 9.19531L13.0703 8.0625L11.1328 6.13281L10 5L8.875 6.13281L6.9375 8.0625L8.07031 9.19531L10 7.25781ZM13.8672 8.875L12.7422 10L13.875 11.1328L15 10L13.8672 8.875ZM10 12.7422L8.0625 10.8047L6.9375 11.9375L8.875 13.875L10 15L11.1328 13.8672L13.0703 11.9297L11.9375 10.8047L10 12.7422ZM10 11.125L11.1328 10L10 8.86719L8.875 10L10 11.125Z\",fill:\"#F0B90B\"}));};var BinanceIcon=CreateIcon(BinanceIconSvg);var GenericWalletIconSvg=function GenericWalletIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 20 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M18.5 4.28V2C18.5 0.9 17.6 0 16.5 0H2.5C1.39 0 0.5 0.9 0.5 2V16C0.5 17.1 1.39 18 2.5 18H16.5C17.6 18 18.5 17.1 18.5 16V13.72C19.09 13.37 19.5 12.74 19.5 12V6C19.5 5.26 19.09 4.63 18.5 4.28ZM17.5 6V12H10.5V6H17.5ZM2.5 16V2H16.5V4H10.5C9.4 4 8.5 4.9 8.5 6V12C8.5 13.1 9.4 14 10.5 14H16.5V16H2.5Z\",fill:\"black\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M13.5 10.5C14.3284 10.5 15 9.82843 15 9C15 8.17157 14.3284 7.5 13.5 7.5C12.6716 7.5 12 8.17157 12 9C12 9.82843 12.6716 10.5 13.5 10.5Z\",fill:\"black\"}));};var GenericWalletIcon=CreateIcon(GenericWalletIconSvg);var hasMultipleEthereumWallets=function hasMultipleEthereumWallets(){var _a;return!!((_a=window.ethereum)===null||_a===void 0?void 0:_a.providers);};var hasMetaMask=function hasMetaMask(){var _a;return!!(hasMultipleEthereumWallets()?(_a=window.ethereum.providers)===null||_a===void 0?void 0:_a.find(function(wallet){return wallet.isMetaMask;}):window.ethereum.isMetaMask);};var hasCoinbaseWallet=function hasCoinbaseWallet(){var _a,_b;return!!(hasMultipleEthereumWallets()?(_a=window.ethereum.providers)===null||_a===void 0?void 0:_a.find(function(wallet){return wallet.isCoinbaseWallet;}):(_b=window.ethereum)===null||_b===void 0?void 0:_b.isCoinbaseWallet);};var hasOtherEthereumWallet=function hasOtherEthereumWallet(){return!hasMetaMask()&&!hasCoinbaseWallet()&&!!window.ethereum;};var getMetaMaskProvider=function getMetaMaskProvider(){var _a;return hasMultipleEthereumWallets()?(_a=window.ethereum.providers)===null||_a===void 0?void 0:_a.find(function(wallet){return wallet.isMetaMask;}):window.ethereum;};var getCoinbaseProvider=function getCoinbaseProvider(){var _a;return hasMultipleEthereumWallets()?(_a=window.ethereum.providers)===null||_a===void 0?void 0:_a.find(function(wallet){return wallet.isCoinbaseWallet;}):window.ethereum;};var getOtherInjectedProvider=function getOtherInjectedProvider(){var _a;return(_a=window.ethereum.providers)===null||_a===void 0?void 0:_a.find(function(wallet){return!wallet.isCoinbaseWallet&&!wallet.isMetaMask;});};var WalletToIcon=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},Wallets.Phantom,PhantomIcon),Wallets.Vessel,VesselIcon),Wallets.Binance,BinanceIcon),Wallets.Coinbase,CoinbaseIcon),Wallets.Metamask,MetamaskIcon),Wallets.GenericEthereumWallet,GenericWalletIcon),Wallets.GenericSolanaWallet,GenericWalletIcon);var WalletToText=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},Wallets.Phantom,'Phantom'),Wallets.Vessel,'Vessel'),Wallets.Binance,'Binance'),Wallets.Coinbase,'Coinbase'),Wallets.Metamask,'Metamask'),Wallets.GenericEthereumWallet,'Other Ethereum Wallet'),Wallets.GenericSolanaWallet,'Other Solana Wallet');var isWalletVisible=function isWalletVisible(wallet){var _a,_b;switch(wallet){case Wallets.Metamask:return!!window.ethereum&&hasMetaMask();case Wallets.Phantom:return(_b=!!window.solana&&((_a=window.solana)===null||_a===void 0?void 0:_a.isPhantom))!==null&&_b!==void 0?_b:false;case Wallets.Vessel:return!!window.vessel;case Wallets.Binance:return!!window.BinanceChain;case Wallets.Coinbase:return!!window.ethereum&&hasCoinbaseWallet();case Wallets.GenericEthereumWallet:return!!window.ethereum&&hasOtherEthereumWallet();case Wallets.GenericSolanaWallet:return!!window.solana&&!window.solana.isPhantom;default:return false;}};var connectWithEthereumProvider=function connectWithEthereumProvider(request){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee77(){var _yield$request,_yield$request2,address;return _regeneratorRuntime2().wrap(function _callee77$(_context77){while(1)switch(_context77.prev=_context77.next){case 0:_context77.next=2;return request({method:'eth_requestAccounts'});case 2:_yield$request=_context77.sent;_yield$request2=_slicedToArray2(_yield$request,1);address=_yield$request2[0];return _context77.abrupt(\"return\",address);case 6:case\"end\":return _context77.stop();}},_callee77);}));};var connectWithWallet=function connectWithWallet(_ref74){var wallet=_ref74.wallet;return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee78(){var provider,connectResp,_provider,_yield$window$vessel$,_yield$window$vessel$2,response,_provider2,_provider3,_connectResp;return _regeneratorRuntime2().wrap(function _callee78$(_context78){while(1)switch(_context78.prev=_context78.next){case 0:_context78.t0=wallet;_context78.next=_context78.t0===Wallets.Metamask?3:_context78.t0===Wallets.Phantom?5:_context78.t0===Wallets.Binance?9:_context78.t0===Wallets.Vessel?11:_context78.t0===Wallets.Coinbase?17:_context78.t0===Wallets.GenericEthereumWallet?19:_context78.t0===Wallets.GenericSolanaWallet?21:25;break;case 3:provider=getMetaMaskProvider();return _context78.abrupt(\"return\",(provider===null||provider===void 0?void 0:provider.request)?connectWithEthereumProvider(provider===null||provider===void 0?void 0:provider.request):'');case 5:_context78.next=7;return window.solana.connect();case 7:connectResp=_context78.sent;return _context78.abrupt(\"return\",connectResp.publicKey.toString());case 9:_provider=window.BinanceChain;return _context78.abrupt(\"return\",(_provider===null||_provider===void 0?void 0:_provider.request)?connectWithEthereumProvider(_provider===null||_provider===void 0?void 0:_provider.request):'');case 11:_context78.next=13;return window.vessel.ethereum.request({method:'eth_requestAccounts'});case 13:_yield$window$vessel$=_context78.sent;_yield$window$vessel$2=_slicedToArray2(_yield$window$vessel$,1);response=_yield$window$vessel$2[0];return _context78.abrupt(\"return\",response);case 17:_provider2=getCoinbaseProvider();return _context78.abrupt(\"return\",(_provider2===null||_provider2===void 0?void 0:_provider2.request)?connectWithEthereumProvider(_provider2===null||_provider2===void 0?void 0:_provider2.request):'');case 19:_provider3=getOtherInjectedProvider();return _context78.abrupt(\"return\",(_provider3===null||_provider3===void 0?void 0:_provider3.request)?connectWithEthereumProvider(_provider3===null||_provider3===void 0?void 0:_provider3.request):'');case 21:_context78.next=23;return window.solana.connect();case 23:_connectResp=_context78.sent;return _context78.abrupt(\"return\",_connectResp.publicKey.toString());case 25:return _context78.abrupt(\"return\",'');case 26:case\"end\":return _context78.stop();}},_callee78);}));};var signMessageWithSolanaProvider=function signMessageWithSolanaProvider(message){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee79(){var encodedMessage,signResp;return _regeneratorRuntime2().wrap(function _callee79$(_context79){while(1)switch(_context79.prev=_context79.next){case 0:encodedMessage=new TextEncoder().encode(message);_context79.next=3;return window.solana.request({method:'signMessage',params:{message:encodedMessage,display:'utf8'}});case 3:signResp=_context79.sent;return _context79.abrupt(\"return\",bs58.encode(signResp.signature));case 5:case\"end\":return _context79.stop();}},_callee79);}));};var signMessageWithEthereumProvider=function signMessageWithEthereumProvider(request,message,address){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee80(){var signature;return _regeneratorRuntime2().wrap(function _callee80$(_context80){while(1)switch(_context80.prev=_context80.next){case 0:_context80.next=2;return request({method:'personal_sign',params:[message,address]});case 2:signature=_context80.sent;return _context80.abrupt(\"return\",signature);case 4:case\"end\":return _context80.stop();}},_callee80);}));};var signMessageWithWallet=function signMessageWithWallet(_ref75){var wallet=_ref75.wallet,message=_ref75.message,address=_ref75.address;return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee81(){var provider,_provider4,_provider5,_provider6;return _regeneratorRuntime2().wrap(function _callee81$(_context81){while(1)switch(_context81.prev=_context81.next){case 0:_context81.t0=wallet;_context81.next=_context81.t0===Wallets.Phantom?3:_context81.t0===Wallets.GenericSolanaWallet?3:_context81.t0===Wallets.Metamask?4:_context81.t0===Wallets.Vessel?6:_context81.t0===Wallets.Binance?7:_context81.t0===Wallets.Coinbase?9:_context81.t0===Wallets.GenericEthereumWallet?11:13;break;case 3:return _context81.abrupt(\"return\",signMessageWithSolanaProvider(message));case 4:provider=getMetaMaskProvider();return _context81.abrupt(\"return\",(provider===null||provider===void 0?void 0:provider.request)?signMessageWithEthereumProvider(provider===null||provider===void 0?void 0:provider.request,message,address):'');case 6:return _context81.abrupt(\"return\",signMessageWithEthereumProvider(window.vessel.ethereum.request,message,address));case 7:_provider4=window.BinanceChain;return _context81.abrupt(\"return\",(_provider4===null||_provider4===void 0?void 0:_provider4.request)?signMessageWithEthereumProvider(_provider4===null||_provider4===void 0?void 0:_provider4.request,message,address):'');case 9:_provider5=getCoinbaseProvider();return _context81.abrupt(\"return\",(_provider5===null||_provider5===void 0?void 0:_provider5.request)?signMessageWithEthereumProvider(_provider5===null||_provider5===void 0?void 0:_provider5.request,message,address):'');case 11:_provider6=getOtherInjectedProvider();return _context81.abrupt(\"return\",(_provider6===null||_provider6===void 0?void 0:_provider6.request)?signMessageWithEthereumProvider(_provider6===null||_provider6===void 0?void 0:_provider6.request,message,address):'');case 13:return _context81.abrupt(\"return\",'');case 14:case\"end\":return _context81.stop();}},_callee81);}));};var isSolanaWallet=function isSolanaWallet(wallet){return[Wallets.Phantom,Wallets.GenericSolanaWallet].includes(wallet);};var MAX_BUTTONS=6;var SetupButton=He.button(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n  all: unset;\\n  width: 100%;\\n  cursor: pointer;\\n  text-align: center;\\n  font-weight: 600;\\n\"])));var CryptoWalletButtons=function CryptoWalletButtons(_ref76){var type=_ref76.type;var _a,_b;var _useGlobalReducer15=useGlobalReducer(),_useGlobalReducer16=_slicedToArray2(_useGlobalReducer15,2),state=_useGlobalReducer16[0],dispatch=_useGlobalReducer16[1];var config=useConfig();var oAuthOptions=(_b=(_a=config.oauthOptions)===null||_a===void 0?void 0:_a.providers.length)!==null&&_b!==void 0?_b:0;var cryptoButtonsOnMainScreen=MAX_BUTTONS-oAuthOptions-1;var onWalletStart=function onWalletStart(wallet){dispatch({type:'update_crypto_state',cryptoState:Object.assign(Object.assign({},state.formState.cryptoState),{walletOption:wallet})});dispatch({type:'transition',screen:AppScreens$1.CryptoConnect});};var allDetectedWallets=Object.keys(Wallets).filter(function(wallet){return isWalletVisible(Wallets[wallet]);});var renderOtherScreenButton=allDetectedWallets.length>cryptoButtonsOnMainScreen;var mainWallets=allDetectedWallets.slice(0,cryptoButtonsOnMainScreen);var otherWallet=allDetectedWallets.slice(cryptoButtonsOnMainScreen);var walletsToRender=type==='main'?mainWallets:otherWallet;var WalletIconComponent=function WalletIconComponent(_ref77){var wallet=_ref77.wallet;var Icon=WalletToIcon[wallet];return/*#__PURE__*/y$4(Icon,null);};return/*#__PURE__*/y$4(Flex,{direction:\"column\",gap:8,className:\"wallet-buttons\"},walletsToRender.map(function(wallet){return/*#__PURE__*/y$4(WalletButton,{key:wallet,icon:/*#__PURE__*/y$4(WalletIconComponent,{wallet:Wallets[wallet]}),walletTypeTitle:type==='main'?\"Continue with \".concat(WalletToText[Wallets[wallet]]):WalletToText[Wallets[wallet]],onClick:function onClick(){return onWalletStart(Wallets[wallet]);}});}),renderOtherScreenButton&&type==='main'?(/*#__PURE__*/y$4(WalletButton,{walletTypeTitle:\"Continue with other Crypto Wallet\",icon:/*#__PURE__*/y$4(WalletIconComponent,{wallet:Wallets.GenericEthereumWallet}),onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.CryptoOtherScreen});}})):(/*#__PURE__*/y$4(SetupButton,{type:\"button\",onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.CryptoSetupWallet});}},\"Set up a new crypto wallet\")));};var PasskeyIconSvg=function PasskeyIconSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M8.75 10C10.8211 10 12.5 8.32107 12.5 6.25C12.5 4.17893 10.8211 2.5 8.75 2.5C6.67893 2.5 5 4.17893 5 6.25C5 8.32107 6.67893 10 8.75 10Z\",fill:\"#19303D\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M18.7501 10.0001C18.7519 9.47774 18.6134 8.96445 18.349 8.51388C18.0847 8.06332 17.7041 7.69203 17.2472 7.43881C16.7903 7.18559 16.2738 7.05973 15.7516 7.07439C15.2294 7.08905 14.7207 7.24369 14.2787 7.52214C13.8367 7.8006 13.4776 8.19265 13.239 8.65733C13.0003 9.12202 12.8908 9.64227 12.9219 10.1637C12.9531 10.6852 13.1237 11.1887 13.416 11.6217C13.7082 12.0547 14.1114 12.4012 14.5834 12.6251V17.0835L15.8334 18.3335L17.9167 16.2501L16.6667 15.0001L17.9167 13.7501L16.8834 12.7168C17.4322 12.505 17.9042 12.1323 18.2373 11.6474C18.5704 11.1626 18.7492 10.5884 18.7501 10.0001ZM15.8334 10.0001C15.6686 10.0001 15.5075 9.95126 15.3704 9.85969C15.2334 9.76812 15.1266 9.63797 15.0635 9.4857C15.0004 9.33343 14.9839 9.16587 15.0161 9.00422C15.0482 8.84257 15.1276 8.69409 15.2441 8.57754C15.3607 8.461 15.5092 8.38163 15.6708 8.34948C15.8325 8.31732 16 8.33383 16.1523 8.3969C16.3046 8.45997 16.4347 8.56678 16.5263 8.70382C16.6179 8.84086 16.6667 9.00198 16.6667 9.1668C16.6667 9.38781 16.5789 9.59977 16.4227 9.75605C16.2664 9.91233 16.0544 10.0001 15.8334 10.0001Z\",fill:\"#19303D\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M12.0333 11.6833C11.3934 11.398 10.7007 11.2504 10 11.25H7.5C6.17392 11.25 4.90215 11.7768 3.96447 12.7145C3.02678 13.6521 2.5 14.9239 2.5 16.25V17.9167H13.3333V13.325C12.7713 12.8933 12.3248 12.3293 12.0333 11.6833Z\",fill:\"#19303D\"}));};var PasskeysIcon=CreateIcon(PasskeyIconSvg);var PasskeyButton=function PasskeyButton(){var _usePromptPasskey2=usePromptPasskey({conditionalMediation:false}),prompt=_usePromptPasskey2.prompt;return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"outlined\",onClick:prompt},/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\",alignItems:\"center\",gap:4},/*#__PURE__*/wn.createElement(PasskeysIcon,null),/*#__PURE__*/wn.createElement(\"span\",{style:{verticalAlign:'middle'}},\"Login with a Passkey\"))));};var Container$1=He(Flex)(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n  .oauth-buttons + .wallet-buttons {\\n    margin-top: 8px;\\n  }\\n  .wallet-buttons + .oauth-buttons {\\n    margin-top: 8px;\\n  }\\n  > * + * {\\n    margin-top: 24px;\\n  }\\n\"])));var Logo=He.img(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\\n  max-height: 50px;\\n  max-width: 100px;\\n\"])));var MainScreen=function MainScreen(){var stytchClient=useStytch();var config=useConfig();var components=new Set();var _Ze=Ze(),displayHeader=_Ze.displayHeader,logo=_Ze.logo;var _h$45=h$5([]),_h$46=_slicedToArray2(_h$45,2),productComponents=_h$46[0],setProductComponents=_h$46[1];var products=config.products;var hasButtons=products.includes(Products.oauth)&&config.oauthOptions||products.includes(Products.crypto);var hasPasskeys=config.products.includes(Products.passkeys);var hasInput=products.includes(Products.emailMagicLinks)||products.includes(Products.otp)||products.includes(Products.passwords);p$6(function(){var loadProductComponents=function loadProductComponents(){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee82(){var ProductComponents,showDivider,browserSupportsAutofill;return _regeneratorRuntime2().wrap(function _callee82$(_context82){while(1)switch(_context82.prev=_context82.next){case 0:ProductComponents=config.products.map(function(product){switch(product){case Products.oauth:return/*#__PURE__*/wn.createElement(OAuthButtons,{key:product});case Products.crypto:return/*#__PURE__*/wn.createElement(CryptoWalletButtons,{type:\"main\",key:product});case Products.emailMagicLinks:return/*#__PURE__*/wn.createElement(LoginForm,{key:\"login-form\"});case Products.otp:return/*#__PURE__*/wn.createElement(LoginForm,{key:\"login-form\"});case Products.passwords:return/*#__PURE__*/wn.createElement(LoginForm,{key:\"login-form\"});}}).filter(function(component){var duplicate=components.has(component===null||component===void 0?void 0:component.key);components.add(component===null||component===void 0?void 0:component.key);return!duplicate;});showDivider=hasButtons&&hasInput;if(ProductComponents.length>1&&showDivider){ProductComponents.splice(ProductComponents.length-1,0,/*#__PURE__*/wn.createElement(Divider,{key:\"divider\"}));}if(!hasPasskeys){_context82.next=8;break;}_context82.next=6;return stytchClient.webauthn.browserSupportsAutofill();case 6:browserSupportsAutofill=_context82.sent;if(!browserSupportsAutofill||!hasInput){ProductComponents.splice(0,0,/*#__PURE__*/wn.createElement(PasskeyButton,{key:\"passkey-button\"}));}case 8:setProductComponents(ProductComponents);case 9:case\"end\":return _context82.stop();}},_callee82);}));};loadProductComponents();},[]);if(hasPasskeys&&products.length===1)return/*#__PURE__*/wn.createElement(Text,{size:\"helper\"},\"Error: Cannot use Passkeys by itself, please add another product to the config.\");return/*#__PURE__*/wn.createElement(Container$1,{direction:\"column\"},logo.logoImageUrl!==''&&(/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\"},/*#__PURE__*/wn.createElement(Logo,{src:logo.logoImageUrl}))),displayHeader&&(/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\"},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Sign up or log in\"))),productComponents.map(function(Component){return Component;}));};var e$1={data:\"\"},t$1=function t$1(t){return\"object\"==(typeof window===\"undefined\"?\"undefined\":_typeof2(window))?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e$1;},l$1=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n$1=/\\n+/g,o=function o(e,t){var r=\"\",l=\"\",a=\"\";var _loop2=function _loop2(_n5){var c=e[_n5];\"@\"==_n5[0]?\"i\"==_n5[1]?r=_n5+\" \"+c+\";\":l+=\"f\"==_n5[1]?o(c,_n5):_n5+\"{\"+o(c,\"k\"==_n5[1]?\"\":t)+\"}\":\"object\"==_typeof2(c)?l+=o(c,t?t.replace(/([^,])+/g,function(e){return _n5.replace(/(^:.*)|([^,])+/g,function(t){return /&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t;});}):_n5):null!=c&&(_n5=/^--/.test(_n5)?_n5:_n5.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(_n5,c):_n5+\":\"+c+\";\");};for(var _n5 in e){_loop2(_n5);}return r+(t&&a?t+\"{\"+a+\"}\":a)+l;},c={},s=function s(e){if(\"object\"==_typeof2(e)){var _t2=\"\";for(var _r4 in e)_t2+=_r4+s(e[_r4]);return _t2;}return e;},i=function i(e,t,r,_i4,p){var u=s(e),d=c[u]||(c[u]=function(e){var t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r;}(u));if(!c[d]){var _t3=u!==e?e:function(e){var t,r,o=[{}];for(;t=l$1.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n$1,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n$1,\" \").trim();return o[0];}(e);c[d]=o(p?_defineProperty({},\"@keyframes \"+d,_t3):_t3,r?\"\":\".\"+d);}var f=r&&c.g?c.g:null;return r&&(c.g=c[d]),function(e,t,r,l){l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e);}(c[d],t,_i4,f),d;},p$1=function p$1(e,t,r){return e.reduce(function(e,l,a){var n=t[a];if(n&&n.call){var _e4=n(r),_t4=_e4&&_e4.props&&_e4.props.className||/^go/.test(_e4)&&_e4;n=_t4?\".\"+_t4:_e4&&\"object\"==_typeof2(_e4)?_e4.props?\"\":o(_e4,\"\"):!1===_e4?\"\":_e4;}return e+l+(null==n?\"\":n);},\"\");};function u$1(e){var r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p$1(l,[].slice.call(arguments,1),r.p):l.reduce(function(e,t){return Object.assign(e,t&&t.call?t(r.p):t);},{}):l,t$1(r.target),r.g,r.o,r.k);}var d,f,g;u$1.bind({g:1});var h$1=u$1.bind({k:1});function m$1(e,t,r,l){o.p=t,d=e,f=r,g=l;}function j(e,t){var r=this||{};return function(){var l=arguments;function a(n,o){var c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u$1.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);var i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c);}return t?t(a):a;};}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _taggedTemplateLiteralLoose(strings,raw){if(!raw){raw=strings.slice(0);}strings.raw=raw;return strings;}var isFunction$1=function isFunction(valOrFunction){return typeof valOrFunction==='function';};var resolveValue=function resolveValue(valOrFunction,arg){return isFunction$1(valOrFunction)?valOrFunction(arg):valOrFunction;};var genId=/*#__PURE__*/function(){var count=0;return function(){return(++count).toString();};}();var createRectRef=function createRectRef(onRect){return function(el){if(el){setTimeout(function(){var boundingRect=el.getBoundingClientRect();onRect(boundingRect);});}};};var prefersReducedMotion=/*#__PURE__*/function(){var shouldReduceMotion=undefined;return function(){if(shouldReduceMotion===undefined&&typeof window!=='undefined'){var mediaQuery=matchMedia('(prefers-reduced-motion: reduce)');shouldReduceMotion=!mediaQuery||mediaQuery.matches;}return shouldReduceMotion;};}();var TOAST_LIMIT=20;var ActionType;(function(ActionType){ActionType[ActionType[\"ADD_TOAST\"]=0]=\"ADD_TOAST\";ActionType[ActionType[\"UPDATE_TOAST\"]=1]=\"UPDATE_TOAST\";ActionType[ActionType[\"UPSERT_TOAST\"]=2]=\"UPSERT_TOAST\";ActionType[ActionType[\"DISMISS_TOAST\"]=3]=\"DISMISS_TOAST\";ActionType[ActionType[\"REMOVE_TOAST\"]=4]=\"REMOVE_TOAST\";ActionType[ActionType[\"START_PAUSE\"]=5]=\"START_PAUSE\";ActionType[ActionType[\"END_PAUSE\"]=6]=\"END_PAUSE\";})(ActionType||(ActionType={}));var toastTimeouts=/*#__PURE__*/new Map();var addToRemoveQueue=function addToRemoveQueue(toastId){if(toastTimeouts.has(toastId)){return;}var timeout=setTimeout(function(){toastTimeouts[\"delete\"](toastId);dispatch({type:ActionType.REMOVE_TOAST,toastId:toastId});},1000);toastTimeouts.set(toastId,timeout);};var clearFromRemoveQueue=function clearFromRemoveQueue(toastId){var timeout=toastTimeouts.get(toastId);if(timeout){clearTimeout(timeout);}};var reducer=function reducer(state,action){switch(action.type){case ActionType.ADD_TOAST:return _extends({},state,{toasts:[action.toast].concat(state.toasts).slice(0,TOAST_LIMIT)});case ActionType.UPDATE_TOAST:if(action.toast.id){clearFromRemoveQueue(action.toast.id);}return _extends({},state,{toasts:state.toasts.map(function(t){return t.id===action.toast.id?_extends({},t,action.toast):t;})});case ActionType.UPSERT_TOAST:var toast=action.toast;return state.toasts.find(function(t){return t.id===toast.id;})?reducer(state,{type:ActionType.UPDATE_TOAST,toast:toast}):reducer(state,{type:ActionType.ADD_TOAST,toast:toast});case ActionType.DISMISS_TOAST:var toastId=action.toastId;if(toastId){addToRemoveQueue(toastId);}else{state.toasts.forEach(function(toast){addToRemoveQueue(toast.id);});}return _extends({},state,{toasts:state.toasts.map(function(t){return t.id===toastId||toastId===undefined?_extends({},t,{visible:false}):t;})});case ActionType.REMOVE_TOAST:if(action.toastId===undefined){return _extends({},state,{toasts:[]});}return _extends({},state,{toasts:state.toasts.filter(function(t){return t.id!==action.toastId;})});case ActionType.START_PAUSE:return _extends({},state,{pausedAt:action.time});case ActionType.END_PAUSE:var diff=action.time-(state.pausedAt||0);return _extends({},state,{pausedAt:undefined,toasts:state.toasts.map(function(t){return _extends({},t,{pauseDuration:t.pauseDuration+diff});})});}};var listeners=[];var memoryState={toasts:[],pausedAt:undefined};var dispatch=function dispatch(action){memoryState=reducer(memoryState,action);listeners.forEach(function(listener){listener(memoryState);});};var defaultTimeouts={blank:4000,error:4000,success:2000,loading:Infinity,custom:4000};var useStore=function useStore(toastOptions){if(toastOptions===void 0){toastOptions={};}var _useState=h$5(memoryState),state=_useState[0],setState=_useState[1];p$6(function(){listeners.push(setState);return function(){var index=listeners.indexOf(setState);if(index>-1){listeners.splice(index,1);}};},[state]);var mergedToasts=state.toasts.map(function(t){var _toastOptions$t$type,_toastOptions,_toastOptions$t$type2;return _extends({},toastOptions,toastOptions[t.type],t,{duration:t.duration||((_toastOptions$t$type=toastOptions[t.type])==null?void 0:_toastOptions$t$type.duration)||((_toastOptions=toastOptions)==null?void 0:_toastOptions.duration)||defaultTimeouts[t.type],style:_extends({},toastOptions.style,(_toastOptions$t$type2=toastOptions[t.type])==null?void 0:_toastOptions$t$type2.style,t.style)});});return _extends({},state,{toasts:mergedToasts});};var createToast=function createToast(message,type,opts){if(type===void 0){type='blank';}return _extends({createdAt:Date.now(),visible:true,type:type,ariaProps:{role:'status','aria-live':'polite'},message:message,pauseDuration:0},opts,{id:(opts==null?void 0:opts.id)||genId()});};var createHandler=function createHandler(type){return function(message,options){var toast=createToast(message,type,options);dispatch({type:ActionType.UPSERT_TOAST,toast:toast});return toast.id;};};var toast=function toast(message,opts){return createHandler('blank')(message,opts);};toast.error=/*#__PURE__*/createHandler('error');toast.success=/*#__PURE__*/createHandler('success');toast.loading=/*#__PURE__*/createHandler('loading');toast.custom=/*#__PURE__*/createHandler('custom');toast.dismiss=function(toastId){dispatch({type:ActionType.DISMISS_TOAST,toastId:toastId});};toast.remove=function(toastId){return dispatch({type:ActionType.REMOVE_TOAST,toastId:toastId});};toast.promise=function(promise,msgs,opts){var id=toast.loading(msgs.loading,_extends({},opts,opts==null?void 0:opts.loading));promise.then(function(p){toast.success(resolveValue(msgs.success,p),_extends({id:id},opts,opts==null?void 0:opts.success));return p;})[\"catch\"](function(e){toast.error(resolveValue(msgs.error,e),_extends({id:id},opts,opts==null?void 0:opts.error));});return promise;};var useToaster=function useToaster(toastOptions){var _useStore=useStore(toastOptions),toasts=_useStore.toasts,pausedAt=_useStore.pausedAt;p$6(function(){if(pausedAt){return;}var now=Date.now();var timeouts=toasts.map(function(t){if(t.duration===Infinity){return;}var durationLeft=(t.duration||0)+t.pauseDuration-(now-t.createdAt);if(durationLeft<0){if(t.visible){toast.dismiss(t.id);}return;}return setTimeout(function(){return toast.dismiss(t.id);},durationLeft);});return function(){timeouts.forEach(function(timeout){return timeout&&clearTimeout(timeout);});};},[toasts,pausedAt]);var handlers=F$4(function(){return{startPause:function startPause(){dispatch({type:ActionType.START_PAUSE,time:Date.now()});},endPause:function endPause(){if(pausedAt){dispatch({type:ActionType.END_PAUSE,time:Date.now()});}},updateHeight:function updateHeight(toastId,height){return dispatch({type:ActionType.UPDATE_TOAST,toast:{id:toastId,height:height}});},calculateOffset:function calculateOffset(toast,opts){var _relevantToasts$filte;var _ref=opts||{},_ref$reverseOrder=_ref.reverseOrder,reverseOrder=_ref$reverseOrder===void 0?false:_ref$reverseOrder,_ref$gutter=_ref.gutter,gutter=_ref$gutter===void 0?8:_ref$gutter,defaultPosition=_ref.defaultPosition;var relevantToasts=toasts.filter(function(t){return(t.position||defaultPosition)===(toast.position||defaultPosition)&&t.height;});var toastIndex=relevantToasts.findIndex(function(t){return t.id===toast.id;});var toastsBefore=relevantToasts.filter(function(toast,i){return i<toastIndex&&toast.visible;}).length;var offset=(_relevantToasts$filte=relevantToasts.filter(function(t){return t.visible;})).slice.apply(_relevantToasts$filte,reverseOrder?[toastsBefore+1]:[0,toastsBefore]).reduce(function(acc,t){return acc+(t.height||0)+gutter;},0);return offset;}};},[toasts,pausedAt]);return{toasts:toasts,handlers:handlers};};function _templateObject4(){var data=_taggedTemplateLiteralLoose([\"\\n  width: 20px;\\n  opacity: 0;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: \",\";\\n  position: relative;\\n  transform: rotate(45deg);\\n\\n  animation: \",\" 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n  animation-delay: 100ms;\\n\\n  &:after,\\n  &:before {\\n    content: '';\\n    animation: \",\" 0.15s ease-out forwards;\\n    animation-delay: 150ms;\\n    position: absolute;\\n    border-radius: 3px;\\n    opacity: 0;\\n    background: \",\";\\n    bottom: 9px;\\n    left: 4px;\\n    height: 2px;\\n    width: 12px;\\n  }\\n\\n  &:before {\\n    animation: \",\" 0.15s ease-out forwards;\\n    animation-delay: 180ms;\\n    transform: rotate(90deg);\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0) rotate(90deg);\\n\\topacity: 0;\\n}\\nto {\\n  transform: scale(1) rotate(90deg);\\n\\topacity: 1;\\n}\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0);\\n  opacity: 0;\\n}\\nto {\\n  transform: scale(1);\\n  opacity: 1;\\n}\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0) rotate(45deg);\\n\\topacity: 0;\\n}\\nto {\\n transform: scale(1) rotate(45deg);\\n  opacity: 1;\\n}\"]);_templateObject=function _templateObject(){return data;};return data;}var circleAnimation=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject());var firstLineAnimation=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject2());var secondLineAnimation=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject3());var ErrorIcon$1=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject4(),function(p){return p.primary||'#ff4b4b';},circleAnimation,firstLineAnimation,function(p){return p.secondary||'#fff';},secondLineAnimation);function _templateObject2$1(){var data=_taggedTemplateLiteralLoose([\"\\n  width: 12px;\\n  height: 12px;\\n  box-sizing: border-box;\\n  border: 2px solid;\\n  border-radius: 100%;\\n  border-color: \",\";\\n  border-right-color: \",\";\\n  animation: \",\" 1s linear infinite;\\n\"]);_templateObject2$1=function _templateObject2(){return data;};return data;}function _templateObject$1(){var data=_taggedTemplateLiteralLoose([\"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"]);_templateObject$1=function _templateObject(){return data;};return data;}var rotate=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject$1());var LoaderIcon=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject2$1(),function(p){return p.secondary||'#e0e0e0';},function(p){return p.primary||'#616161';},rotate);function _templateObject3$1(){var data=_taggedTemplateLiteralLoose([\"\\n  width: 20px;\\n  opacity: 0;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: \",\";\\n  position: relative;\\n  transform: rotate(45deg);\\n\\n  animation: \",\" 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n  animation-delay: 100ms;\\n  &:after {\\n    content: '';\\n    box-sizing: border-box;\\n    animation: \",\" 0.2s ease-out forwards;\\n    opacity: 0;\\n    animation-delay: 200ms;\\n    position: absolute;\\n    border-right: 2px solid;\\n    border-bottom: 2px solid;\\n    border-color: \",\";\\n    bottom: 6px;\\n    left: 6px;\\n    height: 10px;\\n    width: 6px;\\n  }\\n\"]);_templateObject3$1=function _templateObject3(){return data;};return data;}function _templateObject2$2(){var data=_taggedTemplateLiteralLoose([\"\\n0% {\\n\\theight: 0;\\n\\twidth: 0;\\n\\topacity: 0;\\n}\\n40% {\\n  height: 0;\\n\\twidth: 6px;\\n\\topacity: 1;\\n}\\n100% {\\n  opacity: 1;\\n  height: 10px;\\n}\"]);_templateObject2$2=function _templateObject2(){return data;};return data;}function _templateObject$2(){var data=_taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0) rotate(45deg);\\n\\topacity: 0;\\n}\\nto {\\n  transform: scale(1) rotate(45deg);\\n\\topacity: 1;\\n}\"]);_templateObject$2=function _templateObject(){return data;};return data;}var circleAnimation$1=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject$2());var checkmarkAnimation=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject2$2());var CheckmarkIcon=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject3$1(),function(p){return p.primary||'#61d345';},circleAnimation$1,checkmarkAnimation,function(p){return p.secondary||'#fff';});function _templateObject4$1(){var data=_taggedTemplateLiteralLoose([\"\\n  position: relative;\\n  transform: scale(0.6);\\n  opacity: 0.4;\\n  min-width: 20px;\\n  animation: \",\" 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n\"]);_templateObject4$1=function _templateObject4(){return data;};return data;}function _templateObject3$2(){var data=_taggedTemplateLiteralLoose([\"\\nfrom {\\n  transform: scale(0.6);\\n  opacity: 0.4;\\n}\\nto {\\n  transform: scale(1);\\n  opacity: 1;\\n}\"]);_templateObject3$2=function _templateObject3(){return data;};return data;}function _templateObject2$3(){var data=_taggedTemplateLiteralLoose([\"\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-width: 20px;\\n  min-height: 20px;\\n\"]);_templateObject2$3=function _templateObject2(){return data;};return data;}function _templateObject$3(){var data=_taggedTemplateLiteralLoose([\"\\n  position: absolute;\\n\"]);_templateObject$3=function _templateObject(){return data;};return data;}var StatusWrapper=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject$3());var IndicatorWrapper=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject2$3());var enter=/*#__PURE__*/h$1(/*#__PURE__*/_templateObject3$2());var AnimatedIconWrapper=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject4$1(),enter);var ToastIcon=function ToastIcon(_ref){var toast=_ref.toast;var icon=toast.icon,type=toast.type,iconTheme=toast.iconTheme;if(icon!==undefined){if(typeof icon==='string'){return/*#__PURE__*/y$4(AnimatedIconWrapper,null,icon);}else{return icon;}}if(type==='blank'){return null;}return/*#__PURE__*/y$4(IndicatorWrapper,null,/*#__PURE__*/y$4(LoaderIcon,Object.assign({},iconTheme)),type!=='loading'&&/*#__PURE__*/y$4(StatusWrapper,null,type==='error'?/*#__PURE__*/y$4(ErrorIcon$1,Object.assign({},iconTheme)):/*#__PURE__*/y$4(CheckmarkIcon,Object.assign({},iconTheme))));};function _templateObject2$4(){var data=_taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  justify-content: center;\\n  margin: 4px 10px;\\n  color: inherit;\\n  flex: 1 1 auto;\\n  white-space: pre-line;\\n\"]);_templateObject2$4=function _templateObject2(){return data;};return data;}function _templateObject$4(){var data=_taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  align-items: center;\\n  background: #fff;\\n  color: #363636;\\n  line-height: 1.3;\\n  will-change: transform;\\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\\n  max-width: 350px;\\n  pointer-events: auto;\\n  padding: 8px 10px;\\n  border-radius: 8px;\\n\"]);_templateObject$4=function _templateObject(){return data;};return data;}var enterAnimation=function enterAnimation(factor){return\"\\n0% {transform: translate3d(0,\"+factor*-200+\"%,0) scale(.6); opacity:.5;}\\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\\n\";};var exitAnimation=function exitAnimation(factor){return\"\\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\\n100% {transform: translate3d(0,\"+factor*-150+\"%,-1px) scale(.6); opacity:0;}\\n\";};var fadeInAnimation=\"0%{opacity:0;} 100%{opacity:1;}\";var fadeOutAnimation=\"0%{opacity:1;} 100%{opacity:0;}\";var ToastBarBase=/*#__PURE__*/j('div',N$1)(/*#__PURE__*/_templateObject$4());var Message=/*#__PURE__*/j('div')(/*#__PURE__*/_templateObject2$4());var getAnimationStyle=function getAnimationStyle(position,visible){var top=position.includes('top');var factor=top?1:-1;var _ref=prefersReducedMotion()?[fadeInAnimation,fadeOutAnimation]:[enterAnimation(factor),exitAnimation(factor)],enter=_ref[0],exit=_ref[1];return{animation:visible?h$1(enter)+\" 0.35s cubic-bezier(.21,1.02,.73,1) forwards\":h$1(exit)+\" 0.4s forwards cubic-bezier(.06,.71,.55,1)\"};};var ToastBar=/*#__PURE__*/w$4(function(_ref2){var toast=_ref2.toast,position=_ref2.position,style=_ref2.style,children=_ref2.children;var animationStyle=toast!=null&&toast.height?getAnimationStyle(toast.position||position||'top-center',toast.visible):{opacity:0};var icon=/*#__PURE__*/y$4(ToastIcon,{toast:toast});var message=/*#__PURE__*/y$4(Message,Object.assign({},toast.ariaProps),resolveValue(toast.message,toast));return/*#__PURE__*/y$4(ToastBarBase,{className:toast.className,style:_extends({},animationStyle,style,toast.style)},typeof children==='function'?children({icon:icon,message:message}):/*#__PURE__*/y$4(g$7,null,icon,message));});function _templateObject$5(){var data=_taggedTemplateLiteralLoose([\"\\n  z-index: 9999;\\n  > * {\\n    pointer-events: auto;\\n  }\\n\"]);_templateObject$5=function _templateObject(){return data;};return data;}m$1(y$4);var getPositionStyle=function getPositionStyle(position,offset){var top=position.includes('top');var verticalStyle=top?{top:0}:{bottom:0};var horizontalStyle=position.includes('center')?{justifyContent:'center'}:position.includes('right')?{justifyContent:'flex-end'}:{};return _extends({left:0,right:0,display:'flex',position:'absolute',transition:prefersReducedMotion()?undefined:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:\"translateY(\"+offset*(top?1:-1)+\"px)\"},verticalStyle,horizontalStyle);};var activeClass=/*#__PURE__*/u$1(/*#__PURE__*/_templateObject$5());var DEFAULT_OFFSET=16;var Toaster=function Toaster(_ref){var reverseOrder=_ref.reverseOrder,_ref$position=_ref.position,position=_ref$position===void 0?'top-center':_ref$position,toastOptions=_ref.toastOptions,gutter=_ref.gutter,children=_ref.children,containerStyle=_ref.containerStyle,containerClassName=_ref.containerClassName;var _useToaster=useToaster(toastOptions),toasts=_useToaster.toasts,handlers=_useToaster.handlers;return/*#__PURE__*/y$4(\"div\",{style:_extends({position:'fixed',zIndex:9999,top:DEFAULT_OFFSET,left:DEFAULT_OFFSET,right:DEFAULT_OFFSET,bottom:DEFAULT_OFFSET,pointerEvents:'none'},containerStyle),className:containerClassName,onMouseEnter:handlers.startPause,onMouseLeave:handlers.endPause},toasts.map(function(t){var toastPosition=t.position||position;var offset=handlers.calculateOffset(t,{reverseOrder:reverseOrder,gutter:gutter,defaultPosition:position});var positionStyle=getPositionStyle(toastPosition,offset);var ref=t.height?undefined:createRectRef(function(rect){handlers.updateHeight(t.id,rect.height);});return/*#__PURE__*/y$4(\"div\",{ref:ref,className:t.visible?activeClass:'',key:t.id,style:positionStyle},t.type==='custom'?resolveValue(t.message,t):children?children(t):/*#__PURE__*/y$4(ToastBar,{toast:t,position:toastPosition}));}));};var BackButton=He.button(_templateObject28||(_templateObject28=_taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\"])));var BackArrowSvg=function BackArrowSvg(_ref79){var color=_ref79.color;return/*#__PURE__*/wn.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z\",fill:color}));};var BackArrow=function BackArrow(_ref80){var onClick=_ref80.onClick;var theme=Ze();return/*#__PURE__*/wn.createElement(BackButton,{type:\"button\",onClick:onClick,\"aria-label\":\"Back\"},/*#__PURE__*/wn.createElement(BackArrowSvg,{color:theme.colors.primary}));};var InlineButton=function InlineButton(_ref81){var onClick=_ref81.onClick,children=_ref81.children;return/*#__PURE__*/wn.createElement(\"button\",{onClick:onClick,style:{all:'unset'}},/*#__PURE__*/wn.createElement(\"b\",{style:{cursor:'pointer'}},children));};var Wrapper=He.div(_templateObject29||(_templateObject29=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-rows: \",\";\\n  transition: grid-template-rows 0.15s ease-out;\\n\"])),function(_ref82){var isOpen=_ref82.isOpen;return isOpen?'1fr':'0fr';});var Inner=He.div(_templateObject30||(_templateObject30=_taggedTemplateLiteral([\"\\n  overflow: hidden;\\n\"])));var AnimatedContainer=function AnimatedContainer(_ref83){var isOpen=_ref83.isOpen,children=_ref83.children;return/*#__PURE__*/wn.createElement(Wrapper,{isOpen:isOpen},/*#__PURE__*/wn.createElement(Inner,null,children));};var Container=He.div(_templateObject31||(_templateObject31=_taggedTemplateLiteral([\"\\n  height: 4px;\\n  background-color: \",\";\\n  border-radius: 3px;\\n  overflow: hidden;\\n\"])),function(_ref84){var theme=_ref84.theme;return theme.colors.disabled;});var loading=Ue(_templateObject32||(_templateObject32=_taggedTemplateLiteral([\"\\n  0% {\\n    transform: translateX(-100%);\\n  }\\n  100% {\\n    transform: translateX(-1%);\\n  }\\n\"])));var Progress=He.div(_templateObject33||(_templateObject33=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  width: 100%;\\n  background-color: \",\";\\n  animation: \",\" 10s cubic-bezier(0.22, 1, 0.36, 1);\\n\"])),function(_ref85){var theme=_ref85.theme;return theme.colors.primary;},loading);var LoadingBar=function LoadingBar(_ref86){var isLoading=_ref86.isLoading;return/*#__PURE__*/wn.createElement(Container,null,isLoading&&/*#__PURE__*/wn.createElement(Progress,null));};var GAP='8px';var WIDTH='46px';var INPUT_HEIGHT='46px';var Digit=He.div(_templateObject34||(_templateObject34=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  border-radius: 4px;\\n  align-items: center;\\n  display: flex;\\n  font-size: 18px;\\n  justify-content: center;\\n  height: \",\";\\n  width: \",\";\\n  background: \",\";\\n  color: \",\";\\n\"])),function(_ref87){var disabled=_ref87.disabled,theme=_ref87.theme;return disabled?theme.colors.disabled:'#ADBCC5';},INPUT_HEIGHT,WIDTH,function(_ref88){var disabled=_ref88.disabled,theme=_ref88.theme;return disabled?theme.colors.disabled:theme.inputs.backgroundColor;},function(_ref89){var disabled=_ref89.disabled,theme=_ref89.theme;return disabled?theme.colors.disabledText:theme.inputs.textColor;});var digitsContainerStyles={display:'flex',justifyContent:'space-between',gap:GAP,position:'relative',zIndex:-1};var otpContainerStyles={overflow:'hidden',position:'relative',textAlign:'initial',zIndex:1};var invisibleInputStyles={background:'transparent',border:'none',color:'transparent',height:INPUT_HEIGHT,margin:0,outline:'none',position:'absolute',width:\"calc(100% - (0.5 * \".concat(WIDTH,\"))\"),caretColor:'#ADBCC5',letterSpacing:\"calc(\".concat(WIDTH,\" - 1ch + \").concat(GAP,\")\"),paddingLeft:\"calc(0.5 * \".concat(WIDTH,\")\"),zIndex:10};var DigitAtIndex=function DigitAtIndex(_ref90){var index=_ref90.index,disabled=_ref90.disabled,otp=_ref90.otp;var fill=otp?otp[index]:'';return/*#__PURE__*/wn.createElement(Digit,{disabled:disabled,\"data-testid\":\"otp-\".concat(index)},fill);};var OTPInput=function OTPInput(_ref91){var otp=_ref91.otp,setOtp=_ref91.setOtp,disabled=_ref91.disabled;var onPasscodeChange=function onPasscodeChange(e){if(!/^\\d*$/.test(e.target.value)){return;}setOtp(e.target.value);};return/*#__PURE__*/wn.createElement(\"div\",{style:otpContainerStyles},/*#__PURE__*/wn.createElement(\"input\",{\"aria-label\":\"One-time passcode\",autoComplete:\"one-time-code\",autoFocus:true,disabled:disabled,style:invisibleInputStyles,maxLength:6,onChange:onPasscodeChange,type:\"text\",inputMode:\"numeric\",value:otp,\"data-1p-ignore\":\"true\"}),/*#__PURE__*/wn.createElement(\"div\",{style:digitsContainerStyles},_toConsumableArray(Array(6).keys()).map(function(i){return/*#__PURE__*/wn.createElement(DigitAtIndex,{key:\"digit-\".concat(i),index:i,otp:otp,disabled:!!disabled});})));};var OTP_CODE_LENGTH=6;var OTPControl=function OTPControl(_ref92){var isSubmitting=_ref92.isSubmitting,onSubmit=_ref92.onSubmit,errorMessage=_ref92.errorMessage;var _h$47=h$5(''),_h$48=_slicedToArray2(_h$47,2),otp=_h$48[0],setOtp=_h$48[1];var handleOtpChange=function handleOtpChange(otp){setOtp(otp);if(otp.length===OTP_CODE_LENGTH){onSubmit(otp);}};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",maxWidth:316},/*#__PURE__*/wn.createElement(OTPInput,{otp:otp,setOtp:handleOtpChange,disabled:isSubmitting}),/*#__PURE__*/wn.createElement(AnimatedContainer,{isOpen:isSubmitting},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8,marginTop:8},/*#__PURE__*/wn.createElement(Text,{color:\"secondary\",size:\"helper\"},\"Verifying passcode...\"),/*#__PURE__*/wn.createElement(LoadingBar,{isLoading:isSubmitting}))),!isSubmitting&&/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:errorMessage!==null&&errorMessage!==void 0?errorMessage:''}));};var OTPEntry=function OTPEntry(_ref93){var header=_ref93.header,helperContent=_ref93.helperContent,instruction=_ref93.instruction,isSubmitting=_ref93.isSubmitting,onSubmit=_ref93.onSubmit,errorMessage=_ref93.errorMessage;return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},header),/*#__PURE__*/wn.createElement(Text,null,instruction),/*#__PURE__*/wn.createElement(OTPControl,{isSubmitting:isSubmitting,onSubmit:onSubmit,errorMessage:errorMessage}),/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"secondary\"},helperContent));};var getSecondsRemaining=function getSecondsRemaining(expiration){var now=new Date();return Math.ceil((expiration.getTime()-now.getTime())/1000);};var ExpirationMessage=function ExpirationMessage(_ref94){var expiration=_ref94.expiration,resendOTP=_ref94.resendOTP;var _h$49=h$5(function(){return getSecondsRemaining(expiration);}),_h$50=_slicedToArray2(_h$49,2),seconds=_h$50[0],setSeconds=_h$50[1];var codeExpired=seconds<=0;p$6(function(){if(!codeExpired){var updateSeconds=function updateSeconds(){return setSeconds(getSecondsRemaining(expiration));};var interval=setInterval(updateSeconds,1000);updateSeconds();return function(){return clearInterval(interval);};}},[codeExpired,expiration]);var displayMinutes=Math.floor(Number(seconds/60));var displaySeconds=seconds-displayMinutes*60;var formattedTime=\"\".concat(displayMinutes,\":\").concat(displaySeconds<10?\"0\".concat(displaySeconds):displaySeconds);var formattedText=seconds>0?\"Your code expires in \".concat(formattedTime,\". Didn't get it? \"):'Your code has expired. ';return/*#__PURE__*/wn.createElement(wn.Fragment,null,formattedText,/*#__PURE__*/wn.createElement(InlineButton,{onClick:resendOTP},\"Resend code\"));};var SentOTPEntry=function SentOTPEntry(_ref95){var expiration=_ref95.expiration,formattedDestination=_ref95.formattedDestination,isSubmitting=_ref95.isSubmitting,onSubmit=_ref95.onSubmit,errorMessage=_ref95.errorMessage,resendOTP=_ref95.resendOTP;return/*#__PURE__*/wn.createElement(OTPEntry,{header:\"Enter passcode\",helperContent:/*#__PURE__*/wn.createElement(ExpirationMessage,{expiration:expiration,resendOTP:resendOTP}),instruction:/*#__PURE__*/wn.createElement(wn.Fragment,null,\"A 6-digit passcode was sent to you at \",/*#__PURE__*/wn.createElement(\"b\",null,formattedDestination),\".\"),isSubmitting:isSubmitting,onSubmit:onSubmit,errorMessage:errorMessage});};var OTPAuthenticate=function OTPAuthenticate(_ref96){var _ref96$hideBackArrow=_ref96.hideBackArrow,hideBackArrow=_ref96$hideBackArrow===void 0?false:_ref96$hideBackArrow;var onEvent=useEventCallback();var onError=useErrorCallback();var stytchClient=useStytch();var config=useConfig();var _useGlobalReducer17=useGlobalReducer(),_useGlobalReducer18=_slicedToArray2(_useGlobalReducer17,2),state=_useGlobalReducer18[0],dispatch=_useGlobalReducer18[1];var _h$51=h$5(false),_h$52=_slicedToArray2(_h$51,2),isSubmitting=_h$52[0],setIsSubmitting=_h$52[1];var destination=state.formState.otpState.otpDestination;var selectionMethod=state.formState.otpState.type;var _h$53=h$5(''),_h$54=_slicedToArray2(_h$53,2),errorMessage=_h$54[0],setErrorMessage=_h$54[1];var _h$55=h$5(destination),_h$56=_slicedToArray2(_h$55,2),formattedDestination=_h$56[0],setFormattedDestination=_h$56[1];var calculateExpiration=function calculateExpiration(){var _a,_b;return new Date(Date.now()+1000*60*((_b=(_a=config.otpOptions)===null||_a===void 0?void 0:_a.expirationMinutes)!==null&&_b!==void 0?_b:DEFAULT_OTP_EXPIRATION_MINUTES));};p$6(function(){readB2CInternals(stytchClient).clientsideServices.parsedPhoneNumber({phoneNumber:destination}).then(function(parsePhoneNumber){setFormattedDestination(selectionMethod===OTPMethods.Email?destination:parsePhoneNumber.number);});},[selectionMethod,destination,stytchClient]);var _h$57=h$5(calculateExpiration),_h$58=_slicedToArray2(_h$57,2),expiration=_h$58[0],setExpiration=_h$58[1];var resendOTP=function resendOTP(){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee83(){var _a,_b;return _regeneratorRuntime2().wrap(function _callee83$(_context83){while(1)switch(_context83.prev=_context83.next){case 0:if(selectionMethod===OTPMethods.Email){readB2CInternals(stytchClient).networkClient.logEvent({name:'email_try_again_clicked',details:{email:destination,type:EmailSentType.LoginOrCreateOTP}});}stytchClient.otps[selectionMethod].loginOrCreate(destination,{expiration_minutes:(_b=(_a=config.otpOptions)===null||_a===void 0?void 0:_a.expirationMinutes)!==null&&_b!==void 0?_b:DEFAULT_OTP_EXPIRATION_MINUTES}).then(function(data){onEvent({type:StytchEventType.OTPsLoginOrCreateEvent,data:data});setExpiration(calculateExpiration());dispatch({type:'update_otp_state',otpState:{type:selectionMethod,methodId:data.method_id,otpDestination:destination}});toast.success('Code resent');})[\"catch\"](function(e){onError(e);var message=e.message;if(e instanceof StytchAPIError){message=e.error_message;}toast.error(message);});case 2:case\"end\":return _context83.stop();}},_callee83);}));};var handleSubmit=function handleSubmit(otp){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee84(){var _c,_d;return _regeneratorRuntime2().wrap(function _callee84$(_context84){while(1)switch(_context84.prev=_context84.next){case 0:setIsSubmitting(true);stytchClient.otps.authenticate(otp,state.formState.otpState.methodId,{session_duration_minutes:(_d=(_c=config.sessionOptions)===null||_c===void 0?void 0:_c.sessionDurationMinutes)!==null&&_d!==void 0?_d:DEFAULT_SESSION_DURATION_MINUTES}).then(function(data){onEvent({type:StytchEventType.OTPsAuthenticate,data:data});setIsSubmitting(false);dispatch({type:'transition',screen:AppScreens$1.OTPConfirmation});})[\"catch\"](function(e){onError(e);setIsSubmitting(false);setErrorMessage('Invalid passcode, please try again.');});case 2:case\"end\":return _context84.stop();}},_callee84);}));};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},!hideBackArrow&&/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(SentOTPEntry,{expiration:expiration,formattedDestination:formattedDestination,isSubmitting:isSubmitting,onSubmit:handleSubmit,resendOTP:resendOTP,errorMessage:errorMessage}));};var PasswordIconSvg=function PasswordIconSvg(_ref97){var _ref97$enabled=_ref97.enabled,enabled=_ref97$enabled===void 0?false:_ref97$enabled;return/*#__PURE__*/wn.createElement(\"svg\",{width:\"20\",height:\"14\",viewBox:\"0 0 20 14\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M9.99992 2.41667C13.1583 2.41667 15.9749 4.19167 17.3499 7C15.9749 9.80833 13.1583 11.5833 9.99992 11.5833C6.84158 11.5833 4.02492 9.80833 2.64992 7C4.02492 4.19167 6.84158 2.41667 9.99992 2.41667ZM9.99992 0.75C5.83325 0.75 2.27492 3.34167 0.833252 7C2.27492 10.6583 5.83325 13.25 9.99992 13.25C14.1666 13.25 17.7249 10.6583 19.1666 7C17.7249 3.34167 14.1666 0.75 9.99992 0.75ZM9.99992 4.91667C11.1499 4.91667 12.0833 5.85 12.0833 7C12.0833 8.15 11.1499 9.08333 9.99992 9.08333C8.84992 9.08333 7.91658 8.15 7.91658 7C7.91658 5.85 8.84992 4.91667 9.99992 4.91667ZM9.99992 3.25C7.93325 3.25 6.24992 4.93333 6.24992 7C6.24992 9.06667 7.93325 10.75 9.99992 10.75C12.0666 10.75 13.7499 9.06667 13.7499 7C13.7499 4.93333 12.0666 3.25 9.99992 3.25Z\",fill:enabled?'#19303D':'#5C727D'}));};var PasswordIconVisibleSvg=function PasswordIconVisibleSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"20\",height:\"16\",viewBox:\"0 0 20 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M10.0002 2.97921C13.1585 2.97921 15.9752 4.75421 17.3502 7.56254C16.8585 8.57921 16.1668 9.45421 15.3418 10.1625L16.5168 11.3375C17.6752 10.3125 18.5918 9.02921 19.1668 7.56254C17.7252 3.90421 14.1668 1.31254 10.0002 1.31254C8.94183 1.31254 7.92516 1.47921 6.96683 1.78754L8.34183 3.16254C8.8835 3.05421 9.4335 2.97921 10.0002 2.97921ZM9.1085 3.92921L10.8335 5.65421C11.3085 5.86254 11.6918 6.24587 11.9002 6.72087L13.6252 8.44587C13.6918 8.16254 13.7418 7.86254 13.7418 7.55421C13.7502 5.48754 12.0668 3.81254 10.0002 3.81254C9.69183 3.81254 9.40016 3.85421 9.1085 3.92921ZM1.67516 1.20421L3.9085 3.43754C2.55016 4.50421 1.47516 5.92087 0.833496 7.56254C2.27516 11.2209 5.8335 13.8125 10.0002 13.8125C11.2668 13.8125 12.4835 13.5709 13.6002 13.1292L16.4502 15.9792L17.6252 14.8042L2.85016 0.020874L1.67516 1.20421ZM7.92516 7.45421L10.1002 9.62921C10.0668 9.63754 10.0335 9.64587 10.0002 9.64587C8.85016 9.64587 7.91683 8.71254 7.91683 7.56254C7.91683 7.52087 7.92516 7.49587 7.92516 7.45421ZM5.09183 4.62087L6.55016 6.07921C6.3585 6.53754 6.25016 7.03754 6.25016 7.56254C6.25016 9.62921 7.9335 11.3125 10.0002 11.3125C10.5252 11.3125 11.0252 11.2042 11.4752 11.0125L12.2918 11.8292C11.5585 12.0292 10.7918 12.1459 10.0002 12.1459C6.84183 12.1459 4.02516 10.3709 2.65016 7.56254C3.2335 6.37087 4.0835 5.38754 5.09183 4.62087Z\",fill:\"#19303D\"}));};var BaseInput=He.input(_templateObject35||(_templateObject35=_taggedTemplateLiteral([\"\\n  border: 0;\\n  padding: 0;\\n  width: 100%;\\n\\n  background-color: transparent;\\n  height: 45px;\\n  color: \",\";\\n  font-family: \",\";\\n  font-size: 18px;\\n\\n  &::placeholder: {\\n    color: \",\";\\n  }\\n\\n  &:disabled {\\n    color: \",\";\\n    background-color: \",\";\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"])),function(props){return props.theme.inputs.textColor;},function(props){return props.theme.typography.fontFamily;},function(props){return props.theme.inputs.placeholderColor;},function(props){return props.theme.colors.disabledText;},function(props){return props.theme.colors.disabled;});var InputContainer=He(Flex)(_templateObject36||(_templateObject36=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  height: 45px;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n  border: 1px solid \",\";\\n  border-radius: \",\";\\n  color: \",\";\\n  font-family: \",\";\\n  font-size: 18px;\\n  width: calc(100% - 18px);\\n  & input::placeholder: {\\n    color: \",\";\\n  }\\n\"])),function(props){return props.theme.inputs.backgroundColor;},function(props){return props.theme.inputs.borderColor;},function(props){return props.theme.inputs.borderRadius;},function(props){return props.theme.inputs.textColor;},function(props){return props.theme.typography.fontFamily;},function(props){return props.theme.inputs.placeholderColor;});var PasswordIconButton=He.button(_templateObject37||(_templateObject37=_taggedTemplateLiteral([\"\\n  all: unset;\\n  cursor: pointer;\\n\"])));var PasswordIcon=function PasswordIcon(_ref98){var onClick=_ref98.onClick,enabled=_ref98.enabled,visible=_ref98.visible;return/*#__PURE__*/wn.createElement(PasswordIconButton,{onClick:onClick,type:\"button\"},visible?/*#__PURE__*/wn.createElement(PasswordIconVisibleSvg,null):/*#__PURE__*/wn.createElement(PasswordIconSvg,{enabled:enabled}));};var PasswordInput=function PasswordInput(_ref99){var password=_ref99.password,setPassword=_ref99.setPassword,type=_ref99.type;var _h$59=h$5(false),_h$60=_slicedToArray2(_h$59,2),visible=_h$60[0],setVisible=_h$60[1];return/*#__PURE__*/wn.createElement(InputContainer,{gap:2,alignItems:\"center\"},/*#__PURE__*/wn.createElement(BaseInput,{name:\"password\",\"aria-label\":\"Password\",id:\"\".concat(type,\"-password\"),autoComplete:\"\".concat(type,\"-password\"),type:visible?'text':'password',value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/wn.createElement(PasswordIcon,{onClick:function onClick(){return setVisible(function(visible){return!visible;});},enabled:!!password,visible:visible}));};var Block=He.div(_templateObject38||(_templateObject38=_taggedTemplateLiteral([\"\\n  height: 4px;\\n  width: 25%;\\n  background-color: \",\";\\n\"])),function(props){return props.$bgColor;});var PasswordStrengthCheck=function PasswordStrengthCheck(_ref100){var score=_ref100.score;var blocks=[];switch(score){case 0:case 1:blocks=['#8B1214','#ADBCC5','#ADBCC5','#ADBCC5'];break;case 2:blocks=['#8B1214','#8B1214','#ADBCC5','#ADBCC5'];break;case 3:blocks=['#0C5A56','#0C5A56','#0C5A56','#ADBCC5'];break;case 4:blocks=['#0C5A56','#0C5A56','#0C5A56','#0C5A56'];break;default:blocks=['#ADBCC5','#ADBCC5','#ADBCC5','#ADBCC5'];break;}return/*#__PURE__*/wn.createElement(Flex,{gap:2},blocks.map(function(block,i){return/*#__PURE__*/wn.createElement(Block,{key:\"\".concat(block,\"-\").concat(i),\"$bgColor\":block});}));};var CheckIcon=function CheckIcon(){return/*#__PURE__*/y$4(Flex,{height:16,width:16},/*#__PURE__*/y$4(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M5.86332 10.5833L3.08332 7.80333L2.13666 8.74333L5.86332 12.47L13.8633 4.47L12.9233 3.53L5.86332 10.5833Z\",fill:\"#0C5A56\"})));};var CrossIcon=function CrossIcon(){return/*#__PURE__*/y$4(Flex,{height:16,width:16},/*#__PURE__*/y$4(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M12.6667 4.27334L11.7267 3.33334L8.00001 7.06001L4.27334 3.33334L3.33334 4.27334L7.06001 8.00001L3.33334 11.7267L4.27334 12.6667L8.00001 8.94001L11.7267 12.6667L12.6667 11.7267L8.94001 8.00001L12.6667 4.27334Z\",fill:\"#8B1214\"})));};var useBootstrap=function useBootstrap(){var stytchClient=useStytch();var _h$61=h$5(readB2CInternals(stytchClient).bootstrap.getSync()),_h$62=_slicedToArray2(_h$61,2),boostrap=_h$62[0],setBootstrap=_h$62[1];p$6(function(){readB2CInternals(stytchClient).bootstrap.getAsync().then(function(data){setBootstrap(data);});},[stytchClient]);return boostrap;};var useSyncExternalStoreShim_production_min={};var require$$0=/*@__PURE__*/getAugmentedNamespace(compat_module);var e=require$$0;function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b;}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c});},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c});});},[a]);p(d);return d;}function r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d);}catch(f){return!0;}}function t(a,b){return b();}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;useSyncExternalStoreShim_production_min.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;var SWRGlobalState=new WeakMap();var EMPTY_CACHE={};var INITIAL_CACHE={};var noop=function noop(){};var UNDEFINED=noop();var OBJECT=Object;var isUndefined=function isUndefined(v){return v===UNDEFINED;};var isFunction=function isFunction(v){return typeof v=='function';};var mergeObjects=function mergeObjects(a,b){return _objectSpread(_objectSpread({},a),b);};var STR_UNDEFINED='undefined';var isWindowDefined=(typeof window===\"undefined\"?\"undefined\":_typeof2(window))!=STR_UNDEFINED;var isDocumentDefined=(typeof document===\"undefined\"?\"undefined\":_typeof2(document))!=STR_UNDEFINED;var createCacheHelper=function createCacheHelper(cache,key){var state=SWRGlobalState.get(cache);return[function(){return cache.get(key)||EMPTY_CACHE;},function(info){if(!isUndefined(key)){var prev=cache.get(key);if(!(key in INITIAL_CACHE)){INITIAL_CACHE[key]=prev;}state[5](key,mergeObjects(prev,info),prev||EMPTY_CACHE);}},state[6],function(){if(!isUndefined(key)){if(key in INITIAL_CACHE)return INITIAL_CACHE[key];}return cache.get(key)||EMPTY_CACHE;}];};var table=new WeakMap();var counter=0;var stableHash=function stableHash(arg){var type=_typeof2(arg);var constructor=arg&&arg.constructor;var isDate=constructor==Date;var result;var index;if(OBJECT(arg)===arg&&!isDate&&constructor!=RegExp){result=table.get(arg);if(result)return result;result=++counter+'~';table.set(arg,result);if(constructor==Array){result='@';for(index=0;index<arg.length;index++){result+=stableHash(arg[index])+',';}table.set(arg,result);}if(constructor==OBJECT){result='#';var keys=OBJECT.keys(arg).sort();while(!isUndefined(index=keys.pop())){if(!isUndefined(arg[index])){result+=index+':'+stableHash(arg[index])+',';}}table.set(arg,result);}}else{result=isDate?arg.toJSON():type=='symbol'?arg.toString():type=='string'?JSON.stringify(arg):''+arg;}return result;};var online=true;var isOnline=function isOnline(){return online;};var _ref101=isWindowDefined&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop,noop],_ref102=_slicedToArray2(_ref101,2),onWindowEvent=_ref102[0],offWindowEvent=_ref102[1];var isVisible=function isVisible(){var visibilityState=isDocumentDefined&&document.visibilityState;return isUndefined(visibilityState)||visibilityState!=='hidden';};var initFocus=function initFocus(callback){if(isDocumentDefined){document.addEventListener('visibilitychange',callback);}onWindowEvent('focus',callback);return function(){if(isDocumentDefined){document.removeEventListener('visibilitychange',callback);}offWindowEvent('focus',callback);};};var initReconnect=function initReconnect(callback){var onOnline=function onOnline(){online=true;callback();};var onOffline=function onOffline(){online=false;};onWindowEvent('online',onOnline);onWindowEvent('offline',onOffline);return function(){offWindowEvent('online',onOnline);offWindowEvent('offline',onOffline);};};var preset={isOnline:isOnline,isVisible:isVisible};var defaultConfigOptions={initFocus:initFocus,initReconnect:initReconnect};!wn.useId;var IS_SERVER=!isWindowDefined||'Deno'in window;var navigatorConnection=typeof navigator!=='undefined'&&navigator.connection;var slowConnection=!IS_SERVER&&navigatorConnection&&(['slow-2g','2g'].includes(navigatorConnection.effectiveType)||navigatorConnection.saveData);var serialize=function serialize(key){if(isFunction(key)){try{key=key();}catch(err){key='';}}var args=key;key=typeof key=='string'?key:(Array.isArray(key)?key.length:key)?stableHash(key):'';return[key,args];};var __timestamp=0;var getTimestamp=function getTimestamp(){return++__timestamp;};var FOCUS_EVENT=0;var RECONNECT_EVENT=1;var MUTATE_EVENT=2;function internalMutate(){return _internalMutate.apply(this,arguments);}function _internalMutate(){_internalMutate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime2().mark(function _callee89(){var _len9,args,_key9,cache,_key,_data,_opts,options,populateCache,rollbackOnErrorOption,optimisticData,revalidate,rollbackOnError,throwOnError,keyFilter,matchedKeys,it,keyIt,key,mutateByKey,_mutateByKey,_args5=arguments;return _regeneratorRuntime2().wrap(function _callee89$(_context89){while(1)switch(_context89.prev=_context89.next){case 0:_mutateByKey=function _mutateByKey3(){_mutateByKey=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime2().mark(function _callee88(_k){var _serialize,_serialize2,key,_createCacheHelper,_createCacheHelper2,get,set,_SWRGlobalState$get3,_SWRGlobalState$get4,EVENT_REVALIDATORS,MUTATION,FETCH,revalidators,startRevalidate,data,error,beforeMutationTs,hasOptimisticData,state,displayedData,currentData,committedData,res;return _regeneratorRuntime2().wrap(function _callee88$(_context88){while(1)switch(_context88.prev=_context88.next){case 0:_serialize=serialize(_k),_serialize2=_slicedToArray2(_serialize,1),key=_serialize2[0];if(key){_context88.next=3;break;}return _context88.abrupt(\"return\");case 3:_createCacheHelper=createCacheHelper(cache,key),_createCacheHelper2=_slicedToArray2(_createCacheHelper,2),get=_createCacheHelper2[0],set=_createCacheHelper2[1];_SWRGlobalState$get3=SWRGlobalState.get(cache),_SWRGlobalState$get4=_slicedToArray2(_SWRGlobalState$get3,3),EVENT_REVALIDATORS=_SWRGlobalState$get4[0],MUTATION=_SWRGlobalState$get4[1],FETCH=_SWRGlobalState$get4[2];revalidators=EVENT_REVALIDATORS[key];startRevalidate=function startRevalidate(){if(revalidate){delete FETCH[key];if(revalidators&&revalidators[0]){return revalidators[0](MUTATE_EVENT).then(function(){return get().data;});}}return get().data;};if(!(args.length<3)){_context88.next=9;break;}return _context88.abrupt(\"return\",startRevalidate());case 9:data=_data;beforeMutationTs=getTimestamp();MUTATION[key]=[beforeMutationTs,0];hasOptimisticData=!isUndefined(optimisticData);state=get();displayedData=state.data;currentData=state._c;committedData=isUndefined(currentData)?displayedData:currentData;if(hasOptimisticData){optimisticData=isFunction(optimisticData)?optimisticData(committedData):optimisticData;set({data:optimisticData,_c:committedData});}if(isFunction(data)){try{data=data(committedData);}catch(err){error=err;}}if(!(data&&isFunction(data.then))){_context88.next=30;break;}_context88.next=22;return data[\"catch\"](function(err){error=err;});case 22:data=_context88.sent;if(!(beforeMutationTs!==MUTATION[key][0])){_context88.next=29;break;}if(!error){_context88.next=26;break;}throw error;case 26:return _context88.abrupt(\"return\",data);case 29:if(error&&hasOptimisticData&&rollbackOnError(error)){populateCache=true;data=committedData;set({data:data,_c:UNDEFINED});}case 30:if(populateCache){if(!error){if(isFunction(populateCache)){data=populateCache(data,committedData);}set({data:data,_c:UNDEFINED});}}MUTATION[key][1]=getTimestamp();_context88.next=34;return startRevalidate();case 34:res=_context88.sent;set({_c:UNDEFINED});if(!error){_context88.next=40;break;}if(!throwOnError){_context88.next=39;break;}throw error;case 39:return _context88.abrupt(\"return\");case 40:return _context88.abrupt(\"return\",populateCache?res:data);case 41:case\"end\":return _context88.stop();}},_callee88);}));return _mutateByKey.apply(this,arguments);};mutateByKey=function _mutateByKey2(_x){return _mutateByKey.apply(this,arguments);};for(_len9=_args5.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++){args[_key9]=_args5[_key9];}cache=args[0],_key=args[1],_data=args[2],_opts=args[3];options=mergeObjects({populateCache:true,throwOnError:true},typeof _opts==='boolean'?{revalidate:_opts}:_opts||{});populateCache=options.populateCache;rollbackOnErrorOption=options.rollbackOnError;optimisticData=options.optimisticData;revalidate=options.revalidate!==false;rollbackOnError=function rollbackOnError(error){return typeof rollbackOnErrorOption==='function'?rollbackOnErrorOption(error):rollbackOnErrorOption!==false;};throwOnError=options.throwOnError;if(!isFunction(_key)){_context89.next=17;break;}keyFilter=_key;matchedKeys=[];it=cache.keys();for(keyIt=it.next();!keyIt.done;keyIt=it.next()){key=keyIt.value;if(!/^\\$(inf|sub)\\$/.test(key)&&keyFilter(cache.get(key)._k)){matchedKeys.push(key);}}return _context89.abrupt(\"return\",Promise.all(matchedKeys.map(mutateByKey)));case 17:return _context89.abrupt(\"return\",mutateByKey(_key));case 18:case\"end\":return _context89.stop();}},_callee89);}));return _internalMutate.apply(this,arguments);}var revalidateAllKeys=function revalidateAllKeys(revalidators,type){for(var key in revalidators){if(revalidators[key][0])revalidators[key][0](type);}};var initCache=function initCache(provider,options){if(!SWRGlobalState.has(provider)){var opts=mergeObjects(defaultConfigOptions,options);var EVENT_REVALIDATORS={};var _mutate=internalMutate.bind(UNDEFINED,provider);var unmount=noop;var subscriptions={};var subscribe=function subscribe(key,callback){var subs=subscriptions[key]||[];subscriptions[key]=subs;subs.push(callback);return function(){return subs.splice(subs.indexOf(callback),1);};};var setter=function setter(key,value,prev){provider.set(key,value);var subs=subscriptions[key];if(subs){var _iterator4=_createForOfIteratorHelper2(subs),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _fn=_step4.value;_fn(value,prev);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}};var initProvider=function initProvider(){if(!SWRGlobalState.has(provider)){SWRGlobalState.set(provider,[EVENT_REVALIDATORS,{},{},{},_mutate,setter,subscribe]);if(!IS_SERVER){var releaseFocus=opts.initFocus(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,EVENT_REVALIDATORS,FOCUS_EVENT)));var releaseReconnect=opts.initReconnect(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,EVENT_REVALIDATORS,RECONNECT_EVENT)));unmount=function unmount(){releaseFocus&&releaseFocus();releaseReconnect&&releaseReconnect();SWRGlobalState[\"delete\"](provider);};}}};initProvider();return[provider,_mutate,initProvider,unmount];}return[provider,SWRGlobalState.get(provider)[4]];};var onErrorRetry=function onErrorRetry(_,__,config,revalidate,opts){var maxRetryCount=config.errorRetryCount;var currentRetryCount=opts.retryCount;var timeout=~~((Math.random()+0.5)*(1<<(currentRetryCount<8?currentRetryCount:8)))*config.errorRetryInterval;if(!isUndefined(maxRetryCount)&&currentRetryCount>maxRetryCount){return;}setTimeout(revalidate,timeout,opts);};var compare=function compare(currentData,newData){return stableHash(currentData)==stableHash(newData);};var _initCache=initCache(new Map()),_initCache2=_slicedToArray2(_initCache,2),cache=_initCache2[0],mutate=_initCache2[1];mergeObjects({onLoadingSlow:noop,onSuccess:noop,onError:noop,onErrorRetry:onErrorRetry,onDiscarded:noop,revalidateOnFocus:true,revalidateOnReconnect:true,revalidateIfStale:true,shouldRetryOnError:true,errorRetryInterval:slowConnection?10000:5000,focusThrottleInterval:5*1000,dedupingInterval:2*1000,loadingTimeout:slowConnection?5000:3000,compare:compare,isPaused:function isPaused(){return false;},cache:cache,mutate:mutate,fallback:{}},preset);F$5({});var enableDevtools=isWindowDefined&&window.__SWR_DEVTOOLS_USE__;var use=enableDevtools?window.__SWR_DEVTOOLS_USE__:[];var setupDevTools=function setupDevTools(){if(enableDevtools){window.__SWR_DEVTOOLS_REACT__=wn;}};var middleware=function middleware(useSWRNext){return function(key_,fetcher_,config){var fetcher=fetcher_&&function(){var key=serialize(key_)[0];var _SWRGlobalState$get=SWRGlobalState.get(cache),_SWRGlobalState$get2=_slicedToArray2(_SWRGlobalState$get,4),PRELOAD=_SWRGlobalState$get2[3];var req=PRELOAD[key];if(req){delete PRELOAD[key];return req;}return fetcher_.apply(void 0,arguments);};return useSWRNext(key_,fetcher,config);};};use.concat(middleware);setupDevTools();var DEFAULT_MFA_STATE={primaryInfo:null,isEnrolling:false,smsOtp:{isSending:false,sendError:null,codeExpiration:null,formattedDestination:null,enrolledNumber:null},totp:{isCreating:false,createError:null,enrollment:null}};[B2BMFAProducts.totp,B2BMFAProducts.smsOtp];var AppScreens;(function(AppScreens){AppScreens[\"Main\"]=\"Main\";AppScreens[\"EmailConfirmation\"]=\"Email Confirmation\";AppScreens[\"LoggedIn\"]=\"Logged In\";AppScreens[\"Discovery\"]=\"Discovery\";AppScreens[\"Error\"]=\"Error\";AppScreens[\"PasswordEmailForm\"]=\"Password Email\";AppScreens[\"PasswordAuthenticate\"]=\"Password Authenticate\";AppScreens[\"PasswordResetForm\"]=\"Password Reset Form\";AppScreens[\"PasswordResetVerifyConfirmation\"]=\"Password Reset Verify Confirmation\";AppScreens[\"PasswordForgotForm\"]=\"Password Forgot Form\";AppScreens[\"PasswordSetNewConfirmation\"]=\"Password Set New Confirmation\";AppScreens[\"MFAEnrollmentSelection\"]=\"MFA Enrollment Selection\";AppScreens[\"RecoveryCodeEntry\"]=\"Recovery Code Entry\";AppScreens[\"RecoveryCodeSave\"]=\"Recovery Code Save\";AppScreens[\"SMSOTPEnrollment\"]=\"SMS OTP Enrollment\";AppScreens[\"SMSOTPEntry\"]=\"SMS OTP Entry\";AppScreens[\"TOTPEnrollmentManual\"]=\"TOTP Enrollment Manual\";AppScreens[\"TOTPEnrollmentQRCode\"]=\"TOTP Enrollment QR Code\";AppScreens[\"TOTPEntry\"]=\"TOTP Entry\";})(AppScreens||(AppScreens={}));var ErrorType;(function(ErrorType){ErrorType[ErrorType[\"Default\"]=0]=\"Default\";ErrorType[ErrorType[\"EmailMagicLink\"]=1]=\"EmailMagicLink\";ErrorType[ErrorType[\"Organization\"]=2]=\"Organization\";})(ErrorType||(ErrorType={}));({screen:AppScreens.Main,formState:{magicLinkState:{email:''},discoveryState:{email:'',intermediateSessionToken:'',discoveredOrganizations:[]},passwordState:{email:''}},flowState:{type:AuthFlowType.Organization,organization:null},mfa:DEFAULT_MFA_STATE,errorType:ErrorType.Default});({products:[B2BProducts.emailMagicLinks],authFlowType:AuthFlowType.Organization,sessionOptions:{sessionDurationMinutes:60}});({'stytch.magicLinks.authenticate':StytchEventType.B2BMagicLinkAuthenticate,'stytch.sso.authenticate':StytchEventType.B2BSSOAuthenticate,'stytch.magicLinks.discovery.authenticate':StytchEventType.B2BMagicLinkDiscoveryAuthenticate,'stytch.discovery.organization.create':StytchEventType.B2BDiscoveryOrganizationsCreate,'stytch.discovery.intermediateSessions.exchange':StytchEventType.B2BDiscoveryIntermediateSessionExchange,'stytch.magicLinks.email.loginOrSignup':StytchEventType.B2BMagicLinkEmailLoginOrSignup,'stytch.magicLinks.discovery.send':StytchEventType.B2BMagicLinkEmailDiscoverySend,'stytch.oauth.authenticate':StytchEventType.B2BOAuthAuthenticate,'stytch.oauth.discovery.authenticate':StytchEventType.B2BOAuthDiscoveryAuthenticate,'stytch.otps.sms.send':StytchEventType.B2BSMSOTPSend,'stytch.otps.sms.authenticate':StytchEventType.B2BSMSOTPAuthenticate,'stytch.totp.create':StytchEventType.B2BTOTPCreate,'stytch.totp.authenticate':StytchEventType.B2BTOTPAuthenticate,'stytch.recoveryCodes.recover':StytchEventType.B2BRecoveryCodesRecover});var PasswordB2CError=function PasswordB2CError(props){var _a,_b;var bootstrap=useBootstrap();var complexity=(_a=bootstrap.passwordConfig)===null||_a===void 0?void 0:_a.ludsComplexity;var characterLength=(_b=bootstrap.passwordConfig)===null||_b===void 0?void 0:_b.ludsMinimumCount;if(props.passwordPolicy==='none'){return null;}if(props.passwordPolicy==='zxcvbn'){return/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(PasswordStrengthCheck,{score:props.passwordScore}),/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:props.errorMessage!==''?props.errorMessage:props.passwordFeedback}));}return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:4},/*#__PURE__*/wn.createElement(Flex,{gap:4},props.missingCharacters===0?/*#__PURE__*/wn.createElement(CheckIcon,null):/*#__PURE__*/wn.createElement(CrossIcon,null),/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:props.missingCharacters===0?'success':'error'},\"Must be at least \",characterLength,\" characters long\")),/*#__PURE__*/wn.createElement(Flex,{gap:4},props.missingComplexity===0?/*#__PURE__*/wn.createElement(CheckIcon,null):/*#__PURE__*/wn.createElement(CrossIcon,null),/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:props.missingComplexity===0?'success':'error'},\"Must contain \",complexity,\" of the following: uppercase letter, lowercase letter, number, symbol\")),props.isPasswordBreached&&(/*#__PURE__*/wn.createElement(Flex,{gap:4},/*#__PURE__*/wn.createElement(CrossIcon,null),/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"error\"},\"This password may have been used on a different site that experienced a security issue. Please choose another password.\"))));};var PasswordNewUser=function PasswordNewUser(){var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var _useGlobalReducer19=useGlobalReducer(),_useGlobalReducer20=_slicedToArray2(_useGlobalReducer19,2),state=_useGlobalReducer20[0],dispatch=_useGlobalReducer20[1];var onEvent=useEventCallback();var onError=useErrorCallback();var _h$63=h$5(state.formState.passwordState.email),_h$64=_slicedToArray2(_h$63,2),email=_h$64[0],setEmail=_h$64[1];var _h$65=h$5(''),_h$66=_slicedToArray2(_h$65,2),password=_h$66[0],setPassword=_h$66[1];var _h$67=h$5(''),_h$68=_slicedToArray2(_h$67,2),errorMessage=_h$68[0],setErrorMessage=_h$68[1];var _h$69=h$5(0),_h$70=_slicedToArray2(_h$69,2),passwordScore=_h$70[0],setPasswordScore=_h$70[1];var _h$71=h$5(''),_h$72=_slicedToArray2(_h$71,2),passwordFeedback=_h$72[0],setPasswordFeedback=_h$72[1];var _h$73=h$5(true),_h$74=_slicedToArray2(_h$73,2),invalidPassword=_h$74[0],setInvalidPassword=_h$74[1];var _h$75=h$5(false),_h$76=_slicedToArray2(_h$75,2),isSubmitting=_h$76[0],setIsSubmitting=_h$76[1];var _h$77=h$5('none'),_h$78=_slicedToArray2(_h$77,2),strengthPolicy=_h$78[0],setStrengthPolicy=_h$78[1];var _h$79=h$5(0),_h$80=_slicedToArray2(_h$79,2),missingCharacters=_h$80[0],setMissingCharacters=_h$80[1];var _h$81=h$5(0),_h$82=_slicedToArray2(_h$81,2),missingComplexity=_h$82[0],setMissingComplexity=_h$82[1];var _h$83=h$5(false),_h$84=_slicedToArray2(_h$83,2),isPasswordBreached=_h$84[0],setIsPasswordBreached=_h$84[1];var updateStrengthCheck=F$4(function(){return debounce(function(email,password){setErrorMessage('');stytchClient.passwords.strengthCheck({email:email,password:password}).then(function(_ref68){var score=_ref68.score,feedback=_ref68.feedback,valid_password=_ref68.valid_password,strength_policy=_ref68.strength_policy,breached_password=_ref68.breached_password;setStrengthPolicy(strength_policy);if(strength_policy==='zxcvbn'){setPasswordScore(score);setPasswordFeedback(feedback.warning);}else if(strength_policy==='luds'){setMissingCharacters(feedback.luds_requirements.missing_characters);setMissingComplexity(feedback.luds_requirements.missing_complexity);setIsPasswordBreached(breached_password);}setInvalidPassword(!valid_password);})[\"catch\"](function(e){if(e.error_type==='invalid_email'){setErrorMessage(e.error_message);}});});},[stytchClient.passwords]);if(!passwordOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var onPasswordChange=function onPasswordChange(password){setPassword(password);updateStrengthCheck(email,password);};var handleSubmit=function handleSubmit(e){var _a,_b;e.preventDefault();setErrorMessage('');setIsSubmitting(true);stytchClient.passwords.create({email:email,password:password,session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(data){setIsSubmitting(false);onEvent({type:StytchEventType.PasswordCreate,data:data});dispatch({type:'transition',screen:AppScreens$1.PasswordConfirmation});})[\"catch\"](function(e){onError(e);if(e.error_type==='reset_password'){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(){dispatch({type:'transition',screen:AppScreens$1.PasswordDedupe});});}setErrorMessage(e.error_message);setIsSubmitting(false);});};return/*#__PURE__*/wn.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Text,null,\"Finish creating your account by setting a password.\"),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:2},/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"secondary\"},\"Email\"),/*#__PURE__*/wn.createElement(EmailInput,{email:email,setEmail:setEmail,disableInput:true})),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:4},/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"secondary\"},\"Password\"),/*#__PURE__*/wn.createElement(PasswordInput,{password:password,setPassword:onPasswordChange,type:\"new\"}),/*#__PURE__*/wn.createElement(PasswordB2CError,{passwordPolicy:strengthPolicy,passwordScore:passwordScore,errorMessage:errorMessage,passwordFeedback:passwordFeedback,missingCharacters:missingCharacters,missingComplexity:missingComplexity,isPasswordBreached:isPasswordBreached})),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:\"Continue\",disabled:invalidPassword})));};var ForgotPassword=He(Text)(_templateObject39||(_templateObject39=_taggedTemplateLiteral([\"\\n  text-decoration: underline;\\n  cursor: pointer;\\n\"])));var PasswordAuthenticate=function PasswordAuthenticate(){var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var _useGlobalReducer21=useGlobalReducer(),_useGlobalReducer22=_slicedToArray2(_useGlobalReducer21,2),state=_useGlobalReducer22[0],dispatch=_useGlobalReducer22[1];var onEvent=useEventCallback();var onError=useErrorCallback();var _h$85=h$5(state.formState.passwordState.email),_h$86=_slicedToArray2(_h$85,2),email=_h$86[0],setEmail=_h$86[1];var _h$87=h$5(''),_h$88=_slicedToArray2(_h$87,2),password=_h$88[0],setPassword=_h$88[1];var _h$89=h$5(''),_h$90=_slicedToArray2(_h$89,2),errorMessage=_h$90[0],setErrorMessage=_h$90[1];var _h$91=h$5(false),_h$92=_slicedToArray2(_h$91,2),isSubmitting=_h$92[0],setIsSubmitting=_h$92[1];if(!passwordOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var handleSubmit=function handleSubmit(e){var _a,_b;e.preventDefault();setErrorMessage('');setIsSubmitting(true);stytchClient.passwords.authenticate({email:email,password:password,session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(data){setIsSubmitting(false);onEvent({type:StytchEventType.PasswordAuthenticate,data:data});dispatch({type:'transition',screen:AppScreens$1.PasswordConfirmation});})[\"catch\"](function(e){onError(e);if(e.error_type==='reset_password'){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(){dispatch({type:'transition',screen:AppScreens$1.PasswordDedupe});});}setErrorMessage(e.error_message);setIsSubmitting(false);});};var onForgot=function onForgot(){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(){dispatch({type:'transition',screen:AppScreens$1.PasswordForgot});});};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:36},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Log In\"),/*#__PURE__*/wn.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:2},/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"secondary\"},\"Email\"),/*#__PURE__*/wn.createElement(EmailInput,{email:email,setEmail:setEmail,disableInput:true})),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:2},/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"secondary\"},\"Password\"),/*#__PURE__*/wn.createElement(PasswordInput,{password:password,setPassword:setPassword,type:\"current\"}),/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:errorMessage})),/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"flex-end\"},/*#__PURE__*/wn.createElement(ForgotPassword,{onClick:onForgot},\"Forgot Password?\")),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:\"Continue\"}))));};var PasswordlessCreate=function PasswordlessCreate(){var _useGlobalReducer23=useGlobalReducer(),_useGlobalReducer24=_slicedToArray2(_useGlobalReducer23,2),state=_useGlobalReducer24[0],dispatch=_useGlobalReducer24[1];var onError=useErrorCallback();var onEvent=useEventCallback();var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var email=state.formState.passwordState.email;var _h$93=h$5(''),_h$94=_slicedToArray2(_h$93,2),errorMessage=_h$94[0],setErrorMessage=_h$94[1];var resetPassword=function resetPassword(){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(data){onEvent({type:StytchEventType.PasswordResetByEmailStart,data:data});dispatch({type:'transition',screen:AppScreens$1.PasswordSetNew});})[\"catch\"](function(e){onError(e);setErrorMessage(e.error_message);});};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:4},/*#__PURE__*/wn.createElement(Button,{type:\"button\",onClick:resetPassword,variant:\"text\"},\"Create a password instead\"),/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:errorMessage}));};var PasswordSecondaryMethod=function PasswordSecondaryMethod(_ref78){var secondaryType=_ref78.secondaryType;var stytchClient=useStytch();var config=useConfig();var _useGlobalReducer25=useGlobalReducer(),_useGlobalReducer26=_slicedToArray2(_useGlobalReducer25,2),state=_useGlobalReducer26[0],dispatch=_useGlobalReducer26[1];var _h$95=h$5(false),_h$96=_slicedToArray2(_h$95,2),setIsSubmitting=_h$96[1];var onEvent=useEventCallback();var onError=useErrorCallback();var emailOptions=config.emailMagicLinksOptions;var email=state.formState.passwordState.email;var userType=state.formState.passwordState.type;var sendLink=function sendLink(){stytchClient.magicLinks.email.loginOrCreate(email,emailOptions&&convertMagicLinkOptions(emailOptions)).then(function(data){onEvent({type:StytchEventType.MagicLinkLoginOrCreateEvent,data:data});setIsSubmitting(false);dispatch({type:'set_magic_link_email',email:email});dispatch({type:'transition',screen:AppScreens$1.EmailConfirmation});})[\"catch\"](function(e){onError(e);setIsSubmitting(false);});};var sendCode=function sendCode(){var _a,_b;stytchClient.otps.email.loginOrCreate(email,{expiration_minutes:(_b=(_a=config.otpOptions)===null||_a===void 0?void 0:_a.expirationMinutes)!==null&&_b!==void 0?_b:DEFAULT_OTP_EXPIRATION_MINUTES}).then(function(data){setIsSubmitting(false);onEvent({type:StytchEventType.OTPsLoginOrCreateEvent,data:data});dispatch({type:'update_otp_state',otpState:{type:OTPMethods.Email,methodId:data.method_id,otpDestination:email}});dispatch({type:'transition',screen:AppScreens$1.OTPAuthenticate});})[\"catch\"](function(e){onError(e);setIsSubmitting(false);});};var buttonText=secondaryType==='eml'?'Email me a login link':'Email me a login code';var buttonOnClick=secondaryType==='eml'?sendLink:sendCode;var NewUser=function NewUser(){return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:36},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Choose how you would like to create your account.\"),/*#__PURE__*/wn.createElement(Button,{type:\"button\",onClick:buttonOnClick},buttonText));};var PasswordUser=function PasswordUser(){return/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"text\",onClick:buttonOnClick},buttonText);};var ComponentToUserType={\"new\":/*#__PURE__*/wn.createElement(NewUser,null),password:/*#__PURE__*/wn.createElement(PasswordUser,null),passwordless:null};return ComponentToUserType[userType];};var Password=function Password(){var _a,_b;var config=useConfig();var stytchClient=useStytch();var onEvent=useEventCallback();var onError=useErrorCallback();var _useGlobalReducer27=useGlobalReducer(),_useGlobalReducer28=_slicedToArray2(_useGlobalReducer27,2),state=_useGlobalReducer28[0],dispatch=_useGlobalReducer28[1];var email=state.formState.passwordState.email;var otpMethods=(_b=(_a=config===null||config===void 0?void 0:config.otpOptions)===null||_a===void 0?void 0:_a.methods)!==null&&_b!==void 0?_b:[];var hasEmailMagicLink=config.products.includes(Products.emailMagicLinks)&&!!config.emailMagicLinksOptions;var hasOTPEmail=otpMethods.includes(OTPMethods.Email);var secondaryType=hasOTPEmail?'otp':hasEmailMagicLink?'eml':'';var userType=state.formState.passwordState.type;var emailOptions=config.emailMagicLinksOptions;var passwordOptions=config.passwordOptions;p$6(function(){var _a,_b;if(userType!=='passwordless'){return;}switch(secondaryType){case'eml':{stytchClient.magicLinks.email.loginOrCreate(state.formState.passwordState.email,emailOptions&&convertMagicLinkOptions(emailOptions)).then(function(data){onEvent({type:StytchEventType.MagicLinkLoginOrCreateEvent,data:data});dispatch({type:'set_magic_link_email',email:email});})[\"catch\"](function(e){onError(e);});return;}case'otp':{stytchClient.otps.email.loginOrCreate(email,{expiration_minutes:(_b=(_a=config.otpOptions)===null||_a===void 0?void 0:_a.expirationMinutes)!==null&&_b!==void 0?_b:DEFAULT_OTP_EXPIRATION_MINUTES}).then(function(data){onEvent({type:StytchEventType.OTPsLoginOrCreateEvent,data:data});dispatch({type:'update_otp_state',otpState:{type:OTPMethods.Email,methodId:data.method_id,otpDestination:email}});})[\"catch\"](function(e){onError(e);});return;}default:{stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(data){onEvent({type:StytchEventType.PasswordResetByEmailStart,data:data});dispatch({type:'transition',screen:AppScreens$1.PasswordSetNew});})[\"catch\"](function(e){onError(e);});return;}}},[userType,secondaryType]);var ComponentToUserType={\"new\":(/*#__PURE__*/wn.createElement(wn.Fragment,null,secondaryType&&(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(PasswordSecondaryMethod,{secondaryType:secondaryType}),/*#__PURE__*/wn.createElement(Divider,null))),/*#__PURE__*/wn.createElement(PasswordNewUser,null))),password:(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(PasswordAuthenticate,null),secondaryType&&(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(Divider,null),/*#__PURE__*/wn.createElement(PasswordSecondaryMethod,{secondaryType:secondaryType}))))),passwordless:(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(wn.Fragment,null,secondaryType&&(/*#__PURE__*/wn.createElement(wn.Fragment,null,secondaryType==='eml'?/*#__PURE__*/wn.createElement(EmailConfirmation,null):/*#__PURE__*/wn.createElement(OTPAuthenticate,{hideBackArrow:true}),/*#__PURE__*/wn.createElement(Divider,null),/*#__PURE__*/wn.createElement(PasswordlessCreate,null))))))};return/*#__PURE__*/wn.createElement(Flex,{gap:24,direction:\"column\"},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),ComponentToUserType[userType]);};var ImageContainer$1=He(Flex)(_templateObject40||(_templateObject40=_taggedTemplateLiteral([\"\\n  > div {\\n    height: 200px;\\n    width: 200px;\\n  }\\n\"])));var ConnectWallet=function ConnectWallet(){var onEvent=useEventCallback();var onError=useErrorCallback();var handleError=function handleError(){onError({message:'[Error] Could not connect to wallet'});dispatch({type:'transition',screen:AppScreens$1.CryptoError});};var stytchClient=useStytch();var _useGlobalReducer29=useGlobalReducer(),_useGlobalReducer30=_slicedToArray2(_useGlobalReducer29,2),state=_useGlobalReducer30[0],dispatch=_useGlobalReducer30[1];var walletOption=state.formState.cryptoState.walletOption;var walletType=isSolanaWallet(walletOption)?'solana':'ethereum';var onConnectWallet=function onConnectWallet(){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee85(){var address;return _regeneratorRuntime2().wrap(function _callee85$(_context85){while(1)switch(_context85.prev=_context85.next){case 0:_context85.next=2;return connectWithWallet({wallet:walletOption});case 2:address=_context85.sent;stytchClient.cryptoWallets.authenticateStart({crypto_wallet_address:address,crypto_wallet_type:walletType}).then(function(data){onEvent({type:StytchEventType.CryptoWalletAuthenticateStart,data:data});dispatch({type:'update_crypto_state',cryptoState:{walletAddress:address,walletChallenge:data.challenge,walletOption:walletOption}});dispatch({type:'transition',screen:AppScreens$1.CryptoSignMessage});})[\"catch\"](handleError);case 4:case\"end\":return _context85.stop();}},_callee85);}));};p$6(function(){onConnectWallet();},[]);var WalletImage=WalletToIcon[walletOption];return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Connecting to your wallet...\"),/*#__PURE__*/wn.createElement(ImageContainer$1,{justifyContent:\"center\"},/*#__PURE__*/wn.createElement(WalletImage,null)),/*#__PURE__*/wn.createElement(Text,null,\"Complete sign in by connecting through the wallet pop up in the right corner of your screen.\"),/*#__PURE__*/wn.createElement(Text,null,\"Having trouble? Use the back arrow to return to the main screen and try logging in again.\"));};var ImageContainer=He(Flex)(_templateObject41||(_templateObject41=_taggedTemplateLiteral([\"\\n  > div {\\n    height: 200px;\\n    width: 200px;\\n  }\\n\"])));var SignMessage=function SignMessage(){var onEvent=useEventCallback();var onError=useErrorCallback();var handleError=function handleError(){onError({message:'[Error] Could not sign message'});dispatch({type:'transition',screen:AppScreens$1.CryptoError});};var stytchClient=useStytch();var config=useConfig();var _useGlobalReducer31=useGlobalReducer(),_useGlobalReducer32=_slicedToArray2(_useGlobalReducer31,2),state=_useGlobalReducer32[0],dispatch=_useGlobalReducer32[1];var _state$formState$cryp=state.formState.cryptoState,walletChallenge=_state$formState$cryp.walletChallenge,walletAddress=_state$formState$cryp.walletAddress,walletOption=_state$formState$cryp.walletOption;var walletType=isSolanaWallet(walletOption)?'solana':'ethereum';var onSignWallet=function onSignWallet(){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee86(){var _a,_b,signature;return _regeneratorRuntime2().wrap(function _callee86$(_context86){while(1)switch(_context86.prev=_context86.next){case 0:_context86.next=2;return signMessageWithWallet({wallet:walletOption,message:walletChallenge,address:walletAddress});case 2:signature=_context86.sent;stytchClient.cryptoWallets.authenticate({crypto_wallet_address:walletAddress,crypto_wallet_type:walletType,signature:signature,session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(data){onEvent({type:StytchEventType.CryptoWalletAuthenticate,data:data});dispatch({type:'transition',screen:AppScreens$1.CryptoConfirmation});})[\"catch\"](handleError);case 4:case\"end\":return _context86.stop();}},_callee86);}));};p$6(function(){onSignWallet();},[]);var WalletImage=WalletToIcon[walletOption];return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Completing signature request...\"),/*#__PURE__*/wn.createElement(ImageContainer,{justifyContent:\"center\"},/*#__PURE__*/wn.createElement(WalletImage,null)),/*#__PURE__*/wn.createElement(Text,null,\"Complete the signature request through the wallet pop up in the right corner of your screen.\"),/*#__PURE__*/wn.createElement(Text,null,\"Having trouble? Use the back arrow to return to the main screen and try logging in again.\"));};var WalletIcon=function WalletIcon(_ref103){var icon=_ref103.icon,name=_ref103.name,link=_ref103.link;return/*#__PURE__*/wn.createElement(\"a\",{href:link,target:\"_blank\",rel:\"noreferrer\",style:{textDecoration:'none',color:'inherit'}},/*#__PURE__*/wn.createElement(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'}},icon,/*#__PURE__*/wn.createElement(\"span\",null,name)));};var SetupNewWallet=function SetupNewWallet(){var _useGlobalReducer33=useGlobalReducer(),_useGlobalReducer34=_slicedToArray2(_useGlobalReducer33,2),dispatch=_useGlobalReducer34[1];var WalletIconComponent=function WalletIconComponent(_ref104){var wallet=_ref104.wallet;var Icon=WalletToIcon[wallet];return/*#__PURE__*/wn.createElement(Icon,null);};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Set up a new crypto wallet\"),/*#__PURE__*/wn.createElement(Text,null,\"Signing in with a crypto wallet can help keep your account private and secure.\"),/*#__PURE__*/wn.createElement(Text,null,\"Get started by downloading any Ethereum or Solana wallet. We\\u2019ve included a few examples of wallet extensions you can find below. Once you\\u2019ve set up your wallet, you can use it to sign in!\"),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"space-evenly\"},/*#__PURE__*/wn.createElement(WalletIcon,{icon:/*#__PURE__*/wn.createElement(WalletIconComponent,{wallet:Wallets.Vessel}),name:\"Vessel\",link:\"https://www.vessel.xyz/\"}),/*#__PURE__*/wn.createElement(WalletIcon,{icon:/*#__PURE__*/wn.createElement(WalletIconComponent,{wallet:Wallets.Metamask}),name:\"Metamask\",link:\"https://metamask.io/\"}),/*#__PURE__*/wn.createElement(WalletIcon,{icon:/*#__PURE__*/wn.createElement(WalletIconComponent,{wallet:Wallets.Phantom}),name:\"Phantom\",link:\"https://phantom.app/\"})),/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"space-evenly\"},/*#__PURE__*/wn.createElement(WalletIcon,{icon:/*#__PURE__*/wn.createElement(WalletIconComponent,{wallet:Wallets.Coinbase}),name:\"Coinbase\",link:\"https://www.coinbase.com/wallet\"}),/*#__PURE__*/wn.createElement(WalletIcon,{icon:/*#__PURE__*/wn.createElement(WalletIconComponent,{wallet:Wallets.Binance}),name:\"Binance\",link:\"https://www.bnbchain.world/en/binance-wallet\"}))));};var OtherCryptoWallets=function OtherCryptoWallets(){var _useGlobalReducer35=useGlobalReducer(),_useGlobalReducer36=_slicedToArray2(_useGlobalReducer35,2),dispatch=_useGlobalReducer36[1];return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Continue with other wallet\"),/*#__PURE__*/wn.createElement(CryptoWalletButtons,{type:\"other\"}));};var Success=function Success(){var _useGlobalReducer37=useGlobalReducer(),_useGlobalReducer38=_slicedToArray2(_useGlobalReducer37,2),dispatch=_useGlobalReducer38[1];return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Success!\"),/*#__PURE__*/wn.createElement(Text,null,\"You have successfully connected your wallet.\"),/*#__PURE__*/wn.createElement(ConfirmationSVG,null));};var Error$1=function Error$1(){var _useGlobalReducer39=useGlobalReducer(),_useGlobalReducer40=_slicedToArray2(_useGlobalReducer39,2),dispatch=_useGlobalReducer40[1];return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Looks like there was an error!\"),/*#__PURE__*/wn.createElement(Text,null,\"Your sign in request could not be completed. Use the back arrow to return to the log in screen and try again!\"));};var SuccessIcon=function SuccessIcon(){return/*#__PURE__*/y$4(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z\",fill:\"#0F4447\"}));};var ErrorIcon=function ErrorIcon(){return/*#__PURE__*/y$4(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z\",fill:\"#590607\"}));};var baseStyles={display:'flex',gap:'8px',padding:'8px',fontSize:'14px',borderRadius:'4px'};var successStyles=Object.assign(Object.assign({},baseStyles),{background:'#ECFFF5',boxShadow:'0px 5px 10px rgba(15, 68, 71, 0.18)',color:'#0F4447'});var errorStyles=Object.assign(Object.assign({},baseStyles),{background:'#FFEEEC',boxShadow:'0px 5px 10px rgba(89, 6, 7, 0.2)',color:'#590607'});var Snackbar=function Snackbar(){return/*#__PURE__*/wn.createElement(Toaster,{containerStyle:{position:'sticky',marginTop:'4px',marginBottom:'24px'},toastOptions:{success:{style:successStyles,icon:/*#__PURE__*/wn.createElement(SuccessIcon,null)},error:{style:errorStyles,icon:/*#__PURE__*/wn.createElement(ErrorIcon,null)}}});};var MagicLinkOption=function MagicLinkOption(){var _useGlobalReducer41=useGlobalReducer(),_useGlobalReducer42=_slicedToArray2(_useGlobalReducer41,2),state=_useGlobalReducer42[0],dispatch=_useGlobalReducer42[1];var stytchClient=useStytch();var config=useConfig();var emailMagicLinksOptions=config.emailMagicLinksOptions;var email=state.formState.passwordState.email;if(!emailMagicLinksOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var sendMagicLink=function sendMagicLink(){stytchClient.magicLinks.email.loginOrCreate(email,convertMagicLinkOptions(emailMagicLinksOptions)).then(function(){dispatch({type:'transition',screen:AppScreens$1.EmailConfirmation});});};return/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(Divider,null),/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"text\",onClick:sendMagicLink},\"Login without a password\"));};var PasswordForgot=function PasswordForgot(){var _useGlobalReducer43=useGlobalReducer(),_useGlobalReducer44=_slicedToArray2(_useGlobalReducer43,2),state=_useGlobalReducer44[0],dispatch=_useGlobalReducer44[1];var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var email=state.formState.passwordState.email;if(!passwordOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var resendResetPassword=function resendResetPassword(){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_regeneratorRuntime2().mark(function _callee87(){return _regeneratorRuntime2().wrap(function _callee87$(_context87){while(1)switch(_context87.prev=_context87.next){case 0:readB2CInternals(stytchClient).networkClient.logEvent({name:'email_try_again_clicked',details:{email:email,type:EmailSentType.ResetPassword}});stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(){return toast.success('Email resent');});case 2:case\"end\":return _context87.stop();}},_callee87);}));};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Forgot password?\"),/*#__PURE__*/wn.createElement(Text,null,\"A link to reset your password was sent to you at \",/*#__PURE__*/wn.createElement(\"b\",null,email),\".\"),/*#__PURE__*/wn.createElement(Text,null,\"Didn't get it?\",' ',/*#__PURE__*/wn.createElement(\"button\",{onClick:resendResetPassword,style:{all:'unset'}},/*#__PURE__*/wn.createElement(\"b\",{style:{cursor:'pointer'}},\"Resend email\"))),/*#__PURE__*/wn.createElement(MagicLinkOption,null));};var PasswordBreached=function PasswordBreached(){var _useGlobalReducer45=useGlobalReducer(),_useGlobalReducer46=_slicedToArray2(_useGlobalReducer45,2),state=_useGlobalReducer46[0],dispatch=_useGlobalReducer46[1];var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var email=state.formState.passwordState.email;if(!passwordOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var resendResetPassword=function resendResetPassword(){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(){return toast.success('Email resent');});};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Check your email to set a new password\"),/*#__PURE__*/wn.createElement(Text,null,\"A different site where you use the same password had a security issue recently. For your safety, an email was sent to you at \",/*#__PURE__*/wn.createElement(\"b\",null,email),\" to reset your password.\"),/*#__PURE__*/wn.createElement(Text,null,\"Didn't get it?\",' ',/*#__PURE__*/wn.createElement(\"button\",{type:\"button\",onClick:resendResetPassword,style:{all:'unset'}},/*#__PURE__*/wn.createElement(\"b\",{style:{cursor:'pointer'}},\"Resend email\"))),/*#__PURE__*/wn.createElement(MagicLinkOption,null));};var PasswordSetNew=function PasswordSetNew(){var _useGlobalReducer47=useGlobalReducer(),_useGlobalReducer48=_slicedToArray2(_useGlobalReducer47,2),state=_useGlobalReducer48[0],dispatch=_useGlobalReducer48[1];var onError=useErrorCallback();var onEvent=useEventCallback();var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var email=state.formState.passwordState.email;var resendResetPassword=function resendResetPassword(){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(data){toast.success('Email resent');onEvent({type:StytchEventType.PasswordResetByEmailStart,data:data});})[\"catch\"](function(e){onError(e);});};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Check your email!\"),/*#__PURE__*/wn.createElement(Text,null,\"A login link was sent to you at \",/*#__PURE__*/wn.createElement(\"b\",null,email),\".\"),/*#__PURE__*/wn.createElement(Text,null,\"Didn't get it?\",' ',/*#__PURE__*/wn.createElement(\"button\",{onClick:resendResetPassword,style:{all:'unset'}},/*#__PURE__*/wn.createElement(\"b\",{style:{cursor:'pointer'}},\"Resend email\"))));};var PasswordDedupe=function PasswordDedupe(){var _useGlobalReducer49=useGlobalReducer(),_useGlobalReducer50=_slicedToArray2(_useGlobalReducer49,2),state=_useGlobalReducer50[0],dispatch=_useGlobalReducer50[1];var stytchClient=useStytch();var config=useConfig();var passwordOptions=config.passwordOptions;var email=state.formState.passwordState.email;if(!passwordOptions)return/*#__PURE__*/wn.createElement(wn.Fragment,null);var resendResetPassword=function resendResetPassword(){stytchClient.passwords.resetByEmailStart(convertPasswordResetOptions(email,passwordOptions)).then(function(){return toast.success('Email resent');});};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:24},/*#__PURE__*/wn.createElement(BackArrow,{onClick:function onClick(){return dispatch({type:'transition',screen:AppScreens$1.Main});}}),/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Check your email to set a new password!\"),/*#__PURE__*/wn.createElement(Text,null,\"We want to make sure your account is secure and that it's really you logging in! A login link was sent to you at \",/*#__PURE__*/wn.createElement(\"b\",null,email),\".\"),/*#__PURE__*/wn.createElement(Text,null,\"Didn't get it?\",' ',/*#__PURE__*/wn.createElement(\"button\",{onClick:resendResetPassword,style:{all:'unset'}},/*#__PURE__*/wn.createElement(\"b\",{style:{cursor:'pointer'}},\"Resend email\"))),/*#__PURE__*/wn.createElement(MagicLinkOption,null));};var Form=He.form(_templateObject42||(_templateObject42=_taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));var ResetPasswordScreen=function ResetPasswordScreen(){var stytchClient=useStytch();var config=useConfig();var _useGlobalReducer51=useGlobalReducer(),_useGlobalReducer52=_slicedToArray2(_useGlobalReducer51,2),state=_useGlobalReducer52[0],dispatch=_useGlobalReducer52[1];var passwordToken=state.formState.resetPasswordState.token;var onEvent=useEventCallback();var onError=useErrorCallback();var _h$97=h$5('reset_password'),_h$98=_slicedToArray2(_h$97,2),resetTokenType=_h$98[0],setResetTokenType=_h$98[1];var _h$99=h$5(''),_h$100=_slicedToArray2(_h$99,2),password=_h$100[0],setPassword=_h$100[1];var _h$101=h$5(''),_h$102=_slicedToArray2(_h$101,2),errorMessage=_h$102[0],setErrorMessage=_h$102[1];var _h$103=h$5(0),_h$104=_slicedToArray2(_h$103,2),passwordScore=_h$104[0],setPasswordScore=_h$104[1];var _h$105=h$5(''),_h$106=_slicedToArray2(_h$105,2),passwordFeedback=_h$106[0],setPasswordFeedback=_h$106[1];var _h$107=h$5(true),_h$108=_slicedToArray2(_h$107,2),invalidPassword=_h$108[0],setInvalidPassword=_h$108[1];var _h$109=h$5(false),_h$110=_slicedToArray2(_h$109,2),isSubmitting=_h$110[0],setIsSubmitting=_h$110[1];var _h$111=h$5('none'),_h$112=_slicedToArray2(_h$111,2),strengthPolicy=_h$112[0],setStrengthPolicy=_h$112[1];var _h$113=h$5(0),_h$114=_slicedToArray2(_h$113,2),missingCharacters=_h$114[0],setMissingCharacters=_h$114[1];var _h$115=h$5(0),_h$116=_slicedToArray2(_h$115,2),missingComplexity=_h$116[0],setMissingComplexity=_h$116[1];var _h$117=h$5(false),_h$118=_slicedToArray2(_h$117,2),isPasswordBreached=_h$118[0],setIsPasswordBreached=_h$118[1];var _h$119=h$5(''),_h$120=_slicedToArray2(_h$119,2),loginErrorMessage=_h$120[0],setLoginErrorMessage=_h$120[1];var _h$121=h$5(false),_h$122=_slicedToArray2(_h$121,2),isLoggingIn=_h$122[0],setIsLoggingIn=_h$122[1];var updateStrengthCheck=F$4(function(){return debounce(function(password){return stytchClient.passwords.strengthCheck({password:password}).then(function(_ref105){var score=_ref105.score,feedback=_ref105.feedback,valid_password=_ref105.valid_password,strength_policy=_ref105.strength_policy,breached_password=_ref105.breached_password;setStrengthPolicy(strength_policy);setInvalidPassword(!valid_password);if(strength_policy==='zxcvbn'){setPasswordScore(score);setPasswordFeedback(feedback.warning);}else if(strength_policy==='luds'){setMissingCharacters(feedback.luds_requirements.missing_characters);setMissingComplexity(feedback.luds_requirements.missing_complexity);setIsPasswordBreached(breached_password);}});});},[stytchClient.passwords]);p$6(function(){var _a;var params=new URLSearchParams(window.location.search);var tokenType=(_a=params.get('stytch_token_type'))!==null&&_a!==void 0?_a:'';setResetTokenType(tokenType);},[]);p$6(function(){var _a,_b;if(resetTokenType==='login'){stytchClient.magicLinks.authenticate(passwordToken,{session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(){dispatch({type:'transition',screen:AppScreens$1.PasswordConfirmation});})[\"catch\"](function(e){onError(e);});}},[resetTokenType]);var onPasswordChange=function onPasswordChange(password){setPassword(password);updateStrengthCheck(password);};var handleSubmit=function handleSubmit(e){var _a,_b;e.preventDefault();setErrorMessage('');setIsSubmitting(true);stytchClient.passwords.resetByEmail({token:passwordToken,password:password,session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(data){setIsSubmitting(false);onEvent({type:StytchEventType.PasswordResetByEmail,data:data});dispatch({type:'transition',screen:AppScreens$1.PasswordConfirmation});})[\"catch\"](function(e){onError(e);var message=e.message;if(e instanceof StytchAPIError){message=e.error_message;}setErrorMessage(message);setIsSubmitting(false);});};var handleLogin=function handleLogin(){var _a,_b;setLoginErrorMessage('');setIsLoggingIn(true);stytchClient.magicLinks.authenticate(passwordToken,{session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(){dispatch({type:'transition',screen:AppScreens$1.PasswordConfirmation});})[\"catch\"](function(e){onError(e);var message=e.message;if(e instanceof StytchAPIError){message=e.error_message;}setLoginErrorMessage(message);})[\"finally\"](function(){setIsLoggingIn(false);});};if(resetTokenType==='login'){return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:36,className:'resetPasswordContainer',alignItems:\"center\"},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Logging in\"),/*#__PURE__*/wn.createElement(CircularProgress,{size:100,thickness:2}));}return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:36,className:'resetPasswordContainer',alignItems:\"center\",width:\"100%\"},/*#__PURE__*/wn.createElement(Text,{size:\"header\"},\"Reset your password\"),/*#__PURE__*/wn.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:2},/*#__PURE__*/wn.createElement(Text,{size:\"helper\",color:\"secondary\"},\"Password\"),/*#__PURE__*/wn.createElement(PasswordInput,{password:password,setPassword:onPasswordChange,type:\"new\"}),/*#__PURE__*/wn.createElement(PasswordB2CError,{passwordPolicy:strengthPolicy,passwordScore:passwordScore,errorMessage:errorMessage,passwordFeedback:passwordFeedback,missingCharacters:missingCharacters,missingComplexity:missingComplexity,isPasswordBreached:isPasswordBreached})),/*#__PURE__*/wn.createElement(SubmitButton,{isSubmitting:isSubmitting,text:\"Continue\",disabled:invalidPassword}))),/*#__PURE__*/wn.createElement(Divider,null),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:8,width:\"100%\"},/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"text\",disabled:isLoggingIn,onClick:handleLogin},isLoggingIn?(/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\",alignItems:\"center\",gap:8},/*#__PURE__*/wn.createElement(CircularProgress,{size:18,thickness:1}),\"Logging in...\")):'Login without a password'),loginErrorMessage&&/*#__PURE__*/wn.createElement(ErrorText,{errorMessage:loginErrorMessage})));};var ConfirmationScreen=function ConfirmationScreen(){return/*#__PURE__*/y$4(Flex,{direction:\"column\",gap:24,alignItems:\"center\"},/*#__PURE__*/y$4(Text,{size:\"header\"},\"Success!\"),/*#__PURE__*/y$4(Text,null,\"You have successfully logged in.\"),/*#__PURE__*/y$4(ConfirmationSVG,null));};var PasskeyCollageSvg=function PasskeyCollageSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"112\",height:\"96\",viewBox:\"0 0 112 96\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"g\",{clipPath:\"url(#clip0_2877_10121)\"},/*#__PURE__*/wn.createElement(\"ellipse\",{cx:\"55.9998\",cy:\"48.0004\",rx:\"48\",ry:\"48.0003\",fill:\"#C7F1FF\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M100.866 74.5461H103.823\",stroke:\"#0C5A56\",strokeWidth:\"1.28124\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M84.604 67.3945C84.604 67.2618 84.7116 67.1542 84.8442 67.1542H106.54C106.672 67.1542 106.78 67.2618 106.78 67.3945V77.2627C106.78 77.3954 106.672 77.503 106.54 77.503H84.8442C84.7116 77.503 84.604 77.3954 84.604 77.2627V67.3945Z\",stroke:\"#0C5A56\",strokeWidth:\"1.28124\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M91.2568 70.8503L87.5608 74.5463\",stroke:\"#0C5A56\",strokeWidth:\"1.28124\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M91.2568 74.5463L87.5608 70.8503\",stroke:\"#0C5A56\",strokeWidth:\"1.28124\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M97.9096 70.8503L94.2136 74.5463\",stroke:\"#0C5A56\",strokeWidth:\"1.28124\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M97.9096 74.5463L94.2136 70.8503\",stroke:\"#0C5A56\",strokeWidth:\"1.28124\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M87.9158 31.7665C87.8368 31.7271 87.7974 31.6629 87.7974 31.5742C87.7974 31.4854 87.8171 31.4015 87.8566 31.3226C89.0799 29.6256 90.6289 28.3135 92.5034 27.3861C94.3779 26.4587 96.3806 25.995 98.5117 25.995C100.643 25.995 102.65 26.4489 104.535 27.3565C106.419 28.2642 107.983 29.5665 109.226 31.2634C109.285 31.362 109.31 31.441 109.3 31.5002C109.29 31.5594 109.256 31.6185 109.196 31.6777C109.137 31.7369 109.063 31.7665 108.974 31.7665C108.886 31.7665 108.802 31.7172 108.723 31.6185C107.559 30.0005 106.074 28.7575 104.268 27.8893C102.463 27.0211 100.544 26.587 98.5117 26.587C96.4793 26.587 94.5752 27.026 92.7993 27.9041C91.0235 28.7821 89.5436 30.0203 88.3597 31.6185C88.2808 31.7172 88.2068 31.7764 88.1377 31.7961C88.0687 31.8159 87.9947 31.806 87.9158 31.7665ZM102.034 46.6541C100.001 46.141 98.3291 45.1249 97.017 43.6055C95.7048 42.0862 95.0487 40.2413 95.0487 38.0708C95.0487 37.1434 95.3891 36.364 96.0699 35.7326C96.7506 35.1012 97.5645 34.7855 98.5117 34.7855C99.4588 34.7855 100.273 35.1012 100.953 35.7326C101.634 36.364 101.975 37.1434 101.975 38.0708C101.975 38.8206 102.266 39.452 102.848 39.965C103.43 40.4781 104.106 40.7346 104.875 40.7346C105.625 40.7346 106.281 40.4781 106.843 39.965C107.406 39.452 107.687 38.8206 107.687 38.0708C107.687 35.6438 106.784 33.6114 104.979 31.9737C103.173 30.336 101.018 29.5171 98.5117 29.5171C96.0057 29.5171 93.85 30.336 92.0446 31.9737C90.2392 33.6114 89.3364 35.6438 89.3364 38.0708C89.3364 38.5444 89.3907 39.161 89.4992 39.9206C89.6077 40.6803 89.8396 41.5436 90.1948 42.5104C90.2342 42.6091 90.2342 42.6831 90.1948 42.7324C90.1553 42.7817 90.106 42.8261 90.0468 42.8656C89.9678 42.9051 89.884 42.9149 89.7952 42.8952C89.7064 42.8755 89.6423 42.8163 89.6028 42.7176C89.3463 41.9678 89.144 41.2032 88.9961 40.4238C88.8481 39.6444 88.7741 38.8601 88.7741 38.0708C88.7741 35.5254 89.7409 33.35 91.6746 31.5446C93.6083 29.7391 95.8873 28.8364 98.5117 28.8364C101.195 28.8364 103.499 29.7243 105.423 31.5002C107.347 33.276 108.308 35.4662 108.308 38.0708C108.308 38.9785 107.973 39.748 107.302 40.3794C106.631 41.0108 105.822 41.3265 104.875 41.3265C103.908 41.3265 103.08 41.0108 102.389 40.3794C101.698 39.748 101.353 38.9785 101.353 38.0708C101.353 37.3013 101.072 36.66 100.509 36.147C99.9471 35.6339 99.2812 35.3774 98.5117 35.3774C97.7421 35.3774 97.0712 35.6339 96.499 36.147C95.9268 36.66 95.6407 37.3013 95.6407 38.0708C95.6407 40.1229 96.2622 41.8346 97.5053 43.206C98.7484 44.5773 100.297 45.5392 102.152 46.0917C102.271 46.1312 102.345 46.1805 102.374 46.2397C102.404 46.2989 102.409 46.368 102.389 46.4469C102.369 46.5455 102.33 46.6146 102.271 46.6541C102.211 46.6935 102.132 46.6935 102.034 46.6541ZM91.5858 25.3439C91.4872 25.3833 91.4132 25.3883 91.3639 25.3587C91.3145 25.3291 91.2701 25.2847 91.2307 25.2255C91.1912 25.186 91.1715 25.1268 91.1715 25.0479C91.1715 24.969 91.2011 24.9098 91.2603 24.8703C92.385 24.2586 93.5639 23.7949 94.7972 23.4792C96.0304 23.1635 97.2686 23.0057 98.5117 23.0057C99.7942 23.0057 101.052 23.1635 102.285 23.4792C103.519 23.7949 104.698 24.2389 105.822 24.8111C105.921 24.8506 105.975 24.9098 105.985 24.9887C105.995 25.0676 105.98 25.1367 105.941 25.1959C105.901 25.2551 105.847 25.3044 105.778 25.3439C105.709 25.3833 105.625 25.3833 105.526 25.3439C104.441 24.8111 103.306 24.3918 102.123 24.086C100.939 23.7801 99.735 23.6272 98.5117 23.6272C97.2883 23.6272 96.0945 23.7703 94.9304 24.0564C93.7662 24.3425 92.6514 24.7717 91.5858 25.3439ZM95.5519 46.3285C94.4075 45.1446 93.5146 43.9015 92.8733 42.5992C92.2321 41.2969 91.9114 39.7875 91.9114 38.0708C91.9114 36.3147 92.5576 34.8348 93.85 33.6312C95.1425 32.4275 96.6963 31.8257 98.5117 31.8257C100.327 31.8257 101.891 32.4275 103.203 33.6312C104.515 34.8348 105.171 36.3147 105.171 38.0708C105.171 38.1695 105.146 38.2435 105.097 38.2928C105.048 38.3421 104.974 38.3668 104.875 38.3668C104.776 38.3668 104.698 38.3421 104.638 38.2928C104.579 38.2435 104.55 38.1695 104.55 38.0708C104.55 36.4725 103.953 35.1308 102.759 34.0455C101.565 32.9603 100.149 32.4177 98.5117 32.4177C96.8739 32.4177 95.468 32.9603 94.294 34.0455C93.12 35.1308 92.533 36.4725 92.533 38.0708C92.533 39.748 92.824 41.1785 93.4061 42.3624C93.9882 43.5463 94.8514 44.7302 95.9959 45.9141C96.0748 45.9931 96.1093 46.0671 96.0995 46.1361C96.0896 46.2052 96.0551 46.2693 95.9959 46.3285C95.9564 46.368 95.8923 46.4025 95.8035 46.4321C95.7147 46.4617 95.6308 46.4272 95.5519 46.3285ZM104.609 44.1679C102.872 44.1679 101.368 43.5907 100.095 42.4364C98.8224 41.2821 98.1861 39.8269 98.1861 38.0708C98.1861 37.9721 98.2107 37.8932 98.2601 37.834C98.3094 37.7748 98.3834 37.7452 98.4821 37.7452C98.5807 37.7452 98.6547 37.7748 98.704 37.834C98.7534 37.8932 98.778 37.9721 98.778 38.0708C98.778 39.6691 99.365 40.9862 100.539 42.0221C101.713 43.058 103.07 43.5759 104.609 43.5759C104.767 43.5759 104.954 43.5661 105.171 43.5463C105.388 43.5266 105.625 43.497 105.881 43.4575C105.98 43.4378 106.059 43.4526 106.118 43.5019C106.177 43.5513 106.217 43.6055 106.237 43.6647C106.256 43.7437 106.251 43.8127 106.222 43.8719C106.192 43.9311 106.128 43.9706 106.029 43.9903C105.674 44.089 105.363 44.1432 105.097 44.1531C104.831 44.1629 104.668 44.1679 104.609 44.1679Z\",stroke:\"#0C5A56\",strokeWidth:\"0.721422\"}),/*#__PURE__*/wn.createElement(\"g\",{clipPath:\"url(#clip1_2877_10121)\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M25.7683 49.5923V52.5147C25.7683 52.9022 25.6144 53.2739 25.3403 53.5479C25.0663 53.8219 24.6947 53.9759 24.3071 53.9759H21.3848\",stroke:\"#0C5A56\",strokeWidth:\"1.42772\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M21.3848 32.0582H24.3071C24.6947 32.0582 25.0663 32.2121 25.3403 32.4861C25.6144 32.7602 25.7683 33.1318 25.7683 33.5193V36.4417\",stroke:\"#0C5A56\",strokeWidth:\"1.42772\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M3.85059 36.4417V33.5193C3.85059 33.1318 4.00453 32.7602 4.27856 32.4861C4.55258 32.2121 4.92424 32.0582 5.31177 32.0582H8.23413\",stroke:\"#0C5A56\",strokeWidth:\"1.42772\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M8.23413 53.9759H5.31177C4.92424 53.9759 4.55258 53.8219 4.27856 53.5479C4.00453 53.2739 3.85059 52.9022 3.85059 52.5147V49.5923\",stroke:\"#0C5A56\",strokeWidth:\"1.42772\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M14.8093 44.1129C17.0285 44.1129 18.8275 42.3139 18.8275 40.0947C18.8275 37.8754 17.0285 36.0764 14.8093 36.0764C12.59 36.0764 10.791 37.8754 10.791 40.0947C10.791 42.3139 12.59 44.1129 14.8093 44.1129Z\",stroke:\"#0C5A56\",strokeWidth:\"1.42772\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M21.0097 49.9586C20.5564 48.6763 19.7168 47.5662 18.6064 46.781C17.4959 45.9957 16.1694 45.5741 14.8094 45.5741C13.4494 45.5741 12.1229 45.9957 11.0125 46.781C9.90207 47.5662 9.06241 48.6763 8.60913 49.9586\",stroke:\"#0C5A56\",strokeWidth:\"1.42772\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})),/*#__PURE__*/wn.createElement(\"path\",{d:\"M54.7371 47.9187C57.8367 47.9187 60.3495 45.406 60.3495 42.3064C60.3495 39.2068 57.8367 36.694 54.7371 36.694C51.6375 36.694 49.1248 39.2068 49.1248 42.3064C49.1248 45.406 51.6375 47.9187 54.7371 47.9187Z\",fill:\"#0C5A56\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M69.7034 47.9187C69.7062 47.1369 69.4989 46.3687 69.1032 45.6944C68.7076 45.0201 68.1381 44.4644 67.4542 44.0854C66.7704 43.7064 65.9973 43.518 65.2158 43.54C64.4343 43.5619 63.673 43.7934 63.0115 44.2101C62.35 44.6268 61.8126 45.2136 61.4554 45.9091C61.0982 46.6045 60.9343 47.3832 60.9809 48.1636C61.0275 48.944 61.2828 49.6976 61.7203 50.3457C62.1577 50.9937 62.7611 51.5123 63.4675 51.8474V58.5198L65.3383 60.3906L68.4563 57.2727L66.5855 55.4019L68.4563 53.5311L66.9097 51.9846C67.7311 51.6676 68.4374 51.1097 68.936 50.3841C69.4346 49.6585 69.7021 48.7991 69.7034 47.9187ZM65.3383 47.9187C65.0916 47.9187 64.8505 47.8456 64.6454 47.7085C64.4403 47.5715 64.2804 47.3767 64.186 47.1488C64.0916 46.9209 64.0669 46.6702 64.1151 46.4282C64.1632 46.1863 64.282 45.9641 64.4564 45.7896C64.6308 45.6152 64.853 45.4964 65.095 45.4483C65.3369 45.4002 65.5877 45.4249 65.8156 45.5193C66.0435 45.6137 66.2382 45.7735 66.3753 45.9786C66.5123 46.1837 66.5855 46.4249 66.5855 46.6715C66.5855 47.0023 66.4541 47.3195 66.2202 47.5534C65.9863 47.7873 65.6691 47.9187 65.3383 47.9187Z\",fill:\"#0C5A56\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M59.6512 50.4382C58.6934 50.0111 57.6566 49.7902 56.608 49.7896H52.8664C50.8818 49.7896 48.9784 50.578 47.5751 51.9814C46.1717 53.3847 45.3833 55.2881 45.3833 57.2728V59.7671H61.5968V52.8951C60.7557 52.249 60.0873 51.405 59.6512 50.4382Z\",fill:\"#0C5A56\"}),/*#__PURE__*/wn.createElement(\"rect\",{x:\"39.2727\",y:\"15.4204\",width:\"35.8443\",height:\"65.4755\",rx:\"1.67273\",stroke:\"#0C5A56\",strokeWidth:\"2.38962\",strokeLinejoin:\"round\"})),/*#__PURE__*/wn.createElement(\"defs\",null,/*#__PURE__*/wn.createElement(\"clipPath\",{id:\"clip0_2877_10121\"},/*#__PURE__*/wn.createElement(\"rect\",{width:\"110.4\",height:\"96.0005\",fill:\"white\",transform:\"translate(0.799805)\"})),/*#__PURE__*/wn.createElement(\"clipPath\",{id:\"clip1_2877_10121\"},/*#__PURE__*/wn.createElement(\"rect\",{width:\"23.3789\",height:\"23.3789\",fill:\"white\",transform:\"translate(3.11987 31.3276)\"}))));};var Device;(function(Device){Device[\"DESKTOP\"]=\"Desktop device\";Device[\"MOBILE\"]=\"Mobile device\";Device[\"UNKNOWN\"]=\"Unknown device\";})(Device||(Device={}));var SAFARI_CROSS_DEVICE_DUPLICATE_REG_ERROR_MESSAGE='At least one credential matches an entry of the excludeCredentials list in the platform attached authenticator.';var CHROME_CROSS_DEVICE_DUPLICATE_REG_ERROR_MESSAGE='The user attempted to register an authenticator that contains one of the credentials already registered with the relying party.';var ContentContainer=He(Flex)(_templateObject43||(_templateObject43=_taggedTemplateLiteral([\"\\n   {\\n    width: 100%;\\n    background-color: #ecfaff;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n  }\\n\"])));var HeadingText$1=He(Text)(_templateObject44||(_templateObject44=_taggedTemplateLiteral([\"\\n   {\\n    font-family: IBM Plex Sans;\\n    font-size: 24px;\\n    font-weight: 600;\\n    line-height: 30px;\\n    letter-spacing: 0em;\\n  }\\n\"])));var SubHeadingText$1=He(Text)(_templateObject45||(_templateObject45=_taggedTemplateLiteral([\"\\n   {\\n    font-family: IBM Plex Sans;\\n    font-size: 18px;\\n    font-weight: 400;\\n    line-height: 25px;\\n    letter-spacing: 0em;\\n  }\\n\"])));var DescriptionText=He(Text)(_templateObject46||(_templateObject46=_taggedTemplateLiteral([\"\\n   {\\n    font-family: IBM Plex Sans;\\n    font-size: 14px;\\n    font-weight: 400;\\n    line-height: 20px;\\n    letter-spacing: 0em;\\n    color: #5c727d;\\n  }\\n\"])));var PasskeyRegistrationStart=function PasskeyRegistrationStart(){var stytchClient=useStytch();var _h$123=h$5(true),_h$124=_slicedToArray2(_h$123,2),hasUser=_h$124[0],setHasUser=_h$124[1];var config=useConfig();p$6(function(){stytchClient.user.get().then(function(){setHasUser(true);})[\"catch\"](function(e){setHasUser(false);onError(e);});},[stytchClient]);var _useGlobalReducer53=useGlobalReducer(),_useGlobalReducer54=_slicedToArray2(_useGlobalReducer53,2),dispatch=_useGlobalReducer54[1];var onEvent=useEventCallback();var onError=useErrorCallback();var onCreatePasskey=function onCreatePasskey(){var _a,_b;stytchClient.webauthn.register({is_passkey:true,session_duration_minutes:(_b=(_a=config.sessionOptions)===null||_a===void 0?void 0:_a.sessionDurationMinutes)!==null&&_b!==void 0?_b:DEFAULT_SESSION_DURATION_MINUTES}).then(function(data){onEvent({type:StytchEventType.PasskeyRegister,data:data});dispatch({type:'clear_error_message'});dispatch({type:'transition',screen:AppScreens$1.PasskeyRegistrationSuccess});})[\"catch\"](function(e){onError(e);if(e.message.includes(SAFARI_CROSS_DEVICE_DUPLICATE_REG_ERROR_MESSAGE)||e.message.includes(CHROME_CROSS_DEVICE_DUPLICATE_REG_ERROR_MESSAGE)){dispatch({type:'set_error_message',errorMessage:'The Passkey cannot be created as it seems to be already registered. It is possible this Passkey was registered on another device but has synced cross-device.'});return;}dispatch({type:'set_error_message',errorMessage:'Your Passkey was not created. Click “Create a Passkey” to try again or skip without adding a Passkey.'});});};var onSkip=function onSkip(){onEvent({type:StytchEventType.PasskeySkip,data:{}});dispatch({type:'transition',screen:AppScreens$1.PasskeyRegistrationSuccess});};if(!hasUser){return/*#__PURE__*/wn.createElement(AlertBox,{variant:\"warning\",text:'Error: Cannot use PasskeyRegistration component without active user authenticated.'});}return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:36,marginTop:12,marginLeft:6.5,marginRight:6.5},/*#__PURE__*/wn.createElement(HeadingText$1,{size:\"header\"},\"Set up a new Passkey\"),/*#__PURE__*/wn.createElement(AlertBox,{variant:\"warning\"}),/*#__PURE__*/wn.createElement(ContentContainer,{direction:\"column\",gap:20},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",padding:20,gap:20,alignItems:\"center\"},/*#__PURE__*/wn.createElement(PasskeyCollageSvg,null),/*#__PURE__*/wn.createElement(SubHeadingText$1,null,\"With Passkeys you don't need to remember complex passwords.\"),/*#__PURE__*/wn.createElement(DescriptionText,null,\"Passkeys are encrypted digital keys you create using your fingerprint, face, or screen lock. Creating a Passkey will allow you to easily and securely log in to your account.\"))),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:12},/*#__PURE__*/wn.createElement(Button,{type:\"button\",onClick:function onClick(){return onCreatePasskey();}},\"Create a Passkey\"),/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"text\",onClick:function onClick(){return onSkip();}},\"Skip\")));};var PasskeyAddedSvg=function PasskeyAddedSvg(){return/*#__PURE__*/wn.createElement(\"svg\",{width:\"101\",height:\"101\",viewBox:\"0 0 101 101\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/wn.createElement(\"path\",{d:\"M60.6296 95.0741C56.8399 96.0414 52.8689 96.5556 48.7778 96.5556C22.3908 96.5556 1 75.1647 1 48.7778C1 22.3908 22.3908 1 48.7778 1C75.1647 1 96.5556 22.3908 96.5556 48.7778C96.5556 52.8689 96.0414 56.8398 95.0741 60.6296\",stroke:\"#0C5A56\",strokeWidth:\"1.78025\",strokeLinecap:\"round\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M81 61C78.3736 61 75.7728 61.5173 73.3463 62.5224C70.9198 63.5275 68.715 65.0007 66.8579 66.8579C65.0007 68.715 63.5275 70.9198 62.5224 73.3463C61.5173 75.7728 61 78.3736 61 81C61 83.6264 61.5173 86.2272 62.5224 88.6537C63.5275 91.0802 65.0007 93.285 66.8579 95.1421C68.715 96.9993 70.9198 98.4725 73.3463 99.4776C75.7728 100.483 78.3736 101 81 101C83.6264 101 86.2272 100.483 88.6537 99.4776C91.0802 98.4725 93.285 96.9993 95.1421 95.1421C96.9993 93.285 98.4725 91.0802 99.4776 88.6537C100.483 86.2272 101 83.6264 101 81C101 78.3736 100.483 75.7728 99.4776 73.3463C98.4725 70.9198 96.9993 68.715 95.1421 66.8579C93.285 65.0007 91.0802 63.5275 88.6537 62.5224C86.2272 61.5173 83.6264 61 81 61Z\",fill:\"#C7F1FF\"}),/*#__PURE__*/wn.createElement(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M91.9508 71.6043C92.3374 71.8892 92.4199 72.4336 92.135 72.8202L79.9611 89.3419C79.8207 89.5324 79.6088 89.6575 79.3742 89.6883C79.1396 89.7191 78.9026 89.6529 78.7178 89.5051L70.0222 82.5486C69.6472 82.2486 69.5864 81.7014 69.8864 81.3264C70.1864 80.9514 70.7336 80.8906 71.1086 81.1906L79.0977 87.5819L90.7349 71.7886C91.0198 71.4019 91.5642 71.3194 91.9508 71.6043Z\",fill:\"#0C5A56\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M46.1713 49.1485C50.3301 49.1485 53.7015 45.7771 53.7015 41.6183C53.7015 37.4595 50.3301 34.0881 46.1713 34.0881C42.0125 34.0881 38.6411 37.4595 38.6411 41.6183C38.6411 45.7771 42.0125 49.1485 46.1713 49.1485Z\",fill:\"#0C5A56\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M66.2519 49.1485C66.2556 48.0995 65.9775 47.0688 65.4466 46.164C64.9158 45.2593 64.1517 44.5137 63.2341 44.0052C62.3166 43.4967 61.2794 43.244 60.2308 43.2734C59.1822 43.3029 58.1608 43.6134 57.2732 44.1725C56.3857 44.7317 55.6646 45.5189 55.1854 46.4521C54.7061 47.3852 54.4862 48.4299 54.5487 49.477C54.6113 50.5241 54.9539 51.5352 55.5408 52.4047C56.1276 53.2742 56.9373 53.97 57.885 54.4196V63.3722L60.3951 65.8822L64.5786 61.6988L62.0685 59.1887L64.5786 56.6787L62.5036 54.6037C63.6056 54.1784 64.5533 53.4299 65.2222 52.4563C65.8912 51.4828 66.2501 50.3297 66.2519 49.1485ZM60.3951 49.1485C60.0642 49.1485 59.7406 49.0503 59.4654 48.8664C59.1902 48.6826 58.9758 48.4212 58.8491 48.1155C58.7225 47.8097 58.6893 47.4732 58.7539 47.1486C58.8185 46.824 58.9778 46.5259 59.2119 46.2918C59.4459 46.0578 59.744 45.8984 60.0687 45.8339C60.3933 45.7693 60.7297 45.8024 61.0355 45.9291C61.3413 46.0557 61.6026 46.2702 61.7865 46.5454C61.9704 46.8206 62.0685 47.1441 62.0685 47.4751C62.0685 47.9189 61.8922 48.3445 61.5784 48.6583C61.2646 48.9722 60.8389 49.1485 60.3951 49.1485Z\",fill:\"#0C5A56\"}),/*#__PURE__*/wn.createElement(\"path\",{d:\"M52.7645 52.5288C51.4795 51.9558 50.0884 51.6594 48.6815 51.6586H43.6614C40.9985 51.6586 38.4447 52.7164 36.5618 54.5993C34.6789 56.4822 33.6211 59.036 33.6211 61.6989V65.0456H55.375V55.8253C54.2465 54.9584 53.3497 53.8259 52.7645 52.5288Z\",fill:\"#0C5A56\"}));};var Checkmark=function Checkmark(){return/*#__PURE__*/y$4(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M7.33317 13.2503L3.83317 9.75033L2.6665 10.917L7.33317 15.5837L17.3332 5.58366L16.1665 4.41699L7.33317 13.2503Z\",fill:\"#19303D\"}));};var Pencil=function Pencil(){return/*#__PURE__*/y$4(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M11.7157 7.51667L12.4824 8.28333L4.93236 15.8333H4.16569V15.0667L11.7157 7.51667ZM14.7157 2.5C14.5074 2.5 14.2907 2.58333 14.1324 2.74167L12.6074 4.26667L15.7324 7.39167L17.2574 5.86667C17.5824 5.54167 17.5824 5.01667 17.2574 4.69167L15.3074 2.74167C15.1407 2.575 14.9324 2.5 14.7157 2.5ZM11.7157 5.15833L2.49902 14.375V17.5H5.62402L14.8407 8.28333L11.7157 5.15833Z\",fill:\"#19303D\"}));};var Trash=function Trash(){return/*#__PURE__*/y$4(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/y$4(\"path\",{d:\"M5.00008 15.8333C5.00008 16.75 5.75008 17.5 6.66675 17.5H13.3334C14.2501 17.5 15.0001 16.75 15.0001 15.8333V5.83333H5.00008V15.8333ZM6.66675 7.5H13.3334V15.8333H6.66675V7.5ZM12.9167 3.33333L12.0834 2.5H7.91675L7.08341 3.33333H4.16675V5H15.8334V3.33333H12.9167Z\",fill:\"#19303D\"}));};var IconButton=function IconButton(props){return/*#__PURE__*/wn.createElement(Button,{type:\"button\",\"data-testid\":'clickable-edit-icon-'+props.id,variant:\"text\",onClick:props.onClick},/*#__PURE__*/wn.createElement(Flex,{justifyContent:\"center\",alignItems:\"center\"},props.icon));};var Buttons=function Buttons(props){if(props.isDeletingAny||props.isEditingAny&&!props.isEditing)return/*#__PURE__*/wn.createElement(wn.Fragment,null);return/*#__PURE__*/wn.createElement(wn.Fragment,null,props.isEditing?(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(IconButton,{id:'save'+props.id,onClick:function onClick(){props.handleStopEditing(props.name);},icon:/*#__PURE__*/wn.createElement(Checkmark,null)}))):(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(IconButton,{id:'edit'+props.id,name:props.name,onClick:props.handleEditing,icon:/*#__PURE__*/wn.createElement(Pencil,null)}))),/*#__PURE__*/wn.createElement(IconButton,{id:'delete'+props.id,onClick:props.handleDeleting,icon:/*#__PURE__*/wn.createElement(Trash,null)}));};var RowInput=He.input(_templateObject47||(_templateObject47=_taggedTemplateLiteral([\"\\n  background-color: transparent;\\n  height: 45px;\\n  padding: 0 8px;\\n  color: \",\";\\n  font-family: \",\";\\n  font-size: 18px;\\n  border: none;\\n\\n  &:disabled {\\n    color: \",\";\\n    border: none;\\n    background-color: transparent;\\n  }\\n  &:focus-visible {\\n    outline: none !important;\\n    border: 1px solid #adbcc5;\\n    border-radius: 4px;\\n  }\\n\"])),function(props){return props.theme.colors.primary;},function(props){return props.theme.typography.fontFamily;},function(props){return props.theme.colors.disabledText;});var EditableRow=function EditableRow(props){var _h$125=h$5(props.name),_h$126=_slicedToArray2(_h$125,2),name=_h$126[0],setName=_h$126[1];var inputRef=_$1(null);p$6(function(){var _a;if(props.isEditingCurr){(_a=inputRef.current)===null||_a===void 0?void 0:_a.focus();}},[props.isEditingCurr]);return/*#__PURE__*/wn.createElement(Flex,{direction:\"row\",gap:2,alignItems:\"center\",width:\"100%\"},/*#__PURE__*/wn.createElement(RowInput,{ref:inputRef,disabled:!props.isEditingCurr&&!props.isDeletingCurr,value:name,onChange:function onChange(e){return setName(e.target.value);},\"data-testid\":'editable-row-input-'+props.id,id:props.id}),/*#__PURE__*/wn.createElement(Buttons,{id:props.id,isEditing:props.isEditingCurr,isEditingAny:props.isEditingAny,isDeletingAny:props.isDeletingAny,handleEditing:props.handleEditing,handleStopEditing:function handleStopEditing(){props.handleStopEditing(name);},handleDeleting:props.handleDeleting,name:name}));};var HeadingText=He(Text)(_templateObject48||(_templateObject48=_taggedTemplateLiteral([\"\\n   {\\n    font-family: IBM Plex Sans;\\n    font-size: 24px;\\n    font-weight: 600;\\n    line-height: 30px;\\n    letter-spacing: 0em;\\n  }\\n\"])));var SubHeadingText=He(Text)(_templateObject49||(_templateObject49=_taggedTemplateLiteral([\"\\n   {\\n    font-family: IBM Plex Sans;\\n    font-size: 14px;\\n    font-weight: 700;\\n    line-height: 30px;\\n    letter-spacing: 0.03em;\\n    text-transform: uppercase;\\n  }\\n\"])));var PasskeyRegistrationSuccess=function PasskeyRegistrationSuccess(){var stytchClient=useStytch();var _h$127=h$5([]),_h$128=_slicedToArray2(_h$127,2),webAuthnRegistrations=_h$128[0],setWebAuthnRegistrations=_h$128[1];var _h$129=h$5(''),_h$130=_slicedToArray2(_h$129,2),currEditingRegID=_h$130[0],setCurrEditingRegID=_h$130[1];var _h$131=h$5(''),_h$132=_slicedToArray2(_h$131,2),currDeletingRegID=_h$132[0],setCurrDeletingRegID=_h$132[1];var onEvent=useEventCallback();var _useGlobalReducer55=useGlobalReducer(),_useGlobalReducer56=_slicedToArray2(_useGlobalReducer55,2),dispatch=_useGlobalReducer56[1];p$6(function(){stytchClient.user.get().then(function(user){if(!user){console.log('User is null, we should never get to this screen in a non-logged in state.');return;}setWebAuthnRegistrations(user.webauthn_registrations);})[\"catch\"](function(e){console.log(e);});},[stytchClient.user]);var onSetUpANewPasskey=function onSetUpANewPasskey(){dispatch({type:'transition',screen:AppScreens$1.PasskeyRegistrationStart});};var onDone=function onDone(){onEvent({type:StytchEventType.PasskeyDone,data:{}});};var deleteReg=function deleteReg(id){stytchClient.user.deleteWebauthnRegistration(id)[\"catch\"](function(error){console.log(error);});setWebAuthnRegistrations(function(prevRegistrations){return prevRegistrations.filter(function(wr){return wr.webauthn_registration_id!==id;});});setCurrDeletingRegID('');};var updateReg=function updateReg(id,name){stytchClient.webauthn.update({webauthn_registration_id:id,name:name})[\"catch\"](function(error){console.log(error);});setWebAuthnRegistrations(function(prevRegistrations){return prevRegistrations.map(function(wr){if(wr.webauthn_registration_id===id){return Object.assign(Object.assign({},wr),{name:name});}else{return wr;}});});};return/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:18,marginTop:12,marginLeft:6.5,marginRight:6.5},/*#__PURE__*/wn.createElement(HeadingText,{size:\"header\"},\"Passkey successfully created!\"),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:20},/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",padding:20,gap:20,alignItems:\"center\"},/*#__PURE__*/wn.createElement(PasskeyAddedSvg,null),/*#__PURE__*/wn.createElement(AlertBox,{variant:\"error\"}),webAuthnRegistrations&&webAuthnRegistrations.length>0&&(/*#__PURE__*/wn.createElement(Flex,{\"align-items\":\"left\",direction:\"column\",width:\"100%\",gap:8},/*#__PURE__*/wn.createElement(SubHeadingText,null,\"Existing Passkeys\"),webAuthnRegistrations.map(function(registration,idx){return/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(Flex,{direction:\"row\",gap:8,alignItems:\"center\",key:idx},/*#__PURE__*/wn.createElement(EditableRow,{id:registration.webauthn_registration_id,name:registration.name,isEditingCurr:registration.webauthn_registration_id===currEditingRegID,isEditingAny:currEditingRegID!=='',isDeletingCurr:registration.webauthn_registration_id===currDeletingRegID,isDeletingAny:currDeletingRegID!=='',handleEditing:function handleEditing(){setCurrEditingRegID(registration.webauthn_registration_id);},handleStopEditing:function handleStopEditing(name){updateReg(registration.webauthn_registration_id,name);setCurrEditingRegID('');},handleDeleting:function handleDeleting(){setCurrDeletingRegID(registration.webauthn_registration_id);dispatch({type:'set_error_message',errorMessage:'Once deleted, the passkey cannot be restored.'});},key:registration.webauthn_registration_id})));}))))),/*#__PURE__*/wn.createElement(Flex,{direction:\"column\",gap:12},currDeletingRegID!==''?(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"outlined\",onClick:function onClick(){dispatch({type:'clear_error_message'});deleteReg(currDeletingRegID);}},\"Delete\"),/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"text\",onClick:function onClick(){setCurrDeletingRegID('');}},\"Cancel\"))):(/*#__PURE__*/wn.createElement(wn.Fragment,null,/*#__PURE__*/wn.createElement(Button,{type:\"button\",disabled:currEditingRegID!=='',onClick:onSetUpANewPasskey},\"Set up another Passkey\"),/*#__PURE__*/wn.createElement(Button,{type:\"button\",variant:\"text\",disabled:currEditingRegID!=='',onClick:onDone},\"Done\")))));};var PasskeyConfirmation=function PasskeyConfirmation(){return/*#__PURE__*/y$4(Flex,{direction:\"column\",gap:24},/*#__PURE__*/y$4(Text,{size:\"header\"},\"Success\"),/*#__PURE__*/y$4(Text,null,\"Your Passkey has been successfully authenticated.\"),/*#__PURE__*/y$4(\"div\",{style:{display:'block',marginLeft:'auto',marginRight:'auto',width:'50%'}},/*#__PURE__*/y$4(ConfirmationSVG,null)));};var MainContainer=He.div(_templateObject50||(_templateObject50=_taggedTemplateLiteral([\"\\n  width: \",\";\\n  font-family: \",\";\\n  box-sizing: border-box;\\n  * {\\n    box-sizing: content-box;\\n  }\\n  background-color: \",\";\\n  border: \",\";\\n  border-radius: \",\";\\n\"])),function(_ref106){var theme=_ref106.theme;return theme.container.width;},function(_ref107){var theme=_ref107.theme;return theme.typography.fontFamily;},function(_ref108){var theme=_ref108.theme;return theme.container.backgroundColor;},function(_ref109){var theme=_ref109.theme;return theme.container.border;},function(_ref110){var theme=_ref110.theme;return theme.container.borderRadius;});var ChildrenContainer=He.div(_templateObject51||(_templateObject51=_taggedTemplateLiteral([\"\\n  padding: 24px 32px;\\n\"])));var WatermarkContainer=He.div(_templateObject52||(_templateObject52=_taggedTemplateLiteral([\"\\n  border-bottom-left-radius: \",\";\\n  border-bottom-right-radius: \",\";\\n  background-color: #19303d;\\n  opacity: 50%;\\n  padding: 4px 0px 0px;\\n  display: flex;\\n  justify-content: center;\\n\"])),function(_ref111){var theme=_ref111.theme;return theme.container.borderRadius;},function(_ref112){var theme=_ref112.theme;return theme.container.borderRadius;});var Image=He.img(_templateObject53||(_templateObject53=_taggedTemplateLiteral([\"\\n  width: 150px;\\n\"])));var POWERED_BY_STYTCH_IMG_URL='https://public-assets.stytch.com/et_powered_by_stytch_logo.png';var AppContainer$1=function AppContainer$1(){var _ScreenComponentMap;var _useGlobalReducer57=useGlobalReducer(),_useGlobalReducer58=_slicedToArray2(_useGlobalReducer57,1),state=_useGlobalReducer58[0];var _Ze2=Ze(),displayWatermark=_Ze2.displayWatermark;var isOnlyFloatingOneTap=useIsOnlyFloatingOneTap();var currentScreen=state.screen;var ScreenComponentMap=(_ScreenComponentMap={},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ScreenComponentMap,AppScreens$1.Main,/*#__PURE__*/wn.createElement(MainScreen,null)),AppScreens$1.PasskeyRegistrationStart,/*#__PURE__*/wn.createElement(PasskeyRegistrationStart,null)),AppScreens$1.PasskeyRegistrationSuccess,/*#__PURE__*/wn.createElement(PasskeyRegistrationSuccess,null)),AppScreens$1.PasskeyConfirmation,/*#__PURE__*/wn.createElement(PasskeyConfirmation,null)),AppScreens$1.PasswordResetForm,/*#__PURE__*/wn.createElement(ResetPasswordScreen,null)),AppScreens$1.PasswordCreateOrLogin,/*#__PURE__*/wn.createElement(Password,null)),AppScreens$1.PasswordForgot,/*#__PURE__*/wn.createElement(PasswordForgot,null)),AppScreens$1.PasswordBreached,/*#__PURE__*/wn.createElement(PasswordBreached,null)),AppScreens$1.PasswordSetNew,/*#__PURE__*/wn.createElement(PasswordSetNew,null)),AppScreens$1.PasswordDedupe,/*#__PURE__*/wn.createElement(PasswordDedupe,null)),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ScreenComponentMap,AppScreens$1.PasswordConfirmation,/*#__PURE__*/wn.createElement(ConfirmationScreen,null)),AppScreens$1.EmailConfirmation,/*#__PURE__*/wn.createElement(EmailConfirmation,null)),AppScreens$1.OTPAuthenticate,/*#__PURE__*/wn.createElement(OTPAuthenticate,null)),AppScreens$1.OTPConfirmation,/*#__PURE__*/wn.createElement(OTPConfirmation,null)),AppScreens$1.CryptoConnect,/*#__PURE__*/wn.createElement(ConnectWallet,null)),AppScreens$1.CryptoSignMessage,/*#__PURE__*/wn.createElement(SignMessage,null)),AppScreens$1.CryptoOtherScreen,/*#__PURE__*/wn.createElement(OtherCryptoWallets,null)),AppScreens$1.CryptoSetupWallet,/*#__PURE__*/wn.createElement(SetupNewWallet,null)),AppScreens$1.CryptoError,/*#__PURE__*/wn.createElement(Error$1,null)),AppScreens$1.CryptoConfirmation,/*#__PURE__*/wn.createElement(Success,null)));if(isOnlyFloatingOneTap){return/*#__PURE__*/wn.createElement(GoogleOneTap,{position:OneTapPositions.floating});}return/*#__PURE__*/wn.createElement(MainContainer,null,/*#__PURE__*/wn.createElement(ChildrenContainer,null,ScreenComponentMap[currentScreen],/*#__PURE__*/wn.createElement(Snackbar,null)),displayWatermark&&(/*#__PURE__*/wn.createElement(WatermarkContainer,null,/*#__PURE__*/wn.createElement(\"a\",{href:\"https://stytch.com/\",target:\"_blank\",rel:\"noreferrer\"},/*#__PURE__*/wn.createElement(Image,{alt:\"Powered by Stytch\",src:POWERED_BY_STYTCH_IMG_URL})))));};var lodash_merge={exports:{}};lodash_merge.exports;(function(module,exports){var LARGE_ARRAY_SIZE=200;var HASH_UNDEFINED='__lodash_hash_undefined__';var HOT_COUNT=800,HOT_SPAN=16;var MAX_SAFE_INTEGER=9007199254740991;var argsTag='[object Arguments]',arrayTag='[object Array]',asyncTag='[object AsyncFunction]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',nullTag='[object Null]',objectTag='[object Object]',proxyTag='[object Proxy]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',undefinedTag='[object Undefined]',weakMapTag='[object WeakMap]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';var reRegExpChar=/[\\\\^$.*+?()[\\]{}|]/g;var reIsHostCtor=/^\\[object .+?Constructor\\]$/;var reIsUint=/^(?:0|[1-9]\\d*)$/;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var freeGlobal=_typeof2(commonjsGlobal)=='object'&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var freeSelf=(typeof self===\"undefined\"?\"undefined\":_typeof2(self))=='object'&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function('return this')();var freeExports=exports&&!exports.nodeType&&exports;var freeModule=freeExports&&'object'=='object'&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require('util').types;if(types){return types;}return freeProcess&&freeProcess.binding&&freeProcess.binding('util');}catch(e){}}();var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}return func.apply(thisArg,args);}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}return result;}function baseUnary(func){return function(value){return func(value);};}function getValue(object,key){return object==null?undefined:object[key];}function overArg(func,transform){return function(arg){return func(transform(arg));};}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=root['__core-js_shared__'];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?'Symbol(src)_1.'+uid:'';}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,'$1.*?')+'$');var Buffer=moduleExports?root.Buffer:undefined,_Symbol=root.Symbol,Uint8Array=root.Uint8Array;Buffer?Buffer.allocUnsafe:undefined;var getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=_Symbol?_Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,'defineProperty');func({},'',{});return func;}catch(e){}}();var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeMax=Math.max,nativeNow=Date.now;var Map=getNative(root,'Map'),nativeCreate=getNative(Object,'create');var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{};}if(objectCreate){return objectCreate(proto);}object.prototype=proto;var result=new object();object.prototype=undefined;return result;};}();function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0;}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result;}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result;}return hasOwnProperty.call(data,key)?data[key]:undefined;}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key);}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this;}Hash.prototype.clear=hashClear;Hash.prototype['delete']=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}function listCacheClear(){this.__data__=[];this.size=0;}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false;}var lastIndex=data.length-1;if(index==lastIndex){data.pop();}else{splice.call(data,index,1);}--this.size;return true;}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1];}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1;}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value]);}else{data[index][1]=value;}return this;}ListCache.prototype.clear=listCacheClear;ListCache.prototype['delete']=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}function mapCacheClear(){this.size=0;this.__data__={'hash':new Hash(),'map':new(Map||ListCache)(),'string':new Hash()};}function mapCacheDelete(key){var result=getMapData(this,key)['delete'](key);this.size-=result?1:0;return result;}function mapCacheGet(key){return getMapData(this,key).get(key);}function mapCacheHas(key){return getMapData(this,key).has(key);}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this;}MapCache.prototype.clear=mapCacheClear;MapCache.prototype['delete']=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size;}function stackClear(){this.__data__=new ListCache();this.size=0;}function stackDelete(key){var data=this.__data__,result=data['delete'](key);this.size=data.size;return result;}function stackGet(key){return this.__data__.get(key);}function stackHas(key){return this.__data__.has(key);}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this;}data=this.__data__=new MapCache(pairs);}data.set(key,value);this.size=data.size;return this;}Stack.prototype.clear=stackClear;Stack.prototype['delete']=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if(!(skipIndexes&&(key=='length'||isBuff&&(key=='offset'||key=='parent')||isType&&(key=='buffer'||key=='byteLength'||key=='byteOffset')||isIndex(key,length)))){result.push(key);}}return result;}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value);}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value);}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length;}}return-1;}function baseAssignValue(object,key,value){if(key=='__proto__'&&defineProperty){defineProperty(object,key,{'configurable':true,'enumerable':true,'value':value,'writable':true});}else{object[key]=value;}}var baseFor=createBaseFor();function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag;}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value);}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag;}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)];}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object);}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}return result;}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return;}baseFor(source,function(srcValue,key){stack||(stack=new Stack());if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+'',object,source,stack):undefined;if(newValue===undefined){newValue=srcValue;}assignMergeValue(object,key,newValue);}},keysIn);}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return;}var newValue=customizer?customizer(objValue,srcValue,key+'',object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue;}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue);}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue);}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue);}else{newValue=[];}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue);}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue);}}else{isCommon=false;}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack['delete'](srcValue);}assignMergeValue(object,key,newValue);}function baseRest(func,start){return setToString(overRest(func,start,identity),func+'');}var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,'toString',{'configurable':true,'enumerable':false,'value':constant(string),'writable':true});};function cloneBuffer(buffer,isDeep){{return buffer.slice();}}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result;}function cloneTypedArray(typedArray,isDeep){var buffer=cloneArrayBuffer(typedArray.buffer);return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length);}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index];}return array;}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=undefined;if(newValue===undefined){newValue=source[key];}if(isNew){baseAssignValue(object,key,newValue);}else{assignValue(object,key,newValue);}}return object;}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=='function'?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1;}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer);}}return object;});}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[++index];if(iteratee(iterable[key],key,iterable)===false){break;}}return object;};}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=='string'?'string':'hash']:data.map;}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true;}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag;}else{delete value[symToStringTag];}}return result;}function initCloneObject(object){return typeof object.constructor=='function'&&!isPrototype(object)?baseCreate(getPrototype(object)):{};}function isIndex(value,length){var type=_typeof2(value);length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=='number'||type!='symbol'&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length;}function isIterateeCall(value,index,object){if(!isObject(object)){return false;}var type=_typeof2(index);if(type=='number'?isArrayLike(object)&&isIndex(index,object.length):type=='string'&&index in object){return eq(object[index],value);}return false;}function isKeyable(value){var type=_typeof2(value);return type=='string'||type=='number'||type=='symbol'||type=='boolean'?value!=='__proto__':value===null;}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func;}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=='function'&&Ctor.prototype||objectProto;return value===proto;}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key);}}return result;}function objectToString(value){return nativeObjectToString.call(value);}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index];}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index];}otherArgs[start]=transform(array);return apply(func,this,otherArgs);};}function safeGet(object,key){if(key==='constructor'&&typeof object[key]==='function'){return;}if(key=='__proto__'){return;}return object[key];}var setToString=shortOut(baseSetToString);function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0];}}else{count=0;}return func.apply(undefined,arguments);};}function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}try{return func+'';}catch(e){}}return'';}function eq(value,other){return value===other||value!==value&&other!==other;}var isArguments=baseIsArguments(function(){return arguments;}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}var isBuffer=nativeIsBuffer||stubFalse;function isFunction(value){if(!isObject(value)){return false;}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag;}function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}function isObject(value){var type=_typeof2(value);return value!=null&&(type=='object'||type=='function');}function isObjectLike(value){return value!=null&&_typeof2(value)=='object';}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false;}var proto=getPrototype(value);if(proto===null){return true;}var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return typeof Ctor=='function'&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString;}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function toPlainObject(value){return copyObject(value,keysIn(value));}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeysIn(object);}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex);});function constant(value){return function(){return value;};}function identity(value){return value;}function stubFalse(){return false;}module.exports=merge;})(lodash_merge,lodash_merge.exports);var lodash_mergeExports=lodash_merge.exports;var merge=/*@__PURE__*/getDefaultExportFromCjs(lodash_mergeExports);var defaultDisabledTextColor='#8296A1';var createTheme=function createTheme(styles){var displayWatermark=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;var styleConfig=merge({},DEFAULT_STYLE_CONFIG,styles);return{typography:{fontFamily:styleConfig.fontFamily,header:{fontFamily:styleConfig.fontFamily,fontSize:24,fontWeight:600,lineHeight:'30px'},body:{fontFamily:styleConfig.fontFamily,fontSize:16,fontWeight:'normal',lineHeight:'21px'},helper:{fontFamily:styleConfig.fontFamily,fontSize:14,fontWeight:'400',lineHeight:'20px',whiteSpace:'pre-wrap'}},colors:{primary:styleConfig.colors.primary,secondary:styleConfig.colors.secondary,success:styleConfig.colors.success,error:styleConfig.colors.error,disabled:'#F3F5F6',disabledText:defaultDisabledTextColor},container:{width:styleConfig.container.width,border:\"1px solid \".concat(styleConfig.container.borderColor),borderRadius:styleConfig.container.borderRadius,backgroundColor:styleConfig.container.backgroundColor},buttons:{primary:{backgroundColor:styleConfig.buttons.primary.backgroundColor,textColor:styleConfig.buttons.primary.textColor,border:\"1px solid \".concat(styleConfig.buttons.primary.borderColor),borderRadius:styleConfig.buttons.primary.borderRadius},secondary:{backgroundColor:styleConfig.buttons.secondary.backgroundColor,textColor:styleConfig.buttons.secondary.textColor,border:\"1px solid \".concat(styleConfig.buttons.secondary.borderColor),borderRadius:styleConfig.buttons.secondary.borderRadius}},inputs:{backgroundColor:(_b=(_a=styleConfig.inputs)===null||_a===void 0?void 0:_a.backgroundColor)!==null&&_b!==void 0?_b:'transparent',textColor:(_d=(_c=styleConfig.inputs)===null||_c===void 0?void 0:_c.textColor)!==null&&_d!==void 0?_d:styleConfig.colors.primary,borderColor:(_f=(_e=styleConfig.inputs)===null||_e===void 0?void 0:_e.borderColor)!==null&&_f!==void 0?_f:styleConfig.colors.primary,borderRadius:(_h=(_g=styleConfig.inputs)===null||_g===void 0?void 0:_g.borderRadius)!==null&&_h!==void 0?_h:'4px',placeholderColor:(_k=(_j=styleConfig.inputs)===null||_j===void 0?void 0:_j.placeholderColor)!==null&&_k!==void 0?_k:defaultDisabledTextColor},displayHeader:!styleConfig.hideHeaderText,displayWatermark:displayWatermark,logo:{logoImageUrl:styleConfig.logo.logoImageUrl}};};var useTheme=function useTheme(_ref113){var styles=_ref113.styles,displayWatermark=_ref113.displayWatermark;return F$4(function(){return createTheme(styles,displayWatermark);},[styles,displayWatermark]);};var AppContainer=function AppContainer(_ref114){var client=_ref114.client,config=_ref114.config,styles=_ref114.styles,callbacks=_ref114.callbacks;var _h$133=h$5(function(){var _readB2CInternals$boo2=readB2CInternals(client).bootstrap.getSync(),displayWatermark=_readB2CInternals$boo2.displayWatermark;return displayWatermark;}),_h$134=_slicedToArray2(_h$133,2),displayWatermark=_h$134[0],setDisplayWatermark=_h$134[1];p$6(function(){readB2CInternals(client).networkClient.logEvent({name:'render_login_screen',details:{options:config}});readB2CInternals(client).bootstrap.getAsync().then(function(_ref115){var displayWatermark=_ref115.displayWatermark;setDisplayWatermark(displayWatermark);});},[client]);var theme=useTheme({styles:styles,displayWatermark:displayWatermark});return/*#__PURE__*/wn.createElement(GlobalContextProvider,{client:client,config:config,callbacks:callbacks},/*#__PURE__*/wn.createElement(Fe,{theme:theme},/*#__PURE__*/wn.createElement(AppContainer$1,null)));};var ResetPasswordContainer=function ResetPasswordContainer(_ref116){var client=_ref116.client,config=_ref116.config,styles=_ref116.styles,callbacks=_ref116.callbacks,passwordResetToken=_ref116.passwordResetToken;var _h$135=h$5(function(){var _readB2CInternals$boo3=readB2CInternals(client).bootstrap.getSync(),displayWatermark=_readB2CInternals$boo3.displayWatermark;return displayWatermark;}),_h$136=_slicedToArray2(_h$135,2),displayWatermark=_h$136[0],setDisplayWatermark=_h$136[1];var initialState=Object.assign(Object.assign({},DEFAULT_STATE),{screen:AppScreens$1.PasswordResetForm,formState:Object.assign(Object.assign({},DEFAULT_STATE.formState),{resetPasswordState:{token:passwordResetToken}})});p$6(function(){readB2CInternals(client).bootstrap.getAsync().then(function(_ref117){var displayWatermark=_ref117.displayWatermark;setDisplayWatermark(displayWatermark);});},[client]);var theme=useTheme({styles:styles,displayWatermark:displayWatermark});return/*#__PURE__*/wn.createElement(GlobalContextProvider,{client:client,config:config,callbacks:callbacks,initialState:initialState},/*#__PURE__*/wn.createElement(Fe,{theme:theme},/*#__PURE__*/wn.createElement(AppContainer$1,null)));};var PasskeyRegistrationContainer=function PasskeyRegistrationContainer(_ref118){var client=_ref118.client,config=_ref118.config,styles=_ref118.styles,callbacks=_ref118.callbacks;var _h$137=h$5(function(){var _readB2CInternals$boo4=readB2CInternals(client).bootstrap.getSync(),displayWatermark=_readB2CInternals$boo4.displayWatermark;return displayWatermark;}),_h$138=_slicedToArray2(_h$137,2),displayWatermark=_h$138[0],setDisplayWatermark=_h$138[1];var initialState=Object.assign(Object.assign({},DEFAULT_STATE),{screen:AppScreens$1.PasskeyRegistrationStart,formState:Object.assign({},DEFAULT_STATE.formState)});p$6(function(){readB2CInternals(client).bootstrap.getAsync().then(function(_ref119){var displayWatermark=_ref119.displayWatermark;setDisplayWatermark(displayWatermark);});},[client]);var theme=useTheme({styles:styles,displayWatermark:displayWatermark});return/*#__PURE__*/wn.createElement(GlobalContextProvider,{client:client,config:config,callbacks:callbacks,initialState:initialState},/*#__PURE__*/wn.createElement(Fe,{theme:theme},/*#__PURE__*/wn.createElement(AppContainer$1,null)));};var UI_SCREEN_WEB_COMPONENT_NAME='stytch-ui';var UI_RESET_PASSWORD_WEB_COMPONENT_NAME='stytch-reset-password';var UI_PASSKEY_REGISTRATION_WEB_COMPONENT_NAME='stytch-passkey-registration';var UILoginComponent=CreateSSRSafeWebComponent(AppContainer,UI_SCREEN_WEB_COMPONENT_NAME);var UIResetPasswordComponent=CreateSSRSafeWebComponent(ResetPasswordContainer,UI_RESET_PASSWORD_WEB_COMPONENT_NAME);var UIPasskeyRegistrationComponent=CreateSSRSafeWebComponent(PasskeyRegistrationContainer,UI_PASSKEY_REGISTRATION_WEB_COMPONENT_NAME);var StytchUIClient=/*#__PURE__*/function(_StytchHeadlessClient){_inherits2(StytchUIClient,_StytchHeadlessClient);function StytchUIClient(){_classCallCheck2(this,StytchUIClient);checkNotSSR('StytchUIClient');for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10];}return _callSuper2(this,StytchUIClient,[].concat(args));}_createClass2(StytchUIClient,[{key:\"mountLogin\",value:function mountLogin(_ref120){var elementId=_ref120.elementId,config=_ref120.config,styles=_ref120.styles,callbacks=_ref120.callbacks;var _a;var targetParentDomNode=document.querySelector(elementId);if(!targetParentDomNode){var errorMessage=\"The selector you specified (\".concat(elementId,\") applies to no DOM elements that are currently on the page. Make sure the element exists on the page before calling mountLogin().\");throw new Error(errorMessage);}if(((_a=targetParentDomNode.firstChild)===null||_a===void 0?void 0:_a.nodeName.toLowerCase())===UI_SCREEN_WEB_COMPONENT_NAME.toLowerCase()){var node=targetParentDomNode.firstChild;node.render({client:this,config:config,callbacks:callbacks,styles:styles});return;}var loginElement=UILoginComponent({client:this,config:config,callbacks:callbacks,styles:styles});targetParentDomNode.appendChild(loginElement);}},{key:\"mountResetPassword\",value:function mountResetPassword(_ref121){var elementId=_ref121.elementId,config=_ref121.config,styles=_ref121.styles,callbacks=_ref121.callbacks,passwordResetToken=_ref121.passwordResetToken;var _a;var targetParentDomNode=document.querySelector(elementId);if(!targetParentDomNode){var errorMessage=\"The selector you specified (\".concat(elementId,\") applies to no DOM elements that are currently on the page. Make sure the element exists on the page before calling mountLogin().\");throw new Error(errorMessage);}if(((_a=targetParentDomNode.firstChild)===null||_a===void 0?void 0:_a.nodeName.toLowerCase())===UI_RESET_PASSWORD_WEB_COMPONENT_NAME.toLowerCase()){var node=targetParentDomNode.firstChild;node.render({client:this,config:config,callbacks:callbacks,styles:styles,passwordResetToken:passwordResetToken});return;}var loginElement=UIResetPasswordComponent({client:this,config:config,callbacks:callbacks,styles:styles,passwordResetToken:passwordResetToken});targetParentDomNode.appendChild(loginElement);}},{key:\"mountPasskeyRegistration\",value:function mountPasskeyRegistration(_ref122){var elementId=_ref122.elementId,config=_ref122.config,styles=_ref122.styles,callbacks=_ref122.callbacks;var _a;var targetParentDomNode=document.querySelector(elementId);if(!targetParentDomNode){var errorMessage=\"The selector you specified (\".concat(elementId,\") applies to no DOM elements that are currently on the page. Make sure the element exists on the page before calling mountPasskeyRegistration().\");throw new Error(errorMessage);}if(((_a=targetParentDomNode.firstChild)===null||_a===void 0?void 0:_a.nodeName.toLowerCase())===UI_PASSKEY_REGISTRATION_WEB_COMPONENT_NAME.toLowerCase()){var node=targetParentDomNode.firstChild;node.render({client:this,config:config,callbacks:callbacks,styles:styles});return;}var passkeyRegistrationElement=UIPasskeyRegistrationComponent({client:this,config:config,callbacks:callbacks,styles:styles});targetParentDomNode.appendChild(passkeyRegistrationElement);}}]);return StytchUIClient;}(StytchHeadlessClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxza0JBQXNrQixpM0JBQWkzQixxRUFBcUUsSUFBSSx1QkFBdUIsc0JBQXNCLGFBQWEsY0FBYyxRQUFRLGNBQWMsZ0JBQWdCLEtBQUssNENBQTRDLCtCQUErQixrQkFBa0IsNkJBQTZCLDRDQUE0Qyw0QkFBNEIsc0JBQXNCLGtFQUFrRSxxQkFBcUIsaUVBQWlFLGtCQUFrQixLQUFLLHVEQUF1RCx3RUFBd0UsUUFBUSwwR0FBMEcsV0FBVyxRQUFRLHFCQUFxQixPQUFPLG1CQUFtQixzQkFBc0IsV0FBVyxPQUFPLDBCQUEwQixtQkFBbUIsV0FBVyxPQUFPLDhKQUE4SiwyQ0FBMkMsT0FBTyxlQUFlLGVBQWUsZ0JBQWdCLG1CQUFtQiwyQkFBMkIsYUFBYSxtQkFBbUIsWUFBWSxTQUFTLGdCQUFnQixJQUFJLHlEQUF5RCxRQUFRLHlCQUF5QixzQkFBc0IscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHdEQUF3RCxzQkFBc0IsVUFBVSwwQkFBMEIsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMsOENBQThDLDJCQUEyQix5SUFBeUksaUVBQWlFLEdBQUcsVUFBVSxtREFBbUQseUJBQXlCLDBEQUEwRCxVQUFVLGlDQUFpQywwREFBMEQsUUFBUSwwQkFBMEIsS0FBSyx3QkFBd0IscUNBQXFDLG9FQUFvRSwwQkFBMEIsZUFBZSx3REFBd0QseUJBQXlCLGNBQWMsbUNBQW1DLFVBQVUsUUFBUSxvQkFBb0IsS0FBSyxrQkFBa0IscUNBQXFDLHlCQUF5QixlQUFlLDZDQUE2QyxTQUFTLHNCQUFzQixzREFBc0QsS0FBSywwQkFBMEIsSUFBSSxrQ0FBa0MsdURBQXVELG1EQUFtRCx5REFBeUQsOEJBQThCLDJFQUEyRSxnQ0FBZ0MsOENBQThDLDJC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ZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvaW5kZXguZXNtLmpzPzg4MjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9leGNsdWRlZD1bXCJjaGlsZHJlblwiXSxfZXhjbHVkZWQyPVtcImNoaWxkcmVuXCJdLF9leGNsdWRlZDM9W1wiYXNDaGlsZFwiXSxfZXhjbHVkZWQ0PVtcInNjb3BlXCIsXCJjaGlsZHJlblwiXSxfZXhjbHVkZWQ1PVtcInNjb3BlXCIsXCJjaGlsZHJlblwiXSxfZXhjbHVkZWQ2PVtcIl9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwXCIsXCJvcmllbnRhdGlvblwiLFwiZGlyXCIsXCJsb29wXCIsXCJjdXJyZW50VGFiU3RvcElkXCIsXCJkZWZhdWx0Q3VycmVudFRhYlN0b3BJZFwiLFwib25DdXJyZW50VGFiU3RvcElkQ2hhbmdlXCIsXCJvbkVudHJ5Rm9jdXNcIl0sX2V4Y2x1ZGVkNz1bXCJfX3Njb3BlUm92aW5nRm9jdXNHcm91cFwiLFwiZm9jdXNhYmxlXCIsXCJhY3RpdmVcIl0sX2V4Y2x1ZGVkOD1bXCJfX3Njb3BlVGFic1wiLFwidmFsdWVcIixcIm9uVmFsdWVDaGFuZ2VcIixcImRlZmF1bHRWYWx1ZVwiLFwib3JpZW50YXRpb25cIixcImRpclwiLFwiYWN0aXZhdGlvbk1vZGVcIl0sX2V4Y2x1ZGVkOT1bXCJfX3Njb3BlVGFic1wiLFwibG9vcFwiXSxfZXhjbHVkZWQxMD1bXCJfX3Njb3BlVGFic1wiLFwidmFsdWVcIixcImRpc2FibGVkXCJdLF9leGNsdWRlZDExPVtcIl9fc2NvcGVUYWJzXCIsXCJ2YWx1ZVwiLFwiY2hpbGRyZW5cIl07dmFyIF90ZW1wbGF0ZU9iamVjdDUsX3RlbXBsYXRlT2JqZWN0NixfdGVtcGxhdGVPYmplY3Q3LF90ZW1wbGF0ZU9iamVjdDgsX3RlbXBsYXRlT2JqZWN0OSxfdGVtcGxhdGVPYmplY3QxMCxfdGVtcGxhdGVPYmplY3QxMSxfdGVtcGxhdGVPYmplY3QxMixfdGVtcGxhdGVPYmplY3QxMyxfdGVtcGxhdGVPYmplY3QxNCxfdGVtcGxhdGVPYmplY3QxNSxfdGVtcGxhdGVPYmplY3QxNixfdGVtcGxhdGVPYmplY3QxNyxfdGVtcGxhdGVPYmplY3QxOCxfdGVtcGxhdGVPYmplY3QxOSxfdGVtcGxhdGVPYmplY3QyMCxfdGVtcGxhdGVPYmplY3QyMSxfdGVtcGxhdGVPYmplY3QyMixfdGVtcGxhdGVPYmplY3QyMyxfdGVtcGxhdGVPYmplY3QyNCxfdGVtcGxhdGVPYmplY3QyNSxfdGVtcGxhdGVPYmplY3QyNixfdGVtcGxhdGVPYmplY3QyNyxfdGVtcGxhdGVPYmplY3QyOCxfdGVtcGxhdGVPYmplY3QyOSxfdGVtcGxhdGVPYmplY3QzMCxfdGVtcGxhdGVPYmplY3QzMSxfdGVtcGxhdGVPYmplY3QzMixfdGVtcGxhdGVPYmplY3QzMyxfdGVtcGxhdGVPYmplY3QzNCxfdGVtcGxhdGVPYmplY3QzNSxfdGVtcGxhdGVPYmplY3QzNixfdGVtcGxhdGVPYmplY3QzNyxfdGVtcGxhdGVPYmplY3QzOCxfdGVtcGxhdGVPYmplY3QzOSxfdGVtcGxhdGVPYmplY3Q0MCxfdGVtcGxhdGVPYmplY3Q0MSxfdGVtcGxhdGVPYmplY3Q0MixfdGVtcGxhdGVPYmplY3Q0MyxfdGVtcGxhdGVPYmplY3Q0NCxfdGVtcGxhdGVPYmplY3Q0NSxfdGVtcGxhdGVPYmplY3Q0NixfdGVtcGxhdGVPYmplY3Q0NyxfdGVtcGxhdGVPYmplY3Q0OCxfdGVtcGxhdGVPYmplY3Q0OSxfdGVtcGxhdGVPYmplY3Q1MCxfdGVtcGxhdGVPYmplY3Q1MSxfdGVtcGxhdGVPYmplY3Q1MixfdGVtcGxhdGVPYmplY3Q1MztmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLHJlc29sdmUscmVqZWN0LF9uZXh0LF90aHJvdyxrZXksYXJnKXt0cnl7dmFyIGluZm89Z2VuW2tleV0oYXJnKTt2YXIgdmFsdWU9aW5mby52YWx1ZTt9Y2F0Y2goZXJyb3Ipe3JlamVjdChlcnJvcik7cmV0dXJuO31pZihpbmZvLmRvbmUpe3Jlc29sdmUodmFsdWUpO31lbHNle1Byb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCxfdGhyb3cpO319ZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXMsYXJncz1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgZ2VuPWZuLmFwcGx5KHNlbGYsYXJncyk7ZnVuY3Rpb24gX25leHQodmFsdWUpe2FzeW5jR2VuZXJhdG9yU3RlcChnZW4scmVzb2x2ZSxyZWplY3QsX25leHQsX3Rocm93LFwibmV4dFwiLHZhbHVlKTt9ZnVuY3Rpb24gX3Rocm93KGVycil7YXN5bmNHZW5lcmF0b3JTdGVwKGdlbixyZXNvbHZlLHJlamVjdCxfbmV4dCxfdGhyb3csXCJ0aHJvd1wiLGVycik7fV9uZXh0KHVuZGVmaW5lZCk7fSk7fTt9ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyKG8sYWxsb3dBcnJheUxpa2Upe3ZhciBpdD10eXBlb2YgU3ltYm9sIT09XCJ1bmRlZmluZWRcIiYmb1tTeW1ib2wuaXRlcmF0b3JdfHxvW1wiQEBpdGVyYXRvclwiXTtpZighaXQpe2lmKEFycmF5LmlzQXJyYXkobyl8fChpdD1fdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkyKG8pKXx8YWxsb3dBcnJheUxpa2UmJm8mJnR5cGVvZiBvLmxlbmd0aD09PVwibnVtYmVyXCIpe2lmKGl0KW89aXQ7dmFyIGk9MDt2YXIgRj1mdW5jdGlvbiBGKCl7fTtyZXR1cm57czpGLG46ZnVuY3Rpb24gbigpe2lmKGk+PW8ubGVuZ3RoKXJldHVybntkb25lOnRydWV9O3JldHVybntkb25lOmZhbHNlLHZhbHVlOm9baSsrXX07fSxlOmZ1bmN0aW9uIGUoX2U1KXt0aHJvdyBfZTU7fSxmOkZ9O310aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7fXZhciBub3JtYWxDb21wbGV0aW9uPXRydWUsZGlkRXJyPWZhbHNlLGVycjtyZXR1cm57czpmdW5jdGlvbiBzKCl7aXQ9aXQuY2FsbChvKTt9LG46ZnVuY3Rpb24gbigpe3ZhciBzdGVwPWl0Lm5leHQoKTtub3JtYWxDb21wbGV0aW9uPXN0ZXAuZG9uZTtyZXR1cm4gc3RlcDt9LGU6ZnVuY3Rpb24gZShfZTYpe2RpZEVycj10cnVlO2Vycj1fZTY7fSxmOmZ1bmN0aW9uIGYoKXt0cnl7aWYoIW5vcm1hbENvbXBsZXRpb24mJml0W1wicmV0dXJuXCJdIT1udWxsKWl0W1wicmV0dXJuXCJdKCk7fWZpbmFsbHl7aWYoZGlkRXJyKXRocm93IGVycjt9fX07fWZ1bmN0aW9uIG93bktleXMoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihvPW8uZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZTt9KSksdC5wdXNoLmFwcGx5KHQsbyk7fXJldHVybiB0O31mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP293bktleXMoT2JqZWN0KHQpLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe19kZWZpbmVQcm9wZXJ0eShlLHIsdFtyXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6b3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpO30pO31yZXR1cm4gZTt9ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSxleGNsdWRlZCl7aWYoc291cmNlPT1udWxsKXJldHVybnt9O3ZhciB0YXJnZXQ9X29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLGV4Y2x1ZGVkKTt2YXIga2V5LGk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHNvdXJjZVN5bWJvbEtleXM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO2ZvcihpPTA7aTxzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDtpKyspe2tleT1zb3VyY2VTeW1ib2xLZXlzW2ldO2lmKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KT49MCljb250aW51ZTtpZighT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSxrZXkpKWNvbnRpbnVlO3RhcmdldFtrZXldPXNvdXJjZVtrZXldO319cmV0dXJuIHRhcmdldDt9ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLGV4Y2x1ZGVkKXtpZihzb3VyY2U9PW51bGwpcmV0dXJue307dmFyIHRhcmdldD17fTt2YXIgc291cmNlS2V5cz1PYmplY3Qua2V5cyhzb3VyY2UpO3ZhciBrZXksaTtmb3IoaT0wO2k8c291cmNlS2V5cy5sZW5ndGg7aSsrKXtrZXk9c291cmNlS2V5c1tpXTtpZihleGNsdWRlZC5pbmRleE9mKGtleSk+PTApY29udGludWU7dGFyZ2V0W2tleV09c291cmNlW2tleV07fXJldHVybiB0YXJnZXQ7fWZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncyxyYXcpe2lmKCFyYXcpe3Jhdz1zdHJpbmdzLnNsaWNlKDApO31yZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUocmF3KX19KSk7fWZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIyKENsYXNzKXt2YXIgX2NhY2hlPXR5cGVvZiBNYXA9PT1cImZ1bmN0aW9uXCI/bmV3IE1hcCgpOnVuZGVmaW5lZDtfd3JhcE5hdGl2ZVN1cGVyMj1mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKXtpZihDbGFzcz09PW51bGx8fCFfaXNOYXRpdmVGdW5jdGlvbjIoQ2xhc3MpKXJldHVybiBDbGFzcztpZih0eXBlb2YgQ2xhc3MhPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt9aWYodHlwZW9mIF9jYWNoZSE9PVwidW5kZWZpbmVkXCIpe2lmKF9jYWNoZS5oYXMoQ2xhc3MpKXJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtfY2FjaGUuc2V0KENsYXNzLFdyYXBwZXIpO31mdW5jdGlvbiBXcmFwcGVyKCl7cmV0dXJuIF9jb25zdHJ1Y3QyKENsYXNzLGFyZ3VtZW50cyxfZ2V0UHJvdG90eXBlT2YyKHRoaXMpLmNvbnN0cnVjdG9yKTt9V3JhcHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpXcmFwcGVyLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtyZXR1cm4gX3NldFByb3RvdHlwZU9mMihXcmFwcGVyLENsYXNzKTt9O3JldHVybiBfd3JhcE5hdGl2ZVN1cGVyMihDbGFzcyk7fWZ1bmN0aW9uIF9jb25zdHJ1Y3QyKHQsZSxyKXtpZihfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0MigpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLGFyZ3VtZW50cyk7dmFyIG89W251bGxdO28ucHVzaC5hcHBseShvLGUpO3ZhciBwPW5ldyh0LmJpbmQuYXBwbHkodCxvKSkoKTtyZXR1cm4gciYmX3NldFByb3RvdHlwZU9mMihwLHIucHJvdG90eXBlKSxwO31mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbjIoZm4pe3RyeXtyZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikhPT0tMTt9Y2F0Y2goZSl7cmV0dXJuIHR5cGVvZiBmbj09PVwiZnVuY3Rpb25cIjt9fWZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosa2V5LHZhbHVlKXtrZXk9X3RvUHJvcGVydHlLZXkyKGtleSk7aWYoa2V5IGluIG9iail7T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaixrZXkse3ZhbHVlOnZhbHVlLGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZSx3cml0YWJsZTp0cnVlfSk7fWVsc2V7b2JqW2tleV09dmFsdWU7fXJldHVybiBvYmo7fWZ1bmN0aW9uIF9zbGljZWRUb0FycmF5MihhcnIsaSl7cmV0dXJuIF9hcnJheVdpdGhIb2xlczIoYXJyKXx8X2l0ZXJhYmxlVG9BcnJheUxpbWl0MihhcnIsaSl8fF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTIoYXJyLGkpfHxfbm9uSXRlcmFibGVSZXN0MigpO31mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0Migpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7fWZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdDIocixsKXt2YXIgdD1udWxsPT1yP251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmcltTeW1ib2wuaXRlcmF0b3JdfHxyW1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT10KXt2YXIgZSxuLGksdSxhPVtdLGY9ITAsbz0hMTt0cnl7aWYoaT0odD10LmNhbGwocikpLm5leHQsMD09PWwpe2lmKE9iamVjdCh0KSE9PXQpcmV0dXJuO2Y9ITE7fWVsc2UgZm9yKDshKGY9KGU9aS5jYWxsKHQpKS5kb25lKSYmKGEucHVzaChlLnZhbHVlKSxhLmxlbmd0aCE9PWwpO2Y9ITApO31jYXRjaChyKXtvPSEwLG49cjt9ZmluYWxseXt0cnl7aWYoIWYmJm51bGwhPXRbXCJyZXR1cm5cIl0mJih1PXRbXCJyZXR1cm5cIl0oKSxPYmplY3QodSkhPT11KSlyZXR1cm47fWZpbmFsbHl7aWYobyl0aHJvdyBuO319cmV0dXJuIGE7fX1mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMyKGFycil7aWYoQXJyYXkuaXNBcnJheShhcnIpKXJldHVybiBhcnI7fWZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpe3JldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKXx8X2l0ZXJhYmxlVG9BcnJheShhcnIpfHxfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkyKGFycil8fF9ub25JdGVyYWJsZVNwcmVhZCgpO31mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTt9ZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5MihvLG1pbkxlbil7aWYoIW8pcmV0dXJuO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIilyZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkyKG8sbWluTGVuKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwtMSk7aWYobj09PVwiT2JqZWN0XCImJm8uY29uc3RydWN0b3Ipbj1vLmNvbnN0cnVjdG9yLm5hbWU7aWYobj09PVwiTWFwXCJ8fG49PT1cIlNldFwiKXJldHVybiBBcnJheS5mcm9tKG8pO2lmKG49PT1cIkFyZ3VtZW50c1wifHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkyKG8sbWluTGVuKTt9ZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKXtpZih0eXBlb2YgU3ltYm9sIT09XCJ1bmRlZmluZWRcIiYmaXRlcltTeW1ib2wuaXRlcmF0b3JdIT1udWxsfHxpdGVyW1wiQEBpdGVyYXRvclwiXSE9bnVsbClyZXR1cm4gQXJyYXkuZnJvbShpdGVyKTt9ZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycil7aWYoQXJyYXkuaXNBcnJheShhcnIpKXJldHVybiBfYXJyYXlMaWtlVG9BcnJheTIoYXJyKTt9ZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkyKGFycixsZW4pe2lmKGxlbj09bnVsbHx8bGVuPmFyci5sZW5ndGgpbGVuPWFyci5sZW5ndGg7Zm9yKHZhciBpPTAsYXJyMj1uZXcgQXJyYXkobGVuKTtpPGxlbjtpKyspYXJyMltpXT1hcnJbaV07cmV0dXJuIGFycjI7fWZ1bmN0aW9uIF9jYWxsU3VwZXIyKHQsbyxlKXtyZXR1cm4gbz1fZ2V0UHJvdG90eXBlT2YyKG8pLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMih0LF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QyKCk/UmVmbGVjdC5jb25zdHJ1Y3QobyxlfHxbXSxfZ2V0UHJvdG90eXBlT2YyKHQpLmNvbnN0cnVjdG9yKTpvLmFwcGx5KHQsZSkpO31mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIoc2VsZixjYWxsKXtpZihjYWxsJiYoX3R5cGVvZjIoY2FsbCk9PT1cIm9iamVjdFwifHx0eXBlb2YgY2FsbD09PVwiZnVuY3Rpb25cIikpe3JldHVybiBjYWxsO31lbHNlIGlmKGNhbGwhPT12b2lkIDApe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTt9cmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQyKHNlbGYpO31mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0Migpe3RyeXt2YXIgdD0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sZnVuY3Rpb24oKXt9KSk7fWNhdGNoKHQpe31yZXR1cm4oX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdDI9ZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdDIoKXtyZXR1cm4hIXQ7fSkoKTt9ZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mMihvKXtfZ2V0UHJvdG90eXBlT2YyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKXtyZXR1cm4gby5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTt9O3JldHVybiBfZ2V0UHJvdG90eXBlT2YyKG8pO31mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkMihzZWxmKXtpZihzZWxmPT09dm9pZCAwKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7fXJldHVybiBzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMyKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09XCJmdW5jdGlvblwiJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOmZhbHNlfSk7aWYoc3VwZXJDbGFzcylfc2V0UHJvdG90eXBlT2YyKHN1YkNsYXNzLHN1cGVyQ2xhc3MpO31mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YyKG8scCl7X3NldFByb3RvdHlwZU9mMj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobyxwKXtvLl9fcHJvdG9fXz1wO3JldHVybiBvO307cmV0dXJuIF9zZXRQcm90b3R5cGVPZjIobyxwKTt9ZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZTIoKXtcInVzZSBzdHJpY3RcIjsvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovX3JlZ2VuZXJhdG9yUnVudGltZTI9ZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZTIoKXtyZXR1cm4gZTt9O3ZhciB0LGU9e30scj1PYmplY3QucHJvdG90eXBlLG49ci5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLHIpe3RbZV09ci52YWx1ZTt9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLGM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gZGVmaW5lKHQsZSxyKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV07fXRyeXtkZWZpbmUoe30sXCJcIik7fWNhdGNoKHQpe2RlZmluZT1mdW5jdGlvbiBkZWZpbmUodCxlLHIpe3JldHVybiB0W2VdPXI7fTt9ZnVuY3Rpb24gd3JhcCh0LGUscixuKXt2YXIgaT1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvcj9lOkdlbmVyYXRvcixhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLGM9bmV3IENvbnRleHQobnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOm1ha2VJbnZva2VNZXRob2QodCxyLGMpfSksYTt9ZnVuY3Rpb24gdHJ5Q2F0Y2godCxlLHIpe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxyKX07fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH07fX1lLndyYXA9d3JhcDt2YXIgaD1cInN1c3BlbmRlZFN0YXJ0XCIsbD1cInN1c3BlbmRlZFlpZWxkXCIsZj1cImV4ZWN1dGluZ1wiLHM9XCJjb21wbGV0ZWRcIix5PXt9O2Z1bmN0aW9uIEdlbmVyYXRvcigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpe312YXIgcD17fTtkZWZpbmUocCxhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM7fSk7dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mLHY9ZCYmZChkKHZhbHVlcyhbXSkpKTt2JiZ2IT09ciYmbi5jYWxsKHYsYSkmJihwPXYpO3ZhciBnPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZT1HZW5lcmF0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocCk7ZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihlKXtkZWZpbmUodCxlLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KTt9KTt9KTt9ZnVuY3Rpb24gQXN5bmNJdGVyYXRvcih0LGUpe2Z1bmN0aW9uIGludm9rZShyLG8saSxhKXt2YXIgYz10cnlDYXRjaCh0W3JdLHQsbyk7aWYoXCJ0aHJvd1wiIT09Yy50eXBlKXt2YXIgdT1jLmFyZyxoPXUudmFsdWU7cmV0dXJuIGgmJlwib2JqZWN0XCI9PV90eXBlb2YyKGgpJiZuLmNhbGwoaCxcIl9fYXdhaXRcIik/ZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbih0KXtpbnZva2UoXCJuZXh0XCIsdCxpLGEpO30sZnVuY3Rpb24odCl7aW52b2tlKFwidGhyb3dcIix0LGksYSk7fSk6ZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24odCl7dS52YWx1ZT10LGkodSk7fSxmdW5jdGlvbih0KXtyZXR1cm4gaW52b2tlKFwidGhyb3dcIix0LGksYSk7fSk7fWEoYy5hcmcpO312YXIgcjtvKHRoaXMsXCJfaW52b2tlXCIse3ZhbHVlOmZ1bmN0aW9uIHZhbHVlKHQsbil7ZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKXtyZXR1cm4gbmV3IGUoZnVuY3Rpb24oZSxyKXtpbnZva2UodCxuLGUscik7fSk7fXJldHVybiByPXI/ci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKTpjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO319KTt9ZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLHIsbil7dmFyIG89aDtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09Zil0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKG89PT1zKXtpZihcInRocm93XCI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH07fWZvcihuLm1ldGhvZD1pLG4uYXJnPWE7Oyl7dmFyIGM9bi5kZWxlZ2F0ZTtpZihjKXt2YXIgdT1tYXliZUludm9rZURlbGVnYXRlKGMsbik7aWYodSl7aWYodT09PXkpY29udGludWU7cmV0dXJuIHU7fX1pZihcIm5leHRcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKG89PT1oKXRocm93IG89cyxuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKTt9ZWxzZVwicmV0dXJuXCI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoXCJyZXR1cm5cIixuLmFyZyk7bz1mO3ZhciBwPXRyeUNhdGNoKGUscixuKTtpZihcIm5vcm1hbFwiPT09cC50eXBlKXtpZihvPW4uZG9uZT9zOmwscC5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTpwLmFyZyxkb25lOm4uZG9uZX07fVwidGhyb3dcIj09PXAudHlwZSYmKG89cyxuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9cC5hcmcpO319O31mdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUscil7dmFyIG49ci5tZXRob2Qsbz1lLml0ZXJhdG9yW25dO2lmKG89PT10KXJldHVybiByLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09biYmZS5pdGVyYXRvcltcInJldHVyblwiXSYmKHIubWV0aG9kPVwicmV0dXJuXCIsci5hcmc9dCxtYXliZUludm9rZURlbGVnYXRlKGUsciksXCJ0aHJvd1wiPT09ci5tZXRob2QpfHxcInJldHVyblwiIT09biYmKHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIrbitcIicgbWV0aG9kXCIpKSx5O3ZhciBpPXRyeUNhdGNoKG8sZS5pdGVyYXRvcixyLmFyZyk7aWYoXCJ0aHJvd1wiPT09aS50eXBlKXJldHVybiByLm1ldGhvZD1cInRocm93XCIsci5hcmc9aS5hcmcsci5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhyW2UucmVzdWx0TmFtZV09YS52YWx1ZSxyLm5leHQ9ZS5uZXh0TG9jLFwicmV0dXJuXCIhPT1yLm1ldGhvZCYmKHIubWV0aG9kPVwibmV4dFwiLHIuYXJnPXQpLHIuZGVsZWdhdGU9bnVsbCx5KTphOihyLm1ldGhvZD1cInRocm93XCIsci5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLHIuZGVsZWdhdGU9bnVsbCx5KTt9ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpO31mdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lO31mdW5jdGlvbiBDb250ZXh0KHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyksdGhpcy5yZXNldCghMCk7fWZ1bmN0aW9uIHZhbHVlcyhlKXtpZihlfHxcIlwiPT09ZSl7dmFyIHI9ZVthXTtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBvPS0xLGk9ZnVuY3Rpb24gbmV4dCgpe2Zvcig7KytvPGUubGVuZ3RoOylpZihuLmNhbGwoZSxvKSlyZXR1cm4gbmV4dC52YWx1ZT1lW29dLG5leHQuZG9uZT0hMSxuZXh0O3JldHVybiBuZXh0LnZhbHVlPXQsbmV4dC5kb25lPSEwLG5leHQ7fTtyZXR1cm4gaS5uZXh0PWk7fX10aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YyKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKTt9cmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZT1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxvKGcsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTpHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxjb25maWd1cmFibGU6ITB9KSxvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFwiY29uc3RydWN0b3JcIix7dmFsdWU6R2VuZXJhdG9yRnVuY3Rpb24sY29uZmlndXJhYmxlOiEwfSksR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWU9ZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09R2VuZXJhdG9yRnVuY3Rpb258fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKTt9LGUubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKToodC5fX3Byb3RvX189R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsZGVmaW5lKHQsdSxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcpLHQ7fSxlLmF3cmFwPWZ1bmN0aW9uKHQpe3JldHVybntfX2F3YWl0OnR9O30sZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSxkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsYyxmdW5jdGlvbigpe3JldHVybiB0aGlzO30pLGUuQXN5bmNJdGVyYXRvcj1Bc3luY0l0ZXJhdG9yLGUuYXN5bmM9ZnVuY3Rpb24odCxyLG4sbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQscixuLG8pLGkpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24ocik/YTphLm5leHQoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKTt9KTt9LGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSxkZWZpbmUoZyx1LFwiR2VuZXJhdG9yXCIpLGRlZmluZShnLGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9KSxkZWZpbmUoZyxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwiO30pLGUua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCkscj1bXTtmb3IodmFyIG4gaW4gZSlyLnB1c2gobik7cmV0dXJuIHIucmV2ZXJzZSgpLGZ1bmN0aW9uIG5leHQoKXtmb3IoO3IubGVuZ3RoOyl7dmFyIHQ9ci5wb3AoKTtpZih0IGluIGUpcmV0dXJuIG5leHQudmFsdWU9dCxuZXh0LmRvbmU9ITEsbmV4dDt9cmV0dXJuIG5leHQuZG9uZT0hMCxuZXh0O307fSxlLnZhbHVlcz12YWx1ZXMsQ29udGV4dC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkNvbnRleHQscmVzZXQ6ZnVuY3Rpb24gcmVzZXQoZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksIWUpZm9yKHZhciByIGluIHRoaXMpXCJ0XCI9PT1yLmNoYXJBdCgwKSYmbi5jYWxsKHRoaXMscikmJiFpc05hTigrci5zbGljZSgxKSkmJih0aGlzW3JdPXQpO30sc3RvcDpmdW5jdGlvbiBzdG9wKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsO30sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHI9dGhpcztmdW5jdGlvbiBoYW5kbGUobixvKXtyZXR1cm4gYS50eXBlPVwidGhyb3dcIixhLmFyZz1lLHIubmV4dD1uLG8mJihyLm1ldGhvZD1cIm5leHRcIixyLmFyZz10KSwhIW87fWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBpPXRoaXMudHJ5RW50cmllc1tvXSxhPWkuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWkudHJ5TG9jKXJldHVybiBoYW5kbGUoXCJlbmRcIik7aWYoaS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9bi5jYWxsKGksXCJjYXRjaExvY1wiKSx1PW4uY2FsbChpLFwiZmluYWxseUxvY1wiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8aS5jYXRjaExvYylyZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxpLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpO31lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxpLmNhdGNoTG9jKXJldHVybiBoYW5kbGUoaS5jYXRjaExvYywhMCk7fWVsc2V7aWYoIXUpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7fX19fSxhYnJ1cHQ6ZnVuY3Rpb24gYWJydXB0KHQsZSl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIG89dGhpcy50cnlFbnRyaWVzW3JdO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJm4uY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVhazt9fWkmJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmaS50cnlMb2M8PWUmJmU8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpO30sY29tcGxldGU6ZnVuY3Rpb24gY29tcGxldGUodCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLHk7fSxmaW5pc2g6ZnVuY3Rpb24gZmluaXNoKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciByPXRoaXMudHJ5RW50cmllc1tlXTtpZihyLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxyZXNldFRyeUVudHJ5KHIpLHk7fX0sXCJjYXRjaFwiOmZ1bmN0aW9uIF9jYXRjaCh0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbZV07aWYoci50cnlMb2M9PT10KXt2YXIgbj1yLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09bi50eXBlKXt2YXIgbz1uLmFyZztyZXNldFRyeUVudHJ5KHIpO31yZXR1cm4gbzt9fXRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTt9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChlLHIsbil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOnZhbHVlcyhlKSxyZXN1bHROYW1lOnIsbmV4dExvYzpufSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCkseTt9fSxlO31mdW5jdGlvbiBfdHlwZW9mMihvKXtcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7cmV0dXJuIF90eXBlb2YyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihvKXtyZXR1cm4gdHlwZW9mIG87fTpmdW5jdGlvbihvKXtyZXR1cm4gbyYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvO30sX3R5cGVvZjIobyk7fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjazIoaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7fX1mdW5jdGlvbiBfX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxfdG9Qcm9wZXJ0eUtleTIoZGVzY3JpcHRvci5rZXkpLGRlc2NyaXB0b3IpO319ZnVuY3Rpb24gX2NyZWF0ZUNsYXNzMihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKV9fZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpX19kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ZmFsc2V9KTtyZXR1cm4gQ29uc3RydWN0b3I7fWZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5Mih0KXt2YXIgaT1fdG9QcmltaXRpdmUyKHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09X3R5cGVvZjIoaSk/aTpTdHJpbmcoaSk7fWZ1bmN0aW9uIF90b1ByaW1pdGl2ZTIodCxyKXtpZihcIm9iamVjdFwiIT1fdHlwZW9mMih0KXx8IXQpcmV0dXJuIHQ7dmFyIGU9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PWUpe3ZhciBpPWUuY2FsbCh0LHJ8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT1fdHlwZW9mMihpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7fXJldHVybihcInN0cmluZ1wiPT09cj9TdHJpbmc6TnVtYmVyKSh0KTt9ZnVuY3Rpb24gX3R5cGVvZiQxKG8pe1wiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtyZXR1cm4gX3R5cGVvZiQxPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihvKXtyZXR1cm4gdHlwZW9mIG87fTpmdW5jdGlvbihvKXtyZXR1cm4gbyYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvO30sX3R5cGVvZiQxKG8pO31mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkMShDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ZmFsc2V9KTtyZXR1cm4gQ29uc3RydWN0b3I7fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQxKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO319ZnVuY3Rpb24gX2NhbGxTdXBlciQxKHQsbyxlKXtyZXR1cm4gbz1fZ2V0UHJvdG90eXBlT2YkMShvKSxfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiQxKHQsX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQxKCk/UmVmbGVjdC5jb25zdHJ1Y3QobyxlfHxbXSxfZ2V0UHJvdG90eXBlT2YkMSh0KS5jb25zdHJ1Y3Rvcik6by5hcHBseSh0LGUpKTt9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4kMShzZWxmLGNhbGwpe2lmKGNhbGwmJihfdHlwZW9mJDEoY2FsbCk9PT1cIm9iamVjdFwifHx0eXBlb2YgY2FsbD09PVwiZnVuY3Rpb25cIikpe3JldHVybiBjYWxsO31lbHNlIGlmKGNhbGwhPT12b2lkIDApe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTt9cmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQkMShzZWxmKTt9ZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZCQxKHNlbGYpe2lmKHNlbGY9PT12b2lkIDApe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTt9cmV0dXJuIHNlbGY7fWZ1bmN0aW9uIF9pbmhlcml0cyQxKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09XCJmdW5jdGlvblwiJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOmZhbHNlfSk7aWYoc3VwZXJDbGFzcylfc2V0UHJvdG90eXBlT2YkMShzdWJDbGFzcyxzdXBlckNsYXNzKTt9ZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlciQxKENsYXNzKXt2YXIgX2NhY2hlPXR5cGVvZiBNYXA9PT1cImZ1bmN0aW9uXCI/bmV3IE1hcCgpOnVuZGVmaW5lZDtfd3JhcE5hdGl2ZVN1cGVyJDE9ZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyl7aWYoQ2xhc3M9PT1udWxsfHwhX2lzTmF0aXZlRnVuY3Rpb24kMShDbGFzcykpcmV0dXJuIENsYXNzO2lmKHR5cGVvZiBDbGFzcyE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO31pZih0eXBlb2YgX2NhY2hlIT09XCJ1bmRlZmluZWRcIil7aWYoX2NhY2hlLmhhcyhDbGFzcykpcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO19jYWNoZS5zZXQoQ2xhc3MsV3JhcHBlcik7fWZ1bmN0aW9uIFdyYXBwZXIoKXtyZXR1cm4gX2NvbnN0cnVjdCQxKENsYXNzLGFyZ3VtZW50cyxfZ2V0UHJvdG90eXBlT2YkMSh0aGlzKS5jb25zdHJ1Y3Rvcik7fVdyYXBwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6V3JhcHBlcixlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7cmV0dXJuIF9zZXRQcm90b3R5cGVPZiQxKFdyYXBwZXIsQ2xhc3MpO307cmV0dXJuIF93cmFwTmF0aXZlU3VwZXIkMShDbGFzcyk7fWZ1bmN0aW9uIF9jb25zdHJ1Y3QkMSh0LGUscil7aWYoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQxKCkpcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsYXJndW1lbnRzKTt2YXIgbz1bbnVsbF07by5wdXNoLmFwcGx5KG8sZSk7dmFyIHA9bmV3KHQuYmluZC5hcHBseSh0LG8pKSgpO3JldHVybiByJiZfc2V0UHJvdG90eXBlT2YkMShwLHIucHJvdG90eXBlKSxwO31mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDEoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLGZ1bmN0aW9uKCl7fSkpO31jYXRjaCh0KXt9cmV0dXJuKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkMT1mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCl7cmV0dXJuISF0O30pKCk7fWZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uJDEoZm4pe3RyeXtyZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikhPT0tMTt9Y2F0Y2goZSl7cmV0dXJuIHR5cGVvZiBmbj09PVwiZnVuY3Rpb25cIjt9fWZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZiQxKG8scCl7X3NldFByb3RvdHlwZU9mJDE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8scCl7by5fX3Byb3RvX189cDtyZXR1cm4gbzt9O3JldHVybiBfc2V0UHJvdG90eXBlT2YkMShvLHApO31mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YkMShvKXtfZ2V0UHJvdG90eXBlT2YkMT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobyl7cmV0dXJuIG8uX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7fTtyZXR1cm4gX2dldFByb3RvdHlwZU9mJDEobyk7fXZhciBQcm9kdWN0czsoZnVuY3Rpb24oUHJvZHVjdHMpe1Byb2R1Y3RzW1wiZW1haWxNYWdpY0xpbmtzXCJdPVwiZW1haWxNYWdpY0xpbmtzXCI7UHJvZHVjdHNbXCJvYXV0aFwiXT1cIm9hdXRoXCI7UHJvZHVjdHNbXCJvdHBcIl09XCJvdHBcIjtQcm9kdWN0c1tcImNyeXB0b1wiXT1cImNyeXB0b1wiO1Byb2R1Y3RzW1wicGFzc3dvcmRzXCJdPVwicGFzc3dvcmRzXCI7UHJvZHVjdHNbXCJwYXNza2V5c1wiXT1cInBhc3NrZXlzXCI7fSkoUHJvZHVjdHN8fChQcm9kdWN0cz17fSkpO3ZhciBPQXV0aFByb3ZpZGVyczsoZnVuY3Rpb24oT0F1dGhQcm92aWRlcnMpe09BdXRoUHJvdmlkZXJzW1wiR29vZ2xlXCJdPVwiZ29vZ2xlXCI7T0F1dGhQcm92aWRlcnNbXCJNaWNyb3NvZnRcIl09XCJtaWNyb3NvZnRcIjtPQXV0aFByb3ZpZGVyc1tcIkFwcGxlXCJdPVwiYXBwbGVcIjtPQXV0aFByb3ZpZGVyc1tcIkdpdGh1YlwiXT1cImdpdGh1YlwiO09BdXRoUHJvdmlkZXJzW1wiR2l0TGFiXCJdPVwiZ2l0bGFiXCI7T0F1dGhQcm92aWRlcnNbXCJGYWNlYm9va1wiXT1cImZhY2Vib29rXCI7T0F1dGhQcm92aWRlcnNbXCJEaXNjb3JkXCJdPVwiZGlzY29yZFwiO09BdXRoUHJvdmlkZXJzW1wiU2FsZXNmb3JjZVwiXT1cInNhbGVzZm9yY2VcIjtPQXV0aFByb3ZpZGVyc1tcIlNsYWNrXCJdPVwic2xhY2tcIjtPQXV0aFByb3ZpZGVyc1tcIkFtYXpvblwiXT1cImFtYXpvblwiO09BdXRoUHJvdmlkZXJzW1wiQml0YnVja2V0XCJdPVwiYml0YnVja2V0XCI7T0F1dGhQcm92aWRlcnNbXCJMaW5rZWRJblwiXT1cImxpbmtlZGluXCI7T0F1dGhQcm92aWRlcnNbXCJDb2luYmFzZVwiXT1cImNvaW5iYXNlXCI7T0F1dGhQcm92aWRlcnNbXCJUd2l0Y2hcIl09XCJ0d2l0Y2hcIjtPQXV0aFByb3ZpZGVyc1tcIlR3aXR0ZXJcIl09XCJ0d2l0dGVyXCI7T0F1dGhQcm92aWRlcnNbXCJUaWtUb2tcIl09XCJ0aWt0b2tcIjtPQXV0aFByb3ZpZGVyc1tcIlNuYXBjaGF0XCJdPVwic25hcGNoYXRcIjtPQXV0aFByb3ZpZGVyc1tcIkZpZ21hXCJdPVwiZmlnbWFcIjtPQXV0aFByb3ZpZGVyc1tcIllhaG9vXCJdPVwieWFob29cIjt9KShPQXV0aFByb3ZpZGVyc3x8KE9BdXRoUHJvdmlkZXJzPXt9KSk7dmFyIFdhbGxldHM7KGZ1bmN0aW9uKFdhbGxldHMpe1dhbGxldHNbXCJWZXNzZWxcIl09XCJWZXNzZWxcIjtXYWxsZXRzW1wiUGhhbnRvbVwiXT1cIlBoYW50b21cIjtXYWxsZXRzW1wiTWV0YW1hc2tcIl09XCJNZXRhbWFza1wiO1dhbGxldHNbXCJDb2luYmFzZVwiXT1cIkNvaW5iYXNlXCI7V2FsbGV0c1tcIkJpbmFuY2VcIl09XCJCaW5hbmNlXCI7V2FsbGV0c1tcIkdlbmVyaWNFdGhlcmV1bVdhbGxldFwiXT1cIk90aGVyIEV0aGVyZXVtIFdhbGxldFwiO1dhbGxldHNbXCJHZW5lcmljU29sYW5hV2FsbGV0XCJdPVwiT3RoZXIgU29sYW5hIFdhbGxldFwiO30pKFdhbGxldHN8fChXYWxsZXRzPXt9KSk7dmFyIE9uZVRhcFBvc2l0aW9uczsoZnVuY3Rpb24oT25lVGFwUG9zaXRpb25zKXtPbmVUYXBQb3NpdGlvbnNbXCJlbWJlZGRlZFwiXT1cImVtYmVkZGVkXCI7T25lVGFwUG9zaXRpb25zW1wiZmxvYXRpbmdcIl09XCJmbG9hdGluZ1wiO09uZVRhcFBvc2l0aW9uc1tcImVtYmVkZGVkT25seVwiXT1cImVtYmVkZGVkT25seVwiO09uZVRhcFBvc2l0aW9uc1tcImZsb2F0aW5nT3JFbWJlZGRlZFwiXT1cImZsb2F0aW5nT3JFbWJlZGRlZFwiO09uZVRhcFBvc2l0aW9uc1tcImZvcmNlTGVnYWN5RW1iZWRkZWRcIl09XCJmb3JjZUxlZ2FjeUVtYmVkZGVkXCI7fSkoT25lVGFwUG9zaXRpb25zfHwoT25lVGFwUG9zaXRpb25zPXt9KSk7dmFyIE9UUE1ldGhvZHM7KGZ1bmN0aW9uKE9UUE1ldGhvZHMpe09UUE1ldGhvZHNbXCJTTVNcIl09XCJzbXNcIjtPVFBNZXRob2RzW1wiV2hhdHNBcHBcIl09XCJ3aGF0c2FwcFwiO09UUE1ldGhvZHNbXCJFbWFpbFwiXT1cImVtYWlsXCI7fSkoT1RQTWV0aG9kc3x8KE9UUE1ldGhvZHM9e30pKTt2YXIgU3R5dGNoRXZlbnRUeXBlOyhmdW5jdGlvbihTdHl0Y2hFdmVudFR5cGUpe1N0eXRjaEV2ZW50VHlwZVtcIk1hZ2ljTGlua0xvZ2luT3JDcmVhdGVFdmVudFwiXT1cIk1BR0lDX0xJTktfTE9HSU5fT1JfQ1JFQVRFXCI7U3R5dGNoRXZlbnRUeXBlW1wiT1RQc0xvZ2luT3JDcmVhdGVFdmVudFwiXT1cIk9UUF9MT0dJTl9PUl9DUkVBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJPVFBzQXV0aGVudGljYXRlXCJdPVwiT1RQX0FVVEhFTlRJQ0FURVwiO1N0eXRjaEV2ZW50VHlwZVtcIkNyeXB0b1dhbGxldEF1dGhlbnRpY2F0ZVN0YXJ0XCJdPVwiQ1JZUFRPX1dBTExFVF9BVVRIRU5USUNBVEVfU1RBUlRcIjtTdHl0Y2hFdmVudFR5cGVbXCJDcnlwdG9XYWxsZXRBdXRoZW50aWNhdGVcIl09XCJDUllQVE9fV0FMTEVUX0FVVEhFTlRJQ0FURVwiO1N0eXRjaEV2ZW50VHlwZVtcIlBhc3N3b3JkQ3JlYXRlXCJdPVwiUEFTU1dPUkRfQ1JFQVRFXCI7U3R5dGNoRXZlbnRUeXBlW1wiUGFzc3dvcmRBdXRoZW50aWNhdGVcIl09XCJQQVNTV09SRF9BVVRIRU5USUNBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJQYXNzd29yZFJlc2V0QnlFbWFpbFN0YXJ0XCJdPVwiUEFTU1dPUkRfUkVTRVRfQllfRU1BSUxfU1RBUlRcIjtTdHl0Y2hFdmVudFR5cGVbXCJQYXNzd29yZFJlc2V0QnlFbWFpbFwiXT1cIlBBU1NXT1JEX1JFU0VUX0JZX0VNQUlMXCI7U3R5dGNoRXZlbnRUeXBlW1wiUGFzc2tleVJlZ2lzdGVyXCJdPVwiUEFTU0tFWV9SRUdJU1RFUlwiO1N0eXRjaEV2ZW50VHlwZVtcIlBhc3NrZXlBdXRoZW50aWNhdGVcIl09XCJQQVNTS0VZX0FVVEhFTlRJQ0FURVwiO1N0eXRjaEV2ZW50VHlwZVtcIlBhc3NrZXlTa2lwXCJdPVwiUEFTU0tFWV9TS0lQXCI7U3R5dGNoRXZlbnRUeXBlW1wiUGFzc2tleURvbmVcIl09XCJQQVNTS0VZX0RPTkVcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtFbWFpbExvZ2luT3JTaWdudXBcIl09XCJCMkJfTUFHSUNfTElOS19FTUFJTF9MT0dJTl9PUl9TSUdOVVBcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtBdXRoZW50aWNhdGVcIl09XCJCMkJfTUFHSUNfTElOS19BVVRIRU5USUNBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtFbWFpbERpc2NvdmVyeVNlbmRcIl09XCJCMkJfTUFHSUNfTElOS19FTUFJTF9ESVNDT1ZFUllfU0VORFwiO1N0eXRjaEV2ZW50VHlwZVtcIkIyQk1hZ2ljTGlua0Rpc2NvdmVyeUF1dGhlbnRpY2F0ZVwiXT1cIkIyQl9NQUdJQ19MSU5LX0RJU0NPVkVSWV9BVVRIRU5USUNBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJTU09TdGFydFwiXT1cIkIyQl9TU09fU1RBUlRcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJTU09BdXRoZW50aWNhdGVcIl09XCJCMkJfU1NPX0FVVEhFTlRJQ0FURVwiO1N0eXRjaEV2ZW50VHlwZVtcIkIyQk9BdXRoQXV0aGVudGljYXRlXCJdPVwiQjJCX09BVVRIX0FVVEhFTlRJQ0FURVwiO1N0eXRjaEV2ZW50VHlwZVtcIkIyQk9BdXRoRGlzY292ZXJ5QXV0aGVudGljYXRlXCJdPVwiQjJCX09BVVRIX0RJU0NPVkVSWV9BVVRIRU5USUNBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJEaXNjb3ZlcnlPcmdhbml6YXRpb25zQ3JlYXRlXCJdPVwiQjJCX0RJU0NPVkVSWV9PUkdBTklaQVRJT05TX0NSRUFURVwiO1N0eXRjaEV2ZW50VHlwZVtcIkIyQkRpc2NvdmVyeUludGVybWVkaWF0ZVNlc3Npb25FeGNoYW5nZVwiXT1cIkIyQl9ESVNDT1ZFUllfSU5URVJNRURJQVRFX1NFU1NJT05fRVhDSEFOR0VcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJQYXNzd29yZEF1dGhlbnRpY2F0ZVwiXT1cIkIyQl9QQVNTV09SRF9BVVRIRU5USUNBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJQYXNzd29yZFJlc2V0QnlFbWFpbFN0YXJ0XCJdPVwiQjJCX1BBU1NXT1JEX1JFU0VUX0JZX0VNQUlMX1NUQVJUXCI7U3R5dGNoRXZlbnRUeXBlW1wiQjJCUGFzc3dvcmRSZXNldEJ5RW1haWxcIl09XCJCMkJfUEFTU1dPUkRfUkVTRVRfQllfRU1BSUxcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJQYXNzd29yZFJlc2V0QnlTZXNzaW9uXCJdPVwiQjJCX1BBU1NXT1JEX1JFU0VUX0JZX1NFU1NJT05cIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJTTVNPVFBTZW5kXCJdPVwiQjJCX1NNU19PVFBfU0VORFwiO1N0eXRjaEV2ZW50VHlwZVtcIkIyQlNNU09UUEF1dGhlbnRpY2F0ZVwiXT1cIkIyQl9TTVNfT1RQX0FVVEhFTlRJQ0FURVwiO1N0eXRjaEV2ZW50VHlwZVtcIkIyQlRPVFBDcmVhdGVcIl09XCJCMkJfVE9UUF9DUkVBVEVcIjtTdHl0Y2hFdmVudFR5cGVbXCJCMkJUT1RQQXV0aGVudGljYXRlXCJdPVwiQjJCX1RPVFBfQVVUSEVOVElDQVRFXCI7U3R5dGNoRXZlbnRUeXBlW1wiQjJCUmVjb3ZlcnlDb2Rlc1JlY292ZXJcIl09XCJCMkJfUkVDT1ZFUllfQ09ERVNfUkVDT1ZFUlwiO30pKFN0eXRjaEV2ZW50VHlwZXx8KFN0eXRjaEV2ZW50VHlwZT17fSkpO3ZhciBSTlVJUHJvZHVjdHM7KGZ1bmN0aW9uKFJOVUlQcm9kdWN0cyl7Uk5VSVByb2R1Y3RzW1JOVUlQcm9kdWN0c1tcImVtYWlsTWFnaWNMaW5rc1wiXT0wXT1cImVtYWlsTWFnaWNMaW5rc1wiO1JOVUlQcm9kdWN0c1tSTlVJUHJvZHVjdHNbXCJvYXV0aFwiXT0xXT1cIm9hdXRoXCI7Uk5VSVByb2R1Y3RzW1JOVUlQcm9kdWN0c1tcIm90cFwiXT0yXT1cIm90cFwiO1JOVUlQcm9kdWN0c1tSTlVJUHJvZHVjdHNbXCJwYXNzd29yZHNcIl09M109XCJwYXNzd29yZHNcIjt9KShSTlVJUHJvZHVjdHN8fChSTlVJUHJvZHVjdHM9e30pKTt2YXIgU0RLQVBJVW5yZWFjaGFibGVFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0Vycm9yKXtfaW5oZXJpdHMkMShTREtBUElVbnJlYWNoYWJsZUVycm9yLF9FcnJvcik7ZnVuY3Rpb24gU0RLQVBJVW5yZWFjaGFibGVFcnJvcihtZXNzYWdlLGRldGFpbHMpe3ZhciBfdGhpcztfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFNES0FQSVVucmVhY2hhYmxlRXJyb3IpO190aGlzPV9jYWxsU3VwZXIkMSh0aGlzLFNES0FQSVVucmVhY2hhYmxlRXJyb3IsW21lc3NhZ2UrJ1xcbicrZGV0YWlsc10pO190aGlzLm1lc3NhZ2U9bWVzc2FnZSsnXFxuJytkZXRhaWxzO190aGlzLm5hbWU9J1NES0FQSVVucmVhY2hhYmxlRXJyb3InO190aGlzLmRldGFpbHM9ZGV0YWlscztPYmplY3Quc2V0UHJvdG90eXBlT2YoX2Fzc2VydFRoaXNJbml0aWFsaXplZCQxKF90aGlzKSxTREtBUElVbnJlYWNoYWJsZUVycm9yLnByb3RvdHlwZSk7cmV0dXJuIF90aGlzO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU0RLQVBJVW5yZWFjaGFibGVFcnJvcik7fSgvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlciQxKEVycm9yKSk7dmFyIFN0eXRjaFNES1VzYWdlRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9FcnJvcjIpe19pbmhlcml0cyQxKFN0eXRjaFNES1VzYWdlRXJyb3IsX0Vycm9yMik7ZnVuY3Rpb24gU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLG1lc3NhZ2Upe3ZhciBfdGhpczI7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxTdHl0Y2hTREtVc2FnZUVycm9yKTtfdGhpczI9X2NhbGxTdXBlciQxKHRoaXMsU3R5dGNoU0RLVXNhZ2VFcnJvcik7X3RoaXMyLm5hbWU9J1N0eXRjaFNES1VzYWdlRXJyb3InO190aGlzMi5tZXNzYWdlPVwiSW52YWxpZCBjYWxsIHRvIFwiLmNvbmNhdChtZXRob2ROYW1lLFwiXFxuXCIpK21lc3NhZ2U7cmV0dXJuIF90aGlzMjt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKFN0eXRjaFNES1VzYWdlRXJyb3IpO30oLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIkMShFcnJvcikpO3ZhciBTdHl0Y2hTREtTY2hlbWFFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0Vycm9yMyl7X2luaGVyaXRzJDEoU3R5dGNoU0RLU2NoZW1hRXJyb3IsX0Vycm9yMyk7ZnVuY3Rpb24gU3R5dGNoU0RLU2NoZW1hRXJyb3Ioc2NoZW1hRXJyb3Ipe3ZhciBfdGhpczM7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxTdHl0Y2hTREtTY2hlbWFFcnJvcik7dmFyIF9hO190aGlzMz1fY2FsbFN1cGVyJDEodGhpcyxTdHl0Y2hTREtTY2hlbWFFcnJvcik7X3RoaXMzLm5hbWU9J1N0eXRjaFNES1NjaGVtYUVycm9yJzt2YXIgbWVzc2FnZXM9KF9hPXNjaGVtYUVycm9yLmJvZHkpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLm1hcChmdW5jdGlvbihlcnIpe3JldHVyblwiXCIuY29uY2F0KGVyci5kYXRhUGF0aCxcIjogXCIpLmNvbmNhdChlcnIubWVzc2FnZSk7fSkuam9pbignXFxuJyk7X3RoaXMzLm1lc3NhZ2U9XCJbNDAwXSBSZXF1ZXN0IGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkIHNjaGVtYVxcblwiLmNvbmNhdChtZXNzYWdlcyk7cmV0dXJuIF90aGlzMzt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKFN0eXRjaFNES1NjaGVtYUVycm9yKTt9KC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyJDEoRXJyb3IpKTt2YXIgU3R5dGNoU0RLQVBJRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9FcnJvcjQpe19pbmhlcml0cyQxKFN0eXRjaFNES0FQSUVycm9yLF9FcnJvcjQpO2Z1bmN0aW9uIFN0eXRjaFNES0FQSUVycm9yKGRldGFpbHMpe3ZhciBfdGhpczQ7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxTdHl0Y2hTREtBUElFcnJvcik7X3RoaXM0PV9jYWxsU3VwZXIkMSh0aGlzLFN0eXRjaFNES0FQSUVycm9yKTtfdGhpczQubmFtZT0nU3R5dGNoU0RLQVBJRXJyb3InO3ZhciBzdGF0dXNfY29kZT1kZXRhaWxzLnN0YXR1c19jb2RlLGVycm9yX3R5cGU9ZGV0YWlscy5lcnJvcl90eXBlLGVycm9yX21lc3NhZ2U9ZGV0YWlscy5lcnJvcl9tZXNzYWdlLGVycm9yX3VybD1kZXRhaWxzLmVycm9yX3VybCxyZXF1ZXN0X2lkPWRldGFpbHMucmVxdWVzdF9pZDtfdGhpczQuZXJyb3JfdHlwZT1lcnJvcl90eXBlO190aGlzNC5lcnJvcl9tZXNzYWdlPWVycm9yX21lc3NhZ2U7X3RoaXM0LmVycm9yX3VybD1lcnJvcl91cmw7X3RoaXM0LnJlcXVlc3RfaWQ9cmVxdWVzdF9pZDtfdGhpczQuc3RhdHVzX2NvZGU9c3RhdHVzX2NvZGU7X3RoaXM0Lm1lc3NhZ2U9XCJbXCIuY29uY2F0KHN0YXR1c19jb2RlLFwiXSBcIikuY29uY2F0KGVycm9yX3R5cGUsXCJcXG5cIikrXCJcIi5jb25jYXQoZXJyb3JfbWVzc2FnZSxcIlxcblwiKStcIlNlZSBcIi5jb25jYXQoZXJyb3JfdXJsLFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcblwiKSsocmVxdWVzdF9pZD9cInJlcXVlc3RfaWQ6IFwiLmNvbmNhdChyZXF1ZXN0X2lkLFwiXFxuXCIpOicnKTtyZXR1cm4gX3RoaXM0O31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoU0RLQVBJRXJyb3IpO30oLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIkMShFcnJvcikpO3ZhciBVTlJFQ09WRVJBQkxFX0VSUk9SX1RZUEVTPVsndW5hdXRob3JpemVkX2NyZWRlbnRpYWxzJywndXNlcl91bmF1dGhlbnRpY2F0ZWQnLCdpbnZhbGlkX3NlY3JldF9hdXRoZW50aWNhdGlvbicsJ3Nlc3Npb25fbm90X2ZvdW5kJ107dmFyIFN0eXRjaEVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfRXJyb3I1KXtfaW5oZXJpdHMkMShTdHl0Y2hFcnJvcixfRXJyb3I1KTtmdW5jdGlvbiBTdHl0Y2hFcnJvcihuYW1lLG1lc3NhZ2Upe3ZhciBfdGhpczU7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxTdHl0Y2hFcnJvcik7X3RoaXM1PV9jYWxsU3VwZXIkMSh0aGlzLFN0eXRjaEVycm9yLFttZXNzYWdlXSk7X3RoaXM1Lm5hbWU9bmFtZTtyZXR1cm4gX3RoaXM1O31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoRXJyb3IpO30oLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIkMShFcnJvcikpO3ZhciBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoRXJyb3Ipe19pbmhlcml0cyQxKFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IsX1N0eXRjaEVycm9yKTtmdW5jdGlvbiBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yKGRldGFpbHMpe3ZhciBfdGhpczY7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yKTtfdGhpczY9X2NhbGxTdXBlciQxKHRoaXMsU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcixbJ1N0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3InLGRldGFpbHNdKTtPYmplY3Quc2V0UHJvdG90eXBlT2YoX2Fzc2VydFRoaXNJbml0aWFsaXplZCQxKF90aGlzNiksU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvci5wcm90b3R5cGUpO3JldHVybiBfdGhpczY7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yKTt9KFN0eXRjaEVycm9yKTt2YXIgU3R5dGNoQVBJU2NoZW1hRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hFcnJvcjIpe19pbmhlcml0cyQxKFN0eXRjaEFQSVNjaGVtYUVycm9yLF9TdHl0Y2hFcnJvcjIpO2Z1bmN0aW9uIFN0eXRjaEFQSVNjaGVtYUVycm9yKHNjaGVtYUVycm9yKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFN0eXRjaEFQSVNjaGVtYUVycm9yKTt2YXIgX2E7dmFyIG1lc3NhZ2VzPShfYT1zY2hlbWFFcnJvci5ib2R5KT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5tYXAoZnVuY3Rpb24oZXJyKXtyZXR1cm5cIlwiLmNvbmNhdChlcnIuZGF0YVBhdGgsXCI6IFwiKS5jb25jYXQoZXJyLm1lc3NhZ2UpO30pLmpvaW4oJ1xcbicpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxTdHl0Y2hBUElTY2hlbWFFcnJvcixbJ1N0eXRjaEFQSVNjaGVtYUVycm9yJyxcIlJlcXVlc3QgZG9lcyBub3QgbWF0Y2ggZXhwZWN0ZWQgc2NoZW1hXFxuXCIuY29uY2F0KG1lc3NhZ2VzKV0pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoQVBJU2NoZW1hRXJyb3IpO30oU3R5dGNoRXJyb3IpO3ZhciBTdHl0Y2hBUElFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaEVycm9yMyl7X2luaGVyaXRzJDEoU3R5dGNoQVBJRXJyb3IsX1N0eXRjaEVycm9yMyk7ZnVuY3Rpb24gU3R5dGNoQVBJRXJyb3IoZGV0YWlscyl7dmFyIF90aGlzNztfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFN0eXRjaEFQSUVycm9yKTt2YXIgc3RhdHVzX2NvZGU9ZGV0YWlscy5zdGF0dXNfY29kZSxlcnJvcl90eXBlPWRldGFpbHMuZXJyb3JfdHlwZSxlcnJvcl9tZXNzYWdlPWRldGFpbHMuZXJyb3JfbWVzc2FnZSxlcnJvcl91cmw9ZGV0YWlscy5lcnJvcl91cmwscmVxdWVzdF9pZD1kZXRhaWxzLnJlcXVlc3RfaWQ7X3RoaXM3PV9jYWxsU3VwZXIkMSh0aGlzLFN0eXRjaEFQSUVycm9yLFsnU3R5dGNoQVBJRXJyb3InLFwiW1wiLmNvbmNhdChzdGF0dXNfY29kZSxcIl0gXCIpLmNvbmNhdChlcnJvcl90eXBlLFwiXFxuXCIpK1wiXCIuY29uY2F0KGVycm9yX21lc3NhZ2UsXCJcXG5cIikrXCJTZWUgXCIuY29uY2F0KGVycm9yX3VybCxcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cXG5cIikrKHJlcXVlc3RfaWQ/XCJyZXF1ZXN0X2lkOiBcIi5jb25jYXQocmVxdWVzdF9pZCxcIlxcblwiKTonJyldKTtfdGhpczcuZXJyb3JfdHlwZT1lcnJvcl90eXBlO190aGlzNy5lcnJvcl9tZXNzYWdlPWVycm9yX21lc3NhZ2U7X3RoaXM3LmVycm9yX3VybD1lcnJvcl91cmw7X3RoaXM3LnJlcXVlc3RfaWQ9cmVxdWVzdF9pZDtfdGhpczcuc3RhdHVzX2NvZGU9c3RhdHVzX2NvZGU7cmV0dXJuIF90aGlzNzt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKFN0eXRjaEFQSUVycm9yKTt9KFN0eXRjaEVycm9yKTt2YXIgU3R5dGNoU0RLRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hFcnJvcjQpe19pbmhlcml0cyQxKFN0eXRjaFNES0Vycm9yLF9TdHl0Y2hFcnJvcjQpO2Z1bmN0aW9uIFN0eXRjaFNES0Vycm9yKG5hbWUsZGVzY3JpcHRpb24sb3B0aW9ucyl7dmFyIF90aGlzODtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFN0eXRjaFNES0Vycm9yKTtfdGhpczg9X2NhbGxTdXBlciQxKHRoaXMsU3R5dGNoU0RLRXJyb3IsW25hbWUsZGVzY3JpcHRpb25dKTtfdGhpczgub3B0aW9ucz1vcHRpb25zO3JldHVybiBfdGhpczg7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShTdHl0Y2hTREtFcnJvcik7fShTdHl0Y2hFcnJvcik7dmFyIE5vQ3VycmVudFNlc3Npb25FcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yKXtfaW5oZXJpdHMkMShOb0N1cnJlbnRTZXNzaW9uRXJyb3IsX1N0eXRjaFNES0Vycm9yKTtmdW5jdGlvbiBOb0N1cnJlbnRTZXNzaW9uRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE5vQ3VycmVudFNlc3Npb25FcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLE5vQ3VycmVudFNlc3Npb25FcnJvcixbJ05vQ3VycmVudFNlc3Npb25FcnJvcicsJ1RoZXJlIGlzIG5vIHNlc3Npb24gY3VycmVudGx5IGF2YWlsYWJsZS4gTWFrZSBzdXJlIHRoZSB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgd2l0aCBhIHZhbGlkIHNlc3Npb24uJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTm9DdXJyZW50U2Vzc2lvbkVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgSW50ZXJuYWxFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMil7X2luaGVyaXRzJDEoSW50ZXJuYWxFcnJvcixfU3R5dGNoU0RLRXJyb3IyKTtmdW5jdGlvbiBJbnRlcm5hbEVycm9yKG1lc3NhZ2Upe19jbGFzc0NhbGxDaGVjayQxKHRoaXMsSW50ZXJuYWxFcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLEludGVybmFsRXJyb3IsWydJbnRlcm5hbEVycm9yJyxtZXNzYWdlP21lc3NhZ2U6J0FuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC4gUGxlYXNlIGNvbnRhY3QgU3R5dGNoIGlmIHRoaXMgb2NjdXJzLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEludGVybmFsRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMyl7X2luaGVyaXRzJDEoTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IsX1N0eXRjaFNES0Vycm9yMyk7ZnVuY3Rpb24gTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IsWydOb0Jpb21ldHJpY3NSZWdpc3RyYXRpb25FcnJvcicsJ1RoZXJlIGlzIG5vIGJpb21ldHJpYyByZWdpc3RyYXRpb24gYXZhaWxhYmxlLiBBdXRoZW50aWNhdGUgd2l0aCBhbm90aGVyIG1ldGhvZCBhbmQgYWRkIGEgbmV3IGJpb21ldHJpYyByZWdpc3RyYXRpb24gZmlyc3QuJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yNCl7X2luaGVyaXRzJDEoQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IsX1N0eXRjaFNES0Vycm9yNCk7ZnVuY3Rpb24gQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IsWydCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcicsJ0Jpb21ldHJpY3MgaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgZGV2aWNlLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgS2V5SW52YWxpZGF0ZWRFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yNSl7X2luaGVyaXRzJDEoS2V5SW52YWxpZGF0ZWRFcnJvcixfU3R5dGNoU0RLRXJyb3I1KTtmdW5jdGlvbiBLZXlJbnZhbGlkYXRlZEVycm9yKCl7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxLZXlJbnZhbGlkYXRlZEVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsS2V5SW52YWxpZGF0ZWRFcnJvcixbJ0tleUludmFsaWRhdGVkRXJyb3InLCdUaGUgYmlvbWV0cmljcyBlbnJvbGxtZW50IG9uIHRoZSBkZXZpY2UgaGFzIGNoYW5nZWQuJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoS2V5SW52YWxpZGF0ZWRFcnJvcik7fShTdHl0Y2hTREtFcnJvcik7dmFyIEtleXN0b3JlVW5hdmFpbGFibGVFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yNil7X2luaGVyaXRzJDEoS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yLF9TdHl0Y2hTREtFcnJvcjYpO2Z1bmN0aW9uIEtleXN0b3JlVW5hdmFpbGFibGVFcnJvcigpe19jbGFzc0NhbGxDaGVjayQxKHRoaXMsS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yLFsnS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yJywnVGhlIEFuZHJvaWQga2V5c3RvcmUgaXMgdW5hdmFpbGFibGUgb24gdGhlIGRldmljZS4gQ29uc2lkZXIgc2V0dGluZyBhbGxvd0ZhbGxiYWNrVG9DbGVhcnRleHQgdG8gdHJ1ZS4nXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3I3KXtfaW5oZXJpdHMkMShOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yLF9TdHl0Y2hTREtFcnJvcjcpO2Z1bmN0aW9uIE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yLFsnTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcicsJ1RoZXJlIGlzIG5vIGJpb21ldHJpYyBmYWN0b3IgZW5yb2xsZWQgb24gdGhlIGRldmljZS4gQWRkIGEgYmlvbWV0cmljIGZhY3RvciBpbiB0aGUgZGV2aWNlIHNldHRpbmdzLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBVc2VyQ2FuY2VsbGF0aW9uRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjgpe19pbmhlcml0cyQxKFVzZXJDYW5jZWxsYXRpb25FcnJvcixfU3R5dGNoU0RLRXJyb3I4KTtmdW5jdGlvbiBVc2VyQ2FuY2VsbGF0aW9uRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFVzZXJDYW5jZWxsYXRpb25FcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLFVzZXJDYW5jZWxsYXRpb25FcnJvcixbJ1VzZXJDYW5jZWxsYXRpb25FcnJvcicsJ1RoZSB1c2VyIGNhbmNlbGVkIHRoZSBwcm9tcHQuIEFzayB0aGUgdXNlciB0byB0cnkgYWdhaW4uJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoVXNlckNhbmNlbGxhdGlvbkVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgVXNlckxvY2tlZE91dEVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3I5KXtfaW5oZXJpdHMkMShVc2VyTG9ja2VkT3V0RXJyb3IsX1N0eXRjaFNES0Vycm9yOSk7ZnVuY3Rpb24gVXNlckxvY2tlZE91dEVycm9yKCl7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxVc2VyTG9ja2VkT3V0RXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxVc2VyTG9ja2VkT3V0RXJyb3IsWydVc2VyTG9ja2VkT3V0RXJyb3InLCdUaGUgdXNlciBoYXMgYmVlbiBsb2NrZWQgb3V0IGR1ZSB0byB0b28gbWFueSBmYWlsZWQgYXR0ZW1wdHMuIEFzayB0aGUgdXNlciB0byB0cnkgYWdhaW4gbGF0ZXIuJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoVXNlckxvY2tlZE91dEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjEwKXtfaW5oZXJpdHMkMShEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcixfU3R5dGNoU0RLRXJyb3IxMCk7ZnVuY3Rpb24gRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLERldmljZUNyZWRlbnRpYWxzTm90QWxsb3dlZEVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IsWydEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcicsJ1RoZSBkZXZpY2UgY3JlZGVudGlhbHMgYWxsb3dtZW50IGlzIG1pc21hdGNoZWQuIENoYW5nZSB0aGUgYWxsb3dEZXZpY2VDcmVkZW50aWFscyBwYXJhbWV0ZXIgdG8gYmUgdGhlIHNhbWUgaW4gYm90aCB0aGUgcmVnaXN0ZXIgYW5kIGF1dGhlbnRpY2F0ZSBtZXRob2RzLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKERldmljZUNyZWRlbnRpYWxzTm90QWxsb3dlZEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjExKXtfaW5oZXJpdHMkMShNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvcixfU3R5dGNoU0RLRXJyb3IxMSk7ZnVuY3Rpb24gTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE1pc3NpbmdHb29nbGVDbGllbnRJREVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IsWydNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvcicsJ05vIEdvb2dsZSBjbGllbnQgSUQgd2FzIGZvdW5kIGluIHRoZSBwcm9qZWN0LiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKE1pc3NpbmdHb29nbGVDbGllbnRJREVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTWlzc2luZ1BLQ0VFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMTIpe19pbmhlcml0cyQxKE1pc3NpbmdQS0NFRXJyb3IsX1N0eXRjaFNES0Vycm9yMTIpO2Z1bmN0aW9uIE1pc3NpbmdQS0NFRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE1pc3NpbmdQS0NFRXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxNaXNzaW5nUEtDRUVycm9yLFsnTWlzc2luZ1BLQ0VFcnJvcicsJ01ha2Ugc3VyZSB0aGlzIGZsb3cgaXMgY29tcGxldGVkIG9uIHRoZSBzYW1lIGRldmljZSBvbiB3aGljaCBpdCB3YXMgc3RhcnRlZC4nXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShNaXNzaW5nUEtDRUVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IxMyl7X2luaGVyaXRzJDEoTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yLF9TdHl0Y2hTREtFcnJvcjEzKTtmdW5jdGlvbiBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcixbJ01pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcicsJ1RoZSBhdXRob3JpemF0aW9uIGNyZWRlbnRpYWwgaXMgbWlzc2luZyBhbiBJRCB0b2tlbi4nXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMTQpe19pbmhlcml0cyQxKEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yLF9TdHl0Y2hTREtFcnJvcjE0KTtmdW5jdGlvbiBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcigpe19jbGFzc0NhbGxDaGVjayQxKHRoaXMsSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcixbJ0ludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yJywnVGhlIGF1dGhvcml6YXRpb24gY3JlZGVudGlhbCBpcyBpbnZhbGlkLiBWZXJpZnkgdGhhdCBPQXV0aCBpcyBzZXQgdXAgY29ycmVjdGx5IGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSwgYW5kIGNhbGwgdGhlIHN0YXJ0IGZsb3cgbWV0aG9kLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMTUpe19pbmhlcml0cyQxKE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IsX1N0eXRjaFNES0Vycm9yMTUpO2Z1bmN0aW9uIE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yLFsnTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvcicsJ1RoZSB1c2VyIGRpZCBub3QgcHJvdmlkZSBjcmVkZW50aWFscyBmb3IgYSBHb29nbGUgT25lVGFwIGF0dGVtcHQnXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTWlzc2luZ1B1YmxpY0tleUVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IxNil7X2luaGVyaXRzJDEoTWlzc2luZ1B1YmxpY0tleUVycm9yLF9TdHl0Y2hTREtFcnJvcjE2KTtmdW5jdGlvbiBNaXNzaW5nUHVibGljS2V5RXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE1pc3NpbmdQdWJsaWNLZXlFcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLE1pc3NpbmdQdWJsaWNLZXlFcnJvcixbJ01pc3NpbmdQdWJsaWNLZXlFcnJvcicsJ0ZhaWxlZCB0byByZXRyaWV2ZSB0aGUgcHVibGljIGtleS4gQWRkIGEgbmV3IGJpb21ldHJpYyByZWdpc3RyYXRpb24uJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTWlzc2luZ1B1YmxpY0tleUVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IxNyl7X2luaGVyaXRzJDEoQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yLF9TdHl0Y2hTREtFcnJvcjE3KTtmdW5jdGlvbiBDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcixbJ0NoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcicsJ0ZhaWxlZCB0byBzaWduIHRoZSBjaGFsbGVuZ2Ugd2l0aCB0aGUga2V5LiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcik7fShTdHl0Y2hTREtFcnJvcik7dmFyIFNES05vdENvbmZpZ3VyZWRFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMTgpe19pbmhlcml0cyQxKFNES05vdENvbmZpZ3VyZWRFcnJvcixfU3R5dGNoU0RLRXJyb3IxOCk7ZnVuY3Rpb24gU0RLTm90Q29uZmlndXJlZEVycm9yKCl7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxTREtOb3RDb25maWd1cmVkRXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxTREtOb3RDb25maWd1cmVkRXJyb3IsWydTREtOb3RDb25maWd1cmVkRXJyb3InLCdTdHl0Y2ggY2xpZW50IGlzIG5vdCBjb25maXVyZWQuIFlvdSBtdXN0IGNhbGwgdGhlIGNvbmZpZ3VyZSBtZXRob2QgYmVmb3JlIHVzaW5nIHRoZSBTREsnXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShTREtOb3RDb25maWd1cmVkRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjE5KXtfaW5oZXJpdHMkMShGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IsX1N0eXRjaFNES0Vycm9yMTkpO2Z1bmN0aW9uIEZhaWxlZENvZGVDaGFsbGVuZ2VFcnJvcigpe19jbGFzc0NhbGxDaGVjayQxKHRoaXMsRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yLFsnRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yJywnRmFpbGVkIHRvIGNyZWF0ZSBhIGNvZGUgY2hhbGxlbmdlJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgUGFzc2tleXNVbnN1cHBvcnRlZEVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IyMCl7X2luaGVyaXRzJDEoUGFzc2tleXNVbnN1cHBvcnRlZEVycm9yLF9TdHl0Y2hTREtFcnJvcjIwKTtmdW5jdGlvbiBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcixbJ1Bhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcicsJ1Bhc3NrZXlzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoUGFzc2tleXNVbnN1cHBvcnRlZEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IyMSl7X2luaGVyaXRzJDEoRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yLF9TdHl0Y2hTREtFcnJvcjIxKTtmdW5jdGlvbiBGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcixbJ0ZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcicsJ0ZhaWxlZCB0byBkZWNyeXB0IHVzZXIgZGF0YSddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvcik7fShTdHl0Y2hTREtFcnJvcik7dmFyIEJpb21ldHJpY3NGYWlsZWRFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMjIpe19pbmhlcml0cyQxKEJpb21ldHJpY3NGYWlsZWRFcnJvcixfU3R5dGNoU0RLRXJyb3IyMik7ZnVuY3Rpb24gQmlvbWV0cmljc0ZhaWxlZEVycm9yKCl7X2NsYXNzQ2FsbENoZWNrJDEodGhpcyxCaW9tZXRyaWNzRmFpbGVkRXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxCaW9tZXRyaWNzRmFpbGVkRXJyb3IsWydCaW9tZXRyaWNzRmFpbGVkRXJyb3InLCdCaW9tZXRyaWMgYXV0aGVudGljYXRpb24gZmFpbGVkJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoQmlvbWV0cmljc0ZhaWxlZEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgSW52YWxpZFN0YXJ0VXJsRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjIzKXtfaW5oZXJpdHMkMShJbnZhbGlkU3RhcnRVcmxFcnJvcixfU3R5dGNoU0RLRXJyb3IyMyk7ZnVuY3Rpb24gSW52YWxpZFN0YXJ0VXJsRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLEludmFsaWRTdGFydFVybEVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsSW52YWxpZFN0YXJ0VXJsRXJyb3IsWydJbnZhbGlkU3RhcnRVcmxFcnJvcicsJ1RoZSBzdGFydCBVUkwgd2FzIGludmFsaWQgb3IgaW1wcm9wZXJseSBmb3JtYXR0ZWQuJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoSW52YWxpZFN0YXJ0VXJsRXJyb3IpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMjQpe19pbmhlcml0cyQxKEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yLF9TdHl0Y2hTREtFcnJvcjI0KTtmdW5jdGlvbiBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcigpe19jbGFzc0NhbGxDaGVjayQxKHRoaXMsSW52YWxpZFJlZGlyZWN0U2NoZW1lRXJyb3IpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcixbJ0ludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yJywnVGhlIHNjaGVtZSBmcm9tIHRoZSBnaXZlbiByZWRpcmVjdCB1cmxzIHdhcyBpbnZhbGlkLiBQb3NzaWJsZSByZWFzb25zIGluY2x1ZGU6IG5pbCBzY2hlbWUsIG5vbi1jdXN0b20gc2NoZW1lICh1c2luZyBodHRwIG9yIGh0dHBzKSwgb3IgZGlmZmVyaW5nIHNjaGVtZXMgZm9yIGxvZ2luL3NpZ251cCB1cmxzLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTWlzc2luZ1VybEVycm9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IyNSl7X2luaGVyaXRzJDEoTWlzc2luZ1VybEVycm9yLF9TdHl0Y2hTREtFcnJvcjI1KTtmdW5jdGlvbiBNaXNzaW5nVXJsRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE1pc3NpbmdVcmxFcnJvcik7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLE1pc3NpbmdVcmxFcnJvcixbJ01pc3NpbmdVcmxFcnJvcicsJ1RoZSB1bmRlcmx5aW5nIHdlYiBhdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGZhaWxlZCB0byByZXR1cm4gYSBVUkwuJ10pO31yZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTWlzc2luZ1VybEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjI2KXtfaW5oZXJpdHMkMShJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvcixfU3R5dGNoU0RLRXJyb3IyNik7ZnVuY3Rpb24gSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IsWydJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvcicsJ1RoZSBwdWJsaWMga2V5IGNyZWRlbnRpYWwgdHlwZSB3YXMgbm90IG9mIHRoZSBleHBlY3RlZCB0eXBlLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjI3KXtfaW5oZXJpdHMkMShNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvcixfU3R5dGNoU0RLRXJyb3IyNyk7ZnVuY3Rpb24gTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLE1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IsWydNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvcicsJ1RoZSBwdWJsaWMga2V5IGNyZWRlbnRpYWwgaXMgbWlzc2luZyB0aGUgYXR0ZXN0YXRpb24gb2JqZWN0LiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKE1pc3NpbmdBdHRlc3RhdGlvbk9iamVjdEVycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3I9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjI4KXtfaW5oZXJpdHMkMShKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvcixfU3R5dGNoU0RLRXJyb3IyOCk7ZnVuY3Rpb24gSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLEpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IsWydKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvcicsJ0pTT04gZGF0YSB1bmFibGUgdG8gYmUgY29udmVydGVkIHRvIFN0cmluZyB0eXBlLiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKEpTT05EYXRhTm90Q29udmVydGlibGVUb1N0cmluZ0Vycm9yKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaFNES0Vycm9yMjkpe19pbmhlcml0cyQxKFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQsX1N0eXRjaFNES0Vycm9yMjkpO2Z1bmN0aW9uIFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQpO3JldHVybiBfY2FsbFN1cGVyJDEodGhpcyxSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkLFsnUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZCcsJ1JhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiBmYWlsZWQnXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgUGFzc2tleXNJbnZhbGlkRW5jb2Rpbmc9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TdHl0Y2hTREtFcnJvcjMwKXtfaW5oZXJpdHMkMShQYXNza2V5c0ludmFsaWRFbmNvZGluZyxfU3R5dGNoU0RLRXJyb3IzMCk7ZnVuY3Rpb24gUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFBhc3NrZXlzSW52YWxpZEVuY29kaW5nKTtyZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcsWydQYXNza2V5c0ludmFsaWRFbmNvZGluZycsJ0ludmFsaWQgcGFzc2tleSBlbmNvZGluZyddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKFBhc3NrZXlzSW52YWxpZEVuY29kaW5nKTt9KFN0eXRjaFNES0Vycm9yKTt2YXIgUGFzc2tleXNNaXNjb25maWd1cmVkPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IzMSl7X2luaGVyaXRzJDEoUGFzc2tleXNNaXNjb25maWd1cmVkLF9TdHl0Y2hTREtFcnJvcjMxKTtmdW5jdGlvbiBQYXNza2V5c01pc2NvbmZpZ3VyZWQoKXtfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLFBhc3NrZXlzTWlzY29uZmlndXJlZCk7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLFBhc3NrZXlzTWlzY29uZmlndXJlZCxbJ1Bhc3NrZXlzTWlzY29uZmlndXJlZCcsJ1Bhc3NrZXlzIGFyZSBtaXNjb25maWd1cmVkLiBWZXJpZnkgdGhhdCB5b3UgaGF2ZSBhZGRlZCB0aGUgY29ycmVjdCBhc3NvY2lhdGVkIGRvbWFpbiBmb3IgeW91ciBhcHBsaWNhdGlvbiwgYW5kIHRoYXQgdGhlIHNpZ25pbmcgaW5mb3JtYXRpb24gaXMgY29ycmVjdC4nXSk7fXJldHVybiBfY3JlYXRlQ2xhc3MkMShQYXNza2V5c01pc2NvbmZpZ3VyZWQpO30oU3R5dGNoU0RLRXJyb3IpO3ZhciBTaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfU3R5dGNoU0RLRXJyb3IzMil7X2luaGVyaXRzJDEoU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCxfU3R5dGNoU0RLRXJyb3IzMik7ZnVuY3Rpb24gU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCgpe19jbGFzc0NhbGxDaGVjayQxKHRoaXMsU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCk7cmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQsWydTaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkJywnU2lnbiBJbiBXaXRoIEFwcGxlIGlzIG1pc2NvbmZpZ3VyZWQuIFZlcmlmeSB0aGF0IHlvdSBoYXZlIGNvcnJlY3RseSBjb25maWd1cmVkIEFwcGxlIE9BdXRoIGluIHRoZSBTdHl0Y2ggRGFzaGJvYXJkIGFuZCBhZGRlZCB0aGUgU2lnbiBJbiBXaXRoIEFwcGxlIGNhcGFiaWxpdHkgdG8geW91ciBwcm9qZWN0LiddKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyQxKFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQpO30oU3R5dGNoU0RLRXJyb3IpO2Z1bmN0aW9uIGVycm9yVG9TdHl0Y2hFcnJvcihlcnJvcil7c3dpdGNoKGVycm9yLm1lc3NhZ2Upe2Nhc2UnaW50ZXJuYWxfZXJyb3InOnJldHVybiBuZXcgSW50ZXJuYWxFcnJvcihlcnJvci5tZXNzYWdlKTtjYXNlJ25vX2N1cnJlbnRfc2Vzc2lvbic6cmV0dXJuIG5ldyBOb0N1cnJlbnRTZXNzaW9uRXJyb3IoKTtjYXNlJ25vX2Jpb21ldHJpY3NfcmVnaXN0cmF0aW9uJzpyZXR1cm4gbmV3IE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yKCk7Y2FzZSdiaW9tZXRyaWNzX3VuYXZhaWxhYmxlJzpyZXR1cm4gbmV3IEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKCk7Y2FzZSdrZXlfaW52YWxpZGF0ZWQnOnJldHVybiBuZXcgS2V5SW52YWxpZGF0ZWRFcnJvcigpO2Nhc2UnZGV2aWNlX2hhcmR3YXJlX2Vycm9yJzpyZXR1cm4gbmV3IEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKCk7Y2FzZSdiaW9tZXRyaWNzX25vdF9hdmFpbGFibGUnOnJldHVybiBuZXcgQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IoKTtjYXNlJ25vX2Jpb21ldHJpY3NfZW5yb2xsZWQnOnJldHVybiBuZXcgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcigpO2Nhc2Una2V5c3RvcmVfdW5hdmFpbGFibGUnOnJldHVybiBuZXcgS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yKCk7Y2FzZSdub19iaW9tZXRyaWNfa2V5JzpyZXR1cm4gbmV3IEtleUludmFsaWRhdGVkRXJyb3IoKTtjYXNlJ2RldmljZV9jcmVkZW50aWFsc19ub3RfYWxsb3dlZCc6cmV0dXJuIG5ldyBEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcigpO2Nhc2UndXNlcl9jYW5jZWxsYXRpb24nOnJldHVybiBuZXcgVXNlckNhbmNlbGxhdGlvbkVycm9yKCk7Y2FzZSd1c2VyX2xvY2tlZF9vdXQnOnJldHVybiBuZXcgVXNlckxvY2tlZE91dEVycm9yKCk7Y2FzZSdnb29nbGVfb25ldGFwX21pc3NpbmdfaWRfdG9rZW4nOnJldHVybiBuZXcgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yKCk7Y2FzZSdnb29nbGVfb25ldGFwX21pc3NpbmdfbWVtYmVyJzpyZXR1cm4gbmV3IEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKCk7Y2FzZSdvYXV0aF9hcHBsZV9taXNzaW5nX2lkX3Rva2VuJzpyZXR1cm4gbmV3IE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcigpO2Nhc2Unb2F1dGhfYXBwbGVfY3JlZGVudGlhbF9pbnZhbGlkJzpyZXR1cm4gbmV3IEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKCk7Y2FzZSdtaXNzaW5nX3B1YmxpY19rZXknOnJldHVybiBuZXcgTWlzc2luZ1B1YmxpY0tleUVycm9yKCk7Y2FzZSdjaGFsbGVuZ2Vfc2lnbmluZ19mYWlsZWQnOnJldHVybiBuZXcgQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yKCk7Y2FzZSdtaXNzaW5nX2F1dGhvcml6YXRpb25fY3JlZGVudGlhbF9pZF90b2tlbic6cmV0dXJuIG5ldyBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IoKTtjYXNlJ2ludmFsaWRfYXV0aG9yaXphdGlvbl9jcmVkZW50aWFsJzpyZXR1cm4gbmV3IEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKCk7Y2FzZSdub19jcmVkZW50aWFsc19wcmVzZW50JzpyZXR1cm4gbmV3IE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IoKTtjYXNlJ3Nka19ub3RfY29uZmlndXJlZCc6cmV0dXJuIG5ldyBTREtOb3RDb25maWd1cmVkRXJyb3IoKTtjYXNlJ2ZhaWxlZF9jb2RlX2NoYWxsZW5nZSc6cmV0dXJuIG5ldyBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IoKTtjYXNlJ3Bhc3NrZXlzX3Vuc3VwcG9ydGVkJzpyZXR1cm4gbmV3IFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcigpO2Nhc2UnZmFpbGVkX3RvX2RlY3J5cHRfZGF0YSc6cmV0dXJuIG5ldyBGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IoKTtjYXNlJ2Jpb21ldHJpY3NfZmFpbGVkJzpyZXR1cm4gbmV3IEJpb21ldHJpY3NGYWlsZWRFcnJvcigpO2Nhc2UnaW52YWxpZF9zdGFydF91cmwnOnJldHVybiBuZXcgSW52YWxpZFN0YXJ0VXJsRXJyb3IoKTtjYXNlJ2ludmFsaWRfcmVkaXJlY3Rfc2NoZW1lJzpyZXR1cm4gbmV3IEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yKCk7Y2FzZSdtaXNzaW5nX3VybCc6cmV0dXJuIG5ldyBNaXNzaW5nVXJsRXJyb3IoKTtjYXNlJ2ludmFsaWRfY3JlZGVudGlhbF90eXBlJzpyZXR1cm4gbmV3IEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yKCk7Y2FzZSdtaXNzaW5nX2F0dGVzdGF0aW9uX29iamVjdCc6cmV0dXJuIG5ldyBNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvcigpO2Nhc2UnanNvbl9kYXRhX25vdF9jb252ZXJ0aWJsZV90b19zdHJpbmcnOnJldHVybiBuZXcgSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IoKTtjYXNlJ3JhbmRvbV9udW1iZXJfZ2VuZXJhdGlvbl9mYWlsZWQnOnJldHVybiBuZXcgUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZCgpO2Nhc2UncGFzc2tleXNfaW52YWxpZF9lbmNvZGluZyc6cmV0dXJuIG5ldyBQYXNza2V5c0ludmFsaWRFbmNvZGluZygpO2Nhc2UncGFzc2tleXNfbWlzY29uZmlndXJlZCc6cmV0dXJuIG5ldyBQYXNza2V5c01pc2NvbmZpZ3VyZWQoKTtjYXNlJ3NpZ25pbndpdGhhcHBsZV9taXNjb25maWd1cmVkJzpyZXR1cm4gbmV3IFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQoKTtkZWZhdWx0OnJldHVybiBuZXcgU3R5dGNoU0RLRXJyb3IoZXJyb3IubmFtZSxlcnJvci5tZXNzYWdlKTt9fXZhciBCMkJQcm9kdWN0czsoZnVuY3Rpb24oQjJCUHJvZHVjdHMpe0IyQlByb2R1Y3RzW1wiZW1haWxNYWdpY0xpbmtzXCJdPVwiZW1haWxNYWdpY0xpbmtzXCI7QjJCUHJvZHVjdHNbXCJzc29cIl09XCJzc29cIjtCMkJQcm9kdWN0c1tcInBhc3N3b3Jkc1wiXT1cInBhc3N3b3Jkc1wiO0IyQlByb2R1Y3RzW1wib2F1dGhcIl09XCJvYXV0aFwiO30pKEIyQlByb2R1Y3RzfHwoQjJCUHJvZHVjdHM9e30pKTt2YXIgQXV0aEZsb3dUeXBlOyhmdW5jdGlvbihBdXRoRmxvd1R5cGUpe0F1dGhGbG93VHlwZVtcIkRpc2NvdmVyeVwiXT1cIkRpc2NvdmVyeVwiO0F1dGhGbG93VHlwZVtcIk9yZ2FuaXphdGlvblwiXT1cIk9yZ2FuaXphdGlvblwiO0F1dGhGbG93VHlwZVtcIlBhc3N3b3JkUmVzZXRcIl09XCJQYXNzd29yZFJlc2V0XCI7fSkoQXV0aEZsb3dUeXBlfHwoQXV0aEZsb3dUeXBlPXt9KSk7dmFyIEIyQk1GQVByb2R1Y3RzOyhmdW5jdGlvbihCMkJNRkFQcm9kdWN0cyl7QjJCTUZBUHJvZHVjdHNbXCJzbXNPdHBcIl09XCJzbXNPdHBcIjtCMkJNRkFQcm9kdWN0c1tcInRvdHBcIl09XCJ0b3RwXCI7fSkoQjJCTUZBUHJvZHVjdHN8fChCMkJNRkFQcm9kdWN0cz17fSkpO3ZhciBCMkJPQXV0aFByb3ZpZGVyczsoZnVuY3Rpb24oQjJCT0F1dGhQcm92aWRlcnMpe0IyQk9BdXRoUHJvdmlkZXJzW1wiR29vZ2xlXCJdPVwiZ29vZ2xlXCI7QjJCT0F1dGhQcm92aWRlcnNbXCJNaWNyb3NvZnRcIl09XCJtaWNyb3NvZnRcIjt9KShCMkJPQXV0aFByb3ZpZGVyc3x8KEIyQk9BdXRoUHJvdmlkZXJzPXt9KSk7ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLGkpe3JldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKXx8X2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFycixpKXx8X3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycixpKXx8X25vbkl0ZXJhYmxlUmVzdCgpO31mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTt9ZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsbCl7dmFyIHQ9bnVsbD09cj9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnJbU3ltYm9sLml0ZXJhdG9yXXx8cltcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9dCl7dmFyIGUsbixpLHUsYT1bXSxmPSEwLG89ITE7dHJ5e2lmKGk9KHQ9dC5jYWxsKHIpKS5uZXh0LDA9PT1sKTtlbHNlIGZvcig7IShmPShlPWkuY2FsbCh0KSkuZG9uZSkmJihhLnB1c2goZS52YWx1ZSksYS5sZW5ndGghPT1sKTtmPSEwKTt9Y2F0Y2gocil7bz0hMCxuPXI7fWZpbmFsbHl7dHJ5e2lmKCFmJiZudWxsIT10W1wicmV0dXJuXCJdJiYodT10W1wicmV0dXJuXCJdKCksT2JqZWN0KHUpIT09dSkpcmV0dXJuO31maW5hbGx5e2lmKG8pdGhyb3cgbjt9fXJldHVybiBhO319ZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycil7aWYoQXJyYXkuaXNBcnJheShhcnIpKXJldHVybiBhcnI7fWZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sYWxsb3dBcnJheUxpa2Upe3ZhciBpdD10eXBlb2YgU3ltYm9sIT09XCJ1bmRlZmluZWRcIiYmb1tTeW1ib2wuaXRlcmF0b3JdfHxvW1wiQEBpdGVyYXRvclwiXTtpZighaXQpe2lmKEFycmF5LmlzQXJyYXkobyl8fChpdD1fdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpfHxhbGxvd0FycmF5TGlrZSl7aWYoaXQpbz1pdDt2YXIgaT0wO3ZhciBGPWZ1bmN0aW9uIEYoKXt9O3JldHVybntzOkYsbjpmdW5jdGlvbiBuKCl7aWYoaT49by5sZW5ndGgpcmV0dXJue2RvbmU6dHJ1ZX07cmV0dXJue2RvbmU6ZmFsc2UsdmFsdWU6b1tpKytdfTt9LGU6ZnVuY3Rpb24gZShfZSl7dGhyb3cgX2U7fSxmOkZ9O310aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7fXZhciBub3JtYWxDb21wbGV0aW9uPXRydWUsZGlkRXJyPWZhbHNlLGVycjtyZXR1cm57czpmdW5jdGlvbiBzKCl7aXQ9aXQuY2FsbChvKTt9LG46ZnVuY3Rpb24gbigpe3ZhciBzdGVwPWl0Lm5leHQoKTtub3JtYWxDb21wbGV0aW9uPXN0ZXAuZG9uZTtyZXR1cm4gc3RlcDt9LGU6ZnVuY3Rpb24gZShfZTIpe2RpZEVycj10cnVlO2Vycj1fZTI7fSxmOmZ1bmN0aW9uIGYoKXt0cnl7aWYoIW5vcm1hbENvbXBsZXRpb24mJml0W1wicmV0dXJuXCJdIT1udWxsKWl0W1wicmV0dXJuXCJdKCk7fWZpbmFsbHl7aWYoZGlkRXJyKXRocm93IGVycjt9fX07fWZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLG1pbkxlbil7aWYoIW8pcmV0dXJuO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIilyZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobyxtaW5MZW4pO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LC0xKTtpZihuPT09XCJPYmplY3RcIiYmby5jb25zdHJ1Y3RvciluPW8uY29uc3RydWN0b3IubmFtZTtpZihuPT09XCJNYXBcInx8bj09PVwiU2V0XCIpcmV0dXJuIEFycmF5LmZyb20obyk7aWYobj09PVwiQXJndW1lbnRzXCJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLG1pbkxlbik7fWZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFycixsZW4pe2lmKGxlbj09bnVsbHx8bGVuPmFyci5sZW5ndGgpbGVuPWFyci5sZW5ndGg7Zm9yKHZhciBpPTAsYXJyMj1uZXcgQXJyYXkobGVuKTtpPGxlbjtpKyspYXJyMltpXT1hcnJbaV07cmV0dXJuIGFycjI7fWZ1bmN0aW9uIF90eXBlb2Yobyl7XCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihvKXtyZXR1cm4gdHlwZW9mIG87fTpmdW5jdGlvbihvKXtyZXR1cm4gbyYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvO30sX3R5cGVvZihvKTt9ZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpey8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9fcmVnZW5lcmF0b3JSdW50aW1lPWZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKXtyZXR1cm4gZTt9O3ZhciB0LGU9e30scj1PYmplY3QucHJvdG90eXBlLG49ci5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLHIpe3RbZV09ci52YWx1ZTt9LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLGM9aS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHU9aS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gZGVmaW5lKHQsZSxyKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV07fXRyeXtkZWZpbmUoe30sXCJcIik7fWNhdGNoKHQpe2RlZmluZT1mdW5jdGlvbiBkZWZpbmUodCxlLHIpe3JldHVybiB0W2VdPXI7fTt9ZnVuY3Rpb24gd3JhcCh0LGUscixuKXt2YXIgaT1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvcj9lOkdlbmVyYXRvcixhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLGM9bmV3IENvbnRleHQobnx8W10pO3JldHVybiBvKGEsXCJfaW52b2tlXCIse3ZhbHVlOm1ha2VJbnZva2VNZXRob2QodCxyLGMpfSksYTt9ZnVuY3Rpb24gdHJ5Q2F0Y2godCxlLHIpe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxyKX07fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH07fX1lLndyYXA9d3JhcDt2YXIgaD1cInN1c3BlbmRlZFN0YXJ0XCIsbD1cInN1c3BlbmRlZFlpZWxkXCIsZj1cImV4ZWN1dGluZ1wiLHM9XCJjb21wbGV0ZWRcIix5PXt9O2Z1bmN0aW9uIEdlbmVyYXRvcigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpe312YXIgcD17fTtkZWZpbmUocCxhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM7fSk7dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mLHY9ZCYmZChkKHZhbHVlcyhbXSkpKTt2JiZ2IT09ciYmbi5jYWxsKHYsYSkmJihwPXYpO3ZhciBnPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZT1HZW5lcmF0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocCk7ZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihlKXtkZWZpbmUodCxlLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KTt9KTt9KTt9ZnVuY3Rpb24gQXN5bmNJdGVyYXRvcih0LGUpe2Z1bmN0aW9uIGludm9rZShyLG8saSxhKXt2YXIgYz10cnlDYXRjaCh0W3JdLHQsbyk7aWYoXCJ0aHJvd1wiIT09Yy50eXBlKXt2YXIgdT1jLmFyZyxoPXUudmFsdWU7cmV0dXJuIGgmJlwib2JqZWN0XCI9PV90eXBlb2YoaCkmJm4uY2FsbChoLFwiX19hd2FpdFwiKT9lLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHQpe2ludm9rZShcIm5leHRcIix0LGksYSk7fSxmdW5jdGlvbih0KXtpbnZva2UoXCJ0aHJvd1wiLHQsaSxhKTt9KTplLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbih0KXt1LnZhbHVlPXQsaSh1KTt9LGZ1bmN0aW9uKHQpe3JldHVybiBpbnZva2UoXCJ0aHJvd1wiLHQsaSxhKTt9KTt9YShjLmFyZyk7fXZhciByO28odGhpcyxcIl9pbnZva2VcIix7dmFsdWU6ZnVuY3Rpb24gdmFsdWUodCxuKXtmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpe3JldHVybiBuZXcgZShmdW5jdGlvbihlLHIpe2ludm9rZSh0LG4sZSxyKTt9KTt9cmV0dXJuIHI9cj9yLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpOmNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7fX0pO31mdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUscixuKXt2YXIgbz1oO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1mKXRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYobz09PXMpe2lmKFwidGhyb3dcIj09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfTt9Zm9yKG4ubWV0aG9kPWksbi5hcmc9YTs7KXt2YXIgYz1uLmRlbGVnYXRlO2lmKGMpe3ZhciB1PW1heWJlSW52b2tlRGVsZWdhdGUoYyxuKTtpZih1KXtpZih1PT09eSljb250aW51ZTtyZXR1cm4gdTt9fWlmKFwibmV4dFwiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1uLm1ldGhvZCl7aWYobz09PWgpdGhyb3cgbz1zLG4uYXJnO24uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpO31lbHNlXCJyZXR1cm5cIj09PW4ubWV0aG9kJiZuLmFicnVwdChcInJldHVyblwiLG4uYXJnKTtvPWY7dmFyIHA9dHJ5Q2F0Y2goZSxyLG4pO2lmKFwibm9ybWFsXCI9PT1wLnR5cGUpe2lmKG89bi5kb25lP3M6bCxwLmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnAuYXJnLGRvbmU6bi5kb25lfTt9XCJ0aHJvd1wiPT09cC50eXBlJiYobz1zLG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1wLmFyZyk7fX07fWZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSxyKXt2YXIgbj1yLm1ldGhvZCxvPWUuaXRlcmF0b3Jbbl07aWYobz09PXQpcmV0dXJuIHIuZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1uJiZlLml0ZXJhdG9yW1wicmV0dXJuXCJdJiYoci5tZXRob2Q9XCJyZXR1cm5cIixyLmFyZz10LG1heWJlSW52b2tlRGVsZWdhdGUoZSxyKSxcInRocm93XCI9PT1yLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1uJiYoci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIituK1wiJyBtZXRob2RcIikpLHk7dmFyIGk9dHJ5Q2F0Y2gobyxlLml0ZXJhdG9yLHIuYXJnKTtpZihcInRocm93XCI9PT1pLnR5cGUpcmV0dXJuIHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1pLmFyZyxyLmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KHJbZS5yZXN1bHROYW1lXT1hLnZhbHVlLHIubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PXIubWV0aG9kJiYoci5tZXRob2Q9XCJuZXh0XCIsci5hcmc9dCksci5kZWxlZ2F0ZT1udWxsLHkpOmE6KHIubWV0aG9kPVwidGhyb3dcIixyLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksci5kZWxlZ2F0ZT1udWxsLHkpO31mdW5jdGlvbiBwdXNoVHJ5RW50cnkodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSk7fWZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9XCJub3JtYWxcIixkZWxldGUgZS5hcmcsdC5jb21wbGV0aW9uPWU7fWZ1bmN0aW9uIENvbnRleHQodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSx0aGlzKSx0aGlzLnJlc2V0KCEwKTt9ZnVuY3Rpb24gdmFsdWVzKGUpe2lmKGV8fFwiXCI9PT1lKXt2YXIgcj1lW2FdO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsaT1mdW5jdGlvbiBuZXh0KCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKG4uY2FsbChlLG8pKXJldHVybiBuZXh0LnZhbHVlPWVbb10sbmV4dC5kb25lPSExLG5leHQ7cmV0dXJuIG5leHQudmFsdWU9dCxuZXh0LmRvbmU9ITAsbmV4dDt9O3JldHVybiBpLm5leHQ9aTt9fXRocm93IG5ldyBUeXBlRXJyb3IoX3R5cGVvZihlKStcIiBpcyBub3QgaXRlcmFibGVcIik7fXJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGU9R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsbyhnLFwiY29uc3RydWN0b3JcIix7dmFsdWU6R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsY29uZmlndXJhYmxlOiEwfSksbyhHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOkdlbmVyYXRvckZ1bmN0aW9uLGNvbmZpZ3VyYWJsZTohMH0pLEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lPWRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSx1LFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PUdlbmVyYXRvckZ1bmN0aW9ufHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSk7fSxlLm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk6KHQuX19wcm90b19fPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLGRlZmluZSh0LHUsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnKSx0O30sZS5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fTt9LGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLGMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9KSxlLkFzeW5jSXRlcmF0b3I9QXN5bmNJdGVyYXRvcixlLmFzeW5jPWZ1bmN0aW9uKHQscixuLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IEFzeW5jSXRlcmF0b3Iod3JhcCh0LHIsbixvKSxpKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpP2E6YS5uZXh0KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCk7fSk7fSxkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksZGVmaW5lKGcsdSxcIkdlbmVyYXRvclwiKSxkZWZpbmUoZyxhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM7fSksZGVmaW5lKGcsXCJ0b1N0cmluZ1wiLGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjt9KSxlLmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLHI9W107Zm9yKHZhciBuIGluIGUpci5wdXNoKG4pO3JldHVybiByLnJldmVyc2UoKSxmdW5jdGlvbiBuZXh0KCl7Zm9yKDtyLmxlbmd0aDspe3ZhciB0PXIucG9wKCk7aWYodCBpbiBlKXJldHVybiBuZXh0LnZhbHVlPXQsbmV4dC5kb25lPSExLG5leHQ7fXJldHVybiBuZXh0LmRvbmU9ITAsbmV4dDt9O30sZS52YWx1ZXM9dmFsdWVzLENvbnRleHQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpDb250ZXh0LHJlc2V0OmZ1bmN0aW9uIHJlc2V0KGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCFlKWZvcih2YXIgciBpbiB0aGlzKVwidFwiPT09ci5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLHIpJiYhaXNOYU4oK3Iuc2xpY2UoMSkpJiYodGhpc1tyXT10KTt9LHN0b3A6ZnVuY3Rpb24gc3RvcCgpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbDt9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciByPXRoaXM7ZnVuY3Rpb24gaGFuZGxlKG4sbyl7cmV0dXJuIGEudHlwZT1cInRocm93XCIsYS5hcmc9ZSxyLm5leHQ9bixvJiYoci5tZXRob2Q9XCJuZXh0XCIsci5hcmc9dCksISFvO31mb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbb10sYT1pLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1pLnRyeUxvYylyZXR1cm4gaGFuZGxlKFwiZW5kXCIpO2lmKGkudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPW4uY2FsbChpLFwiY2F0Y2hMb2NcIiksdT1uLmNhbGwoaSxcImZpbmFsbHlMb2NcIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8aS5maW5hbGx5TG9jKXJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTt9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8aS5jYXRjaExvYylyZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsITApO31lbHNle2lmKCF1KXRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxpLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpO319fX0sYWJydXB0OmZ1bmN0aW9uIGFicnVwdCh0LGUpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBvPXRoaXMudHJ5RW50cmllc1tyXTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2JiZuLmNhbGwobyxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWs7fX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKTt9LGNvbXBsZXRlOmZ1bmN0aW9uIGNvbXBsZXRlKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSx5O30sZmluaXNoOmZ1bmN0aW9uIGZpbmlzaCh0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbZV07aWYoci5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYykscmVzZXRUcnlFbnRyeShyKSx5O319LFwiY2F0Y2hcIjpmdW5jdGlvbiBfY2F0Y2godCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW2VdO2lmKHIudHJ5TG9jPT09dCl7dmFyIG49ci5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PW4udHlwZSl7dmFyIG89bi5hcmc7cmVzZXRUcnlFbnRyeShyKTt9cmV0dXJuIG87fX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7fSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSxyLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjp2YWx1ZXMoZSkscmVzdWx0TmFtZTpyLG5leHRMb2M6bn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHk7fX0sZTt9ZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksZGVzY3JpcHRvcik7fX1mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvcixcInByb3RvdHlwZVwiLHt3cml0YWJsZTpmYWxzZX0pO3JldHVybiBDb25zdHJ1Y3Rvcjt9ZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCl7dmFyIGk9X3RvUHJpbWl0aXZlKHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09X3R5cGVvZihpKT9pOlN0cmluZyhpKTt9ZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQscil7aWYoXCJvYmplY3RcIiE9X3R5cGVvZih0KXx8IXQpcmV0dXJuIHQ7dmFyIGU9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PWUpe3ZhciBpPWUuY2FsbCh0LHIpO2lmKFwib2JqZWN0XCIhPV90eXBlb2YoaSkpcmV0dXJuIGk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO31yZXR1cm4gU3RyaW5nKHQpO31mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7fX1mdW5jdGlvbiBfY2FsbFN1cGVyKHQsbyxlKXtyZXR1cm4gbz1fZ2V0UHJvdG90eXBlT2YobyksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCxfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk/UmVmbGVjdC5jb25zdHJ1Y3QobyxlfHxbXSxfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpOm8uYXBwbHkodCxlKSk7fWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoY2FsbCYmKF90eXBlb2YoY2FsbCk9PT1cIm9iamVjdFwifHx0eXBlb2YgY2FsbD09PVwiZnVuY3Rpb25cIikpe3JldHVybiBjYWxsO31lbHNlIGlmKGNhbGwhPT12b2lkIDApe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTt9cmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7fWZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZil7aWYoc2VsZj09PXZvaWQgMCl7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO31yZXR1cm4gc2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09XCJmdW5jdGlvblwiJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOmZhbHNlfSk7aWYoc3VwZXJDbGFzcylfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk7fWZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3Mpe3ZhciBfY2FjaGU9dHlwZW9mIE1hcD09PVwiZnVuY3Rpb25cIj9uZXcgTWFwKCk6dW5kZWZpbmVkO193cmFwTmF0aXZlU3VwZXI9ZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyl7aWYoQ2xhc3M9PT1udWxsfHwhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKXJldHVybiBDbGFzcztpZih0eXBlb2YgQ2xhc3MhPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt9aWYodHlwZW9mIF9jYWNoZSE9PVwidW5kZWZpbmVkXCIpe2lmKF9jYWNoZS5oYXMoQ2xhc3MpKXJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtfY2FjaGUuc2V0KENsYXNzLFdyYXBwZXIpO31mdW5jdGlvbiBXcmFwcGVyKCl7cmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsYXJndW1lbnRzLF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7fVdyYXBwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6V3JhcHBlcixlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7cmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLENsYXNzKTt9O3JldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTt9ZnVuY3Rpb24gX2NvbnN0cnVjdCh0LGUscil7aWYoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLGFyZ3VtZW50cyk7dmFyIG89W251bGxdO28ucHVzaC5hcHBseShvLGUpO3ZhciBwPW5ldyh0LmJpbmQuYXBwbHkodCxvKSkoKTtyZXR1cm4gciYmX3NldFByb3RvdHlwZU9mKHAsci5wcm90b3R5cGUpLHA7fWZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKXt0cnl7dmFyIHQ9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLGZ1bmN0aW9uKCl7fSkpO31jYXRjaCh0KXt9cmV0dXJuKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3Q9ZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpe3JldHVybiEhdDt9KSgpO31mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbil7dHJ5e3JldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSE9PS0xO31jYXRjaChlKXtyZXR1cm4gdHlwZW9mIGZuPT09XCJmdW5jdGlvblwiO319ZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8scCl7X3NldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLHApe28uX19wcm90b19fPXA7cmV0dXJuIG87fTtyZXR1cm4gX3NldFByb3RvdHlwZU9mKG8scCk7fWZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKXtfZ2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pe3JldHVybiBvLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO307cmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTt9dmFyIFRFU1RfQVBJX1VSTD0naHR0cHM6Ly90ZXN0LnN0eXRjaC5jb20nO3ZhciBMSVZFX0FQSV9VUkw9J2h0dHBzOi8vYXBpLnN0eXRjaC5jb20nO3ZhciBDTElFTlRTSURFX1NFUlZJQ0VTX0lGUkFNRV9VUkw9J2h0dHBzOi8vanMuc3R5dGNoLmNvbS9jbGllbnRzaWRlLXNlcnZpY2VzL2luZGV4Lmh0bWwnO3ZhciBTVFlUQ0hfV0VCX0JBQ0tFTkRfVVJMPVwiaHR0cHM6Ly93ZWIuc3R5dGNoLmNvbVwiO3ZhciBTVFlUQ0hfREZQX0JBQ0tFTkRfVVJMPVwiaHR0cHM6Ly90ZWxlbWV0cnkuc3R5dGNoLmNvbVwiO3ZhciBTVFlUQ0hfREZQX0NETl9VUkw9XCJodHRwczovL2VsZW1lbnRzLnN0eXRjaC5jb21cIjt2YXIgR09PR0xFX09ORV9UQVBfSE9TVD0naHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL2dzaSc7dmFyIEdPT0dMRV9PTkVfVEFQX1NDUklQVF9VUkw9XCJcIi5jb25jYXQoR09PR0xFX09ORV9UQVBfSE9TVCxcIi9jbGllbnRcIik7dmFyIERFRkFVTFRfU0VTU0lPTl9EVVJBVElPTl9NSU5VVEVTPTMwO3ZhciBERUZBVUxUX09UUF9FWFBJUkFUSU9OX01JTlVURVM9NTtmdW5jdGlvbiBfX3Jlc3QocyxlKXt2YXIgdD17fTtmb3IodmFyIHAgaW4gcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmZS5pbmRleE9mKHApPDApdFtwXT1zW3BdO2lmKHMhPW51bGwmJnR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzPT09XCJmdW5jdGlvblwiKWZvcih2YXIgaT0wLHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTtpPHAubGVuZ3RoO2krKyl7aWYoZS5pbmRleE9mKHBbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLHBbaV0pKXRbcFtpXV09c1twW2ldXTt9cmV0dXJuIHQ7fWZ1bmN0aW9uIF9fYXdhaXRlciQxKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7ZnVuY3Rpb24gYWRvcHQodmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSk7fSk7fXJldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7fWNhdGNoKGUpe3JlamVjdChlKTt9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO31jYXRjaChlKXtyZWplY3QoZSk7fX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpO31zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsW10pKS5uZXh0KCkpO30pO310eXBlb2YgU3VwcHJlc3NlZEVycm9yPT09XCJmdW5jdGlvblwiP1N1cHByZXNzZWRFcnJvcjpmdW5jdGlvbihlcnJvcixzdXBwcmVzc2VkLG1lc3NhZ2Upe3ZhciBlPW5ldyBFcnJvcihtZXNzYWdlKTtyZXR1cm4gZS5uYW1lPVwiU3VwcHJlc3NlZEVycm9yXCIsZS5lcnJvcj1lcnJvcixlLnN1cHByZXNzZWQ9c3VwcHJlc3NlZCxlO307dmFyIFJldHJpYWJsZUVycm9yVHlwZTsoZnVuY3Rpb24oUmV0cmlhYmxlRXJyb3JUeXBlKXtSZXRyaWFibGVFcnJvclR5cGVbXCJSZXF1aXJlZENhdGNoYVwiXT1cIkNhdGNoYSBSZXF1aXJlZFwiO30pKFJldHJpYWJsZUVycm9yVHlwZXx8KFJldHJpYWJsZUVycm9yVHlwZT17fSkpO3ZhciBSZXRyaWFibGVFcnJvcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0Vycm9yKXtfaW5oZXJpdHMoUmV0cmlhYmxlRXJyb3IsX0Vycm9yKTtmdW5jdGlvbiBSZXRyaWFibGVFcnJvcih0eXBlKXt2YXIgX3RoaXM7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUmV0cmlhYmxlRXJyb3IpO190aGlzPV9jYWxsU3VwZXIodGhpcyxSZXRyaWFibGVFcnJvcixbdHlwZV0pO190aGlzLnR5cGU9dHlwZTtyZXR1cm4gX3RoaXM7fXJldHVybiBfY3JlYXRlQ2xhc3MoUmV0cmlhYmxlRXJyb3IpO30oLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtmdW5jdGlvbiBfcmV0cmlhYmxlRmV0Y2hTREsoX3JlZil7dmFyIG1ldGhvZD1fcmVmLm1ldGhvZCxlcnJvck1lc3NhZ2U9X3JlZi5lcnJvck1lc3NhZ2UsZmluYWxVUkw9X3JlZi5maW5hbFVSTCxiYXNpY0F1dGhIZWFkZXI9X3JlZi5iYXNpY0F1dGhIZWFkZXIseFNES0NsaWVudEhlYWRlcj1fcmVmLnhTREtDbGllbnRIZWFkZXIseFNES1BhcmVudEhvc3RIZWFkZXI9X3JlZi54U0RLUGFyZW50SG9zdEhlYWRlcixib2R5PV9yZWYuYm9keSxyZXRyeUNhbGxiYWNrPV9yZWYucmV0cnlDYWxsYmFjaztyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCl7dmFyIHJlcTtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0LnByZXY9X2NvbnRleHQubmV4dCl7Y2FzZSAwOnJlcT17bWV0aG9kOm1ldGhvZCxlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlLGZpbmFsVVJMOmZpbmFsVVJMLGJhc2ljQXV0aEhlYWRlcjpiYXNpY0F1dGhIZWFkZXIseFNES0NsaWVudEhlYWRlcjp4U0RLQ2xpZW50SGVhZGVyLHhTREtQYXJlbnRIb3N0SGVhZGVyOnhTREtQYXJlbnRIb3N0SGVhZGVyLGJvZHk6Ym9keX07X2NvbnRleHQucHJldj0xO19jb250ZXh0Lm5leHQ9NDtyZXR1cm4gYmFzZUZldGNoU0RLKHJlcSk7Y2FzZSA0OnJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIixfY29udGV4dC5zZW50KTtjYXNlIDc6X2NvbnRleHQucHJldj03O19jb250ZXh0LnQwPV9jb250ZXh0W1wiY2F0Y2hcIl0oMSk7aWYoIShfY29udGV4dC50MCBpbnN0YW5jZW9mIFJldHJpYWJsZUVycm9yKSl7X2NvbnRleHQubmV4dD0xNjticmVhazt9X2NvbnRleHQubmV4dD0xMjtyZXR1cm4gcmV0cnlDYWxsYmFjayhfY29udGV4dC50MCxyZXEpO2Nhc2UgMTI6cmVxPV9jb250ZXh0LnNlbnQ7X2NvbnRleHQubmV4dD0xNTtyZXR1cm4gYmFzZUZldGNoU0RLKHJlcSk7Y2FzZSAxNTpyZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsX2NvbnRleHQuc2VudCk7Y2FzZSAxNjp0aHJvdyBfY29udGV4dC50MDtjYXNlIDE3OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dC5zdG9wKCk7fX0sX2NhbGxlZSxudWxsLFtbMSw3XV0pO30pKTt9ZnVuY3Rpb24gYmFzZUZldGNoU0RLKF9yZWYyKXt2YXIgbWV0aG9kPV9yZWYyLm1ldGhvZCxmaW5hbFVSTD1fcmVmMi5maW5hbFVSTCxiYXNpY0F1dGhIZWFkZXI9X3JlZjIuYmFzaWNBdXRoSGVhZGVyLHhTREtDbGllbnRIZWFkZXI9X3JlZjIueFNES0NsaWVudEhlYWRlcix4U0RLUGFyZW50SG9zdEhlYWRlcj1fcmVmMi54U0RLUGFyZW50SG9zdEhlYWRlcixib2R5PV9yZWYyLmJvZHk7dmFyIF9hO3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCl7dmFyIGhlYWRlcnMsZmV0Y2hPcHRzLHJlc3AsX3Jlc3BEYXRhLHJlc3BFcnJvcixyZXNwRGF0YTtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyLnByZXY9X2NvbnRleHQyLm5leHQpe2Nhc2UgMDpoZWFkZXJzPXtBdXRob3JpemF0aW9uOmJhc2ljQXV0aEhlYWRlciwnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbicsJ1gtU0RLLUNsaWVudCc6eFNES0NsaWVudEhlYWRlcn07aWYoeFNES1BhcmVudEhvc3RIZWFkZXIpe2hlYWRlcnNbJ1gtU0RLLVBhcmVudC1Ib3N0J109eFNES1BhcmVudEhvc3RIZWFkZXI7fWZldGNoT3B0cz17bWV0aG9kOm1ldGhvZCxoZWFkZXJzOmhlYWRlcnMsYm9keTpib2R5JiZKU09OLnN0cmluZ2lmeShib2R5KX07X2NvbnRleHQyLnByZXY9MztfY29udGV4dDIubmV4dD02O3JldHVybiBmZXRjaChmaW5hbFVSTCxmZXRjaE9wdHMpO2Nhc2UgNjpyZXNwPV9jb250ZXh0Mi5zZW50O19jb250ZXh0Mi5uZXh0PTE0O2JyZWFrO2Nhc2UgOTpfY29udGV4dDIucHJldj05O19jb250ZXh0Mi50MD1fY29udGV4dDJbXCJjYXRjaFwiXSgzKTtpZighKF9jb250ZXh0Mi50MC5tZXNzYWdlPT09J0ZhaWxlZCB0byBmZXRjaCcpKXtfY29udGV4dDIubmV4dD0xMzticmVhazt9dGhyb3cgbmV3IFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IoJ1VuYWJsZSB0byBjb250YWN0IHRoZSBTdHl0Y2ggc2VydmVycy4gQXJlIHlvdSBvbmxpbmU/Jyk7Y2FzZSAxMzp0aHJvdyBfY29udGV4dDIudDA7Y2FzZSAxNDppZighKHJlc3Auc3RhdHVzPD0yOTkpKXtfY29udGV4dDIubmV4dD0yNTticmVhazt9X2NvbnRleHQyLnByZXY9MTU7X2NvbnRleHQyLm5leHQ9MTg7cmV0dXJuIHJlc3AuanNvbigpO2Nhc2UgMTg6X3Jlc3BEYXRhPV9jb250ZXh0Mi5zZW50O3JldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsX3Jlc3BEYXRhLmRhdGEpO2Nhc2UgMjI6X2NvbnRleHQyLnByZXY9MjI7X2NvbnRleHQyLnQxPV9jb250ZXh0MltcImNhdGNoXCJdKDE1KTt0aHJvdyBuZXcgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcignSW52YWxpZCBKU09OIHJlc3BvbnNlIGZyb20gdGhlIFN0eXRjaCBzZXJ2ZXJzLicpO2Nhc2UgMjU6aWYoIShyZXNwLnN0YXR1cyE9PTIwMCYmKChfYT1yZXNwLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkpKXtfY29udGV4dDIubmV4dD0zODticmVhazt9X2NvbnRleHQyLnByZXY9MjY7X2NvbnRleHQyLm5leHQ9Mjk7cmV0dXJuIHJlc3AuanNvbigpO2Nhc2UgMjk6cmVzcEVycm9yPV9jb250ZXh0Mi5zZW50O19jb250ZXh0Mi5uZXh0PTM1O2JyZWFrO2Nhc2UgMzI6X2NvbnRleHQyLnByZXY9MzI7X2NvbnRleHQyLnQyPV9jb250ZXh0MltcImNhdGNoXCJdKDI2KTt0aHJvdyBuZXcgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcignSW52YWxpZCBvciBubyByZXNwb25zZSBmcm9tIHNlcnZlcicpO2Nhc2UgMzU6aWYoISgnYm9keSdpbiByZXNwRXJyb3J8fCdwYXJhbXMnaW4gcmVzcEVycm9yfHwncXVlcnknaW4gcmVzcEVycm9yKSl7X2NvbnRleHQyLm5leHQ9Mzc7YnJlYWs7fXRocm93IG5ldyBTdHl0Y2hBUElTY2hlbWFFcnJvcihyZXNwRXJyb3IpO2Nhc2UgMzc6dGhyb3cgbmV3IFN0eXRjaEFQSUVycm9yKHJlc3BFcnJvcik7Y2FzZSAzODpfY29udGV4dDIucHJldj0zODtfY29udGV4dDIubmV4dD00MTtyZXR1cm4gcmVzcC50ZXh0KCk7Y2FzZSA0MTpyZXNwRGF0YT1fY29udGV4dDIuc2VudDtfY29udGV4dDIubmV4dD00NzticmVhaztjYXNlIDQ0Ol9jb250ZXh0Mi5wcmV2PTQ0O19jb250ZXh0Mi50Mz1fY29udGV4dDJbXCJjYXRjaFwiXSgzOCk7dGhyb3cgbmV3IFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZnJvbSB0aGUgU3R5dGNoIHNlcnZlcnMuJyk7Y2FzZSA0NzppZighcmVzcERhdGEuaW5jbHVkZXMoJ0NhcHRjaGEgcmVxdWlyZWQnKSl7X2NvbnRleHQyLm5leHQ9NDk7YnJlYWs7fXRocm93IG5ldyBSZXRyaWFibGVFcnJvcihSZXRyaWFibGVFcnJvclR5cGUuUmVxdWlyZWRDYXRjaGEpO2Nhc2UgNDk6dGhyb3cgbmV3IFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZnJvbSB0aGUgU3R5dGNoIHNlcnZlcnMuJyk7Y2FzZSA1MDpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQyLnN0b3AoKTt9fSxfY2FsbGVlMixudWxsLFtbMyw5XSxbMTUsMjJdLFsyNiwzMl0sWzM4LDQ0XV0pO30pKTt9dmFyIGdldFJhbmRvbVZhbHVlczt2YXIgcm5kczg9bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIHJuZygpe2lmKCFnZXRSYW5kb21WYWx1ZXMpe2dldFJhbmRvbVZhbHVlcz10eXBlb2YgY3J5cHRvIT09J3VuZGVmaW5lZCcmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pfHx0eXBlb2YgbXNDcnlwdG8hPT0ndW5kZWZpbmVkJyYmdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcz09PSdmdW5jdGlvbicmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtpZighZ2V0UmFuZG9tVmFsdWVzKXt0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7fX1yZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTt9dmFyIFJFR0VYPS9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtmdW5jdGlvbiB2YWxpZGF0ZSQxKHV1aWQpe3JldHVybiB0eXBlb2YgdXVpZD09PSdzdHJpbmcnJiZSRUdFWC50ZXN0KHV1aWQpO312YXIgYnl0ZVRvSGV4PVtdO2Zvcih2YXIgaSQzPTA7aSQzPDI1NjsrK2kkMyl7Ynl0ZVRvSGV4LnB1c2goKGkkMysweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7fWZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpe3ZhciBvZmZzZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7dmFyIHV1aWQ9KGJ5dGVUb0hleFthcnJbb2Zmc2V0KzBdXStieXRlVG9IZXhbYXJyW29mZnNldCsxXV0rYnl0ZVRvSGV4W2FycltvZmZzZXQrMl1dK2J5dGVUb0hleFthcnJbb2Zmc2V0KzNdXSsnLScrYnl0ZVRvSGV4W2FycltvZmZzZXQrNF1dK2J5dGVUb0hleFthcnJbb2Zmc2V0KzVdXSsnLScrYnl0ZVRvSGV4W2FycltvZmZzZXQrNl1dK2J5dGVUb0hleFthcnJbb2Zmc2V0KzddXSsnLScrYnl0ZVRvSGV4W2FycltvZmZzZXQrOF1dK2J5dGVUb0hleFthcnJbb2Zmc2V0KzldXSsnLScrYnl0ZVRvSGV4W2FycltvZmZzZXQrMTBdXStieXRlVG9IZXhbYXJyW29mZnNldCsxMV1dK2J5dGVUb0hleFthcnJbb2Zmc2V0KzEyXV0rYnl0ZVRvSGV4W2FycltvZmZzZXQrMTNdXStieXRlVG9IZXhbYXJyW29mZnNldCsxNF1dK2J5dGVUb0hleFthcnJbb2Zmc2V0KzE1XV0pLnRvTG93ZXJDYXNlKCk7aWYoIXZhbGlkYXRlJDEodXVpZCkpe3Rocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7fXJldHVybiB1dWlkO31mdW5jdGlvbiB2NChvcHRpb25zLGJ1ZixvZmZzZXQpe29wdGlvbnM9b3B0aW9uc3x8e307dmFyIHJuZHM9b3B0aW9ucy5yYW5kb218fChvcHRpb25zLnJuZ3x8cm5nKSgpO3JuZHNbNl09cm5kc1s2XSYweDBmfDB4NDA7cm5kc1s4XT1ybmRzWzhdJjB4M2Z8MHg4MDtyZXR1cm4gc3RyaW5naWZ5KHJuZHMpO312YXIgTW9kdWxlUHJvbWlzZUNhY2hlPXt9O2Z1bmN0aW9uIGxvYWRFU01vZHVsZSh1cmwsbW9kdWxlRnJvbUdsb2JhbFNjb3BlKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDMucHJldj1fY29udGV4dDMubmV4dCl7Y2FzZSAwOmlmKCEoTW9kdWxlUHJvbWlzZUNhY2hlW3VybF0hPT11bmRlZmluZWQpKXtfY29udGV4dDMubmV4dD0yO2JyZWFrO31yZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLE1vZHVsZVByb21pc2VDYWNoZVt1cmxdKTtjYXNlIDI6TW9kdWxlUHJvbWlzZUNhY2hlW3VybF09bG9hZEVTTW9kdWxlRnJvbU5ldHdvcmsodXJsLG1vZHVsZUZyb21HbG9iYWxTY29wZSk7cmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIixNb2R1bGVQcm9taXNlQ2FjaGVbdXJsXSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDMuc3RvcCgpO319LF9jYWxsZWUzKTt9KSk7fWZ1bmN0aW9uIGxvYWRFU01vZHVsZUZyb21OZXR3b3JrKHVybCxtb2R1bGVGcm9tR2xvYmFsU2NvcGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIG1heWJlU2NyaXB0PWZpbmRTY3JpcHQodXJsKTtpZihtYXliZVNjcmlwdCYmbWF5YmVTY3JpcHQuZGF0YXNldC5sb2FkZWQ9PT0ndHJ1ZScpe3RyeXtyZXNvbHZlKG1vZHVsZUZyb21HbG9iYWxTY29wZSgpKTt9Y2F0Y2goZXJyKXtyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIlwiLmNvbmNhdCh1cmwsXCIgYWxyZWFkeSBsb2FkZWQsIGJ1dCBtb2R1bGUgd2FzIG5vdCBmb3VuZCBpbiBnbG9iYWwgc2NvcGU6IFwiKS5jb25jYXQoZXJyKSkpO319dmFyIHNjcmlwdD1jcmVhdGVTY3JpcHQodXJsKTtzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsZnVuY3Rpb24oKXtzY3JpcHQuZGF0YXNldC5sb2FkZWQ9J3RydWUnO3RyeXtyZXNvbHZlKG1vZHVsZUZyb21HbG9iYWxTY29wZSgpKTt9Y2F0Y2goZXJyKXtyZWplY3QobmV3IEVycm9yKFwiXCIuY29uY2F0KHVybCxcIiB3YXMgbG9hZGVkLCBidXQgbW9kdWxlIHdhcyBub3QgZm91bmQgaW4gZ2xvYmFsIHNjb3BlOiBcIikuY29uY2F0KGVycikpKTt9fSk7c2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJyxmdW5jdGlvbihlcnIpe3JlamVjdChuZXcgRXJyb3IoXCJcIi5jb25jYXQodXJsLFwiIGNvdWxkIG5vdCBiZSBsb2FkZWQ6IFwiKS5jb25jYXQoZXJyKSkpO30pO30pO312YXIgZmluZFNjcmlwdHNJbkRvbT1mdW5jdGlvbiBmaW5kU2NyaXB0c0luRG9tKHVybCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRbc3JjPVxcXCJcIi5jb25jYXQodXJsLFwiXFxcIl1cIikpO307ZnVuY3Rpb24gZmluZFNjcmlwdCh1cmwpe3ZhciBzY3JpcHRzPWZpbmRTY3JpcHRzSW5Eb20odXJsKTtpZihzY3JpcHRzWzBdKXtyZXR1cm4gc2NyaXB0c1swXTt9fWZ1bmN0aW9uIGNyZWF0ZVNjcmlwdCh1cmwpe3ZhciBzY3JpcHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7c2NyaXB0LnNldEF0dHJpYnV0ZSgnc3JjJyx1cmwpO3NjcmlwdC5zZXRBdHRyaWJ1dGUoJ2FzeW5jJywndHJ1ZScpO3NjcmlwdC5zZXRBdHRyaWJ1dGUoJ2RlZmVyJywndHJ1ZScpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtyZXR1cm4gc2NyaXB0O312YXIgU1RZVENIX0JBREdFPVsnW1N0eXRjaF0nXTt2YXIgREVCVUc9ZmFsc2U7dmFyIGxvZ2dlcj17ZGVidWc6ZnVuY3Rpb24gZGVidWcoKXtyZXR1cm4gREVCVUc7fSxsb2c6ZnVuY3Rpb24gbG9nKCl7dmFyIF9jb25zb2xlO2Zvcih2YXIgX2xlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9bmV3IEFycmF5KF9sZW4pLF9rZXk9MDtfa2V5PF9sZW47X2tleSsrKXthcmdzW19rZXldPWFyZ3VtZW50c1tfa2V5XTt9cmV0dXJuKF9jb25zb2xlPWNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSxTVFlUQ0hfQkFER0UuY29uY2F0KGFyZ3MpKTt9LHdhcm46ZnVuY3Rpb24gd2Fybigpe3ZhciBfY29uc29sZTI7Zm9yKHZhciBfbGVuMj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9bmV3IEFycmF5KF9sZW4yKSxfa2V5Mj0wO19rZXkyPF9sZW4yO19rZXkyKyspe2FyZ3NbX2tleTJdPWFyZ3VtZW50c1tfa2V5Ml07fXJldHVybihfY29uc29sZTI9Y29uc29sZSkud2Fybi5hcHBseShfY29uc29sZTIsU1RZVENIX0JBREdFLmNvbmNhdChhcmdzKSk7fSxlcnJvcjpmdW5jdGlvbiBlcnJvcigpe3ZhciBfY29uc29sZTM7Zm9yKHZhciBfbGVuMz1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9bmV3IEFycmF5KF9sZW4zKSxfa2V5Mz0wO19rZXkzPF9sZW4zO19rZXkzKyspe2FyZ3NbX2tleTNdPWFyZ3VtZW50c1tfa2V5M107fXJldHVybihfY29uc29sZTM9Y29uc29sZSkuZXJyb3IuYXBwbHkoX2NvbnNvbGUzLFNUWVRDSF9CQURHRS5jb25jYXQoYXJncykpO319O3ZhciB0cmFpbGVyPVwiXFxuWW91IGNhbiBmaW5kIHlvdXIgcHVibGljIHRva2VuIGF0IGh0dHBzOi8vc3R5dGNoLmNvbS9kYXNoYm9hcmQvYXBpLWtleXMuXCI7dmFyIGNoZWNrUHVibGljVG9rZW49ZnVuY3Rpb24gY2hlY2tQdWJsaWNUb2tlbihwdWJsaWNUb2tlbil7aWYodHlwZW9mIHB1YmxpY1Rva2VuIT09J3N0cmluZycpe2xvZ2dlci53YXJuKFwiUHVibGljIHRva2VuIGlzIG1hbGZvcm1lZC4gRXhwZWN0ZWQgYSBzdHJpbmcsIGdvdCBcIi5jb25jYXQoX3R5cGVvZihwdWJsaWNUb2tlbiksXCIuXCIpLmNvbmNhdCh0cmFpbGVyKSk7fWVsc2UgaWYocHVibGljVG9rZW49PT0nJyl7bG9nZ2VyLndhcm4oXCJQdWJsaWMgdG9rZW4gaXMgbWFsZm9ybWVkLiBFeHBlY3RlZCBcXFwicHVibGljLXRva2VuLS4uLlxcXCIsIGdvdCBhbiBlbXB0eSBzdHJpbmcuXCIuY29uY2F0KHRyYWlsZXIpKTt9ZWxzZSBpZighcHVibGljVG9rZW4uc3RhcnRzV2l0aCgncHVibGljLXRva2VuLScpKXtsb2dnZXIud2FybihcIlB1YmxpYyB0b2tlbiBpcyBtYWxmb3JtZWQuIEV4cGVjdGVkIFxcXCJwdWJsaWMtdG9rZW4tLi4uXFxcIiwgZ290IFwiLmNvbmNhdChwdWJsaWNUb2tlbixcIi5cIikuY29uY2F0KHRyYWlsZXIpKTt9fTt2YXIgY2hlY2tOb3RTU1I9ZnVuY3Rpb24gY2hlY2tOb3RTU1IoY2xpZW50TmFtZSl7dmFyIGNvZGVTYW1wbGU9Y2xpZW50TmFtZT09PSdTdHl0Y2hVSUNsaWVudCc/XCJpbXBvcnQgeyBjcmVhdGVTdHl0Y2hVSUNsaWVudCB9IGZyb20gJ0BzdHl0Y2gvbmV4dGpzL3VpJztcXG4gICAgXFxuY29uc3Qgc3R5dGNoID0gY3JlYXRlU3R5dGNoVUlDbGllbnQoJ3B1YmxpYy10b2tlbi0uLi4nKTtcXG5cIjpcImltcG9ydCB7IGNyZWF0ZVN0eXRjaEhlYWRsZXNzQ2xpZW50IH0gZnJvbSAnQHN0eXRjaC9uZXh0anMvdWknO1xcbiAgICBcXG5jb25zdCBzdHl0Y2ggPSBjcmVhdGVTdHl0Y2hIZWFkbGVzc0NsaWVudCgncHVibGljLXRva2VuLS4uLicpO1xcblwiO2lmKHR5cGVvZiB3aW5kb3c9PT0ndW5kZWZpbmVkJyl7dGhyb3cgbmV3IEVycm9yKFwiVGhlIFwiLmNvbmNhdChjbGllbnROYW1lLFwiIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggc2VydmVyLXNpZGUgZW52aXJvbm1lbnRzLlxcbklmIHVzaW5nIG5leHRqcywgdXNlIHRoZSBjcmVhdGVcIikuY29uY2F0KGNsaWVudE5hbWUsXCIgbWV0aG9kIGluc3RlYWQuXFxuYGBgXFxuXCIpLmNvbmNhdChjb2RlU2FtcGxlLFwiXFxuYGBgXFxuXCIpKTt9fTt2YXIgQ09VTlRSSUVTX0xJU1Q9e1VTOicxJyxBWDonMzU4JyxBUzonMTY4NCcsQUc6JzEyNjgnLEFJOicxMjY0JyxBUjonNTQnLEFUOic0MycsQVU6JzYxJyxCRTonMzInLEJKOicyMjknLEJPOic1OTEnLEJSOic1NScsSU86JzI0NicsQk46JzY3MycsQkc6JzM1OScsQkY6JzIyNicsQ006JzIzNycsQ0E6JzEnLEJROic1OTknLENGOicyMzYnLENMOic1NicsQ1g6JzYxJyxDQzonNjEnLENPOic1NycsQ0Q6JzI0MycsQ0s6JzY4MicsQ1I6JzUwNicsSFI6JzM4NScsQ1o6JzQyMCcsREs6JzQ1JyxETzonMTgyOScsRUM6JzU5MycsU1Y6JzUwMycsRUU6JzM3MicsU1o6JzI2OCcsRks6JzUwMCcsRkk6JzM1OCcsRlI6JzMzJyxHRjonNTk0JyxERTonNDknLEdIOicyMzMnLEdSOiczMCcsR0Q6JzE0NzMnLEdUOic1MDInLEdHOic0NCcsR1c6JzI0NScsR1k6JzU5MicsSFU6JzM2JyxJUzonMzU0JyxJTjonOTEnLElFOiczNTMnLElNOic0NCcsSVQ6JzM5JyxKTTonMTg3NicsSlA6JzgxJyxLWjonNycsS0U6JzI1NCcsS0k6JzY4NicsS1I6JzgyJyxMVjonMzcxJyxMVDonMzcwJyxMVTonMzUyJyxNTzonODUzJyxNVDonMzU2JyxNSDonNjkyJyxNUjonMjIyJyxNVTonMjMwJyxZVDonMjYyJyxNWDonNTInLE1DOiczNzcnLE1FOiczODInLE5SOic2NzQnLE5MOiczMScsTlo6JzY0JyxOSTonNTA1JyxORjonNjcyJyxOTzonNDcnLFBBOic1MDcnLFBZOic1OTUnLFBFOic1MScsUE46Jzg3MCcsUEw6JzQ4JyxQVDonMzUxJyxQUjonMScsUk86JzQwJyxCTDonNTkwJyxTSDonMjkwJyxLTjonMTg2OScsTEM6JzE3NTgnLE1GOic1OTAnLFBNOic1MDgnLFNNOiczNzgnLFNUOicyMzknLFNDOicyNDgnLFNYOic1OTknLFNLOic0MjEnLFNJOiczODYnLFpBOicyNycsU1M6JzIxMScsRVM6JzM0JyxTUjonNTk3JyxTSjonNDcnLFNFOic0NicsQ0g6JzQxJyxUVzonODg2JyxUWjonMjU1JyxUSzonNjkwJyxUTzonNjc2JyxUVDonMTg2OCcsVFI6JzkwJyxVQTonMzgwJyxHQjonNDQnLFVNOicxJyxVWTonNTk4JyxWQTonMzc5JyxFSDonMjEyJ307dmFyIGlzVGVzdFB1YmxpY1Rva2VuPWZ1bmN0aW9uIGlzVGVzdFB1YmxpY1Rva2VuKHRva2VuKXtyZXR1cm4gdG9rZW4uaW5jbHVkZXMoJ3B1YmxpYy10b2tlbi10ZXN0Jyk7fTt2YXIgY3JlYXRlRXZlbnRJZD1mdW5jdGlvbiBjcmVhdGVFdmVudElkKCl7cmV0dXJuXCJldmVudC1pZC1cIi5jb25jYXQodjQoKSk7fTt2YXIgY3JlYXRlQXBwU2Vzc2lvbklkPWZ1bmN0aW9uIGNyZWF0ZUFwcFNlc3Npb25JZCgpe3JldHVyblwiYXBwLXNlc3Npb24taWQtXCIuY29uY2F0KHY0KCkpO307dmFyIGNyZWF0ZVBlcnNpc3RlbnRJZD1mdW5jdGlvbiBjcmVhdGVQZXJzaXN0ZW50SWQoKXtyZXR1cm5cInBlcnNpc3RlbnQtaWQtXCIuY29uY2F0KHY0KCkpO307dmFyIHZhbGlkYXRlPWZ1bmN0aW9uIHZhbGlkYXRlKG1ldGhvZE5hbWUpe3ZhciB2YWxpZGF0b3I9e2lzT2JqZWN0OmZ1bmN0aW9uIGlzT2JqZWN0KGZpZWxkTmFtZSx2YWx1ZSl7dmFyIGlzT2JqZWN0PV90eXBlb2YodmFsdWUpPT09J29iamVjdCcmJiFBcnJheS5pc0FycmF5KHZhbHVlKSYmdmFsdWUhPT1udWxsO2lmKCFpc09iamVjdCl7dGhyb3cgbmV3IFN0eXRjaFNES1VzYWdlRXJyb3IobWV0aG9kTmFtZSxmaWVsZE5hbWUrJyBtdXN0IGJlIGFuIG9iamVjdC4nKTt9cmV0dXJuIHZhbGlkYXRvcjt9LGlzT3B0aW9uYWxPYmplY3Q6ZnVuY3Rpb24gaXNPcHRpb25hbE9iamVjdChmaWVsZE5hbWUsdmFsdWUpe2lmKHR5cGVvZiB2YWx1ZT09PSd1bmRlZmluZWQnKXtyZXR1cm4gdmFsaWRhdG9yO31yZXR1cm4gdmFsaWRhdG9yLmlzT2JqZWN0KGZpZWxkTmFtZSx2YWx1ZSk7fSxpc1N0cmluZzpmdW5jdGlvbiBpc1N0cmluZyhmaWVsZE5hbWUsdmFsdWUpe2lmKHR5cGVvZiB2YWx1ZSE9PSdzdHJpbmcnKXt0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLGZpZWxkTmFtZSsnIG11c3QgYmUgYSBzdHJpbmcuJyk7fXJldHVybiB2YWxpZGF0b3I7fSxpc09wdGlvbmFsU3RyaW5nOmZ1bmN0aW9uIGlzT3B0aW9uYWxTdHJpbmcoZmllbGROYW1lLHZhbHVlKXtpZih0eXBlb2YgdmFsdWU9PT0ndW5kZWZpbmVkJyl7cmV0dXJuIHZhbGlkYXRvcjt9cmV0dXJuIHZhbGlkYXRvci5pc1N0cmluZyhmaWVsZE5hbWUsdmFsdWUpO30saXNTdHJpbmdBcnJheTpmdW5jdGlvbiBpc1N0cmluZ0FycmF5KGZpZWxkTmFtZSx2YWx1ZSl7aWYoIUFycmF5LmlzQXJyYXkodmFsdWUpKXt0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLGZpZWxkTmFtZSsnIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4nKTt9dmFyIF9pdGVyYXRvcj1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih2YWx1ZSksX3N0ZXA7dHJ5e2ZvcihfaXRlcmF0b3IucygpOyEoX3N0ZXA9X2l0ZXJhdG9yLm4oKSkuZG9uZTspe3ZhciBzdHI9X3N0ZXAudmFsdWU7aWYodHlwZW9mIHN0ciE9PSdzdHJpbmcnKXt0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLGZpZWxkTmFtZSsnIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4nKTt9fX1jYXRjaChlcnIpe19pdGVyYXRvci5lKGVycik7fWZpbmFsbHl7X2l0ZXJhdG9yLmYoKTt9cmV0dXJuIHZhbGlkYXRvcjt9LGlzT3B0aW9uYWxTdHJpbmdBcnJheTpmdW5jdGlvbiBpc09wdGlvbmFsU3RyaW5nQXJyYXkoZmllbGROYW1lLHZhbHVlKXtpZih0eXBlb2YgdmFsdWU9PT0ndW5kZWZpbmVkJyl7cmV0dXJuIHZhbGlkYXRvcjt9cmV0dXJuIHZhbGlkYXRvci5pc1N0cmluZ0FycmF5KGZpZWxkTmFtZSx2YWx1ZSk7fSxpc051bWJlcjpmdW5jdGlvbiBpc051bWJlcihmaWVsZE5hbWUsdmFsdWUpe2lmKHR5cGVvZiB2YWx1ZSE9PSdudW1iZXInKXt0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLGZpZWxkTmFtZSsnIG11c3QgYmUgYSBudW1iZXIuJyk7fXJldHVybiB2YWxpZGF0b3I7fSxpc09wdGlvbmFsTnVtYmVyOmZ1bmN0aW9uIGlzT3B0aW9uYWxOdW1iZXIoZmllbGROYW1lLHZhbHVlKXtpZih0eXBlb2YgdmFsdWU9PT0ndW5kZWZpbmVkJyl7cmV0dXJuIHZhbGlkYXRvcjt9cmV0dXJuIHZhbGlkYXRvci5pc051bWJlcihmaWVsZE5hbWUsdmFsdWUpO30saXNCb29sZWFuOmZ1bmN0aW9uIGlzQm9vbGVhbihmaWVsZE5hbWUsdmFsdWUpe2lmKHR5cGVvZiB2YWx1ZSE9PSdib29sZWFuJyl7dGhyb3cgbmV3IFN0eXRjaFNES1VzYWdlRXJyb3IobWV0aG9kTmFtZSxmaWVsZE5hbWUrJyBtdXN0IGJlIGEgYm9vbGVhbi4nKTt9cmV0dXJuIHZhbGlkYXRvcjt9LGlzT3B0aW9uYWxCb29sZWFuOmZ1bmN0aW9uIGlzT3B0aW9uYWxCb29sZWFuKGZpZWxkTmFtZSx2YWx1ZSl7aWYodHlwZW9mIHZhbHVlPT09J3VuZGVmaW5lZCcpe3JldHVybiB2YWxpZGF0b3I7fXJldHVybiB2YWxpZGF0b3IuaXNCb29sZWFuKGZpZWxkTmFtZSx2YWx1ZSk7fX07cmV0dXJuIHZhbGlkYXRvcjt9O3ZhciByZW1vdmVSZXNwb25zZUNvbW1vbj1mdW5jdGlvbiByZW1vdmVSZXNwb25zZUNvbW1vbihfYSl7dmFyIHJlc3Q9X19yZXN0KF9hLFtcInJlcXVlc3RfaWRcIixcInN0YXR1c19jb2RlXCJdKTtyZXR1cm4gcmVzdDt9O3ZhciBvbWl0VXNlcj1mdW5jdGlvbiBvbWl0VXNlcihyZXNwKXt2YXIgcmVzdD1fX3Jlc3QocmVzcCxbXCJfX3VzZXJcIl0pO3JldHVybiByZXN0O307dmFyIGxvYWRUZWxlbWV0cnlKUz1mdW5jdGlvbiBsb2FkVGVsZW1ldHJ5SlMoKXtyZXR1cm4gbG9hZEVTTW9kdWxlKFwiXCIuY29uY2F0KFNUWVRDSF9ERlBfQ0ROX1VSTCxcIi90ZWxlbWV0cnkuanNcIiksZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LkdldFRlbGVtZXRyeUlEO30pO307dmFyIERGUFByb3RlY3RlZEF1dGhQcm92aWRlcj0vKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIERGUFByb3RlY3RlZEF1dGhQcm92aWRlcihwdWJsaWNUb2tlbixkZnBCYWNrZW5kVVJMLGJvb3RzdHJhcFByb21pc2Upe3ZhciBfdGhpczI9dGhpczt2YXIgZXhlY3V0ZVJlY2FwdGNoYT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7fTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIpO3RoaXMuYm9vdHN0cmFwUHJvbWlzZT1ib290c3RyYXBQcm9taXNlO3RoaXMuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMix2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDQucHJldj1fY29udGV4dDQubmV4dCl7Y2FzZSAwOnJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5zdGF0ZS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtyZXR1cm4gc3RhdGUuZW5hYmxlZDt9KSk7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDQuc3RvcCgpO319LF9jYWxsZWU0LHRoaXMpO30pKTt9O3RoaXMuZ2V0VGVsZW1ldHJ5SUQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMyLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCl7dmFyIF95aWVsZCR0aGlzJHN0YXRlLHB1YmxpY1Rva2VuLGVuYWJsZWQsZGZwQmFja2VuZFVSTDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ1LnByZXY9X2NvbnRleHQ1Lm5leHQpe2Nhc2UgMDpfY29udGV4dDUubmV4dD0yO3JldHVybiB0aGlzLnN0YXRlO2Nhc2UgMjpfeWllbGQkdGhpcyRzdGF0ZT1fY29udGV4dDUuc2VudDtwdWJsaWNUb2tlbj1feWllbGQkdGhpcyRzdGF0ZS5wdWJsaWNUb2tlbjtlbmFibGVkPV95aWVsZCR0aGlzJHN0YXRlLmVuYWJsZWQ7ZGZwQmFja2VuZFVSTD1feWllbGQkdGhpcyRzdGF0ZS5kZnBCYWNrZW5kVVJMO2lmKGVuYWJsZWQpe19jb250ZXh0NS5uZXh0PTg7YnJlYWs7fXJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsdW5kZWZpbmVkKTtjYXNlIDg6X2NvbnRleHQ1Lm5leHQ9MTA7cmV0dXJuIHdpbmRvdy5HZXRUZWxlbWV0cnlJRChwdWJsaWNUb2tlbixcIlwiLmNvbmNhdChkZnBCYWNrZW5kVVJMLFwiL3N1Ym1pdFwiKSk7Y2FzZSAxMDpyZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLF9jb250ZXh0NS5zZW50KTtjYXNlIDExOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDUuc3RvcCgpO319LF9jYWxsZWU1LHRoaXMpO30pKTt9O3RoaXMuZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMix2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpe3ZhciBfeWllbGQkdGhpcyRzdGF0ZTIsZW5hYmxlZCxleGVjdXRlUmVjYXB0Y2hhLG1vZGUsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDYucHJldj1fY29udGV4dDYubmV4dCl7Y2FzZSAwOl9jb250ZXh0Ni5uZXh0PTI7cmV0dXJuIHRoaXMuc3RhdGU7Y2FzZSAyOl95aWVsZCR0aGlzJHN0YXRlMj1fY29udGV4dDYuc2VudDtlbmFibGVkPV95aWVsZCR0aGlzJHN0YXRlMi5lbmFibGVkO2V4ZWN1dGVSZWNhcHRjaGE9X3lpZWxkJHRoaXMkc3RhdGUyLmV4ZWN1dGVSZWNhcHRjaGE7bW9kZT1feWllbGQkdGhpcyRzdGF0ZTIubW9kZTtkZnBfdGVsZW1ldHJ5X2lkPXVuZGVmaW5lZDtjYXB0Y2hhX3Rva2VuPXVuZGVmaW5lZDtpZihlbmFibGVkKXtfY29udGV4dDYubmV4dD0xMjticmVhazt9X2NvbnRleHQ2Lm5leHQ9MTE7cmV0dXJuIGV4ZWN1dGVSZWNhcHRjaGEoKTtjYXNlIDExOmNhcHRjaGFfdG9rZW49X2NvbnRleHQ2LnNlbnQ7Y2FzZSAxMjppZighKG1vZGU9PT0nREVDSVNJT05JTkcnKSl7X2NvbnRleHQ2Lm5leHQ9MTg7YnJlYWs7fV9jb250ZXh0Ni5uZXh0PTE1O3JldHVybiB0aGlzLmdldFRlbGVtZXRyeUlEKCk7Y2FzZSAxNTpkZnBfdGVsZW1ldHJ5X2lkPV9jb250ZXh0Ni5zZW50O19jb250ZXh0Ni5uZXh0PTI1O2JyZWFrO2Nhc2UgMTg6aWYoIShtb2RlPT09J09CU0VSVkFUSU9OJykpe19jb250ZXh0Ni5uZXh0PTI1O2JyZWFrO31fY29udGV4dDYubmV4dD0yMTtyZXR1cm4gdGhpcy5nZXRUZWxlbWV0cnlJRCgpO2Nhc2UgMjE6ZGZwX3RlbGVtZXRyeV9pZD1fY29udGV4dDYuc2VudDtfY29udGV4dDYubmV4dD0yNDtyZXR1cm4gZXhlY3V0ZVJlY2FwdGNoYSgpO2Nhc2UgMjQ6Y2FwdGNoYV90b2tlbj1fY29udGV4dDYuc2VudDtjYXNlIDI1OnJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIse2RmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW59KTtjYXNlIDI2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDYuc3RvcCgpO319LF9jYWxsZWU2LHRoaXMpO30pKTt9O3RoaXMucmV0cnlXaXRoQ2FwdGNoYUFuZERGUD1mdW5jdGlvbihlLHJlcSl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMix2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpe3ZhciBfeWllbGQkdGhpcyRzdGF0ZTMsZW5hYmxlZCxleGVjdXRlUmVjYXB0Y2hhO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDcucHJldj1fY29udGV4dDcubmV4dCl7Y2FzZSAwOl9jb250ZXh0Ny5uZXh0PTI7cmV0dXJuIHRoaXMuc3RhdGU7Y2FzZSAyOl95aWVsZCR0aGlzJHN0YXRlMz1fY29udGV4dDcuc2VudDtlbmFibGVkPV95aWVsZCR0aGlzJHN0YXRlMy5lbmFibGVkO2V4ZWN1dGVSZWNhcHRjaGE9X3lpZWxkJHRoaXMkc3RhdGUzLmV4ZWN1dGVSZWNhcHRjaGE7aWYoIShlLnR5cGU9PT1SZXRyaWFibGVFcnJvclR5cGUuUmVxdWlyZWRDYXRjaGEmJmVuYWJsZWQpKXtfY29udGV4dDcubmV4dD0xNDticmVhazt9aWYoIXJlcS5ib2R5KXtfY29udGV4dDcubmV4dD0xMzticmVhazt9X2NvbnRleHQ3Lm5leHQ9OTtyZXR1cm4gdGhpcy5nZXRUZWxlbWV0cnlJRCgpO2Nhc2UgOTpyZXEuYm9keS5kZnBfdGVsZW1ldHJ5X2lkPV9jb250ZXh0Ny5zZW50O19jb250ZXh0Ny5uZXh0PTEyO3JldHVybiBleGVjdXRlUmVjYXB0Y2hhKCk7Y2FzZSAxMjpyZXEuYm9keS5jYXB0Y2hhX3Rva2VuPV9jb250ZXh0Ny5zZW50O2Nhc2UgMTM6cmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIixyZXEpO2Nhc2UgMTQ6dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcXVlcnkgY2FwdGNoYSBhbmQvb3IgZGZwIHRlbGVtZXRyeSBJRCcpO2Nhc2UgMTU6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7fX0sX2NhbGxlZTcsdGhpcyk7fSkpO307dGhpcy5zdGF0ZT1ib290c3RyYXBQcm9taXNlLnRoZW4oZnVuY3Rpb24oYm9vdHN0cmFwRGF0YSl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMix2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDgucHJldj1fY29udGV4dDgubmV4dCl7Y2FzZSAwOmlmKGJvb3RzdHJhcERhdGEucnVuREZQUHJvdGVjdGVkQXV0aCl7X2NvbnRleHQ4Lm5leHQ9MjticmVhazt9cmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIix7cHVibGljVG9rZW46cHVibGljVG9rZW4sZGZwQmFja2VuZFVSTDpkZnBCYWNrZW5kVVJMLGVuYWJsZWQ6ZmFsc2UsbG9hZGVkOmZhbHNlLGV4ZWN1dGVSZWNhcHRjaGE6ZXhlY3V0ZVJlY2FwdGNoYX0pO2Nhc2UgMjpfY29udGV4dDgubmV4dD00O3JldHVybiBsb2FkVGVsZW1ldHJ5SlMoKTtjYXNlIDQ6cmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIix7cHVibGljVG9rZW46cHVibGljVG9rZW4sZGZwQmFja2VuZFVSTDpkZnBCYWNrZW5kVVJMLGVuYWJsZWQ6dHJ1ZSxtb2RlOmJvb3RzdHJhcERhdGEuZGZwUHJvdGVjdGVkQXV0aE1vZGV8fCdPQlNFUlZBVElPTicsbG9hZGVkOnRydWUsZXhlY3V0ZVJlY2FwdGNoYTpleGVjdXRlUmVjYXB0Y2hhfSk7Y2FzZSA1OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDguc3RvcCgpO319LF9jYWxsZWU4KTt9KSk7fSk7fSk7dmFyIERpc2FibGVkREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyPWZ1bmN0aW9uIERpc2FibGVkREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKCl7cmV0dXJue2lzRW5hYmxlZDpmdW5jdGlvbiBpc0VuYWJsZWQoKXtyZXR1cm4gX19hd2FpdGVyJDEodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCl7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0OS5wcmV2PV9jb250ZXh0OS5uZXh0KXtjYXNlIDA6cmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoXCJyZXR1cm5cIixmYWxzZSk7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDkuc3RvcCgpO319LF9jYWxsZWU5KTt9KSk7fSxnZXRUZWxlbWV0cnlJRDpmdW5jdGlvbiBnZXRUZWxlbWV0cnlJRCgpe3JldHVybiBfX2F3YWl0ZXIkMSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCl7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQxMC5wcmV2PV9jb250ZXh0MTAubmV4dCl7Y2FzZSAwOnJldHVybiBfY29udGV4dDEwLmFicnVwdChcInJldHVyblwiLHVuZGVmaW5lZCk7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDEwLnN0b3AoKTt9fSxfY2FsbGVlMTApO30pKTt9LGdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYTpmdW5jdGlvbiBnZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKXtyZXR1cm4gX19hd2FpdGVyJDEodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MTEucHJldj1fY29udGV4dDExLm5leHQpe2Nhc2UgMDpyZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoXCJyZXR1cm5cIix7ZGZwX3RlbGVtZXRyeV9pZDp1bmRlZmluZWQsY2FwdGNoYV90b2tlbjp1bmRlZmluZWR9KTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO319LF9jYWxsZWUxMSk7fSkpO30scmV0cnlXaXRoQ2FwdGNoYUFuZERGUDpmdW5jdGlvbiByZXRyeVdpdGhDYXB0Y2hhQW5kREZQKCl7cmV0dXJuIF9fYXdhaXRlciQxKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKXtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDEyLnByZXY9X2NvbnRleHQxMi5uZXh0KXtjYXNlIDA6dGhyb3cgbmV3IEVycm9yKCdERlAgcHJvdGVjdGVkIGF1dGggaXMgZGlzYWJsZWQnKTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpO319LF9jYWxsZWUxMik7fSkpO319O307dmFyIEVycm9yTWFyc2hhbGxlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBFcnJvck1hcnNoYWxsZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFcnJvck1hcnNoYWxsZXIpO31fY3JlYXRlQ2xhc3MoRXJyb3JNYXJzaGFsbGVyLG51bGwsW3trZXk6XCJtYXJzaGFsbFwiLHZhbHVlOmZ1bmN0aW9uIG1hcnNoYWxsKGVycm9yKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGVycm9yKSx7bmFtZTplcnJvci5uYW1lLG1lc3NhZ2U6ZXJyb3IubWVzc2FnZSxzdGFjazplcnJvci5zdGFja30pO319LHtrZXk6XCJpbmZsYXRlXCIsdmFsdWU6ZnVuY3Rpb24gaW5mbGF0ZShFcnJvckNsYXNzLEVycm9yRGF0YSl7dmFyIGVycj1uZXcgRXJyb3JDbGFzcyhFcnJvckRhdGEpO09iamVjdC5hc3NpZ24oZXJyLEVycm9yRGF0YSk7T2JqZWN0LnNldFByb3RvdHlwZU9mKGVycixFcnJvckNsYXNzLnByb3RvdHlwZSk7cmV0dXJuIGVycjt9fSx7a2V5OlwidW5tYXJzaGFsbFwiLHZhbHVlOmZ1bmN0aW9uIHVubWFyc2hhbGwoZXJyb3Ipe2lmKCduYW1lJ2luIGVycm9yKXtzd2l0Y2goZXJyb3IubmFtZSl7Y2FzZSdTREtBUElVbnJlYWNoYWJsZUVycm9yJzpyZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoU0RLQVBJVW5yZWFjaGFibGVFcnJvcixlcnJvcik7Y2FzZSdTdHl0Y2hTREtTY2hlbWFFcnJvcic6cmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFN0eXRjaFNES1NjaGVtYUVycm9yLGVycm9yKTtjYXNlJ1N0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3InOnJldHVybiBFcnJvck1hcnNoYWxsZXIuaW5mbGF0ZShTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yLGVycm9yKTtjYXNlJ1N0eXRjaEFQSVNjaGVtYUVycm9yJzpyZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoU3R5dGNoQVBJU2NoZW1hRXJyb3IsZXJyb3IpO2Nhc2UnU3R5dGNoU0RLQVBJRXJyb3InOnJldHVybiBFcnJvck1hcnNoYWxsZXIuaW5mbGF0ZShTdHl0Y2hTREtBUElFcnJvcixlcnJvcik7Y2FzZSdTdHl0Y2hBUElFcnJvcic6cmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFN0eXRjaEFQSUVycm9yLGVycm9yKTtjYXNlJ1R5cGVFcnJvcic6cmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFR5cGVFcnJvcixlcnJvcik7Y2FzZSdTeW50YXhFcnJvcic6cmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFN5bnRheEVycm9yLGVycm9yKTtjYXNlJ1JlZmVyZW5jZUVycm9yJzpyZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoUmVmZXJlbmNlRXJyb3IsZXJyb3IpO2Nhc2UnUmFuZ2VFcnJvcic6cmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFJhbmdlRXJyb3IsZXJyb3IpO2Nhc2UnRXZhbEVycm9yJzpyZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoRXZhbEVycm9yLGVycm9yKTtjYXNlJ1VSSUVycm9yJzpyZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoVVJJRXJyb3IsZXJyb3IpO319cmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKEVycm9yLGVycm9yKTt9fV0pO3JldHVybiBFcnJvck1hcnNoYWxsZXI7fSgpO3ZhciBERUZBVUxUX01BWF9CQVRDSF9TSVpFPTE1O3ZhciBERUZBVUxUX0lOVEVSVkFMX0RVUkFUSU9OX01TPTgwMDt2YXIgRXZlbnRMb2dnZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRMb2dnZXIoYXJncyl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRXZlbnRMb2dnZXIpO3RoaXMubWF4QmF0Y2hTaXplPWFyZ3MubWF4QmF0Y2hTaXplO3RoaXMubG9nRXZlbnRVUkw9YXJncy5sb2dFdmVudFVSTDtzZXRJbnRlcnZhbCh0aGlzLmZsdXNoLmJpbmQodGhpcyksYXJncy5pbnRlcnZhbER1cmF0aW9uTXMpO3RoaXMuYmF0Y2g9W107fV9jcmVhdGVDbGFzcyhFdmVudExvZ2dlcixbe2tleTpcImxvZ0V2ZW50XCIsdmFsdWU6ZnVuY3Rpb24gbG9nRXZlbnQodGVsZW1ldHJ5LGV2ZW50KXt0aGlzLmJhdGNoLnB1c2goe3RlbGVtZXRyeTp0ZWxlbWV0cnksZXZlbnQ6ZXZlbnR9KTtpZih0aGlzLmJhdGNoLmxlbmd0aD49dGhpcy5tYXhCYXRjaFNpemUpe3RoaXMuZmx1c2goKTt9fX0se2tleTpcImZsdXNoXCIsdmFsdWU6ZnVuY3Rpb24gZmx1c2goKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKXt2YXIgYmF0Y2hUb1N1Ym1pdDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDEzLnByZXY9X2NvbnRleHQxMy5uZXh0KXtjYXNlIDA6aWYodGhpcy5iYXRjaC5sZW5ndGgpe19jb250ZXh0MTMubmV4dD0yO2JyZWFrO31yZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAyOmJhdGNoVG9TdWJtaXQ9dGhpcy5iYXRjaDt0aGlzLmJhdGNoPVtdO19jb250ZXh0MTMucHJldj00O19jb250ZXh0MTMubmV4dD03O3JldHVybiBmZXRjaCh0aGlzLmxvZ0V2ZW50VVJMLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeShiYXRjaFRvU3VibWl0KX0pO2Nhc2UgNzpfY29udGV4dDEzLm5leHQ9MTE7YnJlYWs7Y2FzZSA5Ol9jb250ZXh0MTMucHJldj05O19jb250ZXh0MTMudDA9X2NvbnRleHQxM1tcImNhdGNoXCJdKDQpO2Nhc2UgMTE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpO319LF9jYWxsZWUxMyx0aGlzLFtbNCw5XV0pO30pKTt9fV0pO3JldHVybiBFdmVudExvZ2dlcjt9KCk7dmFyIEVtYWlsU2VudFR5cGU7KGZ1bmN0aW9uKEVtYWlsU2VudFR5cGUpe0VtYWlsU2VudFR5cGVbXCJMb2dpbk9yQ3JlYXRlRU1MXCJdPVwibG9naW5fb3JfY3JlYXRlX2VtbFwiO0VtYWlsU2VudFR5cGVbXCJMb2dpbk9yQ3JlYXRlT1RQXCJdPVwibG9naW5fb3JfY3JlYXRlX290cFwiO0VtYWlsU2VudFR5cGVbXCJSZXNldFBhc3N3b3JkXCJdPVwicmVzZXRfcGFzc3dvcmRcIjt9KShFbWFpbFNlbnRUeXBlfHwoRW1haWxTZW50VHlwZT17fSkpO3ZhciBIZWFkbGVzc1VzZXJDbGllbnQ9LyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBIZWFkbGVzc1VzZXJDbGllbnQoX25ldHdvcmtDbGllbnQsX3N1YnNjcmlwdGlvblNlcnZpY2Upe3ZhciBfdGhpczM9dGhpcztfY2xhc3NDYWxsQ2hlY2sodGhpcyxIZWFkbGVzc1VzZXJDbGllbnQpO3RoaXMuX25ldHdvcmtDbGllbnQ9X25ldHdvcmtDbGllbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZT1fc3Vic2NyaXB0aW9uU2VydmljZTt0aGlzLmdldD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIkMShfdGhpczMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCl7dmFyIHJlc3AsdXNlcjtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDE0LnByZXY9X2NvbnRleHQxNC5uZXh0KXtjYXNlIDA6X2NvbnRleHQxNC5uZXh0PTI7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDonL3VzZXJzL21lJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byByZXRyaWV2ZSB1c2VyIGluZm8uJyxtZXRob2Q6J0dFVCd9KTtjYXNlIDI6cmVzcD1fY29udGV4dDE0LnNlbnQ7dXNlcj1yZW1vdmVSZXNwb25zZUNvbW1vbihyZXNwKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVVzZXIodXNlcik7cmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KFwicmV0dXJuXCIsdXNlcik7Y2FzZSA2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDE0LnN0b3AoKTt9fSxfY2FsbGVlMTQsdGhpcyk7fSkpO307dGhpcy5nZXRTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzMy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRVc2VyKCk7fTt0aGlzLmdldEluZm89ZnVuY3Rpb24oKXtyZXR1cm57dXNlcjpfdGhpczMuZ2V0U3luYygpLGZyb21DYWNoZTpfdGhpczMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0RnJvbUNhY2hlKCl9O307dGhpcy51cGRhdGU9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKXt2YXIgcmVzcCx1c2VyO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MTUucHJldj1fY29udGV4dDE1Lm5leHQpe2Nhc2UgMDp2YWxpZGF0ZSgnc3R5dGNoLnVzZXIudXBkYXRlJykuaXNPcHRpb25hbE9iamVjdCgndW50cnVzdGVkX21ldGFkYXRhJyxvcHRpb25zLnVudHJ1c3RlZF9tZXRhZGF0YSk7X2NvbnRleHQxNS5uZXh0PTM7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDonL3VzZXJzL21lJyxib2R5Om9wdGlvbnMsZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gdXBkYXRlIHVzZXIuJyxtZXRob2Q6J1BVVCd9KTtjYXNlIDM6cmVzcD1fY29udGV4dDE1LnNlbnQ7dXNlcj1yZW1vdmVSZXNwb25zZUNvbW1vbihyZXNwLl9fdXNlcik7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVVc2VyKHVzZXIpO3JldHVybiBfY29udGV4dDE1LmFicnVwdChcInJldHVyblwiLG9taXRVc2VyKHJlc3ApKTtjYXNlIDc6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpO319LF9jYWxsZWUxNSx0aGlzKTt9KSk7fTt0aGlzLmRlbGV0ZUVtYWlsPWZ1bmN0aW9uKGVtYWlsSWQpe3JldHVybiBfX2F3YWl0ZXIkMShfdGhpczMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCl7dmFyIHJlc3AsdXNlcjtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDE2LnByZXY9X2NvbnRleHQxNi5uZXh0KXtjYXNlIDA6X2NvbnRleHQxNi5uZXh0PTI7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDpcIi91c2Vycy9lbWFpbHMvXCIuY29uY2F0KGVtYWlsSWQpLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIGRlbGV0ZSBlbWFpbC4nLG1ldGhvZDonREVMRVRFJ30pO2Nhc2UgMjpyZXNwPV9jb250ZXh0MTYuc2VudDt1c2VyPXJlbW92ZVJlc3BvbnNlQ29tbW9uKHJlc3AuX191c2VyKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVVzZXIodXNlcik7cmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgNjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7fX0sX2NhbGxlZTE2LHRoaXMpO30pKTt9O3RoaXMuZGVsZXRlUGhvbmVOdW1iZXI9ZnVuY3Rpb24ocGhvbmVJZCl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKXt2YXIgcmVzcCx1c2VyO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MTcucHJldj1fY29udGV4dDE3Lm5leHQpe2Nhc2UgMDpfY29udGV4dDE3Lm5leHQ9MjtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOlwiL3VzZXJzL3Bob25lX251bWJlcnMvXCIuY29uY2F0KHBob25lSWQpLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIGRlbGV0ZSBwaG9uZSBudW1iZXIuJyxtZXRob2Q6J0RFTEVURSd9KTtjYXNlIDI6cmVzcD1fY29udGV4dDE3LnNlbnQ7dXNlcj1yZW1vdmVSZXNwb25zZUNvbW1vbihyZXNwLl9fdXNlcik7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVVc2VyKHVzZXIpO3JldHVybiBfY29udGV4dDE3LmFicnVwdChcInJldHVyblwiLG9taXRVc2VyKHJlc3ApKTtjYXNlIDY6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpO319LF9jYWxsZWUxNyx0aGlzKTt9KSk7fTt0aGlzLmRlbGV0ZVRPVFA9ZnVuY3Rpb24odG90cElkKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpe3ZhciByZXNwLHVzZXI7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQxOC5wcmV2PV9jb250ZXh0MTgubmV4dCl7Y2FzZSAwOl9jb250ZXh0MTgubmV4dD0yO3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6XCIvdXNlcnMvdG90cHMvXCIuY29uY2F0KHRvdHBJZCksZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gZGVsZXRlIFRPVFAuJyxtZXRob2Q6J0RFTEVURSd9KTtjYXNlIDI6cmVzcD1fY29udGV4dDE4LnNlbnQ7dXNlcj1yZW1vdmVSZXNwb25zZUNvbW1vbihyZXNwLl9fdXNlcik7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVVc2VyKHVzZXIpO3JldHVybiBfY29udGV4dDE4LmFicnVwdChcInJldHVyblwiLG9taXRVc2VyKHJlc3ApKTtjYXNlIDY6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTguc3RvcCgpO319LF9jYWxsZWUxOCx0aGlzKTt9KSk7fTt0aGlzLmRlbGV0ZU9BdXRoUmVnaXN0cmF0aW9uPWZ1bmN0aW9uKG9hdXRoVXNlclJlZ2lzdHJhdGlvbklkKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpe3ZhciByZXNwLHVzZXI7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQxOS5wcmV2PV9jb250ZXh0MTkubmV4dCl7Y2FzZSAwOl9jb250ZXh0MTkubmV4dD0yO3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6XCIvdXNlcnMvb2F1dGgvXCIuY29uY2F0KG9hdXRoVXNlclJlZ2lzdHJhdGlvbklkKSxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBkZWxldGUgT0F1dGggcmVnaXN0cmF0aW9uLicsbWV0aG9kOidERUxFVEUnfSk7Y2FzZSAyOnJlc3A9X2NvbnRleHQxOS5zZW50O3VzZXI9cmVtb3ZlUmVzcG9uc2VDb21tb24ocmVzcC5fX3VzZXIpO3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlVXNlcih1c2VyKTtyZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSA2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDE5LnN0b3AoKTt9fSxfY2FsbGVlMTksdGhpcyk7fSkpO307dGhpcy5kZWxldGVXZWJhdXRoblJlZ2lzdHJhdGlvbj1mdW5jdGlvbih3ZWJBdXRobklkKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpe3ZhciByZXNwLHVzZXI7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyMC5wcmV2PV9jb250ZXh0MjAubmV4dCl7Y2FzZSAwOl9jb250ZXh0MjAubmV4dD0yO3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6XCIvdXNlcnMvd2ViYXV0aG5fcmVnaXN0cmF0aW9ucy9cIi5jb25jYXQod2ViQXV0aG5JZCksZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gZGVsZXRlIFdlYkF1dGhuIHJlZ2lzdHJhdGlvbi4nLG1ldGhvZDonREVMRVRFJ30pO2Nhc2UgMjpyZXNwPV9jb250ZXh0MjAuc2VudDt1c2VyPXJlbW92ZVJlc3BvbnNlQ29tbW9uKHJlc3AuX191c2VyKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVVzZXIodXNlcik7cmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgNjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7fX0sX2NhbGxlZTIwLHRoaXMpO30pKTt9O3RoaXMuZGVsZXRlQmlvbWV0cmljUmVnaXN0cmF0aW9uPWZ1bmN0aW9uKGJpb21ldHJpY1JlZ2lzdHJhdGlvbklkKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpe3ZhciByZXNwLHVzZXI7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyMS5wcmV2PV9jb250ZXh0MjEubmV4dCl7Y2FzZSAwOl9jb250ZXh0MjEubmV4dD0yO3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6XCIvdXNlcnMvYmlvbWV0cmljX3JlZ2lzdHJhdGlvbnMvXCIuY29uY2F0KGJpb21ldHJpY1JlZ2lzdHJhdGlvbklkKSxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBkZWxldGUgQmlvbWV0cmljIHJlZ2lzdHJhdGlvbi4nLG1ldGhvZDonREVMRVRFJ30pO2Nhc2UgMjpyZXNwPV9jb250ZXh0MjEuc2VudDt1c2VyPXJlbW92ZVJlc3BvbnNlQ29tbW9uKHJlc3AuX191c2VyKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVVzZXIodXNlcik7cmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgNjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7fX0sX2NhbGxlZTIxLHRoaXMpO30pKTt9O3RoaXMub25DaGFuZ2U9ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciBsYXN0VmFsPV90aGlzMy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRVc2VyKCk7dmFyIGxpc3RlbmVyPWZ1bmN0aW9uIGxpc3RlbmVyKHN0YXRlKXt2YXIgX2E7aWYoKHN0YXRlPT09bnVsbHx8c3RhdGU9PT12b2lkIDA/dm9pZCAwOnN0YXRlLnVzZXIpIT09bGFzdFZhbCl7bGFzdFZhbD0oX2E9c3RhdGU9PT1udWxsfHxzdGF0ZT09PXZvaWQgMD92b2lkIDA6c3RhdGUudXNlcikhPT1udWxsJiZfYSE9PXZvaWQgMD9fYTpudWxsO2NhbGxiYWNrKGxhc3RWYWwpO319O3JldHVybiBfdGhpczMuX3N1YnNjcmlwdGlvblNlcnZpY2Uuc3Vic2NyaWJlVG9TdGF0ZShsaXN0ZW5lcik7fTt9KTt2YXIgSGVhZGxlc3NTZXNzaW9uQ2xpZW50PS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEhlYWRsZXNzU2Vzc2lvbkNsaWVudChfbmV0d29ya0NsaWVudCxfc3Vic2NyaXB0aW9uU2VydmljZSl7dmFyIF90aGlzND10aGlzO19jbGFzc0NhbGxDaGVjayh0aGlzLEhlYWRsZXNzU2Vzc2lvbkNsaWVudCk7dGhpcy5fbmV0d29ya0NsaWVudD1fbmV0d29ya0NsaWVudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPV9zdWJzY3JpcHRpb25TZXJ2aWNlO3RoaXMuZ2V0U3luYz1mdW5jdGlvbigpe3JldHVybiBfdGhpczQuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbigpO307dGhpcy5nZXRJbmZvPWZ1bmN0aW9uKCl7cmV0dXJue3Nlc3Npb246X3RoaXM0LmdldFN5bmMoKSxmcm9tQ2FjaGU6X3RoaXM0Ll9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldEZyb21DYWNoZSgpfTt9O3RoaXMub25DaGFuZ2U9ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciBsYXN0VmFsPV90aGlzNC5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRTZXNzaW9uKCk7dmFyIGxpc3RlbmVyPWZ1bmN0aW9uIGxpc3RlbmVyKHN0YXRlKXt2YXIgX2E7aWYoKHN0YXRlPT09bnVsbHx8c3RhdGU9PT12b2lkIDA/dm9pZCAwOnN0YXRlLnNlc3Npb24pIT09bGFzdFZhbCl7bGFzdFZhbD0oX2E9c3RhdGU9PT1udWxsfHxzdGF0ZT09PXZvaWQgMD92b2lkIDA6c3RhdGUuc2Vzc2lvbikhPT1udWxsJiZfYSE9PXZvaWQgMD9fYTpudWxsO2NhbGxiYWNrKGxhc3RWYWwpO319O3JldHVybiBfdGhpczQuX3N1YnNjcmlwdGlvblNlcnZpY2Uuc3Vic2NyaWJlVG9TdGF0ZShsaXN0ZW5lcik7fTt0aGlzLnJldm9rZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM0LHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpe3ZhciByZXNwO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MjIucHJldj1fY29udGV4dDIyLm5leHQpe2Nhc2UgMDpfY29udGV4dDIyLnByZXY9MDtfY29udGV4dDIyLm5leHQ9MztyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOlwiL3Nlc3Npb25zL3Jldm9rZVwiLGVycm9yTWVzc2FnZTonRXJyb3IgcmV2b2tpbmcgc2Vzc2lvbicsbWV0aG9kOidQT1NUJ30pO2Nhc2UgMzpyZXNwPV9jb250ZXh0MjIuc2VudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmRlc3Ryb3lTdGF0ZSgpO3JldHVybiBfY29udGV4dDIyLmFicnVwdChcInJldHVyblwiLHJlc3ApO2Nhc2UgODpfY29udGV4dDIyLnByZXY9ODtfY29udGV4dDIyLnQwPV9jb250ZXh0MjJbXCJjYXRjaFwiXSgwKTtpZighIShvcHRpb25zPT09bnVsbHx8b3B0aW9ucz09PXZvaWQgMD92b2lkIDA6b3B0aW9ucy5mb3JjZUNsZWFyKSl7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5kZXN0cm95U3RhdGUoKTt9ZWxzZSBpZihVTlJFQ09WRVJBQkxFX0VSUk9SX1RZUEVTLmluY2x1ZGVzKF9jb250ZXh0MjIudDAuZXJyb3JfdHlwZSkpe3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZGVzdHJveVN0YXRlKCk7fXRocm93IF9jb250ZXh0MjIudDA7Y2FzZSAxMjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7fX0sX2NhbGxlZTIyLHRoaXMsW1swLDhdXSk7fSkpO307dGhpcy5hdXRoZW50aWNhdGU9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzNCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKXt2YXIgX3RoaXM1PXRoaXM7dmFyIGluaXRpYWxTZXNzaW9uLGlzU2Vzc2lvblN0YWxlLHJlcXVlc3RCb2R5LHJlc3A7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMyl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyMy5wcmV2PV9jb250ZXh0MjMubmV4dCl7Y2FzZSAwOmluaXRpYWxTZXNzaW9uPXRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbigpO2lzU2Vzc2lvblN0YWxlPWZ1bmN0aW9uIGlzU2Vzc2lvblN0YWxlKCl7dmFyIF9hO3JldHVybihpbml0aWFsU2Vzc2lvbj09PW51bGx8fGluaXRpYWxTZXNzaW9uPT09dm9pZCAwP3ZvaWQgMDppbml0aWFsU2Vzc2lvbi5zZXNzaW9uX2lkKSE9PSgoX2E9X3RoaXM1Ll9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldFNlc3Npb24oKSk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Euc2Vzc2lvbl9pZCk7fTtfY29udGV4dDIzLnByZXY9MjtyZXF1ZXN0Qm9keT17c2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOm9wdGlvbnM9PT1udWxsfHxvcHRpb25zPT09dm9pZCAwP3ZvaWQgMDpvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlc307X2NvbnRleHQyMy5uZXh0PTY7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDonL3Nlc3Npb25zL2F1dGhlbnRpY2F0ZScsYm9keTpyZXF1ZXN0Qm9keSxlcnJvck1lc3NhZ2U6J0Vycm9yIGF1dGhlbnRpY2F0aW5nIHNlc3Npb24nLG1ldGhvZDonUE9TVCd9KTtjYXNlIDY6cmVzcD1fY29udGV4dDIzLnNlbnQ7aWYoIWlzU2Vzc2lvblN0YWxlKCkpe19jb250ZXh0MjMubmV4dD05O2JyZWFrO31yZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLmF1dGhlbnRpY2F0ZShvcHRpb25zKSk7Y2FzZSA5OnRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOntzZXNzaW9uOnJlc3Auc2Vzc2lvbix1c2VyOnJlc3AudXNlcn0sc2Vzc2lvbl90b2tlbjpyZXNwLnNlc3Npb25fdG9rZW4sc2Vzc2lvbl9qd3Q6cmVzcC5zZXNzaW9uX2p3dCxpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjpudWxsfSk7cmV0dXJuIF9jb250ZXh0MjMuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgMTM6X2NvbnRleHQyMy5wcmV2PTEzO19jb250ZXh0MjMudDA9X2NvbnRleHQyM1tcImNhdGNoXCJdKDIpO2lmKCFpc1Nlc3Npb25TdGFsZSgpKXtfY29udGV4dDIzLm5leHQ9MTc7YnJlYWs7fXJldHVybiBfY29udGV4dDIzLmFicnVwdChcInJldHVyblwiLHRoaXMuYXV0aGVudGljYXRlKG9wdGlvbnMpKTtjYXNlIDE3OmlmKFVOUkVDT1ZFUkFCTEVfRVJST1JfVFlQRVMuaW5jbHVkZXMoX2NvbnRleHQyMy50MC5lcnJvcl90eXBlKSl7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5kZXN0cm95U2Vzc2lvbigpO310aHJvdyBfY29udGV4dDIzLnQwO2Nhc2UgMTk6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpO319LF9jYWxsZWUyMyx0aGlzLFtbMiwxM11dKTt9KSk7fTt9X2NyZWF0ZUNsYXNzKEhlYWRsZXNzU2Vzc2lvbkNsaWVudCxbe2tleTpcImdldFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uIGdldFRva2Vucygpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldFRva2VucygpO319LHtrZXk6XCJ1cGRhdGVTZXNzaW9uXCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbih0b2tlbnMpe3ZhciBfYTt2YWxpZGF0ZSgnc3R5dGNoLnNlc3Npb24udXBkYXRlU2Vzc2lvbicpLmlzU3RyaW5nKCdzZXNzaW9uX3Rva2VuJyx0b2tlbnMuc2Vzc2lvbl90b2tlbikuaXNPcHRpb25hbFN0cmluZygnc2Vzc2lvbl9qd3QnLChfYT10b2tlbnMuc2Vzc2lvbl9qd3QpIT09bnVsbCYmX2EhPT12b2lkIDA/X2E6dW5kZWZpbmVkKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVRva2Vucyh0b2tlbnMpO319XSk7cmV0dXJuIEhlYWRsZXNzU2Vzc2lvbkNsaWVudDt9KCk7dmFyIERlZmF1bHREeW5hbWljQ29uZmlnJDM9UHJvbWlzZS5yZXNvbHZlKHtwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M6ZmFsc2V9KTt2YXIgSGVhZGxlc3NNYWdpY0xpbmtzQ2xpZW50PS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEhlYWRsZXNzTWFnaWNMaW5rc0NsaWVudChfbmV0d29ya0NsaWVudCxfc3Vic2NyaXB0aW9uU2VydmljZSxfcGtjZU1hbmFnZXIsX3Bhc3N3b3JkUmVzZXRQS0NFTWFuYWdlcil7dmFyIF90aGlzNj10aGlzO3ZhciBfY29uZmlnPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XTpEZWZhdWx0RHluYW1pY0NvbmZpZyQzO3ZhciBkZnBQcm90ZWN0ZWRBdXRoPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XTpEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlcigpO19jbGFzc0NhbGxDaGVjayh0aGlzLEhlYWRsZXNzTWFnaWNMaW5rc0NsaWVudCk7dGhpcy5fbmV0d29ya0NsaWVudD1fbmV0d29ya0NsaWVudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPV9zdWJzY3JpcHRpb25TZXJ2aWNlO3RoaXMuX3BrY2VNYW5hZ2VyPV9wa2NlTWFuYWdlcjt0aGlzLl9wYXNzd29yZFJlc2V0UEtDRU1hbmFnZXI9X3Bhc3N3b3JkUmVzZXRQS0NFTWFuYWdlcjt0aGlzLl9jb25maWc9X2NvbmZpZzt0aGlzLmRmcFByb3RlY3RlZEF1dGg9ZGZwUHJvdGVjdGVkQXV0aDt0aGlzLmVtYWlsPXtsb2dpbk9yQ3JlYXRlOmZ1bmN0aW9uIGxvZ2luT3JDcmVhdGUoZW1haWwpe3ZhciBvcHRpb25zPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM2LHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpe3ZhciBfeWllbGQkdGhpcyRfY29uZmlnLHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcyxjb2RlX2NoYWxsZW5nZSxfeWllbGQkdGhpcyRkZnBQcm90ZWMsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuLHJlcXVlc3RCb2R5O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MjQucHJldj1fY29udGV4dDI0Lm5leHQpe2Nhc2UgMDpfY29udGV4dDI0Lm5leHQ9MjtyZXR1cm4gdGhpcy5fY29uZmlnO2Nhc2UgMjpfeWllbGQkdGhpcyRfY29uZmlnPV9jb250ZXh0MjQuc2VudDtwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M9X3lpZWxkJHRoaXMkX2NvbmZpZy5wa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M7Y29kZV9jaGFsbGVuZ2U9dW5kZWZpbmVkO2lmKCFwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3Mpe19jb250ZXh0MjQubmV4dD05O2JyZWFrO31fY29udGV4dDI0Lm5leHQ9ODtyZXR1cm4gdGhpcy5nZXRDb2RlQ2hhbGxlbmdlKCk7Y2FzZSA4OmNvZGVfY2hhbGxlbmdlPV9jb250ZXh0MjQuc2VudDtjYXNlIDk6X2NvbnRleHQyNC5uZXh0PTExO3JldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7Y2FzZSAxMTpfeWllbGQkdGhpcyRkZnBQcm90ZWM9X2NvbnRleHQyNC5zZW50O2RmcF90ZWxlbWV0cnlfaWQ9X3lpZWxkJHRoaXMkZGZwUHJvdGVjLmRmcF90ZWxlbWV0cnlfaWQ7Y2FwdGNoYV90b2tlbj1feWllbGQkdGhpcyRkZnBQcm90ZWMuY2FwdGNoYV90b2tlbjtyZXF1ZXN0Qm9keT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sb3B0aW9ucykse2VtYWlsOmVtYWlsLGNvZGVfY2hhbGxlbmdlOmNvZGVfY2hhbGxlbmdlLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbixkZnBfdGVsZW1ldHJ5X2lkOmRmcF90ZWxlbWV0cnlfaWR9KTtyZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHt1cmw6Jy9tYWdpY19saW5rcy9lbWFpbC9sb2dpbl9vcl9jcmVhdGUnLGJvZHk6cmVxdWVzdEJvZHksZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gc2VuZCBtYWdpYyBsaW5rJyxtZXRob2Q6J1BPU1QnLHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KSk7Y2FzZSAxNjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7fX0sX2NhbGxlZTI0LHRoaXMpO30pKTt9LHNlbmQ6ZnVuY3Rpb24gc2VuZChlbWFpbCl7dmFyIG9wdGlvbnM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnt9O3JldHVybiBfX2F3YWl0ZXIkMShfdGhpczYsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCl7dmFyIF95aWVsZCR0aGlzJF9jb25maWcyLHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcyxjb2RlX2NoYWxsZW5nZSxfeWllbGQkdGhpcyRkZnBQcm90ZWMyLGRmcF90ZWxlbWV0cnlfaWQsY2FwdGNoYV90b2tlbixyZXF1ZXN0Qm9keSxpc0xvZ2dlZEluLGVuZHBvaW50O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MjUucHJldj1fY29udGV4dDI1Lm5leHQpe2Nhc2UgMDpfY29udGV4dDI1Lm5leHQ9MjtyZXR1cm4gdGhpcy5fY29uZmlnO2Nhc2UgMjpfeWllbGQkdGhpcyRfY29uZmlnMj1fY29udGV4dDI1LnNlbnQ7cGtjZVJlcXVpcmVkRm9yRW1haWxNYWdpY0xpbmtzPV95aWVsZCR0aGlzJF9jb25maWcyLnBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcztjb2RlX2NoYWxsZW5nZT11bmRlZmluZWQ7aWYoIXBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcyl7X2NvbnRleHQyNS5uZXh0PTk7YnJlYWs7fV9jb250ZXh0MjUubmV4dD04O3JldHVybiB0aGlzLmdldENvZGVDaGFsbGVuZ2UoKTtjYXNlIDg6Y29kZV9jaGFsbGVuZ2U9X2NvbnRleHQyNS5zZW50O2Nhc2UgOTpfY29udGV4dDI1Lm5leHQ9MTE7cmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtjYXNlIDExOl95aWVsZCR0aGlzJGRmcFByb3RlYzI9X2NvbnRleHQyNS5zZW50O2RmcF90ZWxlbWV0cnlfaWQ9X3lpZWxkJHRoaXMkZGZwUHJvdGVjMi5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMi5jYXB0Y2hhX3Rva2VuO3JlcXVlc3RCb2R5PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvcHRpb25zKSx7ZW1haWw6ZW1haWwsY29kZV9jaGFsbGVuZ2U6Y29kZV9jaGFsbGVuZ2UsY2FwdGNoYV90b2tlbjpjYXB0Y2hhX3Rva2VuLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZH0pO2lzTG9nZ2VkSW49ISF0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldFNlc3Npb24oKTtlbmRwb2ludD1pc0xvZ2dlZEluPycvbWFnaWNfbGlua3MvZW1haWwvc2VuZC9zZWNvbmRhcnknOicvbWFnaWNfbGlua3MvZW1haWwvc2VuZC9wcmltYXJ5JztyZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHt1cmw6ZW5kcG9pbnQsYm9keTpyZXF1ZXN0Qm9keSxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBzZW5kIG1hZ2ljIGxpbmsnLG1ldGhvZDonUE9TVCcscmV0cnlDYWxsYmFjazp0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUH0pKTtjYXNlIDE4OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDI1LnN0b3AoKTt9fSxfY2FsbGVlMjUsdGhpcyk7fSkpO319O3RoaXMuYXV0aGVudGljYXRlPWZ1bmN0aW9uKHRva2VuLG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMShfdGhpczYsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KCl7dmFyIHBhc3N3b3JkUmVzZXRQS1BhaXIscmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDI2LnByZXY9X2NvbnRleHQyNi5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5tYWdpY0xpbmtzLmF1dGhlbnRpY2F0ZScpLmlzU3RyaW5nKCdUb2tlbicsdG9rZW4pLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKTtfY29udGV4dDI2Lm5leHQ9MztyZXR1cm4gdGhpcy5fcGFzc3dvcmRSZXNldFBLQ0VNYW5hZ2VyLmdldFBLUGFpcigpO2Nhc2UgMzpwYXNzd29yZFJlc2V0UEtQYWlyPV9jb250ZXh0MjYuc2VudDtyZXNwPW51bGw7aWYoIShwYXNzd29yZFJlc2V0UEtQYWlyPT09bnVsbHx8cGFzc3dvcmRSZXNldFBLUGFpcj09PXZvaWQgMD92b2lkIDA6cGFzc3dvcmRSZXNldFBLUGFpci5jb2RlX3ZlcmlmaWVyKSl7X2NvbnRleHQyNi5uZXh0PTE5O2JyZWFrO31fY29udGV4dDI2LnByZXY9NjtfY29udGV4dDI2Lm5leHQ9OTtyZXR1cm4gdGhpcy5oYW5kbGVQS0NFRm9yQXV0aGVudGljYXRlKHRoaXMuX3Bhc3N3b3JkUmVzZXRQS0NFTWFuYWdlcixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sb3B0aW9ucykse3Rva2VuOnRva2VufSkpO2Nhc2UgOTpyZXNwPV9jb250ZXh0MjYuc2VudDtfY29udGV4dDI2Lm5leHQ9MTk7YnJlYWs7Y2FzZSAxMjpfY29udGV4dDI2LnByZXY9MTI7X2NvbnRleHQyNi50MD1fY29udGV4dDI2W1wiY2F0Y2hcIl0oNik7aWYoIV9jb250ZXh0MjYudDAubWVzc2FnZS5pbmNsdWRlcygncGtjZScpKXtfY29udGV4dDI2Lm5leHQ9MTg7YnJlYWs7fWNvbnNvbGUubG9nKCdBdXRoZW50aWNhdGUgd2l0aCBwYXNzd29yZHMgcGtjZSBuYW1lc3BhY2UgZmFpbGVkLiBGYWxsaW5nIGJhY2sgdG8gYXV0aGVudGljYXRlIHdpdGggbWFnaWNfbGlua3MgbmFtZXNwYWNlLicpO19jb250ZXh0MjYubmV4dD0xOTticmVhaztjYXNlIDE4OnRocm93IF9jb250ZXh0MjYudDA7Y2FzZSAxOTppZihyZXNwKXtfY29udGV4dDI2Lm5leHQ9MjM7YnJlYWs7fV9jb250ZXh0MjYubmV4dD0yMjtyZXR1cm4gdGhpcy5oYW5kbGVQS0NFRm9yQXV0aGVudGljYXRlKHRoaXMuX3BrY2VNYW5hZ2VyLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvcHRpb25zKSx7dG9rZW46dG9rZW59KSk7Y2FzZSAyMjpyZXNwPV9jb250ZXh0MjYuc2VudDtjYXNlIDIzOnRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOntzZXNzaW9uOnJlc3Auc2Vzc2lvbix1c2VyOnJlc3AudXNlcn0sc2Vzc2lvbl90b2tlbjpyZXNwLnNlc3Npb25fdG9rZW4sc2Vzc2lvbl9qd3Q6cmVzcC5zZXNzaW9uX2p3dCxpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjpudWxsfSk7cmV0dXJuIF9jb250ZXh0MjYuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgMjU6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpO319LF9jYWxsZWUyNix0aGlzLFtbNiwxMl1dKTt9KSk7fTt9X2NyZWF0ZUNsYXNzKEhlYWRsZXNzTWFnaWNMaW5rc0NsaWVudCxbe2tleTpcImdldENvZGVDaGFsbGVuZ2VcIix2YWx1ZTpmdW5jdGlvbiBnZXRDb2RlQ2hhbGxlbmdlKCl7cmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KCl7dmFyIGtleVBhaXI7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNyl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyNy5wcmV2PV9jb250ZXh0MjcubmV4dCl7Y2FzZSAwOl9jb250ZXh0MjcubmV4dD0yO3JldHVybiB0aGlzLl9wa2NlTWFuYWdlci5nZXRQS1BhaXIoKTtjYXNlIDI6a2V5UGFpcj1fY29udGV4dDI3LnNlbnQ7aWYoIWtleVBhaXIpe19jb250ZXh0MjcubmV4dD01O2JyZWFrO31yZXR1cm4gX2NvbnRleHQyNy5hYnJ1cHQoXCJyZXR1cm5cIixrZXlQYWlyLmNvZGVfY2hhbGxlbmdlKTtjYXNlIDU6X2NvbnRleHQyNy5uZXh0PTc7cmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLnN0YXJ0UEtDRVRyYW5zYWN0aW9uKCk7Y2FzZSA3OmtleVBhaXI9X2NvbnRleHQyNy5zZW50O3JldHVybiBfY29udGV4dDI3LmFicnVwdChcInJldHVyblwiLGtleVBhaXIuY29kZV9jaGFsbGVuZ2UpO2Nhc2UgOTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7fX0sX2NhbGxlZTI3LHRoaXMpO30pKTt9fSx7a2V5OlwiaGFuZGxlUEtDRUZvckF1dGhlbnRpY2F0ZVwiLHZhbHVlOmZ1bmN0aW9uIGhhbmRsZVBLQ0VGb3JBdXRoZW50aWNhdGUocGtjZU1hbmFnZXIsZGF0YSl7cmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI4KCl7dmFyIHBrUGFpcixyZXF1ZXN0Qm9keSxyZXNwO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0Mjgpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MjgucHJldj1fY29udGV4dDI4Lm5leHQpe2Nhc2UgMDpfY29udGV4dDI4Lm5leHQ9MjtyZXR1cm4gcGtjZU1hbmFnZXIuZ2V0UEtQYWlyKCk7Y2FzZSAyOnBrUGFpcj1fY29udGV4dDI4LnNlbnQ7cmVxdWVzdEJvZHk9T2JqZWN0LmFzc2lnbih7Y29kZV92ZXJpZmllcjpwa1BhaXI9PT1udWxsfHxwa1BhaXI9PT12b2lkIDA/dm9pZCAwOnBrUGFpci5jb2RlX3ZlcmlmaWVyfSxkYXRhKTtfY29udGV4dDI4Lm5leHQ9NjtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOicvbWFnaWNfbGlua3MvYXV0aGVudGljYXRlJyxib2R5OnJlcXVlc3RCb2R5LGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSB0b2tlbi4nLG1ldGhvZDonUE9TVCd9KTtjYXNlIDY6cmVzcD1fY29udGV4dDI4LnNlbnQ7cGtjZU1hbmFnZXIuY2xlYXJQS1BhaXIoKTtyZXR1cm4gX2NvbnRleHQyOC5hYnJ1cHQoXCJyZXR1cm5cIixyZXNwKTtjYXNlIDk6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Mjguc3RvcCgpO319LF9jYWxsZWUyOCx0aGlzKTt9KSk7fX1dKTtyZXR1cm4gSGVhZGxlc3NNYWdpY0xpbmtzQ2xpZW50O30oKTt2YXIgSGVhZGxlc3NPVFBDbGllbnQ9LyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBIZWFkbGVzc09UUENsaWVudChfbmV0d29ya0NsaWVudCxfc3Vic2NyaXB0aW9uU2VydmljZSl7dmFyIF90aGlzNz10aGlzO3ZhciBleGVjdXRlUmVjYXB0Y2hhPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTt9O3ZhciBkZnBQcm90ZWN0ZWRBdXRoPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlcigpO19jbGFzc0NhbGxDaGVjayh0aGlzLEhlYWRsZXNzT1RQQ2xpZW50KTt0aGlzLl9uZXR3b3JrQ2xpZW50PV9uZXR3b3JrQ2xpZW50O3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2U9X3N1YnNjcmlwdGlvblNlcnZpY2U7dGhpcy5leGVjdXRlUmVjYXB0Y2hhPWV4ZWN1dGVSZWNhcHRjaGE7dGhpcy5kZnBQcm90ZWN0ZWRBdXRoPWRmcFByb3RlY3RlZEF1dGg7dGhpcy5zbXM9e2xvZ2luT3JDcmVhdGU6ZnVuY3Rpb24gbG9naW5PckNyZWF0ZShwaG9uZV9udW1iZXIsb3B0aW9ucyl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzNyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkoKXt2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMyxkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scmVxdWVzdEJvZHk7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOSQoX2NvbnRleHQyOSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyOS5wcmV2PV9jb250ZXh0MjkubmV4dCl7Y2FzZSAwOl9jb250ZXh0MjkubmV4dD0yO3JldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7Y2FzZSAyOl95aWVsZCR0aGlzJGRmcFByb3RlYzM9X2NvbnRleHQyOS5zZW50O2RmcF90ZWxlbWV0cnlfaWQ9X3lpZWxkJHRoaXMkZGZwUHJvdGVjMy5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMy5jYXB0Y2hhX3Rva2VuO3JlcXVlc3RCb2R5PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvcHRpb25zKSx7cGhvbmVfbnVtYmVyOnBob25lX251bWJlcixjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW4sZGZwX3RlbGVtZXRyeV9pZDpkZnBfdGVsZW1ldHJ5X2lkfSk7cmV0dXJuIF9jb250ZXh0MjkuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvb3Rwcy9zbXMvbG9naW5fb3JfY3JlYXRlJyxib2R5OnJlcXVlc3RCb2R5LGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIHNlbmQgb25lIHRpbWUgcGFzc2NvZGUnLG1ldGhvZDonUE9TVCcscmV0cnlDYWxsYmFjazp0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUH0pKTtjYXNlIDc6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpO319LF9jYWxsZWUyOSx0aGlzKTt9KSk7fSxzZW5kOmZ1bmN0aW9uIHNlbmQocGhvbmVfbnVtYmVyLG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMShfdGhpczcsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMwKCl7dmFyIF95aWVsZCR0aGlzJGRmcFByb3RlYzQsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuLHJlcXVlc3RCb2R5LGlzTG9nZ2VkSW4sZW5kcG9pbnQ7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMCQoX2NvbnRleHQzMCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQzMC5wcmV2PV9jb250ZXh0MzAubmV4dCl7Y2FzZSAwOl9jb250ZXh0MzAubmV4dD0yO3JldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7Y2FzZSAyOl95aWVsZCR0aGlzJGRmcFByb3RlYzQ9X2NvbnRleHQzMC5zZW50O2RmcF90ZWxlbWV0cnlfaWQ9X3lpZWxkJHRoaXMkZGZwUHJvdGVjNC5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjNC5jYXB0Y2hhX3Rva2VuO3JlcXVlc3RCb2R5PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvcHRpb25zKSx7cGhvbmVfbnVtYmVyOnBob25lX251bWJlcixjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW4sZGZwX3RlbGVtZXRyeV9pZDpkZnBfdGVsZW1ldHJ5X2lkfSk7aXNMb2dnZWRJbj0hIXRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbigpO2VuZHBvaW50PWlzTG9nZ2VkSW4/Jy9vdHBzL3Ntcy9zZW5kL3NlY29uZGFyeSc6Jy9vdHBzL3Ntcy9zZW5kL3ByaW1hcnknO3JldHVybiBfY29udGV4dDMwLmFicnVwdChcInJldHVyblwiLHRoaXMuX25ldHdvcmtDbGllbnQucmV0cmlhYmxlRmV0Y2hTREsoe3VybDplbmRwb2ludCxib2R5OnJlcXVlc3RCb2R5LGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIHNlbmQgb25lIHRpbWUgcGFzc2NvZGUnLG1ldGhvZDonUE9TVCcscmV0cnlDYWxsYmFjazp0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUH0pKTtjYXNlIDk6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MzAuc3RvcCgpO319LF9jYWxsZWUzMCx0aGlzKTt9KSk7fX07dGhpcy53aGF0c2FwcD17bG9naW5PckNyZWF0ZTpmdW5jdGlvbiBsb2dpbk9yQ3JlYXRlKHBob25lX251bWJlcixvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM3LHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMSgpe3ZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWM1LGRmcF90ZWxlbWV0cnlfaWQsY2FwdGNoYV90b2tlbixyZXF1ZXN0Qm9keTtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMxJChfY29udGV4dDMxKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDMxLnByZXY9X2NvbnRleHQzMS5uZXh0KXtjYXNlIDA6X2NvbnRleHQzMS5uZXh0PTI7cmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtjYXNlIDI6X3lpZWxkJHRoaXMkZGZwUHJvdGVjNT1fY29udGV4dDMxLnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWM1LmRmcF90ZWxlbWV0cnlfaWQ7Y2FwdGNoYV90b2tlbj1feWllbGQkdGhpcyRkZnBQcm90ZWM1LmNhcHRjaGFfdG9rZW47cmVxdWVzdEJvZHk9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG9wdGlvbnMpLHtwaG9uZV9udW1iZXI6cGhvbmVfbnVtYmVyLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW59KTtyZXR1cm4gX2NvbnRleHQzMS5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHt1cmw6Jy9vdHBzL3doYXRzYXBwL2xvZ2luX29yX2NyZWF0ZScsYm9keTpyZXF1ZXN0Qm9keSxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBzZW5kIG9uZSB0aW1lIHBhc3Njb2RlJyxtZXRob2Q6J1BPU1QnLHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KSk7Y2FzZSA3OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDMxLnN0b3AoKTt9fSxfY2FsbGVlMzEsdGhpcyk7fSkpO30sc2VuZDpmdW5jdGlvbiBzZW5kKHBob25lX251bWJlcixvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM3LHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMigpe3ZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWM2LGRmcF90ZWxlbWV0cnlfaWQsY2FwdGNoYV90b2tlbixyZXF1ZXN0Qm9keSxpc0xvZ2dlZEluLGVuZHBvaW50O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMzIkKF9jb250ZXh0MzIpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MzIucHJldj1fY29udGV4dDMyLm5leHQpe2Nhc2UgMDpfY29udGV4dDMyLm5leHQ9MjtyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMjpfeWllbGQkdGhpcyRkZnBQcm90ZWM2PV9jb250ZXh0MzIuc2VudDtkZnBfdGVsZW1ldHJ5X2lkPV95aWVsZCR0aGlzJGRmcFByb3RlYzYuZGZwX3RlbGVtZXRyeV9pZDtjYXB0Y2hhX3Rva2VuPV95aWVsZCR0aGlzJGRmcFByb3RlYzYuY2FwdGNoYV90b2tlbjtyZXF1ZXN0Qm9keT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sb3B0aW9ucykse3Bob25lX251bWJlcjpwaG9uZV9udW1iZXIsY2FwdGNoYV90b2tlbjpjYXB0Y2hhX3Rva2VuLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZH0pO2lzTG9nZ2VkSW49ISF0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldFNlc3Npb24oKTtlbmRwb2ludD1pc0xvZ2dlZEluPycvb3Rwcy93aGF0c2FwcC9zZW5kL3NlY29uZGFyeSc6Jy9vdHBzL3doYXRzYXBwL3NlbmQvcHJpbWFyeSc7cmV0dXJuIF9jb250ZXh0MzIuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOmVuZHBvaW50LGJvZHk6cmVxdWVzdEJvZHksZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gc2VuZCBvbmUgdGltZSBwYXNzY29kZScsbWV0aG9kOidQT1NUJyxyZXRyeUNhbGxiYWNrOnRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQfSkpO2Nhc2UgOTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7fX0sX2NhbGxlZTMyLHRoaXMpO30pKTt9fTt0aGlzLmVtYWlsPXtsb2dpbk9yQ3JlYXRlOmZ1bmN0aW9uIGxvZ2luT3JDcmVhdGUoZW1haWwsb3B0aW9ucyl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzNyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMzMoKXt2YXIgY2FwdGNoYV90b2tlbixyZXF1ZXN0Qm9keTtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMzJChfY29udGV4dDMzKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDMzLnByZXY9X2NvbnRleHQzMy5uZXh0KXtjYXNlIDA6X2NvbnRleHQzMy5uZXh0PTI7cmV0dXJuIHRoaXMuZXhlY3V0ZVJlY2FwdGNoYSgpO2Nhc2UgMjpjYXB0Y2hhX3Rva2VuPV9jb250ZXh0MzMuc2VudDtyZXF1ZXN0Qm9keT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sb3B0aW9ucykse2VtYWlsOmVtYWlsLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbn0pO3JldHVybiBfY29udGV4dDMzLmFicnVwdChcInJldHVyblwiLHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDonL290cHMvZW1haWwvbG9naW5fb3JfY3JlYXRlJyxib2R5OnJlcXVlc3RCb2R5LGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIHNlbmQgb25lIHRpbWUgcGFzc2NvZGUnLG1ldGhvZDonUE9TVCd9KSk7Y2FzZSA1OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDMzLnN0b3AoKTt9fSxfY2FsbGVlMzMsdGhpcyk7fSkpO30sc2VuZDpmdW5jdGlvbiBzZW5kKGVtYWlsLG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMShfdGhpczcsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KCl7dmFyIGNhcHRjaGFfdG9rZW4scmVxdWVzdEJvZHksaXNMb2dnZWRJbixlbmRwb2ludDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM0JChfY29udGV4dDM0KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDM0LnByZXY9X2NvbnRleHQzNC5uZXh0KXtjYXNlIDA6X2NvbnRleHQzNC5uZXh0PTI7cmV0dXJuIHRoaXMuZXhlY3V0ZVJlY2FwdGNoYSgpO2Nhc2UgMjpjYXB0Y2hhX3Rva2VuPV9jb250ZXh0MzQuc2VudDtyZXF1ZXN0Qm9keT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sb3B0aW9ucykse2VtYWlsOmVtYWlsLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbn0pO2lzTG9nZ2VkSW49ISF0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldFNlc3Npb24oKTtlbmRwb2ludD1pc0xvZ2dlZEluPycvb3Rwcy9lbWFpbC9zZW5kL3NlY29uZGFyeSc6Jy9vdHBzL2VtYWlsL3NlbmQvcHJpbWFyeSc7cmV0dXJuIF9jb250ZXh0MzQuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOmVuZHBvaW50LGJvZHk6cmVxdWVzdEJvZHksZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gc2VuZCBvbmUgdGltZSBwYXNzY29kZScsbWV0aG9kOidQT1NUJ30pKTtjYXNlIDc6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpO319LF9jYWxsZWUzNCx0aGlzKTt9KSk7fX07dGhpcy5hdXRoZW50aWNhdGU9ZnVuY3Rpb24oY29kZSxtZXRob2RfaWQsb3B0aW9ucyl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzNyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMzUoKXt2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjNyxkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scmVxdWVzdEJvZHkscmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM1JChfY29udGV4dDM1KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDM1LnByZXY9X2NvbnRleHQzNS5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5vdHBzLmF1dGhlbnRpY2F0ZScpLmlzU3RyaW5nKCdDb2RlJyxjb2RlKS5pc051bWJlcignc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzJyxvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcyk7X2NvbnRleHQzNS5uZXh0PTM7cmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtjYXNlIDM6X3lpZWxkJHRoaXMkZGZwUHJvdGVjNz1fY29udGV4dDM1LnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWM3LmRmcF90ZWxlbWV0cnlfaWQ7Y2FwdGNoYV90b2tlbj1feWllbGQkdGhpcyRkZnBQcm90ZWM3LmNhcHRjaGFfdG9rZW47cmVxdWVzdEJvZHk9T2JqZWN0LmFzc2lnbih7dG9rZW46Y29kZSxtZXRob2RfaWQ6bWV0aG9kX2lkLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW59LG9wdGlvbnMpO19jb250ZXh0MzUubmV4dD05O3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHt1cmw6Jy9vdHBzL2F1dGhlbnRpY2F0ZScsYm9keTpyZXF1ZXN0Qm9keSxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBhdXRoZW50aWNhdGUgdG9rZW4uJyxtZXRob2Q6J1BPU1QnLHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KTtjYXNlIDk6cmVzcD1fY29udGV4dDM1LnNlbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7c3RhdGU6e3Nlc3Npb246cmVzcC5zZXNzaW9uLHVzZXI6cmVzcC51c2VyfSxzZXNzaW9uX3Rva2VuOnJlc3Auc2Vzc2lvbl90b2tlbixzZXNzaW9uX2p3dDpyZXNwLnNlc3Npb25fand0LGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOm51bGx9KTtyZXR1cm4gX2NvbnRleHQzNS5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSAxMjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQzNS5zdG9wKCk7fX0sX2NhbGxlZTM1LHRoaXMpO30pKTt9O30pO3ZhciBIZWFkbGVzc09BdXRoQ2xpZW50JDE9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gSGVhZGxlc3NPQXV0aENsaWVudChfbmV0d29ya0NsaWVudCxfc3Vic2NyaXB0aW9uU2VydmljZSxfcGtjZU1hbmFnZXIsX2R5bmFtaWNDb25maWcsX2NvbmZpZyl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSGVhZGxlc3NPQXV0aENsaWVudCk7dGhpcy5fbmV0d29ya0NsaWVudD1fbmV0d29ya0NsaWVudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPV9zdWJzY3JpcHRpb25TZXJ2aWNlO3RoaXMuX3BrY2VNYW5hZ2VyPV9wa2NlTWFuYWdlcjt0aGlzLl9keW5hbWljQ29uZmlnPV9keW5hbWljQ29uZmlnO3RoaXMuX2NvbmZpZz1fY29uZmlnO3RoaXMuZ29vZ2xlPXtzdGFydDp0aGlzLnN0YXJ0T0F1dGhGbG93KE9BdXRoUHJvdmlkZXJzLkdvb2dsZSl9O3RoaXMuYXBwbGU9e3N0YXJ0OnRoaXMuc3RhcnRPQXV0aEZsb3coT0F1dGhQcm92aWRlcnMuQXBwbGUpfTt0aGlzLm1pY3Jvc29mdD17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5NaWNyb3NvZnQpfTt0aGlzLmdpdGh1Yj17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5HaXRodWIpfTt0aGlzLmdpdGxhYj17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5HaXRMYWIpfTt0aGlzLmZhY2Vib29rPXtzdGFydDp0aGlzLnN0YXJ0T0F1dGhGbG93KE9BdXRoUHJvdmlkZXJzLkZhY2Vib29rKX07dGhpcy5kaXNjb3JkPXtzdGFydDp0aGlzLnN0YXJ0T0F1dGhGbG93KE9BdXRoUHJvdmlkZXJzLkRpc2NvcmQpfTt0aGlzLnNhbGVzZm9yY2U9e3N0YXJ0OnRoaXMuc3RhcnRPQXV0aEZsb3coT0F1dGhQcm92aWRlcnMuU2FsZXNmb3JjZSl9O3RoaXMuc2xhY2s9e3N0YXJ0OnRoaXMuc3RhcnRPQXV0aEZsb3coT0F1dGhQcm92aWRlcnMuU2xhY2spfTt0aGlzLmFtYXpvbj17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5BbWF6b24pfTt0aGlzLmJpdGJ1Y2tldD17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5CaXRidWNrZXQpfTt0aGlzLmxpbmtlZGluPXtzdGFydDp0aGlzLnN0YXJ0T0F1dGhGbG93KE9BdXRoUHJvdmlkZXJzLkxpbmtlZEluKX07dGhpcy5jb2luYmFzZT17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5Db2luYmFzZSl9O3RoaXMudHdpdGNoPXtzdGFydDp0aGlzLnN0YXJ0T0F1dGhGbG93KE9BdXRoUHJvdmlkZXJzLlR3aXRjaCl9O3RoaXMudHdpdHRlcj17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5Ud2l0dGVyKX07dGhpcy50aWt0b2s9e3N0YXJ0OnRoaXMuc3RhcnRPQXV0aEZsb3coT0F1dGhQcm92aWRlcnMuVGlrVG9rKX07dGhpcy5zbmFwY2hhdD17c3RhcnQ6dGhpcy5zdGFydE9BdXRoRmxvdyhPQXV0aFByb3ZpZGVycy5TbmFwY2hhdCl9O3RoaXMuZmlnbWE9e3N0YXJ0OnRoaXMuc3RhcnRPQXV0aEZsb3coT0F1dGhQcm92aWRlcnMuRmlnbWEpfTt0aGlzLnlhaG9vPXtzdGFydDp0aGlzLnN0YXJ0T0F1dGhGbG93KE9BdXRoUHJvdmlkZXJzLllhaG9vKX07fV9jcmVhdGVDbGFzcyhIZWFkbGVzc09BdXRoQ2xpZW50LFt7a2V5OlwiYXV0aGVudGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24gYXV0aGVudGljYXRlKHRva2VuLG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNigpe3ZhciBrZXlQYWlyLHJlc3A7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNiQoX2NvbnRleHQzNil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQzNi5wcmV2PV9jb250ZXh0MzYubmV4dCl7Y2FzZSAwOnZhbGlkYXRlKCdzdHl0Y2gub2F1dGguYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ1Rva2VuJyx0b2tlbikuaXNOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsb3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMpO19jb250ZXh0MzYubmV4dD0zO3JldHVybiB0aGlzLl9wa2NlTWFuYWdlci5nZXRQS1BhaXIoKTtjYXNlIDM6a2V5UGFpcj1fY29udGV4dDM2LnNlbnQ7aWYoIWtleVBhaXIpe2xvZ2dlci53YXJuKCdObyBjb2RlIHZlcmlmaWVyIGZvdW5kIGluIGxvY2FsIHN0b3JhZ2UgZm9yIE9BdXRoIGZsb3cuXFxuJysnQ29uc2lkZXIgdXNpbmcgc3R5dGNoLm9hdXRoLiRwcm92aWRlci5zdGFydCgpIHRvIGFkZCBQS0NFIHRvIHlvdXIgT0F1dGggZmxvd3MgZm9yIGFkZGVkIHNlY3VyaXR5LlxcbicrJ1NlZSBodHRwczovL3N0eXRjaC5jb20vZG9jcy9vYXV0aCNndWlkZXNfcGtjZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTt9X2NvbnRleHQzNi5uZXh0PTc7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDonL29hdXRoL2F1dGhlbnRpY2F0ZScsbWV0aG9kOidQT1NUJyxib2R5Ok9iamVjdC5hc3NpZ24oe3Rva2VuOnRva2VuLGNvZGVfdmVyaWZpZXI6a2V5UGFpcj09PW51bGx8fGtleVBhaXI9PT12b2lkIDA/dm9pZCAwOmtleVBhaXIuY29kZV92ZXJpZmllcn0sb3B0aW9ucyksZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gYXV0aGVudGljYXRlIHRva2VuJ30pO2Nhc2UgNzpyZXNwPV9jb250ZXh0MzYuc2VudDt0aGlzLl9wa2NlTWFuYWdlci5jbGVhclBLUGFpcigpO3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOntzZXNzaW9uOnJlc3Auc2Vzc2lvbix1c2VyOnJlbW92ZVJlc3BvbnNlQ29tbW9uKHJlc3AuX191c2VyKX0sc2Vzc2lvbl90b2tlbjpyZXNwLnNlc3Npb25fdG9rZW4sc2Vzc2lvbl9qd3Q6cmVzcC5zZXNzaW9uX2p3dCxpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjpudWxsfSk7cmV0dXJuIF9jb250ZXh0MzYuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgMTE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MzYuc3RvcCgpO319LF9jYWxsZWUzNix0aGlzKTt9KSk7fX0se2tleTpcImdldEJhc2VBcGlVcmxcIix2YWx1ZTpmdW5jdGlvbiBnZXRCYXNlQXBpVXJsKCl7cmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KCl7dmFyIF95aWVsZCR0aGlzJF9keW5hbWljQyxjbmFtZURvbWFpbjtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM3JChfY29udGV4dDM3KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDM3LnByZXY9X2NvbnRleHQzNy5uZXh0KXtjYXNlIDA6X2NvbnRleHQzNy5uZXh0PTI7cmV0dXJuIHRoaXMuX2R5bmFtaWNDb25maWc7Y2FzZSAyOl95aWVsZCR0aGlzJF9keW5hbWljQz1fY29udGV4dDM3LnNlbnQ7Y25hbWVEb21haW49X3lpZWxkJHRoaXMkX2R5bmFtaWNDLmNuYW1lRG9tYWluO2lmKCFjbmFtZURvbWFpbil7X2NvbnRleHQzNy5uZXh0PTY7YnJlYWs7fXJldHVybiBfY29udGV4dDM3LmFicnVwdChcInJldHVyblwiLFwiaHR0cHM6Ly9cIi5jb25jYXQoY25hbWVEb21haW4pKTtjYXNlIDY6aWYoIWlzVGVzdFB1YmxpY1Rva2VuKHRoaXMuX2NvbmZpZy5wdWJsaWNUb2tlbikpe19jb250ZXh0MzcubmV4dD04O2JyZWFrO31yZXR1cm4gX2NvbnRleHQzNy5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLl9jb25maWcudGVzdEFQSVVSTCk7Y2FzZSA4OnJldHVybiBfY29udGV4dDM3LmFicnVwdChcInJldHVyblwiLHRoaXMuX2NvbmZpZy5saXZlQVBJVVJMKTtjYXNlIDk6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Mzcuc3RvcCgpO319LF9jYWxsZWUzNyx0aGlzKTt9KSk7fX0se2tleTpcInN0YXJ0T0F1dGhGbG93XCIsdmFsdWU6ZnVuY3Rpb24gc3RhcnRPQXV0aEZsb3cocHJvdmlkZXJUeXBlKXt2YXIgX3RoaXM4PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIF9yZWYzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTp7fSxsb2dpbl9yZWRpcmVjdF91cmw9X3JlZjMubG9naW5fcmVkaXJlY3RfdXJsLHNpZ251cF9yZWRpcmVjdF91cmw9X3JlZjMuc2lnbnVwX3JlZGlyZWN0X3VybCxjdXN0b21fc2NvcGVzPV9yZWYzLmN1c3RvbV9zY29wZXMscHJvdmlkZXJfcGFyYW1zPV9yZWYzLnByb3ZpZGVyX3BhcmFtcztyZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM4LHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzOCgpe3ZhciBfeWllbGQkdGhpcyRfZHluYW1pY0MyLGNuYW1lRG9tYWluLHBrY2VSZXF1aXJlZEZvck9BdXRoLGJhc2VVUkwsb2F1dGhVcmwsa2V5UGFpcixrZXk7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOCQoX2NvbnRleHQzOCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQzOC5wcmV2PV9jb250ZXh0MzgubmV4dCl7Y2FzZSAwOl9jb250ZXh0MzgubmV4dD0yO3JldHVybiB0aGlzLl9keW5hbWljQ29uZmlnO2Nhc2UgMjpfeWllbGQkdGhpcyRfZHluYW1pY0MyPV9jb250ZXh0Mzguc2VudDtjbmFtZURvbWFpbj1feWllbGQkdGhpcyRfZHluYW1pY0MyLmNuYW1lRG9tYWluO3BrY2VSZXF1aXJlZEZvck9BdXRoPV95aWVsZCR0aGlzJF9keW5hbWljQzIucGtjZVJlcXVpcmVkRm9yT0F1dGg7X2NvbnRleHQzOC5uZXh0PTc7cmV0dXJuIHRoaXMuZ2V0QmFzZUFwaVVybCgpO2Nhc2UgNzpiYXNlVVJMPV9jb250ZXh0Mzguc2VudDt0aGlzLl9uZXR3b3JrQ2xpZW50LmxvZ0V2ZW50KHtuYW1lOidzdGFydF9vYXV0aF9mbG93JyxkZXRhaWxzOntwcm92aWRlcl90eXBlOnByb3ZpZGVyVHlwZSxjdXN0b21fc2NvcGVzOmN1c3RvbV9zY29wZXMsY25hbWVfZG9tYWluOmNuYW1lRG9tYWluLHBrY2U6cGtjZVJlcXVpcmVkRm9yT0F1dGgscHJvdmlkZXJfcGFyYW1zOnByb3ZpZGVyX3BhcmFtc319KTtvYXV0aFVybD1uZXcgVVJMKFwiXCIuY29uY2F0KGJhc2VVUkwsXCIvdjEvcHVibGljL29hdXRoL1wiKS5jb25jYXQocHJvdmlkZXJUeXBlLFwiL3N0YXJ0XCIpKTtvYXV0aFVybC5zZWFyY2hQYXJhbXMuc2V0KCdwdWJsaWNfdG9rZW4nLHRoaXMuX2NvbmZpZy5wdWJsaWNUb2tlbik7aWYoIXBrY2VSZXF1aXJlZEZvck9BdXRoKXtfY29udGV4dDM4Lm5leHQ9MTg7YnJlYWs7fV9jb250ZXh0MzgubmV4dD0xNDtyZXR1cm4gdGhpcy5fcGtjZU1hbmFnZXIuc3RhcnRQS0NFVHJhbnNhY3Rpb24oKTtjYXNlIDE0OmtleVBhaXI9X2NvbnRleHQzOC5zZW50O29hdXRoVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NvZGVfY2hhbGxlbmdlJyxrZXlQYWlyLmNvZGVfY2hhbGxlbmdlKTtfY29udGV4dDM4Lm5leHQ9MTk7YnJlYWs7Y2FzZSAxODp0aGlzLl9wa2NlTWFuYWdlci5jbGVhclBLUGFpcigpO2Nhc2UgMTk6aWYoY3VzdG9tX3Njb3Blcyl7dmFsaWRhdGUoJ3N0YXJ0T0F1dGhGbG93JykuaXNTdHJpbmdBcnJheSgnY3VzdG9tX3Njb3BlcycsY3VzdG9tX3Njb3Blcyk7b2F1dGhVcmwuc2VhcmNoUGFyYW1zLnNldCgnY3VzdG9tX3Njb3BlcycsY3VzdG9tX3Njb3Blcy5qb2luKCcgJykpO31pZihwcm92aWRlcl9wYXJhbXMpe3ZhbGlkYXRlKCdzdGFydE9BdXRoRmxvdycpLmlzT3B0aW9uYWxPYmplY3QoJ3Byb3ZpZGVyX3BhcmFtcycscHJvdmlkZXJfcGFyYW1zKTtmb3Ioa2V5IGluIHByb3ZpZGVyX3BhcmFtcyl7b2F1dGhVcmwuc2VhcmNoUGFyYW1zLnNldCgncHJvdmlkZXJfJytrZXkscHJvdmlkZXJfcGFyYW1zW2tleV0pO319bG9naW5fcmVkaXJlY3RfdXJsJiZvYXV0aFVybC5zZWFyY2hQYXJhbXMuc2V0KCdsb2dpbl9yZWRpcmVjdF91cmwnLGxvZ2luX3JlZGlyZWN0X3VybCk7c2lnbnVwX3JlZGlyZWN0X3VybCYmb2F1dGhVcmwuc2VhcmNoUGFyYW1zLnNldCgnc2lnbnVwX3JlZGlyZWN0X3VybCcsc2lnbnVwX3JlZGlyZWN0X3VybCk7d2luZG93LmxvY2F0aW9uLmhyZWY9b2F1dGhVcmwudG9TdHJpbmcoKTtjYXNlIDI0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDM4LnN0b3AoKTt9fSxfY2FsbGVlMzgsdGhpcyk7fSkpO307fX1dKTtyZXR1cm4gSGVhZGxlc3NPQXV0aENsaWVudDt9KCk7dmFyIEhlYWRsZXNzQ3J5cHRvV2FsbGV0Q2xpZW50PS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEhlYWRsZXNzQ3J5cHRvV2FsbGV0Q2xpZW50KF9uZXR3b3JrQ2xpZW50LF9zdWJzY3JpcHRpb25TZXJ2aWNlKXt2YXIgZXhlY3V0ZVJlY2FwdGNoYT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7fTt2YXIgZGZwUHJvdGVjdGVkQXV0aD1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106RGlzYWJsZWRERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIoKTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxIZWFkbGVzc0NyeXB0b1dhbGxldENsaWVudCk7dGhpcy5fbmV0d29ya0NsaWVudD1fbmV0d29ya0NsaWVudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPV9zdWJzY3JpcHRpb25TZXJ2aWNlO3RoaXMuZXhlY3V0ZVJlY2FwdGNoYT1leGVjdXRlUmVjYXB0Y2hhO3RoaXMuZGZwUHJvdGVjdGVkQXV0aD1kZnBQcm90ZWN0ZWRBdXRoO31fY3JlYXRlQ2xhc3MoSGVhZGxlc3NDcnlwdG9XYWxsZXRDbGllbnQsW3trZXk6XCJhdXRoZW50aWNhdGVTdGFydFwiLHZhbHVlOmZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVN0YXJ0KG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzOSgpe3ZhciBpc0xvZ2dlZEluLGNhcHRjaGFfdG9rZW4sZW5kcG9pbnQ7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOSQoX2NvbnRleHQzOSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQzOS5wcmV2PV9jb250ZXh0MzkubmV4dCl7Y2FzZSAwOnZhbGlkYXRlKCdzdHl0Y2guY3J5cHRvV2FsbGV0cy5hdXRoZW50aWNhdGVTdGFydCcpLmlzU3RyaW5nKCdjcnlwdG9fd2FsbGV0X2FkZHJlc3MnLG9wdGlvbnMuY3J5cHRvX3dhbGxldF9hZGRyZXNzKS5pc1N0cmluZygnY3J5cHRvX3dhbGxldF90eXBlJyxvcHRpb25zLmNyeXB0b193YWxsZXRfdHlwZSk7aXNMb2dnZWRJbj0hIXRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbigpO19jb250ZXh0MzkubmV4dD00O3JldHVybiB0aGlzLmV4ZWN1dGVSZWNhcHRjaGEoKTtjYXNlIDQ6Y2FwdGNoYV90b2tlbj1fY29udGV4dDM5LnNlbnQ7ZW5kcG9pbnQ9aXNMb2dnZWRJbj8nL2NyeXB0b193YWxsZXRzL2F1dGhlbnRpY2F0ZS9zdGFydC9zZWNvbmRhcnknOicvY3J5cHRvX3dhbGxldHMvYXV0aGVudGljYXRlL3N0YXJ0L3ByaW1hcnknO3JldHVybiBfY29udGV4dDM5LmFicnVwdChcInJldHVyblwiLHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDplbmRwb2ludCxtZXRob2Q6J1BPU1QnLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIHN0YXJ0IHdhbGxldCBhdXRoZW50aWNhdGlvbi4nLGJvZHk6e2NyeXB0b193YWxsZXRfYWRkcmVzczpvcHRpb25zLmNyeXB0b193YWxsZXRfYWRkcmVzcyxjcnlwdG9fd2FsbGV0X3R5cGU6b3B0aW9ucy5jcnlwdG9fd2FsbGV0X3R5cGUsY2FwdGNoYV90b2tlbjpjYXB0Y2hhX3Rva2VufX0pKTtjYXNlIDc6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Mzkuc3RvcCgpO319LF9jYWxsZWUzOSx0aGlzKTt9KSk7fX0se2tleTpcImF1dGhlbnRpY2F0ZVwiLHZhbHVlOmZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNDAoKXt2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjOCxkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQwJChfY29udGV4dDQwKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDQwLnByZXY9X2NvbnRleHQ0MC5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5jcnlwdG9XYWxsZXRzLmF1dGhlbnRpY2F0ZScpLmlzU3RyaW5nKCdzaWduYXR1cmUnLG9wdGlvbnMuc2lnbmF0dXJlKS5pc1N0cmluZygnY3J5cHRvX3dhbGxldF9hZGRyZXNzJyxvcHRpb25zLmNyeXB0b193YWxsZXRfYWRkcmVzcykuaXNTdHJpbmcoJ2NyeXB0b193YWxsZXRfdHlwZScsb3B0aW9ucy5jcnlwdG9fd2FsbGV0X3R5cGUpLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKTtfY29udGV4dDQwLm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWM4PV9jb250ZXh0NDAuc2VudDtkZnBfdGVsZW1ldHJ5X2lkPV95aWVsZCR0aGlzJGRmcFByb3RlYzguZGZwX3RlbGVtZXRyeV9pZDtjYXB0Y2hhX3Rva2VuPV95aWVsZCR0aGlzJGRmcFByb3RlYzguY2FwdGNoYV90b2tlbjtfY29udGV4dDQwLm5leHQ9ODtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvY3J5cHRvX3dhbGxldHMvYXV0aGVudGljYXRlJyxtZXRob2Q6J1BPU1QnLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZS4nLGJvZHk6e3Nlc3Npb25fZHVyYXRpb25fbWludXRlczpvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcyxjcnlwdG9fd2FsbGV0X2FkZHJlc3M6b3B0aW9ucy5jcnlwdG9fd2FsbGV0X2FkZHJlc3MsY3J5cHRvX3dhbGxldF90eXBlOm9wdGlvbnMuY3J5cHRvX3dhbGxldF90eXBlLHNpZ25hdHVyZTpvcHRpb25zLnNpZ25hdHVyZSxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW4sZGZwX3RlbGVtZXRyeV9pZDpkZnBfdGVsZW1ldHJ5X2lkfSxyZXRyeUNhbGxiYWNrOnRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQfSk7Y2FzZSA4OnJlc3A9X2NvbnRleHQ0MC5zZW50O3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOntzZXNzaW9uOnJlc3Auc2Vzc2lvbix1c2VyOnJlbW92ZVJlc3BvbnNlQ29tbW9uKHJlc3AuX191c2VyKX0sc2Vzc2lvbl90b2tlbjpyZXNwLnNlc3Npb25fdG9rZW4sc2Vzc2lvbl9qd3Q6cmVzcC5zZXNzaW9uX2p3dCxpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjpudWxsfSk7cmV0dXJuIF9jb250ZXh0NDAuYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIocmVzcCkpO2Nhc2UgMTE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NDAuc3RvcCgpO319LF9jYWxsZWU0MCx0aGlzKTt9KSk7fX1dKTtyZXR1cm4gSGVhZGxlc3NDcnlwdG9XYWxsZXRDbGllbnQ7fSgpO3ZhciBIZWFkbGVzc1RPVFBDbGllbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gSGVhZGxlc3NUT1RQQ2xpZW50KF9uZXR3b3JrQ2xpZW50LF9zdWJzY3JpcHRpb25TZXJ2aWNlLGRmcFByb3RlY3RlZEF1dGgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEhlYWRsZXNzVE9UUENsaWVudCk7dGhpcy5fbmV0d29ya0NsaWVudD1fbmV0d29ya0NsaWVudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPV9zdWJzY3JpcHRpb25TZXJ2aWNlO3RoaXMuZGZwUHJvdGVjdGVkQXV0aD1kZnBQcm90ZWN0ZWRBdXRoO31fY3JlYXRlQ2xhc3MoSGVhZGxlc3NUT1RQQ2xpZW50LFt7a2V5OlwiY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24gY3JlYXRlKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MSgpe3ZhciByZXNwO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNDEkKF9jb250ZXh0NDEpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NDEucHJldj1fY29udGV4dDQxLm5leHQpe2Nhc2UgMDp2YWxpZGF0ZSgnc3R5dGNoLnRvdHBzLmNyZWF0ZScpLmlzTnVtYmVyKCdleHBpcmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuZXhwaXJhdGlvbl9taW51dGVzKTtfY29udGV4dDQxLm5leHQ9MztyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOicvdG90cHMnLG1ldGhvZDonUE9TVCcsZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gY3JlYXRlIFRPVFAnLGJvZHk6e2V4cGlyYXRpb25fbWludXRlczpvcHRpb25zLmV4cGlyYXRpb25fbWludXRlc319KTtjYXNlIDM6cmVzcD1fY29udGV4dDQxLnNlbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVVc2VyKHJlc3AuX191c2VyKTtyZXR1cm4gX2NvbnRleHQ0MS5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSA2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDQxLnN0b3AoKTt9fSxfY2FsbGVlNDEsdGhpcyk7fSkpO319LHtrZXk6XCJhdXRoZW50aWNhdGVcIix2YWx1ZTpmdW5jdGlvbiBhdXRoZW50aWNhdGUob3B0aW9ucyl7cmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQyKCl7dmFyIF95aWVsZCR0aGlzJGRmcFByb3RlYzksZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuLHJlc3A7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0MiQoX2NvbnRleHQ0Mil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ0Mi5wcmV2PV9jb250ZXh0NDIubmV4dCl7Y2FzZSAwOnZhbGlkYXRlKCdzdHl0Y2gudG90cHMuYXV0aGVudGljYXRlJykuaXNOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsb3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMpLmlzU3RyaW5nKCd0b3RwX2NvZGUnLG9wdGlvbnMudG90cF9jb2RlKTtfY29udGV4dDQyLm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWM5PV9jb250ZXh0NDIuc2VudDtkZnBfdGVsZW1ldHJ5X2lkPV95aWVsZCR0aGlzJGRmcFByb3RlYzkuZGZwX3RlbGVtZXRyeV9pZDtjYXB0Y2hhX3Rva2VuPV95aWVsZCR0aGlzJGRmcFByb3RlYzkuY2FwdGNoYV90b2tlbjtfY29udGV4dDQyLm5leHQ9ODtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvdG90cHMvYXV0aGVudGljYXRlJyxtZXRob2Q6J1BPU1QnLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSBUT1RQJyxib2R5OntzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6b3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMsdG90cF9jb2RlOm9wdGlvbnMudG90cF9jb2RlLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbixkZnBfdGVsZW1ldHJ5X2lkOmRmcF90ZWxlbWV0cnlfaWR9LHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KTtjYXNlIDg6cmVzcD1fY29udGV4dDQyLnNlbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7c3RhdGU6e3Nlc3Npb246cmVzcC5zZXNzaW9uLHVzZXI6cmVzcC5fX3VzZXJ9LHNlc3Npb25fdG9rZW46cmVzcC5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OnJlc3Auc2Vzc2lvbl9qd3QsaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46bnVsbH0pO3JldHVybiBfY29udGV4dDQyLmFicnVwdChcInJldHVyblwiLG9taXRVc2VyKHJlc3ApKTtjYXNlIDExOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDQyLnN0b3AoKTt9fSxfY2FsbGVlNDIsdGhpcyk7fSkpO319LHtrZXk6XCJyZWNvdmVyeUNvZGVzXCIsdmFsdWU6ZnVuY3Rpb24gcmVjb3ZlcnlDb2Rlcygpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0Mygpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNDMkKF9jb250ZXh0NDMpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NDMucHJldj1fY29udGV4dDQzLm5leHQpe2Nhc2UgMDpyZXR1cm4gX2NvbnRleHQ0My5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6Jy90b3Rwcy9yZWNvdmVyeV9jb2RlcycsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byByZXRyaWV2ZSByZWNvdmVyeSBjb2Rlcyd9KSk7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDQzLnN0b3AoKTt9fSxfY2FsbGVlNDMsdGhpcyk7fSkpO319LHtrZXk6XCJyZWNvdmVyXCIsdmFsdWU6ZnVuY3Rpb24gcmVjb3ZlcihvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNDQoKXt2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMTAsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuLHJlc3A7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NCQoX2NvbnRleHQ0NCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ0NC5wcmV2PV9jb250ZXh0NDQubmV4dCl7Y2FzZSAwOnZhbGlkYXRlKCdzdHl0Y2gudG90cHMucmVjb3ZlcicpLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKS5pc1N0cmluZygncmVjb3ZlcnlfY29kZScsb3B0aW9ucy5yZWNvdmVyeV9jb2RlKTtfY29udGV4dDQ0Lm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWMxMD1fY29udGV4dDQ0LnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWMxMC5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTAuY2FwdGNoYV90b2tlbjtfY29udGV4dDQ0Lm5leHQ9ODtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvdG90cHMvcmVjb3ZlcicsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byByZWNvdmVyIFRPVFAnLGJvZHk6e3Nlc3Npb25fZHVyYXRpb25fbWludXRlczpvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcyxyZWNvdmVyeV9jb2RlOm9wdGlvbnMucmVjb3ZlcnlfY29kZSxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW4sZGZwX3RlbGVtZXRyeV9pZDpkZnBfdGVsZW1ldHJ5X2lkfSxyZXRyeUNhbGxiYWNrOnRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQfSk7Y2FzZSA4OnJlc3A9X2NvbnRleHQ0NC5zZW50O3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOntzZXNzaW9uOnJlc3Auc2Vzc2lvbix1c2VyOnJlc3AuX191c2VyfSxzZXNzaW9uX3Rva2VuOnJlc3Auc2Vzc2lvbl90b2tlbixzZXNzaW9uX2p3dDpyZXNwLnNlc3Npb25fand0LGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOm51bGx9KTtyZXR1cm4gX2NvbnRleHQ0NC5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSAxMTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ0NC5zdG9wKCk7fX0sX2NhbGxlZTQ0LHRoaXMpO30pKTt9fV0pO3JldHVybiBIZWFkbGVzc1RPVFBDbGllbnQ7fSgpO2Z1bmN0aW9uIGJhc2U2NHVybFRvQnVmZmVyKGJhc2V1cmw2NFN0cmluZyl7dmFyIHBhZGRpbmc9XCI9PVwiLnNsaWNlKDAsKDQtYmFzZXVybDY0U3RyaW5nLmxlbmd0aCU0KSU0KTt2YXIgYmFzZTY0U3RyaW5nPWJhc2V1cmw2NFN0cmluZy5yZXBsYWNlKC8tL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIikrcGFkZGluZzt2YXIgc3RyPWF0b2IoYmFzZTY0U3RyaW5nKTt2YXIgYnVmZmVyPW5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoKTt2YXIgYnl0ZVZpZXc9bmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtmb3IodmFyIF9pPTA7X2k8c3RyLmxlbmd0aDtfaSsrKXtieXRlVmlld1tfaV09c3RyLmNoYXJDb2RlQXQoX2kpO31yZXR1cm4gYnVmZmVyO31mdW5jdGlvbiBidWZmZXJUb0Jhc2U2NHVybChidWZmZXIpe3ZhciBieXRlVmlldz1uZXcgVWludDhBcnJheShidWZmZXIpO3ZhciBzdHI9XCJcIjt2YXIgX2l0ZXJhdG9yMj1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihieXRlVmlldyksX3N0ZXAyO3RyeXtmb3IoX2l0ZXJhdG9yMi5zKCk7IShfc3RlcDI9X2l0ZXJhdG9yMi5uKCkpLmRvbmU7KXt2YXIgY2hhckNvZGU9X3N0ZXAyLnZhbHVlO3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7fX1jYXRjaChlcnIpe19pdGVyYXRvcjIuZShlcnIpO31maW5hbGx5e19pdGVyYXRvcjIuZigpO312YXIgYmFzZTY0U3RyaW5nPWJ0b2Eoc3RyKTt2YXIgYmFzZTY0dXJsU3RyaW5nPWJhc2U2NFN0cmluZy5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpLnJlcGxhY2UoLz0vZyxcIlwiKTtyZXR1cm4gYmFzZTY0dXJsU3RyaW5nO312YXIgY29weVZhbHVlPVwiY29weVwiO3ZhciBjb252ZXJ0VmFsdWU9XCJjb252ZXJ0XCI7ZnVuY3Rpb24gY29udmVydChjb252ZXJzaW9uRm4sc2NoZW1hMixpbnB1dCl7aWYoc2NoZW1hMj09PWNvcHlWYWx1ZSl7cmV0dXJuIGlucHV0O31pZihzY2hlbWEyPT09Y29udmVydFZhbHVlKXtyZXR1cm4gY29udmVyc2lvbkZuKGlucHV0KTt9aWYoc2NoZW1hMiBpbnN0YW5jZW9mIEFycmF5KXtyZXR1cm4gaW5wdXQubWFwKGZ1bmN0aW9uKHYpe3JldHVybiBjb252ZXJ0KGNvbnZlcnNpb25GbixzY2hlbWEyWzBdLHYpO30pO31pZihzY2hlbWEyIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgb3V0cHV0PXt9O2Zvcih2YXIgX2kyPTAsX09iamVjdCRlbnRyaWVzPU9iamVjdC5lbnRyaWVzKHNjaGVtYTIpO19pMjxfT2JqZWN0JGVudHJpZXMubGVuZ3RoO19pMisrKXt2YXIgX09iamVjdCRlbnRyaWVzJF9pPV9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaTJdLDIpLGtleT1fT2JqZWN0JGVudHJpZXMkX2lbMF0sc2NoZW1hRmllbGQ9X09iamVjdCRlbnRyaWVzJF9pWzFdO2lmKHNjaGVtYUZpZWxkLmRlcml2ZSl7dmFyIHY9c2NoZW1hRmllbGQuZGVyaXZlKGlucHV0KTtpZih2IT09dm9pZCAwKXtpbnB1dFtrZXldPXY7fX1pZighKGtleSBpbiBpbnB1dCkpe2lmKHNjaGVtYUZpZWxkLnJlcXVpcmVkKXt0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGtleTogXCIuY29uY2F0KGtleSkpO31jb250aW51ZTt9aWYoaW5wdXRba2V5XT09bnVsbCl7b3V0cHV0W2tleV09bnVsbDtjb250aW51ZTt9b3V0cHV0W2tleV09Y29udmVydChjb252ZXJzaW9uRm4sc2NoZW1hRmllbGQuc2NoZW1hLGlucHV0W2tleV0pO31yZXR1cm4gb3V0cHV0O319ZnVuY3Rpb24gZGVyaXZlZChzY2hlbWEyLGRlcml2ZSl7cmV0dXJue3JlcXVpcmVkOnRydWUsc2NoZW1hOnNjaGVtYTIsZGVyaXZlOmRlcml2ZX07fWZ1bmN0aW9uIHJlcXVpcmVkKHNjaGVtYTIpe3JldHVybntyZXF1aXJlZDp0cnVlLHNjaGVtYTpzY2hlbWEyfTt9ZnVuY3Rpb24gb3B0aW9uYWwoc2NoZW1hMil7cmV0dXJue3JlcXVpcmVkOmZhbHNlLHNjaGVtYTpzY2hlbWEyfTt9dmFyIHB1YmxpY0tleUNyZWRlbnRpYWxEZXNjcmlwdG9yU2NoZW1hPXt0eXBlOnJlcXVpcmVkKGNvcHlWYWx1ZSksaWQ6cmVxdWlyZWQoY29udmVydFZhbHVlKSx0cmFuc3BvcnRzOm9wdGlvbmFsKGNvcHlWYWx1ZSl9O3ZhciBzaW1wbGlmaWVkRXh0ZW5zaW9uc1NjaGVtYT17YXBwaWQ6b3B0aW9uYWwoY29weVZhbHVlKSxhcHBpZEV4Y2x1ZGU6b3B0aW9uYWwoY29weVZhbHVlKSxjcmVkUHJvcHM6b3B0aW9uYWwoY29weVZhbHVlKX07dmFyIHNpbXBsaWZpZWRDbGllbnRFeHRlbnNpb25SZXN1bHRzU2NoZW1hPXthcHBpZDpvcHRpb25hbChjb3B5VmFsdWUpLGFwcGlkRXhjbHVkZTpvcHRpb25hbChjb3B5VmFsdWUpLGNyZWRQcm9wczpvcHRpb25hbChjb3B5VmFsdWUpfTt2YXIgY3JlZGVudGlhbENyZWF0aW9uT3B0aW9ucz17cHVibGljS2V5OnJlcXVpcmVkKHtycDpyZXF1aXJlZChjb3B5VmFsdWUpLHVzZXI6cmVxdWlyZWQoe2lkOnJlcXVpcmVkKGNvbnZlcnRWYWx1ZSksbmFtZTpyZXF1aXJlZChjb3B5VmFsdWUpLGRpc3BsYXlOYW1lOnJlcXVpcmVkKGNvcHlWYWx1ZSl9KSxjaGFsbGVuZ2U6cmVxdWlyZWQoY29udmVydFZhbHVlKSxwdWJLZXlDcmVkUGFyYW1zOnJlcXVpcmVkKGNvcHlWYWx1ZSksdGltZW91dDpvcHRpb25hbChjb3B5VmFsdWUpLGV4Y2x1ZGVDcmVkZW50aWFsczpvcHRpb25hbChbcHVibGljS2V5Q3JlZGVudGlhbERlc2NyaXB0b3JTY2hlbWFdKSxhdXRoZW50aWNhdG9yU2VsZWN0aW9uOm9wdGlvbmFsKGNvcHlWYWx1ZSksYXR0ZXN0YXRpb246b3B0aW9uYWwoY29weVZhbHVlKSxleHRlbnNpb25zOm9wdGlvbmFsKHNpbXBsaWZpZWRFeHRlbnNpb25zU2NoZW1hKX0pLHNpZ25hbDpvcHRpb25hbChjb3B5VmFsdWUpfTt2YXIgcHVibGljS2V5Q3JlZGVudGlhbFdpdGhBdHRlc3RhdGlvbj17dHlwZTpyZXF1aXJlZChjb3B5VmFsdWUpLGlkOnJlcXVpcmVkKGNvcHlWYWx1ZSkscmF3SWQ6cmVxdWlyZWQoY29udmVydFZhbHVlKSxhdXRoZW50aWNhdG9yQXR0YWNobWVudDpvcHRpb25hbChjb3B5VmFsdWUpLHJlc3BvbnNlOnJlcXVpcmVkKHtjbGllbnREYXRhSlNPTjpyZXF1aXJlZChjb252ZXJ0VmFsdWUpLGF0dGVzdGF0aW9uT2JqZWN0OnJlcXVpcmVkKGNvbnZlcnRWYWx1ZSksdHJhbnNwb3J0czpkZXJpdmVkKGNvcHlWYWx1ZSxmdW5jdGlvbihyZXNwb25zZSl7dmFyIF9hO3JldHVybigoX2E9cmVzcG9uc2UuZ2V0VHJhbnNwb3J0cyk9PW51bGw/dm9pZCAwOl9hLmNhbGwocmVzcG9uc2UpKXx8W107fSl9KSxjbGllbnRFeHRlbnNpb25SZXN1bHRzOmRlcml2ZWQoc2ltcGxpZmllZENsaWVudEV4dGVuc2lvblJlc3VsdHNTY2hlbWEsZnVuY3Rpb24ocGtjKXtyZXR1cm4gcGtjLmdldENsaWVudEV4dGVuc2lvblJlc3VsdHMoKTt9KX07dmFyIGNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucz17bWVkaWF0aW9uOm9wdGlvbmFsKGNvcHlWYWx1ZSkscHVibGljS2V5OnJlcXVpcmVkKHtjaGFsbGVuZ2U6cmVxdWlyZWQoY29udmVydFZhbHVlKSx0aW1lb3V0Om9wdGlvbmFsKGNvcHlWYWx1ZSkscnBJZDpvcHRpb25hbChjb3B5VmFsdWUpLGFsbG93Q3JlZGVudGlhbHM6b3B0aW9uYWwoW3B1YmxpY0tleUNyZWRlbnRpYWxEZXNjcmlwdG9yU2NoZW1hXSksdXNlclZlcmlmaWNhdGlvbjpvcHRpb25hbChjb3B5VmFsdWUpLGV4dGVuc2lvbnM6b3B0aW9uYWwoc2ltcGxpZmllZEV4dGVuc2lvbnNTY2hlbWEpfSksc2lnbmFsOm9wdGlvbmFsKGNvcHlWYWx1ZSl9O3ZhciBwdWJsaWNLZXlDcmVkZW50aWFsV2l0aEFzc2VydGlvbj17dHlwZTpyZXF1aXJlZChjb3B5VmFsdWUpLGlkOnJlcXVpcmVkKGNvcHlWYWx1ZSkscmF3SWQ6cmVxdWlyZWQoY29udmVydFZhbHVlKSxhdXRoZW50aWNhdG9yQXR0YWNobWVudDpvcHRpb25hbChjb3B5VmFsdWUpLHJlc3BvbnNlOnJlcXVpcmVkKHtjbGllbnREYXRhSlNPTjpyZXF1aXJlZChjb252ZXJ0VmFsdWUpLGF1dGhlbnRpY2F0b3JEYXRhOnJlcXVpcmVkKGNvbnZlcnRWYWx1ZSksc2lnbmF0dXJlOnJlcXVpcmVkKGNvbnZlcnRWYWx1ZSksdXNlckhhbmRsZTpyZXF1aXJlZChjb252ZXJ0VmFsdWUpfSksY2xpZW50RXh0ZW5zaW9uUmVzdWx0czpkZXJpdmVkKHNpbXBsaWZpZWRDbGllbnRFeHRlbnNpb25SZXN1bHRzU2NoZW1hLGZ1bmN0aW9uKHBrYyl7cmV0dXJuIHBrYy5nZXRDbGllbnRFeHRlbnNpb25SZXN1bHRzKCk7fSl9O2Z1bmN0aW9uIGNyZWF0ZVJlcXVlc3RGcm9tSlNPTihyZXF1ZXN0SlNPTil7cmV0dXJuIGNvbnZlcnQoYmFzZTY0dXJsVG9CdWZmZXIsY3JlZGVudGlhbENyZWF0aW9uT3B0aW9ucyxyZXF1ZXN0SlNPTik7fWZ1bmN0aW9uIGNyZWF0ZVJlc3BvbnNlVG9KU09OKGNyZWRlbnRpYWwpe3JldHVybiBjb252ZXJ0KGJ1ZmZlclRvQmFzZTY0dXJsLHB1YmxpY0tleUNyZWRlbnRpYWxXaXRoQXR0ZXN0YXRpb24sY3JlZGVudGlhbCk7fWZ1bmN0aW9uIGNyZWF0ZShyZXF1ZXN0SlNPTil7cmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ1KCl7dmFyIGNyZWRlbnRpYWw7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NSQoX2NvbnRleHQ0NSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ0NS5wcmV2PV9jb250ZXh0NDUubmV4dCl7Y2FzZSAwOl9jb250ZXh0NDUubmV4dD0yO3JldHVybiBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuY3JlYXRlKGNyZWF0ZVJlcXVlc3RGcm9tSlNPTihyZXF1ZXN0SlNPTikpO2Nhc2UgMjpjcmVkZW50aWFsPV9jb250ZXh0NDUuc2VudDtyZXR1cm4gX2NvbnRleHQ0NS5hYnJ1cHQoXCJyZXR1cm5cIixjcmVhdGVSZXNwb25zZVRvSlNPTihjcmVkZW50aWFsKSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDQ1LnN0b3AoKTt9fSxfY2FsbGVlNDUpO30pKTt9ZnVuY3Rpb24gZ2V0UmVxdWVzdEZyb21KU09OKHJlcXVlc3RKU09OKXtyZXR1cm4gY29udmVydChiYXNlNjR1cmxUb0J1ZmZlcixjcmVkZW50aWFsUmVxdWVzdE9wdGlvbnMscmVxdWVzdEpTT04pO31mdW5jdGlvbiBnZXRSZXNwb25zZVRvSlNPTihjcmVkZW50aWFsKXtyZXR1cm4gY29udmVydChidWZmZXJUb0Jhc2U2NHVybCxwdWJsaWNLZXlDcmVkZW50aWFsV2l0aEFzc2VydGlvbixjcmVkZW50aWFsKTt9ZnVuY3Rpb24gZ2V0KHJlcXVlc3RKU09OKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNDYoKXt2YXIgY3JlZGVudGlhbDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ2JChfY29udGV4dDQ2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDQ2LnByZXY9X2NvbnRleHQ0Ni5uZXh0KXtjYXNlIDA6X2NvbnRleHQ0Ni5uZXh0PTI7cmV0dXJuIG5hdmlnYXRvci5jcmVkZW50aWFscy5nZXQoZ2V0UmVxdWVzdEZyb21KU09OKHJlcXVlc3RKU09OKSk7Y2FzZSAyOmNyZWRlbnRpYWw9X2NvbnRleHQ0Ni5zZW50O3JldHVybiBfY29udGV4dDQ2LmFicnVwdChcInJldHVyblwiLGdldFJlc3BvbnNlVG9KU09OKGNyZWRlbnRpYWwpKTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NDYuc3RvcCgpO319LF9jYWxsZWU0Nik7fSkpO312YXIgSGVhZGxlc3NXZWJBdXRobkNsaWVudD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBIZWFkbGVzc1dlYkF1dGhuQ2xpZW50KF9uZXR3b3JrQ2xpZW50LF9zdWJzY3JpcHRpb25TZXJ2aWNlLGRmcFByb3RlY3RlZEF1dGgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEhlYWRsZXNzV2ViQXV0aG5DbGllbnQpO3RoaXMuX25ldHdvcmtDbGllbnQ9X25ldHdvcmtDbGllbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZT1fc3Vic2NyaXB0aW9uU2VydmljZTt0aGlzLmRmcFByb3RlY3RlZEF1dGg9ZGZwUHJvdGVjdGVkQXV0aDt0aGlzLmNoZWNrRWxpZ2libGVJbnB1dHM9ZnVuY3Rpb24oKXt2YXIgZWxpZ2libGVJbnB1dHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W2F1dG9jb21wbGV0ZSo9J3dlYmF1dGhuJ11cIik7aWYoZWxpZ2libGVJbnB1dHMubGVuZ3RoPDEpe2NvbnNvbGUuZXJyb3IoJ05vIDxpbnB1dD4gd2l0aCBgXCJ3ZWJhdXRoblwiYCBpbiBpdHMgYGF1dG9jb21wbGV0ZWAgYXR0cmlidXRlIHdhcyBkZXRlY3RlZCcpO3JldHVybiBmYWxzZTt9cmV0dXJuIHRydWU7fTt9X2NyZWF0ZUNsYXNzKEhlYWRsZXNzV2ViQXV0aG5DbGllbnQsW3trZXk6XCJyZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uIHJlZ2lzdGVyKG9wdGlvbnMpe3ZhciBfYSxfYjtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNDcoKXt2YXIgc3RhcnRSZXNwLHB1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnMscHVibGljS2V5LGNyZWRlbnRpYWwscmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ3JChfY29udGV4dDQ3KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDQ3LnByZXY9X2NvbnRleHQ0Ny5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC53ZWJhdXRobi5yZWdpc3RlcicpLmlzT3B0aW9uYWxTdHJpbmcoJ2RvbWFpbicsb3B0aW9ucz09PW51bGx8fG9wdGlvbnM9PT12b2lkIDA/dm9pZCAwOm9wdGlvbnMuZG9tYWluKS5pc09wdGlvbmFsU3RyaW5nKCdhdXRoZW50aWNhdG9yX3R5cGUnLG9wdGlvbnM9PT1udWxsfHxvcHRpb25zPT09dm9pZCAwP3ZvaWQgMDpvcHRpb25zLmF1dGhlbnRpY2F0b3JfdHlwZSkuaXNPcHRpb25hbEJvb2xlYW4oJ2lzX3Bhc3NrZXknLG9wdGlvbnM9PT1udWxsfHxvcHRpb25zPT09dm9pZCAwP3ZvaWQgMDpvcHRpb25zLmlzX3Bhc3NrZXkpLmlzT3B0aW9uYWxOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsb3B0aW9ucz09PW51bGx8fG9wdGlvbnM9PT12b2lkIDA/dm9pZCAwOm9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKTtfY29udGV4dDQ3Lm5leHQ9MztyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOicvd2ViYXV0aG4vcmVnaXN0ZXIvc3RhcnQnLG1ldGhvZDonUE9TVCcsZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gc3RhcnQgV2ViQXV0aG4gcmVnaXN0cmF0aW9uJyxib2R5Ontkb21haW46KF9hPW9wdGlvbnM9PT1udWxsfHxvcHRpb25zPT09dm9pZCAwP3ZvaWQgMDpvcHRpb25zLmRvbWFpbikhPT1udWxsJiZfYSE9PXZvaWQgMD9fYTp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsYXV0aGVudGljYXRvcl90eXBlOihfYj1vcHRpb25zPT09bnVsbHx8b3B0aW9ucz09PXZvaWQgMD92b2lkIDA6b3B0aW9ucy5hdXRoZW50aWNhdG9yX3R5cGUpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6dW5kZWZpbmVkLHJldHVybl9wYXNza2V5X2NyZWRlbnRpYWxfb3B0aW9uczpvcHRpb25zPT09bnVsbHx8b3B0aW9ucz09PXZvaWQgMD92b2lkIDA6b3B0aW9ucy5pc19wYXNza2V5LHVzZXJfYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH19KTtjYXNlIDM6c3RhcnRSZXNwPV9jb250ZXh0NDcuc2VudDtwdWJsaWNLZXlDcmVkZW50aWFsQ3JlYXRpb25PcHRpb25zPXN0YXJ0UmVzcC5wdWJsaWNfa2V5X2NyZWRlbnRpYWxfY3JlYXRpb25fb3B0aW9ucztwdWJsaWNLZXk9SlNPTi5wYXJzZShwdWJsaWNLZXlDcmVkZW50aWFsQ3JlYXRpb25PcHRpb25zKTtfY29udGV4dDQ3Lm5leHQ9ODtyZXR1cm4gY3JlYXRlKHtwdWJsaWNLZXk6cHVibGljS2V5fSk7Y2FzZSA4OmNyZWRlbnRpYWw9X2NvbnRleHQ0Ny5zZW50O19jb250ZXh0NDcubmV4dD0xMTtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOicvd2ViYXV0aG4vcmVnaXN0ZXInLG1ldGhvZDonUE9TVCcsZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gcmVnaXN0ZXIgV2ViQXV0aG4gZGV2aWNlJyxib2R5OntwdWJsaWNfa2V5X2NyZWRlbnRpYWw6SlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbCksc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOm9wdGlvbnM9PT1udWxsfHxvcHRpb25zPT09dm9pZCAwP3ZvaWQgMDpvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlc319KTtjYXNlIDExOnJlc3A9X2NvbnRleHQ0Ny5zZW50O3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOntzZXNzaW9uOnJlc3Auc2Vzc2lvbix1c2VyOnJlc3AuX191c2VyfSxzZXNzaW9uX3Rva2VuOnJlc3Auc2Vzc2lvbl90b2tlbixzZXNzaW9uX2p3dDpyZXNwLnNlc3Npb25fand0LGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOm51bGx9KTtyZXR1cm4gX2NvbnRleHQ0Ny5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSAxNDpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ0Ny5zdG9wKCk7fX0sX2NhbGxlZTQ3LHRoaXMpO30pKTt9fSx7a2V5OlwiYXV0aGVudGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24gYXV0aGVudGljYXRlKG9wdGlvbnMpe3ZhciBfYSxfYjtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNDgoKXt2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMTEsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuLGlzTG9nZ2VkSW4sZW5kcG9pbnQsc3RhcnRSZXNwLHB1YmxpY0tleUNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucyxhYm9ydENvbnRyb2xsZXIsY3JlZFJlcU9wdGlvbnMsY29uZGl0aW9uYWxNZWRpYXRpb25DcmVkUmVxT3B0aW9uLGNyZWRlbnRpYWwsYXV0aGVudGljYXRpb25EYXRhO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNDgkKF9jb250ZXh0NDgpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NDgucHJldj1fY29udGV4dDQ4Lm5leHQpe2Nhc2UgMDp2YWxpZGF0ZSgnc3R5dGNoLndlYmF1dGhuLmF1dGhlbnRpY2F0ZScpLmlzT3B0aW9uYWxTdHJpbmcoJ2RvbWFpbicsb3B0aW9ucy5kb21haW4pLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKS5pc09wdGlvbmFsQm9vbGVhbignaXNfcGFzc2tleScsb3B0aW9ucy5pc19wYXNza2V5KS5pc09wdGlvbmFsT2JqZWN0KCdzaWduYWwnLG9wdGlvbnMuc2lnbmFsKTtfY29udGV4dDQ4Lm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWMxMT1fY29udGV4dDQ4LnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWMxMS5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTEuY2FwdGNoYV90b2tlbjtpZighb3B0aW9ucy5jb25kaXRpb25hbF9tZWRpYXRpb24pe19jb250ZXh0NDgubmV4dD0xNDticmVhazt9X2NvbnRleHQ0OC5uZXh0PTk7cmV0dXJuIHRoaXMuYnJvd3NlclN1cHBvcnRzQXV0b2ZpbGwoKTtjYXNlIDk6aWYoX2NvbnRleHQ0OC5zZW50KXtfY29udGV4dDQ4Lm5leHQ9MTI7YnJlYWs7fWNvbnNvbGUuZXJyb3IoJ0Jyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJBdXRobiBhdXRvZmlsbCcpO3JldHVybiBfY29udGV4dDQ4LmFicnVwdChcInJldHVyblwiLG51bGwpO2Nhc2UgMTI6aWYodGhpcy5jaGVja0VsaWdpYmxlSW5wdXRzKCkpe19jb250ZXh0NDgubmV4dD0xNDticmVhazt9cmV0dXJuIF9jb250ZXh0NDguYWJydXB0KFwicmV0dXJuXCIsbnVsbCk7Y2FzZSAxNDppc0xvZ2dlZEluPSEhdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRTZXNzaW9uKCk7ZW5kcG9pbnQ9aXNMb2dnZWRJbj8nL3dlYmF1dGhuL2F1dGhlbnRpY2F0ZS9zdGFydC9zZWNvbmRhcnknOicvd2ViYXV0aG4vYXV0aGVudGljYXRlL3N0YXJ0L3ByaW1hcnknO19jb250ZXh0NDgubmV4dD0xODtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOmVuZHBvaW50LG1ldGhvZDonUE9TVCcsZXJyb3JNZXNzYWdlOidGYWlsZWQgdG8gc3RhcnQgV2ViQXV0aG4gYXV0aGVudGljYXRpb24nLGJvZHk6e2RvbWFpbjooX2E9b3B0aW9ucy5kb21haW4pIT09bnVsbCYmX2EhPT12b2lkIDA/X2E6d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLHJldHVybl9wYXNza2V5X2NyZWRlbnRpYWxfb3B0aW9uczpvcHRpb25zPT09bnVsbHx8b3B0aW9ucz09PXZvaWQgMD92b2lkIDA6b3B0aW9ucy5pc19wYXNza2V5fX0pO2Nhc2UgMTg6c3RhcnRSZXNwPV9jb250ZXh0NDguc2VudDtwdWJsaWNLZXlDcmVkZW50aWFsUmVxdWVzdE9wdGlvbnM9c3RhcnRSZXNwLnB1YmxpY19rZXlfY3JlZGVudGlhbF9yZXF1ZXN0X29wdGlvbnM7YWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIoKTtjcmVkUmVxT3B0aW9ucz17cHVibGljS2V5OkpTT04ucGFyc2UocHVibGljS2V5Q3JlZGVudGlhbFJlcXVlc3RPcHRpb25zKSxzaWduYWw6KF9iPW9wdGlvbnMuc2lnbmFsKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOmFib3J0Q29udHJvbGxlci5zaWduYWx9O2NvbmRpdGlvbmFsTWVkaWF0aW9uQ3JlZFJlcU9wdGlvbj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sY3JlZFJlcU9wdGlvbnMpLHttZWRpYXRpb246J2NvbmRpdGlvbmFsJ30pO19jb250ZXh0NDgubmV4dD0yNTtyZXR1cm4gZ2V0KG9wdGlvbnMuY29uZGl0aW9uYWxfbWVkaWF0aW9uP2NvbmRpdGlvbmFsTWVkaWF0aW9uQ3JlZFJlcU9wdGlvbjpjcmVkUmVxT3B0aW9ucyk7Y2FzZSAyNTpjcmVkZW50aWFsPV9jb250ZXh0NDguc2VudDtfY29udGV4dDQ4Lm5leHQ9Mjg7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQucmV0cmlhYmxlRmV0Y2hTREsoe3VybDonL3dlYmF1dGhuL2F1dGhlbnRpY2F0ZScsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBhdXRoZW50aWNhdGUgV2ViQXV0aG4gZGV2aWNlJyxib2R5OntwdWJsaWNfa2V5X2NyZWRlbnRpYWw6SlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbCksc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOm9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW59LHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KTtjYXNlIDI4OmF1dGhlbnRpY2F0aW9uRGF0YT1fY29udGV4dDQ4LnNlbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7c3RhdGU6e3Nlc3Npb246YXV0aGVudGljYXRpb25EYXRhLnNlc3Npb24sdXNlcjphdXRoZW50aWNhdGlvbkRhdGEuX191c2VyfSxzZXNzaW9uX3Rva2VuOmF1dGhlbnRpY2F0aW9uRGF0YS5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OmF1dGhlbnRpY2F0aW9uRGF0YS5zZXNzaW9uX2p3dCxpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjpudWxsfSk7cmV0dXJuIF9jb250ZXh0NDguYWJydXB0KFwicmV0dXJuXCIsb21pdFVzZXIoYXV0aGVudGljYXRpb25EYXRhKSk7Y2FzZSAzMTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ0OC5zdG9wKCk7fX0sX2NhbGxlZTQ4LHRoaXMpO30pKTt9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0OSgpe3ZhciB1cmw7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0OSQoX2NvbnRleHQ0OSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ0OS5wcmV2PV9jb250ZXh0NDkubmV4dCl7Y2FzZSAwOnVybD0nL3dlYmF1dGhuL3VwZGF0ZS8nK29wdGlvbnMud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkO19jb250ZXh0NDkubmV4dD0zO3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6dXJsLG1ldGhvZDonUFVUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byB1cGRhdGUgV2ViQXV0aG4gUmVnaXN0cmF0aW9uJyxib2R5OntuYW1lOm9wdGlvbnMubmFtZX19KTtjYXNlIDM6cmV0dXJuIF9jb250ZXh0NDkuYWJydXB0KFwicmV0dXJuXCIsX2NvbnRleHQ0OS5zZW50KTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NDkuc3RvcCgpO319LF9jYWxsZWU0OSx0aGlzKTt9KSk7fX0se2tleTpcImJyb3dzZXJTdXBwb3J0c0F1dG9maWxsXCIsdmFsdWU6ZnVuY3Rpb24gYnJvd3NlclN1cHBvcnRzQXV0b2ZpbGwoKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNTAoKXt2YXIgZ2xvYmFsUHVibGljS2V5Q3JlZGVudGlhbDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUwJChfY29udGV4dDUwKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDUwLnByZXY9X2NvbnRleHQ1MC5uZXh0KXtjYXNlIDA6Z2xvYmFsUHVibGljS2V5Q3JlZGVudGlhbD13aW5kb3cuUHVibGljS2V5Q3JlZGVudGlhbDtpZighKGdsb2JhbFB1YmxpY0tleUNyZWRlbnRpYWw9PT11bmRlZmluZWR8fGdsb2JhbFB1YmxpY0tleUNyZWRlbnRpYWwuaXNDb25kaXRpb25hbE1lZGlhdGlvbkF2YWlsYWJsZT09PXVuZGVmaW5lZCkpe19jb250ZXh0NTAubmV4dD0zO2JyZWFrO31yZXR1cm4gX2NvbnRleHQ1MC5hYnJ1cHQoXCJyZXR1cm5cIixuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtyZXR1cm4gcmVzb2x2ZShmYWxzZSk7fSkpO2Nhc2UgMzpyZXR1cm4gX2NvbnRleHQ1MC5hYnJ1cHQoXCJyZXR1cm5cIixnbG9iYWxQdWJsaWNLZXlDcmVkZW50aWFsLmlzQ29uZGl0aW9uYWxNZWRpYXRpb25BdmFpbGFibGUoKSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDUwLnN0b3AoKTt9fSxfY2FsbGVlNTApO30pKTt9fV0pO3JldHVybiBIZWFkbGVzc1dlYkF1dGhuQ2xpZW50O30oKTt2YXIgRGVmYXVsdER5bmFtaWNDb25maWckMj1Qcm9taXNlLnJlc29sdmUoe3BrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzOmZhbHNlfSk7dmFyIEhlYWRsZXNzUGFzc3dvcmRDbGllbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gSGVhZGxlc3NQYXNzd29yZENsaWVudChfbmV0d29ya0NsaWVudCxfc3Vic2NyaXB0aW9uU2VydmljZSxfcGtjZU1hbmFnZXIpe3ZhciBfY29uZmlnPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpEZWZhdWx0RHluYW1pY0NvbmZpZyQyO3ZhciBkZnBQcm90ZWN0ZWRBdXRoPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XTpEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlcigpO19jbGFzc0NhbGxDaGVjayh0aGlzLEhlYWRsZXNzUGFzc3dvcmRDbGllbnQpO3RoaXMuX25ldHdvcmtDbGllbnQ9X25ldHdvcmtDbGllbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZT1fc3Vic2NyaXB0aW9uU2VydmljZTt0aGlzLl9wa2NlTWFuYWdlcj1fcGtjZU1hbmFnZXI7dGhpcy5fY29uZmlnPV9jb25maWc7dGhpcy5kZnBQcm90ZWN0ZWRBdXRoPWRmcFByb3RlY3RlZEF1dGg7fV9jcmVhdGVDbGFzcyhIZWFkbGVzc1Bhc3N3b3JkQ2xpZW50LFt7a2V5OlwiZ2V0Q29kZUNoYWxsZW5nZVwiLHZhbHVlOmZ1bmN0aW9uIGdldENvZGVDaGFsbGVuZ2UoKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNTEoKXt2YXIgX3lpZWxkJHRoaXMkX2NvbmZpZzMscGtjZVJlcXVpcmVkRm9yUGFzc3dvcmRSZXNldHMsa2V5UGFpcjtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUxJChfY29udGV4dDUxKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDUxLnByZXY9X2NvbnRleHQ1MS5uZXh0KXtjYXNlIDA6X2NvbnRleHQ1MS5uZXh0PTI7cmV0dXJuIHRoaXMuX2NvbmZpZztjYXNlIDI6X3lpZWxkJHRoaXMkX2NvbmZpZzM9X2NvbnRleHQ1MS5zZW50O3BrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzPV95aWVsZCR0aGlzJF9jb25maWczLnBrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzO2lmKHBrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzKXtfY29udGV4dDUxLm5leHQ9NjticmVhazt9cmV0dXJuIF9jb250ZXh0NTEuYWJydXB0KFwicmV0dXJuXCIsdW5kZWZpbmVkKTtjYXNlIDY6X2NvbnRleHQ1MS5uZXh0PTg7cmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLmdldFBLUGFpcigpO2Nhc2UgODprZXlQYWlyPV9jb250ZXh0NTEuc2VudDtpZigha2V5UGFpcil7X2NvbnRleHQ1MS5uZXh0PTExO2JyZWFrO31yZXR1cm4gX2NvbnRleHQ1MS5hYnJ1cHQoXCJyZXR1cm5cIixrZXlQYWlyLmNvZGVfY2hhbGxlbmdlKTtjYXNlIDExOl9jb250ZXh0NTEubmV4dD0xMztyZXR1cm4gdGhpcy5fcGtjZU1hbmFnZXIuc3RhcnRQS0NFVHJhbnNhY3Rpb24oKTtjYXNlIDEzOmtleVBhaXI9X2NvbnRleHQ1MS5zZW50O3JldHVybiBfY29udGV4dDUxLmFicnVwdChcInJldHVyblwiLGtleVBhaXIuY29kZV9jaGFsbGVuZ2UpO2Nhc2UgMTU6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NTEuc3RvcCgpO319LF9jYWxsZWU1MSx0aGlzKTt9KSk7fX0se2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNTIoKXt2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMTIsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuLHJlc3A7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MiQoX2NvbnRleHQ1Mil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ1Mi5wcmV2PV9jb250ZXh0NTIubmV4dCl7Y2FzZSAwOnZhbGlkYXRlKCdzdHl0Y2gucGFzc3dvcmRzLmNyZWF0ZScpLmlzU3RyaW5nKCdwYXNzd29yZCcsb3B0aW9ucy5wYXNzd29yZCkuaXNTdHJpbmcoJ2VtYWlsJyxvcHRpb25zLmVtYWlsKS5pc051bWJlcignc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzJyxvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcyk7X2NvbnRleHQ1Mi5uZXh0PTM7cmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtjYXNlIDM6X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTI9X2NvbnRleHQ1Mi5zZW50O2RmcF90ZWxlbWV0cnlfaWQ9X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTIuZGZwX3RlbGVtZXRyeV9pZDtjYXB0Y2hhX3Rva2VuPV95aWVsZCR0aGlzJGRmcFByb3RlYzEyLmNhcHRjaGFfdG9rZW47X2NvbnRleHQ1Mi5uZXh0PTg7cmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQucmV0cmlhYmxlRmV0Y2hTREsoe3VybDonL3Bhc3N3b3JkcycsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBjcmVhdGUgcGFzc3dvcmQuJyxib2R5OntlbWFpbDpvcHRpb25zLmVtYWlsLHBhc3N3b3JkOm9wdGlvbnMucGFzc3dvcmQsc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOm9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbixkZnBfdGVsZW1ldHJ5X2lkOmRmcF90ZWxlbWV0cnlfaWR9LHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KTtjYXNlIDg6cmVzcD1fY29udGV4dDUyLnNlbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7c3RhdGU6e3Nlc3Npb246cmVzcC5zZXNzaW9uLHVzZXI6cmVzcC51c2VyfSxzZXNzaW9uX3Rva2VuOnJlc3Auc2Vzc2lvbl90b2tlbixzZXNzaW9uX2p3dDpyZXNwLnNlc3Npb25fand0LGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOm51bGx9KTtyZXR1cm4gX2NvbnRleHQ1Mi5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSAxMTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ1Mi5zdG9wKCk7fX0sX2NhbGxlZTUyLHRoaXMpO30pKTt9fSx7a2V5OlwiYXV0aGVudGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24gYXV0aGVudGljYXRlKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1Mygpe3ZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMxMyxkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUzJChfY29udGV4dDUzKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDUzLnByZXY9X2NvbnRleHQ1My5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5wYXNzd29yZHMuYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ3Bhc3N3b3JkJyxvcHRpb25zLnBhc3N3b3JkKS5pc1N0cmluZygnZW1haWwnLG9wdGlvbnMuZW1haWwpLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKTtfY29udGV4dDUzLm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWMxMz1fY29udGV4dDUzLnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWMxMy5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTMuY2FwdGNoYV90b2tlbjtfY29udGV4dDUzLm5leHQ9ODtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvcGFzc3dvcmRzL2F1dGhlbnRpY2F0ZScsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBhdXRoZW50aWNhdGUgcGFzc3dvcmQuJyxib2R5OntlbWFpbDpvcHRpb25zLmVtYWlsLHBhc3N3b3JkOm9wdGlvbnMucGFzc3dvcmQsc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOm9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbixkZnBfdGVsZW1ldHJ5X2lkOmRmcF90ZWxlbWV0cnlfaWR9LHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KTtjYXNlIDg6cmVzcD1fY29udGV4dDUzLnNlbnQ7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7c3RhdGU6e3Nlc3Npb246cmVzcC5zZXNzaW9uLHVzZXI6cmVzcC51c2VyfSxzZXNzaW9uX3Rva2VuOnJlc3Auc2Vzc2lvbl90b2tlbixzZXNzaW9uX2p3dDpyZXNwLnNlc3Npb25fand0LGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOm51bGx9KTtyZXR1cm4gX2NvbnRleHQ1My5hYnJ1cHQoXCJyZXR1cm5cIixvbWl0VXNlcihyZXNwKSk7Y2FzZSAxMTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ1My5zdG9wKCk7fX0sX2NhbGxlZTUzLHRoaXMpO30pKTt9fSx7a2V5OlwicmVzZXRCeUVtYWlsU3RhcnRcIix2YWx1ZTpmdW5jdGlvbiByZXNldEJ5RW1haWxTdGFydChvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyJDEodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNTQoKXt2YXIgY29kZV9jaGFsbGVuZ2UsX3lpZWxkJHRoaXMkZGZwUHJvdGVjMTQsZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNTQkKF9jb250ZXh0NTQpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NTQucHJldj1fY29udGV4dDU0Lm5leHQpe2Nhc2UgMDp2YWxpZGF0ZSgnc3R5dGNoLnBhc3N3b3Jkcy5yZXNldEJ5RW1haWxTdGFydCcpLmlzU3RyaW5nKCdlbWFpbCcsb3B0aW9ucy5lbWFpbCkuaXNPcHRpb25hbFN0cmluZygnbG9naW5fcmVkaXJlY3RfdXJsJyxvcHRpb25zLmxvZ2luX3JlZGlyZWN0X3VybCkuaXNPcHRpb25hbFN0cmluZygncmVzZXRfcGFzc3dvcmRfcmVkaXJlY3RfdXJsJyxvcHRpb25zLnJlc2V0X3Bhc3N3b3JkX3JlZGlyZWN0X3VybCkuaXNPcHRpb25hbFN0cmluZygncmVzZXRfcGFzc3dvcmRfdGVtcGxhdGVfaWQnLG9wdGlvbnMucmVzZXRfcGFzc3dvcmRfdGVtcGxhdGVfaWQpLmlzT3B0aW9uYWxOdW1iZXIoJ3Jlc2V0X3Bhc3N3b3JkX2V4cGlyYXRpb25fbWludXRlcycsb3B0aW9ucy5yZXNldF9wYXNzd29yZF9leHBpcmF0aW9uX21pbnV0ZXMpO19jb250ZXh0NTQubmV4dD0zO3JldHVybiB0aGlzLmdldENvZGVDaGFsbGVuZ2UoKTtjYXNlIDM6Y29kZV9jaGFsbGVuZ2U9X2NvbnRleHQ1NC5zZW50O19jb250ZXh0NTQubmV4dD02O3JldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7Y2FzZSA2Ol95aWVsZCR0aGlzJGRmcFByb3RlYzE0PV9jb250ZXh0NTQuc2VudDtkZnBfdGVsZW1ldHJ5X2lkPV95aWVsZCR0aGlzJGRmcFByb3RlYzE0LmRmcF90ZWxlbWV0cnlfaWQ7Y2FwdGNoYV90b2tlbj1feWllbGQkdGhpcyRkZnBQcm90ZWMxNC5jYXB0Y2hhX3Rva2VuO3JldHVybiBfY29udGV4dDU0LmFicnVwdChcInJldHVyblwiLHRoaXMuX25ldHdvcmtDbGllbnQucmV0cmlhYmxlRmV0Y2hTREsoe3VybDonL3Bhc3N3b3Jkcy9lbWFpbC9yZXNldC9zdGFydCcsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byBzdGFydCBwYXNzd29yZCByZXNldCBmbG93LicsYm9keTp7ZW1haWw6b3B0aW9ucy5lbWFpbCxsb2dpbl9yZWRpcmVjdF91cmw6b3B0aW9ucy5sb2dpbl9yZWRpcmVjdF91cmwscmVzZXRfcGFzc3dvcmRfcmVkaXJlY3RfdXJsOm9wdGlvbnMucmVzZXRfcGFzc3dvcmRfcmVkaXJlY3RfdXJsLHJlc2V0X3Bhc3N3b3JkX2V4cGlyYXRpb25fbWludXRlczpvcHRpb25zLnJlc2V0X3Bhc3N3b3JkX2V4cGlyYXRpb25fbWludXRlcyxyZXNldF9wYXNzd29yZF90ZW1wbGF0ZV9pZDpvcHRpb25zLnJlc2V0X3Bhc3N3b3JkX3RlbXBsYXRlX2lkLGNvZGVfY2hhbGxlbmdlOmNvZGVfY2hhbGxlbmdlLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbixkZnBfdGVsZW1ldHJ5X2lkOmRmcF90ZWxlbWV0cnlfaWR9LHJldHJ5Q2FsbGJhY2s6dGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlB9KSk7Y2FzZSAxMDpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ1NC5zdG9wKCk7fX0sX2NhbGxlZTU0LHRoaXMpO30pKTt9fSx7a2V5OlwicmVzZXRCeUVtYWlsXCIsdmFsdWU6ZnVuY3Rpb24gcmVzZXRCeUVtYWlsKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1NSgpe3ZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMxNSxkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scGtQYWlyLGNvZGVfdmVyaWZpZXIscmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU1JChfY29udGV4dDU1KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDU1LnByZXY9X2NvbnRleHQ1NS5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5wYXNzd29yZHMucmVzZXRCeUVtYWlsJykuaXNTdHJpbmcoJ3Rva2VuJyxvcHRpb25zLnRva2VuKS5pc1N0cmluZygncGFzc3dvcmQnLG9wdGlvbnMucGFzc3dvcmQpLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKTtfY29udGV4dDU1Lm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWMxNT1fY29udGV4dDU1LnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWMxNS5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTUuY2FwdGNoYV90b2tlbjtfY29udGV4dDU1Lm5leHQ9ODtyZXR1cm4gdGhpcy5fcGtjZU1hbmFnZXIuZ2V0UEtQYWlyKCk7Y2FzZSA4OnBrUGFpcj1fY29udGV4dDU1LnNlbnQ7Y29kZV92ZXJpZmllcj1wa1BhaXI9PT1udWxsfHxwa1BhaXI9PT12b2lkIDA/dm9pZCAwOnBrUGFpci5jb2RlX3ZlcmlmaWVyO19jb250ZXh0NTUubmV4dD0xMjtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvcGFzc3dvcmRzL2VtYWlsL3Jlc2V0JyxtZXRob2Q6J1BPU1QnLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkLicsYm9keTp7dG9rZW46b3B0aW9ucy50b2tlbixwYXNzd29yZDpvcHRpb25zLnBhc3N3b3JkLHNlc3Npb25fZHVyYXRpb25fbWludXRlczpvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcyxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW4sY29kZV92ZXJpZmllcjpjb2RlX3ZlcmlmaWVyLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZH0scmV0cnlDYWxsYmFjazp0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUH0pO2Nhc2UgMTI6cmVzcD1fY29udGV4dDU1LnNlbnQ7dGhpcy5fcGtjZU1hbmFnZXIuY2xlYXJQS1BhaXIoKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtzdGF0ZTp7c2Vzc2lvbjpyZXNwLnNlc3Npb24sdXNlcjpyZXNwLnVzZXJ9LHNlc3Npb25fdG9rZW46cmVzcC5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OnJlc3Auc2Vzc2lvbl9qd3QsaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46bnVsbH0pO3JldHVybiBfY29udGV4dDU1LmFicnVwdChcInJldHVyblwiLG9taXRVc2VyKHJlc3ApKTtjYXNlIDE2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDU1LnN0b3AoKTt9fSxfY2FsbGVlNTUsdGhpcyk7fSkpO319LHtrZXk6XCJyZXNldEJ5RXhpc3RpbmdQYXNzd29yZFwiLHZhbHVlOmZ1bmN0aW9uIHJlc2V0QnlFeGlzdGluZ1Bhc3N3b3JkKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1Nigpe3ZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMxNixkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU2JChfY29udGV4dDU2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDU2LnByZXY9X2NvbnRleHQ1Ni5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5wYXNzd29yZHMucmVzZXRCeUV4aXN0aW5nUGFzc3dvcmQnKS5pc1N0cmluZygnZW1haWwnLG9wdGlvbnMuZW1haWwpLmlzU3RyaW5nKCdleGlzdGluZ19wYXNzd29yZCcsb3B0aW9ucy5leGlzdGluZ19wYXNzd29yZCkuaXNTdHJpbmcoJ25ld19wYXNzd29yZCcsb3B0aW9ucy5uZXdfcGFzc3dvcmQpLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKTtfY29udGV4dDU2Lm5leHQ9MztyZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO2Nhc2UgMzpfeWllbGQkdGhpcyRkZnBQcm90ZWMxNj1fY29udGV4dDU2LnNlbnQ7ZGZwX3RlbGVtZXRyeV9pZD1feWllbGQkdGhpcyRkZnBQcm90ZWMxNi5kZnBfdGVsZW1ldHJ5X2lkO2NhcHRjaGFfdG9rZW49X3lpZWxkJHRoaXMkZGZwUHJvdGVjMTYuY2FwdGNoYV90b2tlbjtfY29udGV4dDU2Lm5leHQ9ODtyZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7dXJsOicvcGFzc3dvcmRzL2V4aXN0aW5nX3Bhc3N3b3JkL3Jlc2V0JyxtZXRob2Q6J1BPU1QnLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkLicsYm9keTp7ZW1haWw6b3B0aW9ucy5lbWFpbCxleGlzdGluZ19wYXNzd29yZDpvcHRpb25zLmV4aXN0aW5nX3Bhc3N3b3JkLG5ld19wYXNzd29yZDpvcHRpb25zLm5ld19wYXNzd29yZCxzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6b3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMsZGZwX3RlbGVtZXRyeV9pZDpkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbn0scmV0cnlDYWxsYmFjazp0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUH0pO2Nhc2UgODpyZXNwPV9jb250ZXh0NTYuc2VudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtzdGF0ZTp7c2Vzc2lvbjpyZXNwLnNlc3Npb24sdXNlcjpyZXNwLnVzZXJ9LHNlc3Npb25fdG9rZW46cmVzcC5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OnJlc3Auc2Vzc2lvbl9qd3QsaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46bnVsbH0pO3JldHVybiBfY29udGV4dDU2LmFicnVwdChcInJldHVyblwiLG9taXRVc2VyKHJlc3ApKTtjYXNlIDExOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDU2LnN0b3AoKTt9fSxfY2FsbGVlNTYsdGhpcyk7fSkpO319LHtrZXk6XCJyZXNldEJ5U2Vzc2lvblwiLHZhbHVlOmZ1bmN0aW9uIHJlc2V0QnlTZXNzaW9uKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1Nygpe3ZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMxNyxkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW4scmVzcDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU3JChfY29udGV4dDU3KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDU3LnByZXY9X2NvbnRleHQ1Ny5uZXh0KXtjYXNlIDA6dmFsaWRhdGUoJ3N0eXRjaC5wYXNzd29yZHMucmVzZXRCeVNlc3Npb24nKS5pc1N0cmluZygncGFzc3dvcmQnLG9wdGlvbnMucGFzc3dvcmQpO19jb250ZXh0NTcubmV4dD0zO3JldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7Y2FzZSAzOl95aWVsZCR0aGlzJGRmcFByb3RlYzE3PV9jb250ZXh0NTcuc2VudDtkZnBfdGVsZW1ldHJ5X2lkPV95aWVsZCR0aGlzJGRmcFByb3RlYzE3LmRmcF90ZWxlbWV0cnlfaWQ7Y2FwdGNoYV90b2tlbj1feWllbGQkdGhpcyRkZnBQcm90ZWMxNy5jYXB0Y2hhX3Rva2VuO19jb250ZXh0NTcubmV4dD04O3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHt1cmw6Jy9wYXNzd29yZHMvc2Vzc2lvbi9yZXNldCcsbWV0aG9kOidQT1NUJyxlcnJvck1lc3NhZ2U6J0ZhaWxlZCB0byByZXNldCBieSBzZXNzaW9uLicsYm9keTp7cGFzc3dvcmQ6b3B0aW9ucy5wYXNzd29yZCxzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6b3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMsZGZwX3RlbGVtZXRyeV9pZDpkZnBfdGVsZW1ldHJ5X2lkLGNhcHRjaGFfdG9rZW46Y2FwdGNoYV90b2tlbn0scmV0cnlDYWxsYmFjazp0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUH0pO2Nhc2UgODpyZXNwPV9jb250ZXh0NTcuc2VudDt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtzdGF0ZTp7c2Vzc2lvbjpyZXNwLnNlc3Npb24sdXNlcjpyZXNwLnVzZXJ9LHNlc3Npb25fdG9rZW46cmVzcC5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OnJlc3Auc2Vzc2lvbl9qd3QsaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46bnVsbH0pO3JldHVybiBfY29udGV4dDU3LmFicnVwdChcInJldHVyblwiLHJlc3ApO2Nhc2UgMTE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NTcuc3RvcCgpO319LF9jYWxsZWU1Nyx0aGlzKTt9KSk7fX0se2tleTpcInN0cmVuZ3RoQ2hlY2tcIix2YWx1ZTpmdW5jdGlvbiBzdHJlbmd0aENoZWNrKG9wdGlvbnMpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1OCgpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNTgkKF9jb250ZXh0NTgpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NTgucHJldj1fY29udGV4dDU4Lm5leHQpe2Nhc2UgMDp2YWxpZGF0ZSgnc3R5dGNoLnBhc3N3b3Jkcy5zdHJlbmd0aENoZWNrJykuaXNPcHRpb25hbFN0cmluZygnZW1haWwnLG9wdGlvbnMuZW1haWwpLmlzU3RyaW5nKCdwYXNzd29yZCcsb3B0aW9ucy5wYXNzd29yZCk7cmV0dXJuIF9jb250ZXh0NTguYWJydXB0KFwicmV0dXJuXCIsdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7dXJsOicvcGFzc3dvcmRzL3N0cmVuZ3RoX2NoZWNrJyxtZXRob2Q6J1BPU1QnLGVycm9yTWVzc2FnZTonRmFpbGVkIHRvIGNoZWNrIHBhc3N3b3JkIHN0cmVuZ3RoLicsYm9keTp7ZW1haWw6b3B0aW9ucy5lbWFpbCxwYXNzd29yZDpvcHRpb25zLnBhc3N3b3JkfX0pKTtjYXNlIDI6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NTguc3RvcCgpO319LF9jYWxsZWU1OCx0aGlzKTt9KSk7fX1dKTtyZXR1cm4gSGVhZGxlc3NQYXNzd29yZENsaWVudDt9KCk7UHJvbWlzZS5yZXNvbHZlKHtwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M6ZmFsc2V9KTtQcm9taXNlLnJlc29sdmUoe3BrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzOmZhbHNlfSk7dmFyIElmcmFtZUhvc3RDbGllbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gSWZyYW1lSG9zdENsaWVudChpZnJhbWVVUkwpe19jbGFzc0NhbGxDaGVjayh0aGlzLElmcmFtZUhvc3RDbGllbnQpO3RoaXMuaWZyYW1lVVJMPWlmcmFtZVVSTDt0aGlzLmNyZWF0ZUlmcmFtZSgpO31fY3JlYXRlQ2xhc3MoSWZyYW1lSG9zdENsaWVudCxbe2tleTpcImNyZWF0ZUlmcmFtZVwiLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpe3ZhciBleGlzdGluZ0lmcmFtZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW3NyY349XFxcIlwiLmNvbmNhdCh0aGlzLmlmcmFtZVVSTCxcIlxcXCJdXCIpKTtpZighZXhpc3RpbmdJZnJhbWUpe2V4aXN0aW5nSWZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO2V4aXN0aW5nSWZyYW1lLnNyYz10aGlzLmlmcmFtZVVSTDtleGlzdGluZ0lmcmFtZS5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnO2V4aXN0aW5nSWZyYW1lLnN0eWxlLndpZHRoPScwJztleGlzdGluZ0lmcmFtZS5zdHlsZS5oZWlnaHQ9JzAnO2V4aXN0aW5nSWZyYW1lLnN0eWxlLmJvcmRlcj0nMCc7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChleGlzdGluZ0lmcmFtZSk7fWVsc2V7bG9nZ2VyLndhcm4oXCJJdCBsb29rcyBsaWtlIHlvdSdyZSBjcmVhdGluZyBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIFN0eXRjaCBjbGllbnQuXCIrJyBUaGlzIGJlaGF2aW9yIGlzIHVuc3VwcG9ydGVkLCBhbmQgdW5pbnRlbmRlZCBzaWRlIGVmZmVjdHMgbWF5IG9jY3VyLiAnK1wiTWFrZSBzdXJlIHlvdSBhcmUgY3JlYXRpbmcgdGhlIFN0eXRjaCBjbGllbnQgYXQgdGhlIGdsb2JhbCBsZXZlbCwgYW5kIG5vdCBpbnNpZGUgYSBjb21wb25lbnQncyByZW5kZXIgZnVuY3Rpb24uXCIpO31pZihleGlzdGluZ0lmcmFtZS5kYXRhc2V0LmxvYWRlZD09PSd0cnVlJyl7dGhpcy5mcmFtZT1Qcm9taXNlLnJlc29sdmUoZXhpc3RpbmdJZnJhbWUpO3JldHVybjt9dGhpcy5mcmFtZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtleGlzdGluZ0lmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJyxmdW5jdGlvbigpe2V4aXN0aW5nSWZyYW1lLmRhdGFzZXQubG9hZGVkPSd0cnVlJztyZXNvbHZlKGV4aXN0aW5nSWZyYW1lKTt9LHtvbmNlOnRydWV9KTt9KTt9fSx7a2V5OlwiY2FsbFwiLHZhbHVlOmZ1bmN0aW9uIGNhbGwobWV0aG9kLGFyZ3Mpe3JldHVybiBfX2F3YWl0ZXIkMSh0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMjcoKXt2YXIgX3RoaXMyMj10aGlzO3ZhciBmcmFtZSxjaGFubmVsO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTI3JChfY29udGV4dDEyNyl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQxMjcucHJldj1fY29udGV4dDEyNy5uZXh0KXtjYXNlIDA6X2NvbnRleHQxMjcubmV4dD0yO3JldHVybiB0aGlzLmZyYW1lO2Nhc2UgMjpmcmFtZT1fY29udGV4dDEyNy5zZW50O2NoYW5uZWw9bmV3IE1lc3NhZ2VDaGFubmVsKCk7cmV0dXJuIF9jb250ZXh0MTI3LmFicnVwdChcInJldHVyblwiLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgX2E7Y2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZXZlbnQpe3ZhciByZXNwPWV2ZW50LmRhdGE7Y2hhbm5lbC5wb3J0MS5jbG9zZSgpO2lmKHJlc3Auc3VjY2Vzcyl7cmVzb2x2ZShyZXNwLnBheWxvYWQpO31lbHNle3JlamVjdChFcnJvck1hcnNoYWxsZXIudW5tYXJzaGFsbChyZXNwLmVycm9yKSk7fX07dmFyIG1lc3NhZ2U9e21ldGhvZDptZXRob2QsYXJnczphcmdzfTsoX2E9ZnJhbWUuY29udGVudFdpbmRvdyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EucG9zdE1lc3NhZ2UobWVzc2FnZSxfdGhpczIyLmlmcmFtZVVSTCxbY2hhbm5lbC5wb3J0Ml0pO30pKTtjYXNlIDU6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTI3LnN0b3AoKTt9fSxfY2FsbGVlMTI3LHRoaXMpO30pKTt9fV0pO3JldHVybiBJZnJhbWVIb3N0Q2xpZW50O30oKTt2YXIgU2VhcmNoRGF0YU1hbmFnZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gU2VhcmNoRGF0YU1hbmFnZXIoX25ldHdvcmtDbGllbnQsZGZwUHJvdGVjdGVkQXV0aCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2VhcmNoRGF0YU1hbmFnZXIpO3RoaXMuX25ldHdvcmtDbGllbnQ9X25ldHdvcmtDbGllbnQ7dGhpcy5kZnBQcm90ZWN0ZWRBdXRoPWRmcFByb3RlY3RlZEF1dGg7fV9jcmVhdGVDbGFzcyhTZWFyY2hEYXRhTWFuYWdlcixbe2tleTpcInNlYXJjaFVzZXJcIix2YWx1ZTpmdW5jdGlvbiBzZWFyY2hVc2VyKGVtYWlsKXt2YXIgX3RoaXMyND10aGlzO3JldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCkudGhlbihmdW5jdGlvbihfcmVmNyl7dmFyIGRmcF90ZWxlbWV0cnlfaWQ9X3JlZjcuZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuPV9yZWY3LmNhcHRjaGFfdG9rZW47cmV0dXJuIF90aGlzMjQuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe3VybDpcIi91c2Vycy9zZWFyY2hcIixtZXRob2Q6J1BPU1QnLGJvZHk6e2VtYWlsOmVtYWlsLGRmcF90ZWxlbWV0cnlfaWQ6ZGZwX3RlbGVtZXRyeV9pZCxjYXB0Y2hhX3Rva2VuOmNhcHRjaGFfdG9rZW59LGVycm9yTWVzc2FnZTpcIkVycm9yIHNlYXJjaGluZyBmb3IgdXNlciBcIi5jb25jYXQoZW1haWwpfSk7fSk7fX0se2tleTpcInNlYXJjaE1lbWJlclwiLHZhbHVlOmZ1bmN0aW9uIHNlYXJjaE1lbWJlcihlbWFpbCxvcmdhbml6YXRpb25faWQpe3JldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6XCIvYjJiL29yZ2FuaXphdGlvbnMvbWVtYmVycy9zZWFyY2hcIixtZXRob2Q6J1BPU1QnLGJvZHk6e2VtYWlsX2FkZHJlc3M6ZW1haWwsb3JnYW5pemF0aW9uX2lkOm9yZ2FuaXphdGlvbl9pZH0sZXJyb3JNZXNzYWdlOlwiRXJyb3Igc2VhcmNoaW5nIGZvciBtZW1iZXIgXCIuY29uY2F0KGVtYWlsKX0pO319XSk7cmV0dXJuIFNlYXJjaERhdGFNYW5hZ2VyO30oKTt2YXIgc2hvdWxkVHJ5UmVmcmVzaD1mdW5jdGlvbiBzaG91bGRUcnlSZWZyZXNoKHN0YXRlKXtyZXR1cm4hIShzdGF0ZT09PW51bGx8fHN0YXRlPT09dm9pZCAwP3ZvaWQgMDpzdGF0ZS5zZXNzaW9uKTt9O3ZhciBTZXNzaW9uTWFuYWdlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBTZXNzaW9uTWFuYWdlcihfc3Vic2NyaXB0aW9uU2VydmljZSxfaGVhZGxlc3NTZXNzaW9uQ2xpZW50KXt2YXIgX3RoaXMyNT10aGlzO19jbGFzc0NhbGxDaGVjayh0aGlzLFNlc3Npb25NYW5hZ2VyKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPV9zdWJzY3JpcHRpb25TZXJ2aWNlO3RoaXMuX2hlYWRsZXNzU2Vzc2lvbkNsaWVudD1faGVhZGxlc3NTZXNzaW9uQ2xpZW50O3RoaXMuX29uRGF0YUNoYW5nZT1mdW5jdGlvbihzdGF0ZSl7aWYoc2hvdWxkVHJ5UmVmcmVzaChzdGF0ZSkpe190aGlzMjUuc2NoZWR1bGVCYWNrZ3JvdW5kUmVmcmVzaCgpO31lbHNle190aGlzMjUuY2FuY2VsQmFja2dyb3VuZFJlZnJlc2goKTt9fTt0aGlzLl9yZWF1dGhlbnRpY2F0ZVdpdGhCYWNrb2ZmPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMjUsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyOSgpe3ZhciBjb3VudDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyOSQoX2NvbnRleHQxMjkpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0MTI5LnByZXY9X2NvbnRleHQxMjkubmV4dCl7Y2FzZSAwOmNvdW50PTA7Y2FzZSAxOl9jb250ZXh0MTI5LnByZXY9MjtfY29udGV4dDEyOS5uZXh0PTU7cmV0dXJuIHRoaXMuX2hlYWRsZXNzU2Vzc2lvbkNsaWVudC5hdXRoZW50aWNhdGUoKTtjYXNlIDU6cmV0dXJuIF9jb250ZXh0MTI5LmFicnVwdChcInJldHVyblwiLF9jb250ZXh0MTI5LnNlbnQpO2Nhc2UgODpfY29udGV4dDEyOS5wcmV2PTg7X2NvbnRleHQxMjkudDA9X2NvbnRleHQxMjlbXCJjYXRjaFwiXSgyKTtpZighU2Vzc2lvbk1hbmFnZXIuaXNVbnJlY292ZXJhYmxlRXJyb3IoX2NvbnRleHQxMjkudDApKXtfY29udGV4dDEyOS5uZXh0PTEyO2JyZWFrO31yZXR1cm4gX2NvbnRleHQxMjkuYWJydXB0KFwicmV0dXJuXCIsUHJvbWlzZS5yZWplY3QoX2NvbnRleHQxMjkudDApKTtjYXNlIDEyOmNvdW50Kys7X2NvbnRleHQxMjkubmV4dD0xNTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZG9uZSl7cmV0dXJuIHNldFRpbWVvdXQoZG9uZSxTZXNzaW9uTWFuYWdlci50aW1lb3V0Rm9yQXR0ZW1wdChjb3VudCkpO30pO2Nhc2UgMTU6X2NvbnRleHQxMjkubmV4dD0xO2JyZWFrO2Nhc2UgMTc6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0MTI5LnN0b3AoKTt9fSxfY2FsbGVlMTI5LHRoaXMsW1syLDhdXSk7fSkpO307dGhpcy50aW1lb3V0PW51bGw7dGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5zdWJzY3JpYmVUb1N0YXRlKHRoaXMuX29uRGF0YUNoYW5nZSk7fV9jcmVhdGVDbGFzcyhTZXNzaW9uTWFuYWdlcixbe2tleTpcInBlcmZvcm1CYWNrZ3JvdW5kUmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uIHBlcmZvcm1CYWNrZ3JvdW5kUmVmcmVzaCgpe3ZhciBfdGhpczI2PXRoaXM7dGhpcy5fcmVhdXRoZW50aWNhdGVXaXRoQmFja29mZigpLnRoZW4oZnVuY3Rpb24oKXtfdGhpczI2LnNjaGVkdWxlQmFja2dyb3VuZFJlZnJlc2goKTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGVycm9yKXtsb2dnZXIud2FybignU2Vzc2lvbiBiYWNrZ3JvdW5kIHJlZnJlc2ggZmFpbGVkLiBTaWduYWxsaW5nIHRvIGFwcCB0aGF0IHVzZXIgaXMgbG9nZ2VkIG91dC4nLHtlcnJvcjplcnJvcn0pO190aGlzMjYuX3N1YnNjcmlwdGlvblNlcnZpY2UuZGVzdHJveVNlc3Npb24oKTt9KTt9fSx7a2V5Olwic2NoZWR1bGVCYWNrZ3JvdW5kUmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uIHNjaGVkdWxlQmFja2dyb3VuZFJlZnJlc2goKXt2YXIgX3RoaXMyNz10aGlzO3RoaXMuY2FuY2VsQmFja2dyb3VuZFJlZnJlc2goKTt0aGlzLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe190aGlzMjcucGVyZm9ybUJhY2tncm91bmRSZWZyZXNoKCk7fSxTZXNzaW9uTWFuYWdlci5SRUZSRVNIX0lOVEVSVkFMX01TKTt9fSx7a2V5OlwiY2FuY2VsQmFja2dyb3VuZFJlZnJlc2hcIix2YWx1ZTpmdW5jdGlvbiBjYW5jZWxCYWNrZ3JvdW5kUmVmcmVzaCgpe2lmKHRoaXMudGltZW91dCE9PW51bGwpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO3RoaXMudGltZW91dD1udWxsO319fV0sW3trZXk6XCJ0aW1lb3V0Rm9yQXR0ZW1wdFwiLHZhbHVlOmZ1bmN0aW9uIHRpbWVvdXRGb3JBdHRlbXB0KGNvdW50KXtjb3VudD1NYXRoLm1pbihjb3VudCw3KTt2YXIgaml0dGVyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozNTApLTE3NTt2YXIgZGVsYXlNUz0yMDAwKk1hdGgucG93KDIsY291bnQpO3JldHVybiBqaXR0ZXIrZGVsYXlNUzt9fSx7a2V5OlwiaXNVbnJlY292ZXJhYmxlRXJyb3JcIix2YWx1ZTpmdW5jdGlvbiBpc1VucmVjb3ZlcmFibGVFcnJvcihlcnJvcil7cmV0dXJuIFVOUkVDT1ZFUkFCTEVfRVJST1JfVFlQRVMuaW5jbHVkZXMoZXJyb3IuZXJyb3JfdHlwZSk7fX1dKTtyZXR1cm4gU2Vzc2lvbk1hbmFnZXI7fSgpO1Nlc3Npb25NYW5hZ2VyLlJFRlJFU0hfSU5URVJWQUxfTVM9MTAwMCo2MCozO3ZhciBTdGF0ZUNoYW5nZUNsaWVudD0vKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIFN0YXRlQ2hhbmdlQ2xpZW50KF9zdWJzY3JpcHRpb25TZXJ2aWNlLGVtcHR5U3RhdGUpe3ZhciBfdGhpczI4PXRoaXM7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3RhdGVDaGFuZ2VDbGllbnQpO3RoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2U9X3N1YnNjcmlwdGlvblNlcnZpY2U7dGhpcy5lbXB0eVN0YXRlPWVtcHR5U3RhdGU7dGhpcy5vblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gX3RoaXMyOC5fc3Vic2NyaXB0aW9uU2VydmljZS5zdWJzY3JpYmVUb1N0YXRlKGZ1bmN0aW9uKHN0YXRlKXtjYWxsYmFjayhzdGF0ZSE9PW51bGwmJnN0YXRlIT09dm9pZCAwP3N0YXRlOl90aGlzMjguZW1wdHlTdGF0ZSk7fSk7fTt9KTt2YXIgQk9PVFNUUkFQX0NBQ0hFX0tFWT0nYm9vdHN0cmFwJzt2YXIgREVGQVVMVF9CT09UU1RSQVA9ZnVuY3Rpb24gREVGQVVMVF9CT09UU1RSQVAoKXtyZXR1cm57ZGlzcGxheVdhdGVybWFyazpmYWxzZSxjbmFtZURvbWFpbjpudWxsLGVtYWlsRG9tYWluczpbJ3N0eXRjaC5jb20nXSxjYXB0Y2hhU2V0dGluZ3M6e2VuYWJsZWQ6ZmFsc2V9LHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rczpmYWxzZSxwa2NlUmVxdWlyZWRGb3JQYXNzd29yZFJlc2V0czpmYWxzZSxwa2NlUmVxdWlyZWRGb3JPQXV0aDpmYWxzZSxwa2NlUmVxdWlyZWRGb3JTc286ZmFsc2Usc2x1Z1BhdHRlcm46bnVsbCxjcmVhdGVPcmdhbml6YXRpb25FbmFibGVkOmZhbHNlLHBhc3N3b3JkQ29uZmlnOm51bGwscnVuREZQUHJvdGVjdGVkQXV0aDpmYWxzZSxyYmFjUG9saWN5Om51bGx9O307dmFyIEJvb3RzdHJhcERhdGFNYW5hZ2VyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEJvb3RzdHJhcERhdGFNYW5hZ2VyKF9wdWJsaWNUb2tlbixfbmV0d29ya0NsaWVudCxfZGF0YUxheWVyKXt2YXIgX3RoaXM5PXRoaXM7X2NsYXNzQ2FsbENoZWNrMih0aGlzLEJvb3RzdHJhcERhdGFNYW5hZ2VyKTt0aGlzLl9wdWJsaWNUb2tlbj1fcHVibGljVG9rZW47dGhpcy5fbmV0d29ya0NsaWVudD1fbmV0d29ya0NsaWVudDt0aGlzLl9kYXRhTGF5ZXI9X2RhdGFMYXllcjt0aGlzLl9ib290c3RyYXBEYXRhUHJvbWlzZT10aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHt1cmw6XCIvcHJvamVjdHMvYm9vdHN0cmFwL1wiLmNvbmNhdCh0aGlzLl9wdWJsaWNUb2tlbiksbWV0aG9kOidHRVQnLGVycm9yTWVzc2FnZTpcIkVycm9yIGZldGNoaW5nIGJvb3RzdHJhcCBkYXRhIGZvciBTREsgZm9yIFwiLmNvbmNhdCh0aGlzLl9wdWJsaWNUb2tlbil9KS50aGVuKEJvb3RzdHJhcERhdGFNYW5hZ2VyLm1hcEJvb3RzdHJhcERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7X3RoaXM5Ll9kYXRhTGF5ZXIuc2V0SXRlbShCT09UU1RSQVBfQ0FDSEVfS0VZLEpTT04uc3RyaW5naWZ5KGRhdGEpKTtyZXR1cm4gZGF0YTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGVycm9yKXtsb2dnZXIuZXJyb3IoZXJyb3IpO3JldHVybiBERUZBVUxUX0JPT1RTVFJBUCgpO30pO31fY3JlYXRlQ2xhc3MyKEJvb3RzdHJhcERhdGFNYW5hZ2VyLFt7a2V5OlwiZ2V0U3luY1wiLHZhbHVlOmZ1bmN0aW9uIGdldFN5bmMoKXt2YXIgY2FjaGVkPXRoaXMuX2RhdGFMYXllci5nZXRJdGVtKEJPT1RTVFJBUF9DQUNIRV9LRVkpO2lmKGNhY2hlZD09PW51bGwpe3JldHVybiBERUZBVUxUX0JPT1RTVFJBUCgpO310cnl7cmV0dXJuIEpTT04ucGFyc2UoY2FjaGVkKTt9Y2F0Y2goX2Epe3JldHVybiBERUZBVUxUX0JPT1RTVFJBUCgpO319fSx7a2V5OlwiZ2V0QXN5bmNcIix2YWx1ZTpmdW5jdGlvbiBnZXRBc3luYygpe3JldHVybiB0aGlzLl9ib290c3RyYXBEYXRhUHJvbWlzZTt9fV0sW3trZXk6XCJtYXBCb290c3RyYXBEYXRhXCIsdmFsdWU6ZnVuY3Rpb24gbWFwQm9vdHN0cmFwRGF0YShyZXNwb25zZSl7dmFyIF9hLF9iO3ZhciBwYXNzd29yZENvbmZpZz1yZXNwb25zZS5wYXNzd29yZF9jb25maWchPT1udWxsP3tsdWRzQ29tcGxleGl0eTpyZXNwb25zZS5wYXNzd29yZF9jb25maWcubHVkc19jb21wbGV4aXR5LGx1ZHNNaW5pbXVtQ291bnQ6cmVzcG9uc2UucGFzc3dvcmRfY29uZmlnLmx1ZHNfbWluaW11bV9jb3VudH06bnVsbDtyZXR1cm57ZGlzcGxheVdhdGVybWFyazohcmVzcG9uc2UuZGlzYWJsZV9zZGtfd2F0ZXJtYXJrLGNhcHRjaGFTZXR0aW5nczpyZXNwb25zZS5jYXB0Y2hhX3NldHRpbmdzLGNuYW1lRG9tYWluOnJlc3BvbnNlLmNuYW1lX2RvbWFpbixlbWFpbERvbWFpbnM6cmVzcG9uc2UuZW1haWxfZG9tYWlucyxwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M6cmVzcG9uc2UucGtjZV9yZXF1aXJlZF9mb3JfZW1haWxfbWFnaWNfbGlua3MscGtjZVJlcXVpcmVkRm9yUGFzc3dvcmRSZXNldHM6cmVzcG9uc2UucGtjZV9yZXF1aXJlZF9mb3JfcGFzc3dvcmRfcmVzZXRzLHBrY2VSZXF1aXJlZEZvck9BdXRoOnJlc3BvbnNlLnBrY2VfcmVxdWlyZWRfZm9yX29hdXRoLHBrY2VSZXF1aXJlZEZvclNzbzpyZXNwb25zZS5wa2NlX3JlcXVpcmVkX2Zvcl9zc28sc2x1Z1BhdHRlcm46cmVzcG9uc2Uuc2x1Z19wYXR0ZXJuLGNyZWF0ZU9yZ2FuaXphdGlvbkVuYWJsZWQ6cmVzcG9uc2UuY3JlYXRlX29yZ2FuaXphdGlvbl9lbmFibGVkLHBhc3N3b3JkQ29uZmlnOnBhc3N3b3JkQ29uZmlnLHJ1bkRGUFByb3RlY3RlZEF1dGg6KF9hPXJlc3BvbnNlLmRmcF9wcm90ZWN0ZWRfYXV0aF9lbmFibGVkKSE9PW51bGwmJl9hIT09dm9pZCAwP19hOmZhbHNlLGRmcFByb3RlY3RlZEF1dGhNb2RlOnJlc3BvbnNlLmRmcF9wcm90ZWN0ZWRfYXV0aF9tb2RlLHJiYWNQb2xpY3k6KF9iPXJlc3BvbnNlLnJiYWNfcG9saWN5KSE9PW51bGwmJl9iIT09dm9pZCAwP19iOm51bGx9O319XSk7cmV0dXJuIEJvb3RzdHJhcERhdGFNYW5hZ2VyO30oKTtmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtmdW5jdGlvbiBhZG9wdCh2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKTt9KTt9cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTt9Y2F0Y2goZSl7cmVqZWN0KGUpO319ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7fWNhdGNoKGUpe3JlamVjdChlKTt9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6YWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCk7fXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSk7fSk7fXR5cGVvZiBTdXBwcmVzc2VkRXJyb3I9PT1cImZ1bmN0aW9uXCI/U3VwcHJlc3NlZEVycm9yOmZ1bmN0aW9uKGVycm9yLHN1cHByZXNzZWQsbWVzc2FnZSl7dmFyIGU9bmV3IEVycm9yKG1lc3NhZ2UpO3JldHVybiBlLm5hbWU9XCJTdXBwcmVzc2VkRXJyb3JcIixlLmVycm9yPWVycm9yLGUuc3VwcHJlc3NlZD1zdXBwcmVzc2VkLGU7fTt2YXIgbG9hZFJlY2FwdGNoYUNsaWVudD1mdW5jdGlvbiBsb2FkUmVjYXB0Y2hhQ2xpZW50KHNpdGVLZXkpe3JldHVybiBsb2FkRVNNb2R1bGUoXCJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9lbnRlcnByaXNlLmpzP3JlbmRlcj1cIi5jb25jYXQoc2l0ZUtleSksZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmdyZWNhcHRjaGEuZW50ZXJwcmlzZTt9KTt9O3ZhciBDYXB0Y2hhUHJvdmlkZXI9LyojX19QVVJFX18qL19jcmVhdGVDbGFzczIoZnVuY3Rpb24gQ2FwdGNoYVByb3ZpZGVyKGJvb3RzdHJhcFByb21pc2Upe3ZhciBfdGhpczEwPXRoaXM7X2NsYXNzQ2FsbENoZWNrMih0aGlzLENhcHRjaGFQcm92aWRlcik7dGhpcy5ib290c3RyYXBQcm9taXNlPWJvb3RzdHJhcFByb21pc2U7dGhpcy5leGVjdXRlUmVjYXB0Y2hhPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihfdGhpczEwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNTkoKXt2YXIgX3lpZWxkJHRoaXMkc3RhdGU0LGNhcHRjaGFDbGllbnQsY29uZmlndXJlZCxzaXRlS2V5O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU5JChfY29udGV4dDU5KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDU5LnByZXY9X2NvbnRleHQ1OS5uZXh0KXtjYXNlIDA6X2NvbnRleHQ1OS5uZXh0PTI7cmV0dXJuIHRoaXMuc3RhdGU7Y2FzZSAyOl95aWVsZCR0aGlzJHN0YXRlND1fY29udGV4dDU5LnNlbnQ7Y2FwdGNoYUNsaWVudD1feWllbGQkdGhpcyRzdGF0ZTQuY2FwdGNoYUNsaWVudDtjb25maWd1cmVkPV95aWVsZCR0aGlzJHN0YXRlNC5jb25maWd1cmVkO3NpdGVLZXk9X3lpZWxkJHRoaXMkc3RhdGU0LnNpdGVLZXk7aWYoY29uZmlndXJlZCl7X2NvbnRleHQ1OS5uZXh0PTg7YnJlYWs7fXJldHVybiBfY29udGV4dDU5LmFicnVwdChcInJldHVyblwiLHVuZGVmaW5lZCk7Y2FzZSA4Ol9jb250ZXh0NTkubmV4dD0xMDtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSl7cmV0dXJuIGNhcHRjaGFDbGllbnQucmVhZHkocmVzb2x2ZSk7fSk7Y2FzZSAxMDpyZXR1cm4gX2NvbnRleHQ1OS5hYnJ1cHQoXCJyZXR1cm5cIixjYXB0Y2hhQ2xpZW50LmV4ZWN1dGUoc2l0ZUtleSx7YWN0aW9uOidMT0dJTid9KSk7Y2FzZSAxMTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ1OS5zdG9wKCk7fX0sX2NhbGxlZTU5LHRoaXMpO30pKTt9O3RoaXMuc3RhdGU9Ym9vdHN0cmFwUHJvbWlzZS50aGVuKGZ1bmN0aW9uKGJvb3RzdHJhcERhdGEpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMxMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYwKCl7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjAkKF9jb250ZXh0NjApe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NjAucHJldj1fY29udGV4dDYwLm5leHQpe2Nhc2UgMDppZihib290c3RyYXBEYXRhLmNhcHRjaGFTZXR0aW5ncy5lbmFibGVkKXtfY29udGV4dDYwLm5leHQ9MjticmVhazt9cmV0dXJuIF9jb250ZXh0NjAuYWJydXB0KFwicmV0dXJuXCIse2NvbmZpZ3VyZWQ6ZmFsc2V9KTtjYXNlIDI6X2NvbnRleHQ2MC5uZXh0PTQ7cmV0dXJuIGxvYWRSZWNhcHRjaGFDbGllbnQoYm9vdHN0cmFwRGF0YS5jYXB0Y2hhU2V0dGluZ3Muc2l0ZUtleSk7Y2FzZSA0Ol9jb250ZXh0NjAudDA9X2NvbnRleHQ2MC5zZW50O19jb250ZXh0NjAudDE9Ym9vdHN0cmFwRGF0YS5jYXB0Y2hhU2V0dGluZ3Muc2l0ZUtleTtyZXR1cm4gX2NvbnRleHQ2MC5hYnJ1cHQoXCJyZXR1cm5cIix7Y29uZmlndXJlZDp0cnVlLGNhcHRjaGFDbGllbnQ6X2NvbnRleHQ2MC50MCxzaXRlS2V5Ol9jb250ZXh0NjAudDF9KTtjYXNlIDc6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NjAuc3RvcCgpO319LF9jYWxsZWU2MCk7fSkpO30pO30pO3ZhciBDbGllbnRzaWRlU2VydmljZXNQcm92aWRlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBDbGllbnRzaWRlU2VydmljZXNQcm92aWRlcihpZnJhbWVVUkwpe3ZhciBfdGhpczExPXRoaXM7X2NsYXNzQ2FsbENoZWNrMih0aGlzLENsaWVudHNpZGVTZXJ2aWNlc1Byb3ZpZGVyKTt0aGlzLmlmcmFtZVVSTD1pZnJhbWVVUkw7dGhpcy5vbmVUYXBTdGFydD1mdW5jdGlvbihyZXEpe3JldHVybiBfdGhpczExLmNhbGwoJ29uZVRhcFN0YXJ0JyxyZXEpO307dGhpcy5vbmVUYXBTdWJtaXQ9ZnVuY3Rpb24ocmVxKXtyZXR1cm4gX3RoaXMxMS5jYWxsKCdvbmVUYXBTdWJtaXQnLHJlcSk7fTt0aGlzLnBhcnNlZFBob25lTnVtYmVyPWZ1bmN0aW9uKHJlcSl7cmV0dXJuIF90aGlzMTEuY2FsbCgncGFyc2VkUGhvbmVOdW1iZXInLHJlcSk7fTt9X2NyZWF0ZUNsYXNzMihDbGllbnRzaWRlU2VydmljZXNQcm92aWRlcixbe2tleTpcImZyYW1lQ2xpZW50XCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBfYTt0aGlzLl9mcmFtZUNsaWVudD0oX2E9dGhpcy5fZnJhbWVDbGllbnQpIT09bnVsbCYmX2EhPT12b2lkIDA/X2E6bmV3IElmcmFtZUhvc3RDbGllbnQodGhpcy5pZnJhbWVVUkwpO3JldHVybiB0aGlzLl9mcmFtZUNsaWVudDt9fSx7a2V5OlwiY2FsbFwiLHZhbHVlOmZ1bmN0aW9uIGNhbGwoaGFuZGxlck5hbWUscmVxKXtyZXR1cm4gdGhpcy5mcmFtZUNsaWVudC5jYWxsKGhhbmRsZXJOYW1lLFtyZXFdKTt9fV0pO3JldHVybiBDbGllbnRzaWRlU2VydmljZXNQcm92aWRlcjt9KCk7dmFyIEhlYWRsZXNzT0F1dGhDbGllbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9IZWFkbGVzc09BdXRoQ2xpZW50JCl7X2luaGVyaXRzMihIZWFkbGVzc09BdXRoQ2xpZW50LF9IZWFkbGVzc09BdXRoQ2xpZW50JCk7ZnVuY3Rpb24gSGVhZGxlc3NPQXV0aENsaWVudChfbmV0d29ya0NsaWVudCxfc3Vic2NyaXB0aW9uU2VydmljZSxfcGtjZU1hbmFnZXIsX2R5bmFtaWNDb25maWcsX2NvbmZpZyxfb25lVGFwKXt2YXIgX3RoaXMxMjtfY2xhc3NDYWxsQ2hlY2syKHRoaXMsSGVhZGxlc3NPQXV0aENsaWVudCk7X3RoaXMxMj1fY2FsbFN1cGVyMih0aGlzLEhlYWRsZXNzT0F1dGhDbGllbnQsW19uZXR3b3JrQ2xpZW50LF9zdWJzY3JpcHRpb25TZXJ2aWNlLF9wa2NlTWFuYWdlcixfZHluYW1pY0NvbmZpZyxfY29uZmlnXSk7X3RoaXMxMi5fb25lVGFwPV9vbmVUYXA7X3RoaXMxMi5zdGFydE9uZVRhcD1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gX19hd2FpdGVyKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQyKF90aGlzMTIpLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjEoKXt2YXIgY2xpZW50UmVzdWx0LGNsaWVudCxvblN1Y2Nlc3NDYWxsYmFjaztyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZTIoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MSQoX2NvbnRleHQ2MSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ2MS5wcmV2PV9jb250ZXh0NjEubmV4dCl7Y2FzZSAwOl9jb250ZXh0NjEubmV4dD0yO3JldHVybiB0aGlzLl9vbmVUYXAuY3JlYXRlT25lVGFwQ2xpZW50KCk7Y2FzZSAyOmNsaWVudFJlc3VsdD1fY29udGV4dDYxLnNlbnQ7aWYoY2xpZW50UmVzdWx0LnN1Y2Nlc3Mpe19jb250ZXh0NjEubmV4dD01O2JyZWFrO310aHJvdyBuZXcgRXJyb3IoXCJPbmUgVGFwIGNvdWxkIG5vdCBsb2FkOiBcIi5jb25jYXQoY2xpZW50UmVzdWx0LnJlYXNvbikpO2Nhc2UgNTpjbGllbnQ9Y2xpZW50UmVzdWx0LmNsaWVudDtvblN1Y2Nlc3NDYWxsYmFjaz10aGlzLl9vbmVUYXAuY3JlYXRlT25TdWNjZXNzSGFuZGxlcih7c2lnbnVwUmVkaXJlY3RVcmw6b3B0aW9ucy5zaWdudXBfcmVkaXJlY3RfdXJsLGxvZ2luUmVkaXJlY3RVcmw6b3B0aW9ucy5sb2dpbl9yZWRpcmVjdF91cmwsb25TdWNjZXNzOnRoaXMuX29uZVRhcC5SZWRpcmVjdE9uU3VjY2Vzc30pO3JldHVybiBfY29udGV4dDYxLmFicnVwdChcInJldHVyblwiLGNsaWVudC5yZW5kZXIoe3N0eWxlOntwb3NpdGlvbjpPbmVUYXBQb3NpdGlvbnMuZmxvYXRpbmd9LG9uT25lVGFwQ2FuY2VsbGVkOm9wdGlvbnMub25PbmVUYXBDYW5jZWxsZWQsY2FsbGJhY2s6b25TdWNjZXNzQ2FsbGJhY2t9KSk7Y2FzZSA4OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDYxLnN0b3AoKTt9fSxfY2FsbGVlNjEsdGhpcyk7fSkpO307X3RoaXMxMi5nb29nbGVPbmVUYXA9e3N0YXJ0Ol90aGlzMTIuc3RhcnRPbmVUYXB9O3JldHVybiBfdGhpczEyO31yZXR1cm4gX2NyZWF0ZUNsYXNzMihIZWFkbGVzc09BdXRoQ2xpZW50KTt9KEhlYWRsZXNzT0F1dGhDbGllbnQkMSk7dmFyIHZlcnNpb249XCI0LjE1LjBcIjt2YXIgTmV0d29ya0NsaWVudD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBOZXR3b3JrQ2xpZW50KF9wdWJsaWNUb2tlbixfc3Vic2NyaXB0aW9uRGF0YUxheWVyLGJhc2VVUkwsYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbil7X2NsYXNzQ2FsbENoZWNrMih0aGlzLE5ldHdvcmtDbGllbnQpO3RoaXMuX3B1YmxpY1Rva2VuPV9wdWJsaWNUb2tlbjt0aGlzLl9zdWJzY3JpcHRpb25EYXRhTGF5ZXI9X3N1YnNjcmlwdGlvbkRhdGFMYXllcjt0aGlzLmJhc2VVUkw9YmFzZVVSTDt0aGlzLmFkZGl0aW9uYWxUZWxlbWV0cnlEYXRhRm49YWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbjt0aGlzLnVwZGF0ZVNlc3Npb25Ub2tlbj1mdW5jdGlvbigpe3JldHVybiBudWxsO307dGhpcy5ldmVudExvZ2dlcj1uZXcgRXZlbnRMb2dnZXIoe21heEJhdGNoU2l6ZTpERUZBVUxUX01BWF9CQVRDSF9TSVpFLGludGVydmFsRHVyYXRpb25NczpERUZBVUxUX0lOVEVSVkFMX0RVUkFUSU9OX01TLGxvZ0V2ZW50VVJMOnRoaXMuYnVpbGRTREtVcmwoJy9ldmVudHMnKX0pO31fY3JlYXRlQ2xhc3MyKE5ldHdvcmtDbGllbnQsW3trZXk6XCJsb2dFdmVudFwiLHZhbHVlOmZ1bmN0aW9uIGxvZ0V2ZW50KF9yZWY0KXt2YXIgbmFtZT1fcmVmNC5uYW1lLGRldGFpbHM9X3JlZjQuZGV0YWlscyxfcmVmNCRlcnJvcj1fcmVmNC5lcnJvcixlcnJvcj1fcmVmNCRlcnJvcj09PXZvaWQgMD97fTpfcmVmNCRlcnJvcjt0aGlzLmV2ZW50TG9nZ2VyLmxvZ0V2ZW50KHRoaXMuY3JlYXRlVGVsZW1ldHJ5QmxvYigpLHtwdWJsaWNfdG9rZW46dGhpcy5fcHVibGljVG9rZW4sZXZlbnRfbmFtZTpuYW1lLGRldGFpbHM6ZGV0YWlscyxlcnJvcl9jb2RlOmVycm9yLmVycm9yX2NvZGUsZXJyb3JfZGVzY3JpcHRpb246ZXJyb3IuZXJyb3JfZGVzY3JpcHRpb24saHR0cF9zdGF0dXNfY29kZTplcnJvci5odHRwX3N0YXR1c19jb2RlfSk7fX0se2tleTpcImNyZWF0ZVRlbGVtZXRyeUJsb2JcIix2YWx1ZTpmdW5jdGlvbiBjcmVhdGVUZWxlbWV0cnlCbG9iKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7ZXZlbnRfaWQ6Y3JlYXRlRXZlbnRJZCgpLGFwcF9zZXNzaW9uX2lkOmNyZWF0ZUFwcFNlc3Npb25JZCgpLHBlcnNpc3RlbnRfaWQ6Y3JlYXRlUGVyc2lzdGVudElkKCksY2xpZW50X3NlbnRfYXQ6bmV3IERhdGUoKS50b0lTT1N0cmluZygpLHRpbWV6b25lOkludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX0sdGhpcy5hZGRpdGlvbmFsVGVsZW1ldHJ5RGF0YUZuKCkpLHthcHA6e2lkZW50aWZpZXI6d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfSxzZGs6e2lkZW50aWZpZXI6J1N0eXRjaC5qcyBKYXZhc2NyaXB0IFNESycsdmVyc2lvbjp2ZXJzaW9ufX0pO319LHtrZXk6XCJmZXRjaFNES1wiLHZhbHVlOmZ1bmN0aW9uIGZldGNoU0RLKF9yZWY1KXt2YXIgdXJsPV9yZWY1LnVybCxib2R5PV9yZWY1LmJvZHksZXJyb3JNZXNzYWdlPV9yZWY1LmVycm9yTWVzc2FnZSxtZXRob2Q9X3JlZjUubWV0aG9kO3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYyKCl7dmFyIHNlc3Npb25Ub2tlbixiYXNpY0F1dGhIZWFkZXIseFNES0NsaWVudEhlYWRlcix4U0RLUGFyZW50SG9zdEhlYWRlcjtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZTIoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MiQoX2NvbnRleHQ2Mil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ2Mi5wcmV2PV9jb250ZXh0NjIubmV4dCl7Y2FzZSAwOnNlc3Npb25Ub2tlbj10aGlzLl9zdWJzY3JpcHRpb25EYXRhTGF5ZXIucmVhZFNlc3Npb25Db29raWUoKS5zZXNzaW9uX3Rva2VuO2Jhc2ljQXV0aEhlYWRlcj0nQmFzaWMgJyt3aW5kb3cuYnRvYSh0aGlzLl9wdWJsaWNUb2tlbisnOicrKHNlc3Npb25Ub2tlbnx8dGhpcy5fcHVibGljVG9rZW4pKTt4U0RLQ2xpZW50SGVhZGVyPXdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHRoaXMuY3JlYXRlVGVsZW1ldHJ5QmxvYigpKSk7eFNES1BhcmVudEhvc3RIZWFkZXI9d2luZG93LmxvY2F0aW9uLm9yaWdpbjtyZXR1cm4gX2NvbnRleHQ2Mi5hYnJ1cHQoXCJyZXR1cm5cIixiYXNlRmV0Y2hTREsoe2Jhc2ljQXV0aEhlYWRlcjpiYXNpY0F1dGhIZWFkZXIsYm9keTpib2R5LGVycm9yTWVzc2FnZTplcnJvck1lc3NhZ2UsZmluYWxVUkw6dGhpcy5idWlsZFNES1VybCh1cmwpLG1ldGhvZDptZXRob2QseFNES0NsaWVudEhlYWRlcjp4U0RLQ2xpZW50SGVhZGVyLHhTREtQYXJlbnRIb3N0SGVhZGVyOnhTREtQYXJlbnRIb3N0SGVhZGVyfSkpO2Nhc2UgNTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ2Mi5zdG9wKCk7fX0sX2NhbGxlZTYyLHRoaXMpO30pKTt9fSx7a2V5OlwicmV0cmlhYmxlRmV0Y2hTREtcIix2YWx1ZTpmdW5jdGlvbiByZXRyaWFibGVGZXRjaFNESyhfcmVmNil7dmFyIHVybD1fcmVmNi51cmwsYm9keT1fcmVmNi5ib2R5LGVycm9yTWVzc2FnZT1fcmVmNi5lcnJvck1lc3NhZ2UsbWV0aG9kPV9yZWY2Lm1ldGhvZCxyZXRyeUNhbGxiYWNrPV9yZWY2LnJldHJ5Q2FsbGJhY2s7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjMoKXt2YXIgc2Vzc2lvblRva2VuLGJhc2ljQXV0aEhlYWRlcix4U0RLQ2xpZW50SGVhZGVyLHhTREtQYXJlbnRIb3N0SGVhZGVyO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYzJChfY29udGV4dDYzKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDYzLnByZXY9X2NvbnRleHQ2My5uZXh0KXtjYXNlIDA6c2Vzc2lvblRva2VuPXRoaXMuX3N1YnNjcmlwdGlvbkRhdGFMYXllci5yZWFkU2Vzc2lvbkNvb2tpZSgpLnNlc3Npb25fdG9rZW47YmFzaWNBdXRoSGVhZGVyPSdCYXNpYyAnK3dpbmRvdy5idG9hKHRoaXMuX3B1YmxpY1Rva2VuKyc6Jysoc2Vzc2lvblRva2VufHx0aGlzLl9wdWJsaWNUb2tlbikpO3hTREtDbGllbnRIZWFkZXI9d2luZG93LmJ0b2EoSlNPTi5zdHJpbmdpZnkodGhpcy5jcmVhdGVUZWxlbWV0cnlCbG9iKCkpKTt4U0RLUGFyZW50SG9zdEhlYWRlcj13aW5kb3cubG9jYXRpb24ub3JpZ2luO3JldHVybiBfY29udGV4dDYzLmFicnVwdChcInJldHVyblwiLF9yZXRyaWFibGVGZXRjaFNESyh7YmFzaWNBdXRoSGVhZGVyOmJhc2ljQXV0aEhlYWRlcixib2R5OmJvZHksZXJyb3JNZXNzYWdlOmVycm9yTWVzc2FnZSxmaW5hbFVSTDp0aGlzLmJ1aWxkU0RLVXJsKHVybCksbWV0aG9kOm1ldGhvZCx4U0RLQ2xpZW50SGVhZGVyOnhTREtDbGllbnRIZWFkZXIseFNES1BhcmVudEhvc3RIZWFkZXI6eFNES1BhcmVudEhvc3RIZWFkZXIscmV0cnlDYWxsYmFjazpyZXRyeUNhbGxiYWNrfSkpO2Nhc2UgNTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ2My5zdG9wKCk7fX0sX2NhbGxlZTYzLHRoaXMpO30pKTt9fSx7a2V5OlwiYnVpbGRTREtVcmxcIix2YWx1ZTpmdW5jdGlvbiBidWlsZFNES1VybCh1cmwpe3JldHVyblwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCxcIi9zZGsvdjFcIikuY29uY2F0KHVybCk7fX1dKTtyZXR1cm4gTmV0d29ya0NsaWVudDt9KCk7dmFyIG5hdmlnYXRvclN1cHBvcnRzRmVkQ009dHlwZW9mIHdpbmRvdyE9PSd1bmRlZmluZWQnJiYnSWRlbnRpdHlDcmVkZW50aWFsJ2luIHdpbmRvdzt2YXIgZ2V0Q29uZmlndXJlZEVtYmVkZGVkTW9kZT1mdW5jdGlvbiBnZXRDb25maWd1cmVkRW1iZWRkZWRNb2RlKHBvc2l0aW9uKXtpZihwb3NpdGlvbj09PU9uZVRhcFBvc2l0aW9ucy5mb3JjZUxlZ2FjeUVtYmVkZGVkKXtyZXR1cm4nZm9yY2UnO31pZihwb3NpdGlvbj09PU9uZVRhcFBvc2l0aW9ucy5lbWJlZGRlZE9ubHl8fHBvc2l0aW9uPT09T25lVGFwUG9zaXRpb25zLmVtYmVkZGVkfHxwb3NpdGlvbj09PU9uZVRhcFBvc2l0aW9ucy5mbG9hdGluZ09yRW1iZWRkZWQpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTt2YXIgZ2V0U2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXA9ZnVuY3Rpb24gZ2V0U2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXAocG9zaXRpb24pe3ZhciBlbWJlZGRlZE1vZGU9Z2V0Q29uZmlndXJlZEVtYmVkZGVkTW9kZShwb3NpdGlvbik7cmV0dXJuIGVtYmVkZGVkTW9kZT09PSdmb3JjZSd8fGVtYmVkZGVkTW9kZSYmIW5hdmlnYXRvclN1cHBvcnRzRmVkQ007fTt2YXIgZ2V0U2hvdWxkUmVuZGVyRmxvYXRpbmdPbmVUYXA9ZnVuY3Rpb24gZ2V0U2hvdWxkUmVuZGVyRmxvYXRpbmdPbmVUYXAocG9zaXRpb24pe3JldHVybiBwb3NpdGlvbiE9PU9uZVRhcFBvc2l0aW9ucy5lbWJlZGRlZE9ubHkmJiFnZXRTaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcChwb3NpdGlvbik7fTt2YXIgZ2V0UmVuZGVyZWRPbmVUYXBNb2RlPWZ1bmN0aW9uIGdldFJlbmRlcmVkT25lVGFwTW9kZShwb3NpdGlvbil7dmFyIGVtYmVkZGVkTW9kZT1nZXRDb25maWd1cmVkRW1iZWRkZWRNb2RlKHBvc2l0aW9uKTtpZihlbWJlZGRlZE1vZGU9PT0nZm9yY2UnfHxlbWJlZGRlZE1vZGUmJiFuYXZpZ2F0b3JTdXBwb3J0c0ZlZENNKXtyZXR1cm4nZW1iZWRkZWQnO31pZihwb3NpdGlvbiE9PU9uZVRhcFBvc2l0aW9ucy5lbWJlZGRlZE9ubHkpe3JldHVybidmbG9hdGluZyc7fXJldHVybiBmYWxzZTt9O3ZhciBHb29nbGVPbmVUYXBDbGllbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gR29vZ2xlT25lVGFwQ2xpZW50KF9nb29nbGVDbGllbnQsX2NsaWVudElkKXtfY2xhc3NDYWxsQ2hlY2syKHRoaXMsR29vZ2xlT25lVGFwQ2xpZW50KTt0aGlzLl9nb29nbGVDbGllbnQ9X2dvb2dsZUNsaWVudDt0aGlzLl9jbGllbnRJZD1fY2xpZW50SWQ7fV9jcmVhdGVDbGFzczIoR29vZ2xlT25lVGFwQ2xpZW50LFt7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24gY2FuY2VsKCl7dGhpcy5fZ29vZ2xlQ2xpZW50LmNhbmNlbCgpO319LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbiByZW5kZXIoX3JlZjgpe3ZhciBjYWxsYmFjaz1fcmVmOC5jYWxsYmFjayxvbk9uZVRhcENhbmNlbGxlZD1fcmVmOC5vbk9uZVRhcENhbmNlbGxlZCxzdHlsZT1fcmVmOC5zdHlsZTtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NCgpe3ZhciBfdGhpczEzPXRoaXM7dmFyIGVtYmVkZGVkTW9kZSxzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCxjb25maWc7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjQkKF9jb250ZXh0NjQpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NjQucHJldj1fY29udGV4dDY0Lm5leHQpe2Nhc2UgMDplbWJlZGRlZE1vZGU9Z2V0Q29uZmlndXJlZEVtYmVkZGVkTW9kZShzdHlsZS5wb3NpdGlvbik7c2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXA9Z2V0U2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXAoc3R5bGUucG9zaXRpb24pO2NvbmZpZz17Y2xpZW50X2lkOnRoaXMuX2NsaWVudElkLGNhbGxiYWNrOmNhbGxiYWNrLGF1dG9fc2VsZWN0OmZhbHNlLGNvbnRleHQ6J3VzZScsaXRwX3N1cHBvcnQ6dHJ1ZSx1c2VfZmVkY21fZm9yX3Byb21wdDplbWJlZGRlZE1vZGUhPT0nZm9yY2UnfTtpZihzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCl7Y29uZmlnLnByb21wdF9wYXJlbnRfaWQ9J2dvb2dsZS1wYXJlbnQtcHJvbXB0Jztjb25maWcuY2FuY2VsX29uX3RhcF9vdXRzaWRlPWZhbHNlO310aGlzLl9nb29nbGVDbGllbnQuaW5pdGlhbGl6ZShjb25maWcpO3JldHVybiBfY29udGV4dDY0LmFicnVwdChcInJldHVyblwiLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe190aGlzMTMuX2dvb2dsZUNsaWVudC5wcm9tcHQoZnVuY3Rpb24obm90aWZpY2F0aW9uKXt2YXIgX2EsX2IsX2MsX2QsX2U7aWYobm90aWZpY2F0aW9uLmlzU2tpcHBlZE1vbWVudCgpKXt2YXIgcmVhc29uPShfYj0oX2E9bm90aWZpY2F0aW9uLmdldFNraXBwZWRSZWFzb24pPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLmNhbGwobm90aWZpY2F0aW9uKSkhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjondW5rbm93bl9yZWFzb24nO2lmKHJlYXNvbj09PSd1c2VyX2NhbmNlbCcpe29uT25lVGFwQ2FuY2VsbGVkPT09bnVsbHx8b25PbmVUYXBDYW5jZWxsZWQ9PT12b2lkIDA/dm9pZCAwOm9uT25lVGFwQ2FuY2VsbGVkKCk7fXJldHVybiByZXNvbHZlKHtzdWNjZXNzOmZhbHNlLHJlYXNvbjpyZWFzb259KTt9aWYoIW5vdGlmaWNhdGlvbi5pc05vdERpc3BsYXllZCYmc2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXB8fCgoX2M9bm90aWZpY2F0aW9uLmlzTm90RGlzcGxheWVkKT09PW51bGx8fF9jPT09dm9pZCAwP3ZvaWQgMDpfYy5jYWxsKG5vdGlmaWNhdGlvbikpKXtyZXR1cm4gcmVzb2x2ZSh7c3VjY2VzczpmYWxzZSxyZWFzb246KF9lPShfZD1ub3RpZmljYXRpb24uZ2V0Tm90RGlzcGxheWVkUmVhc29uKT09PW51bGx8fF9kPT09dm9pZCAwP3ZvaWQgMDpfZC5jYWxsKG5vdGlmaWNhdGlvbikpIT09bnVsbCYmX2UhPT12b2lkIDA/X2U6J3Vua25vd25fcmVhc29uJ30pO31pZighbm90aWZpY2F0aW9uLmlzRGlzbWlzc2VkTW9tZW50KCkpe190aGlzMTMuc3R5bGVGcmFtZShzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCk7cmV0dXJuIHJlc29sdmUoe3N1Y2Nlc3M6dHJ1ZX0pO319KTt9KSk7Y2FzZSA2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDY0LnN0b3AoKTt9fSxfY2FsbGVlNjQsdGhpcyk7fSkpO319LHtrZXk6XCJzdHlsZUZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24gc3R5bGVGcmFtZShzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCl7aWYoIXNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwKXtyZXR1cm47fUFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lmcmFtZScpKS5mb3JFYWNoKGZ1bmN0aW9uKGZyYW1lKXtpZihmcmFtZS5zcmMuaW5jbHVkZXMoR09PR0xFX09ORV9UQVBfSE9TVCkpe2ZyYW1lLnN0eWxlLndpZHRoPScxMDAlJzt9fSk7fX1dKTtyZXR1cm4gR29vZ2xlT25lVGFwQ2xpZW50O30oKTt2YXIgbG9hZEdvb2dsZU9uZVRhcENsaWVudD1mdW5jdGlvbiBsb2FkR29vZ2xlT25lVGFwQ2xpZW50KCl7cmV0dXJuIGxvYWRFU01vZHVsZShHT09HTEVfT05FX1RBUF9TQ1JJUFRfVVJMLGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5nb29nbGUuYWNjb3VudHMuaWQ7fSk7fTt2YXIgT25lVGFwUHJvdmlkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gT25lVGFwUHJvdmlkZXIoX3B1YmxpY1Rva2VuLGNsaWVudHNpZGVTZXJ2aWNlcyl7dmFyIF90aGlzMTQ9dGhpcztfY2xhc3NDYWxsQ2hlY2syKHRoaXMsT25lVGFwUHJvdmlkZXIpO3RoaXMuX3B1YmxpY1Rva2VuPV9wdWJsaWNUb2tlbjt0aGlzLmNsaWVudHNpZGVTZXJ2aWNlcz1jbGllbnRzaWRlU2VydmljZXM7dGhpcy5jcmVhdGVPblN1Y2Nlc3NIYW5kbGVyPWZ1bmN0aW9uKF9yZWY5KXt2YXIgbG9naW5SZWRpcmVjdFVybD1fcmVmOS5sb2dpblJlZGlyZWN0VXJsLHNpZ251cFJlZGlyZWN0VXJsPV9yZWY5LnNpZ251cFJlZGlyZWN0VXJsLG9uU3VjY2Vzcz1fcmVmOS5vblN1Y2Nlc3M7cmV0dXJuIGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzMTQsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NSgpe3ZhciBjcmVkZW50aWFsLF95aWVsZCR0aGlzJHN1Ym1pdEdvbyxyZWRpcmVjdF91cmw7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjUkKF9jb250ZXh0NjUpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NjUucHJldj1fY29udGV4dDY1Lm5leHQpe2Nhc2UgMDpjcmVkZW50aWFsPXJlc3BvbnNlLmNyZWRlbnRpYWw7X2NvbnRleHQ2NS5uZXh0PTM7cmV0dXJuIHRoaXMuc3VibWl0R29vZ2xlT25lVGFwVG9rZW4oe2NyZWRlbnRpYWw6Y3JlZGVudGlhbCxsb2dpblJlZGlyZWN0VXJsOmxvZ2luUmVkaXJlY3RVcmwsc2lnbnVwUmVkaXJlY3RVcmw6c2lnbnVwUmVkaXJlY3RVcmx9KTtjYXNlIDM6X3lpZWxkJHRoaXMkc3VibWl0R29vPV9jb250ZXh0NjUuc2VudDtyZWRpcmVjdF91cmw9X3lpZWxkJHRoaXMkc3VibWl0R29vLnJlZGlyZWN0X3VybDtvblN1Y2Nlc3MocmVkaXJlY3RfdXJsKTtjYXNlIDY6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NjUuc3RvcCgpO319LF9jYWxsZWU2NSx0aGlzKTt9KSk7fTt9O3RoaXMuUmVkaXJlY3RPblN1Y2Nlc3M9ZnVuY3Rpb24ocmVkaXJlY3RfdXJsKXt3aW5kb3cubG9jYXRpb24uaHJlZj1yZWRpcmVjdF91cmw7fTt9X2NyZWF0ZUNsYXNzMihPbmVUYXBQcm92aWRlcixbe2tleTpcImNyZWF0ZU9uZVRhcENsaWVudFwiLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZU9uZVRhcENsaWVudCgpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY2KCl7dmFyIGdvb2dsZUNsaWVudElkLF95aWVsZCR0aGlzJGZldGNoR29vZyxlcnIsY2xpZW50O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY2JChfY29udGV4dDY2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDY2LnByZXY9X2NvbnRleHQ2Ni5uZXh0KXtjYXNlIDA6X2NvbnRleHQ2Ni5wcmV2PTA7X2NvbnRleHQ2Ni5uZXh0PTM7cmV0dXJuIHRoaXMuZmV0Y2hHb29nbGVTdGFydCgpO2Nhc2UgMzpfeWllbGQkdGhpcyRmZXRjaEdvb2c9X2NvbnRleHQ2Ni5zZW50O2dvb2dsZUNsaWVudElkPV95aWVsZCR0aGlzJGZldGNoR29vZy5nb29nbGVDbGllbnRJZDtfY29udGV4dDY2Lm5leHQ9MTE7YnJlYWs7Y2FzZSA3Ol9jb250ZXh0NjYucHJldj03O19jb250ZXh0NjYudDA9X2NvbnRleHQ2NltcImNhdGNoXCJdKDApO2Vycj1fY29udGV4dDY2LnQwO3JldHVybiBfY29udGV4dDY2LmFicnVwdChcInJldHVyblwiLHtzdWNjZXNzOmZhbHNlLHJlYXNvbjplcnIuZXJyb3JfdHlwZX0pO2Nhc2UgMTE6aWYoIShnb29nbGVDbGllbnRJZD09PScnKSl7X2NvbnRleHQ2Ni5uZXh0PTEzO2JyZWFrO31yZXR1cm4gX2NvbnRleHQ2Ni5hYnJ1cHQoXCJyZXR1cm5cIix7c3VjY2VzczpmYWxzZSxyZWFzb246J29hdXRoX2NvbmZpZ19ub3RfZm91bmQnfSk7Y2FzZSAxMzpfY29udGV4dDY2LnQxPUdvb2dsZU9uZVRhcENsaWVudDtfY29udGV4dDY2Lm5leHQ9MTY7cmV0dXJuIGxvYWRHb29nbGVPbmVUYXBDbGllbnQoKTtjYXNlIDE2Ol9jb250ZXh0NjYudDI9X2NvbnRleHQ2Ni5zZW50O19jb250ZXh0NjYudDM9Z29vZ2xlQ2xpZW50SWQ7Y2xpZW50PW5ldyBfY29udGV4dDY2LnQxKF9jb250ZXh0NjYudDIsX2NvbnRleHQ2Ni50Myk7cmV0dXJuIF9jb250ZXh0NjYuYWJydXB0KFwicmV0dXJuXCIse3N1Y2Nlc3M6dHJ1ZSxjbGllbnQ6Y2xpZW50fSk7Y2FzZSAyMDpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ2Ni5zdG9wKCk7fX0sX2NhbGxlZTY2LHRoaXMsW1swLDddXSk7fSkpO319LHtrZXk6XCJmZXRjaEdvb2dsZVN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24gZmV0Y2hHb29nbGVTdGFydCgpe2lmKHRoaXMuZ29vZ2xlQ29uZmlnKXtyZXR1cm4gdGhpcy5nb29nbGVDb25maWc7fXRoaXMuZ29vZ2xlQ29uZmlnPXRoaXMuY2xpZW50c2lkZVNlcnZpY2VzLm9uZVRhcFN0YXJ0KHtwdWJsaWNUb2tlbjp0aGlzLl9wdWJsaWNUb2tlbn0pO3JldHVybiB0aGlzLmdvb2dsZUNvbmZpZzt9fSx7a2V5Olwic3VibWl0R29vZ2xlT25lVGFwVG9rZW5cIix2YWx1ZTpmdW5jdGlvbiBzdWJtaXRHb29nbGVPbmVUYXBUb2tlbihfcmVmMTApe3ZhciBjcmVkZW50aWFsPV9yZWYxMC5jcmVkZW50aWFsLGxvZ2luUmVkaXJlY3RVcmw9X3JlZjEwLmxvZ2luUmVkaXJlY3RVcmwsc2lnbnVwUmVkaXJlY3RVcmw9X3JlZjEwLnNpZ251cFJlZGlyZWN0VXJsO3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY3KCl7dmFyIF95aWVsZCR0aGlzJGZldGNoR29vZzIsb2F1dGhDYWxsYmFja0lkO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY3JChfY29udGV4dDY3KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDY3LnByZXY9X2NvbnRleHQ2Ny5uZXh0KXtjYXNlIDA6X2NvbnRleHQ2Ny5uZXh0PTI7cmV0dXJuIHRoaXMuZmV0Y2hHb29nbGVTdGFydCgpO2Nhc2UgMjpfeWllbGQkdGhpcyRmZXRjaEdvb2cyPV9jb250ZXh0Njcuc2VudDtvYXV0aENhbGxiYWNrSWQ9X3lpZWxkJHRoaXMkZmV0Y2hHb29nMi5vYXV0aENhbGxiYWNrSWQ7cmV0dXJuIF9jb250ZXh0NjcuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5jbGllbnRzaWRlU2VydmljZXMub25lVGFwU3VibWl0KHtwdWJsaWNUb2tlbjp0aGlzLl9wdWJsaWNUb2tlbixpZFRva2VuOmNyZWRlbnRpYWwsbG9naW5SZWRpcmVjdFVSTDpsb2dpblJlZGlyZWN0VXJsLG9hdXRoQ2FsbGJhY2tJRDpvYXV0aENhbGxiYWNrSWQsc2lnbnVwUmVkaXJlY3RVUkw6c2lnbnVwUmVkaXJlY3RVcmx9KSk7Y2FzZSA1OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDY3LnN0b3AoKTt9fSxfY2FsbGVlNjcsdGhpcyk7fSkpO319XSxbe2tleTpcIldpbGxHb29nbGVPbmVUYXBTaG93QmFubmVyRm9yVUFcIix2YWx1ZTpmdW5jdGlvbiBXaWxsR29vZ2xlT25lVGFwU2hvd0Jhbm5lckZvclVBKHVhKXt2YXIgdWFDb250YWlucz1mdW5jdGlvbiB1YUNvbnRhaW5zKHVzZXJBZ2VudCxzZWFyY2hTdHJpbmcpe3JldHVybiB1c2VyQWdlbnQuaW5kZXhPZihzZWFyY2hTdHJpbmcpIT09LTE7fTt2YXIgaXNUYWJsZXRVQT11YUNvbnRhaW5zKHVhLCdpUGFkJyl8fHVhQ29udGFpbnModWEsJ0FuZHJvaWQnKSYmIXVhQ29udGFpbnModWEsJ01vYmlsZScpfHx1YUNvbnRhaW5zKHVhLCdTaWxrJyk7dmFyIGlzTW9iaWxlVUE9dWFDb250YWlucyh1YSwnaVBvZCcpfHx1YUNvbnRhaW5zKHVhLCdpUGhvbmUnKXx8dWFDb250YWlucyh1YSwnQW5kcm9pZCcpfHx1YUNvbnRhaW5zKHVhLCdJRU1vYmlsZScpO3JldHVybiFpc1RhYmxldFVBJiZpc01vYmlsZVVBO319LHtrZXk6XCJXaWxsR29vZ2xlT25lVGFwU2hvd0VtYmVkZGVkXCIsdmFsdWU6ZnVuY3Rpb24gV2lsbEdvb2dsZU9uZVRhcFNob3dFbWJlZGRlZCgpe3JldHVybiFPbmVUYXBQcm92aWRlci5XaWxsR29vZ2xlT25lVGFwU2hvd0Jhbm5lckZvclVBKG5hdmlnYXRvci51c2VyQWdlbnQpO319XSk7cmV0dXJuIE9uZVRhcFByb3ZpZGVyO30oKTt2YXIgUEtDRV9WRVJJRklFUl9TVE9SQUdFX0tFWT0nUEtDRV9WRVJJRklFUic7ZnVuY3Rpb24gdG9IZXgobil7dmFyIHN0cj1uLnRvU3RyaW5nKDE2KTtpZihzdHIubGVuZ3RoPT09MSl7c3RyPScwJytzdHI7fXJldHVybiBzdHI7fWZ1bmN0aW9uIGJhc2U2NFVSTEVuY29kZShidWYpe3ZhciBfU3RyaW5nJGZyb21DaGFyQ29kZTtyZXR1cm4gYnRvYSgoX1N0cmluZyRmcm9tQ2hhckNvZGU9U3RyaW5nLmZyb21DaGFyQ29kZSkuY2FsbC5hcHBseShfU3RyaW5nJGZyb21DaGFyQ29kZSxbbnVsbF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShuZXcgVWludDhBcnJheShidWYpKSkpKS5yZXBsYWNlKC9cXCsvZywnLScpLnJlcGxhY2UoL1xcLy9nLCdfJykucmVwbGFjZSgvPSskLywnJyk7fXZhciBQS0NFTWFuYWdlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBQS0NFTWFuYWdlcihfZGF0YUxheWVyLG5hbWVzcGFjZSl7X2NsYXNzQ2FsbENoZWNrMih0aGlzLFBLQ0VNYW5hZ2VyKTt0aGlzLl9kYXRhTGF5ZXI9X2RhdGFMYXllcjt0aGlzLm5hbWVzcGFjZT1uYW1lc3BhY2U7fV9jcmVhdGVDbGFzczIoUEtDRU1hbmFnZXIsW3trZXk6XCJrZXlcIix2YWx1ZTpmdW5jdGlvbiBrZXkoKXtyZXR1cm4gUEtDRV9WRVJJRklFUl9TVE9SQUdFX0tFWSsnOicrdGhpcy5uYW1lc3BhY2U7fX0se2tleTpcInN0YXJ0UEtDRVRyYW5zYWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24gc3RhcnRQS0NFVHJhbnNhY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2OCgpe3ZhciBrZXlQYWlyO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY4JChfY29udGV4dDY4KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDY4LnByZXY9X2NvbnRleHQ2OC5uZXh0KXtjYXNlIDA6X2NvbnRleHQ2OC5uZXh0PTI7cmV0dXJuIFBLQ0VNYW5hZ2VyLmNyZWF0ZVByb29ma2V5UGFpcigpO2Nhc2UgMjprZXlQYWlyPV9jb250ZXh0Njguc2VudDt0aGlzLl9kYXRhTGF5ZXIuc2V0SXRlbSh0aGlzLmtleSgpLEpTT04uc3RyaW5naWZ5KGtleVBhaXIpKTtyZXR1cm4gX2NvbnRleHQ2OC5hYnJ1cHQoXCJyZXR1cm5cIixrZXlQYWlyKTtjYXNlIDU6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Njguc3RvcCgpO319LF9jYWxsZWU2OCx0aGlzKTt9KSk7fX0se2tleTpcImdldFBLUGFpclwiLHZhbHVlOmZ1bmN0aW9uIGdldFBLUGFpcigpe3ZhciBzZXJpYWxpemVkPXRoaXMuX2RhdGFMYXllci5nZXRJdGVtKHRoaXMua2V5KCkpO2lmKHNlcmlhbGl6ZWQ9PT1udWxsKXtyZXR1cm4gdW5kZWZpbmVkO310cnl7cmV0dXJuIEpTT04ucGFyc2Uoc2VyaWFsaXplZCk7fWNhdGNoKF9hKXtsb2dnZXIud2FybignRm91bmQgbWFsZm9ybWVkIFByb29mIEtleSBwYWlyIGluIGxvY2Fsc3RvcmFnZS4nKTtyZXR1cm4gdW5kZWZpbmVkO319fSx7a2V5OlwiY2xlYXJQS1BhaXJcIix2YWx1ZTpmdW5jdGlvbiBjbGVhclBLUGFpcigpe3JldHVybiB0aGlzLl9kYXRhTGF5ZXIucmVtb3ZlSXRlbSh0aGlzLmtleSgpKTt9fV0sW3trZXk6XCJjcmVhdGVQcm9vZmtleVBhaXJcIix2YWx1ZTpmdW5jdGlvbiBjcmVhdGVQcm9vZmtleVBhaXIoKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2OSgpe3ZhciBieXRlcyxjb2RlVmVyaWZpZXIsZGlnZXN0O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY5JChfY29udGV4dDY5KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDY5LnByZXY9X2NvbnRleHQ2OS5uZXh0KXtjYXNlIDA6Ynl0ZXM9bmV3IFVpbnQzMkFycmF5KDE2KTt3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcyk7Y29kZVZlcmlmaWVyPUFycmF5LmZyb20oYnl0ZXMpLm1hcCh0b0hleCkuam9pbignJyk7X2NvbnRleHQ2OS5uZXh0PTU7cmV0dXJuIHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNvZGVWZXJpZmllcikpO2Nhc2UgNTpkaWdlc3Q9X2NvbnRleHQ2OS5zZW50O3JldHVybiBfY29udGV4dDY5LmFicnVwdChcInJldHVyblwiLHtjb2RlX2NoYWxsZW5nZTpiYXNlNjRVUkxFbmNvZGUoZGlnZXN0KSxjb2RlX3ZlcmlmaWVyOmNvZGVWZXJpZmllcn0pO2Nhc2UgNzpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ2OS5zdG9wKCk7fX0sX2NhbGxlZTY5KTt9KSk7fX1dKTtyZXR1cm4gUEtDRU1hbmFnZXI7fSgpO3ZhciBjcmVhdGVEZWVwRXF1YWw9ZnVuY3Rpb24gY3JlYXRlRGVlcEVxdWFsKCl7dmFyIF9yZWYxMT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06e30sX3JlZjExJEtFWVNfVE9fRVhDTFVEPV9yZWYxMS5LRVlTX1RPX0VYQ0xVREUsS0VZU19UT19FWENMVURFPV9yZWYxMSRLRVlTX1RPX0VYQ0xVRD09PXZvaWQgMD9bXTpfcmVmMTEkS0VZU19UT19FWENMVUQ7dmFyIGRlZXBFcXVhbD1mdW5jdGlvbiBkZWVwRXF1YWwoYSxiKXtpZihfdHlwZW9mMihhKSE9PV90eXBlb2YyKGIpKXJldHVybiBmYWxzZTtpZihhPT09bnVsbHx8Yj09PW51bGwpcmV0dXJuIGE9PT1iO2lmKF90eXBlb2YyKGEpPT09J29iamVjdCcpe2lmKE9iamVjdC5rZXlzKGEpLmxlbmd0aCE9PU9iamVjdC5rZXlzKGIpLmxlbmd0aHx8T2JqZWN0LmtleXMoYSkuc29tZShmdW5jdGlvbihrKXtyZXR1cm4hKGsgaW4gYik7fSkpcmV0dXJuIGZhbHNlO3JldHVybiBPYmplY3QuZW50cmllcyhhKS5maWx0ZXIoZnVuY3Rpb24oX3JlZjEyKXt2YXIgX3JlZjEzPV9zbGljZWRUb0FycmF5MihfcmVmMTIsMSksaz1fcmVmMTNbMF07cmV0dXJuIUtFWVNfVE9fRVhDTFVERS5pbmNsdWRlcyhrKTt9KS5ldmVyeShmdW5jdGlvbihfcmVmMTQpe3ZhciBfcmVmMTU9X3NsaWNlZFRvQXJyYXkyKF9yZWYxNCwyKSxrPV9yZWYxNVswXSx2PV9yZWYxNVsxXTtyZXR1cm4gZGVlcEVxdWFsKHYsYltrXSk7fSk7fXJldHVybiBhPT09Yjt9O3JldHVybiBkZWVwRXF1YWw7fTt2YXIgRU1BSUxfUkVHRVg9L15bYS16QS1aMC05Ll8lKy1dK0BbYS16QS1aMC05Li1dK1xcLlthLXpBLVpdezIsfSQvaTt2YXIgY29udmVydE1hZ2ljTGlua09wdGlvbnM9ZnVuY3Rpb24gY29udmVydE1hZ2ljTGlua09wdGlvbnMob3B0aW9ucyl7cmV0dXJue3NpZ251cF9tYWdpY19saW5rX3VybDpvcHRpb25zLnNpZ251cFJlZGlyZWN0VVJMLHNpZ251cF9leHBpcmF0aW9uX21pbnV0ZXM6b3B0aW9ucy5zaWdudXBFeHBpcmF0aW9uTWludXRlcyxsb2dpbl9tYWdpY19saW5rX3VybDpvcHRpb25zLmxvZ2luUmVkaXJlY3RVUkwsbG9naW5fZXhwaXJhdGlvbl9taW51dGVzOm9wdGlvbnMubG9naW5FeHBpcmF0aW9uTWludXRlcyxsb2dpbl90ZW1wbGF0ZV9pZDpvcHRpb25zLmxvZ2luVGVtcGxhdGVJZCxzaWdudXBfdGVtcGxhdGVfaWQ6b3B0aW9ucy5zaWdudXBUZW1wbGF0ZUlkfTt9O3ZhciBjb252ZXJ0UGFzc3dvcmRSZXNldE9wdGlvbnM9ZnVuY3Rpb24gY29udmVydFBhc3N3b3JkUmVzZXRPcHRpb25zKGVtYWlsLG9wdGlvbnMpe3JldHVybntlbWFpbDplbWFpbCxsb2dpbl9yZWRpcmVjdF91cmw6b3B0aW9ucy5sb2dpblJlZGlyZWN0VVJMLGxvZ2luX2V4cGlyYXRpb25fbWludXRlczpvcHRpb25zLmxvZ2luRXhwaXJhdGlvbk1pbnV0ZXMscmVzZXRfcGFzc3dvcmRfcmVkaXJlY3RfdXJsOm9wdGlvbnMucmVzZXRQYXNzd29yZFJlZGlyZWN0VVJMLHJlc2V0X3Bhc3N3b3JkX2V4cGlyYXRpb25fbWludXRlczpvcHRpb25zLnJlc2V0UGFzc3dvcmRFeHBpcmF0aW9uTWludXRlcyxyZXNldF9wYXNzd29yZF90ZW1wbGF0ZV9pZDpvcHRpb25zLnJlc2V0UGFzc3dvcmRUZW1wbGF0ZUlkfTt9O3ZhciBkZWJvdW5jZT1mdW5jdGlvbiBkZWJvdW5jZShmdW5jKXt2YXIgd2FpdEZvcj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06NTAwO3ZhciB0aW1lb3V0O3ZhciBkZWJvdW5jZWQ9ZnVuY3Rpb24gZGVib3VuY2VkKCl7Zm9yKHZhciBfbGVuND1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9bmV3IEFycmF5KF9sZW40KSxfa2V5ND0wO19rZXk0PF9sZW40O19rZXk0Kyspe2FyZ3NbX2tleTRdPWFyZ3VtZW50c1tfa2V5NF07fWNsZWFyVGltZW91dCh0aW1lb3V0KTt0aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZnVuYy5hcHBseSh2b2lkIDAsYXJncyk7fSx3YWl0Rm9yKTt9O3JldHVybiBkZWJvdW5jZWQ7fTt2YXIgaXNMb2NhbGhvc3Q9ZnVuY3Rpb24gaXNMb2NhbGhvc3QoKXtyZXR1cm4gQm9vbGVhbih3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU9PT0nbG9jYWxob3N0J3x8d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lPT09J1s6OjFdJ3x8d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLm1hdGNoKC9eMTI3KD86XFwuKD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSl7M30kLykpO307dmFyIGJ1aWxkRmluYWxDb25maWc9ZnVuY3Rpb24gYnVpbGRGaW5hbENvbmZpZyhvcHRzKXt2YXIgX2EsX2IsX2MsX2QsX2UsX2YsX2csX2gsX2osX2s7cmV0dXJue2Nvb2tpZU9wdGlvbnM6b3B0cz09PW51bGx8fG9wdHM9PT12b2lkIDA/dm9pZCAwOm9wdHMuY29va2llT3B0aW9ucyxlbmRwb2ludHM6e3Nka0JhY2tlbmRVUkw6KF9iPShfYT1vcHRzPT09bnVsbHx8b3B0cz09PXZvaWQgMD92b2lkIDA6b3B0cy5lbmRwb2ludHMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnNka0JhY2tlbmRVUkwpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6U1RZVENIX1dFQl9CQUNLRU5EX1VSTCx0ZXN0QVBJVVJMOihfZD0oX2M9b3B0cz09PW51bGx8fG9wdHM9PT12b2lkIDA/dm9pZCAwOm9wdHMuZW5kcG9pbnRzKT09PW51bGx8fF9jPT09dm9pZCAwP3ZvaWQgMDpfYy50ZXN0QVBJVVJMKSE9PW51bGwmJl9kIT09dm9pZCAwP19kOlRFU1RfQVBJX1VSTCxsaXZlQVBJVVJMOihfZj0oX2U9b3B0cz09PW51bGx8fG9wdHM9PT12b2lkIDA/dm9pZCAwOm9wdHMuZW5kcG9pbnRzKT09PW51bGx8fF9lPT09dm9pZCAwP3ZvaWQgMDpfZS5saXZlQVBJVVJMKSE9PW51bGwmJl9mIT09dm9pZCAwP19mOkxJVkVfQVBJX1VSTCxkZnBCYWNrZW5kVVJMOihfaD0oX2c9b3B0cz09PW51bGx8fG9wdHM9PT12b2lkIDA/dm9pZCAwOm9wdHMuZW5kcG9pbnRzKT09PW51bGx8fF9nPT09dm9pZCAwP3ZvaWQgMDpfZy5kZnBCYWNrZW5kVVJMKSE9PW51bGwmJl9oIT09dm9pZCAwP19oOlNUWVRDSF9ERlBfQkFDS0VORF9VUkwsY2xpZW50c2lkZVNlcnZpY2VzSWZyYW1lVVJMOihfaz0oX2o9b3B0cz09PW51bGx8fG9wdHM9PT12b2lkIDA/dm9pZCAwOm9wdHMuZW5kcG9pbnRzKT09PW51bGx8fF9qPT09dm9pZCAwP3ZvaWQgMDpfai5jbGllbnRzaWRlU2VydmljZXNJZnJhbWVVUkwpIT09bnVsbCYmX2shPT12b2lkIDA/X2s6Q0xJRU5UU0lERV9TRVJWSUNFU19JRlJBTUVfVVJMfX07fTt2YXIgaGFzTXVsdGlwbGVDb29raWVzPWZ1bmN0aW9uIGhhc011bHRpcGxlQ29va2llcyhjb29raWVOYW1lKXt2YXIgY29va2llUGFpcnM9ZG9jdW1lbnQuY29va2llP2RvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKTpbXTt2YXIgbWF0Y2hlZENvb2tpZXM9Y29va2llUGFpcnMuZmlsdGVyKGZ1bmN0aW9uKHBhaXIpe3ZhciBfcGFpciRzcGxpdD1wYWlyLnNwbGl0KCc9JyksX3BhaXIkc3BsaXQyPV9zbGljZWRUb0FycmF5MihfcGFpciRzcGxpdCwxKSxuYW1lPV9wYWlyJHNwbGl0MlswXTtyZXR1cm4gY29va2llTmFtZT09PW5hbWU7fSk7cmV0dXJuIG1hdGNoZWRDb29raWVzLmxlbmd0aD4xO307dmFyIExPQ0FMX1NUT1JBR0VfS0VZX1BSRUZJWD0nc3R5dGNoX3Nka19zdGF0ZV8nO3ZhciBnZXRMb2NhbFN0b3JhZ2VLZXk9ZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlS2V5KHB1YmxpY1Rva2VuKXt2YXIga2V5PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTonJztyZXR1cm5cIlwiLmNvbmNhdChMT0NBTF9TVE9SQUdFX0tFWV9QUkVGSVgpLmNvbmNhdChwdWJsaWNUb2tlbikuY29uY2F0KGtleT9cIjo6XCIuY29uY2F0KGtleSk6JycpO307LyohIGpzLWNvb2tpZSB2My4wLjEgfCBNSVQgKi9mdW5jdGlvbiBhc3NpZ24odGFyZ2V0KXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgc291cmNlPWFyZ3VtZW50c1tpXTtmb3IodmFyIGtleSBpbiBzb3VyY2Upe3RhcmdldFtrZXldPXNvdXJjZVtrZXldO319cmV0dXJuIHRhcmdldDt9dmFyIGRlZmF1bHRDb252ZXJ0ZXI9e3JlYWQ6ZnVuY3Rpb24gcmVhZCh2YWx1ZSl7aWYodmFsdWVbMF09PT0nXCInKXt2YWx1ZT12YWx1ZS5zbGljZSgxLC0xKTt9cmV0dXJuIHZhbHVlLnJlcGxhY2UoLyglW1xcZEEtRl17Mn0pKy9naSxkZWNvZGVVUklDb21wb25lbnQpO30sd3JpdGU6ZnVuY3Rpb24gd3JpdGUodmFsdWUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoLyUoMlszNDZCRl18M1tBQy1GXXw0MHw1W0JERV18NjB8N1tCQ0RdKS9nLGRlY29kZVVSSUNvbXBvbmVudCk7fX07ZnVuY3Rpb24gaW5pdChjb252ZXJ0ZXIsZGVmYXVsdEF0dHJpYnV0ZXMpe2Z1bmN0aW9uIHNldChrZXksdmFsdWUsYXR0cmlidXRlcyl7aWYodHlwZW9mIGRvY3VtZW50PT09J3VuZGVmaW5lZCcpe3JldHVybjt9YXR0cmlidXRlcz1hc3NpZ24oe30sZGVmYXVsdEF0dHJpYnV0ZXMsYXR0cmlidXRlcyk7aWYodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcz09PSdudW1iZXInKXthdHRyaWJ1dGVzLmV4cGlyZXM9bmV3IERhdGUoRGF0ZS5ub3coKSthdHRyaWJ1dGVzLmV4cGlyZXMqODY0ZTUpO31pZihhdHRyaWJ1dGVzLmV4cGlyZXMpe2F0dHJpYnV0ZXMuZXhwaXJlcz1hdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKTt9a2V5PWVuY29kZVVSSUNvbXBvbmVudChrZXkpLnJlcGxhY2UoLyUoMlszNDZCXXw1RXw2MHw3QykvZyxkZWNvZGVVUklDb21wb25lbnQpLnJlcGxhY2UoL1soKV0vZyxlc2NhcGUpO3ZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXM9Jyc7Zm9yKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpe2lmKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKXtjb250aW51ZTt9c3RyaW5naWZpZWRBdHRyaWJ1dGVzKz0nOyAnK2F0dHJpYnV0ZU5hbWU7aWYoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXT09PXRydWUpe2NvbnRpbnVlO31zdHJpbmdpZmllZEF0dHJpYnV0ZXMrPSc9JythdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnNwbGl0KCc7JylbMF07fXJldHVybiBkb2N1bWVudC5jb29raWU9a2V5Kyc9Jytjb252ZXJ0ZXIud3JpdGUodmFsdWUsa2V5KStzdHJpbmdpZmllZEF0dHJpYnV0ZXM7fWZ1bmN0aW9uIGdldChrZXkpe2lmKHR5cGVvZiBkb2N1bWVudD09PSd1bmRlZmluZWQnfHxhcmd1bWVudHMubGVuZ3RoJiYha2V5KXtyZXR1cm47fXZhciBjb29raWVzPWRvY3VtZW50LmNvb2tpZT9kb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJyk6W107dmFyIGphcj17fTtmb3IodmFyIGk9MDtpPGNvb2tpZXMubGVuZ3RoO2krKyl7dmFyIHBhcnRzPWNvb2tpZXNbaV0uc3BsaXQoJz0nKTt2YXIgdmFsdWU9cGFydHMuc2xpY2UoMSkuam9pbignPScpO3RyeXt2YXIgZm91bmRLZXk9ZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzBdKTtqYXJbZm91bmRLZXldPWNvbnZlcnRlci5yZWFkKHZhbHVlLGZvdW5kS2V5KTtpZihrZXk9PT1mb3VuZEtleSl7YnJlYWs7fX1jYXRjaChlKXt9fXJldHVybiBrZXk/amFyW2tleV06amFyO31yZXR1cm4gT2JqZWN0LmNyZWF0ZSh7c2V0OnNldCxnZXQ6Z2V0LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoa2V5LGF0dHJpYnV0ZXMpe3NldChrZXksJycsYXNzaWduKHt9LGF0dHJpYnV0ZXMse2V4cGlyZXM6LTF9KSk7fSx3aXRoQXR0cmlidXRlczpmdW5jdGlvbiB3aXRoQXR0cmlidXRlcyhhdHRyaWJ1dGVzKXtyZXR1cm4gaW5pdCh0aGlzLmNvbnZlcnRlcixhc3NpZ24oe30sdGhpcy5hdHRyaWJ1dGVzLGF0dHJpYnV0ZXMpKTt9LHdpdGhDb252ZXJ0ZXI6ZnVuY3Rpb24gd2l0aENvbnZlcnRlcihjb252ZXJ0ZXIpe3JldHVybiBpbml0KGFzc2lnbih7fSx0aGlzLmNvbnZlcnRlcixjb252ZXJ0ZXIpLHRoaXMuYXR0cmlidXRlcyk7fX0se2F0dHJpYnV0ZXM6e3ZhbHVlOk9iamVjdC5mcmVlemUoZGVmYXVsdEF0dHJpYnV0ZXMpfSxjb252ZXJ0ZXI6e3ZhbHVlOk9iamVjdC5mcmVlemUoY29udmVydGVyKX19KTt9dmFyIGFwaT1pbml0KGRlZmF1bHRDb252ZXJ0ZXIse3BhdGg6Jy8nfSk7dmFyIGNvb2tpZVZlcmlmaWNhdGlvblRpbWVvdXRzPW5ldyBNYXAoKTt2YXIgY2FuY2VsQ29va2llUmVzdG9yYXRpb249ZnVuY3Rpb24gY2FuY2VsQ29va2llUmVzdG9yYXRpb24obmFtZSl7Y2xlYXJUaW1lb3V0KGNvb2tpZVZlcmlmaWNhdGlvblRpbWVvdXRzLmdldChuYW1lKSk7fTt2YXIgc2V0Q29va2llUGVyc2lzdGVudGx5PWZ1bmN0aW9uIHNldENvb2tpZVBlcnNpc3RlbnRseShuYW1lLHZhbHVlLG9wdGlvbnMpe3ZhciBDT09LSUVfVkVSSUZZX0RFTEFZX01TPTEwO2NhbmNlbENvb2tpZVJlc3RvcmF0aW9uKG5hbWUpO3ZhciB0aW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGFwaS5nZXQobmFtZSk9PT11bmRlZmluZWQpe2FwaS5zZXQobmFtZSx2YWx1ZSxvcHRpb25zKTt9fSxDT09LSUVfVkVSSUZZX0RFTEFZX01TKTtjb29raWVWZXJpZmljYXRpb25UaW1lb3V0cy5zZXQobmFtZSx0aW1lb3V0SWQpO3JldHVybiBhcGkuc2V0KG5hbWUsdmFsdWUsb3B0aW9ucyk7fTt2YXIgU1RZVENIX1NFU1NJT05fQ09PS0lFPSdzdHl0Y2hfc2Vzc2lvbic7dmFyIFNUWVRDSF9TRVNTSU9OX0pXVF9DT09LSUU9J3N0eXRjaF9zZXNzaW9uX2p3dCc7dmFyIFNUWVRDSF9JTlRFUk1FRElBVEVfU0VTU0lPTl9UT0tFTl9DT09LSUU9J3N0eXRjaF9pbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbic7dmFyIFN1YnNjcmlwdGlvbkRhdGFMYXllcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb25EYXRhTGF5ZXIocHVibGljVG9rZW4sb3B0aW9ucyl7dmFyIF90aGlzMTU9dGhpcztfY2xhc3NDYWxsQ2hlY2syKHRoaXMsU3Vic2NyaXB0aW9uRGF0YUxheWVyKTt0aGlzLmJyb3dzZXJTZXNzaW9uU3RvcmFnZT17Z2V0SXRlbTpmdW5jdGlvbiBnZXRJdGVtKGtleSl7cmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlS2V5KF90aGlzMTUucHVibGljVG9rZW4sa2V5KSk7fSxzZXRJdGVtOmZ1bmN0aW9uIHNldEl0ZW0oa2V5LHZhbHVlKXtyZXR1cm4gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShnZXRMb2NhbFN0b3JhZ2VLZXkoX3RoaXMxNS5wdWJsaWNUb2tlbixrZXkpLHZhbHVlKTt9LHJlbW92ZUl0ZW06ZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpe3JldHVybiBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGdldExvY2FsU3RvcmFnZUtleShfdGhpczE1LnB1YmxpY1Rva2VuLGtleSkpO319O3RoaXMucHVibGljVG9rZW49cHVibGljVG9rZW47dGhpcy5zdGF0ZT1udWxsO3RoaXMuc3RhdGVLZXlzVXBkYXRlZD1uZXcgU2V0KCk7dGhpcy5zdWJzY3JpcHRpb25zPXt9O2lmKG9wdGlvbnM9PT1udWxsfHxvcHRpb25zPT09dm9pZCAwP3ZvaWQgMDpvcHRpb25zLmNvb2tpZU9wdGlvbnMpe3ZhbGlkYXRlKCdTdWJzY3JpcHRpb25EYXRhTGF5ZXInKS5pc09wdGlvbmFsU3RyaW5nKCdjb29raWVPcHRpb25zLm9wYXF1ZVRva2VuQ29va2llTmFtZScsb3B0aW9ucy5jb29raWVPcHRpb25zLm9wYXF1ZVRva2VuQ29va2llTmFtZSkuaXNPcHRpb25hbFN0cmluZygnY29va2llT3B0aW9ucy5qd3RDb29raWVOYW1lJyxvcHRpb25zLmNvb2tpZU9wdGlvbnMuand0Q29va2llTmFtZSkuaXNPcHRpb25hbFN0cmluZygnY29va2llT3B0aW9ucy5pc3RDb29raWVOYW1lJyxvcHRpb25zLmNvb2tpZU9wdGlvbnMuaXN0Q29va2llTmFtZSkuaXNPcHRpb25hbFN0cmluZygnY29va2llT3B0aW9ucy5wYXRoJyxvcHRpb25zLmNvb2tpZU9wdGlvbnMucGF0aCkuaXNPcHRpb25hbFN0cmluZygnY29va2llT3B0aW9ucy5kb21haW4nLG9wdGlvbnMuY29va2llT3B0aW9ucy5kb21haW4pO3RoaXMuX2p3dENvb2tpZU5hbWU9b3B0aW9ucy5jb29raWVPcHRpb25zLmp3dENvb2tpZU5hbWV8fG51bGw7dGhpcy5fb3BhcXVlVG9rZW5Db29raWVOYW1lPW9wdGlvbnMuY29va2llT3B0aW9ucy5vcGFxdWVUb2tlbkNvb2tpZU5hbWV8fG51bGw7dGhpcy5fY29va2llUGF0aD1vcHRpb25zLmNvb2tpZU9wdGlvbnMucGF0aHx8bnVsbDt0aGlzLl9kb21haW49b3B0aW9ucy5jb29raWVPcHRpb25zLmRvbWFpbnx8bnVsbDt0aGlzLl9jb29raWVBdmFpbGFibGVUb1N1YmRvbWFpbnM9b3B0aW9ucy5jb29raWVPcHRpb25zLmF2YWlsYWJsZVRvU3ViZG9tYWluc3x8ZmFsc2U7dGhpcy5faXN0Q29va2llTmFtZT1vcHRpb25zLmNvb2tpZU9wdGlvbnMuaXN0Q29va2llTmFtZXx8bnVsbDt9ZWxzZXt0aGlzLl9vcGFxdWVUb2tlbkNvb2tpZU5hbWU9bnVsbDt0aGlzLl9qd3RDb29raWVOYW1lPW51bGw7dGhpcy5fY29va2llUGF0aD1udWxsO3RoaXMuX2RvbWFpbj1udWxsO3RoaXMuX2Nvb2tpZUF2YWlsYWJsZVRvU3ViZG9tYWlucz1mYWxzZTt0aGlzLl9pc3RDb29raWVOYW1lPW51bGw7fXZhciBsb2NhbFN0b3JhZ2VTdGF0ZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShnZXRMb2NhbFN0b3JhZ2VLZXkodGhpcy5wdWJsaWNUb2tlbikpO2lmKCFsb2NhbFN0b3JhZ2VTdGF0ZSl7cmV0dXJuO312YXIgcGFyc2VkU3RhdGU7dHJ5e3BhcnNlZFN0YXRlPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlU3RhdGUpO31jYXRjaChlKXt0aGlzLnN5bmNUb0xvY2FsU3RvcmFnZSgpO3JldHVybjt9dGhpcy5zdGF0ZT1wYXJzZWRTdGF0ZTt9X2NyZWF0ZUNsYXNzMihTdWJzY3JpcHRpb25EYXRhTGF5ZXIsW3trZXk6XCJvcGFxdWVUb2tlbkNvb2tpZU5hbWVcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7dmFyIF9hO3JldHVybihfYT10aGlzLl9vcGFxdWVUb2tlbkNvb2tpZU5hbWUpIT09bnVsbCYmX2EhPT12b2lkIDA/X2E6U1RZVENIX1NFU1NJT05fQ09PS0lFO319LHtrZXk6XCJqd3RDb29raWVOYW1lXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBfYTtyZXR1cm4oX2E9dGhpcy5fand0Q29va2llTmFtZSkhPT1udWxsJiZfYSE9PXZvaWQgMD9fYTpTVFlUQ0hfU0VTU0lPTl9KV1RfQ09PS0lFO319LHtrZXk6XCJpc3RDb29raWVOYW1lXCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3ZhciBfYTtyZXR1cm4oX2E9dGhpcy5faXN0Q29va2llTmFtZSkhPT1udWxsJiZfYSE9PXZvaWQgMD9fYTpTVFlUQ0hfSU5URVJNRURJQVRFX1NFU1NJT05fVE9LRU5fQ09PS0lFO319LHtrZXk6XCJyZWFkU2Vzc2lvbkNvb2tpZVwiLHZhbHVlOmZ1bmN0aW9uIHJlYWRTZXNzaW9uQ29va2llKCl7cmV0dXJue3Nlc3Npb25fdG9rZW46YXBpLmdldCh0aGlzLm9wYXF1ZVRva2VuQ29va2llTmFtZSksc2Vzc2lvbl9qd3Q6YXBpLmdldCh0aGlzLmp3dENvb2tpZU5hbWUpfTt9fSx7a2V5OlwicmVhZEludGVybWVkaWF0ZVNlc3Npb25Ub2tlbkNvb2tpZVwiLHZhbHVlOmZ1bmN0aW9uIHJlYWRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW5Db29raWUoKXtyZXR1cm4gYXBpLmdldCh0aGlzLmlzdENvb2tpZU5hbWUpO319LHtrZXk6XCJ3cml0ZVNlc3Npb25Db29raWVcIix2YWx1ZTpmdW5jdGlvbiB3cml0ZVNlc3Npb25Db29raWUoc3RhdGVEaWZmKXt2YXIgX2EsX2IsX2MsX2Q7dmFyIHN0YXRlPXN0YXRlRGlmZi5zdGF0ZSxzZXNzaW9uX3Rva2VuPXN0YXRlRGlmZi5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0PXN0YXRlRGlmZi5zZXNzaW9uX2p3dDt2YXIgY29va2llT3B0cz1TdWJzY3JpcHRpb25EYXRhTGF5ZXIuZ2VuZXJhdGVDb29raWVPcHRzKHtleHBpcmVzQXQ6KF9iPShfYT1zdGF0ZT09PW51bGx8fHN0YXRlPT09dm9pZCAwP3ZvaWQgMDpzdGF0ZS5zZXNzaW9uKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5leHBpcmVzX2F0KSE9PW51bGwmJl9iIT09dm9pZCAwP19iOicnLGF2YWlsYWJsZVRvU3ViZG9tYWluczp0aGlzLl9jb29raWVBdmFpbGFibGVUb1N1YmRvbWFpbnMscGF0aDp0aGlzLl9jb29raWVQYXRoLGRvbWFpbjp0aGlzLl9kb21haW59KTtzZXRDb29raWVQZXJzaXN0ZW50bHkodGhpcy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUsc2Vzc2lvbl90b2tlbixjb29raWVPcHRzKTtzZXRDb29raWVQZXJzaXN0ZW50bHkodGhpcy5qd3RDb29raWVOYW1lLHNlc3Npb25fand0LGNvb2tpZU9wdHMpO3ZhciBhbHRlcm5hdGVDb29raWVPcHRpb25zPVN1YnNjcmlwdGlvbkRhdGFMYXllci5nZW5lcmF0ZUNvb2tpZU9wdHMoe2V4cGlyZXNBdDooX2Q9KF9jPXN0YXRlPT09bnVsbHx8c3RhdGU9PT12b2lkIDA/dm9pZCAwOnN0YXRlLnNlc3Npb24pPT09bnVsbHx8X2M9PT12b2lkIDA/dm9pZCAwOl9jLmV4cGlyZXNfYXQpIT09bnVsbCYmX2QhPT12b2lkIDA/X2Q6JycsYXZhaWxhYmxlVG9TdWJkb21haW5zOiF0aGlzLl9jb29raWVBdmFpbGFibGVUb1N1YmRvbWFpbnMscGF0aDp0aGlzLl9jb29raWVQYXRoLGRvbWFpbjp0aGlzLl9kb21haW59KTtpZihoYXNNdWx0aXBsZUNvb2tpZXModGhpcy5qd3RDb29raWVOYW1lKSl7YXBpLnJlbW92ZSh0aGlzLmp3dENvb2tpZU5hbWUsYWx0ZXJuYXRlQ29va2llT3B0aW9ucyk7fWlmKGhhc011bHRpcGxlQ29va2llcyh0aGlzLm9wYXF1ZVRva2VuQ29va2llTmFtZSkpe2FwaS5yZW1vdmUodGhpcy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUsYWx0ZXJuYXRlQ29va2llT3B0aW9ucyk7fWlmKGhhc011bHRpcGxlQ29va2llcyh0aGlzLmp3dENvb2tpZU5hbWUpKXtsb2dnZXIud2FybignQ291bGQgbm90IHJlbW92ZSBleHRyYW5lb3VzIEpXVCBjb29raWUuIFRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSBjb29raWUgaGFzIGJlZW4gc2V0IHVzaW5nIG11bHRpcGxlIGBwYXRoYCBzZXR0aW5ncywgYW5kIG1heSBwcm9kdWNlIHVud2FudGVkIGJlaGF2aW9yLicpO31pZihoYXNNdWx0aXBsZUNvb2tpZXModGhpcy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUpKXtsb2dnZXIud2FybignQ291bGQgbm90IHJlbW92ZSBleHRyYW5lb3VzIG9wYXF1ZSB0b2tlbiBjb29raWUuJyk7fX19LHtrZXk6XCJ3cml0ZUludGVybWVkaWF0ZVNlc3Npb25Ub2tlbkNvb2tpZVwiLHZhbHVlOmZ1bmN0aW9uIHdyaXRlSW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuQ29va2llKElTVCl7dmFyIGV4cGlyZXNBdFRpbWU9bmV3IERhdGUoRGF0ZS5ub3coKSsxMCo2MDAwMCk7dmFyIGNvb2tpZU9wdHM9U3Vic2NyaXB0aW9uRGF0YUxheWVyLmdlbmVyYXRlQ29va2llT3B0cyh7ZXhwaXJlc0F0OmV4cGlyZXNBdFRpbWUudG9TdHJpbmcoKSxhdmFpbGFibGVUb1N1YmRvbWFpbnM6dGhpcy5fY29va2llQXZhaWxhYmxlVG9TdWJkb21haW5zLHBhdGg6dGhpcy5fY29va2llUGF0aCxkb21haW46dGhpcy5fZG9tYWlufSk7c2V0Q29va2llUGVyc2lzdGVudGx5KHRoaXMuaXN0Q29va2llTmFtZSxJU1QsY29va2llT3B0cyk7fX0se2tleTpcInJlbW92ZVNlc3Npb25Db29raWVcIix2YWx1ZTpmdW5jdGlvbiByZW1vdmVTZXNzaW9uQ29va2llKCl7dGhpcy5yZW1vdmVDb29raWVzKFt0aGlzLm9wYXF1ZVRva2VuQ29va2llTmFtZSx0aGlzLmp3dENvb2tpZU5hbWVdKTt9fSx7a2V5OlwicmVtb3ZlSVNUQ29va2llXCIsdmFsdWU6ZnVuY3Rpb24gcmVtb3ZlSVNUQ29va2llKCl7dGhpcy5yZW1vdmVDb29raWVzKFt0aGlzLmlzdENvb2tpZU5hbWVdKTt9fSx7a2V5OlwicmVtb3ZlQ29va2llc1wiLHZhbHVlOmZ1bmN0aW9uIHJlbW92ZUNvb2tpZXMoY29va2llc1RvUmVtb3ZlKXt2YXIgX3RoaXMxNj10aGlzO1t0cnVlLGZhbHNlXS5mb3JFYWNoKGZ1bmN0aW9uKGF2YWlsYWJsZVRvU3ViZG9tYWlucyl7W190aGlzMTYuX2Nvb2tpZVBhdGgsbnVsbF0uZm9yRWFjaChmdW5jdGlvbihwYXRoKXtbX3RoaXMxNi5fZG9tYWluLG51bGxdLmZvckVhY2goZnVuY3Rpb24oZG9tYWluKXt2YXIgY29va2llT3B0cz1TdWJzY3JpcHRpb25EYXRhTGF5ZXIuZ2VuZXJhdGVDb29raWVPcHRzKHtleHBpcmVzQXQ6bmV3IERhdGUoMCkudG9TdHJpbmcoKSxhdmFpbGFibGVUb1N1YmRvbWFpbnM6YXZhaWxhYmxlVG9TdWJkb21haW5zLHBhdGg6cGF0aCxkb21haW46ZG9tYWlufSk7Y29va2llc1RvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24oY29va2llTmFtZSl7YXBpLnJlbW92ZShjb29raWVOYW1lLGNvb2tpZU9wdHMpO30pO30pO30pO30pO2Nvb2tpZXNUb1JlbW92ZS5mb3JFYWNoKGNhbmNlbENvb2tpZVJlc3RvcmF0aW9uKTt9fSx7a2V5Olwic3luY1RvTG9jYWxTdG9yYWdlXCIsdmFsdWU6ZnVuY3Rpb24gc3luY1RvTG9jYWxTdG9yYWdlKCl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlS2V5KHRoaXMucHVibGljVG9rZW4pLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUpKTt9fSx7a2V5OlwiZ2V0SXRlbVwiLHZhbHVlOmZ1bmN0aW9uIGdldEl0ZW0oa2V5KXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlS2V5KHRoaXMucHVibGljVG9rZW4sa2V5KSk7fX0se2tleTpcInNldEl0ZW1cIix2YWx1ZTpmdW5jdGlvbiBzZXRJdGVtKGtleSx2YWx1ZSl7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUtleSh0aGlzLnB1YmxpY1Rva2VuLGtleSksdmFsdWUpO319LHtrZXk6XCJyZW1vdmVJdGVtXCIsdmFsdWU6ZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpe3JldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShnZXRMb2NhbFN0b3JhZ2VLZXkodGhpcy5wdWJsaWNUb2tlbixrZXkpKTt9fV0sW3trZXk6XCJnZW5lcmF0ZUNvb2tpZU9wdHNcIix2YWx1ZTpmdW5jdGlvbiBnZW5lcmF0ZUNvb2tpZU9wdHMoX3JlZjE2KXt2YXIgcGF0aD1fcmVmMTYucGF0aCxkb21haW49X3JlZjE2LmRvbWFpbixhdmFpbGFibGVUb1N1YmRvbWFpbnM9X3JlZjE2LmF2YWlsYWJsZVRvU3ViZG9tYWlucyxleHBpcmVzQXQ9X3JlZjE2LmV4cGlyZXNBdDt2YXIgY29va2llT3B0cz17ZXhwaXJlczpuZXcgRGF0ZShleHBpcmVzQXQpLHNhbWVTaXRlOidsYXgnfTtpZihwYXRoKXtjb29raWVPcHRzLnBhdGg9cGF0aDt9aWYoaXNMb2NhbGhvc3QoKSl7Y29va2llT3B0cy5zZWN1cmU9ZmFsc2U7fWVsc2V7aWYoYXZhaWxhYmxlVG9TdWJkb21haW5zKXtjb29raWVPcHRzLmRvbWFpbj1kb21haW58fHdpbmRvdy5sb2NhdGlvbi5ob3N0O31jb29raWVPcHRzLnNlY3VyZT10cnVlO31yZXR1cm4gY29va2llT3B0czt9fV0pO3JldHVybiBTdWJzY3JpcHRpb25EYXRhTGF5ZXI7fSgpO3ZhciBDb25zdW1lclN1YnNjcmlwdGlvbkRhdGFMYXllcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N1YnNjcmlwdGlvbkRhdGFMYXllKXtfaW5oZXJpdHMyKENvbnN1bWVyU3Vic2NyaXB0aW9uRGF0YUxheWVyLF9TdWJzY3JpcHRpb25EYXRhTGF5ZSk7ZnVuY3Rpb24gQ29uc3VtZXJTdWJzY3JpcHRpb25EYXRhTGF5ZXIoKXtfY2xhc3NDYWxsQ2hlY2syKHRoaXMsQ29uc3VtZXJTdWJzY3JpcHRpb25EYXRhTGF5ZXIpO3JldHVybiBfY2FsbFN1cGVyMih0aGlzLENvbnN1bWVyU3Vic2NyaXB0aW9uRGF0YUxheWVyLGFyZ3VtZW50cyk7fXJldHVybiBfY3JlYXRlQ2xhc3MyKENvbnN1bWVyU3Vic2NyaXB0aW9uRGF0YUxheWVyKTt9KFN1YnNjcmlwdGlvbkRhdGFMYXllcik7dmFyIGNvbnN1bWVyRGF0YUxheWVyQ2FjaGVTeW1ib2w9U3ltYm9sW1wiZm9yXCJdKCdfX3N0eXRjaF9EYXRhTGF5ZXInKTt2YXIgZ2V0Q29uc3VtZXJEYXRhTGF5ZXJDYWNoZT1mdW5jdGlvbiBnZXRDb25zdW1lckRhdGFMYXllckNhY2hlKCl7dmFyIHdkdz13aW5kb3c7aWYoIXdkd1tjb25zdW1lckRhdGFMYXllckNhY2hlU3ltYm9sXSl7d2R3W2NvbnN1bWVyRGF0YUxheWVyQ2FjaGVTeW1ib2xdPXt9O31yZXR1cm4gd2R3W2NvbnN1bWVyRGF0YUxheWVyQ2FjaGVTeW1ib2xdO307dmFyIGdldENvbnN1bWVyRGF0YUxheWVyPWZ1bmN0aW9uIGdldENvbnN1bWVyRGF0YUxheWVyKHB1YmxpY1Rva2VuLG9wdGlvbnMpe3ZhciBkYXRhTGF5ZXJDYWNoZT1nZXRDb25zdW1lckRhdGFMYXllckNhY2hlKCk7aWYoIWRhdGFMYXllckNhY2hlW3B1YmxpY1Rva2VuXSl7ZGF0YUxheWVyQ2FjaGVbcHVibGljVG9rZW5dPW5ldyBDb25zdW1lclN1YnNjcmlwdGlvbkRhdGFMYXllcihwdWJsaWNUb2tlbixvcHRpb25zKTt9cmV0dXJuIGRhdGFMYXllckNhY2hlW3B1YmxpY1Rva2VuXTt9O3ZhciBhZGRTdWJzY3JpYmVyPWZ1bmN0aW9uIGFkZFN1YnNjcmliZXIoY29sbGVjdGlvbixzdWJzY3JpYmVyKXt2YXIgdW5pcXVlSWQ9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTEwKTtjb2xsZWN0aW9uW3VuaXF1ZUlkXT1zdWJzY3JpYmVyO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBkZWxldGUgY29sbGVjdGlvblt1bmlxdWVJZF07fTt9O3ZhciBub3RpZnlTdWJzY3JpYmVycz1mdW5jdGlvbiBub3RpZnlTdWJzY3JpYmVycyhjb2xsZWN0aW9uLHZhbHVlKXtPYmplY3QudmFsdWVzKGNvbGxlY3Rpb24pLmZvckVhY2goZnVuY3Rpb24oY2Ipe3JldHVybiBjYih2YWx1ZSk7fSk7fTt2YXIgZGVlcEVxdWFsRGF0YT1jcmVhdGVEZWVwRXF1YWwoe0tFWVNfVE9fRVhDTFVERTpbJ2xhc3RfYWNjZXNzZWRfYXQnXX0pO3ZhciBCYXNlU3Vic2NyaXB0aW9uU2VydmljZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBCYXNlU3Vic2NyaXB0aW9uU2VydmljZShfcHVibGljVG9rZW4sX2RhdGFsYXllcil7dmFyIF90aGlzMTc9dGhpcztfY2xhc3NDYWxsQ2hlY2syKHRoaXMsQmFzZVN1YnNjcmlwdGlvblNlcnZpY2UpO3RoaXMuX3B1YmxpY1Rva2VuPV9wdWJsaWNUb2tlbjt0aGlzLl9kYXRhbGF5ZXI9X2RhdGFsYXllcjt0aGlzLmZyb21DYWNoZT10cnVlO3RoaXMuX2xpc3Rlbj1mdW5jdGlvbihlKXtpZihlLmtleSE9PWdldExvY2FsU3RvcmFnZUtleShfdGhpczE3Ll9wdWJsaWNUb2tlbikpe3JldHVybjt9dmFyIHBhcnNlZFZhbHVlPWUubmV3VmFsdWU9PT1udWxsfHxlLm5ld1ZhbHVlPT09J251bGwnP251bGw6SlNPTi5wYXJzZShlLm5ld1ZhbHVlKTtfdGhpczE3LnVwZGF0ZVN0YXRlKHBhcnNlZFZhbHVlLHRydWUpO307d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLHRoaXMuX2xpc3Rlbik7dmFyIF90aGlzJF9kYXRhbGF5ZXIkcmVhZD10aGlzLl9kYXRhbGF5ZXIucmVhZFNlc3Npb25Db29raWUoKSxzZXNzaW9uX3Rva2VuPV90aGlzJF9kYXRhbGF5ZXIkcmVhZC5zZXNzaW9uX3Rva2VuO2lmKCFzZXNzaW9uX3Rva2VuKXt0aGlzLmRlc3Ryb3lTZXNzaW9uKCk7cmV0dXJuO319X2NyZWF0ZUNsYXNzMihCYXNlU3Vic2NyaXB0aW9uU2VydmljZSxbe2tleTpcImdldFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uIGdldFRva2Vucygpe3ZhciBfdGhpcyRfZGF0YWxheWVyJHJlYWQyPXRoaXMuX2RhdGFsYXllci5yZWFkU2Vzc2lvbkNvb2tpZSgpLHNlc3Npb25fdG9rZW49X3RoaXMkX2RhdGFsYXllciRyZWFkMi5zZXNzaW9uX3Rva2VuLHNlc3Npb25fand0PV90aGlzJF9kYXRhbGF5ZXIkcmVhZDIuc2Vzc2lvbl9qd3Q7aWYoISh0eXBlb2Ygc2Vzc2lvbl90b2tlbj09PSdzdHJpbmcnKXx8ISh0eXBlb2Ygc2Vzc2lvbl9qd3Q9PT0nc3RyaW5nJykpe3JldHVybiBudWxsO31yZXR1cm57c2Vzc2lvbl90b2tlbjpzZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OnNlc3Npb25fand0fTt9fSx7a2V5OlwiZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuXCIsdmFsdWU6ZnVuY3Rpb24gZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCl7cmV0dXJuIHRoaXMuX2RhdGFsYXllci5yZWFkSW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuQ29va2llKCl8fG51bGw7fX0se2tleTpcImRlc3Ryb3lTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uIGRlc3Ryb3lTdGF0ZSgpe3RoaXMudXBkYXRlU3RhdGVBbmRUb2tlbnMoe3N0YXRlOm51bGwsc2Vzc2lvbl90b2tlbjpudWxsLHNlc3Npb25fand0Om51bGwsaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46bnVsbH0pO319LHtrZXk6XCJkZXN0cm95U2Vzc2lvblwiLHZhbHVlOmZ1bmN0aW9uIGRlc3Ryb3lTZXNzaW9uKCl7dGhpcy5fZGF0YWxheWVyLnJlbW92ZVNlc3Npb25Db29raWUoKTt0aGlzLnVwZGF0ZVN0YXRlKG51bGwpO319LHtrZXk6XCJfdXBkYXRlU3RhdGVBbmRUb2tlbnNJbnRlcm5hbFwiLHZhbHVlOmZ1bmN0aW9uIF91cGRhdGVTdGF0ZUFuZFRva2Vuc0ludGVybmFsKHN0YXRlRGlmZil7dmFyIG9sZFN0YXRlVmFsdWU9dGhpcy5fZGF0YWxheWVyLnN0YXRlO3ZhciBuZXdTdGF0ZVZhbHVlPXN0YXRlRGlmZi5zdGF0ZT09PW51bGw/bnVsbDpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5fZGF0YWxheWVyLnN0YXRlKSxzdGF0ZURpZmYuc3RhdGUpO3RoaXMuX2RhdGFsYXllci5zdGF0ZT1uZXdTdGF0ZVZhbHVlO3ZhciB3YXNDYWNoZWQ9dGhpcy5nZXRGcm9tQ2FjaGUoKTt0aGlzLnNldENhY2hlUmVmcmVzaGVkKCk7aWYod2FzQ2FjaGVkfHwhZGVlcEVxdWFsRGF0YShvbGRTdGF0ZVZhbHVlLG5ld1N0YXRlVmFsdWUpKXtub3RpZnlTdWJzY3JpYmVycyh0aGlzLl9kYXRhbGF5ZXIuc3Vic2NyaXB0aW9ucyxuZXdTdGF0ZVZhbHVlKTt9fX0se2tleTpcInVwZGF0ZVN0YXRlQW5kVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlU3RhdGVBbmRUb2tlbnMoc3RhdGVEaWZmKXtpZihzdGF0ZURpZmYuc3RhdGUpe3RoaXMuX2RhdGFsYXllci53cml0ZVNlc3Npb25Db29raWUoc3RhdGVEaWZmKTt0aGlzLl9kYXRhbGF5ZXIucmVtb3ZlSVNUQ29va2llKCk7fWVsc2UgaWYoc3RhdGVEaWZmLmludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuKXt0aGlzLl9kYXRhbGF5ZXIud3JpdGVJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW5Db29raWUoc3RhdGVEaWZmLmludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuKTt0aGlzLl9kYXRhbGF5ZXIucmVtb3ZlU2Vzc2lvbkNvb2tpZSgpO31lbHNle3RoaXMuX2RhdGFsYXllci5yZW1vdmVTZXNzaW9uQ29va2llKCk7dGhpcy5fZGF0YWxheWVyLnJlbW92ZUlTVENvb2tpZSgpO310aGlzLl91cGRhdGVTdGF0ZUFuZFRva2Vuc0ludGVybmFsKHN0YXRlRGlmZik7dGhpcy5fZGF0YWxheWVyLnN5bmNUb0xvY2FsU3RvcmFnZSgpO319LHtrZXk6XCJ1cGRhdGVTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlKXt2YXIgZnJvbUV4dGVybmFsU291cmNlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpmYWxzZTt2YXIgb2xkU3RhdGVWYWx1ZT10aGlzLl9kYXRhbGF5ZXIuc3RhdGU7dmFyIG5ld1N0YXRlVmFsdWU9c3RhdGU9PT1udWxsP251bGw6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuX2RhdGFsYXllci5zdGF0ZSksc3RhdGUpO3RoaXMuX2RhdGFsYXllci5zdGF0ZT1uZXdTdGF0ZVZhbHVlO3ZhciB3YXNDYWNoZWQ9dGhpcy5nZXRGcm9tQ2FjaGUoKTt0aGlzLnNldENhY2hlUmVmcmVzaGVkKCk7dmFyIGhhc1N0YXRlQ2hhbmdlZD0hZGVlcEVxdWFsRGF0YShvbGRTdGF0ZVZhbHVlLG5ld1N0YXRlVmFsdWUpO2lmKHdhc0NhY2hlZHx8aGFzU3RhdGVDaGFuZ2VkKXtub3RpZnlTdWJzY3JpYmVycyh0aGlzLl9kYXRhbGF5ZXIuc3Vic2NyaXB0aW9ucyxuZXdTdGF0ZVZhbHVlKTtpZihoYXNTdGF0ZUNoYW5nZWQmJiFmcm9tRXh0ZXJuYWxTb3VyY2Upe3RoaXMuX2RhdGFsYXllci5zeW5jVG9Mb2NhbFN0b3JhZ2UoKTt9fX19LHtrZXk6XCJ1cGRhdGVUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVUb2tlbnModG9rZW5zKXt2YXIgc2Vzc2lvbl90b2tlbj10b2tlbnMuc2Vzc2lvbl90b2tlbixzZXNzaW9uX2p3dD10b2tlbnMuc2Vzc2lvbl9qd3Q7dmFyIGNvb2tpZT10aGlzLl9kYXRhbGF5ZXIucmVhZFNlc3Npb25Db29raWUoKTt2YXIgZGlmZj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sY29va2llKSx7c2Vzc2lvbl90b2tlbjpzZXNzaW9uX3Rva2VuLHNlc3Npb25fand0OnNlc3Npb25fand0fSk7aWYoc2Vzc2lvbl90b2tlbnx8c2Vzc2lvbl9qd3Qpe3RoaXMuX2RhdGFsYXllci53cml0ZVNlc3Npb25Db29raWUoZGlmZik7dGhpcy5fZGF0YWxheWVyLnJlbW92ZUlTVENvb2tpZSgpO31lbHNle3RoaXMuX2RhdGFsYXllci5yZW1vdmVTZXNzaW9uQ29va2llKCk7fX19LHtrZXk6XCJzdWJzY3JpYmVUb1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24gc3Vic2NyaWJlVG9TdGF0ZShjYWxsYmFjayl7cmV0dXJuIGFkZFN1YnNjcmliZXIodGhpcy5fZGF0YWxheWVyLnN1YnNjcmlwdGlvbnMsY2FsbGJhY2spO319LHtrZXk6XCJnZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uIGdldFN0YXRlKCl7cmV0dXJuIHRoaXMuX2RhdGFsYXllci5zdGF0ZTt9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uIGRlc3Ryb3koKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsdGhpcy5fbGlzdGVuKTt9fSx7a2V5Olwic3luY0Zyb21EZXZpY2VTdG9yYWdlXCIsdmFsdWU6ZnVuY3Rpb24gc3luY0Zyb21EZXZpY2VTdG9yYWdlKCl7cmV0dXJuIG51bGw7fX0se2tleTpcImdldEZyb21DYWNoZVwiLHZhbHVlOmZ1bmN0aW9uIGdldEZyb21DYWNoZSgpe3JldHVybiB0aGlzLmZyb21DYWNoZTt9fSx7a2V5Olwic2V0Q2FjaGVSZWZyZXNoZWRcIix2YWx1ZTpmdW5jdGlvbiBzZXRDYWNoZVJlZnJlc2hlZCgpe3RoaXMuZnJvbUNhY2hlPWZhbHNlO319XSk7cmV0dXJuIEJhc2VTdWJzY3JpcHRpb25TZXJ2aWNlO30oKTt2YXIgQ29uc3VtZXJTdWJzY3JpcHRpb25TZXJ2aWNlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQmFzZVN1YnNjcmlwdGlvblNlcnYpe19pbmhlcml0czIoQ29uc3VtZXJTdWJzY3JpcHRpb25TZXJ2aWNlLF9CYXNlU3Vic2NyaXB0aW9uU2Vydik7ZnVuY3Rpb24gQ29uc3VtZXJTdWJzY3JpcHRpb25TZXJ2aWNlKCl7dmFyIF90aGlzMTg7X2NsYXNzQ2FsbENoZWNrMih0aGlzLENvbnN1bWVyU3Vic2NyaXB0aW9uU2VydmljZSk7X3RoaXMxOD1fY2FsbFN1cGVyMih0aGlzLENvbnN1bWVyU3Vic2NyaXB0aW9uU2VydmljZSxhcmd1bWVudHMpO190aGlzMTgudXBkYXRlVXNlcj1mdW5jdGlvbih1c2VyKXtyZXR1cm4gX3RoaXMxOC51cGRhdGVTdGF0ZSh7dXNlcjp1c2VyfSk7fTtfdGhpczE4LmdldFVzZXI9ZnVuY3Rpb24oKXt2YXIgX2EsX2I7cmV0dXJuKF9iPShfYT1fdGhpczE4LmdldFN0YXRlKCkpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnVzZXIpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6bnVsbDt9O190aGlzMTguZ2V0U2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBfYSxfYjtyZXR1cm4oX2I9KF9hPV90aGlzMTguZ2V0U3RhdGUoKSk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Euc2Vzc2lvbikhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpudWxsO307cmV0dXJuIF90aGlzMTg7fXJldHVybiBfY3JlYXRlQ2xhc3MyKENvbnN1bWVyU3Vic2NyaXB0aW9uU2VydmljZSk7fShCYXNlU3Vic2NyaXB0aW9uU2VydmljZSk7dmFyIGludGVybmFsU3ltQjJDPVN5bWJvbFtcImZvclwiXSgnc3R5dGNoX19pbnRlcm5hbF9iMmMnKTt2YXIgd3JpdGVCMkNJbnRlcm5hbHM9ZnVuY3Rpb24gd3JpdGVCMkNJbnRlcm5hbHMob2JqLGludGVybmFscyl7T2JqZWN0LmFzc2lnbihvYmosX2RlZmluZVByb3BlcnR5KHt9LGludGVybmFsU3ltQjJDLGludGVybmFscykpO307dmFyIHJlYWRCMkNJbnRlcm5hbHM9ZnVuY3Rpb24gcmVhZEIyQ0ludGVybmFscyhvYmope3ZhciBjYXN0ZWQ9b2JqO2lmKCFjYXN0ZWRbaW50ZXJuYWxTeW1CMkNdKXt0aHJvdyBFcnJvcignSW50ZXJuYWxzIG5vdCBmb3VuZCEnKTt9cmV0dXJuIGNhc3RlZFtpbnRlcm5hbFN5bUIyQ107fTt2YXIgU3R5dGNoSGVhZGxlc3NDbGllbnQ9LyojX19QVVJFX18qL19jcmVhdGVDbGFzczIoZnVuY3Rpb24gU3R5dGNoSGVhZGxlc3NDbGllbnQoX1BVQkxJQ19UT0tFTixvcHRpb25zKXt2YXIgX3RoaXMxOT10aGlzO19jbGFzc0NhbGxDaGVjazIodGhpcyxTdHl0Y2hIZWFkbGVzc0NsaWVudCk7Y2hlY2tOb3RTU1IoJ1N0eXRjaEhlYWRsZXNzQ2xpZW50Jyk7Y2hlY2tQdWJsaWNUb2tlbihfUFVCTElDX1RPS0VOKTt2YXIgX29wdGlvbnM9b3B0aW9uczt2YXIgY29uZmlnPWJ1aWxkRmluYWxDb25maWcoX29wdGlvbnMpO3RoaXMuX2RhdGFMYXllcj1nZXRDb25zdW1lckRhdGFMYXllcihfUFVCTElDX1RPS0VOLF9vcHRpb25zKTt0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlPW5ldyBDb25zdW1lclN1YnNjcmlwdGlvblNlcnZpY2UoX1BVQkxJQ19UT0tFTix0aGlzLl9kYXRhTGF5ZXIpO3RoaXMuX3N0YXRlQ2hhbmdlQ2xpZW50PW5ldyBTdGF0ZUNoYW5nZUNsaWVudCh0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLHt9KTt0aGlzLm9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgX3RoaXMxOSRfc3RhdGVDaGFuZ2VDO3JldHVybihfdGhpczE5JF9zdGF0ZUNoYW5nZUM9X3RoaXMxOS5fc3RhdGVDaGFuZ2VDbGllbnQpLm9uU3RhdGVDaGFuZ2UuYXBwbHkoX3RoaXMxOSRfc3RhdGVDaGFuZ2VDLGFyZ3VtZW50cyk7fTt2YXIgYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbj1mdW5jdGlvbiBhZGRpdGlvbmFsVGVsZW1ldHJ5RGF0YUZuKCl7dmFyIF9hLF9iLF9jLF9kO3JldHVybntzdHl0Y2hfdXNlcl9pZDooX2I9KF9hPV90aGlzMTkuX2RhdGFMYXllci5zdGF0ZSk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EudXNlcik9PT1udWxsfHxfYj09PXZvaWQgMD92b2lkIDA6X2IudXNlcl9pZCxzdHl0Y2hfc2Vzc2lvbl9pZDooX2Q9KF9jPV90aGlzMTkuX2RhdGFMYXllci5zdGF0ZSk9PT1udWxsfHxfYz09PXZvaWQgMD92b2lkIDA6X2Muc2Vzc2lvbik9PT1udWxsfHxfZD09PXZvaWQgMD92b2lkIDA6X2Quc2Vzc2lvbl9pZH07fTt2YXIgcGFzc3dvcmRzUEtDRU1hbmFnZXI9bmV3IFBLQ0VNYW5hZ2VyKHRoaXMuX2RhdGFMYXllciwncGFzc3dvcmRzJyk7dGhpcy5fbmV0d29ya0NsaWVudD1uZXcgTmV0d29ya0NsaWVudChfUFVCTElDX1RPS0VOLHRoaXMuX2RhdGFMYXllcixjb25maWcuZW5kcG9pbnRzLnNka0JhY2tlbmRVUkwsYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbik7dmFyIGJvb3RzdHJhcD1uZXcgQm9vdHN0cmFwRGF0YU1hbmFnZXIoX1BVQkxJQ19UT0tFTix0aGlzLl9uZXR3b3JrQ2xpZW50LHRoaXMuX2RhdGFMYXllcik7dmFyIGNhcHRjaGE9bmV3IENhcHRjaGFQcm92aWRlcihib290c3RyYXAuZ2V0QXN5bmMoKSk7dmFyIGRmcFByb3RlY3RlZEF1dGg9bmV3IERGUFByb3RlY3RlZEF1dGhQcm92aWRlcihfUFVCTElDX1RPS0VOLGNvbmZpZy5lbmRwb2ludHMuZGZwQmFja2VuZFVSTCxib290c3RyYXAuZ2V0QXN5bmMoKSxjYXB0Y2hhLmV4ZWN1dGVSZWNhcHRjaGEpO3ZhciBjbGllbnRzaWRlU2VydmljZXM9bmV3IENsaWVudHNpZGVTZXJ2aWNlc1Byb3ZpZGVyKGNvbmZpZy5lbmRwb2ludHMuY2xpZW50c2lkZVNlcnZpY2VzSWZyYW1lVVJMKTt2YXIgb25lVGFwPW5ldyBPbmVUYXBQcm92aWRlcihfUFVCTElDX1RPS0VOLGNsaWVudHNpZGVTZXJ2aWNlcyk7dmFyIHNlYXJjaE1hbmFnZXI9bmV3IFNlYXJjaERhdGFNYW5hZ2VyKHRoaXMuX25ldHdvcmtDbGllbnQsZGZwUHJvdGVjdGVkQXV0aCk7dGhpcy51c2VyPW5ldyBIZWFkbGVzc1VzZXJDbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCx0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlKTt0aGlzLnNlc3Npb249bmV3IEhlYWRsZXNzU2Vzc2lvbkNsaWVudCh0aGlzLl9uZXR3b3JrQ2xpZW50LHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UpO3RoaXMubWFnaWNMaW5rcz1uZXcgSGVhZGxlc3NNYWdpY0xpbmtzQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSxuZXcgUEtDRU1hbmFnZXIodGhpcy5fZGF0YUxheWVyLCdtYWdpY19saW5rcycpLHBhc3N3b3Jkc1BLQ0VNYW5hZ2VyLGJvb3RzdHJhcC5nZXRBc3luYygpLGRmcFByb3RlY3RlZEF1dGgpO3RoaXMub3Rwcz1uZXcgSGVhZGxlc3NPVFBDbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCx0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLGNhcHRjaGEuZXhlY3V0ZVJlY2FwdGNoYSxkZnBQcm90ZWN0ZWRBdXRoKTt0aGlzLm9hdXRoPW5ldyBIZWFkbGVzc09BdXRoQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSxuZXcgUEtDRU1hbmFnZXIodGhpcy5fZGF0YUxheWVyLCdvYXV0aCcpLGJvb3RzdHJhcC5nZXRBc3luYygpLHtwdWJsaWNUb2tlbjpfUFVCTElDX1RPS0VOLHRlc3RBUElVUkw6Y29uZmlnLmVuZHBvaW50cy50ZXN0QVBJVVJMLGxpdmVBUElVUkw6Y29uZmlnLmVuZHBvaW50cy5saXZlQVBJVVJMfSxvbmVUYXApO3RoaXMuY3J5cHRvV2FsbGV0cz1uZXcgSGVhZGxlc3NDcnlwdG9XYWxsZXRDbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCx0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLGNhcHRjaGEuZXhlY3V0ZVJlY2FwdGNoYSxkZnBQcm90ZWN0ZWRBdXRoKTt0aGlzLnRvdHBzPW5ldyBIZWFkbGVzc1RPVFBDbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCx0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLGRmcFByb3RlY3RlZEF1dGgpO3RoaXMud2ViYXV0aG49bmV3IEhlYWRsZXNzV2ViQXV0aG5DbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCx0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLGRmcFByb3RlY3RlZEF1dGgpO3RoaXMucGFzc3dvcmRzPW5ldyBIZWFkbGVzc1Bhc3N3b3JkQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSxwYXNzd29yZHNQS0NFTWFuYWdlcixib290c3RyYXAuZ2V0QXN5bmMoKSxkZnBQcm90ZWN0ZWRBdXRoKTt0aGlzLl9zZXNzaW9uTWFuYWdlcj1uZXcgU2Vzc2lvbk1hbmFnZXIodGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSx0aGlzLnNlc3Npb24pO2lmKHRoaXMuX2RhdGFMYXllci5yZWFkU2Vzc2lvbkNvb2tpZSgpLnNlc3Npb25fdG9rZW4pe3RoaXMuX3Nlc3Npb25NYW5hZ2VyLnBlcmZvcm1CYWNrZ3JvdW5kUmVmcmVzaCgpO310aGlzLl9uZXR3b3JrQ2xpZW50LmxvZ0V2ZW50KHtuYW1lOidzZGtfaW5zdGFuY2VfaW5zdGFudGlhdGVkJyxkZXRhaWxzOntldmVudF9jYWxsYmFja19yZWdpc3RlcmVkOmZhbHNlLGVycm9yX2NhbGxiYWNrX3JlZ2lzdGVyZWQ6ZmFsc2Usc3VjY2Vzc19jYWxsYmFja19yZWdpc3RlcmVkOmZhbHNlfX0pO3dyaXRlQjJDSW50ZXJuYWxzKHRoaXMse2Jvb3RzdHJhcDpib290c3RyYXAsY2xpZW50c2lkZVNlcnZpY2VzOmNsaWVudHNpZGVTZXJ2aWNlcyxjYXB0Y2hhOmNhcHRjaGEsb25lVGFwOm9uZVRhcCxzZWFyY2hNYW5hZ2VyOnNlYXJjaE1hbmFnZXIscHVibGljVG9rZW46X1BVQkxJQ19UT0tFTixkYXRhTGF5ZXI6dGhpcy5fZGF0YUxheWVyLG5ldHdvcmtDbGllbnQ6dGhpcy5fbmV0d29ya0NsaWVudH0pO30pO3ZhciBuJDYsbCQ4LHUkNSxpJDIsbyQzLHIkNSxmJDYsZSQ1LGMkND17fSxzJDI9W10sYSQyPS9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2ksaCQ2PUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gdiQ1KG4sbCl7Zm9yKHZhciB1IGluIGwpblt1XT1sW3VdO3JldHVybiBuO31mdW5jdGlvbiBwJDcobil7dmFyIGw9bi5wYXJlbnROb2RlO2wmJmwucmVtb3ZlQ2hpbGQobik7fWZ1bmN0aW9uIHkkNChsLHUsdCl7dmFyIGksbyxyLGY9e307Zm9yKHIgaW4gdSlcImtleVwiPT1yP2k9dVtyXTpcInJlZlwiPT1yP289dVtyXTpmW3JdPXVbcl07aWYoYXJndW1lbnRzLmxlbmd0aD4yJiYoZi5jaGlsZHJlbj1hcmd1bWVudHMubGVuZ3RoPjM/biQ2LmNhbGwoYXJndW1lbnRzLDIpOnQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGwmJm51bGwhPWwuZGVmYXVsdFByb3BzKWZvcihyIGluIGwuZGVmYXVsdFByb3BzKXZvaWQgMD09PWZbcl0mJihmW3JdPWwuZGVmYXVsdFByb3BzW3JdKTtyZXR1cm4gZCQ2KGwsZixpLG8sbnVsbCk7fWZ1bmN0aW9uIGQkNihuLHQsaSxvLHIpe3ZhciBmPXt0eXBlOm4scHJvcHM6dCxrZXk6aSxyZWY6byxfX2s6bnVsbCxfXzpudWxsLF9fYjowLF9fZTpudWxsLF9fZDp2b2lkIDAsX19jOm51bGwsY29uc3RydWN0b3I6dm9pZCAwLF9fdjpudWxsPT1yPysrdSQ1OnIsX19pOi0xLF9fdTowfTtyZXR1cm4gbnVsbD09ciYmbnVsbCE9bCQ4LnZub2RlJiZsJDgudm5vZGUoZiksZjt9ZnVuY3Rpb24gXyQyKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH07fWZ1bmN0aW9uIGckNyhuKXtyZXR1cm4gbi5jaGlsZHJlbjt9ZnVuY3Rpb24gYiQ2KG4sbCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD1sO31mdW5jdGlvbiBtJDcobixsKXtpZihudWxsPT1sKXJldHVybiBuLl9fP20kNyhuLl9fLG4uX19pKzEpOm51bGw7Zm9yKHZhciB1O2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXJldHVybiB1Ll9fZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnR5cGU/bSQ3KG4pOm51bGw7fWZ1bmN0aW9uIGskNihuKXt2YXIgbCx1O2lmKG51bGwhPShuPW4uX18pJiZudWxsIT1uLl9fYyl7Zm9yKG4uX19lPW4uX19jLmJhc2U9bnVsbCxsPTA7bDxuLl9fay5sZW5ndGg7bCsrKWlmKG51bGwhPSh1PW4uX19rW2xdKSYmbnVsbCE9dS5fX2Upe24uX19lPW4uX19jLmJhc2U9dS5fX2U7YnJlYWs7fXJldHVybiBrJDYobik7fX1mdW5jdGlvbiB3JDYobil7KCFuLl9fZCYmKG4uX19kPSEwKSYmaSQyLnB1c2gobikmJiF4JDUuX19yKyt8fG8kMyE9PWwkOC5kZWJvdW5jZVJlbmRlcmluZykmJigobyQzPWwkOC5kZWJvdW5jZVJlbmRlcmluZyl8fHIkNSkoeCQ1KTt9ZnVuY3Rpb24geCQ1KCl7dmFyIG4sdSx0LG8scixlLGMscyxhO2ZvcihpJDIuc29ydChmJDYpO249aSQyLnNoaWZ0KCk7KW4uX19kJiYodT1pJDIubGVuZ3RoLG89dm9pZCAwLGU9KHI9KHQ9bikuX192KS5fX2Uscz1bXSxhPVtdLChjPXQuX19QKSYmKChvPXYkNSh7fSxyKSkuX192PXIuX192KzEsbCQ4LnZub2RlJiZsJDgudm5vZGUobyksTCQyKGMsbyxyLHQuX19uLHZvaWQgMCE9PWMub3duZXJTVkdFbGVtZW50LDMyJnIuX191P1tlXTpudWxsLHMsbnVsbD09ZT9tJDcocik6ZSwhISgzMiZyLl9fdSksYSksby5fXy5fX2tbby5fX2ldPW8sTSQyKHMsbyxhKSxvLl9fZSE9ZSYmayQ2KG8pKSxpJDIubGVuZ3RoPnUmJmkkMi5zb3J0KGYkNikpO3gkNS5fX3I9MDt9ZnVuY3Rpb24gQyQyKG4sbCx1LHQsaSxvLHIsZixlLGEsaCl7dmFyIHYscCx5LGQsXyxnPXQmJnQuX19rfHxzJDIsYj1sLmxlbmd0aDtmb3IodS5fX2Q9ZSxQJDModSxsLGcpLGU9dS5fX2Qsdj0wO3Y8Yjt2KyspbnVsbCE9KHk9dS5fX2tbdl0pJiZcImJvb2xlYW5cIiE9dHlwZW9mIHkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHkmJihwPS0xPT09eS5fX2k/YyQ0OmdbeS5fX2ldfHxjJDQseS5fX2k9dixMJDIobix5LHAsaSxvLHIsZixlLGEsaCksZD15Ll9fZSx5LnJlZiYmcC5yZWYhPXkucmVmJiYocC5yZWYmJnokNShwLnJlZixudWxsLHkpLGgucHVzaCh5LnJlZix5Ll9fY3x8ZCx5KSksbnVsbD09XyYmbnVsbCE9ZCYmKF89ZCksNjU1MzYmeS5fX3V8fHAuX19rPT09eS5fX2s/ZT1TJDEoeSxlLG4pOlwiZnVuY3Rpb25cIj09dHlwZW9mIHkudHlwZSYmdm9pZCAwIT09eS5fX2Q/ZT15Ll9fZDpkJiYoZT1kLm5leHRTaWJsaW5nKSx5Ll9fZD12b2lkIDAseS5fX3UmPS0xOTY2MDkpO3UuX19kPWUsdS5fX2U9Xzt9ZnVuY3Rpb24gUCQzKG4sbCx1KXt2YXIgdCxpLG8scixmLGU9bC5sZW5ndGgsYz11Lmxlbmd0aCxzPWMsYT0wO2ZvcihuLl9faz1bXSx0PTA7dDxlO3QrKyludWxsIT0oaT1uLl9fa1t0XT1udWxsPT0oaT1sW3RdKXx8XCJib29sZWFuXCI9PXR5cGVvZiBpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIGl8fFwibnVtYmVyXCI9PXR5cGVvZiBpfHxcImJpZ2ludFwiPT10eXBlb2YgaXx8aS5jb25zdHJ1Y3Rvcj09U3RyaW5nP2QkNihudWxsLGksbnVsbCxudWxsLGkpOmgkNihpKT9kJDYoZyQ3LHtjaGlsZHJlbjppfSxudWxsLG51bGwsbnVsbCk6aS5fX2I+MD9kJDYoaS50eXBlLGkucHJvcHMsaS5rZXksaS5yZWY/aS5yZWY6bnVsbCxpLl9fdik6aSk/KGkuX189bixpLl9fYj1uLl9fYisxLGY9SCQzKGksdSxyPXQrYSxzKSxpLl9faT1mLG89bnVsbCwtMSE9PWYmJihzLS0sKG89dVtmXSkmJihvLl9fdXw9MTMxMDcyKSksbnVsbD09b3x8bnVsbD09PW8uX192PygtMT09ZiYmYS0tLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkudHlwZSYmKGkuX191fD02NTUzNikpOmYhPT1yJiYoZj09PXIrMT9hKys6Zj5yP3M+ZS1yP2ErPWYtcjphLS06YT1mPHImJmY9PXItMT9mLXI6MCxmIT09dCthJiYoaS5fX3V8PTY1NTM2KSkpOihvPXVbdF0pJiZudWxsPT1vLmtleSYmby5fX2UmJihvLl9fZT09bi5fX2QmJihuLl9fZD1tJDcobykpLE4kMihvLG8sITEpLHVbdF09bnVsbCxzLS0pO2lmKHMpZm9yKHQ9MDt0PGM7dCsrKW51bGwhPShvPXVbdF0pJiYwPT0oMTMxMDcyJm8uX191KSYmKG8uX19lPT1uLl9fZCYmKG4uX19kPW0kNyhvKSksTiQyKG8sbykpO31mdW5jdGlvbiBTJDEobixsLHUpe3ZhciB0LGk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlKXtmb3IodD1uLl9fayxpPTA7dCYmaTx0Lmxlbmd0aDtpKyspdFtpXSYmKHRbaV0uX189bixsPVMkMSh0W2ldLGwsdSkpO3JldHVybiBsO31yZXR1cm4gbi5fX2UhPWwmJih1Lmluc2VydEJlZm9yZShuLl9fZSxsfHxudWxsKSxsPW4uX19lKSxsJiZsLm5leHRTaWJsaW5nO31mdW5jdGlvbiAkJDIobixsKXtyZXR1cm4gbD1sfHxbXSxudWxsPT1ufHxcImJvb2xlYW5cIj09dHlwZW9mIG58fChoJDYobik/bi5zb21lKGZ1bmN0aW9uKG4peyQkMihuLGwpO30pOmwucHVzaChuKSksbDt9ZnVuY3Rpb24gSCQzKG4sbCx1LHQpe3ZhciBpPW4ua2V5LG89bi50eXBlLHI9dS0xLGY9dSsxLGU9bFt1XTtpZihudWxsPT09ZXx8ZSYmaT09ZS5rZXkmJm89PT1lLnR5cGUpcmV0dXJuIHU7aWYodD4obnVsbCE9ZSYmMD09KDEzMTA3MiZlLl9fdSk/MTowKSlmb3IoO3I+PTB8fGY8bC5sZW5ndGg7KXtpZihyPj0wKXtpZigoZT1sW3JdKSYmMD09KDEzMTA3MiZlLl9fdSkmJmk9PWUua2V5JiZvPT09ZS50eXBlKXJldHVybiByO3ItLTt9aWYoZjxsLmxlbmd0aCl7aWYoKGU9bFtmXSkmJjA9PSgxMzEwNzImZS5fX3UpJiZpPT1lLmtleSYmbz09PWUudHlwZSlyZXR1cm4gZjtmKys7fX1yZXR1cm4tMTt9ZnVuY3Rpb24gSSQzKG4sbCx1KXtcIi1cIj09PWxbMF0/bi5zZXRQcm9wZXJ0eShsLG51bGw9PXU/XCJcIjp1KTpuW2xdPW51bGw9PXU/XCJcIjpcIm51bWJlclwiIT10eXBlb2YgdXx8YSQyLnRlc3QobCk/dTp1K1wicHhcIjt9ZnVuY3Rpb24gVCQzKG4sbCx1LHQsaSl7dmFyIG87bjppZihcInN0eWxlXCI9PT1sKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdSluLnN0eWxlLmNzc1RleHQ9dTtlbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYobi5zdHlsZS5jc3NUZXh0PXQ9XCJcIiksdClmb3IobCBpbiB0KXUmJmwgaW4gdXx8SSQzKG4uc3R5bGUsbCxcIlwiKTtpZih1KWZvcihsIGluIHUpdCYmdVtsXT09PXRbbF18fEkkMyhuLnN0eWxlLGwsdVtsXSk7fX1lbHNlIGlmKFwib1wiPT09bFswXSYmXCJuXCI9PT1sWzFdKW89bCE9PShsPWwucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvLFwiJDFcIikpLGw9bC50b0xvd2VyQ2FzZSgpaW4gbj9sLnRvTG93ZXJDYXNlKCkuc2xpY2UoMik6bC5zbGljZSgyKSxuLmx8fChuLmw9e30pLG4ubFtsK29dPXUsdT90P3UudT10LnU6KHUudT1EYXRlLm5vdygpLG4uYWRkRXZlbnRMaXN0ZW5lcihsLG8/RCQyOkEkNSxvKSk6bi5yZW1vdmVFdmVudExpc3RlbmVyKGwsbz9EJDI6QSQ1LG8pO2Vsc2V7aWYoaSlsPWwucmVwbGFjZSgveGxpbmsoSHw6aCkvLFwiaFwiKS5yZXBsYWNlKC9zTmFtZSQvLFwic1wiKTtlbHNlIGlmKFwid2lkdGhcIiE9PWwmJlwiaGVpZ2h0XCIhPT1sJiZcImhyZWZcIiE9PWwmJlwibGlzdFwiIT09bCYmXCJmb3JtXCIhPT1sJiZcInRhYkluZGV4XCIhPT1sJiZcImRvd25sb2FkXCIhPT1sJiZcInJvd1NwYW5cIiE9PWwmJlwiY29sU3BhblwiIT09bCYmXCJyb2xlXCIhPT1sJiZsIGluIG4pdHJ5e25bbF09bnVsbD09dT9cIlwiOnU7YnJlYWsgbjt9Y2F0Y2gobil7fVwiZnVuY3Rpb25cIj09dHlwZW9mIHV8fChudWxsPT11fHwhMT09PXUmJlwiLVwiIT09bFs0XT9uLnJlbW92ZUF0dHJpYnV0ZShsKTpuLnNldEF0dHJpYnV0ZShsLHUpKTt9fWZ1bmN0aW9uIEEkNShuKXt2YXIgdT10aGlzLmxbbi50eXBlKyExXTtpZihuLnQpe2lmKG4udDw9dS51KXJldHVybjt9ZWxzZSBuLnQ9RGF0ZS5ub3coKTtyZXR1cm4gdShsJDguZXZlbnQ/bCQ4LmV2ZW50KG4pOm4pO31mdW5jdGlvbiBEJDIobil7cmV0dXJuIHRoaXMubFtuLnR5cGUrITBdKGwkOC5ldmVudD9sJDguZXZlbnQobik6bik7fWZ1bmN0aW9uIEwkMihuLHUsdCxpLG8scixmLGUsYyxzKXt2YXIgYSxwLHksZCxfLG0sayx3LHgsUCxTLCQsSCxJLFQsQT11LnR5cGU7aWYodm9pZCAwIT09dS5jb25zdHJ1Y3RvcilyZXR1cm4gbnVsbDsxMjgmdC5fX3UmJihjPSEhKDMyJnQuX191KSxyPVtlPXUuX19lPXQuX19lXSksKGE9bCQ4Ll9fYikmJmEodSk7bjppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBBKXRyeXtpZih3PXUucHJvcHMseD0oYT1BLmNvbnRleHRUeXBlKSYmaVthLl9fY10sUD1hP3g/eC5wcm9wcy52YWx1ZTphLl9fOmksdC5fX2M/az0ocD11Ll9fYz10Ll9fYykuX189cC5fX0U6KFwicHJvdG90eXBlXCJpbiBBJiZBLnByb3RvdHlwZS5yZW5kZXI/dS5fX2M9cD1uZXcgQSh3LFApOih1Ll9fYz1wPW5ldyBiJDYodyxQKSxwLmNvbnN0cnVjdG9yPUEscC5yZW5kZXI9TyQxKSx4JiZ4LnN1YihwKSxwLnByb3BzPXcscC5zdGF0ZXx8KHAuc3RhdGU9e30pLHAuY29udGV4dD1QLHAuX19uPWkseT1wLl9fZD0hMCxwLl9faD1bXSxwLl9zYj1bXSksbnVsbD09cC5fX3MmJihwLl9fcz1wLnN0YXRlKSxudWxsIT1BLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmKHAuX19zPT1wLnN0YXRlJiYocC5fX3M9diQ1KHt9LHAuX19zKSksdiQ1KHAuX19zLEEuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHcscC5fX3MpKSksZD1wLnByb3BzLF89cC5zdGF0ZSxwLl9fdj11LHkpbnVsbD09QS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJm51bGwhPXAuY29tcG9uZW50V2lsbE1vdW50JiZwLmNvbXBvbmVudFdpbGxNb3VudCgpLG51bGwhPXAuY29tcG9uZW50RGlkTW91bnQmJnAuX19oLnB1c2gocC5jb21wb25lbnREaWRNb3VudCk7ZWxzZXtpZihudWxsPT1BLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmdyE9PWQmJm51bGwhPXAuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmcC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHcsUCksIXAuX19lJiYobnVsbCE9cC5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09cC5zaG91bGRDb21wb25lbnRVcGRhdGUodyxwLl9fcyxQKXx8dS5fX3Y9PT10Ll9fdikpe2Zvcih1Ll9fdiE9PXQuX192JiYocC5wcm9wcz13LHAuc3RhdGU9cC5fX3MscC5fX2Q9ITEpLHUuX19lPXQuX19lLHUuX19rPXQuX19rLHUuX19rLmZvckVhY2goZnVuY3Rpb24obil7biYmKG4uX189dSk7fSksUz0wO1M8cC5fc2IubGVuZ3RoO1MrKylwLl9faC5wdXNoKHAuX3NiW1NdKTtwLl9zYj1bXSxwLl9faC5sZW5ndGgmJmYucHVzaChwKTticmVhayBuO31udWxsIT1wLmNvbXBvbmVudFdpbGxVcGRhdGUmJnAuY29tcG9uZW50V2lsbFVwZGF0ZSh3LHAuX19zLFApLG51bGwhPXAuY29tcG9uZW50RGlkVXBkYXRlJiZwLl9faC5wdXNoKGZ1bmN0aW9uKCl7cC5jb21wb25lbnREaWRVcGRhdGUoZCxfLG0pO30pO31pZihwLmNvbnRleHQ9UCxwLnByb3BzPXcscC5fX1A9bixwLl9fZT0hMSwkPWwkOC5fX3IsSD0wLFwicHJvdG90eXBlXCJpbiBBJiZBLnByb3RvdHlwZS5yZW5kZXIpe2ZvcihwLnN0YXRlPXAuX19zLHAuX19kPSExLCQmJiQodSksYT1wLnJlbmRlcihwLnByb3BzLHAuc3RhdGUscC5jb250ZXh0KSxJPTA7STxwLl9zYi5sZW5ndGg7SSsrKXAuX19oLnB1c2gocC5fc2JbSV0pO3AuX3NiPVtdO31lbHNlIGRve3AuX19kPSExLCQmJiQodSksYT1wLnJlbmRlcihwLnByb3BzLHAuc3RhdGUscC5jb250ZXh0KSxwLnN0YXRlPXAuX19zO313aGlsZShwLl9fZCYmKytIPDI1KTtwLnN0YXRlPXAuX19zLG51bGwhPXAuZ2V0Q2hpbGRDb250ZXh0JiYoaT12JDUodiQ1KHt9LGkpLHAuZ2V0Q2hpbGRDb250ZXh0KCkpKSx5fHxudWxsPT1wLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHwobT1wLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKGQsXykpLEMkMihuLGgkNihUPW51bGwhPWEmJmEudHlwZT09PWckNyYmbnVsbD09YS5rZXk/YS5wcm9wcy5jaGlsZHJlbjphKT9UOltUXSx1LHQsaSxvLHIsZixlLGMscykscC5iYXNlPXUuX19lLHUuX191Jj0tMTYxLHAuX19oLmxlbmd0aCYmZi5wdXNoKHApLGsmJihwLl9fRT1wLl9fPW51bGwpO31jYXRjaChuKXt1Ll9fdj1udWxsLGN8fG51bGwhPXI/KHUuX19lPWUsdS5fX3V8PWM/MTYwOjMyLHJbci5pbmRleE9mKGUpXT1udWxsKToodS5fX2U9dC5fX2UsdS5fX2s9dC5fX2spLGwkOC5fX2Uobix1LHQpO31lbHNlIG51bGw9PXImJnUuX192PT09dC5fX3Y/KHUuX19rPXQuX19rLHUuX19lPXQuX19lKTp1Ll9fZT1qJDQodC5fX2UsdSx0LGksbyxyLGYsYyxzKTsoYT1sJDguZGlmZmVkKSYmYSh1KTt9ZnVuY3Rpb24gTSQyKG4sdSx0KXt1Ll9fZD12b2lkIDA7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspeiQ1KHRbaV0sdFsrK2ldLHRbKytpXSk7bCQ4Ll9fYyYmbCQ4Ll9fYyh1LG4pLG4uc29tZShmdW5jdGlvbih1KXt0cnl7bj11Ll9faCx1Ll9faD1bXSxuLnNvbWUoZnVuY3Rpb24obil7bi5jYWxsKHUpO30pO31jYXRjaChuKXtsJDguX19lKG4sdS5fX3YpO319KTt9ZnVuY3Rpb24gaiQ0KGwsdSx0LGksbyxyLGYsZSxzKXt2YXIgYSx2LHksZCxfLGcsYixrPXQucHJvcHMsdz11LnByb3BzLHg9dS50eXBlO2lmKFwic3ZnXCI9PT14JiYobz0hMCksbnVsbCE9cilmb3IoYT0wO2E8ci5sZW5ndGg7YSsrKWlmKChfPXJbYV0pJiZcInNldEF0dHJpYnV0ZVwiaW4gXz09ISF4JiYoeD9fLmxvY2FsTmFtZT09PXg6Mz09PV8ubm9kZVR5cGUpKXtsPV8sclthXT1udWxsO2JyZWFrO31pZihudWxsPT1sKXtpZihudWxsPT09eClyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodyk7bD1vP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIseCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh4LHcuaXMmJncpLHI9bnVsbCxlPSExO31pZihudWxsPT09eClrPT09d3x8ZSYmbC5kYXRhPT09d3x8KGwuZGF0YT13KTtlbHNle2lmKHI9ciYmbiQ2LmNhbGwobC5jaGlsZE5vZGVzKSxrPXQucHJvcHN8fGMkNCwhZSYmbnVsbCE9cilmb3Ioaz17fSxhPTA7YTxsLmF0dHJpYnV0ZXMubGVuZ3RoO2ErKylrWyhfPWwuYXR0cmlidXRlc1thXSkubmFtZV09Xy52YWx1ZTtmb3IoYSBpbiBrKV89a1thXSxcImNoaWxkcmVuXCI9PWF8fChcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PWE/eT1fOlwia2V5XCI9PT1hfHxhIGluIHd8fFQkMyhsLGEsbnVsbCxfLG8pKTtmb3IoYSBpbiB3KV89d1thXSxcImNoaWxkcmVuXCI9PWE/ZD1fOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09YT92PV86XCJ2YWx1ZVwiPT1hP2c9XzpcImNoZWNrZWRcIj09YT9iPV86XCJrZXlcIj09PWF8fGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIF98fGtbYV09PT1ffHxUJDMobCxhLF8sa1thXSxvKTtpZih2KWV8fHkmJih2Ll9faHRtbD09PXkuX19odG1sfHx2Ll9faHRtbD09PWwuaW5uZXJIVE1MKXx8KGwuaW5uZXJIVE1MPXYuX19odG1sKSx1Ll9faz1bXTtlbHNlIGlmKHkmJihsLmlubmVySFRNTD1cIlwiKSxDJDIobCxoJDYoZCk/ZDpbZF0sdSx0LGksbyYmXCJmb3JlaWduT2JqZWN0XCIhPT14LHIsZixyP3JbMF06dC5fX2smJm0kNyh0LDApLGUscyksbnVsbCE9cilmb3IoYT1yLmxlbmd0aDthLS07KW51bGwhPXJbYV0mJnAkNyhyW2FdKTtlfHwoYT1cInZhbHVlXCIsdm9pZCAwIT09ZyYmKGchPT1sW2FdfHxcInByb2dyZXNzXCI9PT14JiYhZ3x8XCJvcHRpb25cIj09PXgmJmchPT1rW2FdKSYmVCQzKGwsYSxnLGtbYV0sITEpLGE9XCJjaGVja2VkXCIsdm9pZCAwIT09YiYmYiE9PWxbYV0mJlQkMyhsLGEsYixrW2FdLCExKSk7fXJldHVybiBsO31mdW5jdGlvbiB6JDUobix1LHQpe3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP24odSk6bi5jdXJyZW50PXU7fWNhdGNoKG4pe2wkOC5fX2Uobix0KTt9fWZ1bmN0aW9uIE4kMihuLHUsdCl7dmFyIGksbztpZihsJDgudW5tb3VudCYmbCQ4LnVubW91bnQobiksKGk9bi5yZWYpJiYoaS5jdXJyZW50JiZpLmN1cnJlbnQhPT1uLl9fZXx8eiQ1KGksbnVsbCx1KSksbnVsbCE9KGk9bi5fX2MpKXtpZihpLmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXtpLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7fWNhdGNoKG4pe2wkOC5fX2Uobix1KTt9aS5iYXNlPWkuX19QPW51bGwsbi5fX2M9dm9pZCAwO31pZihpPW4uX19rKWZvcihvPTA7bzxpLmxlbmd0aDtvKyspaVtvXSYmTiQyKGlbb10sdSx0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnR5cGUpO3R8fG51bGw9PW4uX19lfHxwJDcobi5fX2UpLG4uX189bi5fX2U9bi5fX2Q9dm9pZCAwO31mdW5jdGlvbiBPJDEobixsLHUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKG4sdSk7fWZ1bmN0aW9uIHEkNih1LHQsaSl7dmFyIG8scixmLGU7bCQ4Ll9fJiZsJDguX18odSx0KSxyPShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkpP251bGw6aSYmaS5fX2t8fHQuX19rLGY9W10sZT1bXSxMJDIodCx1PSghbyYmaXx8dCkuX19rPXkkNChnJDcsbnVsbCxbdV0pLHJ8fGMkNCxjJDQsdm9pZCAwIT09dC5vd25lclNWR0VsZW1lbnQsIW8mJmk/W2ldOnI/bnVsbDp0LmZpcnN0Q2hpbGQ/biQ2LmNhbGwodC5jaGlsZE5vZGVzKTpudWxsLGYsIW8mJmk/aTpyP3IuX19lOnQuZmlyc3RDaGlsZCxvLGUpLE0kMihmLHUsZSk7fWZ1bmN0aW9uIEIkNChuLGwpe3EkNihuLGwsQiQ0KTt9ZnVuY3Rpb24gRSQzKGwsdSx0KXt2YXIgaSxvLHIsZixlPXYkNSh7fSxsLnByb3BzKTtmb3IociBpbiBsLnR5cGUmJmwudHlwZS5kZWZhdWx0UHJvcHMmJihmPWwudHlwZS5kZWZhdWx0UHJvcHMpLHUpXCJrZXlcIj09cj9pPXVbcl06XCJyZWZcIj09cj9vPXVbcl06ZVtyXT12b2lkIDA9PT11W3JdJiZ2b2lkIDAhPT1mP2Zbcl06dVtyXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4yJiYoZS5jaGlsZHJlbj1hcmd1bWVudHMubGVuZ3RoPjM/biQ2LmNhbGwoYXJndW1lbnRzLDIpOnQpLGQkNihsLnR5cGUsZSxpfHxsLmtleSxvfHxsLnJlZixudWxsKTt9ZnVuY3Rpb24gRiQ1KG4sbCl7dmFyIHU9e19fYzpsPVwiX19jQ1wiK2UkNSsrLF9fOm4sQ29uc3VtZXI6ZnVuY3Rpb24gQ29uc3VtZXIobixsKXtyZXR1cm4gbi5jaGlsZHJlbihsKTt9LFByb3ZpZGVyOmZ1bmN0aW9uIFByb3ZpZGVyKG4pe3ZhciB1LHQ7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwodT1bXSwodD17fSlbbF09dGhpcyx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0O30sdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24obil7dGhpcy5wcm9wcy52YWx1ZSE9PW4udmFsdWUmJnUuc29tZShmdW5jdGlvbihuKXtuLl9fZT0hMCx3JDYobik7fSk7fSx0aGlzLnN1Yj1mdW5jdGlvbihuKXt1LnB1c2gobik7dmFyIGw9bi5jb21wb25lbnRXaWxsVW5tb3VudDtuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dS5zcGxpY2UodS5pbmRleE9mKG4pLDEpLGwmJmwuY2FsbChuKTt9O30pLG4uY2hpbGRyZW47fX07cmV0dXJuIHUuUHJvdmlkZXIuX189dS5Db25zdW1lci5jb250ZXh0VHlwZT11O31uJDY9cyQyLnNsaWNlLGwkOD17X19lOmZ1bmN0aW9uIF9fZShuLGwsdSx0KXtmb3IodmFyIGksbyxyO2w9bC5fXzspaWYoKGk9bC5fX2MpJiYhaS5fXyl0cnl7aWYoKG89aS5jb25zdHJ1Y3RvcikmJm51bGwhPW8uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yJiYoaS5zZXRTdGF0ZShvLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihuKSkscj1pLl9fZCksbnVsbCE9aS5jb21wb25lbnREaWRDYXRjaCYmKGkuY29tcG9uZW50RGlkQ2F0Y2gobix0fHx7fSkscj1pLl9fZCkscilyZXR1cm4gaS5fX0U9aTt9Y2F0Y2gobCl7bj1sO310aHJvdyBuO319LHUkNT0wLGIkNi5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24obixsKXt2YXIgdTt1PW51bGwhPXRoaXMuX19zJiZ0aGlzLl9fcyE9PXRoaXMuc3RhdGU/dGhpcy5fX3M6dGhpcy5fX3M9diQ1KHt9LHRoaXMuc3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4odiQ1KHt9LHUpLHRoaXMucHJvcHMpKSxuJiZ2JDUodSxuKSxudWxsIT1uJiZ0aGlzLl9fdiYmKGwmJnRoaXMuX3NiLnB1c2gobCksdyQ2KHRoaXMpKTt9LGIkNi5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24obil7dGhpcy5fX3YmJih0aGlzLl9fZT0hMCxuJiZ0aGlzLl9faC5wdXNoKG4pLHckNih0aGlzKSk7fSxiJDYucHJvdG90eXBlLnJlbmRlcj1nJDcsaSQyPVtdLHIkNT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlP1Byb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSk6c2V0VGltZW91dCxmJDY9ZnVuY3Rpb24gZiQ2KG4sbCl7cmV0dXJuIG4uX192Ll9fYi1sLl9fdi5fX2I7fSx4JDUuX19yPTAsZSQ1PTA7dmFyIHQkNCxyJDQsdSQ0LGkkMSxvJDI9MCxmJDU9W10sYyQzPVtdLGUkND1sJDguX19iLGEkMT1sJDguX19yLHYkND1sJDguZGlmZmVkLGwkNz1sJDguX19jLG0kNj1sJDgudW5tb3VudDtmdW5jdGlvbiBkJDUodCx1KXtsJDguX19oJiZsJDguX19oKHIkNCx0LG8kMnx8dSksbyQyPTA7dmFyIGk9ciQ0Ll9fSHx8KHIkNC5fX0g9e19fOltdLF9faDpbXX0pO3JldHVybiB0Pj1pLl9fLmxlbmd0aCYmaS5fXy5wdXNoKHtfX1Y6YyQzfSksaS5fX1t0XTt9ZnVuY3Rpb24gaCQ1KG4pe3JldHVybiBvJDI9MSxzJDEoQiQzLG4pO31mdW5jdGlvbiBzJDEobix1LGkpe3ZhciBvPWQkNSh0JDQrKywyKTtpZihvLnQ9biwhby5fX2MmJihvLl9fPVtpP2kodSk6QiQzKHZvaWQgMCx1KSxmdW5jdGlvbihuKXt2YXIgdD1vLl9fTj9vLl9fTlswXTpvLl9fWzBdLHI9by50KHQsbik7dCE9PXImJihvLl9fTj1bcixvLl9fWzFdXSxvLl9fYy5zZXRTdGF0ZSh7fSkpO31dLG8uX19jPXIkNCwhciQ0LnUpKXt2YXIgZj1mdW5jdGlvbiBmKG4sdCxyKXtpZighby5fX2MuX19IKXJldHVybiEwO3ZhciB1PW8uX19jLl9fSC5fXy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4uX19jO30pO2lmKHUuZXZlcnkoZnVuY3Rpb24obil7cmV0dXJuIW4uX19OO30pKXJldHVybiFjfHxjLmNhbGwodGhpcyxuLHQscik7dmFyIGk9ITE7cmV0dXJuIHUuZm9yRWFjaChmdW5jdGlvbihuKXtpZihuLl9fTil7dmFyIHQ9bi5fX1swXTtuLl9fPW4uX19OLG4uX19OPXZvaWQgMCx0IT09bi5fX1swXSYmKGk9ITApO319KSwhKCFpJiZvLl9fYy5wcm9wcz09PW4pJiYoIWN8fGMuY2FsbCh0aGlzLG4sdCxyKSk7fTtyJDQudT0hMDt2YXIgYz1yJDQuc2hvdWxkQ29tcG9uZW50VXBkYXRlLGU9ciQ0LmNvbXBvbmVudFdpbGxVcGRhdGU7ciQ0LmNvbXBvbmVudFdpbGxVcGRhdGU9ZnVuY3Rpb24obix0LHIpe2lmKHRoaXMuX19lKXt2YXIgdT1jO2M9dm9pZCAwLGYobix0LHIpLGM9dTt9ZSYmZS5jYWxsKHRoaXMsbix0LHIpO30sciQ0LnNob3VsZENvbXBvbmVudFVwZGF0ZT1mO31yZXR1cm4gby5fX058fG8uX187fWZ1bmN0aW9uIHAkNih1LGkpe3ZhciBvPWQkNSh0JDQrKywzKTshbCQ4Ll9fcyYmeiQ0KG8uX19ILGkpJiYoby5fXz11LG8uaT1pLHIkNC5fX0guX19oLnB1c2gobykpO31mdW5jdGlvbiB5JDModSxpKXt2YXIgbz1kJDUodCQ0KyssNCk7IWwkOC5fX3MmJnokNChvLl9fSCxpKSYmKG8uX189dSxvLmk9aSxyJDQuX19oLnB1c2gobykpO31mdW5jdGlvbiBfJDEobil7cmV0dXJuIG8kMj01LEYkNChmdW5jdGlvbigpe3JldHVybntjdXJyZW50Om59O30sW10pO31mdW5jdGlvbiBBJDQobix0LHIpe28kMj02LHkkMyhmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/KG4odCgpKSxmdW5jdGlvbigpe3JldHVybiBuKG51bGwpO30pOm4/KG4uY3VycmVudD10KCksZnVuY3Rpb24oKXtyZXR1cm4gbi5jdXJyZW50PW51bGw7fSk6dm9pZCAwO30sbnVsbD09cj9yOnIuY29uY2F0KG4pKTt9ZnVuY3Rpb24gRiQ0KG4scil7dmFyIHU9ZCQ1KHQkNCsrLDcpO3JldHVybiB6JDQodS5fX0gscik/KHUuX19WPW4oKSx1Lmk9cix1Ll9faD1uLHUuX19WKTp1Ll9fO31mdW5jdGlvbiBUJDIobix0KXtyZXR1cm4gbyQyPTgsRiQ0KGZ1bmN0aW9uKCl7cmV0dXJuIG47fSx0KTt9ZnVuY3Rpb24gcSQ1KG4pe3ZhciB1PXIkNC5jb250ZXh0W24uX19jXSxpPWQkNSh0JDQrKyw5KTtyZXR1cm4gaS5jPW4sdT8obnVsbD09aS5fXyYmKGkuX189ITAsdS5zdWIociQ0KSksdS5wcm9wcy52YWx1ZSk6bi5fXzt9ZnVuY3Rpb24geCQ0KHQscil7bCQ4LnVzZURlYnVnVmFsdWUmJmwkOC51c2VEZWJ1Z1ZhbHVlKHI/cih0KTp0KTt9ZnVuY3Rpb24gUCQyKG4pe3ZhciB1PWQkNSh0JDQrKywxMCksaT1oJDUoKTtyZXR1cm4gdS5fXz1uLHIkNC5jb21wb25lbnREaWRDYXRjaHx8KHIkNC5jb21wb25lbnREaWRDYXRjaD1mdW5jdGlvbihuLHQpe3UuX18mJnUuX18obix0KSxpWzFdKG4pO30pLFtpWzBdLGZ1bmN0aW9uKCl7aVsxXSh2b2lkIDApO31dO31mdW5jdGlvbiBWJDIoKXt2YXIgbj1kJDUodCQ0KyssMTEpO2lmKCFuLl9fKXtmb3IodmFyIHU9ciQ0Ll9fdjtudWxsIT09dSYmIXUuX19tJiZudWxsIT09dS5fXzspdT11Ll9fO3ZhciBpPXUuX19tfHwodS5fX209WzAsMF0pO24uX189XCJQXCIraVswXStcIi1cIitpWzFdKys7fXJldHVybiBuLl9fO31mdW5jdGlvbiBiJDUoKXtmb3IodmFyIHQ7dD1mJDUuc2hpZnQoKTspaWYodC5fX1AmJnQuX19IKXRyeXt0Ll9fSC5fX2guZm9yRWFjaChrJDUpLHQuX19ILl9faC5mb3JFYWNoKHckNSksdC5fX0guX19oPVtdO31jYXRjaChyKXt0Ll9fSC5fX2g9W10sbCQ4Ll9fZShyLHQuX192KTt9fWwkOC5fX2I9ZnVuY3Rpb24obil7ciQ0PW51bGwsZSQ0JiZlJDQobik7fSxsJDguX19yPWZ1bmN0aW9uKG4pe2EkMSYmYSQxKG4pLHQkND0wO3ZhciBpPShyJDQ9bi5fX2MpLl9fSDtpJiYodSQ0PT09ciQ0PyhpLl9faD1bXSxyJDQuX19oPVtdLGkuX18uZm9yRWFjaChmdW5jdGlvbihuKXtuLl9fTiYmKG4uX189bi5fX04pLG4uX19WPWMkMyxuLl9fTj1uLmk9dm9pZCAwO30pKTooaS5fX2guZm9yRWFjaChrJDUpLGkuX19oLmZvckVhY2godyQ1KSxpLl9faD1bXSx0JDQ9MCkpLHUkND1yJDQ7fSxsJDguZGlmZmVkPWZ1bmN0aW9uKHQpe3YkNCYmdiQ0KHQpO3ZhciBvPXQuX19jO28mJm8uX19IJiYoby5fX0guX19oLmxlbmd0aCYmKDEhPT1mJDUucHVzaChvKSYmaSQxPT09bCQ4LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KChpJDE9bCQ4LnJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGokMykoYiQ1KSksby5fX0guX18uZm9yRWFjaChmdW5jdGlvbihuKXtuLmkmJihuLl9fSD1uLmkpLG4uX19WIT09YyQzJiYobi5fXz1uLl9fViksbi5pPXZvaWQgMCxuLl9fVj1jJDM7fSkpLHUkND1yJDQ9bnVsbDt9LGwkOC5fX2M9ZnVuY3Rpb24odCxyKXtyLnNvbWUoZnVuY3Rpb24odCl7dHJ5e3QuX19oLmZvckVhY2goayQ1KSx0Ll9faD10Ll9faC5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIW4uX198fHckNShuKTt9KTt9Y2F0Y2godSl7ci5zb21lKGZ1bmN0aW9uKG4pe24uX19oJiYobi5fX2g9W10pO30pLHI9W10sbCQ4Ll9fZSh1LHQuX192KTt9fSksbCQ3JiZsJDcodCxyKTt9LGwkOC51bm1vdW50PWZ1bmN0aW9uKHQpe20kNiYmbSQ2KHQpO3ZhciByLHU9dC5fX2M7dSYmdS5fX0gmJih1Ll9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3RyeXtrJDUobik7fWNhdGNoKG4pe3I9bjt9fSksdS5fX0g9dm9pZCAwLHImJmwkOC5fX2Uocix1Ll9fdikpO307dmFyIGckNj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ZnVuY3Rpb24gaiQzKG4pe3ZhciB0LHI9ZnVuY3Rpb24gcigpe2NsZWFyVGltZW91dCh1KSxnJDYmJmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQpLHNldFRpbWVvdXQobik7fSx1PXNldFRpbWVvdXQociwxMDApO2ckNiYmKHQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpKTt9ZnVuY3Rpb24gayQ1KG4pe3ZhciB0PXIkNCx1PW4uX19jO1wiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihuLl9fYz12b2lkIDAsdSgpKSxyJDQ9dDt9ZnVuY3Rpb24gdyQ1KG4pe3ZhciB0PXIkNDtuLl9fYz1uLl9fKCksciQ0PXQ7fWZ1bmN0aW9uIHokNChuLHQpe3JldHVybiFufHxuLmxlbmd0aCE9PXQubGVuZ3RofHx0LnNvbWUoZnVuY3Rpb24odCxyKXtyZXR1cm4gdCE9PW5bcl07fSk7fWZ1bmN0aW9uIEIkMyhuLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChuKTp0O31mdW5jdGlvbiBnJDUobix0KXtmb3IodmFyIGUgaW4gdCluW2VdPXRbZV07cmV0dXJuIG47fWZ1bmN0aW9uIEMkMShuLHQpe2Zvcih2YXIgZSBpbiBuKWlmKFwiX19zb3VyY2VcIiE9PWUmJiEoZSBpbiB0KSlyZXR1cm4hMDtmb3IodmFyIHIgaW4gdClpZihcIl9fc291cmNlXCIhPT1yJiZuW3JdIT09dFtyXSlyZXR1cm4hMDtyZXR1cm4hMTt9ZnVuY3Rpb24gRSQyKG4pe3RoaXMucHJvcHM9bjt9ZnVuY3Rpb24gdyQ0KG4sZSl7ZnVuY3Rpb24gcihuKXt2YXIgdD10aGlzLnByb3BzLnJlZixyPXQ9PW4ucmVmO3JldHVybiFyJiZ0JiYodC5jYWxsP3QobnVsbCk6dC5jdXJyZW50PW51bGwpLGU/IWUodGhpcy5wcm9wcyxuKXx8IXI6QyQxKHRoaXMucHJvcHMsbik7fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlPXIseSQ0KG4sZSk7fXJldHVybiB1LmRpc3BsYXlOYW1lPVwiTWVtbyhcIisobi5kaXNwbGF5TmFtZXx8bi5uYW1lKStcIilcIix1LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PSEwLHUuX19mPSEwLHU7fShFJDIucHJvdG90eXBlPW5ldyBiJDYoKSkuaXNQdXJlUmVhY3RDb21wb25lbnQ9ITAsRSQyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24obix0KXtyZXR1cm4gQyQxKHRoaXMucHJvcHMsbil8fEMkMSh0aGlzLnN0YXRlLHQpO307dmFyIHgkMz1sJDguX19iO2wkOC5fX2I9ZnVuY3Rpb24obil7bi50eXBlJiZuLnR5cGUuX19mJiZuLnJlZiYmKG4ucHJvcHMucmVmPW4ucmVmLG4ucmVmPW51bGwpLHgkMyYmeCQzKG4pO307dmFyIFIkMT1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2xbXCJmb3JcIl0mJlN5bWJvbFtcImZvclwiXShcInJlYWN0LmZvcndhcmRfcmVmXCIpfHwzOTExO2Z1bmN0aW9uIE4kMShuKXtmdW5jdGlvbiB0KHQpe3ZhciBlPWckNSh7fSx0KTtyZXR1cm4gZGVsZXRlIGUucmVmLG4oZSx0LnJlZnx8bnVsbCk7fXJldHVybiB0LiQkdHlwZW9mPVIkMSx0LnJlbmRlcj10LHQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9dC5fX2Y9ITAsdC5kaXNwbGF5TmFtZT1cIkZvcndhcmRSZWYoXCIrKG4uZGlzcGxheU5hbWV8fG4ubmFtZSkrXCIpXCIsdDt9dmFyIGskND1mdW5jdGlvbiBrJDQobix0KXtyZXR1cm4gbnVsbD09bj9udWxsOiQkMigkJDIobikubWFwKHQpKTt9LEEkMz17bWFwOmskNCxmb3JFYWNoOmskNCxjb3VudDpmdW5jdGlvbiBjb3VudChuKXtyZXR1cm4gbj8kJDIobikubGVuZ3RoOjA7fSxvbmx5OmZ1bmN0aW9uIG9ubHkobil7dmFyIHQ9JCQyKG4pO2lmKDEhPT10Lmxlbmd0aCl0aHJvd1wiQ2hpbGRyZW4ub25seVwiO3JldHVybiB0WzBdO30sdG9BcnJheTokJDJ9LE89bCQ4Ll9fZTtsJDguX19lPWZ1bmN0aW9uKG4sdCxlLHIpe2lmKG4udGhlbilmb3IodmFyIHUsbz10O289by5fXzspaWYoKHU9by5fX2MpJiZ1Ll9fYylyZXR1cm4gbnVsbD09dC5fX2UmJih0Ll9fZT1lLl9fZSx0Ll9faz1lLl9fayksdS5fX2Mobix0KTtPKG4sdCxlLHIpO307dmFyIFQkMT1sJDgudW5tb3VudDtmdW5jdGlvbiBGJDMobix0LGUpe3JldHVybiBuJiYobi5fX2MmJm4uX19jLl9fSCYmKG4uX19jLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4uX19jJiZuLl9fYygpO30pLG4uX19jLl9fSD1udWxsKSxudWxsIT0obj1nJDUoe30sbikpLl9fYyYmKG4uX19jLl9fUD09PWUmJihuLl9fYy5fX1A9dCksbi5fX2M9bnVsbCksbi5fX2s9bi5fX2smJm4uX19rLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gRiQzKG4sdCxlKTt9KSksbjt9ZnVuY3Rpb24gSSQyKG4sdCxlKXtyZXR1cm4gbiYmZSYmKG4uX192PW51bGwsbi5fX2s9bi5fX2smJm4uX19rLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gSSQyKG4sdCxlKTt9KSxuLl9fYyYmbi5fX2MuX19QPT09dCYmKG4uX19lJiZlLmFwcGVuZENoaWxkKG4uX19lKSxuLl9fYy5fX2U9ITAsbi5fX2MuX19QPWUpKSxuO31mdW5jdGlvbiBMJDEoKXt0aGlzLl9fdT0wLHRoaXMudD1udWxsLHRoaXMuX19iPW51bGw7fWZ1bmN0aW9uIFUkMShuKXt2YXIgdD1uLl9fLl9fYztyZXR1cm4gdCYmdC5fX2EmJnQuX19hKG4pO31mdW5jdGlvbiBEJDEobil7dmFyIGUscix1O2Z1bmN0aW9uIG8obyl7aWYoZXx8KGU9bigpKS50aGVuKGZ1bmN0aW9uKG4pe3I9bltcImRlZmF1bHRcIl18fG47fSxmdW5jdGlvbihuKXt1PW47fSksdSl0aHJvdyB1O2lmKCFyKXRocm93IGU7cmV0dXJuIHkkNChyLG8pO31yZXR1cm4gby5kaXNwbGF5TmFtZT1cIkxhenlcIixvLl9fZj0hMCxvO31mdW5jdGlvbiBNJDEoKXt0aGlzLnU9bnVsbCx0aGlzLm89bnVsbDt9bCQ4LnVubW91bnQ9ZnVuY3Rpb24obil7dmFyIHQ9bi5fX2M7dCYmdC5fX1ImJnQuX19SKCksdCYmMzImbi5fX3UmJihuLnR5cGU9bnVsbCksVCQxJiZUJDEobik7fSwoTCQxLnByb3RvdHlwZT1uZXcgYiQ2KCkpLl9fYz1mdW5jdGlvbihuLHQpe3ZhciBlPXQuX19jLHI9dGhpcztudWxsPT1yLnQmJihyLnQ9W10pLHIudC5wdXNoKGUpO3ZhciB1PVUkMShyLl9fdiksbz0hMSxpPWZ1bmN0aW9uIGkoKXtvfHwobz0hMCxlLl9fUj1udWxsLHU/dShsKTpsKCkpO307ZS5fX1I9aTt2YXIgbD1mdW5jdGlvbiBsKCl7aWYoISAtLXIuX191KXtpZihyLnN0YXRlLl9fYSl7dmFyIG49ci5zdGF0ZS5fX2E7ci5fX3YuX19rWzBdPUkkMihuLG4uX19jLl9fUCxuLl9fYy5fX08pO312YXIgdDtmb3Ioci5zZXRTdGF0ZSh7X19hOnIuX19iPW51bGx9KTt0PXIudC5wb3AoKTspdC5mb3JjZVVwZGF0ZSgpO319O3IuX191Kyt8fDMyJnQuX191fHxyLnNldFN0YXRlKHtfX2E6ci5fX2I9ci5fX3YuX19rWzBdfSksbi50aGVuKGksaSk7fSxMJDEucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy50PVtdO30sTCQxLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24obixlKXtpZih0aGlzLl9fYil7aWYodGhpcy5fX3YuX19rKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG89dGhpcy5fX3YuX19rWzBdLl9fYzt0aGlzLl9fdi5fX2tbMF09RiQzKHRoaXMuX19iLHIsby5fX089by5fX1ApO310aGlzLl9fYj1udWxsO312YXIgaT1lLl9fYSYmeSQ0KGckNyxudWxsLG4uZmFsbGJhY2spO3JldHVybiBpJiYoaS5fX3UmPS0zMyksW3kkNChnJDcsbnVsbCxlLl9fYT9udWxsOm4uY2hpbGRyZW4pLGldO307dmFyIFYkMT1mdW5jdGlvbiBWJDEobix0LGUpe2lmKCsrZVsxXT09PWVbMF0mJm4ub1tcImRlbGV0ZVwiXSh0KSxuLnByb3BzLnJldmVhbE9yZGVyJiYoXCJ0XCIhPT1uLnByb3BzLnJldmVhbE9yZGVyWzBdfHwhbi5vLnNpemUpKWZvcihlPW4udTtlOyl7Zm9yKDtlLmxlbmd0aD4zOyllLnBvcCgpKCk7aWYoZVsxXTxlWzBdKWJyZWFrO24udT1lPWVbMl07fX07ZnVuY3Rpb24gVyQxKG4pe3JldHVybiB0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiBuLmNvbnRleHQ7fSxuLmNoaWxkcmVuO31mdW5jdGlvbiBQJDEobil7dmFyIGU9dGhpcyxyPW4uaTtlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7cSQ2KG51bGwsZS5sKSxlLmw9bnVsbCxlLmk9bnVsbDt9LGUuaSYmZS5pIT09ciYmZS5jb21wb25lbnRXaWxsVW5tb3VudCgpLGUubHx8KGUuaT1yLGUubD17bm9kZVR5cGU6MSxwYXJlbnROb2RlOnIsY2hpbGROb2RlczpbXSxhcHBlbmRDaGlsZDpmdW5jdGlvbiBhcHBlbmRDaGlsZChuKXt0aGlzLmNoaWxkTm9kZXMucHVzaChuKSxlLmkuYXBwZW5kQ2hpbGQobik7fSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKG4sdCl7dGhpcy5jaGlsZE5vZGVzLnB1c2gobiksZS5pLmFwcGVuZENoaWxkKG4pO30scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24gcmVtb3ZlQ2hpbGQobil7dGhpcy5jaGlsZE5vZGVzLnNwbGljZSh0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihuKT4+PjEsMSksZS5pLnJlbW92ZUNoaWxkKG4pO319KSxxJDYoeSQ0KFckMSx7Y29udGV4dDplLmNvbnRleHR9LG4uX192KSxlLmwpO31mdW5jdGlvbiBqJDIobixlKXt2YXIgcj15JDQoUCQxLHtfX3Y6bixpOmV9KTtyZXR1cm4gci5jb250YWluZXJJbmZvPWUscjt9KE0kMS5wcm90b3R5cGU9bmV3IGIkNigpKS5fX2E9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxlPVUkMSh0Ll9fdikscj10Lm8uZ2V0KG4pO3JldHVybiByWzBdKyssZnVuY3Rpb24odSl7dmFyIG89ZnVuY3Rpb24gbygpe3QucHJvcHMucmV2ZWFsT3JkZXI/KHIucHVzaCh1KSxWJDEodCxuLHIpKTp1KCk7fTtlP2Uobyk6bygpO307fSxNJDEucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihuKXt0aGlzLnU9bnVsbCx0aGlzLm89bmV3IE1hcCgpO3ZhciB0PSQkMihuLmNoaWxkcmVuKTtuLnJldmVhbE9yZGVyJiZcImJcIj09PW4ucmV2ZWFsT3JkZXJbMF0mJnQucmV2ZXJzZSgpO2Zvcih2YXIgZT10Lmxlbmd0aDtlLS07KXRoaXMuby5zZXQodFtlXSx0aGlzLnU9WzEsMCx0aGlzLnVdKTtyZXR1cm4gbi5jaGlsZHJlbjt9LE0kMS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlPU0kMS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuby5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ViQxKG4sZSx0KTt9KTt9O3ZhciB6JDM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sW1wiZm9yXCJdJiZTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5lbGVtZW50XCIpfHw2MDEwMyxCJDI9L14oPzphY2NlbnR8YWxpZ25tZW50fGFyYWJpY3xiYXNlbGluZXxjYXB8Y2xpcCg/IVBhdGhVKXxjb2xvcnxkb21pbmFudHxmaWxsfGZsb29kfGZvbnR8Z2x5cGgoPyFSKXxob3JpenxpbWFnZSghUyl8bGV0dGVyfGxpZ2h0aW5nfG1hcmtlcig/IUh8V3xVKXxvdmVybGluZXxwYWludHxwb2ludGVyfHNoYXBlfHN0b3B8c3RyaWtldGhyb3VnaHxzdHJva2V8dGV4dCg/IUwpfHRyYW5zZm9ybXx1bmRlcmxpbmV8dW5pY29kZXx1bml0c3x2fHZlY3Rvcnx2ZXJ0fHdvcmR8d3JpdGluZ3x4KD8hQykpW0EtWl0vLEgkMj0vXm9uKEFuaXxUcmF8VG91fEJlZm9yZUlucHxDb21wbykvLFokMT0vW0EtWjAtOV0vZyxZJDE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50LCQkMT1mdW5jdGlvbiAkJDEobil7cmV0dXJuKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PV90eXBlb2YyKFN5bWJvbCgpKT8vZmlsfGNoZXxyYWQvOi9maWx8Y2hlfHJhLykudGVzdChuKTt9O2Z1bmN0aW9uIHEkNChuLHQsZSl7cmV0dXJuIG51bGw9PXQuX19rJiYodC50ZXh0Q29udGVudD1cIlwiKSxxJDYobix0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKCksbj9uLl9fYzpudWxsO31mdW5jdGlvbiBHJDIobix0LGUpe3JldHVybiBCJDQobix0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKCksbj9uLl9fYzpudWxsO31iJDYucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e30sW1wiY29tcG9uZW50V2lsbE1vdW50XCIsXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsXCJjb21wb25lbnRXaWxsVXBkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIkNi5wcm90b3R5cGUsdCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpc1tcIlVOU0FGRV9cIit0XTt9LHNldDpmdW5jdGlvbiBzZXQobil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTt9fSk7fSk7dmFyIEokMT1sJDguZXZlbnQ7ZnVuY3Rpb24gSyQxKCl7fWZ1bmN0aW9uIFEkMSgpe3JldHVybiB0aGlzLmNhbmNlbEJ1YmJsZTt9ZnVuY3Rpb24gWCQxKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZDt9bCQ4LmV2ZW50PWZ1bmN0aW9uKG4pe3JldHVybiBKJDEmJihuPUokMShuKSksbi5wZXJzaXN0PUskMSxuLmlzUHJvcGFnYXRpb25TdG9wcGVkPVEkMSxuLmlzRGVmYXVsdFByZXZlbnRlZD1YJDEsbi5uYXRpdmVFdmVudD1uO307dmFyIG5uLHRuPXtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXNbXCJjbGFzc1wiXTt9fSxlbj1sJDgudm5vZGU7bCQ4LnZub2RlPWZ1bmN0aW9uKG4pe1wic3RyaW5nXCI9PXR5cGVvZiBuLnR5cGUmJmZ1bmN0aW9uKG4pe3ZhciB0PW4ucHJvcHMsZT1uLnR5cGUsdT17fTtmb3IodmFyIG8gaW4gdCl7dmFyIGk9dFtvXTtpZighKFwidmFsdWVcIj09PW8mJlwiZGVmYXVsdFZhbHVlXCJpbiB0JiZudWxsPT1pfHxZJDEmJlwiY2hpbGRyZW5cIj09PW8mJlwibm9zY3JpcHRcIj09PWV8fFwiY2xhc3NcIj09PW98fFwiY2xhc3NOYW1lXCI9PT1vKSl7dmFyIGw9by50b0xvd2VyQ2FzZSgpO1wiZGVmYXVsdFZhbHVlXCI9PT1vJiZcInZhbHVlXCJpbiB0JiZudWxsPT10LnZhbHVlP289XCJ2YWx1ZVwiOlwiZG93bmxvYWRcIj09PW8mJiEwPT09aT9pPVwiXCI6XCJvbmRvdWJsZWNsaWNrXCI9PT1sP289XCJvbmRibGNsaWNrXCI6XCJvbmNoYW5nZVwiIT09bHx8XCJpbnB1dFwiIT09ZSYmXCJ0ZXh0YXJlYVwiIT09ZXx8JCQxKHQudHlwZSk/XCJvbmZvY3VzXCI9PT1sP289XCJvbmZvY3VzaW5cIjpcIm9uYmx1clwiPT09bD9vPVwib25mb2N1c291dFwiOkgkMi50ZXN0KG8pP289bDotMT09PWUuaW5kZXhPZihcIi1cIikmJkIkMi50ZXN0KG8pP289by5yZXBsYWNlKFokMSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpOm51bGw9PT1pJiYoaT12b2lkIDApOmw9bz1cIm9uaW5wdXRcIixcIm9uaW5wdXRcIj09PWwmJnVbbz1sXSYmKG89XCJvbmlucHV0Q2FwdHVyZVwiKSx1W29dPWk7fX1cInNlbGVjdFwiPT1lJiZ1Lm11bHRpcGxlJiZBcnJheS5pc0FycmF5KHUudmFsdWUpJiYodS52YWx1ZT0kJDIodC5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihuKXtuLnByb3BzLnNlbGVjdGVkPS0xIT11LnZhbHVlLmluZGV4T2Yobi5wcm9wcy52YWx1ZSk7fSkpLFwic2VsZWN0XCI9PWUmJm51bGwhPXUuZGVmYXVsdFZhbHVlJiYodS52YWx1ZT0kJDIodC5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihuKXtuLnByb3BzLnNlbGVjdGVkPXUubXVsdGlwbGU/LTEhPXUuZGVmYXVsdFZhbHVlLmluZGV4T2Yobi5wcm9wcy52YWx1ZSk6dS5kZWZhdWx0VmFsdWU9PW4ucHJvcHMudmFsdWU7fSkpLHRbXCJjbGFzc1wiXSYmIXQuY2xhc3NOYW1lPyh1W1wiY2xhc3NcIl09dFtcImNsYXNzXCJdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFwiY2xhc3NOYW1lXCIsdG4pKToodC5jbGFzc05hbWUmJiF0W1wiY2xhc3NcIl18fHRbXCJjbGFzc1wiXSYmdC5jbGFzc05hbWUpJiYodVtcImNsYXNzXCJdPXUuY2xhc3NOYW1lPXQuY2xhc3NOYW1lKSxuLnByb3BzPXU7fShuKSxuLiQkdHlwZW9mPXokMyxlbiYmZW4obik7fTt2YXIgcm49bCQ4Ll9fcjtsJDguX19yPWZ1bmN0aW9uKG4pe3JuJiZybihuKSxubj1uLl9fYzt9O3ZhciB1bj1sJDguZGlmZmVkO2wkOC5kaWZmZWQ9ZnVuY3Rpb24obil7dW4mJnVuKG4pO3ZhciB0PW4ucHJvcHMsZT1uLl9fZTtudWxsIT1lJiZcInRleHRhcmVhXCI9PT1uLnR5cGUmJlwidmFsdWVcImluIHQmJnQudmFsdWUhPT1lLnZhbHVlJiYoZS52YWx1ZT1udWxsPT10LnZhbHVlP1wiXCI6dC52YWx1ZSksbm49bnVsbDt9O3ZhciBvbj17UmVhY3RDdXJyZW50RGlzcGF0Y2hlcjp7Y3VycmVudDp7cmVhZENvbnRleHQ6ZnVuY3Rpb24gcmVhZENvbnRleHQobil7cmV0dXJuIG5uLl9fbltuLl9fY10ucHJvcHMudmFsdWU7fX19fSxsbj1cIjE3LjAuMlwiO2Z1bmN0aW9uIGNuKG4pe3JldHVybiB5JDQuYmluZChudWxsLG4pO31mdW5jdGlvbiBmbihuKXtyZXR1cm4hIW4mJm4uJCR0eXBlb2Y9PT16JDM7fWZ1bmN0aW9uIGFuKG4pe3JldHVybiBmbihuKSYmbi50eXBlPT09ZyQ3O31mdW5jdGlvbiBzbihuKXtyZXR1cm4gZm4obik/RSQzLmFwcGx5KG51bGwsYXJndW1lbnRzKTpuO31mdW5jdGlvbiBobihuKXtyZXR1cm4hIW4uX19rJiYocSQ2KG51bGwsbiksITApO31mdW5jdGlvbiB2bihuKXtyZXR1cm4gbiYmKG4uYmFzZXx8MT09PW4ubm9kZVR5cGUmJm4pfHxudWxsO312YXIgZG49ZnVuY3Rpb24gZG4obix0KXtyZXR1cm4gbih0KTt9LHBuPWZ1bmN0aW9uIHBuKG4sdCl7cmV0dXJuIG4odCk7fSxtbj1nJDc7ZnVuY3Rpb24geW4obil7bigpO31mdW5jdGlvbiBfbihuKXtyZXR1cm4gbjt9ZnVuY3Rpb24gYm4oKXtyZXR1cm5bITEseW5dO312YXIgU249eSQzLGduPWZuO2Z1bmN0aW9uIENuKG4sdCl7dmFyIGU9dCgpLHI9aCQ1KHtoOntfXzplLHY6dH19KSx1PXJbMF0uaCxvPXJbMV07cmV0dXJuIHkkMyhmdW5jdGlvbigpe3UuX189ZSx1LnY9dCxFbih1KSYmbyh7aDp1fSk7fSxbbixlLHRdKSxwJDYoZnVuY3Rpb24oKXtyZXR1cm4gRW4odSkmJm8oe2g6dX0pLG4oZnVuY3Rpb24oKXtFbih1KSYmbyh7aDp1fSk7fSk7fSxbbl0pLGU7fWZ1bmN0aW9uIEVuKG4pe3ZhciB0LGUscj1uLnYsdT1uLl9fO3RyeXt2YXIgbz1yKCk7cmV0dXJuISgodD11KT09PShlPW8pJiYoMCE9PXR8fDEvdD09MS9lKXx8dCE9dCYmZSE9ZSk7fWNhdGNoKG4pe3JldHVybiEwO319dmFyIHduPXt1c2VTdGF0ZTpoJDUsdXNlSWQ6ViQyLHVzZVJlZHVjZXI6cyQxLHVzZUVmZmVjdDpwJDYsdXNlTGF5b3V0RWZmZWN0OnkkMyx1c2VJbnNlcnRpb25FZmZlY3Q6U24sdXNlVHJhbnNpdGlvbjpibix1c2VEZWZlcnJlZFZhbHVlOl9uLHVzZVN5bmNFeHRlcm5hbFN0b3JlOkNuLHN0YXJ0VHJhbnNpdGlvbjp5bix1c2VSZWY6XyQxLHVzZUltcGVyYXRpdmVIYW5kbGU6QSQ0LHVzZU1lbW86RiQ0LHVzZUNhbGxiYWNrOlQkMix1c2VDb250ZXh0OnEkNSx1c2VEZWJ1Z1ZhbHVlOngkNCx2ZXJzaW9uOlwiMTcuMC4yXCIsQ2hpbGRyZW46QSQzLHJlbmRlcjpxJDQsaHlkcmF0ZTpHJDIsdW5tb3VudENvbXBvbmVudEF0Tm9kZTpobixjcmVhdGVQb3J0YWw6aiQyLGNyZWF0ZUVsZW1lbnQ6eSQ0LGNyZWF0ZUNvbnRleHQ6RiQ1LGNyZWF0ZUZhY3Rvcnk6Y24sY2xvbmVFbGVtZW50OnNuLGNyZWF0ZVJlZjpfJDIsRnJhZ21lbnQ6ZyQ3LGlzVmFsaWRFbGVtZW50OmZuLGlzRWxlbWVudDpnbixpc0ZyYWdtZW50OmFuLGZpbmRET01Ob2RlOnZuLENvbXBvbmVudDpiJDYsUHVyZUNvbXBvbmVudDpFJDIsbWVtbzp3JDQsZm9yd2FyZFJlZjpOJDEsZmx1c2hTeW5jOnBuLHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOmRuLFN0cmljdE1vZGU6bW4sU3VzcGVuc2U6TCQxLFN1c3BlbnNlTGlzdDpNJDEsbGF6eTpEJDEsX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6b259O3ZhciBjb21wYXRfbW9kdWxlPS8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxDaGlsZHJlbjpBJDMsQ29tcG9uZW50OmIkNixGcmFnbWVudDpnJDcsUHVyZUNvbXBvbmVudDpFJDIsU3RyaWN0TW9kZTptbixTdXNwZW5zZTpMJDEsU3VzcGVuc2VMaXN0Ok0kMSxfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDpvbixjbG9uZUVsZW1lbnQ6c24sY3JlYXRlQ29udGV4dDpGJDUsY3JlYXRlRWxlbWVudDp5JDQsY3JlYXRlRmFjdG9yeTpjbixjcmVhdGVQb3J0YWw6aiQyLGNyZWF0ZVJlZjpfJDIsXCJkZWZhdWx0XCI6d24sZmluZERPTU5vZGU6dm4sZmx1c2hTeW5jOnBuLGZvcndhcmRSZWY6TiQxLGh5ZHJhdGU6RyQyLGlzRWxlbWVudDpnbixpc0ZyYWdtZW50OmFuLGlzVmFsaWRFbGVtZW50OmZuLGxhenk6RCQxLG1lbW86dyQ0LHJlbmRlcjpxJDQsc3RhcnRUcmFuc2l0aW9uOnluLHVubW91bnRDb21wb25lbnRBdE5vZGU6aG4sdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6ZG4sdXNlQ2FsbGJhY2s6VCQyLHVzZUNvbnRleHQ6cSQ1LHVzZURlYnVnVmFsdWU6eCQ0LHVzZURlZmVycmVkVmFsdWU6X24sdXNlRWZmZWN0OnAkNix1c2VFcnJvckJvdW5kYXJ5OlAkMix1c2VJZDpWJDIsdXNlSW1wZXJhdGl2ZUhhbmRsZTpBJDQsdXNlSW5zZXJ0aW9uRWZmZWN0OlNuLHVzZUxheW91dEVmZmVjdDp5JDMsdXNlTWVtbzpGJDQsdXNlUmVkdWNlcjpzJDEsdXNlUmVmOl8kMSx1c2VTdGF0ZTpoJDUsdXNlU3luY0V4dGVybmFsU3RvcmU6Q24sdXNlVHJhbnNpdGlvbjpibix2ZXJzaW9uOmxufSk7dmFyIGNvbW1vbmpzR2xvYmFsPXR5cGVvZiBnbG9iYWxUaGlzIT09J3VuZGVmaW5lZCc/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93IT09J3VuZGVmaW5lZCc/d2luZG93OnR5cGVvZiBnbG9iYWwhPT0ndW5kZWZpbmVkJz9nbG9iYWw6dHlwZW9mIHNlbGYhPT0ndW5kZWZpbmVkJz9zZWxmOnt9O2Z1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHgpe3JldHVybiB4JiZ4Ll9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCdkZWZhdWx0Jyk/eFsnZGVmYXVsdCddOng7fWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKXtpZihuLl9fZXNNb2R1bGUpcmV0dXJuIG47dmFyIGY9bltcImRlZmF1bHRcIl07aWYodHlwZW9mIGY9PVwiZnVuY3Rpb25cIil7dmFyIGE9ZnVuY3Rpb24gYSgpe2lmKHRoaXMgaW5zdGFuY2VvZiBhKXtyZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoZixhcmd1bWVudHMsdGhpcy5jb25zdHJ1Y3Rvcik7fXJldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O2EucHJvdG90eXBlPWYucHJvdG90eXBlO31lbHNlIGE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsJ19fZXNNb2R1bGUnLHt2YWx1ZTp0cnVlfSk7T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihrKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sayk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsayxkLmdldD9kOntlbnVtZXJhYmxlOnRydWUsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBuW2tdO319KTt9KTtyZXR1cm4gYTt9dmFyIHJlYWN0SXMkMj17ZXhwb3J0czp7fX07dmFyIHJlYWN0SXNfcHJvZHVjdGlvbl9taW4kMT17fTt2YXIgYiQ0PTYwMTAzLGMkMj02MDEwNixkJDQ9NjAxMDcsZSQzPTYwMTA4LGYkND02MDExNCxnJDQ9NjAxMDksaCQ0PTYwMTEwLGskMz02MDExMixsJDY9NjAxMTMsbSQ1PTYwMTIwLG4kNT02MDExNSxwJDU9NjAxMTYscSQzPTYwMTIxLHIkMz02MDEyMix1JDM9NjAxMTcsdiQzPTYwMTI5LHckMz02MDEzMTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2xbXCJmb3JcIl0pe3ZhciB4JDI9U3ltYm9sW1wiZm9yXCJdO2IkND14JDIoXCJyZWFjdC5lbGVtZW50XCIpO2MkMj14JDIoXCJyZWFjdC5wb3J0YWxcIik7ZCQ0PXgkMihcInJlYWN0LmZyYWdtZW50XCIpO2UkMz14JDIoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTtmJDQ9eCQyKFwicmVhY3QucHJvZmlsZXJcIik7ZyQ0PXgkMihcInJlYWN0LnByb3ZpZGVyXCIpO2gkND14JDIoXCJyZWFjdC5jb250ZXh0XCIpO2skMz14JDIoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTtsJDY9eCQyKFwicmVhY3Quc3VzcGVuc2VcIik7bSQ1PXgkMihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIik7biQ1PXgkMihcInJlYWN0Lm1lbW9cIik7cCQ1PXgkMihcInJlYWN0LmxhenlcIik7cSQzPXgkMihcInJlYWN0LmJsb2NrXCIpO3IkMz14JDIoXCJyZWFjdC5zZXJ2ZXIuYmxvY2tcIik7dSQzPXgkMihcInJlYWN0LmZ1bmRhbWVudGFsXCIpO3YkMz14JDIoXCJyZWFjdC5kZWJ1Z190cmFjZV9tb2RlXCIpO3ckMz14JDIoXCJyZWFjdC5sZWdhY3lfaGlkZGVuXCIpO31mdW5jdGlvbiB5JDIoYSl7aWYoXCJvYmplY3RcIj09PV90eXBlb2YyKGEpJiZudWxsIT09YSl7dmFyIHQ9YS4kJHR5cGVvZjtzd2l0Y2godCl7Y2FzZSBiJDQ6c3dpdGNoKGE9YS50eXBlLGEpe2Nhc2UgZCQ0OmNhc2UgZiQ0OmNhc2UgZSQzOmNhc2UgbCQ2OmNhc2UgbSQ1OnJldHVybiBhO2RlZmF1bHQ6c3dpdGNoKGE9YSYmYS4kJHR5cGVvZixhKXtjYXNlIGgkNDpjYXNlIGskMzpjYXNlIHAkNTpjYXNlIG4kNTpjYXNlIGckNDpyZXR1cm4gYTtkZWZhdWx0OnJldHVybiB0O319Y2FzZSBjJDI6cmV0dXJuIHQ7fX19dmFyIHokMj1nJDQsQSQyPWIkNCxCJDE9ayQzLEM9ZCQ0LEQ9cCQ1LEUkMT1uJDUsRiQyPWMkMixHJDE9ZiQ0LEgkMT1lJDMsSSQxPWwkNjtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuQ29udGV4dENvbnN1bWVyPWgkNDtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuQ29udGV4dFByb3ZpZGVyPXokMjtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuRWxlbWVudD1BJDI7cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLkZvcndhcmRSZWY9QiQxO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5GcmFnbWVudD1DO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5MYXp5PUQ7cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLk1lbW89RSQxO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5Qb3J0YWw9RiQyO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5Qcm9maWxlcj1HJDE7cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLlN0cmljdE1vZGU9SCQxO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5TdXNwZW5zZT1JJDE7cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzQXN5bmNNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITE7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNDb25jdXJyZW50TW9kZT1mdW5jdGlvbigpe3JldHVybiExO307cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzQ29udGV4dENvbnN1bWVyPWZ1bmN0aW9uKGEpe3JldHVybiB5JDIoYSk9PT1oJDQ7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNDb250ZXh0UHJvdmlkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHkkMihhKT09PWckNDt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PV90eXBlb2YyKGEpJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWIkNDt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHkkMihhKT09PWskMzt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB5JDIoYSk9PT1kJDQ7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNMYXp5PWZ1bmN0aW9uKGEpe3JldHVybiB5JDIoYSk9PT1wJDU7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB5JDIoYSk9PT1uJDU7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNQb3J0YWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHkkMihhKT09PWMkMjt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4kMS5pc1Byb2ZpbGVyPWZ1bmN0aW9uKGEpe3JldHVybiB5JDIoYSk9PT1mJDQ7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB5JDIoYSk9PT1lJDM7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEuaXNTdXNwZW5zZT1mdW5jdGlvbihhKXtyZXR1cm4geSQyKGEpPT09bCQ2O307cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxLmlzVmFsaWRFbGVtZW50VHlwZT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfHxhPT09ZCQ0fHxhPT09ZiQ0fHxhPT09diQzfHxhPT09ZSQzfHxhPT09bCQ2fHxhPT09bSQ1fHxhPT09dyQzfHxcIm9iamVjdFwiPT09X3R5cGVvZjIoYSkmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXAkNXx8YS4kJHR5cGVvZj09PW4kNXx8YS4kJHR5cGVvZj09PWckNHx8YS4kJHR5cGVvZj09PWgkNHx8YS4kJHR5cGVvZj09PWskM3x8YS4kJHR5cGVvZj09PXUkM3x8YS4kJHR5cGVvZj09PXEkM3x8YVswXT09PXIkMyk/ITA6ITE7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluJDEudHlwZU9mPXkkMjt7cmVhY3RJcyQyLmV4cG9ydHM9cmVhY3RJc19wcm9kdWN0aW9uX21pbiQxO312YXIgcmVhY3RJc0V4cG9ydHMkMT1yZWFjdElzJDIuZXhwb3J0czt2YXIgc2hhbGxvd2VxdWFsPWZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLG9iakIsY29tcGFyZSxjb21wYXJlQ29udGV4dCl7dmFyIHJldD1jb21wYXJlP2NvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCxvYmpBLG9iakIpOnZvaWQgMDtpZihyZXQhPT12b2lkIDApe3JldHVybiEhcmV0O31pZihvYmpBPT09b2JqQil7cmV0dXJuIHRydWU7fWlmKF90eXBlb2YyKG9iakEpIT09XCJvYmplY3RcInx8IW9iakF8fF90eXBlb2YyKG9iakIpIT09XCJvYmplY3RcInx8IW9iakIpe3JldHVybiBmYWxzZTt9dmFyIGtleXNBPU9iamVjdC5rZXlzKG9iakEpO3ZhciBrZXlzQj1PYmplY3Qua2V5cyhvYmpCKTtpZihrZXlzQS5sZW5ndGghPT1rZXlzQi5sZW5ndGgpe3JldHVybiBmYWxzZTt9dmFyIGJIYXNPd25Qcm9wZXJ0eT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQob2JqQik7Zm9yKHZhciBpZHg9MDtpZHg8a2V5c0EubGVuZ3RoO2lkeCsrKXt2YXIga2V5PWtleXNBW2lkeF07aWYoIWJIYXNPd25Qcm9wZXJ0eShrZXkpKXtyZXR1cm4gZmFsc2U7fXZhciB2YWx1ZUE9b2JqQVtrZXldO3ZhciB2YWx1ZUI9b2JqQltrZXldO3JldD1jb21wYXJlP2NvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCx2YWx1ZUEsdmFsdWVCLGtleSk6dm9pZCAwO2lmKHJldD09PWZhbHNlfHxyZXQ9PT12b2lkIDAmJnZhbHVlQSE9PXZhbHVlQil7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fTt2YXIgaCQzPS8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhzaGFsbG93ZXF1YWwpO2Z1bmN0aW9uIHN0eWxpc19taW4oVyl7ZnVuY3Rpb24gTShkLGMsZSxoLGEpe2Zvcih2YXIgbT0wLGI9MCx2PTAsbj0wLHEsZyx4PTAsSz0wLGssdT1rPXE9MCxsPTAscj0wLEk9MCx0PTAsQj1lLmxlbmd0aCxKPUItMSx5LGY9JycscD0nJyxGPScnLEc9JycsQztsPEI7KXtnPWUuY2hhckNvZGVBdChsKTtsPT09SiYmMCE9PWIrbit2K20mJigwIT09YiYmKGc9NDc9PT1iPzEwOjQ3KSxuPXY9bT0wLEIrKyxKKyspO2lmKDA9PT1iK24rdittKXtpZihsPT09SiYmKDA8ciYmKGY9Zi5yZXBsYWNlKE4sJycpKSwwPGYudHJpbSgpLmxlbmd0aCkpe3N3aXRjaChnKXtjYXNlIDMyOmNhc2UgOTpjYXNlIDU5OmNhc2UgMTM6Y2FzZSAxMDpicmVhaztkZWZhdWx0OmYrPWUuY2hhckF0KGwpO31nPTU5O31zd2l0Y2goZyl7Y2FzZSAxMjM6Zj1mLnRyaW0oKTtxPWYuY2hhckNvZGVBdCgwKTtrPTE7Zm9yKHQ9KytsO2w8Qjspe3N3aXRjaChnPWUuY2hhckNvZGVBdChsKSl7Y2FzZSAxMjM6aysrO2JyZWFrO2Nhc2UgMTI1OmstLTticmVhaztjYXNlIDQ3OnN3aXRjaChnPWUuY2hhckNvZGVBdChsKzEpKXtjYXNlIDQyOmNhc2UgNDc6YTp7Zm9yKHU9bCsxO3U8SjsrK3Upe3N3aXRjaChlLmNoYXJDb2RlQXQodSkpe2Nhc2UgNDc6aWYoNDI9PT1nJiY0Mj09PWUuY2hhckNvZGVBdCh1LTEpJiZsKzIhPT11KXtsPXUrMTticmVhayBhO31icmVhaztjYXNlIDEwOmlmKDQ3PT09Zyl7bD11KzE7YnJlYWsgYTt9fX1sPXU7fX1icmVhaztjYXNlIDkxOmcrKztjYXNlIDQwOmcrKztjYXNlIDM0OmNhc2UgMzk6Zm9yKDtsKys8SiYmZS5jaGFyQ29kZUF0KGwpIT09Zzspe319aWYoMD09PWspYnJlYWs7bCsrO31rPWUuc3Vic3RyaW5nKHQsbCk7MD09PXEmJihxPShmPWYucmVwbGFjZShjYSwnJykudHJpbSgpKS5jaGFyQ29kZUF0KDApKTtzd2l0Y2gocSl7Y2FzZSA2NDowPHImJihmPWYucmVwbGFjZShOLCcnKSk7Zz1mLmNoYXJDb2RlQXQoMSk7c3dpdGNoKGcpe2Nhc2UgMTAwOmNhc2UgMTA5OmNhc2UgMTE1OmNhc2UgNDU6cj1jO2JyZWFrO2RlZmF1bHQ6cj1PO31rPU0oYyxyLGssZyxhKzEpO3Q9ay5sZW5ndGg7MDxBJiYocj1YKE8sZixJKSxDPUgoMyxrLHIsYyxELHosdCxnLGEsaCksZj1yLmpvaW4oJycpLHZvaWQgMCE9PUMmJjA9PT0odD0oaz1DLnRyaW0oKSkubGVuZ3RoKSYmKGc9MCxrPScnKSk7aWYoMDx0KXN3aXRjaChnKXtjYXNlIDExNTpmPWYucmVwbGFjZShkYSxlYSk7Y2FzZSAxMDA6Y2FzZSAxMDk6Y2FzZSA0NTprPWYrJ3snK2srJ30nO2JyZWFrO2Nhc2UgMTA3OmY9Zi5yZXBsYWNlKGZhLCckMSAkMicpO2s9ZisneycraysnfSc7az0xPT09d3x8Mj09PXcmJkwoJ0AnK2ssMyk/J0Atd2Via2l0LScraysnQCcrazonQCcrazticmVhaztkZWZhdWx0Oms9ZitrLDExMj09PWgmJihrPShwKz1rLCcnKSk7fWVsc2Ugaz0nJzticmVhaztkZWZhdWx0Oms9TShjLFgoYyxmLEkpLGssaCxhKzEpO31GKz1rO2s9ST1yPXU9cT0wO2Y9Jyc7Zz1lLmNoYXJDb2RlQXQoKytsKTticmVhaztjYXNlIDEyNTpjYXNlIDU5OmY9KDA8cj9mLnJlcGxhY2UoTiwnJyk6ZikudHJpbSgpO2lmKDE8KHQ9Zi5sZW5ndGgpKXN3aXRjaCgwPT09dSYmKHE9Zi5jaGFyQ29kZUF0KDApLDQ1PT09cXx8OTY8cSYmMTIzPnEpJiYodD0oZj1mLnJlcGxhY2UoJyAnLCc6JykpLmxlbmd0aCksMDxBJiZ2b2lkIDAhPT0oQz1IKDEsZixjLGQsRCx6LHAubGVuZ3RoLGgsYSxoKSkmJjA9PT0odD0oZj1DLnRyaW0oKSkubGVuZ3RoKSYmKGY9J1xceDAwXFx4MDAnKSxxPWYuY2hhckNvZGVBdCgwKSxnPWYuY2hhckNvZGVBdCgxKSxxKXtjYXNlIDA6YnJlYWs7Y2FzZSA2NDppZigxMDU9PT1nfHw5OT09PWcpe0crPWYrZS5jaGFyQXQobCk7YnJlYWs7fWRlZmF1bHQ6NTghPT1mLmNoYXJDb2RlQXQodC0xKSYmKHArPVAoZixxLGcsZi5jaGFyQ29kZUF0KDIpKSk7fUk9cj11PXE9MDtmPScnO2c9ZS5jaGFyQ29kZUF0KCsrbCk7fX1zd2l0Y2goZyl7Y2FzZSAxMzpjYXNlIDEwOjQ3PT09Yj9iPTA6MD09PTErcSYmMTA3IT09aCYmMDxmLmxlbmd0aCYmKHI9MSxmKz0nXFx4MDAnKTswPEEqWSYmSCgwLGYsYyxkLEQseixwLmxlbmd0aCxoLGEsaCk7ej0xO0QrKzticmVhaztjYXNlIDU5OmNhc2UgMTI1OmlmKDA9PT1iK24rdittKXt6Kys7YnJlYWs7fWRlZmF1bHQ6eisrO3k9ZS5jaGFyQXQobCk7c3dpdGNoKGcpe2Nhc2UgOTpjYXNlIDMyOmlmKDA9PT1uK20rYilzd2l0Y2goeCl7Y2FzZSA0NDpjYXNlIDU4OmNhc2UgOTpjYXNlIDMyOnk9Jyc7YnJlYWs7ZGVmYXVsdDozMiE9PWcmJih5PScgJyk7fWJyZWFrO2Nhc2UgMDp5PSdcXFxcMCc7YnJlYWs7Y2FzZSAxMjp5PSdcXFxcZic7YnJlYWs7Y2FzZSAxMTp5PSdcXFxcdic7YnJlYWs7Y2FzZSAzODowPT09bitiK20mJihyPUk9MSx5PSdcXGYnK3kpO2JyZWFrO2Nhc2UgMTA4OmlmKDA9PT1uK2IrbStFJiYwPHUpc3dpdGNoKGwtdSl7Y2FzZSAyOjExMj09PXgmJjU4PT09ZS5jaGFyQ29kZUF0KGwtMykmJihFPXgpO2Nhc2UgODoxMTE9PT1LJiYoRT1LKTt9YnJlYWs7Y2FzZSA1ODowPT09bitiK20mJih1PWwpO2JyZWFrO2Nhc2UgNDQ6MD09PWIrdituK20mJihyPTEseSs9J1xccicpO2JyZWFrO2Nhc2UgMzQ6Y2FzZSAzOTowPT09YiYmKG49bj09PWc/MDowPT09bj9nOm4pO2JyZWFrO2Nhc2UgOTE6MD09PW4rYit2JiZtKys7YnJlYWs7Y2FzZSA5MzowPT09bitiK3YmJm0tLTticmVhaztjYXNlIDQxOjA9PT1uK2IrbSYmdi0tO2JyZWFrO2Nhc2UgNDA6aWYoMD09PW4rYittKXtpZigwPT09cSlzd2l0Y2goMip4KzMqSyl7Y2FzZSA1MzM6YnJlYWs7ZGVmYXVsdDpxPTE7fXYrKzt9YnJlYWs7Y2FzZSA2NDowPT09Yit2K24rbSt1K2smJihrPTEpO2JyZWFrO2Nhc2UgNDI6Y2FzZSA0NzppZighKDA8bittK3YpKXN3aXRjaChiKXtjYXNlIDA6c3dpdGNoKDIqZyszKmUuY2hhckNvZGVBdChsKzEpKXtjYXNlIDIzNTpiPTQ3O2JyZWFrO2Nhc2UgMjIwOnQ9bCxiPTQyO31icmVhaztjYXNlIDQyOjQ3PT09ZyYmNDI9PT14JiZ0KzIhPT1sJiYoMzM9PT1lLmNoYXJDb2RlQXQodCsyKSYmKHArPWUuc3Vic3RyaW5nKHQsbCsxKSkseT0nJyxiPTApO319MD09PWImJihmKz15KTt9Sz14O3g9ZztsKys7fXQ9cC5sZW5ndGg7aWYoMDx0KXtyPWM7aWYoMDxBJiYoQz1IKDIscCxyLGQsRCx6LHQsaCxhLGgpLHZvaWQgMCE9PUMmJjA9PT0ocD1DKS5sZW5ndGgpKXJldHVybiBHK3ArRjtwPXIuam9pbignLCcpKyd7JytwKyd9JztpZigwIT09dypFKXsyIT09d3x8TChwLDIpfHwoRT0wKTtzd2l0Y2goRSl7Y2FzZSAxMTE6cD1wLnJlcGxhY2UoaGEsJzotbW96LSQxJykrcDticmVhaztjYXNlIDExMjpwPXAucmVwbGFjZShRLCc6Oi13ZWJraXQtaW5wdXQtJDEnKStwLnJlcGxhY2UoUSwnOjotbW96LSQxJykrcC5yZXBsYWNlKFEsJzotbXMtaW5wdXQtJDEnKStwO31FPTA7fX1yZXR1cm4gRytwK0Y7fWZ1bmN0aW9uIFgoZCxjLGUpe3ZhciBoPWMudHJpbSgpLnNwbGl0KGlhKTtjPWg7dmFyIGE9aC5sZW5ndGgsbT1kLmxlbmd0aDtzd2l0Y2gobSl7Y2FzZSAwOmNhc2UgMTp2YXIgYj0wO2ZvcihkPTA9PT1tPycnOmRbMF0rJyAnO2I8YTsrK2Ipe2NbYl09WihkLGNbYl0sZSkudHJpbSgpO31icmVhaztkZWZhdWx0OnZhciB2PWI9MDtmb3IoYz1bXTtiPGE7KytiKXtmb3IodmFyIG49MDtuPG07KytuKXtjW3YrK109WihkW25dKycgJyxoW2JdLGUpLnRyaW0oKTt9fX1yZXR1cm4gYzt9ZnVuY3Rpb24gWihkLGMsZSl7dmFyIGg9Yy5jaGFyQ29kZUF0KDApOzMzPmgmJihoPShjPWMudHJpbSgpKS5jaGFyQ29kZUF0KDApKTtzd2l0Y2goaCl7Y2FzZSAzODpyZXR1cm4gYy5yZXBsYWNlKEYsJyQxJytkLnRyaW0oKSk7Y2FzZSA1ODpyZXR1cm4gZC50cmltKCkrYy5yZXBsYWNlKEYsJyQxJytkLnRyaW0oKSk7ZGVmYXVsdDppZigwPDEqZSYmMDxjLmluZGV4T2YoJ1xcZicpKXJldHVybiBjLnJlcGxhY2UoRiwoNTg9PT1kLmNoYXJDb2RlQXQoMCk/Jyc6JyQxJykrZC50cmltKCkpO31yZXR1cm4gZCtjO31mdW5jdGlvbiBQKGQsYyxlLGgpe3ZhciBhPWQrJzsnLG09MipjKzMqZSs0Kmg7aWYoOTQ0PT09bSl7ZD1hLmluZGV4T2YoJzonLDkpKzE7dmFyIGI9YS5zdWJzdHJpbmcoZCxhLmxlbmd0aC0xKS50cmltKCk7Yj1hLnN1YnN0cmluZygwLGQpLnRyaW0oKStiKyc7JztyZXR1cm4gMT09PXd8fDI9PT13JiZMKGIsMSk/Jy13ZWJraXQtJytiK2I6Yjt9aWYoMD09PXd8fDI9PT13JiYhTChhLDEpKXJldHVybiBhO3N3aXRjaChtKXtjYXNlIDEwMTU6cmV0dXJuIDk3PT09YS5jaGFyQ29kZUF0KDEwKT8nLXdlYmtpdC0nK2ErYTphO2Nhc2UgOTUxOnJldHVybiAxMTY9PT1hLmNoYXJDb2RlQXQoMyk/Jy13ZWJraXQtJythK2E6YTtjYXNlIDk2MzpyZXR1cm4gMTEwPT09YS5jaGFyQ29kZUF0KDUpPyctd2Via2l0LScrYSthOmE7Y2FzZSAxMDA5OmlmKDEwMCE9PWEuY2hhckNvZGVBdCg0KSlicmVhaztjYXNlIDk2OTpjYXNlIDk0MjpyZXR1cm4nLXdlYmtpdC0nK2ErYTtjYXNlIDk3ODpyZXR1cm4nLXdlYmtpdC0nK2ErJy1tb3otJythK2E7Y2FzZSAxMDE5OmNhc2UgOTgzOnJldHVybictd2Via2l0LScrYSsnLW1vei0nK2ErJy1tcy0nK2ErYTtjYXNlIDg4MzppZig0NT09PWEuY2hhckNvZGVBdCg4KSlyZXR1cm4nLXdlYmtpdC0nK2ErYTtpZigwPGEuaW5kZXhPZignaW1hZ2Utc2V0KCcsMTEpKXJldHVybiBhLnJlcGxhY2UoamEsJyQxLXdlYmtpdC0kMicpK2E7YnJlYWs7Y2FzZSA5MzI6aWYoNDU9PT1hLmNoYXJDb2RlQXQoNCkpc3dpdGNoKGEuY2hhckNvZGVBdCg1KSl7Y2FzZSAxMDM6cmV0dXJuJy13ZWJraXQtYm94LScrYS5yZXBsYWNlKCctZ3JvdycsJycpKyctd2Via2l0LScrYSsnLW1zLScrYS5yZXBsYWNlKCdncm93JywncG9zaXRpdmUnKSthO2Nhc2UgMTE1OnJldHVybictd2Via2l0LScrYSsnLW1zLScrYS5yZXBsYWNlKCdzaHJpbmsnLCduZWdhdGl2ZScpK2E7Y2FzZSA5ODpyZXR1cm4nLXdlYmtpdC0nK2ErJy1tcy0nK2EucmVwbGFjZSgnYmFzaXMnLCdwcmVmZXJyZWQtc2l6ZScpK2E7fXJldHVybictd2Via2l0LScrYSsnLW1zLScrYSthO2Nhc2UgOTY0OnJldHVybictd2Via2l0LScrYSsnLW1zLWZsZXgtJythK2E7Y2FzZSAxMDIzOmlmKDk5IT09YS5jaGFyQ29kZUF0KDgpKWJyZWFrO2I9YS5zdWJzdHJpbmcoYS5pbmRleE9mKCc6JywxNSkpLnJlcGxhY2UoJ2ZsZXgtJywnJykucmVwbGFjZSgnc3BhY2UtYmV0d2VlbicsJ2p1c3RpZnknKTtyZXR1cm4nLXdlYmtpdC1ib3gtcGFjaycrYisnLXdlYmtpdC0nK2ErJy1tcy1mbGV4LXBhY2snK2IrYTtjYXNlIDEwMDU6cmV0dXJuIGthLnRlc3QoYSk/YS5yZXBsYWNlKGFhLCc6LXdlYmtpdC0nKSthLnJlcGxhY2UoYWEsJzotbW96LScpK2E6YTtjYXNlIDFlMzpiPWEuc3Vic3RyaW5nKDEzKS50cmltKCk7Yz1iLmluZGV4T2YoJy0nKSsxO3N3aXRjaChiLmNoYXJDb2RlQXQoMCkrYi5jaGFyQ29kZUF0KGMpKXtjYXNlIDIyNjpiPWEucmVwbGFjZShHLCd0YicpO2JyZWFrO2Nhc2UgMjMyOmI9YS5yZXBsYWNlKEcsJ3RiLXJsJyk7YnJlYWs7Y2FzZSAyMjA6Yj1hLnJlcGxhY2UoRywnbHInKTticmVhaztkZWZhdWx0OnJldHVybiBhO31yZXR1cm4nLXdlYmtpdC0nK2ErJy1tcy0nK2IrYTtjYXNlIDEwMTc6aWYoLTE9PT1hLmluZGV4T2YoJ3N0aWNreScsOSkpYnJlYWs7Y2FzZSA5NzU6Yz0oYT1kKS5sZW5ndGgtMTA7Yj0oMzM9PT1hLmNoYXJDb2RlQXQoYyk/YS5zdWJzdHJpbmcoMCxjKTphKS5zdWJzdHJpbmcoZC5pbmRleE9mKCc6Jyw3KSsxKS50cmltKCk7c3dpdGNoKG09Yi5jaGFyQ29kZUF0KDApKyhiLmNoYXJDb2RlQXQoNyl8MCkpe2Nhc2UgMjAzOmlmKDExMT5iLmNoYXJDb2RlQXQoOCkpYnJlYWs7Y2FzZSAxMTU6YT1hLnJlcGxhY2UoYiwnLXdlYmtpdC0nK2IpKyc7JythO2JyZWFrO2Nhc2UgMjA3OmNhc2UgMTAyOmE9YS5yZXBsYWNlKGIsJy13ZWJraXQtJysoMTAyPG0/J2lubGluZS0nOicnKSsnYm94JykrJzsnK2EucmVwbGFjZShiLCctd2Via2l0LScrYikrJzsnK2EucmVwbGFjZShiLCctbXMtJytiKydib3gnKSsnOycrYTt9cmV0dXJuIGErJzsnO2Nhc2UgOTM4OmlmKDQ1PT09YS5jaGFyQ29kZUF0KDUpKXN3aXRjaChhLmNoYXJDb2RlQXQoNikpe2Nhc2UgMTA1OnJldHVybiBiPWEucmVwbGFjZSgnLWl0ZW1zJywnJyksJy13ZWJraXQtJythKyctd2Via2l0LWJveC0nK2IrJy1tcy1mbGV4LScrYithO2Nhc2UgMTE1OnJldHVybictd2Via2l0LScrYSsnLW1zLWZsZXgtaXRlbS0nK2EucmVwbGFjZShiYSwnJykrYTtkZWZhdWx0OnJldHVybictd2Via2l0LScrYSsnLW1zLWZsZXgtbGluZS1wYWNrJythLnJlcGxhY2UoJ2FsaWduLWNvbnRlbnQnLCcnKS5yZXBsYWNlKGJhLCcnKSthO31icmVhaztjYXNlIDk3MzpjYXNlIDk4OTppZig0NSE9PWEuY2hhckNvZGVBdCgzKXx8MTIyPT09YS5jaGFyQ29kZUF0KDQpKWJyZWFrO2Nhc2UgOTMxOmNhc2UgOTUzOmlmKCEwPT09bGEudGVzdChkKSlyZXR1cm4gMTE1PT09KGI9ZC5zdWJzdHJpbmcoZC5pbmRleE9mKCc6JykrMSkpLmNoYXJDb2RlQXQoMCk/UChkLnJlcGxhY2UoJ3N0cmV0Y2gnLCdmaWxsLWF2YWlsYWJsZScpLGMsZSxoKS5yZXBsYWNlKCc6ZmlsbC1hdmFpbGFibGUnLCc6c3RyZXRjaCcpOmEucmVwbGFjZShiLCctd2Via2l0LScrYikrYS5yZXBsYWNlKGIsJy1tb3otJytiLnJlcGxhY2UoJ2ZpbGwtJywnJykpK2E7YnJlYWs7Y2FzZSA5NjI6aWYoYT0nLXdlYmtpdC0nK2ErKDEwMj09PWEuY2hhckNvZGVBdCg1KT8nLW1zLScrYTonJykrYSwyMTE9PT1lK2gmJjEwNT09PWEuY2hhckNvZGVBdCgxMykmJjA8YS5pbmRleE9mKCd0cmFuc2Zvcm0nLDEwKSlyZXR1cm4gYS5zdWJzdHJpbmcoMCxhLmluZGV4T2YoJzsnLDI3KSsxKS5yZXBsYWNlKG1hLCckMS13ZWJraXQtJDInKSthO31yZXR1cm4gYTt9ZnVuY3Rpb24gTChkLGMpe3ZhciBlPWQuaW5kZXhPZigxPT09Yz8nOic6J3snKSxoPWQuc3Vic3RyaW5nKDAsMyE9PWM/ZToxMCk7ZT1kLnN1YnN0cmluZyhlKzEsZC5sZW5ndGgtMSk7cmV0dXJuIFIoMiE9PWM/aDpoLnJlcGxhY2UobmEsJyQxJyksZSxjKTt9ZnVuY3Rpb24gZWEoZCxjKXt2YXIgZT1QKGMsYy5jaGFyQ29kZUF0KDApLGMuY2hhckNvZGVBdCgxKSxjLmNoYXJDb2RlQXQoMikpO3JldHVybiBlIT09YysnOyc/ZS5yZXBsYWNlKG9hLCcgb3IgKCQxKScpLnN1YnN0cmluZyg0KTonKCcrYysnKSc7fWZ1bmN0aW9uIEgoZCxjLGUsaCxhLG0sYix2LG4scSl7Zm9yKHZhciBnPTAseD1jLHc7ZzxBOysrZyl7c3dpdGNoKHc9U1tnXS5jYWxsKEIsZCx4LGUsaCxhLG0sYix2LG4scSkpe2Nhc2Ugdm9pZCAwOmNhc2UhMTpjYXNlITA6Y2FzZSBudWxsOmJyZWFrO2RlZmF1bHQ6eD13O319aWYoeCE9PWMpcmV0dXJuIHg7fWZ1bmN0aW9uIFQoZCl7c3dpdGNoKGQpe2Nhc2Ugdm9pZCAwOmNhc2UgbnVsbDpBPVMubGVuZ3RoPTA7YnJlYWs7ZGVmYXVsdDppZignZnVuY3Rpb24nPT09dHlwZW9mIGQpU1tBKytdPWQ7ZWxzZSBpZignb2JqZWN0Jz09PV90eXBlb2YyKGQpKWZvcih2YXIgYz0wLGU9ZC5sZW5ndGg7YzxlOysrYyl7VChkW2NdKTt9ZWxzZSBZPSEhZHwwO31yZXR1cm4gVDt9ZnVuY3Rpb24gVShkKXtkPWQucHJlZml4O3ZvaWQgMCE9PWQmJihSPW51bGwsZD8nZnVuY3Rpb24nIT09dHlwZW9mIGQ/dz0xOih3PTIsUj1kKTp3PTApO3JldHVybiBVO31mdW5jdGlvbiBCKGQsYyl7dmFyIGU9ZDszMz5lLmNoYXJDb2RlQXQoMCkmJihlPWUudHJpbSgpKTtWPWU7ZT1bVl07aWYoMDxBKXt2YXIgaD1IKC0xLGMsZSxlLEQseiwwLDAsMCwwKTt2b2lkIDAhPT1oJiYnc3RyaW5nJz09PXR5cGVvZiBoJiYoYz1oKTt9dmFyIGE9TShPLGUsYywwLDApOzA8QSYmKGg9SCgtMixhLGUsZSxELHosYS5sZW5ndGgsMCwwLDApLHZvaWQgMCE9PWgmJihhPWgpKTtWPScnO0U9MDt6PUQ9MTtyZXR1cm4gYTt9dmFyIGNhPS9eXFwwKy9nLE49L1tcXDBcXHJcXGZdL2csYWE9LzogKi9nLGthPS96b298Z3JhLyxtYT0vKFssOiBdKSh0cmFuc2Zvcm0pL2csaWE9LyxcXHIrPy9nLEY9LyhbXFx0XFxyXFxuIF0pKlxcZj8mL2csZmE9L0Aoa1xcdyspXFxzKihcXFMqKVxccyovLFE9Lzo6KHBsYWNlKS9nLGhhPS86KHJlYWQtb25seSkvZyxHPS9bc3ZoXVxcdystW3RibHJdezJ9LyxkYT0vXFwoXFxzKiguKilcXHMqXFwpL2csb2E9LyhbXFxzXFxTXSo/KTsvZyxiYT0vLXNlbGZ8ZmxleC0vZyxuYT0vW15dKj8oOltycF1bZWxdYVtcXHctXSspW15dKi8sbGE9L3N0cmV0Y2h8OlxccypcXHcrXFwtKD86Y29udGV8YXZhaWwpLyxqYT0vKFteLV0pKGltYWdlLXNldFxcKCkvLHo9MSxEPTEsRT0wLHc9MSxPPVtdLFM9W10sQT0wLFI9bnVsbCxZPTAsVj0nJztCLnVzZT1UO0Iuc2V0PVU7dm9pZCAwIT09VyYmVShXKTtyZXR1cm4gQjt9dmFyIHVuaXRsZXNzS2V5cz17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6MSxib3JkZXJJbWFnZU91dHNldDoxLGJvcmRlckltYWdlU2xpY2U6MSxib3JkZXJJbWFnZVdpZHRoOjEsYm94RmxleDoxLGJveEZsZXhHcm91cDoxLGJveE9yZGluYWxHcm91cDoxLGNvbHVtbkNvdW50OjEsY29sdW1uczoxLGZsZXg6MSxmbGV4R3JvdzoxLGZsZXhQb3NpdGl2ZToxLGZsZXhTaHJpbms6MSxmbGV4TmVnYXRpdmU6MSxmbGV4T3JkZXI6MSxncmlkUm93OjEsZ3JpZFJvd0VuZDoxLGdyaWRSb3dTcGFuOjEsZ3JpZFJvd1N0YXJ0OjEsZ3JpZENvbHVtbjoxLGdyaWRDb2x1bW5FbmQ6MSxncmlkQ29sdW1uU3BhbjoxLGdyaWRDb2x1bW5TdGFydDoxLG1zR3JpZFJvdzoxLG1zR3JpZFJvd1NwYW46MSxtc0dyaWRDb2x1bW46MSxtc0dyaWRDb2x1bW5TcGFuOjEsZm9udFdlaWdodDoxLGxpbmVIZWlnaHQ6MSxvcGFjaXR5OjEsb3JkZXI6MSxvcnBoYW5zOjEsdGFiU2l6ZToxLHdpZG93czoxLHpJbmRleDoxLHpvb206MSxXZWJraXRMaW5lQ2xhbXA6MSxmaWxsT3BhY2l0eToxLGZsb29kT3BhY2l0eToxLHN0b3BPcGFjaXR5OjEsc3Ryb2tlRGFzaGFycmF5OjEsc3Ryb2tlRGFzaG9mZnNldDoxLHN0cm9rZU1pdGVybGltaXQ6MSxzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MX07ZnVuY3Rpb24gbWVtb2l6ZShmbil7dmFyIGNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKGFyZyl7aWYoY2FjaGVbYXJnXT09PXVuZGVmaW5lZCljYWNoZVthcmddPWZuKGFyZyk7cmV0dXJuIGNhY2hlW2FyZ107fTt9dmFyIHJlYWN0UHJvcHNSZWdleD0vXigoY2hpbGRyZW58ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8a2V5fHJlZnxhdXRvRm9jdXN8ZGVmYXVsdFZhbHVlfGRlZmF1bHRDaGVja2VkfGlubmVySFRNTHxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmd8c3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nfHZhbHVlTGlua3xhYmJyfGFjY2VwdHxhY2NlcHRDaGFyc2V0fGFjY2Vzc0tleXxhY3Rpb258YWxsb3d8YWxsb3dVc2VyTWVkaWF8YWxsb3dQYXltZW50UmVxdWVzdHxhbGxvd0Z1bGxTY3JlZW58YWxsb3dUcmFuc3BhcmVuY3l8YWx0fGFzeW5jfGF1dG9Db21wbGV0ZXxhdXRvUGxheXxjYXB0dXJlfGNlbGxQYWRkaW5nfGNlbGxTcGFjaW5nfGNoYWxsZW5nZXxjaGFyU2V0fGNoZWNrZWR8Y2l0ZXxjbGFzc0lEfGNsYXNzTmFtZXxjb2xzfGNvbFNwYW58Y29udGVudHxjb250ZW50RWRpdGFibGV8Y29udGV4dE1lbnV8Y29udHJvbHN8Y29udHJvbHNMaXN0fGNvb3Jkc3xjcm9zc09yaWdpbnxkYXRhfGRhdGVUaW1lfGRlY29kaW5nfGRlZmF1bHR8ZGVmZXJ8ZGlyfGRpc2FibGVkfGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlfGRvd25sb2FkfGRyYWdnYWJsZXxlbmNUeXBlfGVudGVyS2V5SGludHxmb3JtfGZvcm1BY3Rpb258Zm9ybUVuY1R5cGV8Zm9ybU1ldGhvZHxmb3JtTm9WYWxpZGF0ZXxmb3JtVGFyZ2V0fGZyYW1lQm9yZGVyfGhlYWRlcnN8aGVpZ2h0fGhpZGRlbnxoaWdofGhyZWZ8aHJlZkxhbmd8aHRtbEZvcnxodHRwRXF1aXZ8aWR8aW5wdXRNb2RlfGludGVncml0eXxpc3xrZXlQYXJhbXN8a2V5VHlwZXxraW5kfGxhYmVsfGxhbmd8bGlzdHxsb2FkaW5nfGxvb3B8bG93fG1hcmdpbkhlaWdodHxtYXJnaW5XaWR0aHxtYXh8bWF4TGVuZ3RofG1lZGlhfG1lZGlhR3JvdXB8bWV0aG9kfG1pbnxtaW5MZW5ndGh8bXVsdGlwbGV8bXV0ZWR8bmFtZXxub25jZXxub1ZhbGlkYXRlfG9wZW58b3B0aW11bXxwYXR0ZXJufHBsYWNlaG9sZGVyfHBsYXlzSW5saW5lfHBvc3RlcnxwcmVsb2FkfHByb2ZpbGV8cmFkaW9Hcm91cHxyZWFkT25seXxyZWZlcnJlclBvbGljeXxyZWx8cmVxdWlyZWR8cmV2ZXJzZWR8cm9sZXxyb3dzfHJvd1NwYW58c2FuZGJveHxzY29wZXxzY29wZWR8c2Nyb2xsaW5nfHNlYW1sZXNzfHNlbGVjdGVkfHNoYXBlfHNpemV8c2l6ZXN8c2xvdHxzcGFufHNwZWxsQ2hlY2t8c3JjfHNyY0RvY3xzcmNMYW5nfHNyY1NldHxzdGFydHxzdGVwfHN0eWxlfHN1bW1hcnl8dGFiSW5kZXh8dGFyZ2V0fHRpdGxlfHRyYW5zbGF0ZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGluY3JlbWVudGFsfGZhbGxiYWNrfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxvcHRpb258cmVzdWx0c3xzZWN1cml0eXx1bnNlbGVjdGFibGV8YWNjZW50SGVpZ2h0fGFjY3VtdWxhdGV8YWRkaXRpdmV8YWxpZ25tZW50QmFzZWxpbmV8YWxsb3dSZW9yZGVyfGFscGhhYmV0aWN8YW1wbGl0dWRlfGFyYWJpY0Zvcm18YXNjZW50fGF0dHJpYnV0ZU5hbWV8YXR0cmlidXRlVHlwZXxhdXRvUmV2ZXJzZXxhemltdXRofGJhc2VGcmVxdWVuY3l8YmFzZWxpbmVTaGlmdHxiYXNlUHJvZmlsZXxiYm94fGJlZ2lufGJpYXN8Ynl8Y2FsY01vZGV8Y2FwSGVpZ2h0fGNsaXB8Y2xpcFBhdGhVbml0c3xjbGlwUGF0aHxjbGlwUnVsZXxjb2xvckludGVycG9sYXRpb258Y29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc3xjb2xvclByb2ZpbGV8Y29sb3JSZW5kZXJpbmd8Y29udGVudFNjcmlwdFR5cGV8Y29udGVudFN0eWxlVHlwZXxjdXJzb3J8Y3h8Y3l8ZHxkZWNlbGVyYXRlfGRlc2NlbnR8ZGlmZnVzZUNvbnN0YW50fGRpcmVjdGlvbnxkaXNwbGF5fGRpdmlzb3J8ZG9taW5hbnRCYXNlbGluZXxkdXJ8ZHh8ZHl8ZWRnZU1vZGV8ZWxldmF0aW9ufGVuYWJsZUJhY2tncm91bmR8ZW5kfGV4cG9uZW50fGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWR8ZmlsbHxmaWxsT3BhY2l0eXxmaWxsUnVsZXxmaWx0ZXJ8ZmlsdGVyUmVzfGZpbHRlclVuaXRzfGZsb29kQ29sb3J8Zmxvb2RPcGFjaXR5fGZvY3VzYWJsZXxmb250RmFtaWx5fGZvbnRTaXplfGZvbnRTaXplQWRqdXN0fGZvbnRTdHJldGNofGZvbnRTdHlsZXxmb250VmFyaWFudHxmb250V2VpZ2h0fGZvcm1hdHxmcm9tfGZyfGZ4fGZ5fGcxfGcyfGdseXBoTmFtZXxnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbHxnbHlwaE9yaWVudGF0aW9uVmVydGljYWx8Z2x5cGhSZWZ8Z3JhZGllbnRUcmFuc2Zvcm18Z3JhZGllbnRVbml0c3xoYW5naW5nfGhvcml6QWR2WHxob3Jpek9yaWdpblh8aWRlb2dyYXBoaWN8aW1hZ2VSZW5kZXJpbmd8aW58aW4yfGludGVyY2VwdHxrfGsxfGsyfGszfGs0fGtlcm5lbE1hdHJpeHxrZXJuZWxVbml0TGVuZ3RofGtlcm5pbmd8a2V5UG9pbnRzfGtleVNwbGluZXN8a2V5VGltZXN8bGVuZ3RoQWRqdXN0fGxldHRlclNwYWNpbmd8bGlnaHRpbmdDb2xvcnxsaW1pdGluZ0NvbmVBbmdsZXxsb2NhbHxtYXJrZXJFbmR8bWFya2VyTWlkfG1hcmtlclN0YXJ0fG1hcmtlckhlaWdodHxtYXJrZXJVbml0c3xtYXJrZXJXaWR0aHxtYXNrfG1hc2tDb250ZW50VW5pdHN8bWFza1VuaXRzfG1hdGhlbWF0aWNhbHxtb2RlfG51bU9jdGF2ZXN8b2Zmc2V0fG9wYWNpdHl8b3BlcmF0b3J8b3JkZXJ8b3JpZW50fG9yaWVudGF0aW9ufG9yaWdpbnxvdmVyZmxvd3xvdmVybGluZVBvc2l0aW9ufG92ZXJsaW5lVGhpY2tuZXNzfHBhbm9zZTF8cGFpbnRPcmRlcnxwYXRoTGVuZ3RofHBhdHRlcm5Db250ZW50VW5pdHN8cGF0dGVyblRyYW5zZm9ybXxwYXR0ZXJuVW5pdHN8cG9pbnRlckV2ZW50c3xwb2ludHN8cG9pbnRzQXRYfHBvaW50c0F0WXxwb2ludHNBdFp8cHJlc2VydmVBbHBoYXxwcmVzZXJ2ZUFzcGVjdFJhdGlvfHByaW1pdGl2ZVVuaXRzfHJ8cmFkaXVzfHJlZlh8cmVmWXxyZW5kZXJpbmdJbnRlbnR8cmVwZWF0Q291bnR8cmVwZWF0RHVyfHJlcXVpcmVkRXh0ZW5zaW9uc3xyZXF1aXJlZEZlYXR1cmVzfHJlc3RhcnR8cmVzdWx0fHJvdGF0ZXxyeHxyeXxzY2FsZXxzZWVkfHNoYXBlUmVuZGVyaW5nfHNsb3BlfHNwYWNpbmd8c3BlY3VsYXJDb25zdGFudHxzcGVjdWxhckV4cG9uZW50fHNwZWVkfHNwcmVhZE1ldGhvZHxzdGFydE9mZnNldHxzdGREZXZpYXRpb258c3RlbWh8c3RlbXZ8c3RpdGNoVGlsZXN8c3RvcENvbG9yfHN0b3BPcGFjaXR5fHN0cmlrZXRocm91Z2hQb3NpdGlvbnxzdHJpa2V0aHJvdWdoVGhpY2tuZXNzfHN0cmluZ3xzdHJva2V8c3Ryb2tlRGFzaGFycmF5fHN0cm9rZURhc2hvZmZzZXR8c3Ryb2tlTGluZWNhcHxzdHJva2VMaW5lam9pbnxzdHJva2VNaXRlcmxpbWl0fHN0cm9rZU9wYWNpdHl8c3Ryb2tlV2lkdGh8c3VyZmFjZVNjYWxlfHN5c3RlbUxhbmd1YWdlfHRhYmxlVmFsdWVzfHRhcmdldFh8dGFyZ2V0WXx0ZXh0QW5jaG9yfHRleHREZWNvcmF0aW9ufHRleHRSZW5kZXJpbmd8dGV4dExlbmd0aHx0b3x0cmFuc2Zvcm18dTF8dTJ8dW5kZXJsaW5lUG9zaXRpb258dW5kZXJsaW5lVGhpY2tuZXNzfHVuaWNvZGV8dW5pY29kZUJpZGl8dW5pY29kZVJhbmdlfHVuaXRzUGVyRW18dkFscGhhYmV0aWN8dkhhbmdpbmd8dklkZW9ncmFwaGljfHZNYXRoZW1hdGljYWx8dmFsdWVzfHZlY3RvckVmZmVjdHx2ZXJzaW9ufHZlcnRBZHZZfHZlcnRPcmlnaW5YfHZlcnRPcmlnaW5ZfHZpZXdCb3h8dmlld1RhcmdldHx2aXNpYmlsaXR5fHdpZHRoc3x3b3JkU3BhY2luZ3x3cml0aW5nTW9kZXx4fHhIZWlnaHR8eDF8eDJ8eENoYW5uZWxTZWxlY3Rvcnx4bGlua0FjdHVhdGV8eGxpbmtBcmNyb2xlfHhsaW5rSHJlZnx4bGlua1JvbGV8eGxpbmtTaG93fHhsaW5rVGl0bGV8eGxpbmtUeXBlfHhtbEJhc2V8eG1sbnN8eG1sbnNYbGlua3x4bWxMYW5nfHhtbFNwYWNlfHl8eTF8eTJ8eUNoYW5uZWxTZWxlY3Rvcnx6fHpvb21BbmRQYW58Zm9yfGNsYXNzfGF1dG9mb2N1cyl8KChbRGRdW0FhXVtUdF1bQWFdfFtBYV1bUnJdW0lpXVtBYV18eCktLiopKSQvO3ZhciBpc1Byb3BWYWxpZD0vKiAjX19QVVJFX18gKi9tZW1vaXplKGZ1bmN0aW9uKHByb3Ape3JldHVybiByZWFjdFByb3BzUmVnZXgudGVzdChwcm9wKXx8cHJvcC5jaGFyQ29kZUF0KDApPT09MTExJiZwcm9wLmNoYXJDb2RlQXQoMSk9PT0xMTAmJnByb3AuY2hhckNvZGVBdCgyKTw5MTt9KTt2YXIgcmVhY3RJcyQxPXtleHBvcnRzOnt9fTt2YXIgcmVhY3RJc19wcm9kdWN0aW9uX21pbj17fTt2YXIgYiQzPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbFtcImZvclwiXSxjJDE9YiQzP1N5bWJvbFtcImZvclwiXShcInJlYWN0LmVsZW1lbnRcIik6NjAxMDMsZCQzPWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5wb3J0YWxcIik6NjAxMDYsZSQyPWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxmJDM9YiQzP1N5bWJvbFtcImZvclwiXShcInJlYWN0LnN0cmljdF9tb2RlXCIpOjYwMTA4LGckMz1iJDM/U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QucHJvZmlsZXJcIik6NjAxMTQsaCQyPWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxrJDI9YiQzP1N5bWJvbFtcImZvclwiXShcInJlYWN0LmNvbnRleHRcIik6NjAxMTAsbCQ1PWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5hc3luY19tb2RlXCIpOjYwMTExLG0kND1iJDM/U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuY29uY3VycmVudF9tb2RlXCIpOjYwMTExLG4kND1iJDM/U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscCQ0PWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxxJDI9YiQzP1N5bWJvbFtcImZvclwiXShcInJlYWN0LnN1c3BlbnNlX2xpc3RcIik6NjAxMjAsciQyPWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5tZW1vXCIpOjYwMTE1LHQkMz1iJDM/U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QubGF6eVwiKTo2MDExNix2JDI9YiQzP1N5bWJvbFtcImZvclwiXShcInJlYWN0LmJsb2NrXCIpOjYwMTIxLHckMj1iJDM/U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZnVuZGFtZW50YWxcIik6NjAxMTcseCQxPWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5yZXNwb25kZXJcIik6NjAxMTgseSQxPWIkMz9TeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5zY29wZVwiKTo2MDExOTtmdW5jdGlvbiB6JDEoYSl7aWYoXCJvYmplY3RcIj09PV90eXBlb2YyKGEpJiZudWxsIT09YSl7dmFyIHU9YS4kJHR5cGVvZjtzd2l0Y2godSl7Y2FzZSBjJDE6c3dpdGNoKGE9YS50eXBlLGEpe2Nhc2UgbCQ1OmNhc2UgbSQ0OmNhc2UgZSQyOmNhc2UgZyQzOmNhc2UgZiQzOmNhc2UgcCQ0OnJldHVybiBhO2RlZmF1bHQ6c3dpdGNoKGE9YSYmYS4kJHR5cGVvZixhKXtjYXNlIGskMjpjYXNlIG4kNDpjYXNlIHQkMzpjYXNlIHIkMjpjYXNlIGgkMjpyZXR1cm4gYTtkZWZhdWx0OnJldHVybiB1O319Y2FzZSBkJDM6cmV0dXJuIHU7fX19ZnVuY3Rpb24gQSQxKGEpe3JldHVybiB6JDEoYSk9PT1tJDQ7fXJlYWN0SXNfcHJvZHVjdGlvbl9taW4uQXN5bmNNb2RlPWwkNTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLkNvbmN1cnJlbnRNb2RlPW0kNDtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLkNvbnRleHRDb25zdW1lcj1rJDI7cmVhY3RJc19wcm9kdWN0aW9uX21pbi5Db250ZXh0UHJvdmlkZXI9aCQyO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uRWxlbWVudD1jJDE7cmVhY3RJc19wcm9kdWN0aW9uX21pbi5Gb3J3YXJkUmVmPW4kNDtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLkZyYWdtZW50PWUkMjtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLkxhenk9dCQzO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uTWVtbz1yJDI7cmVhY3RJc19wcm9kdWN0aW9uX21pbi5Qb3J0YWw9ZCQzO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uUHJvZmlsZXI9ZyQzO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uU3RyaWN0TW9kZT1mJDM7cmVhY3RJc19wcm9kdWN0aW9uX21pbi5TdXNwZW5zZT1wJDQ7cmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gQSQxKGEpfHx6JDEoYSk9PT1sJDU7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzQ29uY3VycmVudE1vZGU9QSQxO3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHokMShhKT09PWskMjt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNDb250ZXh0UHJvdmlkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHokMShhKT09PWgkMjt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVyblwib2JqZWN0XCI9PT1fdHlwZW9mMihhKSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT1jJDE7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzRm9yd2FyZFJlZj1mdW5jdGlvbihhKXtyZXR1cm4geiQxKGEpPT09biQ0O307cmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6JDEoYSk9PT1lJDI7fTtyZWFjdElzX3Byb2R1Y3Rpb25fbWluLmlzTGF6eT1mdW5jdGlvbihhKXtyZXR1cm4geiQxKGEpPT09dCQzO307cmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc01lbW89ZnVuY3Rpb24oYSl7cmV0dXJuIHokMShhKT09PXIkMjt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNQb3J0YWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHokMShhKT09PWQkMzt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4geiQxKGEpPT09ZyQzO307cmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc1N0cmljdE1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHokMShhKT09PWYkMzt9O3JlYWN0SXNfcHJvZHVjdGlvbl9taW4uaXNTdXNwZW5zZT1mdW5jdGlvbihhKXtyZXR1cm4geiQxKGEpPT09cCQ0O307cmVhY3RJc19wcm9kdWN0aW9uX21pbi5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYXx8YT09PWUkMnx8YT09PW0kNHx8YT09PWckM3x8YT09PWYkM3x8YT09PXAkNHx8YT09PXEkMnx8XCJvYmplY3RcIj09PV90eXBlb2YyKGEpJiZudWxsIT09YSYmKGEuJCR0eXBlb2Y9PT10JDN8fGEuJCR0eXBlb2Y9PT1yJDJ8fGEuJCR0eXBlb2Y9PT1oJDJ8fGEuJCR0eXBlb2Y9PT1rJDJ8fGEuJCR0eXBlb2Y9PT1uJDR8fGEuJCR0eXBlb2Y9PT13JDJ8fGEuJCR0eXBlb2Y9PT14JDF8fGEuJCR0eXBlb2Y9PT15JDF8fGEuJCR0eXBlb2Y9PT12JDIpO307cmVhY3RJc19wcm9kdWN0aW9uX21pbi50eXBlT2Y9eiQxO3tyZWFjdElzJDEuZXhwb3J0cz1yZWFjdElzX3Byb2R1Y3Rpb25fbWluO312YXIgcmVhY3RJc0V4cG9ydHM9cmVhY3RJcyQxLmV4cG9ydHM7dmFyIHJlYWN0SXM9cmVhY3RJc0V4cG9ydHM7dmFyIFJFQUNUX1NUQVRJQ1M9e2NoaWxkQ29udGV4dFR5cGVzOnRydWUsY29udGV4dFR5cGU6dHJ1ZSxjb250ZXh0VHlwZXM6dHJ1ZSxkZWZhdWx0UHJvcHM6dHJ1ZSxkaXNwbGF5TmFtZTp0cnVlLGdldERlZmF1bHRQcm9wczp0cnVlLGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjp0cnVlLGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczp0cnVlLG1peGluczp0cnVlLHByb3BUeXBlczp0cnVlLHR5cGU6dHJ1ZX07dmFyIEtOT1dOX1NUQVRJQ1M9e25hbWU6dHJ1ZSxsZW5ndGg6dHJ1ZSxwcm90b3R5cGU6dHJ1ZSxjYWxsZXI6dHJ1ZSxjYWxsZWU6dHJ1ZSxhcmd1bWVudHM6dHJ1ZSxhcml0eTp0cnVlfTt2YXIgRk9SV0FSRF9SRUZfU1RBVElDUz17JyQkdHlwZW9mJzp0cnVlLHJlbmRlcjp0cnVlLGRlZmF1bHRQcm9wczp0cnVlLGRpc3BsYXlOYW1lOnRydWUscHJvcFR5cGVzOnRydWV9O3ZhciBNRU1PX1NUQVRJQ1M9eyckJHR5cGVvZic6dHJ1ZSxjb21wYXJlOnRydWUsZGVmYXVsdFByb3BzOnRydWUsZGlzcGxheU5hbWU6dHJ1ZSxwcm9wVHlwZXM6dHJ1ZSx0eXBlOnRydWV9O3ZhciBUWVBFX1NUQVRJQ1M9e307VFlQRV9TVEFUSUNTW3JlYWN0SXMuRm9yd2FyZFJlZl09Rk9SV0FSRF9SRUZfU1RBVElDUztUWVBFX1NUQVRJQ1NbcmVhY3RJcy5NZW1vXT1NRU1PX1NUQVRJQ1M7ZnVuY3Rpb24gZ2V0U3RhdGljcyhjb21wb25lbnQpe2lmKHJlYWN0SXMuaXNNZW1vKGNvbXBvbmVudCkpe3JldHVybiBNRU1PX1NUQVRJQ1M7fXJldHVybiBUWVBFX1NUQVRJQ1NbY29tcG9uZW50WyckJHR5cGVvZiddXXx8UkVBQ1RfU1RBVElDUzt9dmFyIGRlZmluZVByb3BlcnR5PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgZ2V0T3duUHJvcGVydHlOYW1lcz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lczt2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3ZhciBnZXRQcm90b3R5cGVPZj1PYmplY3QuZ2V0UHJvdG90eXBlT2Y7dmFyIG9iamVjdFByb3RvdHlwZT1PYmplY3QucHJvdG90eXBlO2Z1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCxzb3VyY2VDb21wb25lbnQsYmxhY2tsaXN0KXtpZih0eXBlb2Ygc291cmNlQ29tcG9uZW50IT09J3N0cmluZycpe2lmKG9iamVjdFByb3RvdHlwZSl7dmFyIGluaGVyaXRlZENvbXBvbmVudD1nZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO2lmKGluaGVyaXRlZENvbXBvbmVudCYmaW5oZXJpdGVkQ29tcG9uZW50IT09b2JqZWN0UHJvdG90eXBlKXtob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsaW5oZXJpdGVkQ29tcG9uZW50LGJsYWNrbGlzdCk7fX12YXIga2V5cz1nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7aWYoZ2V0T3duUHJvcGVydHlTeW1ib2xzKXtrZXlzPWtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTt9dmFyIHRhcmdldFN0YXRpY3M9Z2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpO3ZhciBzb3VyY2VTdGF0aWNzPWdldFN0YXRpY3Moc291cmNlQ29tcG9uZW50KTtmb3IodmFyIGk9MDtpPGtleXMubGVuZ3RoOysraSl7dmFyIGtleT1rZXlzW2ldO2lmKCFLTk9XTl9TVEFUSUNTW2tleV0mJiEoYmxhY2tsaXN0JiZibGFja2xpc3Rba2V5XSkmJiEoc291cmNlU3RhdGljcyYmc291cmNlU3RhdGljc1trZXldKSYmISh0YXJnZXRTdGF0aWNzJiZ0YXJnZXRTdGF0aWNzW2tleV0pKXt2YXIgZGVzY3JpcHRvcj1nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LGtleSk7dHJ5e2RlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCxrZXksZGVzY3JpcHRvcik7fWNhdGNoKGUpe319fX1yZXR1cm4gdGFyZ2V0Q29tcG9uZW50O312YXIgaG9pc3ROb25SZWFjdFN0YXRpY3NfY2pzPWhvaXN0Tm9uUmVhY3RTdGF0aWNzO3ZhciB5PS8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhob2lzdE5vblJlYWN0U3RhdGljc19janMpO2Z1bmN0aW9uIHYkMSgpe3JldHVybih2JDE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKTt9cmV0dXJuIGU7fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpO312YXIgZyQyPWZ1bmN0aW9uIGckMihlLHQpe2Zvcih2YXIgbj1bZVswXV0scj0wLG89dC5sZW5ndGg7cjxvO3IrPTEpbi5wdXNoKHRbcl0sZVtyKzFdKTtyZXR1cm4gbjt9LFM9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PV90eXBlb2YyKHQpJiZcIltvYmplY3QgT2JqZWN0XVwiPT09KHQudG9TdHJpbmc/dC50b1N0cmluZygpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkmJiFyZWFjdElzRXhwb3J0cyQxLnR5cGVPZih0KTt9LHckMT1PYmplY3QuZnJlZXplKFtdKSxFPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIGIkMihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO31mdW5jdGlvbiBfKGUpe3JldHVybiBlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiQ29tcG9uZW50XCI7fWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnN0eWxlZENvbXBvbmVudElkO312YXIgQT1cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmKHByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19BVFRSfHxwcm9jZXNzLmVudi5TQ19BVFRSKXx8XCJkYXRhLXN0eWxlZFwiLEk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJIVE1MRWxlbWVudFwiaW4gd2luZG93LFA9Qm9vbGVhbihcImJvb2xlYW5cIj09dHlwZW9mIFNDX0RJU0FCTEVfU1BFRURZP1NDX0RJU0FCTEVfU1BFRURZOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZ2b2lkIDAhPT1wcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFkmJlwiXCIhPT1wcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFk/XCJmYWxzZVwiIT09cHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZJiZwcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJnZvaWQgMCE9PXByb2Nlc3MuZW52LlNDX0RJU0FCTEVfU1BFRURZJiZcIlwiIT09cHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFk/XCJmYWxzZVwiIT09cHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFkmJnByb2Nlc3MuZW52LlNDX0RJU0FCTEVfU1BFRURZOlwicHJvZHVjdGlvblwiIT09XCJwcm9kdWN0aW9uXCIpO2Z1bmN0aW9uIGokMShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dGhyb3cgbmV3IEVycm9yKFwiQW4gZXJyb3Igb2NjdXJyZWQuIFNlZSBodHRwczovL2dpdC5pby9KVUlhRSNcIitlK1wiIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKyhuLmxlbmd0aD4wP1wiIEFyZ3M6IFwiK24uam9pbihcIiwgXCIpOlwiXCIpKTt9dmFyIFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZ3JvdXBTaXplcz1uZXcgVWludDMyQXJyYXkoNTEyKSx0aGlzLmxlbmd0aD01MTIsdGhpcy50YWc9ZTt9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5kZXhPZkdyb3VwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49MDtuPGU7bisrKXQrPXRoaXMuZ3JvdXBTaXplc1tuXTtyZXR1cm4gdDt9LHQuaW5zZXJ0UnVsZXM9ZnVuY3Rpb24oZSx0KXtpZihlPj10aGlzLmdyb3VwU2l6ZXMubGVuZ3RoKXtmb3IodmFyIG49dGhpcy5ncm91cFNpemVzLHI9bi5sZW5ndGgsbz1yO2U+PW87KShvPDw9MSk8MCYmaiQxKDE2LFwiXCIrZSk7dGhpcy5ncm91cFNpemVzPW5ldyBVaW50MzJBcnJheShvKSx0aGlzLmdyb3VwU2l6ZXMuc2V0KG4pLHRoaXMubGVuZ3RoPW87Zm9yKHZhciBzPXI7czxvO3MrKyl0aGlzLmdyb3VwU2l6ZXNbc109MDt9Zm9yKHZhciBpPXRoaXMuaW5kZXhPZkdyb3VwKGUrMSksYT0wLGM9dC5sZW5ndGg7YTxjO2ErKyl0aGlzLnRhZy5pbnNlcnRSdWxlKGksdFthXSkmJih0aGlzLmdyb3VwU2l6ZXNbZV0rKyxpKyspO30sdC5jbGVhckdyb3VwPWZ1bmN0aW9uKGUpe2lmKGU8dGhpcy5sZW5ndGgpe3ZhciB0PXRoaXMuZ3JvdXBTaXplc1tlXSxuPXRoaXMuaW5kZXhPZkdyb3VwKGUpLHI9bit0O3RoaXMuZ3JvdXBTaXplc1tlXT0wO2Zvcih2YXIgbz1uO288cjtvKyspdGhpcy50YWcuZGVsZXRlUnVsZShuKTt9fSx0LmdldEdyb3VwPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7aWYoZT49dGhpcy5sZW5ndGh8fDA9PT10aGlzLmdyb3VwU2l6ZXNbZV0pcmV0dXJuIHQ7Zm9yKHZhciBuPXRoaXMuZ3JvdXBTaXplc1tlXSxyPXRoaXMuaW5kZXhPZkdyb3VwKGUpLG89cituLHM9cjtzPG87cysrKXQrPXRoaXMudGFnLmdldFJ1bGUocykrXCIvKiFzYyovXFxuXCI7cmV0dXJuIHQ7fSxlO30oKSx4PW5ldyBNYXAoKSxrJDE9bmV3IE1hcCgpLFY9MSxCPWZ1bmN0aW9uIEIoZSl7aWYoeC5oYXMoZSkpcmV0dXJuIHguZ2V0KGUpO2Zvcig7ayQxLmhhcyhWKTspVisrO3ZhciB0PVYrKztyZXR1cm4geC5zZXQoZSx0KSxrJDEuc2V0KHQsZSksdDt9LHo9ZnVuY3Rpb24geihlKXtyZXR1cm4gayQxLmdldChlKTt9LE09ZnVuY3Rpb24gTShlLHQpe3Q+PVYmJihWPXQrMSkseC5zZXQoZSx0KSxrJDEuc2V0KHQsZSk7fSxHPVwic3R5bGVbXCIrQSsnXVtkYXRhLXN0eWxlZC12ZXJzaW9uPVwiNS4zLjVcIl0nLEw9bmV3IFJlZ0V4cChcIl5cIitBKydcXFxcLmcoXFxcXGQrKVxcXFxbaWQ9XCIoW1xcXFx3XFxcXGQtXSspXCJcXFxcXS4qP1wiKFteXCJdKiknKSxGJDE9ZnVuY3Rpb24gRiQxKGUsdCxuKXtmb3IodmFyIHIsbz1uLnNwbGl0KFwiLFwiKSxzPTAsaT1vLmxlbmd0aDtzPGk7cysrKShyPW9bc10pJiZlLnJlZ2lzdGVyTmFtZSh0LHIpO30sWT1mdW5jdGlvbiBZKGUsdCl7Zm9yKHZhciBuPSh0LnRleHRDb250ZW50fHxcIlwiKS5zcGxpdChcIi8qIXNjKi9cXG5cIikscj1bXSxvPTAscz1uLmxlbmd0aDtvPHM7bysrKXt2YXIgaT1uW29dLnRyaW0oKTtpZihpKXt2YXIgYT1pLm1hdGNoKEwpO2lmKGEpe3ZhciBjPTB8cGFyc2VJbnQoYVsxXSwxMCksdT1hWzJdOzAhPT1jJiYoTSh1LGMpLEYkMShlLHUsYVszXSksZS5nZXRUYWcoKS5pbnNlcnRSdWxlcyhjLHIpKSxyLmxlbmd0aD0wO31lbHNlIHIucHVzaChpKTt9fX0scSQxPWZ1bmN0aW9uIHEkMSgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5fX3dlYnBhY2tfbm9uY2VfXz93aW5kb3cuX193ZWJwYWNrX25vbmNlX186bnVsbDt9LEg9ZnVuY3Rpb24gSChlKXt2YXIgdD1kb2N1bWVudC5oZWFkLG49ZXx8dCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNoaWxkTm9kZXMsbj10Lmxlbmd0aDtuPj0wO24tLSl7dmFyIHI9dFtuXTtpZihyJiYxPT09ci5ub2RlVHlwZSYmci5oYXNBdHRyaWJ1dGUoQSkpcmV0dXJuIHI7fX0obikscz12b2lkIDAhPT1vP28ubmV4dFNpYmxpbmc6bnVsbDtyLnNldEF0dHJpYnV0ZShBLFwiYWN0aXZlXCIpLHIuc2V0QXR0cmlidXRlKFwiZGF0YS1zdHlsZWQtdmVyc2lvblwiLFwiNS4zLjVcIik7dmFyIGk9cSQxKCk7cmV0dXJuIGkmJnIuc2V0QXR0cmlidXRlKFwibm9uY2VcIixpKSxuLmluc2VydEJlZm9yZShyLHMpLHI7fSwkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzLmVsZW1lbnQ9SChlKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSx0aGlzLnNoZWV0PWZ1bmN0aW9uKGUpe2lmKGUuc2hlZXQpcmV0dXJuIGUuc2hlZXQ7Zm9yKHZhciB0PWRvY3VtZW50LnN0eWxlU2hlZXRzLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBvPXRbbl07aWYoby5vd25lck5vZGU9PT1lKXJldHVybiBvO31qJDEoMTcpO30odCksdGhpcy5sZW5ndGg9MDt9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5zZXJ0UnVsZT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gdGhpcy5zaGVldC5pbnNlcnRSdWxlKHQsZSksdGhpcy5sZW5ndGgrKywhMDt9Y2F0Y2goZSl7cmV0dXJuITE7fX0sdC5kZWxldGVSdWxlPWZ1bmN0aW9uKGUpe3RoaXMuc2hlZXQuZGVsZXRlUnVsZShlKSx0aGlzLmxlbmd0aC0tO30sdC5nZXRSdWxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2hlZXQuY3NzUnVsZXNbZV07cmV0dXJuIHZvaWQgMCE9PXQmJlwic3RyaW5nXCI9PXR5cGVvZiB0LmNzc1RleHQ/dC5jc3NUZXh0OlwiXCI7fSxlO30oKSxXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzLmVsZW1lbnQ9SChlKTt0aGlzLm5vZGVzPXQuY2hpbGROb2Rlcyx0aGlzLmxlbmd0aD0wO312YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5pbnNlcnRSdWxlPWZ1bmN0aW9uKGUsdCl7aWYoZTw9dGhpcy5sZW5ndGgmJmU+PTApe3ZhciBuPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpLHI9dGhpcy5ub2Rlc1tlXTtyZXR1cm4gdGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZShuLHJ8fG51bGwpLHRoaXMubGVuZ3RoKyssITA7fXJldHVybiExO30sdC5kZWxldGVSdWxlPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm5vZGVzW2VdKSx0aGlzLmxlbmd0aC0tO30sdC5nZXRSdWxlPWZ1bmN0aW9uKGUpe3JldHVybiBlPHRoaXMubGVuZ3RoP3RoaXMubm9kZXNbZV0udGV4dENvbnRlbnQ6XCJcIjt9LGU7fSgpLFU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMucnVsZXM9W10sdGhpcy5sZW5ndGg9MDt9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5zZXJ0UnVsZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPD10aGlzLmxlbmd0aCYmKHRoaXMucnVsZXMuc3BsaWNlKGUsMCx0KSx0aGlzLmxlbmd0aCsrLCEwKTt9LHQuZGVsZXRlUnVsZT1mdW5jdGlvbihlKXt0aGlzLnJ1bGVzLnNwbGljZShlLDEpLHRoaXMubGVuZ3RoLS07fSx0LmdldFJ1bGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8dGhpcy5sZW5ndGg/dGhpcy5ydWxlc1tlXTpcIlwiO30sZTt9KCksSj1JLFg9e2lzU2VydmVyOiFJLHVzZUNTU09NSW5qZWN0aW9uOiFQfSxaPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dm9pZCAwPT09ZSYmKGU9RSksdm9pZCAwPT09dCYmKHQ9e30pLHRoaXMub3B0aW9ucz12JDEoe30sWCx7fSxlKSx0aGlzLmdzPXQsdGhpcy5uYW1lcz1uZXcgTWFwKG4pLHRoaXMuc2VydmVyPSEhZS5pc1NlcnZlciwhdGhpcy5zZXJ2ZXImJkkmJkomJihKPSExLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEcpLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBvPXRbbl07byYmXCJhY3RpdmVcIiE9PW8uZ2V0QXR0cmlidXRlKEEpJiYoWShlLG8pLG8ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKTt9fSh0aGlzKSk7fWUucmVnaXN0ZXJJZD1mdW5jdGlvbihlKXtyZXR1cm4gQihlKTt9O3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnJlY29uc3RydWN0V2l0aE9wdGlvbnM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49ITApLG5ldyBlKHYkMSh7fSx0aGlzLm9wdGlvbnMse30sdCksdGhpcy5ncyxuJiZ0aGlzLm5hbWVzfHx2b2lkIDApO30sdC5hbGxvY2F0ZUdTSW5zdGFuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ3NbZV09KHRoaXMuZ3NbZV18fDApKzE7fSx0LmdldFRhZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhZ3x8KHRoaXMudGFnPShuPSh0PXRoaXMub3B0aW9ucykuaXNTZXJ2ZXIscj10LnVzZUNTU09NSW5qZWN0aW9uLG89dC50YXJnZXQsZT1uP25ldyBVKG8pOnI/bmV3ICQobyk6bmV3IFcobyksbmV3IFQoZSkpKTt2YXIgZSx0LG4scixvO30sdC5oYXNOYW1lRm9ySWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5uYW1lcy5oYXMoZSkmJnRoaXMubmFtZXMuZ2V0KGUpLmhhcyh0KTt9LHQucmVnaXN0ZXJOYW1lPWZ1bmN0aW9uKGUsdCl7aWYoQihlKSx0aGlzLm5hbWVzLmhhcyhlKSl0aGlzLm5hbWVzLmdldChlKS5hZGQodCk7ZWxzZXt2YXIgbj1uZXcgU2V0KCk7bi5hZGQodCksdGhpcy5uYW1lcy5zZXQoZSxuKTt9fSx0Lmluc2VydFJ1bGVzPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnJlZ2lzdGVyTmFtZShlLHQpLHRoaXMuZ2V0VGFnKCkuaW5zZXJ0UnVsZXMoQihlKSxuKTt9LHQuY2xlYXJOYW1lcz1mdW5jdGlvbihlKXt0aGlzLm5hbWVzLmhhcyhlKSYmdGhpcy5uYW1lcy5nZXQoZSkuY2xlYXIoKTt9LHQuY2xlYXJSdWxlcz1mdW5jdGlvbihlKXt0aGlzLmdldFRhZygpLmNsZWFyR3JvdXAoQihlKSksdGhpcy5jbGVhck5hbWVzKGUpO30sdC5jbGVhclRhZz1mdW5jdGlvbigpe3RoaXMudGFnPXZvaWQgMDt9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZ2V0VGFnKCksbj10Lmxlbmd0aCxyPVwiXCIsbz0wO288bjtvKyspe3ZhciBzPXoobyk7aWYodm9pZCAwIT09cyl7dmFyIGk9ZS5uYW1lcy5nZXQocyksYT10LmdldEdyb3VwKG8pO2lmKGkmJmEmJmkuc2l6ZSl7dmFyIGM9QStcIi5nXCIrbysnW2lkPVwiJytzKydcIl0nLHU9XCJcIjt2b2lkIDAhPT1pJiZpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MCYmKHUrPWUrXCIsXCIpO30pLHIrPVwiXCIrYStjKyd7Y29udGVudDpcIicrdSsnXCJ9Lyohc2MqL1xcbic7fX19cmV0dXJuIHI7fSh0aGlzKTt9LGU7fSgpLEs9LyhhKShkKS9naSxRPWZ1bmN0aW9uIFEoZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSsoZT4yNT8zOTo5NykpO307ZnVuY3Rpb24gZWUoZSl7dmFyIHQsbj1cIlwiO2Zvcih0PU1hdGguYWJzKGUpO3Q+NTI7dD10LzUyfDApbj1RKHQlNTIpK247cmV0dXJuKFEodCU1MikrbikucmVwbGFjZShLLFwiJDEtJDJcIik7fXZhciB0ZT1mdW5jdGlvbiB0ZShlLHQpe2Zvcih2YXIgbj10Lmxlbmd0aDtuOyllPTMzKmVedC5jaGFyQ29kZUF0KC0tbik7cmV0dXJuIGU7fSxuZT1mdW5jdGlvbiBuZShlKXtyZXR1cm4gdGUoNTM4MSxlKTt9O2Z1bmN0aW9uIHJlKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl7dmFyIG49ZVt0XTtpZihiJDIobikmJiFOKG4pKXJldHVybiExO31yZXR1cm4hMDt9dmFyIG9lPW5lKFwiNS4zLjVcIiksc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLnJ1bGVzPWUsdGhpcy5zdGF0aWNSdWxlc0lkPVwiXCIsdGhpcy5pc1N0YXRpYz0odm9pZCAwPT09bnx8bi5pc1N0YXRpYykmJnJlKGUpLHRoaXMuY29tcG9uZW50SWQ9dCx0aGlzLmJhc2VIYXNoPXRlKG9lLHQpLHRoaXMuYmFzZVN0eWxlPW4sWi5yZWdpc3RlcklkKHQpO31yZXR1cm4gZS5wcm90b3R5cGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuY29tcG9uZW50SWQsbz1bXTtpZih0aGlzLmJhc2VTdHlsZSYmby5wdXNoKHRoaXMuYmFzZVN0eWxlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKGUsdCxuKSksdGhpcy5pc1N0YXRpYyYmIW4uaGFzaCl7aWYodGhpcy5zdGF0aWNSdWxlc0lkJiZ0Lmhhc05hbWVGb3JJZChyLHRoaXMuc3RhdGljUnVsZXNJZCkpby5wdXNoKHRoaXMuc3RhdGljUnVsZXNJZCk7ZWxzZXt2YXIgcz1OZSh0aGlzLnJ1bGVzLGUsdCxuKS5qb2luKFwiXCIpLGk9ZWUodGUodGhpcy5iYXNlSGFzaCxzKT4+PjApO2lmKCF0Lmhhc05hbWVGb3JJZChyLGkpKXt2YXIgYT1uKHMsXCIuXCIraSx2b2lkIDAscik7dC5pbnNlcnRSdWxlcyhyLGksYSk7fW8ucHVzaChpKSx0aGlzLnN0YXRpY1J1bGVzSWQ9aTt9fWVsc2V7Zm9yKHZhciBjPXRoaXMucnVsZXMubGVuZ3RoLHU9dGUodGhpcy5iYXNlSGFzaCxuLmhhc2gpLGw9XCJcIixkPTA7ZDxjO2QrKyl7dmFyIGg9dGhpcy5ydWxlc1tkXTtpZihcInN0cmluZ1wiPT10eXBlb2YgaClsKz1oO2Vsc2UgaWYoaCl7dmFyIHA9TmUoaCxlLHQsbiksZj1BcnJheS5pc0FycmF5KHApP3Auam9pbihcIlwiKTpwO3U9dGUodSxmK2QpLGwrPWY7fX1pZihsKXt2YXIgbT1lZSh1Pj4+MCk7aWYoIXQuaGFzTmFtZUZvcklkKHIsbSkpe3ZhciB5PW4obCxcIi5cIittLHZvaWQgMCxyKTt0Lmluc2VydFJ1bGVzKHIsbSx5KTt9by5wdXNoKG0pO319cmV0dXJuIG8uam9pbihcIiBcIik7fSxlO30oKSxpZT0vXlxccypcXC9cXC8uKiQvZ20sYWU9W1wiOlwiLFwiW1wiLFwiLlwiLFwiI1wiXTtmdW5jdGlvbiBjZShlKXt2YXIgdCxuLHIsbyxzPXZvaWQgMD09PWU/RTplLGk9cy5vcHRpb25zLGE9dm9pZCAwPT09aT9FOmksYz1zLnBsdWdpbnMsdT12b2lkIDA9PT1jP3ckMTpjLGw9bmV3IHN0eWxpc19taW4oYSksZD1bXSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7aWYodCl0cnl7ZSh0K1wifVwiKTt9Y2F0Y2goZSl7fX1yZXR1cm4gZnVuY3Rpb24obixyLG8scyxpLGEsYyx1LGwsZCl7c3dpdGNoKG4pe2Nhc2UgMTppZigwPT09bCYmNjQ9PT1yLmNoYXJDb2RlQXQoMCkpcmV0dXJuIGUocitcIjtcIiksXCJcIjticmVhaztjYXNlIDI6aWYoMD09PXUpcmV0dXJuIHIrXCIvKnwqL1wiO2JyZWFrO2Nhc2UgMzpzd2l0Y2godSl7Y2FzZSAxMDI6Y2FzZSAxMTI6cmV0dXJuIGUob1swXStyKSxcIlwiO2RlZmF1bHQ6cmV0dXJuIHIrKDA9PT1kP1wiLyp8Ki9cIjpcIlwiKTt9Y2FzZS0yOnIuc3BsaXQoXCIvKnwqL31cIikuZm9yRWFjaCh0KTt9fTt9KGZ1bmN0aW9uKGUpe2QucHVzaChlKTt9KSxmPWZ1bmN0aW9uIGYoZSxyLHMpe3JldHVybiAwPT09ciYmLTEhPT1hZS5pbmRleE9mKHNbbi5sZW5ndGhdKXx8cy5tYXRjaChvKT9lOlwiLlwiK3Q7fTtmdW5jdGlvbiBtKGUscyxpLGEpe3ZvaWQgMD09PWEmJihhPVwiJlwiKTt2YXIgYz1lLnJlcGxhY2UoaWUsXCJcIiksdT1zJiZpP2krXCIgXCIrcytcIiB7IFwiK2MrXCIgfVwiOmM7cmV0dXJuIHQ9YSxuPXMscj1uZXcgUmVnRXhwKFwiXFxcXFwiK24rXCJcXFxcYlwiLFwiZ1wiKSxvPW5ldyBSZWdFeHAoXCIoXFxcXFwiK24rXCJcXFxcYil7Mix9XCIpLGwoaXx8IXM/XCJcIjpzLHUpO31yZXR1cm4gbC51c2UoW10uY29uY2F0KHUsW2Z1bmN0aW9uKGUsdCxvKXsyPT09ZSYmby5sZW5ndGgmJm9bMF0ubGFzdEluZGV4T2Yobik+MCYmKG9bMF09b1swXS5yZXBsYWNlKHIsZikpO30saCxmdW5jdGlvbihlKXtpZigtMj09PWUpe3ZhciB0PWQ7cmV0dXJuIGQ9W10sdDt9fV0pKSxtLmhhc2g9dS5sZW5ndGg/dS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5uYW1lfHxqJDEoMTUpLHRlKGUsdC5uYW1lKTt9LDUzODEpLnRvU3RyaW5nKCk6XCJcIixtO312YXIgdWU9LyojX19QVVJFX18qL3duLmNyZWF0ZUNvbnRleHQoKTt1ZS5Db25zdW1lcjt2YXIgZGU9LyojX19QVVJFX18qL3duLmNyZWF0ZUNvbnRleHQoKSxoZT0oZGUuQ29uc3VtZXIsbmV3IFooKSkscGU9Y2UoKTtmdW5jdGlvbiBmZSgpe3JldHVybiBxJDUodWUpfHxoZTt9ZnVuY3Rpb24gbWUoKXtyZXR1cm4gcSQ1KGRlKXx8cGU7fWZ1bmN0aW9uIHllKGUpe3ZhciB0PWgkNShlLnN0eWxpc1BsdWdpbnMpLG49dFswXSxzPXRbMV0sYz1mZSgpLHU9RiQ0KGZ1bmN0aW9uKCl7dmFyIHQ9YztyZXR1cm4gZS5zaGVldD90PWUuc2hlZXQ6ZS50YXJnZXQmJih0PXQucmVjb25zdHJ1Y3RXaXRoT3B0aW9ucyh7dGFyZ2V0OmUudGFyZ2V0fSwhMSkpLGUuZGlzYWJsZUNTU09NSW5qZWN0aW9uJiYodD10LnJlY29uc3RydWN0V2l0aE9wdGlvbnMoe3VzZUNTU09NSW5qZWN0aW9uOiExfSkpLHQ7fSxbZS5kaXNhYmxlQ1NTT01JbmplY3Rpb24sZS5zaGVldCxlLnRhcmdldF0pLGw9RiQ0KGZ1bmN0aW9uKCl7cmV0dXJuIGNlKHtvcHRpb25zOntwcmVmaXg6IWUuZGlzYWJsZVZlbmRvclByZWZpeGVzfSxwbHVnaW5zOm59KTt9LFtlLmRpc2FibGVWZW5kb3JQcmVmaXhlcyxuXSk7cmV0dXJuIHAkNihmdW5jdGlvbigpe2gkMyhuLGUuc3R5bGlzUGx1Z2lucyl8fHMoZS5zdHlsaXNQbHVnaW5zKTt9LFtlLnN0eWxpc1BsdWdpbnNdKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh1ZS5Qcm92aWRlcix7dmFsdWU6dX0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoZGUuUHJvdmlkZXIse3ZhbHVlOmx9LGUuY2hpbGRyZW4pKTt9dmFyIHZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPXRoaXM7dGhpcy5pbmplY3Q9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1wZSk7dmFyIHI9bi5uYW1lK3QuaGFzaDtlLmhhc05hbWVGb3JJZChuLmlkLHIpfHxlLmluc2VydFJ1bGVzKG4uaWQscix0KG4ucnVsZXMscixcIkBrZXlmcmFtZXNcIikpO30sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBqJDEoMTIsU3RyaW5nKG4ubmFtZSkpO30sdGhpcy5uYW1lPWUsdGhpcy5pZD1cInNjLWtleWZyYW1lcy1cIitlLHRoaXMucnVsZXM9dDt9cmV0dXJuIGUucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXBlKSx0aGlzLm5hbWUrZS5oYXNoO30sZTt9KCksZ2U9LyhbQS1aXSkvLFNlPS8oW0EtWl0pL2csd2U9L15tcy0vLEVlPWZ1bmN0aW9uIEVlKGUpe3JldHVyblwiLVwiK2UudG9Mb3dlckNhc2UoKTt9O2Z1bmN0aW9uIGJlKGUpe3JldHVybiBnZS50ZXN0KGUpP2UucmVwbGFjZShTZSxFZSkucmVwbGFjZSh3ZSxcIi1tcy1cIik6ZTt9dmFyIF9lPWZ1bmN0aW9uIF9lKGUpe3JldHVybiBudWxsPT1lfHwhMT09PWV8fFwiXCI9PT1lO307ZnVuY3Rpb24gTmUoZSxuLHIsbyl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBzLGk9W10sYT0wLGM9ZS5sZW5ndGg7YTxjO2ErPTEpXCJcIiE9PShzPU5lKGVbYV0sbixyLG8pKSYmKEFycmF5LmlzQXJyYXkocyk/aS5wdXNoLmFwcGx5KGkscyk6aS5wdXNoKHMpKTtyZXR1cm4gaTt9aWYoX2UoZSkpcmV0dXJuXCJcIjtpZihOKGUpKXJldHVyblwiLlwiK2Uuc3R5bGVkQ29tcG9uZW50SWQ7aWYoYiQyKGUpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZihsPWUpfHxsLnByb3RvdHlwZSYmbC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudHx8IW4pcmV0dXJuIGU7dmFyIHU9ZShuKTtyZXR1cm4gTmUodSxuLHIsbyk7fXZhciBsO3JldHVybiBlIGluc3RhbmNlb2YgdmU/cj8oZS5pbmplY3QocixvKSxlLmdldE5hbWUobykpOmU6UyhlKT9mdW5jdGlvbiBlKHQsbil7dmFyIHIsbyxzPVtdO2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJiFfZSh0W2ldKSYmKEFycmF5LmlzQXJyYXkodFtpXSkmJnRbaV0uaXNDc3N8fGIkMih0W2ldKT9zLnB1c2goYmUoaSkrXCI6XCIsdFtpXSxcIjtcIik6Uyh0W2ldKT9zLnB1c2guYXBwbHkocyxlKHRbaV0saSkpOnMucHVzaChiZShpKStcIjogXCIrKHI9aSxudWxsPT0obz10W2ldKXx8XCJib29sZWFuXCI9PXR5cGVvZiBvfHxcIlwiPT09bz9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiBvfHwwPT09b3x8ciBpbiB1bml0bGVzc0tleXM/U3RyaW5nKG8pLnRyaW0oKTpvK1wicHhcIikrXCI7XCIpKTtyZXR1cm4gbj9bbitcIiB7XCJdLmNvbmNhdChzLFtcIn1cIl0pOnM7fShlKTplLnRvU3RyaW5nKCk7fXZhciBBZT1mdW5jdGlvbiBBZShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGUuaXNDc3M9ITApLGU7fTtmdW5jdGlvbiBDZShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIGIkMihlKXx8UyhlKT9BZShOZShnJDIodyQxLFtlXS5jb25jYXQobikpKSk6MD09PW4ubGVuZ3RoJiYxPT09ZS5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiBlWzBdP2U6QWUoTmUoZyQyKGUsbikpKTt9dmFyIFJlPWZ1bmN0aW9uIFJlKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49RSksZS50aGVtZSE9PW4udGhlbWUmJmUudGhlbWV8fHR8fG4udGhlbWU7fSxEZT0vWyFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fi1dKy9nLGplPS8oXi18LSQpL2c7ZnVuY3Rpb24gVGUoZSl7cmV0dXJuIGUucmVwbGFjZShEZSxcIi1cIikucmVwbGFjZShqZSxcIlwiKTt9dmFyIHhlPWZ1bmN0aW9uIHhlKGUpe3JldHVybiBlZShuZShlKT4+PjApO307ZnVuY3Rpb24ga2UoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJlwicHJvZHVjdGlvblwiPT09XCJwcm9kdWN0aW9uXCI7fXZhciBWZT1mdW5jdGlvbiBWZShlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxcIm9iamVjdFwiPT1fdHlwZW9mMihlKSYmbnVsbCE9PWUmJiFBcnJheS5pc0FycmF5KGUpO30sQmU9ZnVuY3Rpb24gQmUoZSl7cmV0dXJuXCJfX3Byb3RvX19cIiE9PWUmJlwiY29uc3RydWN0b3JcIiE9PWUmJlwicHJvdG90eXBlXCIhPT1lO307ZnVuY3Rpb24gemUoZSx0LG4pe3ZhciByPWVbbl07VmUodCkmJlZlKHIpP01lKHIsdCk6ZVtuXT10O31mdW5jdGlvbiBNZShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07Zm9yKHZhciBvPTAscz1uO288cy5sZW5ndGg7bysrKXt2YXIgaT1zW29dO2lmKFZlKGkpKWZvcih2YXIgYSBpbiBpKUJlKGEpJiZ6ZShlLGlbYV0sYSk7fXJldHVybiBlO312YXIgR2U9LyojX19QVVJFX18qL3duLmNyZWF0ZUNvbnRleHQoKTtHZS5Db25zdW1lcjtmdW5jdGlvbiBGZShlKXt2YXIgdD1xJDUoR2UpLG49RiQ0KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIGokMSgxNCk7aWYoYiQyKGUpKXt2YXIgbj1lKHQpO3JldHVybiBuO31yZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8XCJvYmplY3RcIiE9X3R5cGVvZjIoZSk/aiQxKDgpOnQ/diQxKHt9LHQse30sZSk6ZTt9KGUudGhlbWUsdCk7fSxbZS50aGVtZSx0XSk7cmV0dXJuIGUuY2hpbGRyZW4/LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2UuUHJvdmlkZXIse3ZhbHVlOm59LGUuY2hpbGRyZW4pOm51bGw7fXZhciBZZT17fTtmdW5jdGlvbiBxZShlLHQsbil7dmFyIG89TihlKSxpPSFrZShlKSxhPXQuYXR0cnMsYz12b2lkIDA9PT1hP3ckMTphLGQ9dC5jb21wb25lbnRJZCxoPXZvaWQgMD09PWQ/ZnVuY3Rpb24oZSx0KXt2YXIgbj1cInN0cmluZ1wiIT10eXBlb2YgZT9cInNjXCI6VGUoZSk7WWVbbl09KFllW25dfHwwKSsxO3ZhciByPW4rXCItXCIreGUoXCI1LjMuNVwiK24rWWVbbl0pO3JldHVybiB0P3QrXCItXCIrcjpyO30odC5kaXNwbGF5TmFtZSx0LnBhcmVudENvbXBvbmVudElkKTpkLHA9dC5kaXNwbGF5TmFtZSxmPXZvaWQgMD09PXA/ZnVuY3Rpb24oZSl7cmV0dXJuIGtlKGUpP1wic3R5bGVkLlwiK2U6XCJTdHlsZWQoXCIrXyhlKStcIilcIjt9KGUpOnAsZz10LmRpc3BsYXlOYW1lJiZ0LmNvbXBvbmVudElkP1RlKHQuZGlzcGxheU5hbWUpK1wiLVwiK3QuY29tcG9uZW50SWQ6dC5jb21wb25lbnRJZHx8aCxTPW8mJmUuYXR0cnM/QXJyYXkucHJvdG90eXBlLmNvbmNhdChlLmF0dHJzLGMpLmZpbHRlcihCb29sZWFuKTpjLEE9dC5zaG91bGRGb3J3YXJkUHJvcDtvJiZlLnNob3VsZEZvcndhcmRQcm9wJiYoQT10LnNob3VsZEZvcndhcmRQcm9wP2Z1bmN0aW9uKG4scixvKXtyZXR1cm4gZS5zaG91bGRGb3J3YXJkUHJvcChuLHIsbykmJnQuc2hvdWxkRm9yd2FyZFByb3AobixyLG8pO306ZS5zaG91bGRGb3J3YXJkUHJvcCk7dmFyIEMsST1uZXcgc2UobixnLG8/ZS5jb21wb25lbnRTdHlsZTp2b2lkIDApLFA9SS5pc1N0YXRpYyYmMD09PWMubGVuZ3RoLE89ZnVuY3Rpb24gTyhlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmF0dHJzLGk9ZS5jb21wb25lbnRTdHlsZSxhPWUuZGVmYXVsdFByb3BzLGM9ZS5mb2xkZWRDb21wb25lbnRJZHMsZD1lLnNob3VsZEZvcndhcmRQcm9wLGg9ZS5zdHlsZWRDb21wb25lbnRJZCxwPWUudGFyZ2V0O3ZhciBmPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1lJiYoZT1FKTt2YXIgcj12JDEoe30sdCx7dGhlbWU6ZX0pLG89e307cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHMsaT1lO2Zvcih0IGluIGIkMihpKSYmKGk9aShyKSksaSlyW3RdPW9bdF09XCJjbGFzc05hbWVcIj09PXQ/KG49b1t0XSxzPWlbdF0sbiYmcz9uK1wiIFwiK3M6bnx8cyk6aVt0XTt9KSxbcixvXTt9KFJlKHQscSQ1KEdlKSxhKXx8RSx0LG8pLHk9ZlswXSxnPWZbMV0sUz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1mZSgpLHM9bWUoKSxpPXQ/ZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFLG8scyk6ZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhuLG8scyk7cmV0dXJuIGk7fShpLHIseSksdz1uLF89Zy4kYXN8fHQuJGFzfHxnLmFzfHx0LmFzfHxwLE49a2UoXyksQT1nIT09dD92JDEoe30sdCx7fSxnKTp0LEM9e307Zm9yKHZhciBJIGluIEEpXCIkXCIhPT1JWzBdJiZcImFzXCIhPT1JJiYoXCJmb3J3YXJkZWRBc1wiPT09ST9DLmFzPUFbSV06KGQ/ZChJLGlzUHJvcFZhbGlkLF8pOiFOfHxpc1Byb3BWYWxpZChJKSkmJihDW0ldPUFbSV0pKTtyZXR1cm4gdC5zdHlsZSYmZy5zdHlsZSE9PXQuc3R5bGUmJihDLnN0eWxlPXYkMSh7fSx0LnN0eWxlLHt9LGcuc3R5bGUpKSxDLmNsYXNzTmFtZT1BcnJheS5wcm90b3R5cGUuY29uY2F0KGMsaCxTIT09aD9TOm51bGwsdC5jbGFzc05hbWUsZy5jbGFzc05hbWUpLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKSxDLnJlZj13LC8qI19fUFVSRV9fKi95JDQoXyxDKTt9KEMsZSx0LFApO307cmV0dXJuIE8uZGlzcGxheU5hbWU9ZiwoQz0vKiNfX1BVUkVfXyovd24uZm9yd2FyZFJlZihPKSkuYXR0cnM9UyxDLmNvbXBvbmVudFN0eWxlPUksQy5kaXNwbGF5TmFtZT1mLEMuc2hvdWxkRm9yd2FyZFByb3A9QSxDLmZvbGRlZENvbXBvbmVudElkcz1vP0FycmF5LnByb3RvdHlwZS5jb25jYXQoZS5mb2xkZWRDb21wb25lbnRJZHMsZS5zdHlsZWRDb21wb25lbnRJZCk6dyQxLEMuc3R5bGVkQ29tcG9uZW50SWQ9ZyxDLnRhcmdldD1vP2UudGFyZ2V0OmUsQy53aXRoQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3ZhciByPXQuY29tcG9uZW50SWQsbz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixvPXt9LHM9T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKyluPXNbcl0sdC5pbmRleE9mKG4pPj0wfHwob1tuXT1lW25dKTtyZXR1cm4gbzt9KHQsW1wiY29tcG9uZW50SWRcIl0pLHM9ciYmcitcIi1cIisoa2UoZSk/ZTpUZShfKGUpKSk7cmV0dXJuIHFlKGUsdiQxKHt9LG8se2F0dHJzOlMsY29tcG9uZW50SWQ6c30pLG4pO30sT2JqZWN0LmRlZmluZVByb3BlcnR5KEMsXCJkZWZhdWx0UHJvcHNcIix7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHM7fSxzZXQ6ZnVuY3Rpb24gc2V0KHQpe3RoaXMuX2ZvbGRlZERlZmF1bHRQcm9wcz1vP01lKHt9LGUuZGVmYXVsdFByb3BzLHQpOnQ7fX0pLEMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5cIitDLnN0eWxlZENvbXBvbmVudElkO30saSYmeShDLGUse2F0dHJzOiEwLGNvbXBvbmVudFN0eWxlOiEwLGRpc3BsYXlOYW1lOiEwLGZvbGRlZENvbXBvbmVudElkczohMCxzaG91bGRGb3J3YXJkUHJvcDohMCxzdHlsZWRDb21wb25lbnRJZDohMCx0YXJnZXQ6ITAsd2l0aENvbXBvbmVudDohMH0pLEM7fXZhciBIZT1mdW5jdGlvbiBIZShlKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbyl7aWYodm9pZCAwPT09byYmKG89RSksIXJlYWN0SXNFeHBvcnRzJDEuaXNWYWxpZEVsZW1lbnRUeXBlKHIpKXJldHVybiBqJDEoMSxTdHJpbmcocikpO3ZhciBzPWZ1bmN0aW9uIHMoKXtyZXR1cm4gdChyLG8sQ2UuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpO307cmV0dXJuIHMud2l0aENvbmZpZz1mdW5jdGlvbihuKXtyZXR1cm4gZSh0LHIsdiQxKHt9LG8se30sbikpO30scy5hdHRycz1mdW5jdGlvbihuKXtyZXR1cm4gZSh0LHIsdiQxKHt9LG8se2F0dHJzOkFycmF5LnByb3RvdHlwZS5jb25jYXQoby5hdHRycyxuKS5maWx0ZXIoQm9vbGVhbil9KSk7fSxzO30ocWUsZSk7fTtbXCJhXCIsXCJhYmJyXCIsXCJhZGRyZXNzXCIsXCJhcmVhXCIsXCJhcnRpY2xlXCIsXCJhc2lkZVwiLFwiYXVkaW9cIixcImJcIixcImJhc2VcIixcImJkaVwiLFwiYmRvXCIsXCJiaWdcIixcImJsb2NrcXVvdGVcIixcImJvZHlcIixcImJyXCIsXCJidXR0b25cIixcImNhbnZhc1wiLFwiY2FwdGlvblwiLFwiY2l0ZVwiLFwiY29kZVwiLFwiY29sXCIsXCJjb2xncm91cFwiLFwiZGF0YVwiLFwiZGF0YWxpc3RcIixcImRkXCIsXCJkZWxcIixcImRldGFpbHNcIixcImRmblwiLFwiZGlhbG9nXCIsXCJkaXZcIixcImRsXCIsXCJkdFwiLFwiZW1cIixcImVtYmVkXCIsXCJmaWVsZHNldFwiLFwiZmlnY2FwdGlvblwiLFwiZmlndXJlXCIsXCJmb290ZXJcIixcImZvcm1cIixcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcImhlYWRcIixcImhlYWRlclwiLFwiaGdyb3VwXCIsXCJoclwiLFwiaHRtbFwiLFwiaVwiLFwiaWZyYW1lXCIsXCJpbWdcIixcImlucHV0XCIsXCJpbnNcIixcImtiZFwiLFwia2V5Z2VuXCIsXCJsYWJlbFwiLFwibGVnZW5kXCIsXCJsaVwiLFwibGlua1wiLFwibWFpblwiLFwibWFwXCIsXCJtYXJrXCIsXCJtYXJxdWVlXCIsXCJtZW51XCIsXCJtZW51aXRlbVwiLFwibWV0YVwiLFwibWV0ZXJcIixcIm5hdlwiLFwibm9zY3JpcHRcIixcIm9iamVjdFwiLFwib2xcIixcIm9wdGdyb3VwXCIsXCJvcHRpb25cIixcIm91dHB1dFwiLFwicFwiLFwicGFyYW1cIixcInBpY3R1cmVcIixcInByZVwiLFwicHJvZ3Jlc3NcIixcInFcIixcInJwXCIsXCJydFwiLFwicnVieVwiLFwic1wiLFwic2FtcFwiLFwic2NyaXB0XCIsXCJzZWN0aW9uXCIsXCJzZWxlY3RcIixcInNtYWxsXCIsXCJzb3VyY2VcIixcInNwYW5cIixcInN0cm9uZ1wiLFwic3R5bGVcIixcInN1YlwiLFwic3VtbWFyeVwiLFwic3VwXCIsXCJ0YWJsZVwiLFwidGJvZHlcIixcInRkXCIsXCJ0ZXh0YXJlYVwiLFwidGZvb3RcIixcInRoXCIsXCJ0aGVhZFwiLFwidGltZVwiLFwidGl0bGVcIixcInRyXCIsXCJ0cmFja1wiLFwidVwiLFwidWxcIixcInZhclwiLFwidmlkZW9cIixcIndiclwiLFwiY2lyY2xlXCIsXCJjbGlwUGF0aFwiLFwiZGVmc1wiLFwiZWxsaXBzZVwiLFwiZm9yZWlnbk9iamVjdFwiLFwiZ1wiLFwiaW1hZ2VcIixcImxpbmVcIixcImxpbmVhckdyYWRpZW50XCIsXCJtYXJrZXJcIixcIm1hc2tcIixcInBhdGhcIixcInBhdHRlcm5cIixcInBvbHlnb25cIixcInBvbHlsaW5lXCIsXCJyYWRpYWxHcmFkaWVudFwiLFwicmVjdFwiLFwic3RvcFwiLFwic3ZnXCIsXCJ0ZXh0XCIsXCJ0ZXh0UGF0aFwiLFwidHNwYW5cIl0uZm9yRWFjaChmdW5jdGlvbihlKXtIZVtlXT1IZShlKTt9KTtmdW5jdGlvbiBVZShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dmFyIG89Q2UuYXBwbHkodm9pZCAwLFtlXS5jb25jYXQobikpLmpvaW4oXCJcIikscz14ZShvKTtyZXR1cm4gbmV3IHZlKHMsbyk7fXZhciBaZT1mdW5jdGlvbiBaZSgpe3JldHVybiBxJDUoR2UpO307dmFyIFNIQURPV19ET01fT05FX1RBUF9NT1VOVF9QT0lOVD1cIjxkaXYgZGF0YS1wcm9tcHRfcGFyZW50X2lkPSdnX2lkX29ubG9hZCcgaWQ9J2dvb2dsZS1wYXJlbnQtcHJvbXB0JyBzdHlsZT0nJz48L2Rpdj5cIjtmdW5jdGlvbiBDcmVhdGVXZWJDb21wb25lbnQoUmVhY3RDb21wb25lbnQsd2ViQ29tcG9uZW50TmFtZSl7dmFyIGV4aXN0aW5nUmVnaXN0cnk9Y3VzdG9tRWxlbWVudHMuZ2V0KHdlYkNvbXBvbmVudE5hbWUpO2lmKGV4aXN0aW5nUmVnaXN0cnkpe3JldHVybiBleGlzdGluZ1JlZ2lzdHJ5O312YXIgUmVhY3RXZWJDb21wb25lbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9IVE1MRWxlbWVudCl7X2luaGVyaXRzMihSZWFjdFdlYkNvbXBvbmVudCxfSFRNTEVsZW1lbnQpO2Z1bmN0aW9uIFJlYWN0V2ViQ29tcG9uZW50KHByb3BzKXt2YXIgX3RoaXMyMDtfY2xhc3NDYWxsQ2hlY2syKHRoaXMsUmVhY3RXZWJDb21wb25lbnQpO190aGlzMjA9X2NhbGxTdXBlcjIodGhpcyxSZWFjdFdlYkNvbXBvbmVudCk7X3RoaXMyMC5wcm9wcz1wcm9wcztfdGhpczIwLnJvb3RSZWY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7X3RoaXMyMC5hcHBlbmQoX3RoaXMyMC5yb290UmVmKTtyZXR1cm4gX3RoaXMyMDt9X2NyZWF0ZUNsYXNzMihSZWFjdFdlYkNvbXBvbmVudCxbe2tleTpcImNvbm5lY3RlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24gY29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLnN0eWxlU2xvdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7dGhpcy5yb290UmVmLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVTbG90KTt0aGlzLm1vdW50UG9pbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO3RoaXMuc3R5bGVTbG90LmFwcGVuZENoaWxkKHRoaXMubW91bnRQb2ludCk7dGhpcy5yZW5kZXIodGhpcy5wcm9wcyk7fX0se2tleTpcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24gZGlzY29ubmVjdGVkQ2FsbGJhY2soKXtpZighdGhpcy5tb3VudFBvaW50KXtyZXR1cm47fXduLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5tb3VudFBvaW50KTt9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24gcmVuZGVyKHByb3BzKXtpZighdGhpcy5tb3VudFBvaW50KXt0aHJvdyBFcnJvcignQ2Fubm90IHJlbmRlciAtIG5vIG1vdW50IHBvaW50IGRlZmluZWQnKTt9aWYoIXRoaXMuc3R5bGVTbG90KXt0aHJvdyBFcnJvcignQ2Fubm90IHJlbmRlciAtIG5vIHN0eWxlIHNsb3QgZGVmaW5lZCcpO313bi5yZW5kZXIoLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoeWUse3RhcmdldDp0aGlzLnN0eWxlU2xvdH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUmVhY3RDb21wb25lbnQsT2JqZWN0LmFzc2lnbih7fSxwcm9wcykpKSx0aGlzLm1vdW50UG9pbnQpO319XSk7cmV0dXJuIFJlYWN0V2ViQ29tcG9uZW50O30oLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIyKEhUTUxFbGVtZW50KSk7Y3VzdG9tRWxlbWVudHMuZGVmaW5lKHdlYkNvbXBvbmVudE5hbWUsUmVhY3RXZWJDb21wb25lbnQpO3JldHVybiBSZWFjdFdlYkNvbXBvbmVudDt9ZnVuY3Rpb24gQ3JlYXRlU2hhZG93V2ViQ29tcG9uZW50KFJlYWN0Q29tcG9uZW50LHdlYkNvbXBvbmVudE5hbWUpe3ZhciBleGlzdGluZ1JlZ2lzdHJ5PWN1c3RvbUVsZW1lbnRzLmdldCh3ZWJDb21wb25lbnROYW1lKTtpZihleGlzdGluZ1JlZ2lzdHJ5KXtyZXR1cm4gZXhpc3RpbmdSZWdpc3RyeTt9dmFyIFJlYWN0V2ViQ29tcG9uZW50PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfSFRNTEVsZW1lbnQyKXtfaW5oZXJpdHMyKFJlYWN0V2ViQ29tcG9uZW50LF9IVE1MRWxlbWVudDIpO2Z1bmN0aW9uIFJlYWN0V2ViQ29tcG9uZW50KHByb3BzKXt2YXIgX3RoaXMyMTtfY2xhc3NDYWxsQ2hlY2syKHRoaXMsUmVhY3RXZWJDb21wb25lbnQpO190aGlzMjE9X2NhbGxTdXBlcjIodGhpcyxSZWFjdFdlYkNvbXBvbmVudCk7X3RoaXMyMS5wcm9wcz1wcm9wcztfdGhpczIxLnJvb3RSZWY9X3RoaXMyMS5hdHRhY2hTaGFkb3coe21vZGU6J29wZW4nfSk7cmV0dXJuIF90aGlzMjE7fV9jcmVhdGVDbGFzczIoUmVhY3RXZWJDb21wb25lbnQsW3trZXk6XCJjb25uZWN0ZWRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uIGNvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5zdHlsZVNsb3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO3RoaXMucm9vdFJlZi5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlU2xvdCk7dGhpcy5tb3VudFBvaW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTt0aGlzLnN0eWxlU2xvdC5hcHBlbmRDaGlsZCh0aGlzLm1vdW50UG9pbnQpO3RoaXMucmVuZGVyKHRoaXMucHJvcHMpO319LHtrZXk6XCJkaXNjb25uZWN0ZWRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7aWYoIXRoaXMubW91bnRQb2ludCl7cmV0dXJuO313bi51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMubW91bnRQb2ludCk7fX0se2tleTpcInJlbmRlck9uZVRhcFwiLHZhbHVlOmZ1bmN0aW9uIHJlbmRlck9uZVRhcChwcm9wcyl7dmFyIF9hLF9iLF9jO3ZhciBzaG91bGRDb250YWluT25lVGFwPShfYz0oX2I9KF9hPXByb3BzPT09bnVsbHx8cHJvcHM9PT12b2lkIDA/dm9pZCAwOnByb3BzLmNvbmZpZyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Eub2F1dGhPcHRpb25zKT09PW51bGx8fF9iPT09dm9pZCAwP3ZvaWQgMDpfYi5wcm92aWRlcnMpPT09bnVsbHx8X2M9PT12b2lkIDA/dm9pZCAwOl9jLmZpbmQoZnVuY3Rpb24oY29uZmlnKXtyZXR1cm4gY29uZmlnLnR5cGU9PT1PQXV0aFByb3ZpZGVycy5Hb29nbGUmJmNvbmZpZy5vbmVfdGFwO30pO3ZhciBjb250YWluc09uZVRhcD10aGlzLmlubmVySFRNTC5pbmNsdWRlcyhTSEFET1dfRE9NX09ORV9UQVBfTU9VTlRfUE9JTlQpO2lmKHNob3VsZENvbnRhaW5PbmVUYXApe2lmKCFjb250YWluc09uZVRhcCl7dGhpcy5pbm5lckhUTUw9U0hBRE9XX0RPTV9PTkVfVEFQX01PVU5UX1BPSU5UO319ZWxzZXt0aGlzLmlubmVySFRNTD0nJzt9fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uIHJlbmRlcihwcm9wcyl7aWYoIXRoaXMubW91bnRQb2ludCl7dGhyb3cgRXJyb3IoJ0Nhbm5vdCByZW5kZXIgLSBubyBtb3VudCBwb2ludCBkZWZpbmVkJyk7fWlmKCF0aGlzLnN0eWxlU2xvdCl7dGhyb3cgRXJyb3IoJ0Nhbm5vdCByZW5kZXIgLSBubyBzdHlsZSBzbG90IGRlZmluZWQnKTt9dGhpcy5yZW5kZXJPbmVUYXAocHJvcHMpO3duLnJlbmRlcigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh5ZSx7dGFyZ2V0OnRoaXMuc3R5bGVTbG90fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZWFjdENvbXBvbmVudCxPYmplY3QuYXNzaWduKHt9LHByb3BzKSkpLHRoaXMubW91bnRQb2ludCk7fX1dKTtyZXR1cm4gUmVhY3RXZWJDb21wb25lbnQ7fSgvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcjIoSFRNTEVsZW1lbnQpKTtjdXN0b21FbGVtZW50cy5kZWZpbmUod2ViQ29tcG9uZW50TmFtZSxSZWFjdFdlYkNvbXBvbmVudCk7cmV0dXJuIFJlYWN0V2ViQ29tcG9uZW50O31mdW5jdGlvbiBDcmVhdGVTU1JTYWZlV2ViQ29tcG9uZW50KFJlYWN0Q29tcG9uZW50LHdlYkNvbXBvbmVudE5hbWUpe2lmKHR5cGVvZiB3aW5kb3c9PT0ndW5kZWZpbmVkJyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw7fTt9cmV0dXJuIGZ1bmN0aW9uKHByb3BzKXt2YXIgX2E7dmFyIHNoYWRvd0RvbUVuYWJsZWQ9ISEoKF9hPXByb3BzLmNvbmZpZyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZW5hYmxlU2hhZG93RE9NKTtpZihzaGFkb3dEb21FbmFibGVkKXt2YXIgQ29tcG9uZW50PUNyZWF0ZVNoYWRvd1dlYkNvbXBvbmVudChSZWFjdENvbXBvbmVudCx3ZWJDb21wb25lbnROYW1lKTtyZXR1cm4gbmV3IENvbXBvbmVudChwcm9wcyk7fWVsc2V7dmFyIF9Db21wb25lbnQ9Q3JlYXRlV2ViQ29tcG9uZW50KFJlYWN0Q29tcG9uZW50LHdlYkNvbXBvbmVudE5hbWUpO3JldHVybiBuZXcgX0NvbXBvbmVudChwcm9wcyk7fX07fXZhciByZWR1Y2VyJDE9ZnVuY3Rpb24gcmVkdWNlciQxKHN0YXRlLGFjdGlvbil7c3dpdGNoKGFjdGlvbi50eXBlKXtjYXNlJ3RyYW5zaXRpb24nOnJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sc3RhdGUpLHtzY3JlZW46YWN0aW9uLnNjcmVlbn0pO2Nhc2Unc2V0X21hZ2ljX2xpbmtfZW1haWwnOntyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHN0YXRlKSx7Zm9ybVN0YXRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzdGF0ZS5mb3JtU3RhdGUpLHttYWdpY0xpbmtTdGF0ZTp7ZW1haWw6YWN0aW9uLmVtYWlsfX0pfSk7fWNhc2UndXBkYXRlX290cF9zdGF0ZSc6e3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sc3RhdGUpLHtmb3JtU3RhdGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHN0YXRlLmZvcm1TdGF0ZSkse290cFN0YXRlOmFjdGlvbi5vdHBTdGF0ZX0pfSk7fWNhc2UndXBkYXRlX2NyeXB0b19zdGF0ZSc6e3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sc3RhdGUpLHtmb3JtU3RhdGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHN0YXRlLmZvcm1TdGF0ZSkse2NyeXB0b1N0YXRlOmFjdGlvbi5jcnlwdG9TdGF0ZX0pfSk7fWNhc2UndXBkYXRlX3Bhc3N3b3JkX3N0YXRlJzp7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzdGF0ZSkse2Zvcm1TdGF0ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sc3RhdGUuZm9ybVN0YXRlKSx7cGFzc3dvcmRTdGF0ZTphY3Rpb24ucGFzc3dvcmRTdGF0ZX0pfSk7fWNhc2Unc2V0X2Vycm9yX21lc3NhZ2UnOntyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHN0YXRlKSx7Zm9ybVN0YXRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzdGF0ZS5mb3JtU3RhdGUpLHtlcnJvck1lc3NhZ2U6YWN0aW9uLmVycm9yTWVzc2FnZX0pfSk7fWNhc2UnY2xlYXJfZXJyb3JfbWVzc2FnZSc6e3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sc3RhdGUpLHtmb3JtU3RhdGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHN0YXRlLmZvcm1TdGF0ZSkse2Vycm9yTWVzc2FnZTonJ30pfSk7fWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCk7fX07dmFyIEFwcFNjcmVlbnMkMTsoZnVuY3Rpb24oQXBwU2NyZWVucyl7QXBwU2NyZWVuc1tcIk1haW5cIl09XCJNYWluXCI7QXBwU2NyZWVuc1tcIlBhc3NrZXlSZWdpc3RyYXRpb25TdGFydFwiXT1cIlJlZ2lzdGVyIE5ldyBQYXNza2V5XCI7QXBwU2NyZWVuc1tcIlBhc3NrZXlSZWdpc3RyYXRpb25TdWNjZXNzXCJdPVwiUGFzc2tleSBSZWdpc3RyYXRpb24gU3VjY2Vzc1wiO0FwcFNjcmVlbnNbXCJQYXNza2V5Q29uZmlybWF0aW9uXCJdPVwiUGFzc2tleSBDb25maXJtYXRpb25cIjtBcHBTY3JlZW5zW1wiUGFzc3dvcmRDcmVhdGVPckxvZ2luXCJdPVwiUGFzc3dvcmRcIjtBcHBTY3JlZW5zW1wiUGFzc3dvcmRSZXNldEZvcm1cIl09XCJQYXNzd29yZCBSZXNldCBGb3JtXCI7QXBwU2NyZWVuc1tcIlBhc3N3b3JkRm9yZ290XCJdPVwiUGFzc3dvcmQgRm9yZ290XCI7QXBwU2NyZWVuc1tcIlBhc3N3b3JkQnJlYWNoZWRcIl09XCJQYXNzd29yZCBCcmVhY2hlZFwiO0FwcFNjcmVlbnNbXCJQYXNzd29yZFNldE5ld1wiXT1cIlBhc3N3b3JkIFNldCBOZXdcIjtBcHBTY3JlZW5zW1wiUGFzc3dvcmREZWR1cGVcIl09XCJQYXNzd29yZCBEZWR1cGVcIjtBcHBTY3JlZW5zW1wiUGFzc3dvcmRDb25maXJtYXRpb25cIl09XCJQYXNzd29yZCBDb25maXJtYXRpb25cIjtBcHBTY3JlZW5zW1wiRW1haWxDb25maXJtYXRpb25cIl09XCJFbWFpbCBDb25maXJtYXRpb25cIjtBcHBTY3JlZW5zW1wiT1RQQXV0aGVudGljYXRlXCJdPVwiT1RQIEF1dGhlbnRpY2F0ZVwiO0FwcFNjcmVlbnNbXCJPVFBDb25maXJtYXRpb25cIl09XCJPVFAgQ29uZmlybWF0aW9uXCI7QXBwU2NyZWVuc1tcIkNyeXB0b0Nvbm5lY3RcIl09XCJDcnlwdG8gQ29ubmVjdFwiO0FwcFNjcmVlbnNbXCJDcnlwdG9TaWduTWVzc2FnZVwiXT1cIkNyeXB0byBTaWduIE1lc3NhZ2VcIjtBcHBTY3JlZW5zW1wiQ3J5cHRvT3RoZXJTY3JlZW5cIl09XCJDcnlwdG8gT3RoZXIgU2NyZWVuXCI7QXBwU2NyZWVuc1tcIkNyeXB0b1NldHVwV2FsbGV0XCJdPVwiQ3J5cHRvIFNldHVwIFdhbGxldFwiO0FwcFNjcmVlbnNbXCJDcnlwdG9FcnJvclwiXT1cIkNyeXB0byBFcnJvclwiO0FwcFNjcmVlbnNbXCJDcnlwdG9Db25maXJtYXRpb25cIl09XCJDcnlwdG8gQ29uZmlybWF0aW9uXCI7fSkoQXBwU2NyZWVucyQxfHwoQXBwU2NyZWVucyQxPXt9KSk7dmFyIERFRkFVTFRfU1RBVEU9e3NjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbixmb3JtU3RhdGU6e21hZ2ljTGlua1N0YXRlOntlbWFpbDonJ30sb3RwU3RhdGU6e3R5cGU6T1RQTWV0aG9kcy5FbWFpbCxtZXRob2RJZDonJyxvdHBEZXN0aW5hdGlvbjonJ30sY3J5cHRvU3RhdGU6e3dhbGxldEFkZHJlc3M6Jycsd2FsbGV0T3B0aW9uOldhbGxldHMuTWV0YW1hc2ssd2FsbGV0Q2hhbGxlbmdlOicnfSxwYXNzd29yZFN0YXRlOntlbWFpbDonJyx0eXBlOiduZXcnfSxyZXNldFBhc3N3b3JkU3RhdGU6e3Rva2VuOicnfSxlcnJvck1lc3NhZ2U6Jyd9fTt2YXIgREVGQVVMVF9DT05GSUc9e3Byb2R1Y3RzOltQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3NdLGVtYWlsTWFnaWNMaW5rc09wdGlvbnM6e2xvZ2luUmVkaXJlY3RVUkw6JycsbG9naW5FeHBpcmF0aW9uTWludXRlczozMCxzaWdudXBSZWRpcmVjdFVSTDonJyxzaWdudXBFeHBpcmF0aW9uTWludXRlczozMCxjcmVhdGVVc2VyQXNQZW5kaW5nOmZhbHNlfX07dmFyIERFRkFVTFRfU1RZTEVfQ09ORklHPXtjb250YWluZXI6e2JhY2tncm91bmRDb2xvcjonI0ZGRkZGRicsYm9yZGVyQ29sb3I6JyNBREJDQzUnLGJvcmRlclJhZGl1czonOHB4Jyx3aWR0aDonNDAwcHgnfSxjb2xvcnM6e3ByaW1hcnk6JyMxOTMwM0QnLHNlY29uZGFyeTonIzVDNzI3RCcsc3VjY2VzczonIzBDNUE1NicsZXJyb3I6JyM4QjEyMTQnfSxidXR0b25zOntwcmltYXJ5OntiYWNrZ3JvdW5kQ29sb3I6JyMxOTMwM0QnLHRleHRDb2xvcjonI0ZGRkZGRicsYm9yZGVyQ29sb3I6JyMxOTMwM0QnLGJvcmRlclJhZGl1czonNHB4J30sc2Vjb25kYXJ5OntiYWNrZ3JvdW5kQ29sb3I6JyNGRkZGRkYnLHRleHRDb2xvcjonIzE5MzAzRCcsYm9yZGVyQ29sb3I6JyMxOTMwM0QnLGJvcmRlclJhZGl1czonNHB4J319LGZvbnRGYW1pbHk6J0FyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLGhpZGVIZWFkZXJUZXh0OmZhbHNlLGxvZ286e2xvZ29JbWFnZVVybDonJ319O3ZhciBHbG9iYWxDb250ZXh0PS8qI19fUFVSRV9fKi93bi5jcmVhdGVDb250ZXh0KHtjbGllbnQ6e30sY29uZmlnOkRFRkFVTFRfQ09ORklHLHN0YXRlOltERUZBVUxUX1NUQVRFLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw7fV19KTt2YXIgR2xvYmFsQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uIEdsb2JhbENvbnRleHRQcm92aWRlcihfcmVmMTcpe3ZhciBjaGlsZHJlbj1fcmVmMTcuY2hpbGRyZW4sY2xpZW50PV9yZWYxNy5jbGllbnQsY29uZmlnPV9yZWYxNy5jb25maWcsY2FsbGJhY2tzPV9yZWYxNy5jYWxsYmFja3MsaW5pdGlhbFN0YXRlPV9yZWYxNy5pbml0aWFsU3RhdGU7dmFyIHN0YXRlPXduLnVzZVJlZHVjZXIocmVkdWNlciQxLGluaXRpYWxTdGF0ZSE9PW51bGwmJmluaXRpYWxTdGF0ZSE9PXZvaWQgMD9pbml0aWFsU3RhdGU6REVGQVVMVF9TVEFURSk7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2xvYmFsQ29udGV4dC5Qcm92aWRlcix7dmFsdWU6e2NsaWVudDpjbGllbnQsc3RhdGU6c3RhdGUsY29uZmlnOmNvbmZpZyxjYWxsYmFja3M6Y2FsbGJhY2tzfX0sY2hpbGRyZW4pO307dmFyIHVzZUdsb2JhbENvbnRleHQ9ZnVuY3Rpb24gdXNlR2xvYmFsQ29udGV4dCgpe3JldHVybiBxJDUoR2xvYmFsQ29udGV4dCk7fTt2YXIgdXNlU3R5dGNoPWZ1bmN0aW9uIHVzZVN0eXRjaCgpe3JldHVybiB1c2VHbG9iYWxDb250ZXh0KCkuY2xpZW50O307dmFyIHVzZUdsb2JhbFJlZHVjZXI9ZnVuY3Rpb24gdXNlR2xvYmFsUmVkdWNlcigpe3JldHVybiB1c2VHbG9iYWxDb250ZXh0KCkuc3RhdGU7fTt2YXIgdXNlQ29uZmlnPWZ1bmN0aW9uIHVzZUNvbmZpZygpe3JldHVybiB1c2VHbG9iYWxDb250ZXh0KCkuY29uZmlnO307dmFyIHVzZUVycm9yQ2FsbGJhY2s9ZnVuY3Rpb24gdXNlRXJyb3JDYWxsYmFjaygpe3ZhciBfYSxfYjtyZXR1cm4oX2I9KF9hPXVzZUdsb2JhbENvbnRleHQoKS5jYWxsYmFja3MpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLm9uRXJyb3IpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwO307fTt2YXIgdXNlRXZlbnRDYWxsYmFjaz1mdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKCl7dmFyIF9hLF9iO3JldHVybihfYj0oX2E9dXNlR2xvYmFsQ29udGV4dCgpLmNhbGxiYWNrcyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Eub25FdmVudCkhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA7fTt9O3ZhciBCdXR0b249SGUuYnV0dG9uKF90ZW1wbGF0ZU9iamVjdDV8fChfdGVtcGxhdGVPYmplY3Q1PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBhbGw6IHVuc2V0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDQ1cHg7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG4gIGZvbnQtZmFtaWx5OiBcIixcIjtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXFxuICBcIixcIlxcblxcbiAgJjpkaXNhYmxlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxuICB9XFxuXCJdKSksZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHk7fSxmdW5jdGlvbihwcm9wcyl7c3dpdGNoKHByb3BzLnZhcmlhbnQpe2Nhc2UncHJpbWFyeSc6cmV0dXJuXCJcXG4gICAgICAgICAgYm9yZGVyOiBcIi5jb25jYXQocHJvcHMudGhlbWUuYnV0dG9ucy5wcmltYXJ5LmJvcmRlcixcIjtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogXCIpLmNvbmNhdChwcm9wcy50aGVtZS5idXR0b25zLnByaW1hcnkuYm9yZGVyUmFkaXVzLFwiO1xcbiAgICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChwcm9wcy50aGVtZS5idXR0b25zLnByaW1hcnkudGV4dENvbG9yLFwiO1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMucHJpbWFyeS5iYWNrZ3JvdW5kQ29sb3IsXCI7XFxuICAgICAgICBcIik7Y2FzZSdvdXRsaW5lZCc6cmV0dXJuXCJcXG4gICAgICAgICAgYm9yZGVyOiBcIi5jb25jYXQocHJvcHMudGhlbWUuYnV0dG9ucy5zZWNvbmRhcnkuYm9yZGVyLFwiO1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMuc2Vjb25kYXJ5LmJvcmRlclJhZGl1cyxcIjtcXG4gICAgICAgICAgY29sb3I6IFwiKS5jb25jYXQocHJvcHMudGhlbWUuYnV0dG9ucy5zZWNvbmRhcnkudGV4dENvbG9yLFwiO1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KHByb3BzLnRoZW1lLmJ1dHRvbnMuc2Vjb25kYXJ5LmJhY2tncm91bmRDb2xvcixcIjtcXG4gICAgICAgIFwiKTtjYXNlJ3RleHQnOnJldHVyblwiXFxuICAgICAgICAgIGNvbG9yOiBcIi5jb25jYXQocHJvcHMudGhlbWUuY29sb3JzLnByaW1hcnksXCI7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xcbiAgICAgICAgXCIpO319LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLmRpc2FibGVkO30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuZGlzYWJsZWRUZXh0O30pO0J1dHRvbi5kZWZhdWx0UHJvcHM9e3ZhcmlhbnQ6J3ByaW1hcnknfTt2YXIgaXRlbU9yTm9uZT1mdW5jdGlvbiBpdGVtT3JOb25lKGl0ZW0pe3JldHVybiBpdGVtIT09bnVsbCYmaXRlbSE9PXZvaWQgMD9pdGVtOnVuZGVmaW5lZDt9O3ZhciBzcGFjZU9yTm9uZT1mdW5jdGlvbiBzcGFjZU9yTm9uZShzcGFjZSl7cmV0dXJuIHNwYWNlP1wiXCIuY29uY2F0KHNwYWNlLFwicHhcIik6dW5kZWZpbmVkO307dmFyIEZsZXg9SGUuZGl2KF90ZW1wbGF0ZU9iamVjdDZ8fChfdGVtcGxhdGVPYmplY3Q2PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBkaXNwbGF5OiBcIixcIjtcXG5cXG4gIGZsZXgtZGlyZWN0aW9uOiBcIixcIjtcXG4gIGp1c3RpZnktY29udGVudDogXCIsXCI7XFxuICBhbGlnbi1pdGVtczogXCIsXCI7XFxuICBmbGV4LWdyb3c6IFwiLFwiO1xcbiAgZmxleC1zaHJpbms6IFwiLFwiO1xcbiAgb3JkZXI6IFwiLFwiO1xcbiAgYWxpZ24tc2VsZjogXCIsXCI7XFxuICBmbGV4LWZsb3c6IFwiLFwiO1xcbiAgZmxleC13cmFwOiBcIixcIjtcXG5cXG4gIHdpZHRoOiBcIixcIjtcXG4gIGhlaWdodDogXCIsXCI7XFxuICBtYXgtd2lkdGg6IFwiLFwiO1xcbiAgbWF4LWhlaWdodDogXCIsXCI7XFxuICBtaW4td2lkdGg6IFwiLFwiO1xcbiAgbWluLWhlaWdodDogXCIsXCI7XFxuICBwYWRkaW5nOiBcIixcIjtcXG4gIG1hcmdpbjogXCIsXCI7XFxuICBtYXJnaW4tdG9wOiBcIixcIjtcXG4gIG1hcmdpbi1yaWdodDogXCIsXCI7XFxuICBtYXJnaW4tYm90dG9tOiBcIixcIjtcXG4gIG1hcmdpbi1sZWZ0OiBcIixcIjtcXG4gIHBhZGRpbmctdG9wOiBcIixcIjtcXG4gIHBhZGRpbmctcmlnaHQ6IFwiLFwiO1xcbiAgcGFkZGluZy1ib3R0b206IFwiLFwiO1xcbiAgcGFkZGluZy1sZWZ0OiBcIixcIjtcXG5cXG4gIGdhcDogXCIsXCI7XFxuXCJdKSksZnVuY3Rpb24oX3JlZjE4KXt2YXIgaW5saW5lPV9yZWYxOC5pbmxpbmU7cmV0dXJuIGlubGluZT8naW5saW5lLWZsZXgnOidmbGV4Jzt9LGZ1bmN0aW9uKF9yZWYxOSl7dmFyIGRpcmVjdGlvbj1fcmVmMTkuZGlyZWN0aW9uO3JldHVybiBpdGVtT3JOb25lKGRpcmVjdGlvbik7fSxmdW5jdGlvbihfcmVmMjApe3ZhciBqdXN0aWZ5Q29udGVudD1fcmVmMjAuanVzdGlmeUNvbnRlbnQsY2VudGVyPV9yZWYyMC5jZW50ZXI7cmV0dXJuIGNlbnRlcj8nY2VudGVyJzppdGVtT3JOb25lKGp1c3RpZnlDb250ZW50KTt9LGZ1bmN0aW9uKF9yZWYyMSl7dmFyIGFsaWduSXRlbXM9X3JlZjIxLmFsaWduSXRlbXMsY2VudGVyPV9yZWYyMS5jZW50ZXI7cmV0dXJuIGNlbnRlcj8nY2VudGVyJzppdGVtT3JOb25lKGFsaWduSXRlbXMpO30sZnVuY3Rpb24oX3JlZjIyKXt2YXIgZ3Jvdz1fcmVmMjIuZ3JvdztyZXR1cm4gaXRlbU9yTm9uZShncm93KTt9LGZ1bmN0aW9uKF9yZWYyMyl7dmFyIHNocmluaz1fcmVmMjMuc2hyaW5rO3JldHVybiBpdGVtT3JOb25lKHNocmluayk7fSxmdW5jdGlvbihfcmVmMjQpe3ZhciBvcmRlcj1fcmVmMjQub3JkZXI7cmV0dXJuIGl0ZW1Pck5vbmUob3JkZXIpO30sZnVuY3Rpb24oX3JlZjI1KXt2YXIgYWxpZ25TZWxmPV9yZWYyNS5hbGlnblNlbGY7cmV0dXJuIGl0ZW1Pck5vbmUoYWxpZ25TZWxmKTt9LGZ1bmN0aW9uKF9yZWYyNil7dmFyIGZsb3c9X3JlZjI2LmZsb3c7cmV0dXJuIGl0ZW1Pck5vbmUoZmxvdyk7fSxmdW5jdGlvbihfcmVmMjcpe3ZhciB3cmFwPV9yZWYyNy53cmFwO3JldHVybiBpdGVtT3JOb25lKHdyYXApO30sZnVuY3Rpb24oX3JlZjI4KXt2YXIgd2lkdGg9X3JlZjI4LndpZHRoO3JldHVybiB0eXBlb2Ygd2lkdGg9PT0nc3RyaW5nJz93aWR0aDpzcGFjZU9yTm9uZSh3aWR0aCk7fSxmdW5jdGlvbihfcmVmMjkpe3ZhciBoZWlnaHQ9X3JlZjI5LmhlaWdodDtyZXR1cm4gdHlwZW9mIGhlaWdodD09PSdzdHJpbmcnP2hlaWdodDpzcGFjZU9yTm9uZShoZWlnaHQpO30sZnVuY3Rpb24oX3JlZjMwKXt2YXIgbWF4V2lkdGg9X3JlZjMwLm1heFdpZHRoO3JldHVybiB0eXBlb2YgbWF4V2lkdGg9PT0nc3RyaW5nJz9tYXhXaWR0aDpzcGFjZU9yTm9uZShtYXhXaWR0aCk7fSxmdW5jdGlvbihfcmVmMzEpe3ZhciBtYXhIZWlnaHQ9X3JlZjMxLm1heEhlaWdodDtyZXR1cm4gdHlwZW9mIG1heEhlaWdodD09PSdzdHJpbmcnP21heEhlaWdodDpzcGFjZU9yTm9uZShtYXhIZWlnaHQpO30sZnVuY3Rpb24oX3JlZjMyKXt2YXIgbWluV2lkdGg9X3JlZjMyLm1pbldpZHRoO3JldHVybiB0eXBlb2YgbWluV2lkdGg9PT0nc3RyaW5nJz9taW5XaWR0aDpzcGFjZU9yTm9uZShtaW5XaWR0aCk7fSxmdW5jdGlvbihfcmVmMzMpe3ZhciBtaW5IZWlnaHQ9X3JlZjMzLm1pbkhlaWdodDtyZXR1cm4gdHlwZW9mIG1pbkhlaWdodD09PSdzdHJpbmcnP21pbkhlaWdodDpzcGFjZU9yTm9uZShtaW5IZWlnaHQpO30sZnVuY3Rpb24oX3JlZjM0KXt2YXIgcGFkZGluZz1fcmVmMzQucGFkZGluZztyZXR1cm4gc3BhY2VPck5vbmUocGFkZGluZyk7fSxmdW5jdGlvbihfcmVmMzUpe3ZhciBtYXJnaW49X3JlZjM1Lm1hcmdpbjtyZXR1cm4gc3BhY2VPck5vbmUobWFyZ2luKTt9LGZ1bmN0aW9uKF9yZWYzNil7dmFyIG1hcmdpblRvcD1fcmVmMzYubWFyZ2luVG9wO3JldHVybiBzcGFjZU9yTm9uZShtYXJnaW5Ub3ApO30sZnVuY3Rpb24oX3JlZjM3KXt2YXIgbWFyZ2luUmlnaHQ9X3JlZjM3Lm1hcmdpblJpZ2h0O3JldHVybiBzcGFjZU9yTm9uZShtYXJnaW5SaWdodCk7fSxmdW5jdGlvbihfcmVmMzgpe3ZhciBtYXJnaW5Cb3R0b209X3JlZjM4Lm1hcmdpbkJvdHRvbTtyZXR1cm4gc3BhY2VPck5vbmUobWFyZ2luQm90dG9tKTt9LGZ1bmN0aW9uKF9yZWYzOSl7dmFyIG1hcmdpbkxlZnQ9X3JlZjM5Lm1hcmdpbkxlZnQ7cmV0dXJuIHNwYWNlT3JOb25lKG1hcmdpbkxlZnQpO30sZnVuY3Rpb24oX3JlZjQwKXt2YXIgcGFkZGluZ1RvcD1fcmVmNDAucGFkZGluZ1RvcDtyZXR1cm4gc3BhY2VPck5vbmUocGFkZGluZ1RvcCk7fSxmdW5jdGlvbihfcmVmNDEpe3ZhciBwYWRkaW5nUmlnaHQ9X3JlZjQxLnBhZGRpbmdSaWdodDtyZXR1cm4gc3BhY2VPck5vbmUocGFkZGluZ1JpZ2h0KTt9LGZ1bmN0aW9uKF9yZWY0Mil7dmFyIHBhZGRpbmdCb3R0b209X3JlZjQyLnBhZGRpbmdCb3R0b207cmV0dXJuIHNwYWNlT3JOb25lKHBhZGRpbmdCb3R0b20pO30sZnVuY3Rpb24oX3JlZjQzKXt2YXIgcGFkZGluZ0xlZnQ9X3JlZjQzLnBhZGRpbmdMZWZ0O3JldHVybiBzcGFjZU9yTm9uZShwYWRkaW5nTGVmdCk7fSxmdW5jdGlvbihfcmVmNDQpe3ZhciBnYXA9X3JlZjQ0LmdhcDtyZXR1cm4gc3BhY2VPck5vbmUoZ2FwKTt9KTt2YXIgVGV4dD1IZS5kaXYoX3RlbXBsYXRlT2JqZWN0N3x8KF90ZW1wbGF0ZU9iamVjdDc9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGNvbG9yOiBcIixcIjtcXG4gIHRleHQtYWxpZ246IFwiLFwiO1xcbiAgXCIsXCI7XFxuXCJdKSksZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy5jb2xvciYmcHJvcHMudGhlbWUuY29sb3JzW3Byb3BzLmNvbG9yXTt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMuYWxpZ247fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnNpemUmJnByb3BzLnRoZW1lLnR5cG9ncmFwaHlbcHJvcHMuc2l6ZV07fSk7VGV4dC5kZWZhdWx0UHJvcHM9e3NpemU6J2JvZHknLGNvbG9yOidwcmltYXJ5JyxhbGlnbjonbGVmdCd9O3ZhciBDcmVhdGVJY29uPWZ1bmN0aW9uIENyZWF0ZUljb24oSWNvblN2Z0NvbXBvbmVudCl7dmFyIG9wdGlvbnM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnt3cmFwcGVkOnRydWV9O3ZhciBJY29uQ29tcG9uZW50PWZ1bmN0aW9uIEljb25Db21wb25lbnQoKXt2YXIgY29tcG9uZW50PS8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEljb25TdmdDb21wb25lbnQsbnVsbCk7cmV0dXJuIG9wdGlvbnMud3JhcHBlZD8oLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7aGVpZ2h0OjI0LHdpZHRoOjI0fSxjb21wb25lbnQpKTpjb21wb25lbnQ7fTtyZXR1cm4gSWNvbkNvbXBvbmVudDt9O3ZhciBHbWFpbEljb25Tdmc9ZnVuY3Rpb24gR21haWxJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7eG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHZpZXdCb3g6XCIwIDAgNDggNDhcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGw6XCIjNGNhZjUwXCIsZDpcIk00NSwxNi4ybC01LDIuNzVsLTUsNC43NUwzNSw0MGg3YzEuNjU3LDAsMy0xLjM0MywzLTNWMTYuMnpcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtmaWxsOlwiIzFlODhlNVwiLGQ6XCJNMywxNi4ybDMuNjE0LDEuNzFMMTMsMjMuN1Y0MEg2Yy0xLjY1NywwLTMtMS4zNDMtMy0zVjE2LjJ6XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBvbHlnb25cIix7ZmlsbDpcIiNlNTM5MzVcIixwb2ludHM6XCIzNSwxMS4yIDI0LDE5LjQ1IDEzLDExLjIgMTIsMTcgMTMsMjMuNyAyNCwzMS45NSAzNSwyMy43IDM2LDE3XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZmlsbDpcIiNjNjI4MjhcIixkOlwiTTMsMTIuMjk4VjE2LjJsMTAsNy41VjExLjJMOS44NzYsOC44NTlDOS4xMzIsOC4zMDEsOC4yMjgsOCw3LjI5OCw4aDBDNC45MjQsOCwzLDkuOTI0LDMsMTIuMjk4elwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGw6XCIjZmJjMDJkXCIsZDpcIk00NSwxMi4yOThWMTYuMmwtMTAsNy41VjExLjJsMy4xMjQtMi4zNDFDMzguODY4LDguMzAxLDM5Ljc3Miw4LDQwLjcwMiw4aDAgQzQzLjA3Niw4LDQ1LDkuOTI0LDQ1LDEyLjI5OHpcIn0pKTt9O3ZhciBHbWFpbEljb249Q3JlYXRlSWNvbihHbWFpbEljb25TdmcpO3ZhciBPdXRsb29rSWNvblN2Zz1mdW5jdGlvbiBPdXRsb29rSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3htbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix2ZXJzaW9uOlwiMS4xXCIsaWQ6XCJMYXllcl8xXCIsdmlld0JveDpcIjAgMCAxMDMuMTczMjIgMTA0LjMxMzMyXCIseG1sU3BhY2U6XCJwcmVzZXJ2ZVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImRlZnNcIix7aWQ6XCJkZWZzNDNcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwibSA2NC41NjY1MDksMjIuMTE2MzgzIHYgMjAuNDA0MjczIGwgNy4xMzA1MjYsNC40ODk4ODEgYyAwLjE4ODA1OCwwLjA1NDg1IDAuNTk1NTE2LDAuMDU4NzcgMC43ODM1NzQsMCBMIDEwMy4xNjkyOSwyNi4zMjAyNTkgYyAwLC0yLjQ0ODY3IC0yLjI4NDEyLC00LjIwMzg3NiAtMy41NzMwOTQsLTQuMjAzODc2IEggNjQuNTY2NTA5IHpcIixpZDpcInBhdGgzXCIsc3R5bGU6e2ZpbGw6JyMwMDcyYzYnfX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwibSA2NC41NjY1MDksNTAuMTMzMDggNi41MDc1ODQsNC40NzAyOTEgYyAwLjkxNjc4MiwwLjY3Mzg3NCAyLjAyMTYyMiwwIDIuMDIxNjIyLDAgLTEuMTAwOTIyLDAuNjczODc0IDMwLjA3NzQ5NSwtMjAuMDM1OTkzIDMwLjA3NzQ5NSwtMjAuMDM1OTkzIHYgMzcuNTAxODYzIGMgMCw0LjA4MjQyMiAtMi42MTMyMiw1Ljc5NDUzMSAtNS41NTE2MjEsNS43OTQ1MzEgSCA2NC41NjI1OTEgViA1MC4xMzMwOCB6XCIsaWQ6XCJwYXRoNVwiLHN0eWxlOntmaWxsOicjMDA3MmM2J319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImdcIix7aWQ6XCJnMjNcIix0cmFuc2Zvcm06XCJtYXRyaXgoMy45MTc4NzEyLDAsMCwzLjkxNzg3MTIsLTEzLjQ4MTQwMywtNDEuMzg0NDczKVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIm0gMTEuMzIxLDIwLjk1OCBjIC0wLjU2NiwwIC0xLjAxNywwLjI2NiAtMS4zNSwwLjc5NyAtMC4zMzMsMC41MzEgLTAuNSwxLjIzNCAtMC41LDIuMTA5IDAsMC44ODggMC4xNjcsMS41OSAwLjUsMi4xMDYgMC4zMzMsMC41MTcgMC43NywwLjc3NCAxLjMxLDAuNzc0IDAuNTU3LDAgMC45OTksLTAuMjUxIDEuMzI1LC0wLjc1MyAwLjMyNiwtMC41MDIgMC40OSwtMS4xOTkgMC40OSwtMi4wOSAwLC0wLjkyOSAtMC4xNTgsLTEuNjUyIC0wLjQ3NSwtMi4xNjkgLTAuMzE3LC0wLjUxNiAtMC43NSwtMC43NzQgLTEuMywtMC43NzQgelwiLGlkOlwicGF0aDI1XCIsc3R5bGU6e2ZpbGw6JyMwMDcyYzYnfX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwibSAzLjQ0MSwxMy41NjMgdiAyMC4zNzUgbCAxNS41LDMuMjUgViAxMC41NjMgbCAtMTUuNSwzIHogbSAxMC4zNzIsMTMuNjMyIGMgLTAuNjU1LDAuODYyIC0xLjUwOSwxLjI5NCAtMi41NjMsMS4yOTQgLTEuMDI3LDAgLTEuODYzLC0wLjQxOCAtMi41MSwtMS4yNTMgQyA4LjA5NCwyNi40IDcuNzcsMjUuMzEyIDcuNzcsMjMuOTcgYyAwLC0xLjQxNyAwLjMyOCwtMi41NjMgMC45ODUsLTMuNDM4IDAuNjU3LC0wLjg3NSAxLjUyNywtMS4zMTMgMi42MSwtMS4zMTMgMS4wMjMsMCAxLjg1MSwwLjQxOCAyLjQ4MiwxLjI1NiAwLjYzMiwwLjgzOCAwLjk0OCwxLjk0MiAwLjk0OCwzLjMxMyAxMGUtNCwxLjQwOSAtMC4zMjcsMi41NDUgLTAuOTgyLDMuNDA3IHpcIixpZDpcInBhdGgyN1wiLHN0eWxlOntmaWxsOicjMDA3MmM2J319KSkpO307dmFyIE91dGxvb2tJY29uPUNyZWF0ZUljb24oT3V0bG9va0ljb25TdmcpO3ZhciBZYWhvb0ljb25Tdmc9ZnVuY3Rpb24gWWFob29JY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIjAgMCAyNCAyNFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInJlY3RcIix7eDpcIjJcIix5OlwiMlwiLHdpZHRoOlwiMjBcIixoZWlnaHQ6XCIyMFwiLHJ4OlwiMVwiLGZpbGw6XCIjNjcxQkRGXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk01IDguNzI4NEg3LjcxNDA3TDkuMjk0NDQgMTIuNzcxNkwxMC44OTUzIDguNzI4NEgxMy41Mzc5TDkuNTU4NzYgMTguM0g2Ljg5OTQyTDcuOTg4NjUgMTUuNzYzN0w1IDguNzI4NFpcIixmaWxsOlwid2hpdGVcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE0LjIgMTYuMjAyOEMxNS4xMDggMTYuMjAyOCAxNS44NDQxIDE1LjQ2NjcgMTUuODQ0MSAxNC41NTg3QzE1Ljg0NDEgMTMuNjUwNyAxNS4xMDggMTIuOTE0NiAxNC4yIDEyLjkxNDZDMTMuMjkyIDEyLjkxNDYgMTIuNTU1OSAxMy42NTA3IDEyLjU1NTkgMTQuNTU4N0MxMi41NTU5IDE1LjQ2NjcgMTMuMjkyIDE2LjIwMjggMTQuMiAxNi4yMDI4WlwiLGZpbGw6XCJ3aGl0ZVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTYuMzg0MiAxMi4zMTA2SDEzLjQyNDNMMTYuMDUxMiA2SDE5TDE2LjM4NDIgMTIuMzEwNlpcIixmaWxsOlwid2hpdGVcIn0pKTt9O3ZhciBZYWhvb0ljb24kMT1DcmVhdGVJY29uKFlhaG9vSWNvblN2Zyk7dmFyIGluYm94TGlua3M9ZnVuY3Rpb24gaW5ib3hMaW5rcyhlbWFpbERvbWFpbil7aWYoIWVtYWlsRG9tYWluKXtyZXR1cm57R01BSUw6J2h0dHBzOi8vbWFpbC5nb29nbGUuY29tL21haWwvdS8wLyNzZWFyY2gvaW4lM0Fhbnl3aGVyZScsT1VUTE9PSzonaHR0cHM6Ly9vdXRsb29rLm9mZmljZS5jb20vbWFpbC8wL2luYm94JyxZQUhPTzonaHR0cHM6Ly9tYWlsLnlhaG9vLmNvbS9kL3NlYXJjaC9yZWZlcnJlcj11bnJlYWQnfTt9dmFyIGdtYWlsUXVlcnk9ZW5jb2RlVVJJQ29tcG9uZW50KFwiZnJvbTpAXCIuY29uY2F0KGVtYWlsRG9tYWluLFwiIGluOmFueXdoZXJlXCIpKTtyZXR1cm57R01BSUw6XCJodHRwczovL21haWwuZ29vZ2xlLmNvbS9tYWlsL3UvMC8jc2VhcmNoL1wiLmNvbmNhdChnbWFpbFF1ZXJ5KSxPVVRMT09LOidodHRwczovL291dGxvb2sub2ZmaWNlLmNvbS9tYWlsLzAvaW5ib3gnLFlBSE9POlwiaHR0cHM6Ly9tYWlsLnlhaG9vLmNvbS9kL3NlYXJjaC9rZXl3b3JkPVwiLmNvbmNhdChlbWFpbERvbWFpbil9O307dmFyIExpbms9SGUuYShfdGVtcGxhdGVPYmplY3Q4fHwoX3RlbXBsYXRlT2JqZWN0OD1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG5cXG4gICY6aG92ZXIge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG4gICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiBcIixcIjtcXG4gIH1cXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5wcmltYXJ5O30pO3ZhciBFbWFpbFByb3ZpZGVyTGluaz1mdW5jdGlvbiBFbWFpbFByb3ZpZGVyTGluayhfcmVmNDUpe3ZhciBsYWJlbD1fcmVmNDUubGFiZWwsaHJlZj1fcmVmNDUuaHJlZixJY29uPV9yZWY0NS5JY29uO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2dhcDo0fSxJY29uLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExpbmsse2hyZWY6aHJlZix0YXJnZXQ6XCJfYmxhbmtcIixyZWw6XCJub29wZW5lciBub3JlZmVycmVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIk9wZW4gaW4gXCIsbGFiZWwpKSk7fTt2YXIgRW1haWxDb25maXJtYXRpb24kMT1mdW5jdGlvbiBFbWFpbENvbmZpcm1hdGlvbiQxKF9yZWY0Nil7dmFyIGVtYWlsRG9tYWluPV9yZWY0Ni5lbWFpbERvbWFpbixyZXNldD1fcmVmNDYucmVzZXQsZW1haWw9X3JlZjQ2LmVtYWlsO3ZhciBfaW5ib3hMaW5rcz1pbmJveExpbmtzKGVtYWlsRG9tYWluKSxHTUFJTD1faW5ib3hMaW5rcy5HTUFJTCxZQUhPTz1faW5ib3hMaW5rcy5ZQUhPTyxPVVRMT09LPV9pbmJveExpbmtzLk9VVExPT0s7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiQ2hlY2sgeW91ciBlbWFpbFwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6MTJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIkFuIGVtYWlsIHdhcyBzZW50IHRvIFwiLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLG51bGwsZW1haWwpLFwiLlwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6OH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxQcm92aWRlckxpbmsse2hyZWY6R01BSUwsbGFiZWw6J0dtYWlsJyxJY29uOi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEdtYWlsSWNvbixudWxsKX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsUHJvdmlkZXJMaW5rLHtocmVmOllBSE9PLGxhYmVsOidZYWhvbycsSWNvbjovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChZYWhvb0ljb24kMSxudWxsKX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsUHJvdmlkZXJMaW5rLHtocmVmOk9VVExPT0ssbGFiZWw6J091dGxvb2snLEljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT3V0bG9va0ljb24sbnVsbCl9KSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6cmVzZXR9LFwiVHJ5IGFnYWluXCIpKTt9O3ZhciB1c2VFbWFpbERvbWFpbj1mdW5jdGlvbiB1c2VFbWFpbERvbWFpbigpe3ZhciBfYSxfYjt2YXIgc3R5dGNoPXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIF9oJD1oJDUoZnVuY3Rpb24oKXt2YXIgX3JlYWRCMkNJbnRlcm5hbHMkYm9vPXJlYWRCMkNJbnRlcm5hbHMoc3R5dGNoKS5ib290c3RyYXAuZ2V0U3luYygpLGVtYWlsRG9tYWlucz1fcmVhZEIyQ0ludGVybmFscyRib28uZW1haWxEb21haW5zO3JldHVybiBlbWFpbERvbWFpbnM7fSksX2gkMj1fc2xpY2VkVG9BcnJheTIoX2gkLDIpLGVtYWlsRG9tYWlucz1faCQyWzBdLHNldEVtYWlsRG9tYWlucz1faCQyWzFdO3AkNihmdW5jdGlvbigpe3JlYWRCMkNJbnRlcm5hbHMoc3R5dGNoKS5ib290c3RyYXAuZ2V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uKF9yZWY0Nyl7dmFyIGVtYWlsRG9tYWlucz1fcmVmNDcuZW1haWxEb21haW5zO3NldEVtYWlsRG9tYWlucyhlbWFpbERvbWFpbnMpO30pO30sW3N0eXRjaF0pO2lmKChfYT1jb25maWcuZW1haWxNYWdpY0xpbmtzT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZG9tYWluSGludCl7cmV0dXJuKF9iPWNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zKT09PW51bGx8fF9iPT09dm9pZCAwP3ZvaWQgMDpfYi5kb21haW5IaW50O31pZigoZW1haWxEb21haW5zPT09bnVsbHx8ZW1haWxEb21haW5zPT09dm9pZCAwP3ZvaWQgMDplbWFpbERvbWFpbnMubGVuZ3RoKT09PTEpe3JldHVybiBlbWFpbERvbWFpbnNbMF07fXJldHVybiBudWxsO307dmFyIEVtYWlsQ29uZmlybWF0aW9uPWZ1bmN0aW9uIEVtYWlsQ29uZmlybWF0aW9uKCl7dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgX3VzZUdsb2JhbFJlZHVjZXI9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyMj1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXIsMiksc3RhdGU9X3VzZUdsb2JhbFJlZHVjZXIyWzBdLGRpc3BhdGNoPV91c2VHbG9iYWxSZWR1Y2VyMlsxXTt2YXIgZW1haWxEb21haW49dXNlRW1haWxEb21haW4oKTt2YXIgZW1haWw9c3RhdGUuZm9ybVN0YXRlLm1hZ2ljTGlua1N0YXRlLmVtYWlsIT09Jyc/c3RhdGUuZm9ybVN0YXRlLm1hZ2ljTGlua1N0YXRlLmVtYWlsOnN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsO3ZhciByZXNldD1mdW5jdGlvbiByZXNldCgpe2Rpc3BhdGNoKHt0eXBlOidzZXRfbWFnaWNfbGlua19lbWFpbCcsZW1haWw6Jyd9KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5NYWlufSk7cmVhZEIyQ0ludGVybmFscyhzdHl0Y2hDbGllbnQpLm5ldHdvcmtDbGllbnQubG9nRXZlbnQoe25hbWU6J2VtYWlsX3RyeV9hZ2Fpbl9jbGlja2VkJyxkZXRhaWxzOntlbWFpbDplbWFpbCx0eXBlOkVtYWlsU2VudFR5cGUuTG9naW5PckNyZWF0ZUVNTH19KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsQ29uZmlybWF0aW9uJDEse2VtYWlsRG9tYWluOmVtYWlsRG9tYWluLHJlc2V0OnJlc2V0LGVtYWlsOmVtYWlsfSk7fTt2YXIgQ29uZmlybWF0aW9uU1ZHPWZ1bmN0aW9uIENvbmZpcm1hdGlvblNWRygpe3JldHVybi8qI19fUFVSRV9fKi95JDQoXCJzdmdcIix7d2lkdGg6XCIyMDFcIixoZWlnaHQ6XCIyMDBcIix2aWV3Qm94OlwiMCAwIDIwMSAyMDBcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3kkNChcImdcIix7b3BhY2l0eTpcIjAuMVwifSwvKiNfX1BVUkVfXyoveSQ0KFwicGF0aFwiLHtmaWxsUnVsZTpcImV2ZW5vZGRcIixjbGlwUnVsZTpcImV2ZW5vZGRcIixkOlwiTTEwMC41IDBDMTU1LjcyOSAwIDIwMC41IDQ0Ljc3MTUgMjAwLjUgOTkuOTk5OUMyMDAuNSAxNTUuMjI5IDE1NS43MjkgMjAwIDEwMC41IDIwMEM0NS4yNzE1IDIwMCAwLjUgMTU1LjIyOSAwLjUgOTkuOTk5OUMwLjUgNDQuNzcxNSA0NS4yNzE1IDAgMTAwLjUgMFpcIixmaWxsOlwidXJsKCNwYWludDBfbGluZWFyXzEzNTZfNTEzNSlcIn0pKSwvKiNfX1BVUkVfXyoveSQ0KFwiZ1wiLHtvcGFjaXR5OlwiMC4zXCJ9LC8qI19fUFVSRV9fKi95JDQoXCJwYXRoXCIse2ZpbGxSdWxlOlwiZXZlbm9kZFwiLGNsaXBSdWxlOlwiZXZlbm9kZFwiLGQ6XCJNMTAwLjUgMTcuNTcyOEMxNDYuMDIzIDE3LjU3MjggMTgyLjkyNyA1NC40NzY3IDE4Mi45MjcgOTkuOTk5OEMxODIuOTI3IDE0NS41MjMgMTQ2LjAyMyAxODIuNDI3IDEwMC41IDE4Mi40MjdDNTQuOTc2OCAxODIuNDI3IDE4LjA3MjkgMTQ1LjUyMyAxOC4wNzI5IDk5Ljk5OThDMTguMDcyOSA1NC40NzY3IDU0Ljk3NjggMTcuNTcyOCAxMDAuNSAxNy41NzI4WlwiLGZpbGw6XCJ1cmwoI3BhaW50MV9saW5lYXJfMTM1Nl81MTM1KVwifSkpLC8qI19fUFVSRV9fKi95JDQoXCJnXCIse29wYWNpdHk6XCIwLjdcIn0sLyojX19QVVJFX18qL3kkNChcInBhdGhcIix7ZmlsbFJ1bGU6XCJldmVub2RkXCIsY2xpcFJ1bGU6XCJldmVub2RkXCIsZDpcIk0xMDAuNSAzMi4yMzFDMTM3Ljk4OCAzMi4yMzEgMTY4LjM3OCA2Mi42MjA4IDE2OC4zNzggMTAwLjEwOUMxNjguMzc4IDEzNy41OTcgMTM3Ljk4OCAxNjcuOTg3IDEwMC41IDE2Ny45ODdDNjMuMDEyIDE2Ny45ODcgMzIuNjIyMiAxMzcuNTk3IDMyLjYyMjIgMTAwLjEwOUMzMi42MjIyIDYyLjYyMDggNjMuMDEyIDMyLjIzMSAxMDAuNSAzMi4yMzFaXCIsZmlsbDpcInVybCgjcGFpbnQyX2xpbmVhcl8xMzU2XzUxMzUpXCJ9KSksLyojX19QVVJFX18qL3kkNChcInBhdGhcIix7ZmlsbFJ1bGU6XCJldmVub2RkXCIsY2xpcFJ1bGU6XCJldmVub2RkXCIsZDpcIk0xMDAuNjA1IDQ4Ljc3MzRDMTI4Ljk1NSA0OC43NzM0IDE1MS45MzcgNzEuNzU1MyAxNTEuOTM3IDEwMC4xMDVDMTUxLjkzNyAxMjguNDU1IDEyOC45NTUgMTUxLjQzNyAxMDAuNjA1IDE1MS40MzdDNzIuMjU1IDE1MS40MzcgNDkuMjczMSAxMjguNDU1IDQ5LjI3MzEgMTAwLjEwNUM0OS4yNzMxIDcxLjc1NTMgNzIuMjU1IDQ4Ljc3MzQgMTAwLjYwNSA0OC43NzM0WlwiLGZpbGw6XCIjMDBBQzI2XCIsZmlsbE9wYWNpdHk6XCIwLjEyXCJ9KSwvKiNfX1BVUkVfXyoveSQ0KFwibWFza1wiLHtpZDpcIm1hc2swXzEzNTZfNTEzNVwiLHN0eWxlOnttYXNrVHlwZTonYWxwaGEnfSxtYXNrVW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwiLHg6XCI0OVwiLHk6XCI0OFwiLHdpZHRoOlwiMTAzXCIsaGVpZ2h0OlwiMTA0XCJ9LC8qI19fUFVSRV9fKi95JDQoXCJwYXRoXCIse2ZpbGxSdWxlOlwiZXZlbm9kZFwiLGNsaXBSdWxlOlwiZXZlbm9kZFwiLGQ6XCJNMTAwLjYwNSA0OC43NzM0QzEyOC45NTUgNDguNzczNCAxNTEuOTM3IDcxLjc1NTMgMTUxLjkzNyAxMDAuMTA1QzE1MS45MzcgMTI4LjQ1NSAxMjguOTU1IDE1MS40MzcgMTAwLjYwNSAxNTEuNDM3QzcyLjI1NSAxNTEuNDM3IDQ5LjI3MzEgMTI4LjQ1NSA0OS4yNzMxIDEwMC4xMDVDNDkuMjczMSA3MS43NTUzIDcyLjI1NSA0OC43NzM0IDEwMC42MDUgNDguNzczNFpcIixmaWxsOlwid2hpdGVcIn0pKSwvKiNfX1BVUkVfXyoveSQ0KFwiZ1wiLHttYXNrOlwidXJsKCNtYXNrMF8xMzU2XzUxMzUpXCJ9KSwvKiNfX1BVUkVfXyoveSQ0KFwicGF0aFwiLHtkOlwiTTg4IDExNy41TDcwLjUgMTAwTDY0LjY2NjcgMTA1LjgzM0w4OCAxMjkuMTY3TDEzOCA3OS4xNjY2TDEzMi4xNjcgNzMuMzMzM0w4OCAxMTcuNVpcIixmaWxsOlwid2hpdGVcIn0pLC8qI19fUFVSRV9fKi95JDQoXCJkZWZzXCIsbnVsbCwvKiNfX1BVUkVfXyoveSQ0KFwibGluZWFyR3JhZGllbnRcIix7aWQ6XCJwYWludDBfbGluZWFyXzEzNTZfNTEzNVwiLHgxOlwiLTg2LjYzNzVcIix5MTpcIjE2MC4zODRcIix4MjpcIjE3MC4xNjlcIix5MjpcIjMzOC4yOTdcIixncmFkaWVudFVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn0sLyojX19QVVJFX18qL3kkNChcInN0b3BcIix7c3RvcENvbG9yOlwid2hpdGVcIn0pLC8qI19fUFVSRV9fKi95JDQoXCJzdG9wXCIse29mZnNldDpcIjFcIixzdG9wQ29sb3I6XCIjMDlGMzNEXCJ9KSksLyojX19QVVJFX18qL3kkNChcImxpbmVhckdyYWRpZW50XCIse2lkOlwicGFpbnQxX2xpbmVhcl8xMzU2XzUxMzVcIix4MTpcIi04Ni42Mzc0XCIseTE6XCIxNjAuMzg0XCIseDI6XCIxNzAuMTY5XCIseTI6XCIzMzguMjk3XCIsZ3JhZGllbnRVbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9LC8qI19fUFVSRV9fKi95JDQoXCJzdG9wXCIse3N0b3BDb2xvcjpcIiMwMEFDMjZcIixzdG9wT3BhY2l0eTpcIjAuNFwifSksLyojX19QVVJFX18qL3kkNChcInN0b3BcIix7b2Zmc2V0OlwiMVwiLHN0b3BDb2xvcjpcIiNCREZGQkNcIixzdG9wT3BhY2l0eTpcIjAuNThcIn0pKSwvKiNfX1BVUkVfXyoveSQ0KFwibGluZWFyR3JhZGllbnRcIix7aWQ6XCJwYWludDJfbGluZWFyXzEzNTZfNTEzNVwiLHgxOlwiLTg2LjYzNzVcIix5MTpcIjE2MC40OTNcIix4MjpcIjE3MC4xNjlcIix5MjpcIjMzOC40MDZcIixncmFkaWVudFVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn0sLyojX19QVVJFX18qL3kkNChcInN0b3BcIix7c3RvcENvbG9yOlwiI0Y4RkZGNVwifSksLyojX19QVVJFX18qL3kkNChcInN0b3BcIix7b2Zmc2V0OlwiMVwiLHN0b3BDb2xvcjpcIiMwMEFDMjZcIixzdG9wT3BhY2l0eTpcIjAuMjZcIn0pKSkpO307dmFyIE9UUENvbmZpcm1hdGlvbj1mdW5jdGlvbiBPVFBDb25maXJtYXRpb24oKXtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3kkNChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiU3VjY2Vzc1wiKSwvKiNfX1BVUkVfXyoveSQ0KFRleHQsbnVsbCxcIllvdXIgcGFzc2NvZGUgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHZlcmlmaWVkLlwiKSwvKiNfX1BVUkVfXyoveSQ0KFwiZGl2XCIse3N0eWxlOntkaXNwbGF5OidibG9jaycsbWFyZ2luTGVmdDonYXV0bycsbWFyZ2luUmlnaHQ6J2F1dG8nLHdpZHRoOic1MCUnfX0sLyojX19QVVJFX18qL3kkNChDb25maXJtYXRpb25TVkcsbnVsbCkpKTt9O3ZhciBEaXZpZGVyQ29udGFpbmVyPUhlKEZsZXgpKF90ZW1wbGF0ZU9iamVjdDl8fChfdGVtcGxhdGVPYmplY3Q5PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBjb2xvcjogXCIsXCI7XFxuXCJdKSksZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuc2Vjb25kYXJ5O30pO3ZhciBEaXZpZGVyQmFyPUhlLmRpdihfdGVtcGxhdGVPYmplY3QxMHx8KF90ZW1wbGF0ZU9iamVjdDEwPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBcIixcIlxcbiAgXCIsXCJcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBcIixcIjtcXG4gIGZsZXgtZ3JvdzogMTtcXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLiRwbGFjZW1lbnQ9PT0nbGVmdCcmJidtYXJnaW4tcmlnaHQ6IDZweDsnO30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy4kcGxhY2VtZW50PT09J3JpZ2h0JyYmJ21hcmdpbi1sZWZ0OiA2cHg7Jzt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLnNlY29uZGFyeTt9KTt2YXIgU3R5bGVkVGV4dD1IZShUZXh0KShfdGVtcGxhdGVPYmplY3QxMXx8KF90ZW1wbGF0ZU9iamVjdDExPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBjb2xvcjogXCIsXCI7XFxuXCJdKSksZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5jb2xvcnMuc2Vjb25kYXJ5O30pO3ZhciBEaXZpZGVyPWZ1bmN0aW9uIERpdmlkZXIoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChEaXZpZGVyQ29udGFpbmVyLHthbGlnbkl0ZW1zOlwiY2VudGVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KERpdmlkZXJCYXIse1wiJHBsYWNlbWVudFwiOlwibGVmdFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU3R5bGVkVGV4dCxudWxsLFwib3JcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlckJhcix7XCIkcGxhY2VtZW50XCI6XCJyaWdodFwifSkpO307dmFyIE9BdXRoQnV0dG9uPWZ1bmN0aW9uIE9BdXRoQnV0dG9uKHByb3BzKXt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBvbkJ1dHRvbkNsaWNrPWZ1bmN0aW9uIG9uQnV0dG9uQ2xpY2soKXtyZXR1cm4gc3R5dGNoQ2xpZW50Lm9hdXRoW3Byb3BzLnByb3ZpZGVyVHlwZV0uc3RhcnQoe2xvZ2luX3JlZGlyZWN0X3VybDpwcm9wcy5sb2dpblJlZGlyZWN0VXJsLHNpZ251cF9yZWRpcmVjdF91cmw6cHJvcHMuc2lnbnVwUmVkaXJlY3RVcmwsY3VzdG9tX3Njb3Blczpwcm9wcy5jdXN0b21TY29wZXMscHJvdmlkZXJfcGFyYW1zOnByb3BzLnByb3ZpZGVyUGFyYW1zfSk7fTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24se2lkOlwib2F1dGgtXCIuY29uY2F0KHByb3BzLnByb3ZpZGVyVHlwZSksdHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6b25CdXR0b25DbGljayx2YXJpYW50Olwib3V0bGluZWRcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7anVzdGlmeUNvbnRlbnQ6XCJjZW50ZXJcIixhbGlnbkl0ZW1zOlwiY2VudGVyXCIsZ2FwOjR9LHByb3BzLmljb24sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse3N0eWxlOnt2ZXJ0aWNhbEFsaWduOidtaWRkbGUnfX0sXCJDb250aW51ZSB3aXRoIFwiLmNvbmNhdChwcm9wcy5wcm92aWRlclR5cGVUaXRsZSkpKSk7fTt2YXIgR29vZ2xlSWNvblN2Zz1mdW5jdGlvbiBHb29nbGVJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7eG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHZpZXdCb3g6XCIwIDAgNDggNDhcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGw6XCIjRkZDMTA3XCIsZDpcIk00My42MTEsMjAuMDgzSDQyVjIwSDI0djhoMTEuMzAzYy0xLjY0OSw0LjY1Ny02LjA4LDgtMTEuMzAzLDhjLTYuNjI3LDAtMTItNS4zNzMtMTItMTJjMC02LjYyNyw1LjM3My0xMiwxMi0xMmMzLjA1OSwwLDUuODQyLDEuMTU0LDcuOTYxLDMuMDM5bDUuNjU3LTUuNjU3QzM0LjA0Niw2LjA1MywyOS4yNjgsNCwyNCw0QzEyLjk1NSw0LDQsMTIuOTU1LDQsMjRjMCwxMS4wNDUsOC45NTUsMjAsMjAsMjBjMTEuMDQ1LDAsMjAtOC45NTUsMjAtMjBDNDQsMjIuNjU5LDQzLjg2MiwyMS4zNSw0My42MTEsMjAuMDgzelwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGw6XCIjRkYzRDAwXCIsZDpcIk02LjMwNiwxNC42OTFsNi41NzEsNC44MTlDMTQuNjU1LDE1LjEwOCwxOC45NjEsMTIsMjQsMTJjMy4wNTksMCw1Ljg0MiwxLjE1NCw3Ljk2MSwzLjAzOWw1LjY1Ny01LjY1N0MzNC4wNDYsNi4wNTMsMjkuMjY4LDQsMjQsNEMxNi4zMTgsNCw5LjY1Niw4LjMzNyw2LjMwNiwxNC42OTF6XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZmlsbDpcIiM0Q0FGNTBcIixkOlwiTTI0LDQ0YzUuMTY2LDAsOS44Ni0xLjk3NywxMy40MDktNS4xOTJsLTYuMTktNS4yMzhDMjkuMjExLDM1LjA5MSwyNi43MTUsMzYsMjQsMzZjLTUuMjAyLDAtOS42MTktMy4zMTctMTEuMjgzLTcuOTQ2bC02LjUyMiw1LjAyNUM5LjUwNSwzOS41NTYsMTYuMjI3LDQ0LDI0LDQ0elwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGw6XCIjMTk3NkQyXCIsZDpcIk00My42MTEsMjAuMDgzSDQyVjIwSDI0djhoMTEuMzAzYy0wLjc5MiwyLjIzNy0yLjIzMSw0LjE2Ni00LjA4Nyw1LjU3MWMwLjAwMS0wLjAwMSwwLjAwMi0wLjAwMSwwLjAwMy0wLjAwMmw2LjE5LDUuMjM4QzM2Ljk3MSwzOS4yMDUsNDQsMzQsNDQsMjRDNDQsMjIuNjU5LDQzLjg2MiwyMS4zNSw0My42MTEsMjAuMDgzelwifSkpO307dmFyIEdvb2dsZUljb249Q3JlYXRlSWNvbihHb29nbGVJY29uU3ZnKTt2YXIgdXNlSXNVbm1vdW50ZWQ9ZnVuY3Rpb24gdXNlSXNVbm1vdW50ZWQoKXt2YXIgaXNVbm1vdW50ZWQ9XyQxKGZhbHNlKTtwJDYoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtpc1VubW91bnRlZC5jdXJyZW50PXRydWU7fTt9LFtdKTtyZXR1cm4gaXNVbm1vdW50ZWQ7fTt2YXIgT0F1dGhFcnJvck1lc3NhZ2U9ZnVuY3Rpb24gT0F1dGhFcnJvck1lc3NhZ2UoX3JlZjQ4KXt2YXIgY2hpbGRyZW49X3JlZjQ4LmNoaWxkcmVuO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2tleTpcIm9hdXRoLWVycm9yLW1lc3NhZ2VcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCx7Y29sb3I6XCJlcnJvclwifSxjaGlsZHJlbikpO307dmFyIE9uZVRhcE5vQ29uZmlndXJlZENsaWVudHNFcnJvck1lc3NhZ2U9ZnVuY3Rpb24gT25lVGFwTm9Db25maWd1cmVkQ2xpZW50c0Vycm9yTWVzc2FnZSgpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9BdXRoRXJyb3JNZXNzYWdlLG51bGwsXCJPbmUgVGFwIGNhbm5vdCByZW5kZXIgYmVjYXVzZSBubyBHb29nbGUgT0F1dGggY2xpZW50IGNvbmZpZ3VyYXRpb24gY291bGQgYmUgZm91bmQgZm9yIHRoaXMgcHJvamVjdC4gUGxlYXNlIG1ha2Ugc3VyZSBhIGNsaWVudCBpcyBjb25maWd1cmVkIGluIHRoZVxceEEwXCIsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJhXCIse2hyZWY6XCJodHRwczovL3N0eXRjaC5jb20vZGFzaGJvYXJkL29hdXRoXCJ9LFwiZGFzaGJvYXJkLlwiKSk7fTt2YXIgUmVkaXJlY3RVcmxzRXJyb3JNZXNzYWdlPWZ1bmN0aW9uIFJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZShfcmVmNDkpe3ZhciBuaWNlTmFtZT1fcmVmNDkubmljZU5hbWUsdmFyaWFibGVOYW1lPV9yZWY0OS52YXJpYWJsZU5hbWU7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT0F1dGhFcnJvck1lc3NhZ2UsbnVsbCxcIk9uZSBUYXAgY2Fubm90IHJlbmRlciBiZWNhdXNlIHRoZXJlIGFyZSBubyBcIixuaWNlTmFtZSxcIiBzZXQgZm9yIHRoaXMgcHJvamVjdCBzbyB3ZSBhcmUgdW5hYmxlIHRvIHZlcmlmeSB0aGVcIiwnICcsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsbnVsbCx2YXJpYWJsZU5hbWUpLFwiXFx4QTAgcHJvdmlkZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24uIFRvIHNldCBcIixuaWNlTmFtZSxcIiBmb3IgdGhpcyBwcm9qZWN0IHBsZWFzZSB2aXNpdFxceEEwXCIsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJhXCIse2hyZWY6XCJodHRwczovL3N0eXRjaC5jb20vZG9jcy9qYXZhc2NyaXB0LXNka1wifSxcInRoZSBTdHl0Y2ggZGFzaGJvYXJkLlwiKSxcIlxceEEwIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHdoeSB0aGlzIHZhbGlkYXRpb24gaXMgbmVjZXNzYXJ5IHBsZWFzZSB2aXNpdFxceEEwXCIsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJhXCIse2hyZWY6XCJodHRwczovL3N0eXRjaC5jb20vZG9jcy9hcGkvdXJsLXZhbGlkYXRpb25cIn0sXCJodHRwczovL3N0eXRjaC5jb20vZG9jcy9hcGkvdXJsLXZhbGlkYXRpb24uXCIpKTt9O3ZhciBPbmVUYXBOb0NvbmZpZ3VyZWRMb2dpblJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZT1mdW5jdGlvbiBPbmVUYXBOb0NvbmZpZ3VyZWRMb2dpblJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZSgpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZSx7bmljZU5hbWU6XCJsb2dpbiByZWRpcmVjdCBVUkxzXCIsdmFyaWFibGVOYW1lOlwib2F1dGhPcHRpb25zLmxvZ2luUmVkaXJlY3RVUkxcIn0pO307dmFyIE9uZVRhcE5vQ29uZmlndXJlZFNpZ251cFJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZT1mdW5jdGlvbiBPbmVUYXBOb0NvbmZpZ3VyZWRTaWdudXBSZWRpcmVjdFVybHNFcnJvck1lc3NhZ2UoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZWRpcmVjdFVybHNFcnJvck1lc3NhZ2Use25pY2VOYW1lOlwic2lnbnVwIHJlZGlyZWN0IFVSTHNcIix2YXJpYWJsZU5hbWU6XCJvYXV0aE9wdGlvbnMuc2lnbnVwUmVkaXJlY3RVUkxcIn0pO307dmFyIE9uZVRhcEpTT3JpZ2luRXJyb3JNZXNzYWdlPWZ1bmN0aW9uIE9uZVRhcEpTT3JpZ2luRXJyb3JNZXNzYWdlKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT0F1dGhFcnJvck1lc3NhZ2UsbnVsbCxcIk9uZSBUYXAgY2Fubm90IHJlbmRlciBiZWNhdXNlIHRoZSBjdXJyZW50IGhvc3RcXHhBMFwiLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiY29kZVwiLG51bGwsXCJcXFwiXCIuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5ob3N0LFwiXFxcIlwiKSksXCIgaXMgbm90IGFsbG93ZWQgZm9yIHRoaXMgcHJvamVjdC4gTWFrZSBzdXJlIHRvIHB1dCB5b3VyIHByb2plY3QncyBob3N0IGludG8gdGhlIEdvb2dsZSBBUEkgY29uc29sZS4gV2hlbiB1c2luZyBsb2NhbGhvc3QgZm9yIGRldmVsb3BtZW50LCB5b3UgbXVzdCBhZGQgYm90aFxceEEwXCIsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsbnVsbCxcImh0dHA6Ly9sb2NhbGhvc3RcIiksXCIgYW5kXFx4QTBcIiwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImNvZGVcIixudWxsLFwiaHR0cDovL2xvY2FsaG9zdDo8cG9ydF9udW1iZXI+XCIpLFwiXFx4QTAgdG8gdGhlIEF1dGhvcml6ZWQgSmF2YVNjcmlwdCBvcmlnaW5zIGJveC4gWW91IGNhbiBsZWFybiBtb3JlXFx4QTBcIiwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImFcIix7aHJlZjpcImh0dHBzOi8vc3R5dGNoLmNvbS9kb2NzL2phdmFzY3JpcHQtc2RrXCJ9LFwiaGVyZS5cIikpO307dmFyIE9uZVRhcEludmFsaWRPQXV0aENsaWVudD1mdW5jdGlvbiBPbmVUYXBJbnZhbGlkT0F1dGhDbGllbnQoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPQXV0aEVycm9yTWVzc2FnZSxudWxsLFwiT25lIFRhcCBjYW5ub3QgcmVuZGVyIGJlY2F1c2UgdGhlIGNsaWVudCBJRCBjb25maWd1cmVkIGZvciB5b3VyIHByb2plY3QgaXMgbm90IHJlY29nbml6ZWQgYnkgR29vZ2xlLiBcXHhBMCBQbGVhc2UgY2hlY2sgdGhhdCB0aGUgY2xpZW50IElEIHNhdmVkIGluIFwiLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLHtocmVmOlwiaHR0cHM6Ly9zdHl0Y2guY29tL2Rhc2hib2FyZC9vYXV0aC9nb29nbGVcIn0sXCJ0aGUgU3R5dGNoIERhc2hib2FyZFwiKSxcIlxceEEwIG1hdGNoZXMgdGhlIGNsaWVudCBJRCBpbiB5b3VyIEdvb2dsZSBDbG91ZCBDb25zb2xlLlwiKTt9O3ZhciBPbmVUYXBOb0RlZmF1bHRQcm92aWRlckFsbG93ZWRFcnJvck1lc3NhZ2U9ZnVuY3Rpb24gT25lVGFwTm9EZWZhdWx0UHJvdmlkZXJBbGxvd2VkRXJyb3JNZXNzYWdlKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT0F1dGhFcnJvck1lc3NhZ2UsbnVsbCxcIk9uZSBUYXAgY2Fubm90IHJlbmRlciBiZWNhdXNlIHRoZSBTdHl0Y2ggRGVmYXVsdCBPQXV0aCBQcm92aWRlciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIE9uZSBUYXAuIFBsZWFzZSBjb25maWd1cmUgeW91ciBvd24gR29vZ2xlIGNsaWVudCBpbiB0aGVcXHhBMFwiLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLHtocmVmOlwiaHR0cHM6Ly9zdHl0Y2guY29tL2Rhc2hib2FyZC9vYXV0aFwifSxcImRhc2hib2FyZC5cIikpO307dmFyIGNpcmN1bGFyUm90YXRlS2V5ZnJhbWU9VWUoX3RlbXBsYXRlT2JqZWN0MTJ8fChfdGVtcGxhdGVPYmplY3QxMj1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xcbiAgfVxcblwiXSkpKTt2YXIgY2lyY3VsYXJEYXNoS2V5ZnJhbWU9VWUoX3RlbXBsYXRlT2JqZWN0MTN8fChfdGVtcGxhdGVPYmplY3QxMz1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgMCUge1xcbiAgICBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDIwMHB4O1xcbiAgICBzdHJva2UtZGFzaG9mZnNldDogMDtcXG4gIH1cXG4gIDUwJSB7XFxuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDEwMHB4LCAyMDBweDtcXG4gICAgc3Ryb2tlLWRhc2hvZmZzZXQ6IC0xNXB4O1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDEwMHB4LCAyMDBweDtcXG4gICAgc3Ryb2tlLWRhc2hvZmZzZXQ6IC0xMjVweDtcXG4gIH1cXG5cIl0pKSk7dmFyIEFuaW1hdGVkQ2lyY2xlPUhlLmNpcmNsZShfdGVtcGxhdGVPYmplY3QxNHx8KF90ZW1wbGF0ZU9iamVjdDE0PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBzdHJva2UtZGFzaGFycmF5OiA4MHB4LCAyMDBweDtcXG4gIHN0cm9rZS1kYXNob2Zmc2V0OiAwO1xcbiAgYW5pbWF0aW9uOiBcIixcIiAxLjRzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xcbiAgc3Ryb2tlOiBcIixcIjtcXG4gIGZpbGw6IG5vbmU7XFxuXCJdKSksY2lyY3VsYXJEYXNoS2V5ZnJhbWUsZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5jb2xvcnMucHJpbWFyeTt9KTt2YXIgQ2lyY3VsYXJQcm9ncmVzc1Jvb3Q9SGUuZGl2KF90ZW1wbGF0ZU9iamVjdDE1fHwoX3RlbXBsYXRlT2JqZWN0MTU9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIHdpZHRoOiBcIixcInB4O1xcbiAgaGVpZ2h0OiBcIixcInB4O1xcbiAgYW5pbWF0aW9uOiBcIixcIiAxLjRzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xcblwiXSkpLGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMuc2l6ZTt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMuc2l6ZTt9LGNpcmN1bGFyUm90YXRlS2V5ZnJhbWUpO3ZhciBDaXJjdWxhclByb2dyZXNzU1ZHPUhlLnN2ZyhfdGVtcGxhdGVPYmplY3QxNnx8KF90ZW1wbGF0ZU9iamVjdDE2PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBkaXNwbGF5OiBibG9jaztcXG5cIl0pKSk7dmFyIENpcmN1bGFyUHJvZ3Jlc3M9ZnVuY3Rpb24gQ2lyY3VsYXJQcm9ncmVzcyhfcmVmNTApe3ZhciBzaXplPV9yZWY1MC5zaXplLHRoaWNrbmVzcz1fcmVmNTAudGhpY2tuZXNzO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENpcmN1bGFyUHJvZ3Jlc3NSb290LHtzaXplOnNpemV9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENpcmN1bGFyUHJvZ3Jlc3NTVkcse3ZpZXdCb3g6XCJcIi5jb25jYXQoc2l6ZS8yLFwiIFwiKS5jb25jYXQoc2l6ZS8yLFwiIFwiKS5jb25jYXQoc2l6ZSxcIiBcIikuY29uY2F0KHNpemUpfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChBbmltYXRlZENpcmNsZSx7Y3g6c2l6ZSxjeTpzaXplLHI6KHNpemUtdGhpY2tuZXNzKS8yLGZpbGw6XCJub25lXCIsc3Ryb2tlV2lkdGg6dGhpY2tuZXNzfSkpKTt9O3ZhciB1c2VJc09ubHlGbG9hdGluZ09uZVRhcD1mdW5jdGlvbiB1c2VJc09ubHlGbG9hdGluZ09uZVRhcCgpe3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIGlzT25seUZsb2F0aW5nT25lVGFwPUYkNChmdW5jdGlvbigpe3ZhciBfYSxfYixfYyxfZDt2YXIgcG9zaXRpb249KF9hPWNvbmZpZy5vYXV0aE9wdGlvbnMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnByb3ZpZGVyc1swXS5wb3NpdGlvbjtyZXR1cm4gY29uZmlnLnByb2R1Y3RzLmxlbmd0aD09PTEmJmNvbmZpZy5wcm9kdWN0cy5pbmNsdWRlcyhQcm9kdWN0cy5vYXV0aCkmJigoX2I9Y29uZmlnLm9hdXRoT3B0aW9ucyk9PT1udWxsfHxfYj09PXZvaWQgMD92b2lkIDA6X2IucHJvdmlkZXJzLmxlbmd0aCk9PT0xJiYoKF9jPWNvbmZpZy5vYXV0aE9wdGlvbnMpPT09bnVsbHx8X2M9PT12b2lkIDA/dm9pZCAwOl9jLnByb3ZpZGVyc1swXS50eXBlKT09PU9BdXRoUHJvdmlkZXJzLkdvb2dsZSYmKChfZD1jb25maWcub2F1dGhPcHRpb25zKT09PW51bGx8fF9kPT09dm9pZCAwP3ZvaWQgMDpfZC5wcm92aWRlcnNbMF0ub25lX3RhcCk9PT10cnVlJiZnZXRTaG91bGRSZW5kZXJGbG9hdGluZ09uZVRhcChwb3NpdGlvbik7fSxbY29uZmlnXSk7cmV0dXJuIGlzT25seUZsb2F0aW5nT25lVGFwO307dmFyIE9BVVRIX0JVVFRPTl9IRUlHSFQ9NDc7dmFyIE9uZVRhcE1vdW50Tm9kZT1mdW5jdGlvbiBPbmVUYXBNb3VudE5vZGUoX3JlZjUxKXt2YXIgZW5hYmxlU2hhZG93RE9NPV9yZWY1MS5lbmFibGVTaGFkb3dET007cmV0dXJuIGVuYWJsZVNoYWRvd0RPTT8vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInNsb3RcIixudWxsKTovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImRpdlwiLHtcImRhdGEtcHJvbXB0X3BhcmVudF9pZFwiOlwiZ19pZF9vbmxvYWRcIixpZDpcImdvb2dsZS1wYXJlbnQtcHJvbXB0XCJ9KTt9O3ZhciBPbmVUYXBFcnJvcnM7KGZ1bmN0aW9uKE9uZVRhcEVycm9ycyl7T25lVGFwRXJyb3JzW1wiTm9uZVwiXT1cIm5vbmVcIjtPbmVUYXBFcnJvcnNbXCJPcmlnaW5Ob3RBbGxvd2VkRm9yQ2xpZW50XCJdPVwib3JpZ2luX25vdF9hbGxvd2VkX2Zvcl9jbGllbnRcIjtPbmVUYXBFcnJvcnNbXCJJbnZhbGlkT0F1dGhDbGllbnRcIl09XCJpbnZhbGlkX2NsaWVudFwiO09uZVRhcEVycm9yc1tcIk5vQ29uZmlndXJlZE9BdXRoQ2xpZW50XCJdPVwib2F1dGhfY29uZmlnX25vdF9mb3VuZFwiO09uZVRhcEVycm9yc1tcIk5vQ29uZmlndXJlZExvZ2luUmVkaXJlY3RVcmxzXCJdPVwibm9fbG9naW5fcmVkaXJlY3RfdXJsc19zZXRcIjtPbmVUYXBFcnJvcnNbXCJOb0NvbmZpZ3VyZWRTaWdudXBSZWRpcmVjdFVybHNcIl09XCJub19zaWdudXBfcmVkaXJlY3RfdXJsc19zZXRcIjtPbmVUYXBFcnJvcnNbXCJEZWZhdWx0UHJvdmlkZXJOb3RBbGxvd2VkXCJdPVwiZGVmYXVsdF9wcm92aWRlcl9ub3RfYWxsb3dlZFwiO30pKE9uZVRhcEVycm9yc3x8KE9uZVRhcEVycm9ycz17fSkpO3ZhciBFcnJvck1lc3NhZ2VzPV9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxPbmVUYXBFcnJvcnMuTm9uZSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsKSksT25lVGFwRXJyb3JzLk9yaWdpbk5vdEFsbG93ZWRGb3JDbGllbnQsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT25lVGFwSlNPcmlnaW5FcnJvck1lc3NhZ2UsbnVsbCkpLE9uZVRhcEVycm9ycy5JbnZhbGlkT0F1dGhDbGllbnQsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT25lVGFwSW52YWxpZE9BdXRoQ2xpZW50LG51bGwpKSxPbmVUYXBFcnJvcnMuTm9Db25maWd1cmVkT0F1dGhDbGllbnQsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT25lVGFwTm9Db25maWd1cmVkQ2xpZW50c0Vycm9yTWVzc2FnZSxudWxsKSksT25lVGFwRXJyb3JzLk5vQ29uZmlndXJlZExvZ2luUmVkaXJlY3RVcmxzLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9uZVRhcE5vQ29uZmlndXJlZExvZ2luUmVkaXJlY3RVcmxzRXJyb3JNZXNzYWdlLG51bGwpKSxPbmVUYXBFcnJvcnMuTm9Db25maWd1cmVkU2lnbnVwUmVkaXJlY3RVcmxzLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9uZVRhcE5vQ29uZmlndXJlZFNpZ251cFJlZGlyZWN0VXJsc0Vycm9yTWVzc2FnZSxudWxsKSksT25lVGFwRXJyb3JzLkRlZmF1bHRQcm92aWRlck5vdEFsbG93ZWQsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT25lVGFwTm9EZWZhdWx0UHJvdmlkZXJBbGxvd2VkRXJyb3JNZXNzYWdlLG51bGwpKTt2YXIgT25lVGFwQ29udGFpbmVyPUhlLmRpdihfdGVtcGxhdGVPYmplY3QxN3x8KF90ZW1wbGF0ZU9iamVjdDE3PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBoZWlnaHQ6IFwiLFwiO1xcbiAgZGlzcGxheTogXCIsXCI7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlLW91dDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuXCJcIi5jb25jYXQocHJvcHMuJGhlaWdodCxcInB4XCIpO30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy5wZW5kaW5nPydmbGV4JzonYmxvY2snO30pO3ZhciBHb29nbGVPbmVUYXA9ZnVuY3Rpb24gR29vZ2xlT25lVGFwKF9yZWY1Mil7dmFyIHBvc2l0aW9uPV9yZWY1Mi5wb3NpdGlvbjt2YXIgX2EsX2IsX2MsX2Q7dmFyIG9uZVRhcFJlbmRlck1vZGU9Z2V0UmVuZGVyZWRPbmVUYXBNb2RlKHBvc2l0aW9uKTt2YXIgc2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXA9b25lVGFwUmVuZGVyTW9kZT09PSdlbWJlZGRlZCc7dmFyIHNob3VsZFJlbmRlck9uZVRhcD0hIW9uZVRhcFJlbmRlck1vZGU7dmFyIGNvbmZpZz11c2VDb25maWcoKTt2YXIgc3R5dGNoPXVzZVN0eXRjaCgpO3ZhciBpc09ubHlGbG9hdGluZ09uZVRhcD11c2VJc09ubHlGbG9hdGluZ09uZVRhcCgpO3ZhciBfaCQzPWgkNShzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCksX2gkND1fc2xpY2VkVG9BcnJheTIoX2gkMywyKSxwZW5kaW5nPV9oJDRbMF0sc2V0UGVuZGluZz1faCQ0WzFdO3ZhciBfaCQ1PWgkNSh0cnVlKSxfaCQ2PV9zbGljZWRUb0FycmF5MihfaCQ1LDIpLGNhbkRpc3BsYXlPbmVUYXA9X2gkNlswXSxzZXRDYW5EaXNwbGF5T25lVGFwPV9oJDZbMV07dmFyIF9oJDc9aCQ1KE9BVVRIX0JVVFRPTl9IRUlHSFQpLF9oJDg9X3NsaWNlZFRvQXJyYXkyKF9oJDcsMiksaGVpZ2h0PV9oJDhbMF0sc2V0SGVpZ2h0PV9oJDhbMV07dmFyIF9oJDk9aCQ1KE9uZVRhcEVycm9ycy5Ob25lKSxfaCQxMD1fc2xpY2VkVG9BcnJheTIoX2gkOSwyKSxvbmVUYXBFcnJvcj1faCQxMFswXSxzZXRPbmVUYXBFcnJvcj1faCQxMFsxXTt2YXIgcmVzaXplQ291bnQ9XyQxKDApO3ZhciB0aW1lb3V0PV8kMSgpO3ZhciBpc1VubW91bnRlZD11c2VJc1VubW91bnRlZCgpO3ZhciBvblJlc2l6ZT1UJDIoZnVuY3Rpb24oX3JlZjUzKXt2YXIgX3JlZjU0PV9zbGljZWRUb0FycmF5MihfcmVmNTMsMSksZWw9X3JlZjU0WzBdO3RpbWVvdXQuY3VycmVudCYmY2xlYXJUaW1lb3V0KHRpbWVvdXQuY3VycmVudCk7aWYocmVzaXplQ291bnQuY3VycmVudD4xKXtzZXRIZWlnaHQoZnVuY3Rpb24oY3VycmVudEhlaWdodCl7cmV0dXJuIGVsLmNvbnRlbnRSZWN0LmhlaWdodD09PTA/Y2FuRGlzcGxheU9uZVRhcD9jdXJyZW50SGVpZ2h0Ok9BVVRIX0JVVFRPTl9IRUlHSFQ6ZWwuY29udGVudFJlY3QuaGVpZ2h0O30pO31lbHNle3RpbWVvdXQuY3VycmVudD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHNldEhlaWdodChmdW5jdGlvbihjdXJyZW50SGVpZ2h0KXtyZXR1cm4gZWwuY29udGVudFJlY3QuaGVpZ2h0PT09MD9jYW5EaXNwbGF5T25lVGFwP2N1cnJlbnRIZWlnaHQ6T0FVVEhfQlVUVE9OX0hFSUdIVDplbC5jb250ZW50UmVjdC5oZWlnaHQ7fSk7fSwxMDApO31yZXNpemVDb3VudC5jdXJyZW50Kys7fSxbXSk7cCQ2KGZ1bmN0aW9uKCl7aWYoc2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXApe3ZhciBlbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29vZ2xlLXBhcmVudC1wcm9tcHQnKTtpZihlbCl7dmFyIHJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcihvblJlc2l6ZSk7cmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbCk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTt9O319fSxbb25SZXNpemUsc2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXBdKTt2YXIgYXR0ZW1wdFRvTG9hZE9uZVRhcD1UJDIoZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcwKCl7dmFyIF9lLF9mLF9yZWFkQjJDSW50ZXJuYWxzLG9uZVRhcCxjbGllbnRSZXN1bHQsY2xpZW50LG9uT25lVGFwQ2FuY2VsbGVkLHJlbmRlclJlc3VsdDtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZTIoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MCQoX2NvbnRleHQ3MCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ3MC5wcmV2PV9jb250ZXh0NzAubmV4dCl7Y2FzZSAwOmlmKHNob3VsZFJlbmRlck9uZVRhcCl7X2NvbnRleHQ3MC5uZXh0PTI7YnJlYWs7fXJldHVybiBfY29udGV4dDcwLmFicnVwdChcInJldHVyblwiKTtjYXNlIDI6X3JlYWRCMkNJbnRlcm5hbHM9cmVhZEIyQ0ludGVybmFscyhzdHl0Y2gpLG9uZVRhcD1fcmVhZEIyQ0ludGVybmFscy5vbmVUYXA7X2NvbnRleHQ3MC5uZXh0PTU7cmV0dXJuIG9uZVRhcC5jcmVhdGVPbmVUYXBDbGllbnQoKTtjYXNlIDU6Y2xpZW50UmVzdWx0PV9jb250ZXh0NzAuc2VudDtpZihjbGllbnRSZXN1bHQuc3VjY2Vzcyl7X2NvbnRleHQ3MC5uZXh0PTk7YnJlYWs7fWlmKGNsaWVudFJlc3VsdC5yZWFzb249PT0nb2F1dGhfY29uZmlnX25vdF9mb3VuZCcpe3NldE9uZVRhcEVycm9yKE9uZVRhcEVycm9ycy5Ob0NvbmZpZ3VyZWRPQXV0aENsaWVudCk7fWVsc2UgaWYoY2xpZW50UmVzdWx0LnJlYXNvbj09PSdub19zaWdudXBfcmVkaXJlY3RfdXJsc19zZXQnKXtzZXRPbmVUYXBFcnJvcihPbmVUYXBFcnJvcnMuTm9Db25maWd1cmVkU2lnbnVwUmVkaXJlY3RVcmxzKTt9ZWxzZSBpZihjbGllbnRSZXN1bHQucmVhc29uPT09J25vX2xvZ2luX3JlZGlyZWN0X3VybHNfc2V0Jyl7c2V0T25lVGFwRXJyb3IoT25lVGFwRXJyb3JzLk5vQ29uZmlndXJlZExvZ2luUmVkaXJlY3RVcmxzKTt9ZWxzZXtsb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byBsb2FkIE9uZSBUYXAgc2V0dGluZ3MgZm9yIHByb2plY3QnLGNsaWVudFJlc3VsdCk7fXJldHVybiBfY29udGV4dDcwLmFicnVwdChcInJldHVyblwiKTtjYXNlIDk6Y2xpZW50PWNsaWVudFJlc3VsdC5jbGllbnQ7b25PbmVUYXBDYW5jZWxsZWQ9ZnVuY3Rpb24gb25PbmVUYXBDYW5jZWxsZWQoc2hvd0Vycm9yKXtzZXRDYW5EaXNwbGF5T25lVGFwKGZhbHNlKTtzZXRIZWlnaHQoT0FVVEhfQlVUVE9OX0hFSUdIVCk7aWYoc2hvd0Vycm9yKXtzZXRPbmVUYXBFcnJvcihPbmVUYXBFcnJvcnMuT3JpZ2luTm90QWxsb3dlZEZvckNsaWVudCk7fX07aWYoIWlzVW5tb3VudGVkLmN1cnJlbnQpe19jb250ZXh0NzAubmV4dD0xMzticmVhazt9cmV0dXJuIF9jb250ZXh0NzAuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTM6X2NvbnRleHQ3MC5uZXh0PTE1O3JldHVybiBjbGllbnQucmVuZGVyKHtjYWxsYmFjazpvbmVUYXAuY3JlYXRlT25TdWNjZXNzSGFuZGxlcih7bG9naW5SZWRpcmVjdFVybDooX2U9Y29uZmlnLm9hdXRoT3B0aW9ucyk9PT1udWxsfHxfZT09PXZvaWQgMD92b2lkIDA6X2UubG9naW5SZWRpcmVjdFVSTCxzaWdudXBSZWRpcmVjdFVybDooX2Y9Y29uZmlnLm9hdXRoT3B0aW9ucyk9PT1udWxsfHxfZj09PXZvaWQgMD92b2lkIDA6X2Yuc2lnbnVwUmVkaXJlY3RVUkwsb25TdWNjZXNzOm9uZVRhcC5SZWRpcmVjdE9uU3VjY2Vzc30pLG9uT25lVGFwQ2FuY2VsbGVkOm9uT25lVGFwQ2FuY2VsbGVkLHN0eWxlOntwb3NpdGlvbjpwb3NpdGlvbn19KTtjYXNlIDE1OnJlbmRlclJlc3VsdD1fY29udGV4dDcwLnNlbnQ7aWYoIWlzVW5tb3VudGVkLmN1cnJlbnQpe19jb250ZXh0NzAubmV4dD0xOTticmVhazt9Y2xpZW50LmNhbmNlbCgpO3JldHVybiBfY29udGV4dDcwLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE5OnNldENhbkRpc3BsYXlPbmVUYXAocmVuZGVyUmVzdWx0LnN1Y2Nlc3MpO3NldFBlbmRpbmcoZmFsc2UpO2lmKCFyZW5kZXJSZXN1bHQuc3VjY2Vzcyl7aWYocmVuZGVyUmVzdWx0LnJlYXNvbj09PSd1bnJlZ2lzdGVyZWRfb3JpZ2luJyl7c2V0T25lVGFwRXJyb3IoT25lVGFwRXJyb3JzLk9yaWdpbk5vdEFsbG93ZWRGb3JDbGllbnQpO31pZihyZW5kZXJSZXN1bHQucmVhc29uPT09J2ludmFsaWRfY2xpZW50Jyl7c2V0T25lVGFwRXJyb3IoT25lVGFwRXJyb3JzLkludmFsaWRPQXV0aENsaWVudCk7fWxvZ2dlci5lcnJvcignVW5hYmxlIHRvIHJlbmRlciBPbmUgVGFwIHByb21wdCcscmVuZGVyUmVzdWx0KTt9cmV0dXJuIF9jb250ZXh0NzAuYWJydXB0KFwicmV0dXJuXCIsY2xpZW50KTtjYXNlIDIzOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDcwLnN0b3AoKTt9fSxfY2FsbGVlNzApO30pKTt9LFtzaG91bGRSZW5kZXJPbmVUYXAsc3R5dGNoLGlzVW5tb3VudGVkLChfYT1jb25maWcub2F1dGhPcHRpb25zKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5sb2dpblJlZGlyZWN0VVJMLChfYj1jb25maWcub2F1dGhPcHRpb25zKT09PW51bGx8fF9iPT09dm9pZCAwP3ZvaWQgMDpfYi5zaWdudXBSZWRpcmVjdFVSTCxwb3NpdGlvbl0pO3AkNihmdW5jdGlvbigpe3ZhciBjbGllbnQ7YXR0ZW1wdFRvTG9hZE9uZVRhcCgpLnRoZW4oZnVuY3Rpb24oJGNsaWVudCl7cmV0dXJuIGNsaWVudD0kY2xpZW50O30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZXJyKXtsb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byByZW5kZXIgT25lIFRhcCBwcm9tcHQnLGVycik7c2V0Q2FuRGlzcGxheU9uZVRhcChmYWxzZSk7c2V0UGVuZGluZyhmYWxzZSk7fSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGNsaWVudD09PW51bGx8fGNsaWVudD09PXZvaWQgMD92b2lkIDA6Y2xpZW50LmNhbmNlbCgpO307fSxbYXR0ZW1wdFRvTG9hZE9uZVRhcF0pO3ZhciBnb29nbGVBdXRoQnV0dG9uPS8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9BdXRoQnV0dG9uLHtrZXk6XCJvYXV0aC1cIi5jb25jYXQoT0F1dGhQcm92aWRlcnMuR29vZ2xlKSxwcm92aWRlclR5cGU6T0F1dGhQcm92aWRlcnMuR29vZ2xlLGljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR29vZ2xlSWNvbixudWxsKSxwcm92aWRlclR5cGVUaXRsZTpcIkdvb2dsZVwiLGxvZ2luUmVkaXJlY3RVcmw6KF9jPWNvbmZpZy5vYXV0aE9wdGlvbnMpPT09bnVsbHx8X2M9PT12b2lkIDA/dm9pZCAwOl9jLmxvZ2luUmVkaXJlY3RVUkwsc2lnbnVwUmVkaXJlY3RVcmw6KF9kPWNvbmZpZy5vYXV0aE9wdGlvbnMpPT09bnVsbHx8X2Q9PT12b2lkIDA/dm9pZCAwOl9kLnNpZ251cFJlZGlyZWN0VVJMfSk7dmFyIF9yZWFkQjJDSW50ZXJuYWxzMj1yZWFkQjJDSW50ZXJuYWxzKHN0eXRjaCkscHVibGljVG9rZW49X3JlYWRCMkNJbnRlcm5hbHMyLnB1YmxpY1Rva2VuO2lmKGlzT25seUZsb2F0aW5nT25lVGFwKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPbmVUYXBNb3VudE5vZGUse2VuYWJsZVNoYWRvd0RPTTohIWNvbmZpZy5lbmFibGVTaGFkb3dET019KTt9aWYob25lVGFwRXJyb3IhPT1PbmVUYXBFcnJvcnMuTm9uZSl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCxpc1Rlc3RQdWJsaWNUb2tlbihwdWJsaWNUb2tlbik/RXJyb3JNZXNzYWdlc1tvbmVUYXBFcnJvcl06bnVsbCxnb29nbGVBdXRoQnV0dG9uKTt9aWYoc2hvdWxkUmVuZGVyRW1iZWRkZWRPbmVUYXAmJk9uZVRhcFByb3ZpZGVyLldpbGxHb29nbGVPbmVUYXBTaG93RW1iZWRkZWQoKSl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT25lVGFwQ29udGFpbmVyLHtwZW5kaW5nOnBlbmRpbmcsXCIkaGVpZ2h0XCI6aGVpZ2h0fSxwZW5kaW5nJiYvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDaXJjdWxhclByb2dyZXNzLHtzaXplOjI1LHRoaWNrbmVzczoyfSksY2FuRGlzcGxheU9uZVRhcD8vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPbmVUYXBNb3VudE5vZGUse2VuYWJsZVNoYWRvd0RPTTohIWNvbmZpZy5lbmFibGVTaGFkb3dET019KTpnb29nbGVBdXRoQnV0dG9uKTt9cmV0dXJuIGdvb2dsZUF1dGhCdXR0b247fTt2YXIgQXBwbGVJY29uU3ZnPWZ1bmN0aW9uIEFwcGxlSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIuMjIyNyA2LjI1QzEzLjA1NDcgNi4yNSAxNC4wOTc3IDUuNjU0OTYgMTQuNzE4OCA0Ljg2MTU3QzE1LjI4MTMgNC4xNDI1NiAxNS42OTE0IDMuMTM4NDMgMTUuNjkxNCAyLjEzNDNDMTUuNjkxNCAxLjk5NzkzIDE1LjY3OTcgMS44NjE1NyAxNS42NTYzIDEuNzVDMTQuNzMwNSAxLjc4NzE5IDEzLjYxNzIgMi40MDcwMiAxMi45NDkyIDMuMjM3NkMxMi40MjE5IDMuODY5ODMgMTEuOTQxNCA0Ljg2MTU3IDExLjk0MTQgNS44NzgxQzExLjk0MTQgNi4wMjY4NiAxMS45NjQ4IDYuMTc1NjIgMTEuOTc2NiA2LjIyNTIxQzEyLjAzNTIgNi4yMzc2IDEyLjEyODkgNi4yNSAxMi4yMjI3IDYuMjVaTTkuMjkyOTcgMjEuMjVDMTAuNDI5NyAyMS4yNSAxMC45MzM2IDIwLjQ0NDIgMTIuMzUxNiAyMC40NDQyQzEzLjc5MyAyMC40NDQyIDE0LjEwOTQgMjEuMjI1MiAxNS4zNzUgMjEuMjI1MkMxNi42MTcyIDIxLjIyNTIgMTcuNDQ5MiAyMC4wMTAzIDE4LjIzNDQgMTguODIwMkMxOS4xMTMzIDE3LjQ1NjYgMTkuNDc2NiAxNi4xMTc4IDE5LjUgMTYuMDU1OEMxOS40MTggMTYuMDMxIDE3LjAzOTEgMTUuMDAyMSAxNy4wMzkxIDEyLjExMzZDMTcuMDM5MSA5LjYwOTUgMTguOTE0MSA4LjQ4MTQgMTkuMDE5NSA4LjM5NDYzQzE3Ljc3NzMgNi41MTAzMyAxNS44OTA2IDYuNDYwNzQgMTUuMzc1IDYuNDYwNzRDMTMuOTgwNSA2LjQ2MDc0IDEyLjg0MzggNy4zNTMzMSAxMi4xMjg5IDcuMzUzMzFDMTEuMzU1NSA3LjM1MzMxIDEwLjMzNTkgNi41MTAzMyA5LjEyODkxIDYuNTEwMzNDNi44MzIwMyA2LjUxMDMzIDQuNSA4LjUxODU5IDQuNSAxMi4zMTJDNC41IDE0LjY2NzQgNS4zNjcxOSAxNy4xNTkxIDYuNDMzNTkgMTguNzcwN0M3LjM0NzY2IDIwLjEzNDMgOC4xNDQ1MyAyMS4yNSA5LjI5Mjk3IDIxLjI1WlwiLGZpbGw6XCJibGFja1wifSkpO307dmFyIEFwcGxlSWNvbj1DcmVhdGVJY29uKEFwcGxlSWNvblN2Zyk7dmFyIEdpdGh1Ykljb25Tdmc9ZnVuY3Rpb24gR2l0aHViSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIuMDAwMSAyLjI1QzYuNDc3OTEgMi4yNSAyIDYuNzI3MDkgMiAxMi4yNTAxQzIgMTYuNjY4NCA0Ljg2NTMzIDIwLjQxNjggOC44Mzg2NyAyMS43MzkxQzkuMzM4NDQgMjEuODMxNyA5LjUyMTkyIDIxLjUyMjIgOS41MjE5MiAyMS4yNTgxQzkuNTIxOTIgMjEuMDE5NiA5LjUxMjY1IDIwLjIzMTkgOS41MDgzNCAxOS4zOTYzQzYuNzI2MzEgMjAuMDAxMiA2LjEzOTI3IDE4LjIxNjQgNi4xMzkyNyAxOC4yMTY0QzUuNjg0MzcgMTcuMDYwNSA1LjAyODk0IDE2Ljc1MzIgNS4wMjg5NCAxNi43NTMyQzQuMTIxNjMgMTYuMTMyNSA1LjA5NzMzIDE2LjE0NTMgNS4wOTczMyAxNi4xNDUzQzYuMTAxNTEgMTYuMjE1OCA2LjYzMDI2IDE3LjE3NTggNi42MzAyNiAxNy4xNzU4QzcuNTIyMTcgMTguNzA0NiA4Ljk2OTY1IDE4LjI2MjYgOS41NDAzIDE4LjAwNzFDOS42MzAwNiAxNy4zNjA3IDkuODg5MjIgMTYuOTE5NiAxMC4xNzUyIDE2LjY2OTlDNy45NTQwNSAxNi40MTcgNS42MTkxMyAxNS41NTk1IDUuNjE5MTMgMTEuNzI3OEM1LjYxOTEzIDEwLjYzNiA2LjAwOTc3IDkuNzQzOTQgNi42NDk0NyA5LjA0MzYyQzYuNTQ1NjQgOC43OTE3NSA2LjIwMzM1IDcuNzc0NjUgNi43NDYzNSA2LjM5NzIyQzYuNzQ2MzUgNi4zOTcyMiA3LjU4NjA5IDYuMTI4NDUgOS40OTcwOCA3LjQyMjI2QzEwLjI5NDggNy4yMDA2OSAxMS4xNTAyIDcuMDg5NTggMTIuMDAwMSA3LjA4NTc3QzEyLjg0OTkgNy4wODk1OCAxMy43MDYxIDcuMjAwNjkgMTQuNTA1MiA3LjQyMjI2QzE2LjQxMzkgNi4xMjg0NSAxNy4yNTI1IDYuMzk3MjIgMTcuMjUyNSA2LjM5NzIyQzE3Ljc5NjggNy43NzQ2NSAxNy40NTQ0IDguNzkxNzUgMTcuMzUwNSA5LjA0MzYyQzE3Ljk5MTcgOS43NDM5NCAxOC4zNzk3IDEwLjYzNiAxOC4zNzk3IDExLjcyNzhDMTguMzc5NyAxNS41Njg3IDE2LjA0MDMgMTYuNDE0NCAxMy44MTM1IDE2LjY2MTlDMTQuMTcyMiAxNi45NzIzIDE0LjQ5MTggMTcuNTgwOCAxNC40OTE4IDE4LjUxMzhDMTQuNDkxOCAxOS44NTE4IDE0LjQ4MDIgMjAuOTI4NyAxNC40ODAyIDIxLjI1ODFDMTQuNDgwMiAyMS41MjQyIDE0LjY2MDIgMjEuODM2IDE1LjE2NzEgMjEuNzM3OEMxOS4xMzgzIDIwLjQxNCAyMiAxNi42NjY5IDIyIDEyLjI1MDFDMjIgNi43MjcwOSAxNy41MjI3IDIuMjUgMTIuMDAwMSAyLjI1Wk01Ljc0NTM2IDE2LjQ5NTNDNS43MjMzMyAxNi41NDUgNS42NDUxNyAxNi41NTk5IDUuNTczOTYgMTYuNTI1OEM1LjUwMTQzIDE2LjQ5MzIgNS40NjA2OSAxNi40MjU0IDUuNDg0MjEgMTYuMzc1NkM1LjUwNTc0IDE2LjMyNDQgNS41ODQwNiAxNi4zMTAyIDUuNjU2NDMgMTYuMzQ0NUM1LjcyOTEzIDE2LjM3NzEgNS43NzA1MyAxNi40NDU1IDUuNzQ1MzYgMTYuNDk1M1pNNi4yMzcyNSAxNi45MzQyQzYuMTg5NTYgMTYuOTc4NSA2LjA5NjMzIDE2Ljk1NzkgNi4wMzMwNyAxNi44ODhDNS45Njc2NiAxNi44MTgzIDUuOTU1NCAxNi43MjUxIDYuMDAzNzYgMTYuNjgwMkM2LjA1Mjk0IDE2LjYzNiA2LjE0MzM2IDE2LjY1NjcgNi4yMDg5MyAxNi43MjY0QzYuMjc0MzQgMTYuNzk3IDYuMjg3MDkgMTYuODg5NSA2LjIzNzI1IDE2LjkzNDJaTTYuNTc0NzEgMTcuNDk1OEM2LjUxMzQ0IDE3LjUzODQgNi40MTMyNSAxNy40OTg1IDYuMzUxMzIgMTcuNDA5NUM2LjI5MDA0IDE3LjMyMDYgNi4yOTAwNCAxNy4yMTQgNi4zNTI2NCAxNy4xNzEyQzYuNDE0NzQgMTcuMTI4NSA2LjUxMzQ0IDE3LjE2NjkgNi41NzYyIDE3LjI1NTJDNi42MzczIDE3LjM0NTYgNi42MzczIDE3LjQ1MjMgNi41NzQ3MSAxNy40OTU4Wk03LjE0NTQyIDE4LjE0NjJDNy4wOTA2MSAxOC4yMDY2IDYuOTczODYgMTguMTkwNCA2Ljg4ODQxIDE4LjEwNzlDNi44MDA5OCAxOC4wMjczIDYuNzc2NjMgMTcuOTEyOSA2LjgzMTYxIDE3Ljg1MjRDNi44ODcwOSAxNy43OTE4IDcuMDA0NSAxNy44MDg5IDcuMDkwNjEgMTcuODkwN0M3LjE3NzM4IDE3Ljk3MTEgNy4yMDM4NyAxOC4wODY0IDcuMTQ1NDIgMTguMTQ2MlpNNy44ODMwMSAxOC4zNjU3QzcuODU4ODMgMTguNDQ0MSA3Ljc0NjM5IDE4LjQ3OTcgNy42MzMxMiAxOC40NDY0QzcuNTIwMDIgMTguNDEyMSA3LjQ0NiAxOC4zMjA0IDcuNDY4ODUgMTguMjQxMkM3LjQ5MjM3IDE4LjE2MjQgNy42MDUzIDE4LjEyNTMgNy43MTk0IDE4LjE2MDlDNy44MzIzNCAxOC4xOTUgNy45MDY1MiAxOC4yODYxIDcuODgzMDEgMTguMzY1N1pNOC43MjI0MiAxOC40NTg5QzguNzI1MjMgMTguNTQxMyA4LjYyOTE5IDE4LjYwOTcgOC41MTAyOSAxOC42MTEyQzguMzkwNzMgMTguNjEzOSA4LjI5NDAyIDE4LjU0NzEgOC4yOTI2OSAxOC40NjZDOC4yOTI2OSAxOC4zODI3IDguMzg2NTkgMTguMzE1IDguNTA2MTUgMTguMzEzQzguNjI1MDUgMTguMzEwNyA4LjcyMjQyIDE4LjM3NjkgOC43MjI0MiAxOC40NTg5Wk05LjU0NzA0IDE4LjQyNzNDOS41NjEyOCAxOC41MDc3IDkuNDc4NjUgMTguNTkwNCA5LjM2MDU4IDE4LjYxMjRDOS4yNDQ1IDE4LjYzMzYgOS4xMzcwMiAxOC41ODM5IDkuMTIyMjkgMTguNTA0MUM5LjEwNzg4IDE4LjQyMTYgOS4xOTIgMTguMzM5IDkuMzA3OTIgMTguMzE3NkM5LjQyNjE2IDE4LjI5NzEgOS41MzE5NyAxOC4zNDU1IDkuNTQ3MDQgMTguNDI3M1pcIixmaWxsOlwiIzE2MTYxNFwifSkpO307dmFyIEdpdGh1Ykljb249Q3JlYXRlSWNvbihHaXRodWJJY29uU3ZnKTt2YXIgRmFjZWJvb2tJY29uU1ZHPWZ1bmN0aW9uIEZhY2Vib29rSWNvblNWRygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMjIgMTJDMjIgNi40NzcxNSAxNy41MjI5IDIgMTIgMkM2LjQ3NzE1IDIgMiA2LjQ3NzE1IDIgMTJDMiAxNi45OTEzIDUuNjU2ODUgMjEuMTI4MyAxMC40Mzc1IDIxLjg3ODVWMTQuODkwNkg3Ljg5ODQ0VjEySDEwLjQzNzVWOS43OTY4OEMxMC40Mzc1IDcuMjkwNjIgMTEuOTMwNCA1LjkwNjI2IDE0LjIxNDYgNS45MDYyNkMxNS4zMDg3IDUuOTA2MjYgMTYuNDUzMSA2LjEwMTU2IDE2LjQ1MzEgNi4xMDE1NlY4LjU2MjVIMTUuMTkyMkMxMy45NDk5IDguNTYyNSAxMy41NjI1IDkuMzMzMzUgMTMuNTYyNSAxMC4xMjQyVjEySDE2LjMzNTlMMTUuODkyNiAxNC44OTA2SDEzLjU2MjVWMjEuODc4NUMxOC4zNDMxIDIxLjEyODMgMjIgMTYuOTkxMyAyMiAxMlpcIixmaWxsOlwiIzE4NzdGMlwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTUuODkyNiAxNC44OTA2TDE2LjMzNTkgMTJIMTMuNTYyNVYxMC4xMjQyQzEzLjU2MjUgOS4zMzMzNCAxMy45NDk5IDguNTYyNSAxNS4xOTIxIDguNTYyNUgxNi40NTMxVjYuMTAxNTZDMTYuNDUzMSA2LjEwMTU2IDE1LjMwODcgNS45MDYyNSAxNC4yMTQ2IDUuOTA2MjVDMTEuOTMwNCA1LjkwNjI1IDEwLjQzNzUgNy4yOTA2MiAxMC40Mzc1IDkuNzk2ODhWMTJINy44OTg0NFYxNC44OTA2SDEwLjQzNzVWMjEuODc4NUMxMC45NTQ0IDIxLjk1OTUgMTEuNDc2OCAyMi4wMDAxIDEyIDIyQzEyLjUzMTYgMjIgMTMuMDUzNCAyMS45NTg0IDEzLjU2MjUgMjEuODc4NVYxNC44OTA2SDE1Ljg5MjZaXCIsZmlsbDpcIndoaXRlXCJ9KSk7fTt2YXIgRmFjZWJvb2tJY29uPUNyZWF0ZUljb24oRmFjZWJvb2tJY29uU1ZHKTt2YXIgTWljcm9zb2Z0SWNvblN2Zz1mdW5jdGlvbiBNaWNyb3NvZnRJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIjAgMCAyNCAyNFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk05LjUyMzgyIDAuOTUyMzgxSDAuOTUyMzkzVjkuNTIzODFIOS41MjM4MlYwLjk1MjM4MVpcIixmaWxsOlwiI0YyNTAyMlwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOS41MjM4MiAxMC40NzYySDAuOTUyMzkzVjE5LjA0NzZIOS41MjM4MlYxMC40NzYyWlwiLGZpbGw6XCIjMDBBNEVGXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xOS4wNDc1IDAuOTUyMzgxSDEwLjQ3NjFWOS41MjM4MUgxOS4wNDc1VjAuOTUyMzgxWlwiLGZpbGw6XCIjN0ZCQTAwXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xOS4wNDc1IDEwLjQ3NjJIMTAuNDc2MVYxOS4wNDc2SDE5LjA0NzVWMTAuNDc2MlpcIixmaWxsOlwiI0ZGQjkwMFwifSkpO307dmFyIE1pY3Jvc29mdEljb249Q3JlYXRlSWNvbihNaWNyb3NvZnRJY29uU3ZnKTt2YXIgR2l0TGFiSWNvblN2Zz1mdW5jdGlvbiBHaXRMYWJJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIi0uMSAuNSA5NjAuMiA5MjMuOVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJtOTU4LjkgNDQyLjRjMS4xIDI2LjEtMiA1Mi4xLTkuMiA3Ny4yLTcuMSAyNS4xLTE4LjMgNDguOC0zMy4xIDcwLjNhMjQwLjQzIDI0MC40MyAwIDAgMSAtNTMuNiA1Ni4ybC0uNS40LTE5OS45IDE0OS44LTk4LjMgNzQuNS01OS45IDQ1LjJjLTMuNSAyLjctNy40IDQuNy0xMS41IDYuMXMtOC41IDIuMS0xMi45IDIuMWMtNC4zIDAtOC43LS43LTEyLjgtMi4xcy04LTMuNC0xMS41LTYuMWwtNTkuOS00NS4yLTk4LjMtNzQuNS0xOTguNy0xNDguOS0xLjItLjgtLjQtLjRjLTIwLjktMTUuNy0zOS0zNC43LTUzLjgtNTYuMnMtMjYtNDUuMy0zMy4yLTcwLjRjLTcuMi0yNS4xLTEwLjMtNTEuMi05LjItNzcuMyAxLjItMjYuMSA2LjUtNTEuOCAxNS44LTc2LjJsMS4zLTMuNSAxMzAuNy0zNDAuNXExLTIuNSAyLjQtNC44IDEuMy0yLjMgMy4xLTQuMyAxLjctMi4xIDMuNy0zLjkgMi0xLjcgNC4yLTMuMmMzLjEtMS45IDYuMy0zLjMgOS44LTQuMSAzLjQtLjkgNy0xLjMgMTAuNS0xLjEgMy42LjIgNy4xLjkgMTAuNCAyLjIgMy4zIDEuMiA2LjUgMyA5LjMgNS4ycTIgMS43IDMuOSAzLjYgMS44IDIgMy4yIDQuMyAxLjUgMi4yIDIuNiA0LjcgMS4xIDIuNCAxLjggNWw4OC4xIDI2OS43aDM1Ni42bDg4LjEtMjY5LjdxLjctMi42IDEuOS01IDEuMS0yLjQgMi42LTQuNyAxLjQtMi4yIDMuMi00LjIgMS44LTIgMy45LTMuN2MyLjgtMi4yIDUuOS0zLjkgOS4yLTUuMiAzLjQtMS4yIDYuOS0xLjkgMTAuNC0yLjEgMy42LS4yIDcuMS4xIDEwLjYgMSAzLjQuOSA2LjcgMi4zIDkuNyA0LjJxMi4zIDEuNCA0LjMgMy4yIDIgMS43IDMuNyAzLjggMS43IDIuMSAzLjEgNC40IDEuMyAyLjMgMi4zIDQuOGwxMzAuNSAzNDAuNiAxLjMgMy41YzkuMyAyNC4zIDE0LjYgNTAgMTUuNyA3Ni4xelwiLGZpbGw6XCIjZTI0MzI5XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIm05NTkgNDQyLjVjMS4xIDI2LTIgNTIuMS05LjIgNzcuMnMtMTguNCA0OC45LTMzLjIgNzAuNC0zMi45IDQwLjUtNTMuNyA1Ni4ybC0uNS40LTE5OS45IDE0OS44cy04NC45LTY0LjEtMTgyLjUtMTM4bDI4Ni41LTIxNi44YzEyLjktOS43IDI2LjQtMTguNiA0MC4zLTI2LjggMTMuOS04LjMgMjguMy0xNS43IDQzLTIyLjMgMTQuOC02LjYgMjkuOS0xMi41IDQ1LjItMTcuNCAxNS40LTUgMzEtOS4xIDQ2LjktMTIuNGwxLjMgMy41YzkuMyAyNC40IDE0LjYgNTAuMSAxNS44IDc2LjJ6XCIsZmlsbDpcIiNmYzZkMjZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwibTQ4MCA2NTguNWM5Ny42IDczLjcgMTgyLjYgMTM4IDE4Mi42IDEzOGwtOTguMyA3NC41LTU5LjkgNDUuMmMtMy41IDIuNy03LjQgNC43LTExLjUgNi4xcy04LjUgMi4xLTEyLjkgMi4xYy00LjMgMC04LjctLjctMTIuOC0yLjFzLTgtMy40LTExLjUtNi4xbC01OS45LTQ1LjItOTguMy03NC41czg0LjktNjQuMyAxODIuNS0xMzh6XCIsZmlsbDpcIiNmY2EzMjZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwibTQ4MCA2NTguM2MtOTcuNyA3My45LTE4Mi41IDEzOC0xODIuNSAxMzhsLTE5OC43LTE0OC45LTEuMi0uOC0uNC0uNGMtMjAuOS0xNS43LTM5LTM0LjctNTMuOC01Ni4ycy0yNi00NS4zLTMzLjItNzAuNGMtNy4yLTI1LjEtMTAuMy01MS4yLTkuMi03Ny4zIDEuMi0yNi4xIDYuNS01MS44IDE1LjgtNzYuMmwxLjMtMy41YzE1LjkgMy4zIDMxLjUgNy40IDQ2LjkgMTIuNCAxNS4zIDUgMzAuNCAxMC44IDQ1LjIgMTcuNSAxNC43IDYuNiAyOS4xIDE0LjEgNDMgMjIuM3MyNy4zIDE3LjIgNDAuMyAyNi45elwiLGZpbGw6XCIjZmM2ZDI2XCJ9KSk7fTt2YXIgR2l0TGFiSWNvbj1DcmVhdGVJY29uKEdpdExhYkljb25TdmcpO3ZhciBEaXNjb3JkSWNvblN2Zz1mdW5jdGlvbiBEaXNjb3JkSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTguNTg0MyA2LjE2OTQzQzE3LjM3MzMgNS42MjgxNSAxNi4wNzQ3IDUuMjI5MzYgMTQuNzE2OSA1LjAwMDk2QzE0LjY5MjIgNC45OTY1NSAxNC42Njc1IDUuMDA3NTcgMTQuNjU0OCA1LjAyOTZDMTQuNDg3NyA1LjMxODk2IDE0LjMwMjcgNS42OTY0NSAxNC4xNzMyIDUuOTkzMTZDMTIuNzEyOCA1Ljc4MDE4IDExLjI1OTkgNS43ODAxOCA5LjgyOTUgNS45OTMxNkM5LjY5OTkzIDUuNjg5ODYgOS41MDgyMiA1LjMxODk2IDkuMzQwNDYgNS4wMjk2QzkuMzI3NzIgNS4wMDgzIDkuMzAzMDIgNC45OTcyOSA5LjI3ODI5IDUuMDAwOTZDNy45MjEyNiA1LjIyODYzIDYuNjIyNjUgNS42Mjc0MiA1LjQxMDkxIDYuMTY5NDNDNS40MDA0MiA2LjE3Mzg0IDUuMzkxNDMgNi4xODExOSA1LjM4NTQ2IDYuMTkwNzNDMi45MjIyNyA5Ljc3NTQ4IDIuMjQ3NSAxMy4yNzIxIDIuNTc4NTIgMTYuNzI1NEMyLjU4MDAyIDE2Ljc0MjMgMi41ODk3NSAxNi43NTg0IDIuNjAzMjMgMTYuNzY4N0M0LjIyODM3IDE3LjkzMTMgNS44MDI2IDE4LjYzNzEgNy4zNDc2IDE5LjEwNDlDNy4zNzIzMiAxOS4xMTIzIDcuMzk4NTIgMTkuMTAzNSA3LjQxNDI2IDE5LjA4MzZDNy43Nzk3MyAxOC41OTc1IDguMTA1NTEgMTguMDg0OCA4LjM4NDg0IDE3LjU0NTdDOC40MDEzMiAxNy41MTQyIDguMzg1NTggMTcuNDc2NyA4LjM1MTg5IDE3LjQ2NDJDNy44MzUxNSAxNy4yNzMzIDcuMzQzMSAxNy4wNDA1IDYuODY5NzkgMTYuNzc2MUM2LjgzMjM1IDE2Ljc1NDggNi44MjkzNSAxNi43MDI2IDYuODYzNzkgMTYuNjc3NkM2Ljk2MzM5IDE2LjYwNDkgNy4wNjMwMiAxNi41MjkzIDcuMTU4MTMgMTYuNDUyOUM3LjE3NTM0IDE2LjQzOSA3LjE5OTMyIDE2LjQzNiA3LjIxOTU1IDE2LjQ0NDhDMTAuMzI5IDE3LjgyNzggMTMuNjk1NCAxNy44Mjc4IDE2Ljc2ODIgMTYuNDQ0OEMxNi43ODg0IDE2LjQzNTMgMTYuODEyNCAxNi40MzgyIDE2LjgzMDMgMTYuNDUyMkMxNi45MjU1IDE2LjUyODYgMTcuMDI1MSAxNi42MDQ5IDE3LjEyNTQgMTYuNjc3NkMxNy4xNTk5IDE2LjcwMjYgMTcuMTU3NiAxNi43NTQ4IDE3LjEyMDIgMTYuNzc2MUMxNi42NDY5IDE3LjA0NTYgMTYuMTU0OCAxNy4yNzMzIDE1LjYzNzMgMTcuNDYzNUMxNS42MDM2IDE3LjQ3NiAxNS41ODg2IDE3LjUxNDIgMTUuNjA1MSAxNy41NDU3QzE1Ljg5MDUgMTguMDg0MSAxNi4yMTYyIDE4LjU5NjcgMTYuNTc1IDE5LjA4MjlDMTYuNTg5OSAxOS4xMDM1IDE2LjYxNjkgMTkuMTEyMyAxNi42NDE2IDE5LjEwNDlDMTguMTk0MSAxOC42MzcxIDE5Ljc2ODMgMTcuOTMxMyAyMS4zOTM1IDE2Ljc2ODdDMjEuNDA3NyAxNi43NTg0IDIxLjQxNjcgMTYuNzQzIDIxLjQxODIgMTYuNzI2MUMyMS44MTQ0IDEyLjczMzggMjAuNzU0NiA5LjI2NTc5IDE4LjYwOSA2LjE5MTQ2QzE4LjYwMzggNi4xODExOSAxOC41OTQ4IDYuMTczODQgMTguNTg0MyA2LjE2OTQzWk04Ljg0OTE4IDE0LjYyMjdDNy45MTMwMiAxNC42MjI3IDcuMTQxNjUgMTMuNzg1NSA3LjE0MTY1IDEyLjc1NzNDNy4xNDE2NSAxMS43MjkxIDcuODk4MDYgMTAuODkxOCA4Ljg0OTE4IDEwLjg5MThDOS44MDc3NyAxMC44OTE4IDEwLjU3MTcgMTEuNzM2NCAxMC41NTY3IDEyLjc1NzNDMTAuNTU2NyAxMy43ODU1IDkuODAwMjggMTQuNjIyNyA4Ljg0OTE4IDE0LjYyMjdaTTE1LjE2MjUgMTQuNjIyN0MxNC4yMjY0IDE0LjYyMjcgMTMuNDU1IDEzLjc4NTUgMTMuNDU1IDEyLjc1NzNDMTMuNDU1IDExLjcyOTEgMTQuMjExNCAxMC44OTE4IDE1LjE2MjUgMTAuODkxOEMxNi4xMjExIDEwLjg5MTggMTYuODg1IDExLjczNjQgMTYuODcgMTIuNzU3M0MxNi44NyAxMy43ODU1IDE2LjEyMTEgMTQuNjIyNyAxNS4xNjI1IDE0LjYyMjdaXCIsZmlsbDpcIiM1ODY1RjJcIn0pKTt9O3ZhciBEaXNjb3JkSWNvbj1DcmVhdGVJY29uKERpc2NvcmRJY29uU3ZnKTt2YXIgU2xhY2tJY29uU3ZnPWZ1bmN0aW9uIFNsYWNrSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNi43ODE3NiAxNC4zNzQ2QzYuNzgxNzYgMTUuNDE1MyA1LjkzMTYgMTYuMjY1NSA0Ljg5MDg4IDE2LjI2NTVDMy44NTAxNiAxNi4yNjU1IDMgMTUuNDE1MyAzIDE0LjM3NDZDMyAxMy4zMzM5IDMuODUwMTYgMTIuNDgzNyA0Ljg5MDg4IDEyLjQ4MzdINi43ODE3NlYxNC4zNzQ2WlwiLGZpbGw6XCIjRTAxRTVBXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk03LjczNDYyIDE0LjM3NDZDNy43MzQ2MiAxMy4zMzM5IDguNTg0NzggMTIuNDgzNyA5LjYyNTUgMTIuNDgzN0MxMC42NjYyIDEyLjQ4MzcgMTEuNTE2NCAxMy4zMzM5IDExLjUxNjQgMTQuMzc0NlYxOS4xMDkxQzExLjUxNjQgMjAuMTQ5OCAxMC42NjYyIDIxIDkuNjI1NSAyMUM4LjU4NDc4IDIxIDcuNzM0NjIgMjAuMTQ5OCA3LjczNDYyIDE5LjEwOTFWMTQuMzc0NlpcIixmaWxsOlwiI0UwMUU1QVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOS42MjU1IDYuNzgxNzZDOC41ODQ3OCA2Ljc4MTc2IDcuNzM0NjIgNS45MzE2IDcuNzM0NjIgNC44OTA4OEM3LjczNDYyIDMuODUwMTYgOC41ODQ3OCAzIDkuNjI1NSAzQzEwLjY2NjIgMyAxMS41MTY0IDMuODUwMTYgMTEuNTE2NCA0Ljg5MDg4VjYuNzgxNzZIOS42MjU1WlwiLGZpbGw6XCIjMzZDNUYwXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk05LjYyNTQxIDcuNzM0NTNDMTAuNjY2MSA3LjczNDUzIDExLjUxNjMgOC41ODQ2OSAxMS41MTYzIDkuNjI1NDFDMTEuNTE2MyAxMC42NjYxIDEwLjY2NjEgMTEuNTE2MyA5LjYyNTQxIDExLjUxNjNINC44OTA4OEMzLjg1MDE2IDExLjUxNjMgMyAxMC42NjYxIDMgOS42MjU0MUMzIDguNTg0NjkgMy44NTAxNiA3LjczNDUzIDQuODkwODggNy43MzQ1M0g5LjYyNTQxWlwiLGZpbGw6XCIjMzZDNUYwXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNy4yMTgzIDkuNjI1NDFDMTcuMjE4MyA4LjU4NDY5IDE4LjA2ODQgNy43MzQ1MyAxOS4xMDkxIDcuNzM0NTNDMjAuMTQ5OSA3LjczNDUzIDIxIDguNTg0NjkgMjEgOS42MjU0MUMyMSAxMC42NjYxIDIwLjE0OTkgMTEuNTE2MyAxOS4xMDkxIDExLjUxNjNIMTcuMjE4M1Y5LjYyNTQxWlwiLGZpbGw6XCIjMkVCNjdEXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNi4yNjU0IDkuNjI1NDFDMTYuMjY1NCAxMC42NjYxIDE1LjQxNTIgMTEuNTE2MyAxNC4zNzQ1IDExLjUxNjNDMTMuMzMzOCAxMS41MTYzIDEyLjQ4MzYgMTAuNjY2MSAxMi40ODM2IDkuNjI1NDFWNC44OTA4OEMxMi40ODM2IDMuODUwMTYgMTMuMzMzOCAzIDE0LjM3NDUgM0MxNS40MTUyIDMgMTYuMjY1NCAzLjg1MDE2IDE2LjI2NTQgNC44OTA4OFY5LjYyNTQxWlwiLGZpbGw6XCIjMkVCNjdEXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNC4zNzQ1IDE3LjIxODJDMTUuNDE1MiAxNy4yMTgyIDE2LjI2NTQgMTguMDY4NCAxNi4yNjU0IDE5LjEwOTFDMTYuMjY1NCAyMC4xNDk4IDE1LjQxNTIgMjEgMTQuMzc0NSAyMUMxMy4zMzM4IDIxIDEyLjQ4MzYgMjAuMTQ5OCAxMi40ODM2IDE5LjEwOTFWMTcuMjE4MkgxNC4zNzQ1WlwiLGZpbGw6XCIjRUNCMjJFXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNC4zNzQ1IDE2LjI2NTVDMTMuMzMzOCAxNi4yNjU1IDEyLjQ4MzYgMTUuNDE1MyAxMi40ODM2IDE0LjM3NDZDMTIuNDgzNiAxMy4zMzM5IDEzLjMzMzggMTIuNDgzNyAxNC4zNzQ1IDEyLjQ4MzdIMTkuMTA5QzIwLjE0OTggMTIuNDgzNyAyMC45OTk5IDEzLjMzMzkgMjAuOTk5OSAxNC4zNzQ2QzIwLjk5OTkgMTUuNDE1MyAyMC4xNDk4IDE2LjI2NTUgMTkuMTA5IDE2LjI2NTVIMTQuMzc0NVpcIixmaWxsOlwiI0VDQjIyRVwifSkpO307dmFyIFNsYWNrSWNvbj1DcmVhdGVJY29uKFNsYWNrSWNvblN2Zyk7dmFyIEFtYXpvbkljb25Tdmc9ZnVuY3Rpb24gQW1hem9uSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNyAxMS45MjczQzcgMTEuMDkwOSA3LjIwNjA1IDEwLjM3NTggNy42MTgxOCA5Ljc4MTgyQzguMDMwMjkgOS4xODc4NyA4LjU5MzkzIDguNzM5NCA5LjMwOTA5IDguNDM2MzZDOS45NjM2NCA4LjE1NzU4IDEwLjc2OTcgNy45NTc1OCAxMS43MjczIDcuODM2MzZDMTIuMDU0NSA3LjggMTIuNTg3OSA3Ljc1MTUxIDEzLjMyNzMgNy42OTA5MVY3LjM4MTgyQzEzLjMyNzMgNi42MDYwNSAxMy4yNDI0IDYuMDg0ODUgMTMuMDcyNyA1LjgxODE4QzEyLjgxODIgNS40NTQ1NSAxMi40MTgyIDUuMjcyNzMgMTEuODcyNyA1LjI3MjczSDExLjcyNzNDMTEuMzI3MyA1LjMwOTA5IDEwLjk4MTggNS40MzYzNiAxMC42OTA5IDUuNjU0NTVDMTAuNCA1Ljg3MjczIDEwLjIxMjEgNi4xNzU3NiAxMC4xMjczIDYuNTYzNjRDMTAuMDc4OCA2LjgwNjA1IDkuOTU3NTYgNi45NDU0NSA5Ljc2MzY0IDYuOTgxODJMNy42NzI3MyA2LjcyNzI3QzcuNDY2NjUgNi42Nzg3OCA3LjM2MzY0IDYuNTY5NjkgNy4zNjM2NCA2LjRDNy4zNjM2NCA2LjM2MzY0IDcuMzY5NjkgNi4zMjEyMiA3LjM4MTgyIDYuMjcyNzNDNy41ODc4NyA1LjE5Mzk1IDguMDkzOTMgNC4zOTM5NSA4LjkgMy44NzI3M0M5LjcwNjA1IDMuMzUxNTEgMTAuNjQ4NSAzLjA2MDYgMTEuNzI3MyAzSDEyLjE4MThDMTMuNTYzNiAzIDE0LjY0MjQgMy4zNTc1OCAxNS40MTgyIDQuMDcyNzNDMTUuNTM5OSA0LjE5NDQ5IDE1LjY1MjMgNC4zMjUxNiAxNS43NTQ1IDQuNDYzNjRDMTUuODU3NiA0LjYwMzA0IDE1LjkzOTQgNC43MjcyNyAxNiA0LjgzNjM2QzE2LjA2MDYgNC45NDU0NSAxNi4xMTUxIDUuMTAzMDQgMTYuMTYzNiA1LjMwOTA5QzE2LjIxMjEgNS41MTUxNSAxNi4yNDg1IDUuNjU3NTggMTYuMjcyNyA1LjczNjM2QzE2LjI5NyA1LjgxNTE1IDE2LjMxNTEgNS45ODQ4NSAxNi4zMjczIDYuMjQ1NDVDMTYuMzM5NCA2LjUwNjA1IDE2LjM0NTUgNi42NjA2IDE2LjM0NTUgNi43MDkwOVYxMS4xMDkxQzE2LjM0NTUgMTEuNDI0MiAxNi4zOTA5IDExLjcxMjEgMTYuNDgxOCAxMS45NzI3QzE2LjU3MjcgMTIuMjMzMyAxNi42NjA2IDEyLjQyMTIgMTYuNzQ1NSAxMi41MzY0QzE2LjgzMDMgMTIuNjUxNSAxNi45Njk3IDEyLjgzNjQgMTcuMTYzNiAxMy4wOTA5QzE3LjIzNjQgMTMuMiAxNy4yNzI3IDEzLjI5NyAxNy4yNzI3IDEzLjM4MThDMTcuMjcyNyAxMy40Nzg4IDE3LjIyNDIgMTMuNTYzNiAxNy4xMjczIDEzLjYzNjRDMTYuMTIxMiAxNC41MDkxIDE1LjU3NTcgMTQuOTgxOCAxNS40OTA5IDE1LjA1NDVDMTUuMzQ1NSAxNS4xNjM2IDE1LjE2OTcgMTUuMTc1OCAxNC45NjM2IDE1LjA5MDlDMTQuNzkzOSAxNC45NDU1IDE0LjY0NTUgMTQuODA2MSAxNC41MTgyIDE0LjY3MjdDMTQuMzkwOSAxNC41Mzk0IDE0LjMgMTQuNDQyNCAxNC4yNDU1IDE0LjM4MThDMTQuMTkwOSAxNC4zMjEyIDE0LjEwMyAxNC4yMDMgMTMuOTgxOCAxNC4wMjczQzEzLjg2MDYgMTMuODUxNSAxMy43NzU3IDEzLjczMzMgMTMuNzI3MyAxMy42NzI3QzEzLjA0ODUgMTQuNDEyMSAxMi4zODE4IDE0Ljg3MjcgMTEuNzI3MyAxNS4wNTQ1QzExLjMxNTEgMTUuMTc1OCAxMC44MDYxIDE1LjIzNjQgMTAuMiAxNS4yMzY0QzkuMjY2NjUgMTUuMjM2NCA4LjUgMTQuOTQ4NSA3LjkgMTQuMzcyN0M3LjMgMTMuNzk3IDcgMTIuOTgxOCA3IDExLjkyNzNaTTEwLjEyNzMgMTEuNTYzNkMxMC4xMjczIDEyLjAzNjQgMTAuMjQ1NSAxMi40MTUxIDEwLjQ4MTggMTIuN0MxMC43MTgyIDEyLjk4NDkgMTEuMDM2NCAxMy4xMjczIDExLjQzNjQgMTMuMTI3M0MxMS40NzI3IDEzLjEyNzMgMTEuNTI0MiAxMy4xMjEyIDExLjU5MDkgMTMuMTA5MUMxMS42NTc2IDEzLjA5NyAxMS43MDMgMTMuMDkwOSAxMS43MjczIDEzLjA5MDlDMTIuMjM2NCAxMi45NTc2IDEyLjYzMDMgMTIuNjMwMyAxMi45MDkxIDEyLjEwOTFDMTMuMDQyNCAxMS44Nzg4IDEzLjE0MjQgMTEuNjI3MyAxMy4yMDkxIDExLjM1NDVDMTMuMjc1NyAxMS4wODE4IDEzLjMxMjEgMTAuODYwNiAxMy4zMTgyIDEwLjY5MDlDMTMuMzI0MiAxMC41MjEyIDEzLjMyNzMgMTAuMjQyNCAxMy4zMjczIDkuODU0NTVWOS40QzEyLjYyNDIgOS40IDEyLjA5MDkgOS40NDg0OSAxMS43MjczIDkuNTQ1NDVDMTAuNjYwNiA5Ljg0ODQ5IDEwLjEyNzMgMTAuNTIxMiAxMC4xMjczIDExLjU2MzZaXCIsZmlsbDpcImJsYWNrXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0yLjMyNzI3IDE2LjQ0MjRDMi4xOTM5MyAxNi4zNTc2IDIuMDk2OTYgMTYuMzYzNiAyLjAzNjM2IDE2LjQ2MDZDMi4wMTIxMSAxNi40OTcgMiAxNi41MzMzIDIgMTYuNTY5N0MyIDE2LjYzMDMgMi4wMzYzNiAxNi42OTA5IDIuMTA5MDkgMTYuNzUxNUMzLjQ0MjQyIDE3Ljk1MTUgNC45NTE1MSAxOC44ODE4IDYuNjM2MzYgMTkuNTQyNEM4LjMyMTIgMjAuMjAzIDEwLjEwOTEgMjAuNTMzMyAxMiAyMC41MzMzQzEzLjIyNDIgMjAuNTMzMyAxNC40Nzg4IDIwLjM2MzYgMTUuNzYzNiAyMC4wMjQyQzE3LjA0ODUgMTkuNjg0OCAxOC4yMTIxIDE5LjIwNjEgMTkuMjU0NSAxOC41ODc5QzE5LjU5MzkgMTguMzgxOCAxOS44NzI3IDE4LjIgMjAuMDkwOSAxOC4wNDI0QzIwLjI2MDYgMTcuOTIxMiAyMC4yOTM5IDE3Ljc4NzkgMjAuMTkwOSAxNy42NDI0QzIwLjA4NzkgMTcuNDk3IDE5Ljk0NTUgMTcuNDYwNiAxOS43NjM2IDE3LjUzMzNDMTkuNzE1MSAxNy41NTc2IDE5LjYzMzMgMTcuNTkzOSAxOS41MTgyIDE3LjY0MjRDMTkuNDAzIDE3LjY5MDkgMTkuMzE1MSAxNy43MjczIDE5LjI1NDUgMTcuNzUxNUMxNi45Mzk0IDE4LjYzNjQgMTQuNTkzOSAxOS4wNzg4IDEyLjIxODIgMTkuMDc4OEM4LjY1NDU1IDE5LjA3ODggNS4zNTc1NiAxOC4yIDIuMzI3MjcgMTYuNDQyNFpcIixmaWxsOlwiI0ZGOTkwMFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTguMzgxOCAxNi42MjQyQzE4LjMzMzMgMTYuNjcyNyAxOC4yOTcgMTYuNzIxMiAxOC4yNzI3IDE2Ljc2OTdDMTguMjYwNiAxNi43OTM5IDE4LjI1NDUgMTYuODEyMSAxOC4yNTQ1IDE2LjgyNDJDMTguMjQyNCAxNi44NDg1IDE4LjI0ODUgMTYuODcyNyAxOC4yNzI3IDE2Ljg5N0MxOC4yOTcgMTYuOTIxMiAxOC4zNDU1IDE2LjkzMzMgMTguNDE4MiAxNi45MzMzQzE4LjY3MjcgMTYuODk3IDE4Ljk1MTUgMTYuODYwNiAxOS4yNTQ1IDE2LjgyNDJDMTkuNTMzMyAxNi44IDE5Ljc3NTcgMTYuNzg3OSAxOS45ODE4IDE2Ljc4NzlDMjAuNTM5NCAxNi43ODc5IDIwLjg3ODggMTYuODYwNiAyMSAxNy4wMDYxQzIxLjA0ODUgMTcuMDY2NyAyMS4wNzI3IDE3LjE2MzYgMjEuMDcyNyAxNy4yOTdDMjEuMDcyNyAxNy43MDkxIDIwLjg0ODUgMTguNDQyNCAyMC40IDE5LjQ5N0MyMC4zNjM2IDE5LjU5MzkgMjAuMzgxOCAxOS42NjA2IDIwLjQ1NDUgMTkuNjk3QzIwLjQ3ODggMTkuNzA5MSAyMC41MDMgMTkuNzE1MiAyMC41MjczIDE5LjcxNTJDMjAuNTc1NyAxOS43MTUyIDIwLjYzMDMgMTkuNjkwOSAyMC42OTA5IDE5LjY0MjRDMjEuMTAzIDE5LjI5MDkgMjEuNDI0MiAxOC44MjczIDIxLjY1NDUgMTguMjUxNUMyMS44ODQ4IDE3LjY3NTggMjIgMTcuMTc1OCAyMiAxNi43NTE1VjE2LjYyNDJDMjIgMTYuNDc4OCAyMS45NzU3IDE2LjM2OTcgMjEuOTI3MyAxNi4yOTdDMjEuODE4MiAxNi4xNjM2IDIxLjQ5MDkgMTYuMDcyNyAyMC45NDU1IDE2LjAyNDJDMjAuODM2NCAxNiAyMC43MjEyIDE1Ljk5MzkgMjAuNiAxNi4wMDYxQzIwLjE2MzYgMTYuMDE4MiAxOS43MTUxIDE2LjA4NDggMTkuMjU0NSAxNi4yMDYxQzE4Ljk3NTcgMTYuMjc4OCAxOC42ODQ4IDE2LjQxODIgMTguMzgxOCAxNi42MjQyWlwiLGZpbGw6XCIjRkY5OTAwXCJ9KSk7fTt2YXIgQW1hem9uSWNvbj1DcmVhdGVJY29uKEFtYXpvbkljb25TdmcpO3ZhciBCaXRidWNrZXRJY29uU3ZnPWZ1bmN0aW9uIEJpdGJ1Y2tldEljb25TdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt2aWV3Qm94OlwiMCAwIDI4IDI4XCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTYuOTgxNTMgNy4xMjVDNi42ODE4MSA3LjEyNSA2LjQ1NzAyIDcuMzk5NzQgNi41MDY5NyA3LjY3NDQ5TDguNTMwMDkgMjAuMDYyOUM4LjU4MDA0IDIwLjM4NzcgOC44NTQ3OSAyMC42MTI0IDkuMTc5NDggMjAuNjEyNEgxOC45NzA0QzE5LjE5NTIgMjAuNjEyNCAxOS4zOTUgMjAuNDM3NiAxOS40NDQ5IDIwLjIxMjhMMjEuNDkzIDcuNjk5NDdDMjEuNTQzIDcuMzk5NzQgMjEuMzE4MiA3LjE0OTk4IDIxLjAxODUgNy4xNDk5OEw2Ljk4MTUzIDcuMTI1Wk0xNS41NzM2IDE2LjA2NjdIMTIuNDUxNEwxMS42MjcyIDExLjY0NThIMTYuMzQ3OEwxNS41NzM2IDE2LjA2NjdaXCIsZmlsbDpcIiMyNjg0RkZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTIwLjgxODYgMTEuNjQ1OEgxNi4zMjI4TDE1LjU3MzUgMTYuMDY2N0gxMi40NTEzTDguNzc5NzkgMjAuNDM3NkM4Ljc3OTc5IDIwLjQzNzYgOC45NTQ2MiAyMC41ODc1IDkuMjA0MzkgMjAuNTg3NUgxOC45OTUzQzE5LjIyMDEgMjAuNTg3NSAxOS40MTk5IDIwLjQxMjYgMTkuNDY5OCAyMC4xODc4TDIwLjgxODYgMTEuNjQ1OFpcIixmaWxsOlwidXJsKCNwYWludDBfbGluZWFyXzQxNF8yMTg2KVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMiAyVjAuODc1SDAuODc1VjJIMlpNMjYgMkgyNy4xMjVWMC44NzVIMjZWMlpNMjYgMjZWMjcuMTI1SDI3LjEyNVYyNkgyNlpNMiAyNkgwLjg3NVYyNy4xMjVIMlYyNlpNMiAzLjEyNUgyNlYwLjg3NUgyVjMuMTI1Wk0yNC44NzUgMlYyNkgyNy4xMjVWMkgyNC44NzVaTTI2IDI0Ljg3NUgyVjI3LjEyNUgyNlYyNC44NzVaTTMuMTI1IDI2VjJIMC44NzVWMjZIMy4xMjVaXCIsZmlsbDpcIiNFNUU4RUJcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLHtpZDpcInBhaW50MF9saW5lYXJfNDE0XzIxODZcIix4MTpcIjIxLjg3MDNcIix5MTpcIjEyLjg5MTZcIix4MjpcIjE0LjQyXCIseTI6XCIxOC43MDcyXCIsZ3JhZGllbnRVbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLHtvZmZzZXQ6XCIwLjE3NlwiLHN0b3BDb2xvcjpcIiMwMDUyQ0NcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLHtvZmZzZXQ6XCIxXCIsc3RvcENvbG9yOlwiIzI2ODRGRlwifSkpKSk7fTt2YXIgQml0YnVja2V0SWNvbj1DcmVhdGVJY29uKEJpdGJ1Y2tldEljb25TdmcpO3ZhciBMaW5rZWRJbkljb25Tdmc9ZnVuY3Rpb24gTGlua2VkSW5JY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIjAgMCAyNCAyNFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk01IDIxSDE5QzIwLjEwNDYgMjEgMjEgMjAuMTA0NiAyMSAxOVY1QzIxIDMuODk1NDMgMjAuMTA0NiAzIDE5IDNINUMzLjg5NTQzIDMgMyAzLjg5NTQzIDMgNVYxOUMzIDIwLjEwNDYgMy44OTU0MyAyMSA1IDIxWlwiLGZpbGw6XCIjMEE2NkMyXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xOC41IDE4LjVIMTUuODI4OVYxMy45NTA1QzE1LjgyODkgMTIuNzAzMiAxNS4zNTQ5IDEyLjAwNjEgMTQuMzY3NyAxMi4wMDYxQzEzLjI5MzcgMTIuMDA2MSAxMi43MzI1IDEyLjczMTUgMTIuNzMyNSAxMy45NTA1VjE4LjVIMTAuMTU4M1Y5LjgzMzMzSDEyLjczMjVWMTEuMDAwN0MxMi43MzI1IDExLjAwMDcgMTMuNTA2NSA5LjU2ODU1IDE1LjM0NTYgOS41Njg1NUMxNy4xODM5IDkuNTY4NTUgMTguNSAxMC42OTExIDE4LjUgMTMuMDEyOFYxOC41Wk03LjA4NzM0IDguNjk4NUM2LjIxMDUxIDguNjk4NSA1LjUgNy45ODI0MSA1LjUgNy4wOTkyNUM1LjUgNi4yMTYwOSA2LjIxMDUxIDUuNSA3LjA4NzM0IDUuNUM3Ljk2NDE2IDUuNSA4LjY3NDI1IDYuMjE2MDkgOC42NzQyNSA3LjA5OTI1QzguNjc0MjUgNy45ODI0MSA3Ljk2NDE2IDguNjk4NSA3LjA4NzM0IDguNjk4NVpNNS43NTgxNCAxOC41SDguNDQyMzVWOS44MzMzM0g1Ljc1ODE0VjE4LjVaXCIsZmlsbDpcIndoaXRlXCJ9KSk7fTt2YXIgTGlua2VkSW5JY29uPUNyZWF0ZUljb24oTGlua2VkSW5JY29uU3ZnKTt2YXIgQ29pbmJhc2VJY29uU3ZnPWZ1bmN0aW9uIENvaW5iYXNlSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3htbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix4bWxuc1hsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHZlcnNpb246XCIxLjJcIixiYXNlUHJvZmlsZTpcInRpbnlcIix4OlwiMHB4XCIseTpcIjBweFwiLHZpZXdCb3g6XCIwIDAgMTAyNCAxMDI0XCIsb3ZlcmZsb3c6XCJ2aXNpYmxlXCIseG1sU3BhY2U6XCJwcmVzZXJ2ZVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZmlsbDpcIiMwMDUyRkZcIixkOlwiTTUxMiwwTDUxMiwwYzI4Mi44LDAsNTEyLDIyOS4yLDUxMiw1MTJsMCwwYzAsMjgyLjgtMjI5LjIsNTEyLTUxMiw1MTJsMCwwQzIyOS4yLDEwMjQsMCw3OTQuOCwwLDUxMmwwLDAgIEMwLDIyOS4yLDIyOS4yLDAsNTEyLDB6XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZmlsbDpcIiNGRkZGRkZcIixkOlwiTTUxMi4xLDY5MmMtOTkuNCwwLTE4MC04MC41LTE4MC0xODBzODAuNi0xODAsMTgwLTE4MGM4OS4xLDAsMTYzLjEsNjUsMTc3LjMsMTUwaDE4MS4zICBjLTE1LjMtMTg0LjgtMTcwLTMzMC0zNTguNy0zMzBjLTE5OC44LDAtMzYwLDE2MS4yLTM2MCwzNjBzMTYxLjIsMzYwLDM2MCwzNjBjMTg4LjcsMCwzNDMuNC0xNDUuMiwzNTguNy0zMzBINjg5LjMgIEM2NzUsNjI3LDYwMS4yLDY5Miw1MTIuMSw2OTJ6XCJ9KSk7fTt2YXIgQ29pbmJhc2VJY29uPUNyZWF0ZUljb24oQ29pbmJhc2VJY29uU3ZnKTt2YXIgVHdpdGNoSWNvblN2Zz1mdW5jdGlvbiBUd2l0Y2hJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIjAgMCAxOCAyMVwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNi4xMTQxIDkuNzg1NzFMMTMuMjU3IDEyLjY0MjlIMTAuMzk5OEw3Ljg5OTgzIDE1LjE0MjlWMTIuNjQyOUg0LjY4NTU1VjEuOTI4NTdIMTYuMTE0MVY5Ljc4NTcxWlwiLGZpbGw6XCJ3aGl0ZVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMy45NzEzMyAwLjVMMC4zOTk5MDIgNC4wNzE0M1YxNi45Mjg2SDQuNjg1NjJWMjAuNUw4LjI1NzA0IDE2LjkyODZIMTEuMTE0MkwxNy41NDI4IDEwLjVWMC41SDMuOTcxMzNaTTE2LjExNDIgOS43ODU3MUwxMy4yNTcgMTIuNjQyOUgxMC4zOTk5TDcuODk5OSAxNS4xNDI5VjEyLjY0MjlINC42ODU2MlYxLjkyODU3SDE2LjExNDJWOS43ODU3MVpcIixmaWxsOlwiIzkxNDZGRlwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTMuOTcxMyA0LjQyODU3SDEyLjU0MjdWOC43MTQyOEgxMy45NzEzVjQuNDI4NTdaXCIsZmlsbDpcIiM5MTQ2RkZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEwLjA0MjggNC40Mjg1N0g4LjYxNDI2VjguNzE0MjhIMTAuMDQyOFY0LjQyODU3WlwiLGZpbGw6XCIjOTE0NkZGXCJ9KSk7fTt2YXIgVHdpdGNoSWNvbj1DcmVhdGVJY29uKFR3aXRjaEljb25TdmcpO3ZhciBUd2l0dGVySWNvblN2Zz1mdW5jdGlvbiBUd2l0dGVySWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3ZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTkuODk5MSA4LjEzNjI5QzE5LjkxMTIgOC4zMTEyOSAxOS45MTEyIDguNDg2MjkgMTkuOTExMiA4LjY2MjkxQzE5LjkxMTIgMTQuMDQ0NCAxNS44MTQ0IDIwLjI1MDggOC4zMjMzMSAyMC4yNTA4VjIwLjI0NzZDNi4xMTA0IDIwLjI1MDggMy45NDM0NyAxOS42MTY5IDIuMDgwNTcgMTguNDIxOEMyLjQwMjM0IDE4LjQ2MDUgMi43MjU3MyAxOC40Nzk4IDMuMDQ5OTIgMTguNDgwNkM0Ljg4Mzc5IDE4LjQ4MjMgNi42NjUyNCAxNy44NjY5IDguMTA3OTkgMTYuNzMzOUM2LjM2NTI0IDE2LjcwMDggNC44MzcwMiAxNS41NjQ1IDQuMzAzMTUgMTMuOTA1NkM0LjkxMzYzIDE0LjAyMzQgNS41NDI2NiAxMy45OTkyIDYuMTQxODYgMTMuODM1NUM0LjI0MTg2IDEzLjQ1MTYgMi44NzQ5MiAxMS43ODIzIDIuODc0OTIgOS44NDM1NUMyLjg3NDkyIDkuODI1ODEgMi44NzQ5MiA5LjgwODg3IDIuODc0OTIgOS43OTE5NEMzLjQ0MTA1IDEwLjEwNzMgNC4wNzQ5MiAxMC4yODIzIDQuNzIzMzEgMTAuMzAxNkMyLjkzMzc5IDkuMTA1NjUgMi4zODIxOCA2LjcyNSAzLjQ2MjgyIDQuODYzNzFDNS41MzA1NyA3LjQwODA3IDguNTgxMzcgOC45NTQ4NCAxMS44NTY0IDkuMTE4NTVDMTEuNTI4MSA3LjcwNDAzIDExLjk3NjUgNi4yMjE3OCAxMy4wMzQ2IDUuMjI3NDJDMTQuNjc0OSAzLjY4NTQ5IDE3LjI1NDggMy43NjQ1MiAxOC43OTY3IDUuNDA0MDNDMTkuNzA4OCA1LjIyNDIgMjAuNTgzIDQuODg5NTIgMjEuMzgzIDQuNDE1MzJDMjEuMDc5IDUuMzU4MDcgMjAuNDQyNyA2LjE1ODg3IDE5LjU5MjcgNi42Njc3NEMyMC4zOTk5IDYuNTcyNTggMjEuMTg4NiA2LjM1NjQ1IDIxLjkzMTQgNi4wMjY2MUMyMS4zODQ2IDYuODQ1OTcgMjAuNjk1OSA3LjU1OTY4IDE5Ljg5OTEgOC4xMzYyOVpcIixmaWxsOlwiIzFEOUJGMFwifSkpO307dmFyIFR3aXR0ZXJJY29uPUNyZWF0ZUljb24oVHdpdHRlckljb25TdmcpO3ZhciBUaWtUb2tJY29uU3ZnPWZ1bmN0aW9uIFRpa1Rva0ljb25TdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjI0XCIsaGVpZ2h0OlwiMjRcIix2aWV3Qm94OlwiMCAwIDI0IDI0XCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIse2N4OlwiMTJcIixjeTpcIjEyXCIscjpcIjEwXCIsZmlsbDpcImJsYWNrXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNC45NzY3IDEwLjA3NDZDMTUuODY0MSAxMC43MDg3IDE2Ljk1MTMgMTEuMDgxNyAxOC4xMjU1IDExLjA4MTdWOC44MjM0QzE3LjkwMzMgOC44MjM0NCAxNy42ODE2IDguODAwMjggMTcuNDY0MiA4Ljc1NDI1VjEwLjUzMTlDMTYuMjkwMSAxMC41MzE5IDE1LjIwMzEgMTAuMTU4OCAxNC4zMTU0IDkuNTI0ODFWMTQuMTMzNEMxNC4zMTU0IDE2LjQzODkgMTIuNDQ1NSAxOC4zMDc3IDEwLjEzOSAxOC4zMDc3QzkuMjc4MzUgMTguMzA3NyA4LjQ3ODQ1IDE4LjA0NzcgNy44MTM5NiAxNy42MDE3QzguNTcyMzYgMTguMzc2NyA5LjYzIDE4Ljg1NzUgMTAuODAwMSAxOC44NTc1QzEzLjEwNjcgMTguODU3NSAxNC45NzY3IDE2Ljk4ODcgMTQuOTc2NyAxNC42ODMyVjEwLjA3NDZIMTQuOTc2N1pNMTUuNzkyNCA3Ljc5NjIzQzE1LjMzODkgNy4zMDA5OSAxNS4wNDExIDYuNjYwOTkgMTQuOTc2NyA1Ljk1MzQ0VjUuNjYyOTdIMTQuMzVDMTQuNTA3NyA2LjU2MjI2IDE1LjA0NTggNy4zMzA1NyAxNS43OTI0IDcuNzk2MjNaTTkuMjcyODMgMTUuODMyNUM5LjAxOTQ0IDE1LjUwMDUgOC44ODI1IDE1LjA5NDIgOC44ODMxMiAxNC42NzY2QzguODgzMTIgMTMuNjIyMSA5LjczODQgMTIuNzY3MiAxMC43OTM2IDEyLjc2NzJDMTAuOTkwMiAxMi43NjcxIDExLjE4NTcgMTIuNzk3MiAxMS4zNzMxIDEyLjg1NjdWMTAuNTQ3OEMxMS4xNTQxIDEwLjUxNzggMTAuOTMzMSAxMC41MDUxIDEwLjcxMjEgMTAuNTA5OFYxMi4zMDY4QzEwLjUyNDYgMTIuMjQ3NCAxMC4zMjkgMTIuMjE3MiAxMC4xMzIzIDEyLjIxNzRDOS4wNzcxMyAxMi4yMTc0IDguMjIxODkgMTMuMDcyMyA4LjIyMTg5IDE0LjEyNjhDOC4yMjE4OSAxNC44NzI1IDguNjQ5MzkgMTUuNTE4MSA5LjI3MjgzIDE1LjgzMjVaXCIsZmlsbDpcIiNGRjAwNEZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE0LjMxNTMgOS41MjQ3NkMxNS4yMDMgMTAuMTU4OCAxNi4yOSAxMC41MzE4IDE3LjQ2NDEgMTAuNTMxOFY4Ljc1NDJDMTYuODA4NyA4LjYxNDY3IDE2LjIyODUgOC4yNzIzNiAxNS43OTIzIDcuNzk2MjNDMTUuMDQ1NiA3LjMzMDUyIDE0LjUwNzYgNi41NjIyMiAxNC4zNDk5IDUuNjYyOTdIMTIuNzAzOVYxNC42ODMxQzEyLjcwMDEgMTUuNzM0NiAxMS44NDYzIDE2LjU4NjEgMTAuNzkzNCAxNi41ODYxQzEwLjE3MjkgMTYuNTg2MSA5LjYyMTcgMTYuMjkwNSA5LjI3MjU5IDE1LjgzMjVDOC42NDkyIDE1LjUxODEgOC4yMjE3IDE0Ljg3MjUgOC4yMjE3IDE0LjEyNjlDOC4yMjE3IDEzLjA3MjQgOS4wNzY5MyAxMi4yMTc1IDEwLjEzMjEgMTIuMjE3NUMxMC4zMzQzIDEyLjIxNzUgMTAuNTI5MSAxMi4yNDg5IDEwLjcxMTkgMTIuMzA2OVYxMC41MDk4QzguNDQ1OTQgMTAuNTU2NiA2LjYyMzU0IDEyLjQwNzIgNi42MjM1NCAxNC42ODMxQzYuNjIzNTQgMTUuODE5MiA3LjA3NzM2IDE2Ljg0OTIgNy44MTM5MSAxNy42MDE3QzguNDc4MzkgMTguMDQ3NyA5LjI3ODMgMTguMzA3OCAxMC4xMzg5IDE4LjMwNzhDMTIuNDQ1NSAxOC4zMDc4IDE0LjMxNTMgMTYuNDM4OSAxNC4zMTUzIDE0LjEzMzRWOS41MjQ3NkgxNC4zMTUzWlwiLGZpbGw6XCJ3aGl0ZVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTcuNDY0IDguNzU0MlY4LjI3MzU0QzE2Ljg3MyA4LjI3NDQzIDE2LjI5MzYgOC4xMDkwMSAxNS43OTIyIDcuNzk2MThDMTYuMjM2IDguMjgxODggMTYuODIwNSA4LjYxNjc5IDE3LjQ2NCA4Ljc1NDJaTTE0LjM0OTggNS42NjI5N0MxNC4zMzQ3IDUuNTc3MDMgMTQuMzIzMSA1LjQ5MDUyIDE0LjMxNTEgNS40MDM2OFY1LjExMzJIMTIuMDQyNFYxNC4xMzM0QzEyLjAzODggMTUuMTg0OCAxMS4xODUgMTYuMDM2MyAxMC4xMzIgMTYuMDM2M0M5LjgyMjgyIDE2LjAzNjMgOS41MzA5MyAxNS45NjI5IDkuMjcyNDQgMTUuODMyNkM5LjYyMTU0IDE2LjI5MDUgMTAuMTcyOCAxNi41ODYgMTAuNzkzMiAxNi41ODZDMTEuODQ2MSAxNi41ODYgMTIuNyAxNS43MzQ3IDEyLjcwMzcgMTQuNjgzMVY1LjY2Mjk3SDE0LjM0OThaTTEwLjcxMTkgMTAuNTA5OFY5Ljk5ODExQzEwLjUyMiA5Ljk3MjE3IDEwLjMzMDUgOS45NTkxNSAxMC4xMzg4IDkuOTU5MjRDNy44MzIwNiA5Ljk1OTIgNS45NjIxNiAxMS44MjgxIDUuOTYyMTYgMTQuMTMzNEM1Ljk2MjE2IDE1LjU3ODcgNi42OTcwNiAxNi44NTI0IDcuODEzODEgMTcuNjAxNkM3LjA3NzI1IDE2Ljg0OTEgNi42MjM0MyAxNS44MTkxIDYuNjIzNDMgMTQuNjgzMUM2LjYyMzQzIDEyLjQwNzIgOC40NDU3OSAxMC41NTY2IDEwLjcxMTkgMTAuNTA5OFpcIixmaWxsOlwiIzAwRjJFQVwifSkpO307dmFyIFRpa1Rva0ljb249Q3JlYXRlSWNvbihUaWtUb2tJY29uU3ZnKTt2YXIgU25hcGNoYXRJY29uU3ZnPWZ1bmN0aW9uIFNuYXBjaGF0SWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOlwiMjRcIixoZWlnaHQ6XCIyNFwiLHZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTguNTQ5IDE1LjQxODdDMTYuMTI0IDE0LjI0NDggMTUuNzM3NSAxMi40MzIzIDE1LjcyMDMgMTIuMjk3OEMxNS42OTk1IDEyLjEzNSAxNS42NzU5IDEyLjAwNyAxNS44NTU1IDExLjg0MTNDMTYuMDI4OCAxMS42ODEzIDE2Ljc5NzQgMTEuMjA1NSAxNy4wMTA2IDExLjA1NjdDMTcuMzYzMSAxMC44MTAyIDE3LjUxODQgMTAuNTY0MiAxNy40MDM5IDEwLjI2MTdDMTcuMzIzOSAxMC4wNTI0IDE3LjEyOTEgOS45NzM2IDE2LjkyMzggOS45NzM2QzE2Ljg1OTEgOS45NzM4IDE2Ljc5NDUgOS45ODEwNSAxNi43MzEzIDkuOTk1MjFDMTYuMzQ0IDEwLjA3OTIgMTUuOTY3OSAxMC4yNzMzIDE1Ljc1MDMgMTAuMzI1N0MxNS43MjQxIDEwLjMzMjQgMTUuNjk3MyAxMC4zMzYxIDE1LjY3MDMgMTAuMzM2NUMxNS41NTQyIDEwLjMzNjUgMTUuNTEwMiAxMC4yODQ5IDE1LjUyMTQgMTAuMTQ1M0MxNS41NDg2IDkuNzIxOTQgMTUuNjA2MiA4Ljg5NTcxIDE1LjUzOTQgOC4xMjM5MUMxNS40NDc4IDcuMDYyMDIgMTUuMTA1MyA2LjUzNTg4IDE0LjY5OTIgNi4wNzA1NUMxNC41MDI3IDUuODQ0ODkgMTMuNTkwNSA0Ljg3NTQzIDExLjgzIDQuODc1NDNDMTAuMDY5NiA0Ljg3NTQzIDkuMTU4NTEgNS44NDQ4OSA4Ljk2MzI2IDYuMDY3NzVDOC41NTU5NSA2LjUzMzA4IDguMjEzODUgNy4wNTkyMiA4LjEyMzAzIDguMTIxMTFDOC4wNTYyMSA4Ljg5MjkxIDguMTE2MjMgOS43MTg3NCA4LjE0MTA0IDEwLjE0MjVDOC4xNDkwNCAxMC4yNzUzIDguMTA4MjMgMTAuMzMzNyA3Ljk5MjIgMTAuMzMzN0M3Ljk2NTE5IDEwLjMzMzIgNy45MzgzMyAxMC4zMjk2IDcuOTEyMTcgMTAuMzIyOUM3LjY5NDkyIDEwLjI3MDUgNy4zMTg4MSAxMC4wNzY0IDYuOTMxNTEgOS45OTI0MUM2Ljg2ODMzIDkuOTc4MjUgNi44MDM4IDkuOTcxIDYuNzM5MDYgOS45NzA4QzYuNTMzIDkuOTcwOCA2LjMzODk1IDEwLjA1MDggNi4yNTg5MyAxMC4yNTg5QzYuMTQ0NSAxMC41NjE0IDYuMjk4OTQgMTAuODA3NCA2LjY1MjYzIDExLjA1MzlDNi44NjU4OSAxMS4yMDI3IDcuNjM0NSAxMS42NzgxIDcuODA3NzUgMTEuODM4NUM3Ljk4Njk5IDEyLjAwNDIgNy45NjM3OSAxMi4xMzIyIDcuOTQyOTggMTIuMjk1QzcuOTI1NzggMTIuNDMxNSA3LjUzODg3IDE0LjI0NCA1LjExNDIyIDE1LjQxNTlDNC45NzIxOCAxNS40ODQ3IDQuNzMwNTIgMTUuNjMwMyA1LjE1NjYzIDE1Ljg2NTZDNS44MjU2MSAxNi4yMzUzIDYuMjcwOTMgMTYuMTk1NyA2LjYxNzAyIDE2LjQxODVDNi45MTA3IDE2LjYwNzggNi43MzcwNiAxNy4wMTU5IDYuOTUwNzEgMTcuMTYzMUM3LjIxMzE5IDE3LjM0NDQgNy45ODg5OSAxNy4xNTAzIDguOTkxMjYgMTcuNDgxMkM5LjgzMTQ5IDE3Ljc1ODEgMTAuMzQyIDE4LjU0MDMgMTEuODMyIDE4LjU0MDNDMTMuMzIyIDE4LjU0MDMgMTMuODQ3NCAxNy43NTQ1IDE0LjY3MjggMTcuNDgxMkMxNS42NzMxIDE3LjE1MDMgMTYuNDUwNSAxNy4zNDQ0IDE2LjcxMzMgMTcuMTYzMUMxNi45MjY2IDE3LjAxNTkgMTYuNzUzNCAxNi42MDc4IDE3LjA0NyAxNi40MTg1QzE3LjM5MzEgMTYuMTk1NyAxNy44MzggMTYuMjM1MyAxOC41MDc0IDE1Ljg2NTZDMTguOTMyNyAxNS42MzMxIDE4LjY5MTEgMTUuNDg3NSAxOC41NDkgMTUuNDE4N1pcIixmaWxsOlwid2hpdGVcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE5LjYwNCAxNS4yODA2QzE5LjQ5NTIgMTQuOTg0NiAxOS4yODc5IDE0LjgyNjEgMTkuMDUxOSAxNC42OTQ5QzE5LjAwNzUgMTQuNjY4OSAxOC45NjY2IDE0LjY0ODEgMTguOTMxOCAxNC42MzIxQzE4Ljg2MTQgMTQuNTk1NyAxOC43ODk0IDE0LjU2MDQgMTguNzE3OCAxNC41MjMyQzE3Ljk4MiAxNC4xMzMxIDE3LjQwNzQgMTMuNjQxIDE3LjAwODkgMTMuMDU3NkMxNi44OTU3IDEyLjg5MzQgMTYuNzk3NiAxMi43MTkzIDE2LjcxNTYgMTIuNTM3NUMxNi42ODE2IDEyLjQ0MDMgMTYuNjgzMiAxMi4zODUxIDE2LjcwNzYgMTIuMzM0NkMxNi43MzE4IDEyLjI5NTggMTYuNzYzOSAxMi4yNjI0IDE2LjgwMTcgMTIuMjM2NkMxNi45MjgxIDEyLjE1MyAxNy4wNTg1IDEyLjA2ODIgMTcuMTQ3IDEyLjAxMUMxNy4zMDQ2IDExLjkwODkgMTcuNDI5NCAxMS44MjgxIDE3LjUwOTkgMTEuNzcwOUMxNy44MTE5IDExLjU1OTYgMTguMDIzMiAxMS4zMzUyIDE4LjE1NTIgMTEuMDg0M0MxOC4yNDczIDEwLjkxMSAxOC4zMDExIDEwLjcxOTkgMTguMzEyNyAxMC41MjM5QzE4LjMyNDQgMTAuMzI4IDE4LjI5MzcgMTAuMTMxOCAxOC4yMjI4IDkuOTQ4OEMxOC4wMjI4IDkuNDIyMjYgMTcuNTI1NSA5LjA5NTM3IDE2LjkyMjkgOS4wOTUzN0MxNi43OTU4IDkuMDk1MjUgMTYuNjY5IDkuMTA4NjYgMTYuNTQ0OCA5LjEzNTM4QzE2LjUxMTYgOS4xNDI1OCAxNi40Nzg0IDkuMTUwMTkgMTYuNDQ2IDkuMTU4NTlDMTYuNDUxNiA4Ljc5ODQ5IDE2LjQ0MzYgOC40MTgzOSAxNi40MTE2IDguMDQ0MjlDMTYuMjk3OSA2LjcyOTEzIDE1LjgzNzQgNi4wMzk3NSAxNS4zNTczIDUuNDlDMTUuMDQ5OCA1LjE0NTUxIDE0LjY4NzcgNC44NTQwNSAxNC4yODU0IDQuNjI3MzdDMTMuNTU2OCA0LjIxMTI2IDEyLjczMDYgNCAxMS44Mjk5IDRDMTAuOTI5MyA0IDEwLjEwNzEgNC4yMTEyNiA5LjM3NzY2IDQuNjI3MzdDOC45NzQ0IDQuODU0MTIgOC42MTE1MiA1LjE0NjE2IDguMzAzNzcgNS40OTE2QzcuODIzNjQgNi4wNDEzNSA3LjM2MzEyIDYuNzMxOTQgNy4yNDk0OSA4LjA0NTg5QzcuMjE3NDggOC40MTk5OSA3LjIwOTQ4IDguODAyMDkgNy4yMTQ2OCA5LjE2MDE5QzcuMTgyMjcgOS4xNTE3OSA3LjE0OTQ2IDkuMTQ0MTkgNy4xMTYyNSA5LjEzNjk4QzYuOTkyIDkuMTEwMjYgNi44NjUyNSA5LjA5Njg1IDYuNzM4MTUgOS4wOTY5N0M2LjEzNTE5IDkuMDk2OTcgNS42MzcwNSA5LjQyMzg2IDUuNDM3OCA5Ljk1MDRDNS4zNjY1OCAxMC4xMzM1IDUuMzM1NjEgMTAuMzI5OCA1LjM0NyAxMC41MjU5QzUuMzU4MzkgMTAuNzIyMSA1LjQxMTg4IDEwLjkxMzUgNS41MDM4MiAxMS4wODcxQzUuNjM2MjUgMTEuMzM4IDUuODQ3NTEgMTEuNTYyNCA2LjE0OTU5IDExLjc3MzdDNi4yMjk2MSAxMS44Mjk3IDYuMzU0ODUgMTEuOTEwNSA2LjUxMjQ5IDEyLjAxMzhDNi41OTc3MSAxMi4wNjkgNi43MjIxNSAxMi4xNDk4IDYuODQ0MTggMTIuMjMwNkM2Ljg4Njg3IDEyLjI1ODIgNi45MjMxNiAxMi4yOTQ2IDYuOTUwNjEgMTIuMzM3NEM2Ljk3NjIxIDEyLjM4OTkgNi45NzcwMiAxMi40NDYzIDYuOTM5IDEyLjU1MDNDNi44NTgxNiAxMi43MjgzIDYuNzYxNjIgMTIuODk4OCA2LjY1MDUzIDEzLjA1OTZDNi4yNjA4MiAxMy42Mjk4IDUuNzAzMDcgMTQuMTEzMSA0Ljk5MDg4IDE0LjVDNC42MTM1OCAxNC43MDAxIDQuMjIxNDcgMTQuODMzNyA0LjA1NTgzIDE1LjI4MzhDMy45MzA5OSAxNS42MjM1IDQuMDEyNjIgMTYuMDEgNC4zMjk5IDE2LjMzNTdDNC40NDYzNSAxNi40NTczIDQuNTgxNDEgMTYuNTU5NSA0LjczMDAxIDE2LjYzODZDNS4wMzkyMSAxNi44MDg1IDUuMzY4IDE2Ljk0MDEgNS43MDkwNyAxNy4wMzAzQzUuNzc5NDYgMTcuMDQ4NSA1Ljg0NjI4IDE3LjA3ODQgNS45MDY3MyAxNy4xMTg3QzYuMDIyMzYgMTcuMjIgNi4wMDU5NSAxNy4zNzI0IDYuMTU5OTkgMTcuNTk1N0M2LjIzNzMyIDE3LjcxMSA2LjMzNTU3IDE3LjgxMDkgNi40NDk2NyAxNy44OTAxQzYuNzcyOTYgMTguMTEzNCA3LjEzNjI2IDE4LjEyNzQgNy41MjExNiAxOC4xNDIyQzcuODY4ODUgMTguMTU1NCA4LjI2Mjk2IDE4LjE3MDYgOC43MTMwOCAxOC4zMTkxQzguODk5NTMgMTguMzgwNyA5LjA5MzE4IDE4LjQ5OTkgOS4zMTc2NSAxOC42MzkxQzkuODU2NTkgMTguOTcwNCAxMC41OTQ0IDE5LjQyMzggMTEuODI5MSAxOS40MjM4QzEzLjA2MzkgMTkuNDIzOCAxMy44MDY5IDE4Ljk2OCAxNC4zNDk4IDE4LjYzNTVDMTQuNTcyNyAxOC40OTg3IDE0Ljc2NTEgMTguMzgwNyAxNC45NDY0IDE4LjMyMDdDMTUuMzk2NSAxOC4xNzE4IDE1Ljc5MDYgMTguMTU3IDE2LjEzODMgMTguMTQzOEMxNi41MjMyIDE4LjEyOSAxNi44ODY1IDE4LjExNSAxNy4yMDk4IDE3Ljg5MTdDMTcuMzQ0OSAxNy43OTc1IDE3LjQ1NzUgMTcuNjc0NSAxNy41Mzk1IDE3LjUzMTZDMTcuNjUwMyAxNy4zNDMyIDE3LjY0NzUgMTcuMjExNiAxNy43NTE1IDE3LjExOTVDMTcuODA4MiAxNy4wODExIDE3Ljg3MSAxNy4wNTI0IDE3LjkzNzIgMTcuMDM0N0MxOC4yODI5IDE2Ljk0NDIgMTguNjE2MiAxNi44MTE0IDE4LjkyOTQgMTYuNjM5NEMxOS4wODczIDE2LjU1NDcgMTkuMjI5NCAxNi40NDM0IDE5LjM0OTUgMTYuMzEwNUwxOS4zNTM1IDE2LjMwNTdDMTkuNjUxMiAxNS45ODcyIDE5LjcyNiAxNS42MTE5IDE5LjYwNCAxNS4yODA2Wk0xOC41MDY1IDE1Ljg3MDRDMTcuODM3MSAxNi4yNDAxIDE3LjM5MjIgMTYuMjAwNSAxNy4wNDYxIDE2LjQyMzNDMTYuNzUyIDE2LjYxMjYgMTYuOTI2MSAxNy4wMjA3IDE2LjcxMjQgMTcuMTY3OUMxNi40NSAxNy4zNDkyIDE1LjY3NDIgMTcuMTU1MSAxNC42NzE5IDE3LjQ4NkMxMy44NDUzIDE3Ljc1OTMgMTMuMzE3OSAxOC41NDUxIDExLjgzMTEgMTguNTQ1MUMxMC4zNDQzIDE4LjU0NTEgOS44MjkzOCAxNy43NjA5IDguOTg5MTYgMTcuNDg0QzcuOTg4ODkgMTcuMTUzMSA3LjIxMTQ4IDE3LjM0NzIgNi45NDg2MSAxNy4xNjU5QzYuNzM1MzUgMTcuMDE4NyA2LjkwODYgMTYuNjEwNiA2LjYxNDkyIDE2LjQyMTNDNi4yNjg0MiAxNi4xOTg1IDUuODIzNSAxNi4yMzgxIDUuMTU0NTIgMTUuODcwNEM0LjcyODQxIDE1LjYzNTEgNC45NzAwNyAxNS40ODk1IDUuMTEyMTEgMTUuNDIwN0M3LjUzNjc3IDE0LjI0NjggNy45MjM2NyAxMi40MzQzIDcuOTQwODcgMTIuMjk5OEM3Ljk2MTY4IDEyLjEzNyA3Ljk4NDg5IDEyLjAwOSA3LjgwNTY0IDExLjg0MzNDNy42MzIzOSAxMS42ODMzIDYuODYzNzggMTEuMjA3NSA2LjY1MDUzIDExLjA1ODdDNi4yOTc2MyAxMC44MTIyIDYuMTQyMzkgMTAuNTY2MiA2LjI1NjgyIDEwLjI2MzdDNi4zMzY4NCAxMC4wNTQ0IDYuNTMyMSA5Ljk3NTYxIDYuNzM2OTUgOS45NzU2MUM2LjgwMTY5IDkuOTc1ODEgNi44NjYyMyA5Ljk4MzA1IDYuOTI5NCA5Ljk5NzIyQzcuMzE2NzEgMTAuMDgxMiA3LjY5MjgxIDEwLjI3NTMgNy45MTAwNyAxMC4zMjc3QzcuOTM2MjMgMTAuMzM0NCA3Ljk2MzA4IDEwLjMzOCA3Ljk5MDA5IDEwLjMzODVDOC4xMDYxMiAxMC4zMzg1IDguMTQ2OTMgMTAuMjgwMSA4LjEzODkzIDEwLjE0NzNDOC4xMTQxMiA5LjcyMzU0IDguMDU0MTEgOC44OTc3MiA4LjEyMDkyIDguMTI1OTFDOC4yMTI1NSA3LjA2NDAyIDguNTU0NjQgNi41Mzc4OCA4Ljk2MTE1IDYuMDcyNTZDOS4xNTY0IDUuODQ4OSAxMC4wNzM4IDQuODc5NDQgMTEuODI4MyA0Ljg3OTQ0QzEzLjU4MjggNC44Nzk0NCAxNC41MDI2IDUuODQ0OSAxNC42OTc5IDYuMDY3NzZDMTUuMTA0OCA2LjUzMzA4IDE1LjQ0NzMgNy4wNTkyMiAxNS41MzgxIDguMTIxMTFDMTUuNjA0OSA4Ljg5MjkyIDE1LjU0NzMgOS43MTkxNCAxNS41MjAxIDEwLjE0MjVDMTUuNTEwOSAxMC4yODIxIDE1LjU1MjkgMTAuMzMzNyAxNS42NjkgMTAuMzMzN0MxNS42OTYgMTAuMzMzMyAxNS43MjI4IDEwLjMyOTYgMTUuNzQ5IDEwLjMyMjlDMTUuOTY2NiAxMC4yNzA1IDE2LjM0MjcgMTAuMDc2NCAxNi43MyA5Ljk5MjQxQzE2Ljc5MzIgOS45NzgyNSAxNi44NTc3IDkuOTcxMDEgMTYuOTIyNSA5Ljk3MDgxQzE3LjEyODUgOS45NzA4MSAxNy4zMjI2IDEwLjA1MDggMTcuNDAyNiAxMC4yNTg5QzE3LjUxNzEgMTAuNTYxNCAxNy4zNjI2IDEwLjgwNzQgMTcuMDA5MyAxMS4wNTM5QzE2Ljc5NjEgMTEuMjAyNyAxNi4wMjc1IDExLjY3ODEgMTUuODU0MiAxMS44Mzg1QzE1LjY3NDYgMTIuMDA0MiAxNS42OTgyIDEyLjEzMjIgMTUuNzE5IDEyLjI5NUMxNS43MzYyIDEyLjQzMTUgMTYuMTIyNyAxNC4yNDQgMTguNTQ3NyAxNS40MTU5QzE4LjY5MSAxNS40ODc1IDE4LjkzMjYgMTUuNjMzMSAxOC41MDY1IDE1Ljg3MDRaXCIsZmlsbDpcImJsYWNrXCJ9KSk7fTt2YXIgU25hcGNoYXRJY29uPUNyZWF0ZUljb24oU25hcGNoYXRJY29uU3ZnKTt2YXIgRmlnbWFJY29uU3ZnPWZ1bmN0aW9uIEZpZ21hSWNvblN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOlwiMjRcIixoZWlnaHQ6XCIyNFwiLHZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIuMzE1NyAxMkMxMi4zMTU3IDEwLjE1OTEgMTMuNzI5NSA4LjY2NjY1IDE1LjQ3MzYgOC42NjY2NUMxNy4yMTc2IDguNjY2NjUgMTguNjMxNSAxMC4xNTkxIDE4LjYzMTUgMTJDMTguNjMxNSAxMy44NDA5IDE3LjIxNzYgMTUuMzMzMyAxNS40NzM2IDE1LjMzMzNDMTMuNzI5NSAxNS4zMzMzIDEyLjMxNTcgMTMuODQwOSAxMi4zMTU3IDEyWlwiLGZpbGw6XCIjMUFCQ0ZFXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk02IDE4LjY2NjZDNiAxNi44MjU3IDcuNDEzODQgMTUuMzMzMyA5LjE1Nzg5IDE1LjMzMzNIMTIuMzE1OFYxOC42NjY2QzEyLjMxNTggMjAuNTA3NiAxMC45MDIgMjIgOS4xNTc4OSAyMkM3LjQxMzg0IDIyIDYgMjAuNTA3NiA2IDE4LjY2NjZaXCIsZmlsbDpcIiMwQUNGODNcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyLjMxNTcgMlY4LjY2NjY1SDE1LjQ3MzZDMTcuMjE3NiA4LjY2NjY1IDE4LjYzMTUgNy4xNzQyOCAxOC42MzE1IDUuMzMzMzNDMTguNjMxNSAzLjQ5MjM4IDE3LjIxNzYgMiAxNS40NzM2IDJIMTIuMzE1N1pcIixmaWxsOlwiI0ZGNzI2MlwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNiA1LjMzMzMzQzYgNy4xNzQyOCA3LjQxMzg0IDguNjY2NjUgOS4xNTc4OSA4LjY2NjY1SDEyLjMxNThWMkg5LjE1Nzg5QzcuNDEzODQgMiA2IDMuNDkyMzggNiA1LjMzMzMzWlwiLGZpbGw6XCIjRjI0RTFFXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk02IDEyQzYgMTMuODQwOSA3LjQxMzg0IDE1LjMzMzMgOS4xNTc4OSAxNS4zMzMzSDEyLjMxNThWOC42NjY2NUg5LjE1Nzg5QzcuNDEzODQgOC42NjY2NSA2IDEwLjE1OTEgNiAxMlpcIixmaWxsOlwiI0EyNTlGRlwifSkpO307dmFyIEZpZ21hSWNvbj1DcmVhdGVJY29uKEZpZ21hSWNvblN2Zyk7dmFyIFNhbGVzZm9yY2VJY29uU3ZnPWZ1bmN0aW9uIFNhbGVzZm9yY2VJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIjAgMCAyMCAxNFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImdcIix7Y2xpcFBhdGg6XCJ1cmwoI2NsaXAwXzE1NTBfMjE1MSlcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOC4zMjI4IDEuNTI3MzdDOC45Njc4MyAwLjg1NTI5NSA5Ljg2NTgzIDAuNDM4NDU4IDEwLjg1OSAwLjQzODQ1OEMxMi4xNzkyIDAuNDM4NDU4IDEzLjMzMTEgMS4xNzQ2MyAxMy45NDQ1IDIuMjY3NTFDMTQuNDc3NSAyLjAyOTM1IDE1LjA2NzUgMS44OTY4NiAxNS42ODgzIDEuODk2ODZDMTguMDY5NSAxLjg5Njg2IDIwIDMuODQ0MTYgMjAgNi4yNDYxNUMyMCA4LjY0ODQxIDE4LjA2OTUgMTAuNTk1NyAxNS42ODgzIDEwLjU5NTdDMTUuNDAzMSAxMC41OTU5IDE1LjExODYgMTAuNTY3NSAxNC44MzkgMTAuNTExMUMxNC4yOTg5IDExLjQ3NDYgMTMuMjY5NSAxMi4xMjU2IDEyLjA4OCAxMi4xMjU2QzExLjU5MzUgMTIuMTI1NiAxMS4xMjU2IDEyLjAxMTQgMTAuNzA5MSAxMS44MDgyQzEwLjE2MTUgMTMuMDk2MyA4Ljg4NTc3IDEzLjk5OTQgNy4zOTg4NiAxMy45OTk0QzUuODUwNDMgMTMuOTk5NCA0LjUzMDc3IDEzLjAxOTYgNC4wMjQyMiAxMS42NDU2QzMuODAyODYgMTEuNjkyNiAzLjU3MzUxIDExLjcxNzEgMy4zMzgxOCAxMS43MTcxQzEuNDk0NTkgMTEuNzE3MSAwIDEwLjIwNzEgMCA4LjM0NDE2QzAgNy4wOTU3MyAwLjY3MTUxMSA2LjAwNTY4IDEuNjY5MjMgNS40MjI1QzEuNDYzODIgNC45NDk4NyAxLjM0OTU3IDQuNDI4MjEgMS4zNDk1NyAzLjg3OTc2QzEuMzQ5NTcgMS43MzczMiAzLjA4ODg5IDAuMDAwNTc5ODM0IDUuMjM0MTkgMC4wMDA1Nzk4MzRDNi40OTM3MyAwLjAwMDU3OTgzNCA3LjYxMzExIDAuNTk5NDM5IDguMzIyOCAxLjUyNzM3WlwiLGZpbGw6XCIjMDBBMUUwXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0yLjg5Njg1IDcuMjYwMDRDMi44ODQzMiA3LjI5MjgxIDIuOTAxNDIgNy4yOTk2NiAyLjkwNTQgNy4zMDUzNUMyLjk0MyA3LjMzMjY5IDIuOTgxMiA3LjM1MjM3IDMuMDE5NjUgNy4zNzQyOUMzLjIyMzY0IDcuNDgyNTQgMy40MTYyNSA3LjUxNDE2IDMuNjE3NjcgNy41MTQxNkM0LjAyNzkyIDcuNTE0MTYgNC4yODI2MiA3LjI5NTk0IDQuMjgyNjIgNi45NDQ2NVY2LjkzNzgyQzQuMjgyNjIgNi42MTMwMSAzLjk5NTE3IDYuNDk1MDggMy43MjUzNiA2LjQwOTg5TDMuNjkwMzMgNi4zOTg1QzMuNDg2OSA2LjMzMjM5IDMuMzExNDEgNi4yNzU0NCAzLjMxMTQxIDYuMTQxNTJWNi4xMzQ0MkMzLjMxMTQxIDYuMDE5ODggMy40MTM5NyA1LjkzNTU0IDMuNTcyOTUgNS45MzU1NEMzLjc0OTU4IDUuOTM1NTQgMy45NTkyNyA1Ljk5NDI0IDQuMDk0MzEgNi4wNjg4N0M0LjA5NDMxIDYuMDY4ODcgNC4xMzM5MSA2LjA5NDUyIDQuMTQ4NDQgNi4wNTYwNkM0LjE1NjQxIDYuMDM1NTQgNC4yMjQ4IDUuODUxNDkgNC4yMzE5MyA1LjgzMTU1QzQuMjM5NjEgNS44MDk4OSA0LjIyNTk0IDUuNzkzOTMgNC4yMTE5OSA1Ljc4NTM5QzQuMDU3ODUgNS42OTE2NSAzLjg0NDc0IDUuNjI3NTUgMy42MjQyNCA1LjYyNzU1TDMuNTgzMjIgNS42Mjc4M0MzLjIwNzcyIDUuNjI3ODMgMi45NDU2MiA1Ljg1NDYyIDIuOTQ1NjIgNi4xNzk2OFY2LjE4NjUzQzIuOTQ1NjIgNi41MjkyNSAzLjIzNDc5IDYuNjQwMzYgMy41MDU3NCA2LjcxNzg2TDMuNTQ5MzIgNi43MzEyNUMzLjc0Njc2IDYuNzkxOTMgMy45MTY4NSA2Ljg0NDA3IDMuOTE2ODUgNi45ODMxVjYuOTg5OTVDMy45MTY4NSA3LjExNzAyIDMuODA2MzIgNy4yMTE1OSAzLjYyNzk2IDcuMjExNTlDMy41NTg3MyA3LjIxMTU5IDMuMzM3OTMgNy4yMTAxNyAzLjA5OTQ3IDcuMDU5NDRDMy4wNzA2OSA3LjA0MjYyIDMuMDUzODkgNy4wMzAzOSAzLjAzMTY3IDcuMDE3QzMuMDE5OTkgNy4wMDk1OSAyLjk5MDY1IDYuOTk2NzYgMi45Nzc4MyA3LjAzNTUyTDIuODk2ODUgNy4yNjAwNFpNOC45MDI4MiA3LjI2MDA0QzguODkwMjkgNy4yOTI4MSA4LjkwNzM4IDcuMjk5NjYgOC45MTEzNyA3LjMwNTM1QzguOTQ4OTYgNy4zMzI2OSA4Ljk4NzE2IDcuMzUyMzcgOS4wMjU2IDcuMzc0MjlDOS4yMjk1OCA3LjQ4MjU0IDkuNDIyMjIgNy41MTQxNiA5LjYyMzYyIDcuNTE0MTZDMTAuMDMzOSA3LjUxNDE2IDEwLjI4ODYgNy4yOTU5NCAxMC4yODg2IDYuOTQ0NjVWNi45Mzc4MkMxMC4yODg2IDYuNjEzMDEgMTAuMDAxMSA2LjQ5NTA4IDkuNzMxMzEgNi40MDk4OUw5LjY5NjI3IDYuMzk4NUM5LjQ5Mjg1IDYuMzMyMzkgOS4zMTczMyA2LjI3NTQ0IDkuMzE3MzMgNi4xNDE1MlY2LjEzNDQyQzkuMzE3MzMgNi4wMTk4OCA5LjQxOTg5IDUuOTM1NTQgOS41Nzg4NyA1LjkzNTU0QzkuNzU1NTEgNS45MzU1NCA5Ljk2NTIgNS45OTQyNCAxMC4xMDAzIDYuMDY4ODdDMTAuMTAwMyA2LjA2ODg3IDEwLjEzOTkgNi4wOTQ1MiAxMC4xNTQ0IDYuMDU2MDZDMTAuMTYyMyA2LjAzNTU0IDEwLjIzMDcgNS44NTE0OSAxMC4yMzc5IDUuODMxNTVDMTAuMjQ1NiA1LjgwOTg5IDEwLjIzMTkgNS43OTM5MyAxMC4yMTc5IDUuNzg1MzlDMTAuMDYzOCA1LjY5MTY1IDkuODUwNjcgNS42Mjc1NSA5LjYzMDE2IDUuNjI3NTVMOS41ODkxMiA1LjYyNzgzQzkuMjEzNjMgNS42Mjc4MyA4Ljk1MTUzIDUuODU0NjIgOC45NTE1MyA2LjE3OTY4VjYuMTg2NTNDOC45NTE1MyA2LjUyOTI1IDkuMjQwNyA2LjY0MDM2IDkuNTExNjUgNi43MTc4Nkw5LjU1NTIzIDYuNzMxMjVDOS43NTI2NyA2Ljc5MTkzIDkuOTIzMDYgNi44NDQwNyA5LjkyMzA2IDYuOTgzMVY2Ljk4OTk1QzkuOTIzMDYgNy4xMTcwMiA5LjgxMjIzIDcuMjExNTkgOS42MzM4NyA3LjIxMTU5QzkuNTY0NjYgNy4yMTE1OSA5LjM0Mzg2IDcuMjEwMTcgOS4xMDU0IDcuMDU5NDRDOS4wNzY2MSA3LjA0MjYyIDkuMDU5NTMgNy4wMzA5NSA5LjAzNzg5IDcuMDE3QzkuMDMwNDcgNy4wMTIxNSA4Ljk5NTcxIDYuOTk4NzYgOC45ODM3NCA3LjAzNTUyTDguOTAyODIgNy4yNjAwNFpNMTMuMDAyOSA2LjU3MTk1QzEzLjAwMjkgNi43NzA1MyAxMi45NjU5IDYuOTI2OTMgMTIuODkzIDcuMDM3NDhDMTIuODIwOSA3LjE0Njg5IDEyLjcxMTggNy4yMDAxNiAxMi41NTk3IDcuMjAwMTZDMTIuNDA3MiA3LjIwMDE2IDEyLjI5ODcgNy4xNDcxNyAxMi4yMjc3IDcuMDM3NDhDMTIuMTU1OSA2LjkyNzIzIDEyLjExOTUgNi43NzA1MyAxMi4xMTk1IDYuNTcxOTVDMTIuMTE5NSA2LjM3MzY3IDEyLjE1NTkgNi4yMTc1NCAxMi4yMjc3IDYuMTA4MTNDMTIuMjk4NyA1Ljk5OTg4IDEyLjQwNzIgNS45NDcxNyAxMi41NTk3IDUuOTQ3MTdDMTIuNzExOCA1Ljk0NzE3IDEyLjgyMDkgNS45OTk4OCAxMi44OTMzIDYuMTA4MTNDMTIuOTY1OSA2LjIxNzUyIDEzLjAwMjkgNi4zNzM2NSAxMy4wMDI5IDYuNTcxOTVaTTEzLjM0NTQgNi4yMDM4NkMxMy4zMTE4IDYuMDkwMTcgMTMuMjU5NCA1Ljk4OTg5IDEzLjE4OTYgNS45MDY0M0MxMy4xMTk4IDUuODIyNjYgMTMuMDMxNCA1Ljc1NTQ0IDEyLjkyNjYgNS43MDY0M0MxMi44MjIgNS42NTc3MiAxMi42OTg0IDUuNjMyOTMgMTIuNTU5NyA1LjYzMjkzQzEyLjQyMDYgNS42MzI5MyAxMi4yOTcgNS42NTc3MiAxMi4xOTI0IDUuNzA2NDNDMTIuMDg3NiA1Ljc1NTQ0IDExLjk5OTMgNS44MjI2OCAxMS45MjkyIDUuOTA2NDNDMTEuODU5NyA1Ljk5MDE5IDExLjgwNzIgNi4wOTA0NyAxMS43NzMzIDYuMjAzODZDMTEuNzQgNi4zMTY5NiAxMS43MjMyIDYuNDQwNiAxMS43MjMyIDYuNTcxOTVDMTEuNzIzMiA2LjcwMzMgMTEuNzQgNi44MjcyMyAxMS43NzMzIDYuOTQwMDRDMTEuODA3MiA3LjA1MzQzIDExLjg1OTQgNy4xNTM3MyAxMS45Mjk1IDcuMjM3NDhDMTEuOTk5MyA3LjMyMTI0IDEyLjA4NzkgNy4zODgxOSAxMi4xOTI0IDcuNDM1NzZDMTIuMjk3MyA3LjQ4MzM0IDEyLjQyMDYgNy41MDc1NSAxMi41NTk3IDcuNTA3NTVDMTIuNjk4NCA3LjUwNzU1IDEyLjgyMTggNy40ODMzNCAxMi45MjY2IDcuNDM1NzZDMTMuMDMxMiA3LjM4ODE5IDEzLjExOTggNy4zMjEyMiAxMy4xODk2IDcuMjM3NDhDMTMuMjU5NCA3LjE1Mzk5IDEzLjMxMTggNy4wNTM3MSAxMy4zNDU0IDYuOTQwMDRDMTMuMzc5MSA2LjgyNjk1IDEzLjM5NTkgNi43MDMgMTMuMzk1OSA2LjU3MTk1QzEzLjM5NTkgNi40NDA5IDEzLjM3OSA2LjMxNjk2IDEzLjM0NTQgNi4yMDM4NlpNMTYuMTU3NiA3LjE0NzEzQzE2LjE0NjIgNy4xMTM3OSAxNi4xMTQgNy4xMjYzMyAxNi4xMTQgNy4xMjYzM0MxNi4wNjQxIDcuMTQ1NDMgMTYuMDExMSA3LjE2MzA4IDE1Ljk1NDcgNy4xNzE5MUMxNS44OTc0IDcuMTgwNzIgMTUuODM0NSA3LjE4NTMxIDE1Ljc2NjkgNy4xODUzMUMxNS42MDEyIDcuMTg1MzEgMTUuNDY5NSA3LjEzNjAyIDE1LjM3NTIgNy4wMzg1OEMxNS4yODA2IDYuOTQxMTQgMTUuMjI3NiA2Ljc4MzYgMTUuMjI4MiA2LjU3MDQ5QzE1LjIyODggNi4zNzY0OCAxNS4yNzU1IDYuMjMwNTkgMTUuMzU5NiA2LjExOTVDMTUuNDQzIDYuMDA4OTcgMTUuNTcwMSA1Ljk1MjI1IDE1LjczOTYgNS45NTIyNUMxNS44ODA5IDUuOTUyMjUgMTUuOTg4NiA1Ljk2ODQ5IDE2LjEwMTQgNi4wMDQxMUMxNi4xMDE0IDYuMDA0MTEgMTYuMTI4NSA2LjAxNTc4IDE2LjE0MTMgNS45ODA0NkMxNi4xNzEyIDUuODk3MjYgMTYuMTkzNCA1LjgzNzcyIDE2LjIyNTMgNS43NDYyN0MxNi4yMzQ1IDUuNzIwMzQgMTYuMjEyMiA1LjcwOTIzIDE2LjIwNDMgNS43MDYwOUMxNi4xNTk4IDUuNjg4NzEgMTYuMDU1IDUuNjYwNTIgMTUuOTc1OCA1LjY0ODU1QzE1LjkwMTcgNS42MzcxNiAxNS44MTUxIDUuNjMxMTcgMTUuNzE4OCA1LjYzMTE3QzE1LjU3NDkgNS42MzExNyAxNS40NDY3IDUuNjU1NjggMTUuMzM3IDUuNzA0NjlDMTUuMjI3NiA1Ljc1MzM5IDE1LjEzNDcgNS44MjA2MiAxNS4wNjEzIDUuOTA0NDFDMTQuOTg3NyA1Ljk4ODE3IDE0LjkzMTkgNi4wODg0MyAxNC44OTQ2IDYuMjAxODJDMTQuODU3NiA2LjMxNDkyIDE0LjgzODggNi40MzkxNCAxNC44Mzg4IDYuNTcwNDlDMTQuODM4OCA2Ljg1NDU0IDE0LjkxNTQgNy4wODQxNSAxNS4wNjY3IDcuMjUyMjVDMTUuMjE4MiA3LjQyMDkyIDE1LjQ0NTkgNy41MDY2NyAxNS43NDI4IDcuNTA2NjdDMTUuOTE4MyA3LjUwNjY3IDE2LjA5ODMgNy40NzEwNyAxNi4yMjc3IDcuNDIwMDZDMTYuMjI3NyA3LjQyMDA2IDE2LjI1MjQgNy40MDgwOSAxNi4yNDE2IDcuMzc5MzRMMTYuMTU3NiA3LjE0NzEzWk0xNi43NTY3IDYuMzgxNzJDMTYuNzczIDYuMjcxNDcgMTYuODAzNSA2LjE3OTcyIDE2Ljg1MDUgNi4xMDgyM0MxNi45MjE0IDUuOTk5NjggMTcuMDI5NyA1Ljk0MDE0IDE3LjE4MTggNS45NDAxNEMxNy4zMzQgNS45NDAxNCAxNy40MzQ1IDUuOTk5OTYgMTcuNTA2NiA2LjEwODIzQzE3LjU1NDUgNi4xNzk3MiAxNy41NzUzIDYuMjc1NDggMTcuNTgzNSA2LjM4MTcySDE2Ljc1NjdaTTE3LjkwOTcgNi4xMzkyNkMxNy44ODA3IDYuMDI5NTcgMTcuODA4NiA1LjkxODc0IDE3Ljc2MTMgNS44NjgwM0MxNy42ODY2IDUuNzg3NjkgMTcuNjEzNyA1LjczMTU3IDE3LjU0MTQgNS43MDAyMkMxNy40NDY4IDUuNjU5NzYgMTcuMzMzNCA1LjYzMjk5IDE3LjIwOTIgNS42MzI5OUMxNy4wNjQ0IDUuNjMyOTkgMTYuOTMzMSA1LjY1NzIyIDE2LjgyNjUgNS43MDczNUMxNi43MTk3IDUuNzU3NSAxNi42MyA1LjgyNTg5IDE2LjU1OTYgNS45MTEwN0MxNi40ODkyIDUuOTk1OTYgMTYuNDM2MiA2LjA5NzEgMTYuNDAyNiA2LjIxMTkxQzE2LjM2ODcgNi4zMjYxNyAxNi4zNTE2IDYuNDUwNjcgMTYuMzUxNiA2LjU4MTk4QzE2LjM1MTYgNi43MTU2MiAxNi4zNjkzIDYuODQwMTIgMTYuNDA0MyA2Ljk1MjA3QzE2LjQzOTcgNy4wNjQ5MSAxNi40OTYgNy4xNjQzMyAxNi41NzI0IDcuMjQ2NjVDMTYuNjQ4NSA3LjMyOTU3IDE2Ljc0NjUgNy4zOTQ1NCAxNi44NjM5IDcuNDM5OEMxNi45ODA0IDcuNDg0ODMgMTcuMTIyIDcuNTA4MTkgMTcuMjg0NyA3LjUwNzg5QzE3LjYxOTQgNy41MDY3NSAxNy43OTU4IDcuNDMyMTEgMTcuODY4NCA3LjM5MTkzQzE3Ljg4MTMgNy4zODQ4MyAxNy44OTM1IDcuMzcyMjkgMTcuODc4MSA3LjMzNjRMMTcuODAyMyA3LjEyNDEzQzE3Ljc5MDkgNy4wOTI1MSAxNy43NTg3IDcuMTA0MTkgMTcuNzU4NyA3LjEwNDE5QzE3LjY3NTggNy4xMzQ5NiAxNy41NTc5IDcuMTkwMjMgMTcuMjgyOSA3LjE4OTY3QzE3LjEwMzIgNy4xODkzOSAxNi45Njk4IDcuMTM2NCAxNi44ODYzIDcuMDUzNDdDMTYuODAwNiA2Ljk2ODU5IDE2Ljc1ODcgNi44NDM3OCAxNi43NTEzIDYuNjY3NzNMMTcuOTEwNiA2LjY2ODg3QzE3LjkxMDYgNi42Njg4NyAxNy45NDEgNi42NjgzMSAxNy45NDQyIDYuNjM4NjZDMTcuOTQ1MyA2LjYyNjE3IDE3Ljk4NDEgNi40MDA1MiAxNy45MDk3IDYuMTM5MjZaTTcuNDcyNzUgNi4zODE3MkM3LjQ4OTI2IDYuMjcxNDcgNy41MTk0NyA2LjE3OTcyIDcuNTY2NDggNi4xMDgyM0M3LjYzNzQxIDUuOTk5NjggNy43NDU2OCA1Ljk0MDE0IDcuODk3ODEgNS45NDAxNEM4LjA0OTk0IDUuOTQwMTQgOC4xNTA1MyA1Ljk5OTk2IDguMjIyODggNi4xMDgyM0M4LjI3MDQ0IDYuMTc5NzIgOC4yOTEyNSA2LjI3NTQ4IDguMjk5NTEgNi4zODE3Mkg3LjQ3Mjc1Wk04LjYyNTQ0IDYuMTM5MjZDOC41OTYzOSA2LjAyOTU3IDguNTI0NiA1LjkxODc0IDguNDc3MzEgNS44NjgwM0M4LjQwMjY2IDUuNzg3NjkgOC4zMjk3MiA1LjczMTU3IDguMjU3MzcgNS43MDAyMkM4LjE2Mjc4IDUuNjU5NzYgOC4wNDk0IDUuNjMyOTkgNy45MjUxOCA1LjYzMjk5QzcuNzgwNzQgNS42MzI5OSA3LjY0OTEgNS42NTcyMiA3LjU0MjU2IDUuNzA3MzVDNy40MzU3MyA1Ljc1NzUgNy4zNDU5OCA1LjgyNTg5IDcuMjc1NjEgNS45MTEwN0M3LjIwNTI0IDUuOTk1OTYgNy4xNTIyNSA2LjA5NzEgNy4xMTg2MyA2LjIxMTkxQzcuMDg1MDIgNi4zMjYxNyA3LjA2NzY0IDYuNDUwNjcgNy4wNjc2NCA2LjU4MTk4QzcuMDY3NjQgNi43MTU2MiA3LjA4NTMgNi44NDAxMiA3LjEyMDM2IDYuOTUyMDdDNy4xNTU2OSA3LjA2NDkxIDcuMjEyMTEgNy4xNjQzMyA3LjI4ODQ0IDcuMjQ2NjVDNy4zNjQ1MiA3LjMyOTU3IDcuNDYyNTIgNy4zOTQ1NCA3LjU3OTkgNy40Mzk4QzcuNjk2NDMgNy40ODQ4MyA3LjgzODAxIDcuNTA4MTkgOC4wMDA3IDcuNTA3ODlDOC4zMzU0NSA3LjUwNjc1IDguNTExODEgNy40MzIxMSA4LjU4NDQ2IDcuMzkxOTNDOC41OTcyOSA3LjM4NDgzIDguNjA5NTIgNy4zNzIyOSA4LjU5NDE1IDcuMzM2NEw4LjUxODY1IDcuMTI0MTNDOC41MDY5NiA3LjA5MjUxIDguNDc0NzkgNy4xMDQxOSA4LjQ3NDc5IDcuMTA0MTlDOC4zOTE4OSA3LjEzNDk2IDguMjc0MjEgNy4xOTAyMyA3Ljk5ODcxIDcuMTg5NjdDNy44MTkyMyA3LjE4OTM5IDcuNjg1OSA3LjEzNjQgNy42MDI0MiA3LjA1MzQ3QzcuNTE2NjUgNi45Njg1OSA3LjQ3NDc5IDYuODQzNzggNy40NjczNiA2LjY2NzczTDguNjI2NjIgNi42Njg4N0M4LjYyNjYyIDYuNjY4ODcgOC42NTcwOSA2LjY2ODMxIDguNjYwMjMgNi42Mzg2NkM4LjY2MTM0IDYuNjI2MTcgOC43MDAwNyA2LjQwMDUyIDguNjI1NDQgNi4xMzkyNlpNNC45NjcwMiA3LjE0MDc4QzQuOTIxNzIgNy4xMDQ1OSA0LjkxNTQ1IDcuMDk1NDggNC45MDAwNyA3LjA3MjExQzQuODc3MjcgNy4wMzY1IDQuODY1NiA2Ljk4NTc5IDQuODY1NiA2LjkyMTRDNC44NjU2IDYuODE5NCA0Ljg5OTIxIDYuNzQ2MTkgNC45NjkwMiA2LjY5NjlDNC45NjgxOCA2LjY5NzIgNS4wNjg3NCA2LjYxMDAxIDUuMzA1MiA2LjYxMzEzQzUuNDcxMjkgNi42MTU0MiA1LjYxOTcxIDYuNjM5OTIgNS42MTk3MSA2LjYzOTkyVjcuMTY2OTlINS42MkM1LjYyIDcuMTY2OTkgNS40NzI3MSA3LjE5ODYgNS4zMDY5IDcuMjA4NTdDNS4wNzEwMSA3LjIyMjgyIDQuOTY2MTYgNy4xNDA1IDQuOTY3MDIgNy4xNDA3OFpNNS40MjgyNiA2LjMyNjI1QzUuMzgxMjYgNi4zMjI4MiA1LjMyMDI4IDYuMzIwODIgNS4yNDczNCA2LjMyMDgyQzUuMTQ3OTIgNi4zMjA4MiA1LjA1MTkxIDYuMzMzMzUgNC45NjE4OCA2LjM1NzU4QzQuODcxMjkgNi4zODE3OCA0Ljc4OTggNi40MTk3IDQuNzE5NzEgNi40Njk4MUM0LjY0OTczIDYuNTE5NzYgNC41OTIyMSA2LjU4NTE4IDQuNTUxNjMgNi42NjA5OEM0LjUxMDYxIDYuNzM3MzQgNC40ODk4IDYuODI3MzcgNC40ODk4IDYuOTI4MjNDNC40ODk4IDcuMDMwNzkgNC41MDc0NiA3LjExOTk2IDQuNTQyOCA3LjE5MjkxQzQuNTc4MTMgNy4yNjYxMyA0LjYyOTEyIDcuMzI3MDkgNC42OTQwNyA3LjM3NDEyQzQuNzU4NDUgNy40MjExMiA0LjgzNzk1IDcuNDU1NTggNC45MzAyNSA3LjQ3NjM4QzUuMDIxMTQgNy40OTcxOCA1LjEyNDI2IDcuNTA3NzEgNS4yMzcwOSA3LjUwNzcxQzUuMzU1ODkgNy41MDc3MSA1LjQ3NDQxIDcuNDk4MDQgNS41ODkyMiA3LjQ3ODM2QzUuNzAyOSA3LjQ1ODk4IDUuODQyNSA3LjQzMDc3IDUuODgxMjQgNy40MjE5NkM1LjkwODQgNy40MTU0MiA1LjkzNTQ3IDcuNDA4NDggNS45NjI0NCA3LjQwMTE2QzUuOTkxMjMgNy4zOTQwNSA1Ljk4ODk0IDcuMzYzMjYgNS45ODg5NCA3LjM2MzI2TDUuOTg4MzYgNi4zMDMxNkM1Ljk4ODM2IDYuMDcwNjcgNS45MjYyNiA1Ljg5ODMgNS44MDQwNCA1Ljc5MTQ3QzUuNjgyMzggNS42ODQ5MyA1LjUwMzE4IDUuNjMxMDUgNS4yNzE1NyA1LjYzMTA1QzUuMTg0NjYgNS42MzEwNSA1LjA0NDc4IDUuNjQzMDQgNC45NjEwMiA1LjY1OTg0QzQuOTYxMDIgNS42NTk4NCA0LjcwNzc0IDUuNzA4ODUgNC42MDM0NiA1Ljc5MDMzQzQuNjAzNDYgNS43OTAzMyA0LjU4MDY4IDUuODA0NTkgNC41OTMyMSA1LjgzNjVMNC42NzUyNyA2LjA1NzAyQzQuNjg1NTIgNi4wODU1MSA0LjcxMzE3IDYuMDc1ODIgNC43MTMxNyA2LjA3NTgyQzQuNzEzMTcgNi4wNzU4MiA0LjcyMiA2LjA3MjM5IDQuNzMyMjcgNi4wNjY0MUM0Ljk1NTM1IDUuOTQ1MDUgNS4yMzczOSA1Ljk0ODc1IDUuMjM3MzkgNS45NDg3NUM1LjM2Mjc2IDUuOTQ4NzUgNS40NTkwNSA1Ljk3MzgxIDUuNTI0IDYuMDIzNjZDNS41ODcyNCA2LjA3MjA5IDUuNjE5NDMgNi4xNDUzMSA1LjYxOTQzIDYuMjk5NzJWNi4zNDg3M0M1LjUxOTcxIDYuMzM0NSA1LjQyODI2IDYuMzI2MjUgNS40MjgyNiA2LjMyNjI1Wk0xNC43NzgyIDUuNzI4OTNDMTQuNzg3IDUuNzAyNyAxNC43Njg1IDUuNjkwMTcgMTQuNzYwOCA1LjY4NzMzQzE0Ljc0MTIgNS42Nzk2NCAxNC42NDI2IDUuNjU4ODQgMTQuNTY2NSA1LjY1Mzk5QzE0LjQyMDkgNS42NDUxNyAxNC4zNCA1LjY2OTY3IDE0LjI2NzYgNS43MDIxNEMxNC4xOTU5IDUuNzM0NjIgMTQuMTE2MSA1Ljc4NzAzIDE0LjA3MTYgNS44NDY1OVY1LjcwNTU3QzE0LjA3MTYgNS42ODU5MSAxNC4wNTc3IDUuNjcwMjMgMTQuMDM4MyA1LjY3MDIzSDEzLjc0MTFDMTMuNzIxOCA1LjY3MDIzIDEzLjcwNzggNS42ODU4OSAxMy43MDc4IDUuNzA1NTdWNy40MzQ2MkMxMy43MDc4IDcuNDUzOTkgMTMuNzIzOCA3LjQ2OTk1IDEzLjc0MzEgNy40Njk5NUgxNC4wNDc3QzE0LjA1NyA3LjQ2OTkgMTQuMDY2IDcuNDY2MTUgMTQuMDcyNSA3LjQ1OTUyQzE0LjA3OTEgNy40NTI5IDE0LjA4MjggNy40NDM5NCAxNC4wODI3IDcuNDM0NjJWNi41NzA4MUMxNC4wODI3IDYuNDU0ODYgMTQuMDk1NiA2LjMzOTIgMTQuMTIxMiA2LjI2NjU1QzE0LjE0NjMgNi4xOTQ3NCAxNC4xODA1IDYuMTM3MiAxNC4yMjI2IDYuMDk1ODhDMTQuMjY1MSA2LjA1NDg2IDE0LjMxMzIgNi4wMjYwOSAxNC4zNjU5IDYuMDA5ODVDMTQuNDE5OCA1Ljk5MzMxIDE0LjQ3OTMgNS45ODc5MSAxNC41MjE1IDUuOTg3OTFDMTQuNTgyMiA1Ljk4NzkxIDE0LjY0ODggNi4wMDM1NiAxNC42NDg4IDYuMDAzNTZDMTQuNjcxIDYuMDA2MTMgMTQuNjgzNiA1Ljk5MjQ1IDE0LjY5MSA1Ljk3MjIzQzE0LjcxMDkgNS45MTkyNCAxNC43Njc0IDUuNzYwNTQgMTQuNzc4MiA1LjcyODkzWlwiLGZpbGw6XCJ3aGl0ZVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTEuOTE5NSA0LjkyNzU2QzExLjg4MjUgNC45MTYxNyAxMS44NDg5IDQuOTA4NDYgMTEuODA1IDQuOTAwMjJDMTEuNzYwNSA0Ljg5MjI1IDExLjcwNzUgNC44ODgyNCAxMS42NDc0IDQuODg4MjRDMTEuNDM3NyA0Ljg4ODI0IDExLjI3MjUgNC45NDc1IDExLjE1NjYgNS4wNjQzQzExLjA0MTIgNS4xODA1NiAxMC45NjI4IDUuMzU3NDcgMTAuOTIzNSA1LjU5MDI1TDEwLjkwOTIgNS42Njg1OEgxMC42NDZDMTAuNjQ2IDUuNjY4NTggMTAuNjE0MSA1LjY2NzQ0IDEwLjYwNzIgNS43MDIyMkwxMC41NjQyIDUuOTQzNTJDMTAuNTYxMSA1Ljk2NjMyIDEwLjU3MTEgNS45ODA4NCAxMC42MDE4IDUuOTgwODRIMTAuODU4TDEwLjU5ODEgNy40MzE1NUMxMC41Nzc5IDcuNTQ4MzYgMTAuNTU0NSA3LjY0NDM4IDEwLjUyODYgNy43MTcyOUMxMC41MDMyIDcuNzg5MTEgMTAuNDc4NSA3Ljg0Mjk0IDEwLjQ0NzcgNy44ODIyNkMxMC40MTgxIDcuOTE5ODggMTAuMzkwMSA3Ljk0Nzc4IDEwLjM0MTcgNy45NjQwMkMxMC4zMDE4IDcuOTc3NDEgMTAuMjU1NyA3Ljk4MzY4IDEwLjIwNTIgNy45ODM2OEMxMC4xNzczIDcuOTgzNjggMTAuMTQgNy45NzkxIDEwLjExMjQgNy45NzM0MUMxMC4wODUgNy45Njc5OCAxMC4wNzA1IDcuOTYyMDIgMTAuMDQ5NyA3Ljk1MzE3QzEwLjA0OTcgNy45NTMxNyAxMC4wMTk4IDcuOTQxOCAxMC4wMDc4IDcuOTcxNzFDOS45OTgzOSA3Ljk5NjQ5IDkuOTMwMDMgOC4xODQyMiA5LjkyMTc2IDguMjA3MzJDOS45MTM3OSA4LjIzMDM5IDkuOTI1MTggOC4yNDgzNCA5LjkzOTcgOC4yNTM3NUM5Ljk3Mzg5IDguMjY1NzIgOS45OTkyNCA4LjI3MzY5IDEwLjA0NTcgOC4yODQ4QzEwLjExMDEgOC4yOTk5MiAxMC4xNjQ1IDguMzAwNzYgMTAuMjE1NSA4LjMwMDc2QzEwLjMyMiA4LjMwMDc2IDEwLjQxOTUgOC4yODU2NiAxMC41MDAxIDguMjU2NjFDMTAuNTgxIDguMjI3MjYgMTAuNjUxNiA4LjE3NjI1IDEwLjcxNDMgOC4xMDczMkMxMC43ODE5IDguMDMyNjcgMTAuODI0MyA3Ljk1NDYxIDEwLjg2NDggNy44NDc3OEMxMC45MDQ5IDcuNzQyMzYgMTAuOTM5NCA3LjYxMTMxIDEwLjk2NjggNy40NTg2MUwxMS4yMjggNS45ODA4NEgxMS42MDk4QzExLjYwOTggNS45ODA4NCAxMS42NDIgNS45ODE5OCAxMS42NDg1IDUuOTQ2OTRMMTEuNjkxOCA1LjcwNTkyQzExLjY5NDcgNS42ODI4NiAxMS42ODUgNS42Njg2MSAxMS42NTM5IDUuNjY4NjFIMTEuMjgzM0MxMS4yODUzIDUuNjYwMzYgMTEuMzAyMSA1LjUyOTg1IDExLjM0NDUgNS40MDcwOEMxMS4zNjI4IDUuMzU0OTUgMTEuMzk3IDUuMzEyNDkgMTEuNDI1NyA1LjI4MzQyQzExLjQ1NDMgNS4yNTQ5MyAxMS40ODcgNS4yMzQ3MSAxMS41MjI5IDUuMjIzMDJDMTEuNTU5NyA1LjIxMTA1IDExLjYwMTYgNS4yMDUzNiAxMS42NDc0IDUuMjA1MzZDMTEuNjgyMiA1LjIwNTM2IDExLjcxNjYgNS4yMDkzNSAxMS43NDI2IDUuMjE0NzVDMTEuNzc4NSA1LjIyMjQ2IDExLjc5MjQgNS4yMjY0NCAxMS44MDE4IDUuMjI5MzFDMTEuODM5NyA1LjI0MDcgMTEuODQ0OCA1LjIyOTU5IDExLjg1MjMgNS4yMTEzN0wxMS45NDA5IDQuOTY4MDZDMTEuOTUgNC45NDE4IDExLjkyNzUgNC45MzA2OSAxMS45MTk1IDQuOTI3NTZaTTYuNzQwNzQgNy40MzQ2OUM2Ljc0MDc0IDcuNDU0MDcgNi43MjY3OCA3LjQ2OTc1IDYuNzA3NCA3LjQ2OTc1SDYuNEM2LjM4MDYyIDcuNDY5NzUgNi4zNjY5NCA3LjQ1NDA3IDYuMzY2OTQgNy40MzQ2OVY0Ljk2MDYyQzYuMzY2OTQgNC45NDEyNiA2LjM4MDYyIDQuOTI1NTggNi40IDQuOTI1NThINi43MDc0QzYuNzI2NzggNC45MjU1OCA2Ljc0MDc0IDQuOTQxMjYgNi43NDA3NCA0Ljk2MDYyVjcuNDM0NjlaXCIsZmlsbDpcIndoaXRlXCJ9KSkpO307dmFyIFNhbGVzZm9yY2VJY29uPUNyZWF0ZUljb24oU2FsZXNmb3JjZUljb25TdmcpO3ZhciBZYWhvb0xvZ29JY29uU3ZnPWZ1bmN0aW9uIFlhaG9vTG9nb0ljb25TdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJhcmlhLWxhYmVsXCI6XCJZYWhvbyFcIixyb2xlOlwiaW1nXCIsdmlld0JveDpcIjAgMCA1MTIgNTEyXCIsZmlsbDpcIiNmZmZmZmZcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIse3dpZHRoOlwiNTEyXCIsaGVpZ2h0OlwiNTEyXCIscng6XCIxNSVcIixmaWxsOlwiIzVmMDFkMVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJnXCIse2ZpbGw6XCIjZmZmZmZmXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTIwMyA0MDRoLTYybDI1LTU5LTY5LTE2NWg2M2wzNyA5NSAzNy05NWg2Mm01OCA3NmgtNjlsNjItMTQ4aDY5XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLHtjeDpcIjMwM1wiLGN5OlwiMzA4XCIscjpcIjM4XCJ9KSkpO307dmFyIFlhaG9vSWNvbj1DcmVhdGVJY29uKFlhaG9vTG9nb0ljb25TdmcpO3ZhciBPQXV0aEJ1dHRvbnM9ZnVuY3Rpb24gT0F1dGhCdXR0b25zKCl7dmFyIGNvbmZpZz11c2VDb25maWcoKTtpZighY29uZmlnLm9hdXRoT3B0aW9ucylyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KGckNyxudWxsKTt2YXIgX2NvbmZpZyRvYXV0aE9wdGlvbnM9Y29uZmlnLm9hdXRoT3B0aW9ucyxwcm92aWRlcnM9X2NvbmZpZyRvYXV0aE9wdGlvbnMucHJvdmlkZXJzLGxvZ2luUmVkaXJlY3RVUkw9X2NvbmZpZyRvYXV0aE9wdGlvbnMubG9naW5SZWRpcmVjdFVSTCxzaWdudXBSZWRpcmVjdFVSTD1fY29uZmlnJG9hdXRoT3B0aW9ucy5zaWdudXBSZWRpcmVjdFVSTDt2YXIgZ2V0UHJvdmlkZXJJbmZvPWZ1bmN0aW9uIGdldFByb3ZpZGVySW5mbyhwcm92aWRlclR5cGUpe3N3aXRjaChwcm92aWRlclR5cGUpe2Nhc2UgT0F1dGhQcm92aWRlcnMuR29vZ2xlOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonR29vZ2xlJyxpY29uOi8qI19fUFVSRV9fKi95JDQoR29vZ2xlSWNvbixudWxsKX07Y2FzZSBPQXV0aFByb3ZpZGVycy5NaWNyb3NvZnQ6cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidNaWNyb3NvZnQnLGljb246LyojX19QVVJFX18qL3kkNChNaWNyb3NvZnRJY29uLG51bGwpfTtjYXNlIE9BdXRoUHJvdmlkZXJzLkFwcGxlOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonQXBwbGUnLGljb246LyojX19QVVJFX18qL3kkNChBcHBsZUljb24sbnVsbCl9O2Nhc2UgT0F1dGhQcm92aWRlcnMuR2l0aHViOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonR2l0SHViJyxpY29uOi8qI19fUFVSRV9fKi95JDQoR2l0aHViSWNvbixudWxsKX07Y2FzZSBPQXV0aFByb3ZpZGVycy5HaXRMYWI6cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidHaXRMYWInLGljb246LyojX19QVVJFX18qL3kkNChHaXRMYWJJY29uLG51bGwpfTtjYXNlIE9BdXRoUHJvdmlkZXJzLkZhY2Vib29rOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonRmFjZWJvb2snLGljb246LyojX19QVVJFX18qL3kkNChGYWNlYm9va0ljb24sbnVsbCl9O2Nhc2UgT0F1dGhQcm92aWRlcnMuRGlzY29yZDpyZXR1cm57cHJvdmlkZXJUeXBlVGl0bGU6J0Rpc2NvcmQnLGljb246LyojX19QVVJFX18qL3kkNChEaXNjb3JkSWNvbixudWxsKX07Y2FzZSBPQXV0aFByb3ZpZGVycy5TYWxlc2ZvcmNlOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonU2FsZXNmb3JjZScsaWNvbjovKiNfX1BVUkVfXyoveSQ0KFNhbGVzZm9yY2VJY29uLG51bGwpfTtjYXNlIE9BdXRoUHJvdmlkZXJzLlNsYWNrOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonU2xhY2snLGljb246LyojX19QVVJFX18qL3kkNChTbGFja0ljb24sbnVsbCl9O2Nhc2UgT0F1dGhQcm92aWRlcnMuQW1hem9uOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonQW1hem9uJyxpY29uOi8qI19fUFVSRV9fKi95JDQoQW1hem9uSWNvbixudWxsKX07Y2FzZSBPQXV0aFByb3ZpZGVycy5CaXRidWNrZXQ6cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidCaXRidWNrZXQnLGljb246LyojX19QVVJFX18qL3kkNChCaXRidWNrZXRJY29uLG51bGwpfTtjYXNlIE9BdXRoUHJvdmlkZXJzLkxpbmtlZEluOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonTGlua2VkSW4nLGljb246LyojX19QVVJFX18qL3kkNChMaW5rZWRJbkljb24sbnVsbCl9O2Nhc2UgT0F1dGhQcm92aWRlcnMuQ29pbmJhc2U6cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidDb2luYmFzZScsaWNvbjovKiNfX1BVUkVfXyoveSQ0KENvaW5iYXNlSWNvbixudWxsKX07Y2FzZSBPQXV0aFByb3ZpZGVycy5Ud2l0Y2g6cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidUd2l0Y2gnLGljb246LyojX19QVVJFX18qL3kkNChUd2l0Y2hJY29uLG51bGwpfTtjYXNlIE9BdXRoUHJvdmlkZXJzLlR3aXR0ZXI6cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidUd2l0dGVyJyxpY29uOi8qI19fUFVSRV9fKi95JDQoVHdpdHRlckljb24sbnVsbCl9O2Nhc2UgT0F1dGhQcm92aWRlcnMuVGlrVG9rOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonVGlrVG9rJyxpY29uOi8qI19fUFVSRV9fKi95JDQoVGlrVG9rSWNvbixudWxsKX07Y2FzZSBPQXV0aFByb3ZpZGVycy5TbmFwY2hhdDpyZXR1cm57cHJvdmlkZXJUeXBlVGl0bGU6J1NuYXBjaGF0JyxpY29uOi8qI19fUFVSRV9fKi95JDQoU25hcGNoYXRJY29uLG51bGwpfTtjYXNlIE9BdXRoUHJvdmlkZXJzLkZpZ21hOnJldHVybntwcm92aWRlclR5cGVUaXRsZTonRmlnbWEnLGljb246LyojX19QVVJFX18qL3kkNChGaWdtYUljb24sbnVsbCl9O2Nhc2UgT0F1dGhQcm92aWRlcnMuWWFob286cmV0dXJue3Byb3ZpZGVyVHlwZVRpdGxlOidZYWhvbycsaWNvbjovKiNfX1BVUkVfXyoveSQ0KFlhaG9vSWNvbixudWxsKX07ZGVmYXVsdDpyZXR1cm57cHJvdmlkZXJUeXBlVGl0bGU6JycsaWNvbjovKiNfX1BVUkVfXyoveSQ0KGckNyxudWxsKX07fX07cmV0dXJuLyojX19QVVJFX18qL3kkNChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6OCxjbGFzc05hbWU6XCJvYXV0aC1idXR0b25zXCJ9LHByb3ZpZGVycy5tYXAoZnVuY3Rpb24ocHJvdmlkZXIpe3ZhciBfZ2V0UHJvdmlkZXJJbmZvPWdldFByb3ZpZGVySW5mbyhwcm92aWRlci50eXBlKSxpY29uPV9nZXRQcm92aWRlckluZm8uaWNvbixwcm92aWRlclR5cGVUaXRsZT1fZ2V0UHJvdmlkZXJJbmZvLnByb3ZpZGVyVHlwZVRpdGxlO2lmKHByb3ZpZGVyLm9uZV90YXApe3JldHVybi8qI19fUFVSRV9fKi95JDQoR29vZ2xlT25lVGFwLHtwb3NpdGlvbjpwcm92aWRlci5wb3NpdGlvbixrZXk6XCJvYXV0aC1cIi5jb25jYXQocHJvdmlkZXIudHlwZSl9KTt9cmV0dXJuLyojX19QVVJFX18qL3kkNChPQXV0aEJ1dHRvbix7a2V5Olwib2F1dGgtXCIuY29uY2F0KHByb3ZpZGVyLnR5cGUpLHByb3ZpZGVyVHlwZTpwcm92aWRlci50eXBlLGljb246aWNvbixwcm92aWRlclR5cGVUaXRsZTpwcm92aWRlclR5cGVUaXRsZSxjdXN0b21TY29wZXM6cHJvdmlkZXIuY3VzdG9tX3Njb3Blcyxsb2dpblJlZGlyZWN0VXJsOmxvZ2luUmVkaXJlY3RVUkwsc2lnbnVwUmVkaXJlY3RVcmw6c2lnbnVwUmVkaXJlY3RVUkwscHJvdmlkZXJQYXJhbXM6cHJvdmlkZXIucHJvdmlkZXJfcGFyYW1zfSk7fSkpO307dmFyIHVzZUxheW91dEVmZmVjdD1Cb29sZWFuKG51bGw9PT1nbG9iYWxUaGlzfHx2b2lkIDA9PT1nbG9iYWxUaGlzP3ZvaWQgMDpnbG9iYWxUaGlzLmRvY3VtZW50KT95JDM6ZnVuY3Rpb24oKXt9O3ZhciByJDE9Y29tcGF0X21vZHVsZVtcInVzZUlkXCIudG9TdHJpbmcoKV18fGZ1bmN0aW9uKCl7fTt2YXIgbiQzPTA7ZnVuY3Rpb24gdXNlSWQobyl7dmFyIF9oJDExPWgkNShyJDEoKSksX2gkMTI9X3NsaWNlZFRvQXJyYXkyKF9oJDExLDIpLHU9X2gkMTJbMF0saT1faCQxMlsxXTtyZXR1cm4gdXNlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uKCl7aShmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dD90OlN0cmluZyhuJDMrKyk7fSk7fSxbb10pLHU/XCJyYWRpeC1cIi5jb25jYXQodSk6XCJcIjt9ZnVuY3Rpb24gdXNlQ2FsbGJhY2tSZWYocil7dmFyIHQ9XyQxKHIpO3JldHVybiBwJDYoZnVuY3Rpb24oKXt0LmN1cnJlbnQ9cjt9KSxGJDQoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgX3I7dmFyIHI7Zm9yKHZhciBfbGVuNT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KF9sZW41KSxfa2V5NT0wO19rZXk1PF9sZW41O19rZXk1Kyspe2VbX2tleTVdPWFyZ3VtZW50c1tfa2V5NV07fXJldHVybiBudWxsPT09KHI9dC5jdXJyZW50KXx8dm9pZCAwPT09cj92b2lkIDA6KF9yPXIpLmNhbGwuYXBwbHkoX3IsW3RdLmNvbmNhdChlKSk7fTt9LFtdKTt9ZnVuY3Rpb24gdXNlQ29udHJvbGxhYmxlU3RhdGUoX3JlZjU1KXt2YXIgbz1fcmVmNTUucHJvcCxyPV9yZWY1NS5kZWZhdWx0UHJvcCxfcmVmNTUkb25DaGFuZ2U9X3JlZjU1Lm9uQ2hhbmdlLG49X3JlZjU1JG9uQ2hhbmdlPT09dm9pZCAwP2Z1bmN0aW9uKCl7fTpfcmVmNTUkb25DaGFuZ2U7dmFyIF9yZWY1Nj1mdW5jdGlvbihfcmVmNTgpe3ZhciBvPV9yZWY1OC5kZWZhdWx0UHJvcCxyPV9yZWY1OC5vbkNoYW5nZTt2YXIgbj1oJDUobyksX24yPV9zbGljZWRUb0FycmF5MihuLDEpLGE9X24yWzBdLHU9XyQxKGEpLGM9dXNlQ2FsbGJhY2tSZWYocik7cmV0dXJuIHAkNihmdW5jdGlvbigpe3UuY3VycmVudCE9PWEmJihjKGEpLHUuY3VycmVudD1hKTt9LFthLHUsY10pLG47fSh7ZGVmYXVsdFByb3A6cixvbkNoYW5nZTpufSksX3JlZjU3PV9zbGljZWRUb0FycmF5MihfcmVmNTYsMiksYT1fcmVmNTdbMF0sdT1fcmVmNTdbMV0sYz12b2lkIDAhPT1vLGY9Yz9vOmEsbD11c2VDYWxsYmFja1JlZihuKTtyZXR1cm5bZixUJDIoZnVuY3Rpb24oZSl7aWYoYyl7dmFyIF90PWUsX3IyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/X3Qobyk6ZTtfcjIhPT1vJiZsKF9yMik7fWVsc2UgdShlKTt9LFtjLG8sdSxsXSldO31mdW5jdGlvbiBjb21wb3NlUmVmcygpe2Zvcih2YXIgX2xlbjY9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShfbGVuNiksX2tleTY9MDtfa2V5NjxfbGVuNjtfa2V5NisrKXtvW19rZXk2XT1hcmd1bWVudHNbX2tleTZdO31yZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8uZm9yRWFjaChmdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24obyxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28oZSk6bnVsbCE9byYmKG8uY3VycmVudD1lKTt9KG8sZSk7fSk7fTt9ZnVuY3Rpb24gdXNlQ29tcG9zZWRSZWZzKCl7Zm9yKHZhciBfbGVuNz1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KF9sZW43KSxfa2V5Nz0wO19rZXk3PF9sZW43O19rZXk3Kyspe2VbX2tleTddPWFyZ3VtZW50c1tfa2V5N107fXJldHVybiBUJDIoY29tcG9zZVJlZnMuYXBwbHkodm9pZCAwLGUpLGUpO31mdW5jdGlvbiBfZXh0ZW5kcyQxKCl7X2V4dGVuZHMkMT1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKHRhcmdldCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIHNvdXJjZT1hcmd1bWVudHNbaV07Zm9yKHZhciBrZXkgaW4gc291cmNlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLGtleSkpe3RhcmdldFtrZXldPXNvdXJjZVtrZXldO319fXJldHVybiB0YXJnZXQ7fTtyZXR1cm4gX2V4dGVuZHMkMS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXZhciBTbG90PS8qI19fUFVSRV9fKi9OJDEoZnVuY3Rpb24oZSxvKXt2YXIgYT1lLmNoaWxkcmVuLHM9X29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKGUsX2V4Y2x1ZGVkKTtyZXR1cm4gQSQzLnRvQXJyYXkoYSkuc29tZShsJDQpPy8qI19fUFVSRV9fKi95JDQoZyQ3LG51bGwsQSQzLm1hcChhLGZ1bmN0aW9uKGUpe3JldHVybiBsJDQoZSk/LyojX19QVVJFX18qL3kkNChuJDIsX2V4dGVuZHMkMSh7fSxzLHtyZWY6b30pLGUucHJvcHMuY2hpbGRyZW4pOmU7fSkpOi8qI19fUFVSRV9fKi95JDQobiQyLF9leHRlbmRzJDEoe30scyx7cmVmOm99KSxhKTt9KTtTbG90LmRpc3BsYXlOYW1lPVwiU2xvdFwiO3ZhciBuJDI9LyojX19QVVJFX18qL04kMShmdW5jdGlvbihyLG4pe3ZhciBsPXIuY2hpbGRyZW4sYT1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocixfZXhjbHVkZWQyKTtyZXR1cm4vKiNfX1BVUkVfXyovZm4obCk/LyojX19QVVJFX18qL3NuKGwsX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LG8kMShhLGwucHJvcHMpKSx7fSx7cmVmOmNvbXBvc2VSZWZzKG4sbC5yZWYpfSkpOkEkMy5jb3VudChsKT4xP0EkMy5vbmx5KG51bGwpOm51bGw7fSk7biQyLmRpc3BsYXlOYW1lPVwiU2xvdENsb25lXCI7dmFyIFNsb3R0YWJsZT1mdW5jdGlvbiBTbG90dGFibGUoX3JlZjU5KXt2YXIgZT1fcmVmNTkuY2hpbGRyZW47cmV0dXJuLyojX19QVVJFX18qL3kkNChnJDcsbnVsbCxlKTt9O2Z1bmN0aW9uIGwkNChlKXtyZXR1cm4vKiNfX1BVUkVfXyovZm4oZSkmJmUudHlwZT09PVNsb3R0YWJsZTt9ZnVuY3Rpb24gbyQxKGUsdCl7dmFyIHI9X29iamVjdFNwcmVhZCh7fSx0KTt2YXIgX2xvb3A9ZnVuY3Rpb24gX2xvb3AoKXt2YXIgbD1lW19uM10sbz10W19uM107L15vbltBLVpdLy50ZXN0KF9uMyk/cltfbjNdPWZ1bmN0aW9uKCl7bnVsbD09b3x8by5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSxudWxsPT1sfHxsLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpO306XCJzdHlsZVwiPT09X24zP3JbX24zXT1fb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sbCksbyk6XCJjbGFzc05hbWVcIj09PV9uMyYmKHJbX24zXT1bbCxvXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIikpO307Zm9yKHZhciBfbjMgaW4gdCl7X2xvb3AoKTt9cmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSxlKSxyKTt9dmFyIFByaW1pdGl2ZT1bXCJhXCIsXCJidXR0b25cIixcImRpdlwiLFwiaDJcIixcImgzXCIsXCJpbWdcIixcImxpXCIsXCJuYXZcIixcIm9sXCIsXCJwXCIsXCJzcGFuXCIsXCJzdmdcIixcInVsXCJdLnJlZHVjZShmdW5jdGlvbihvLGkpe3JldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sbykse30sX2RlZmluZVByb3BlcnR5KHt9LGksLyojX19QVVJFX18qL04kMShmdW5jdGlvbihvLG0pe3ZhciBhPW8uYXNDaGlsZCxzPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvLF9leGNsdWRlZDMpLG49YT9TbG90Omk7cmV0dXJuIHAkNihmdW5jdGlvbigpe3dpbmRvd1tTeW1ib2xbXCJmb3JcIl0oXCJyYWRpeC11aVwiKV09ITA7fSxbXSksLyojX19QVVJFX18qL3kkNChuLF9leHRlbmRzJDEoe30scyx7cmVmOm19KSk7fSkpKTt9LHt9KTtmdW5jdGlvbiBjcmVhdGVDb250ZXh0U2NvcGUobil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOltdO3ZhciByPVtdO3ZhciBjPWZ1bmN0aW9uIGMoKXt2YXIgdD1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4vKiNfX1BVUkVfXyovRiQ1KHQpO30pO3JldHVybiBmdW5jdGlvbihvKXt2YXIgcj0obnVsbD09bz92b2lkIDA6b1tuXSl8fHQ7cmV0dXJuIEYkNChmdW5jdGlvbigpe3JldHVybiBfZGVmaW5lUHJvcGVydHkoe30sXCJfX3Njb3BlXCIuY29uY2F0KG4pLF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSxvKSx7fSxfZGVmaW5lUHJvcGVydHkoe30sbixyKSkpO30sW28scl0pO307fTtyZXR1cm4gYy5zY29wZU5hbWU9bixbZnVuY3Rpb24odCxvKXt2YXIgYz0vKiNfX1BVUkVfXyovRiQ1KG8pLHU9ci5sZW5ndGg7ZnVuY3Rpb24gcyh0KXt2YXIgbz10LnNjb3BlLHI9dC5jaGlsZHJlbixzPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyh0LF9leGNsdWRlZDQpLGk9KG51bGw9PW8/dm9pZCAwOm9bbl1bdV0pfHxjLGE9RiQ0KGZ1bmN0aW9uKCl7cmV0dXJuIHM7fSxPYmplY3QudmFsdWVzKHMpKTtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KGkuUHJvdmlkZXIse3ZhbHVlOmF9LHIpO31yZXR1cm4gcj1bXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHIpLFtvXSkscy5kaXNwbGF5TmFtZT10K1wiUHJvdmlkZXJcIixbcyxmdW5jdGlvbihyLHMpe3ZhciBpPShudWxsPT1zP3ZvaWQgMDpzW25dW3VdKXx8YyxhPXEkNShpKTtpZihhKXJldHVybiBhO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG87dGhyb3cgbmV3IEVycm9yKFwiYFwiLmNvbmNhdChyLFwiYCBtdXN0IGJlIHVzZWQgd2l0aGluIGBcIikuY29uY2F0KHQsXCJgXCIpKTt9XTt9LHQkMi5hcHBseSh2b2lkIDAsW2NdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobykpKV07fWZ1bmN0aW9uIHQkMigpe2Zvcih2YXIgX2xlbjg9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShfbGVuOCksX2tleTg9MDtfa2V5ODxfbGVuODtfa2V5OCsrKXt0W19rZXk4XT1hcmd1bWVudHNbX2tleThdO312YXIgbj10WzBdO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gbjt2YXIgbz1mdW5jdGlvbiBvKCl7dmFyIG89dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3VzZVNjb3BlOmUoKSxzY29wZU5hbWU6ZS5zY29wZU5hbWV9O30pO3JldHVybiBmdW5jdGlvbih0KXt2YXIgcj1vLnJlZHVjZShmdW5jdGlvbihlLF9yZWY2MSl7dmFyIG49X3JlZjYxLnVzZVNjb3BlLG89X3JlZjYxLnNjb3BlTmFtZTtyZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LGUpLG4odClbXCJfX3Njb3BlXCIuY29uY2F0KG8pXSk7fSx7fSk7cmV0dXJuIEYkNChmdW5jdGlvbigpe3JldHVybiBfZGVmaW5lUHJvcGVydHkoe30sXCJfX3Njb3BlXCIuY29uY2F0KG4uc2NvcGVOYW1lKSxyKTt9LFtyXSk7fTt9O3JldHVybiBvLnNjb3BlTmFtZT1uLnNjb3BlTmFtZSxvO31mdW5jdGlvbiBjcmVhdGVDb2xsZWN0aW9uKGMpe3ZhciBuPWMrXCJDb2xsZWN0aW9uUHJvdmlkZXJcIixfY3JlYXRlQ29udGV4dFNjb3BlPWNyZWF0ZUNvbnRleHRTY29wZShuKSxfY3JlYXRlQ29udGV4dFNjb3BlMj1fc2xpY2VkVG9BcnJheTIoX2NyZWF0ZUNvbnRleHRTY29wZSwyKSxsPV9jcmVhdGVDb250ZXh0U2NvcGUyWzBdLGk9X2NyZWF0ZUNvbnRleHRTY29wZTJbMV0sX2w9bChuLHtjb2xsZWN0aW9uUmVmOntjdXJyZW50Om51bGx9LGl0ZW1NYXA6bmV3IE1hcCgpfSksX2wyPV9zbGljZWRUb0FycmF5MihfbCwyKSxmPV9sMlswXSxhPV9sMlsxXSx1PWZ1bmN0aW9uIHUoZSl7dmFyIHI9ZS5zY29wZSx0PWUuY2hpbGRyZW4sYz13bi51c2VSZWYobnVsbCksbj13bi51c2VSZWYobmV3IE1hcCgpKS5jdXJyZW50O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KGYse3Njb3BlOnIsaXRlbU1hcDpuLGNvbGxlY3Rpb25SZWY6Y30sdCk7fSxtPWMrXCJDb2xsZWN0aW9uU2xvdFwiLHM9LyojX19QVVJFX18qL3duLmZvcndhcmRSZWYoZnVuY3Rpb24odCxjKXt2YXIgbj10LnNjb3BlLGw9dC5jaGlsZHJlbixpPWEobSxuKSxmPXVzZUNvbXBvc2VkUmVmcyhjLGkuY29sbGVjdGlvblJlZik7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU2xvdCx7cmVmOmZ9LGwpO30pLHA9YytcIkNvbGxlY3Rpb25JdGVtU2xvdFwiLGQ9XCJkYXRhLXJhZGl4LWNvbGxlY3Rpb24taXRlbVwiLFI9LyojX19QVVJFX18qL3duLmZvcndhcmRSZWYoZnVuY3Rpb24odCxjKXt2YXIgbj10LnNjb3BlLGw9dC5jaGlsZHJlbixpPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyh0LF9leGNsdWRlZDUpLGY9d24udXNlUmVmKG51bGwpLHU9dXNlQ29tcG9zZWRSZWZzKGMsZiksbT1hKHAsbik7cmV0dXJuIHduLnVzZUVmZmVjdChmdW5jdGlvbigpe3JldHVybiBtLml0ZW1NYXAuc2V0KGYsX29iamVjdFNwcmVhZCh7cmVmOmZ9LGkpKSxmdW5jdGlvbigpe20uaXRlbU1hcFtcImRlbGV0ZVwiXShmKTt9O30pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFNsb3QsX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxkLFwiXCIpLFwicmVmXCIsdSksbCk7fSk7cmV0dXJuW3tQcm92aWRlcjp1LFNsb3Q6cyxJdGVtU2xvdDpSfSxmdW5jdGlvbihlKXt2YXIgcj1hKGMrXCJDb2xsZWN0aW9uQ29uc3VtZXJcIixlKTtyZXR1cm4gd24udXNlQ2FsbGJhY2soZnVuY3Rpb24oKXt2YXIgZT1yLmNvbGxlY3Rpb25SZWYuY3VycmVudDtpZighZSlyZXR1cm5bXTt2YXIgdD1BcnJheS5mcm9tKGUucXVlcnlTZWxlY3RvckFsbChcIltcIi5jb25jYXQoZCxcIl1cIikpKTtyZXR1cm4gQXJyYXkuZnJvbShyLml0ZW1NYXAudmFsdWVzKCkpLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5pbmRleE9mKGUucmVmLmN1cnJlbnQpLXQuaW5kZXhPZihyLnJlZi5jdXJyZW50KTt9KTt9LFtyLmNvbGxlY3Rpb25SZWYsci5pdGVtTWFwXSk7fSxpXTt9ZnVuY3Rpb24gY29tcG9zZUV2ZW50SGFuZGxlcnMoZSxuKXt2YXIgX3JlZjYzPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTp7fSxfcmVmNjMkY2hlY2tGb3JEZWZhdWw9X3JlZjYzLmNoZWNrRm9yRGVmYXVsdFByZXZlbnRlZCx0PV9yZWY2MyRjaGVja0ZvckRlZmF1bD09PXZvaWQgMD8hMDpfcmVmNjMkY2hlY2tGb3JEZWZhdWw7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKG51bGw9PWV8fGUociksITE9PT10fHwhci5kZWZhdWx0UHJldmVudGVkKXJldHVybiBudWxsPT1uP3ZvaWQgMDpuKHIpO307fXZhciBmJDI9e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMH0sX2NyZWF0ZUNvbGxlY3Rpb249Y3JlYXRlQ29sbGVjdGlvbihcIlJvdmluZ0ZvY3VzR3JvdXBcIiksX2NyZWF0ZUNvbGxlY3Rpb24yPV9zbGljZWRUb0FycmF5MihfY3JlYXRlQ29sbGVjdGlvbiwzKSxwJDM9X2NyZWF0ZUNvbGxlY3Rpb24yWzBdLGwkMz1fY3JlYXRlQ29sbGVjdGlvbjJbMV0sbSQzPV9jcmVhdGVDb2xsZWN0aW9uMlsyXSxfY3JlYXRlQ29udGV4dFNjb3BlMz1jcmVhdGVDb250ZXh0U2NvcGUoXCJSb3ZpbmdGb2N1c0dyb3VwXCIsW20kM10pLF9jcmVhdGVDb250ZXh0U2NvcGU0PV9zbGljZWRUb0FycmF5MihfY3JlYXRlQ29udGV4dFNjb3BlMywyKSxkJDI9X2NyZWF0ZUNvbnRleHRTY29wZTRbMF0sdj1fY3JlYXRlQ29udGV4dFNjb3BlNFsxXTt2YXIgX2QkPWQkMihcIlJvdmluZ0ZvY3VzR3JvdXBcIiksX2QkMj1fc2xpY2VkVG9BcnJheTIoX2QkLDIpLGckMT1fZCQyWzBdLEY9X2QkMlsxXTt2YXIgUm92aW5nRm9jdXNHcm91cD0vKiNfX1BVUkVfXyovTiQxKGZ1bmN0aW9uKGUsbyl7cmV0dXJuLyojX19QVVJFX18qL3kkNChwJDMuUHJvdmlkZXIse3Njb3BlOmUuX19zY29wZVJvdmluZ0ZvY3VzR3JvdXB9LC8qI19fUFVSRV9fKi95JDQocCQzLlNsb3Qse3Njb3BlOmUuX19zY29wZVJvdmluZ0ZvY3VzR3JvdXB9LC8qI19fUFVSRV9fKi95JDQodyxfZXh0ZW5kcyQxKHt9LGUse3JlZjpvfSkpKSk7fSk7dmFyIHc9LyojX19QVVJFX18qL04kMShmdW5jdGlvbih0LG4pe3ZhciBjPXQuX19zY29wZVJvdmluZ0ZvY3VzR3JvdXAscD10Lm9yaWVudGF0aW9uLF90JGRpcj10LmRpcixtPV90JGRpcj09PXZvaWQgMD9cImx0clwiOl90JGRpcixfdCRsb29wPXQubG9vcCxkPV90JGxvb3A9PT12b2lkIDA/ITE6X3QkbG9vcCx2PXQuY3VycmVudFRhYlN0b3BJZCxGPXQuZGVmYXVsdEN1cnJlbnRUYWJTdG9wSWQsdz10Lm9uQ3VycmVudFRhYlN0b3BJZENoYW5nZSxiPXQub25FbnRyeUZvY3VzLHg9X29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHQsX2V4Y2x1ZGVkNiksRT1fJDEobnVsbCksST11c2VDb21wb3NlZFJlZnMobixFKSxfdXNlQ29udHJvbGxhYmxlU3RhdGU9dXNlQ29udHJvbGxhYmxlU3RhdGUoe3Byb3A6dixkZWZhdWx0UHJvcDpGLG9uQ2hhbmdlOnd9KSxfdXNlQ29udHJvbGxhYmxlU3RhdGUyPV9zbGljZWRUb0FycmF5MihfdXNlQ29udHJvbGxhYmxlU3RhdGUsMiksX3VzZUNvbnRyb2xsYWJsZVN0YXRlMz1fdXNlQ29udHJvbGxhYmxlU3RhdGUyWzBdLEc9X3VzZUNvbnRyb2xsYWJsZVN0YXRlMz09PXZvaWQgMD9udWxsOl91c2VDb250cm9sbGFibGVTdGF0ZTMsaD1fdXNlQ29udHJvbGxhYmxlU3RhdGUyWzFdLF9oJDEzPWgkNSghMSksX2gkMTQ9X3NsaWNlZFRvQXJyYXkyKF9oJDEzLDIpLFQ9X2gkMTRbMF0sQT1faCQxNFsxXSx5PXVzZUNhbGxiYWNrUmVmKGIpLEQ9bCQzKGMpLFM9XyQxKCExKTtyZXR1cm4gcCQ2KGZ1bmN0aW9uKCl7dmFyIGU9RS5jdXJyZW50O2lmKGUpcmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcihcInJvdmluZ0ZvY3VzR3JvdXAub25FbnRyeUZvY3VzXCIseSksZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicm92aW5nRm9jdXNHcm91cC5vbkVudHJ5Rm9jdXNcIix5KTt9O30sW3ldKSwvKiNfX1BVUkVfXyoveSQ0KGckMSx7c2NvcGU6YyxvcmllbnRhdGlvbjpwLGRpcjptLGxvb3A6ZCxjdXJyZW50VGFiU3RvcElkOkcsb25JdGVtRm9jdXM6VCQyKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUpO30sW2hdKSxvbkl0ZW1TaGlmdFRhYjpUJDIoZnVuY3Rpb24oKXtyZXR1cm4gQSghMCk7fSxbXSl9LC8qI19fUFVSRV9fKi95JDQoUHJpbWl0aXZlLmRpdixfZXh0ZW5kcyQxKHt0YWJJbmRleDpUPy0xOjAsXCJkYXRhLW9yaWVudGF0aW9uXCI6cH0seCx7cmVmOkksc3R5bGU6X29iamVjdFNwcmVhZCh7b3V0bGluZTpcIm5vbmVcIn0sdC5zdHlsZSksb25Nb3VzZURvd246Y29tcG9zZUV2ZW50SGFuZGxlcnModC5vbk1vdXNlRG93bixmdW5jdGlvbigpe1MuY3VycmVudD0hMDt9KSxvbkZvY3VzOmNvbXBvc2VFdmVudEhhbmRsZXJzKHQub25Gb2N1cyxmdW5jdGlvbihlKXt2YXIgbz0hUy5jdXJyZW50O2lmKGUudGFyZ2V0PT09ZS5jdXJyZW50VGFyZ2V0JiZvJiYhVCl7dmFyIF9vPW5ldyBFdmVudChcInJvdmluZ0ZvY3VzR3JvdXAub25FbnRyeUZvY3VzXCIsZiQyKTtpZihlLmN1cnJlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChfbyksIV9vLmRlZmF1bHRQcmV2ZW50ZWQpe3ZhciBfZTM9RCgpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2N1c2FibGU7fSk7UihbX2UzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlO30pLF9lMy5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09Rzt9KV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZTMpKS5maWx0ZXIoQm9vbGVhbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZi5jdXJyZW50O30pKTt9fVMuY3VycmVudD0hMTt9KSxvbkJsdXI6Y29tcG9zZUV2ZW50SGFuZGxlcnModC5vbkJsdXIsZnVuY3Rpb24oKXtyZXR1cm4gQSghMSk7fSl9KSkpO30pO3ZhciBSb3ZpbmdGb2N1c0dyb3VwSXRlbT0vKiNfX1BVUkVfXyovTiQxKGZ1bmN0aW9uKGUsbyl7dmFyIG49ZS5fX3Njb3BlUm92aW5nRm9jdXNHcm91cCxfZSRmb2N1c2FibGU9ZS5mb2N1c2FibGUsaT1fZSRmb2N1c2FibGU9PT12b2lkIDA/ITA6X2UkZm9jdXNhYmxlLF9lJGFjdGl2ZT1lLmFjdGl2ZSxjPV9lJGFjdGl2ZT09PXZvaWQgMD8hMTpfZSRhY3RpdmUsZj1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSxfZXhjbHVkZWQ3KSxtPXVzZUlkKCksZD1GKFwiUm92aW5nRm9jdXNHcm91cEl0ZW1cIixuKSx2PWQuY3VycmVudFRhYlN0b3BJZD09PW0sZz1sJDMobik7cmV0dXJuLyojX19QVVJFX18qL3kkNChwJDMuSXRlbVNsb3Qse3Njb3BlOm4saWQ6bSxmb2N1c2FibGU6aSxhY3RpdmU6Y30sLyojX19QVVJFX18qL3kkNChQcmltaXRpdmUuc3BhbixfZXh0ZW5kcyQxKHt0YWJJbmRleDp2PzA6LTEsXCJkYXRhLW9yaWVudGF0aW9uXCI6ZC5vcmllbnRhdGlvbn0sZix7cmVmOm8sb25Nb3VzZURvd246Y29tcG9zZUV2ZW50SGFuZGxlcnMoZS5vbk1vdXNlRG93bixmdW5jdGlvbihlKXtpP2Qub25JdGVtRm9jdXMobSk6ZS5wcmV2ZW50RGVmYXVsdCgpO30pLG9uRm9jdXM6Y29tcG9zZUV2ZW50SGFuZGxlcnMoZS5vbkZvY3VzLGZ1bmN0aW9uKCl7cmV0dXJuIGQub25JdGVtRm9jdXMobSk7fSksb25LZXlEb3duOmNvbXBvc2VFdmVudEhhbmRsZXJzKGUub25LZXlEb3duLGZ1bmN0aW9uKGUpe2lmKFwiVGFiXCI9PT1lLmtleSYmZS5zaGlmdEtleSlyZXR1cm4gdm9pZCBkLm9uSXRlbVNoaWZ0VGFiKCk7aWYoZS50YXJnZXQhPT1lLmN1cnJlbnRUYXJnZXQpcmV0dXJuO3ZhciBvPWZ1bmN0aW9uKGUsbyxyKXt2YXIgdD1mdW5jdGlvbihlLG8pe3JldHVyblwicnRsXCIhPT1vP2U6XCJBcnJvd0xlZnRcIj09PWU/XCJBcnJvd1JpZ2h0XCI6XCJBcnJvd1JpZ2h0XCI9PT1lP1wiQXJyb3dMZWZ0XCI6ZTt9KGUua2V5LHIpO3JldHVyblwidmVydGljYWxcIj09PW8mJltcIkFycm93TGVmdFwiLFwiQXJyb3dSaWdodFwiXS5pbmNsdWRlcyh0KXx8XCJob3Jpem9udGFsXCI9PT1vJiZbXCJBcnJvd1VwXCIsXCJBcnJvd0Rvd25cIl0uaW5jbHVkZXModCk/dm9pZCAwOmIkMVt0XTt9KGUsZC5vcmllbnRhdGlvbixkLmRpcik7aWYodm9pZCAwIT09byl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBfbjQ9ZygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2N1c2FibGU7fSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZi5jdXJyZW50O30pO2lmKFwibGFzdFwiPT09bylfbjQucmV2ZXJzZSgpO2Vsc2UgaWYoXCJwcmV2XCI9PT1vfHxcIm5leHRcIj09PW8pe1wicHJldlwiPT09byYmX240LnJldmVyc2UoKTt2YXIgX2kzPV9uNC5pbmRleE9mKGUuY3VycmVudFRhcmdldCk7X240PWQubG9vcD8odD1faTMrMSwocj1fbjQpLm1hcChmdW5jdGlvbihlLG8pe3JldHVybiByWyh0K28pJXIubGVuZ3RoXTt9KSk6X240LnNsaWNlKF9pMysxKTt9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBSKF9uNCk7fSk7fXZhciByLHQ7fSl9KSkpO30pO3ZhciBiJDE9e0Fycm93TGVmdDpcInByZXZcIixBcnJvd1VwOlwicHJldlwiLEFycm93UmlnaHQ6XCJuZXh0XCIsQXJyb3dEb3duOlwibmV4dFwiLFBhZ2VVcDpcImZpcnN0XCIsSG9tZTpcImZpcnN0XCIsUGFnZURvd246XCJsYXN0XCIsRW5kOlwibGFzdFwifTtmdW5jdGlvbiBSKGUpe3ZhciBvPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7dmFyIF9pdGVyYXRvcjM9X2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyKGUpLF9zdGVwMzt0cnl7Zm9yKF9pdGVyYXRvcjMucygpOyEoX3N0ZXAzPV9pdGVyYXRvcjMubigpKS5kb25lOyl7dmFyIF9yMz1fc3RlcDMudmFsdWU7aWYoX3IzPT09bylyZXR1cm47aWYoX3IzLmZvY3VzKCksZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PW8pcmV0dXJuO319Y2F0Y2goZXJyKXtfaXRlcmF0b3IzLmUoZXJyKTt9ZmluYWxseXtfaXRlcmF0b3IzLmYoKTt9fXZhciBSb290JDE9Um92aW5nRm9jdXNHcm91cDt2YXIgSXRlbT1Sb3ZpbmdGb2N1c0dyb3VwSXRlbTt2YXIgX2NyZWF0ZUNvbnRleHRTY29wZTU9Y3JlYXRlQ29udGV4dFNjb3BlKFwiVGFic1wiLFt2XSksX2NyZWF0ZUNvbnRleHRTY29wZTY9X3NsaWNlZFRvQXJyYXkyKF9jcmVhdGVDb250ZXh0U2NvcGU1LDIpLGQkMT1fY3JlYXRlQ29udGV4dFNjb3BlNlswXSxsJDI9X2NyZWF0ZUNvbnRleHRTY29wZTZbMV07dmFyIHUkMj12KCksX2QkMz1kJDEoXCJUYWJzXCIpLF9kJDQ9X3NsaWNlZFRvQXJyYXkyKF9kJDMsMiksYj1fZCQ0WzBdLHAkMj1fZCQ0WzFdO3ZhciBUYWJzPS8qI19fUFVSRV9fKi9OJDEoZnVuY3Rpb24odCxvKXt2YXIgbj10Ll9fc2NvcGVUYWJzLGk9dC52YWx1ZSxkPXQub25WYWx1ZUNoYW5nZSxsPXQuZGVmYXVsdFZhbHVlLF90JG9yaWVudGF0aW9uPXQub3JpZW50YXRpb24sdT1fdCRvcmllbnRhdGlvbj09PXZvaWQgMD9cImhvcml6b250YWxcIjpfdCRvcmllbnRhdGlvbixfdCRkaXIyPXQuZGlyLHA9X3QkZGlyMj09PXZvaWQgMD9cImx0clwiOl90JGRpcjIsX3QkYWN0aXZhdGlvbk1vZGU9dC5hY3RpdmF0aW9uTW9kZSxtPV90JGFjdGl2YXRpb25Nb2RlPT09dm9pZCAwP1wiYXV0b21hdGljXCI6X3QkYWN0aXZhdGlvbk1vZGUsZj1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXModCxfZXhjbHVkZWQ4KSxfdXNlQ29udHJvbGxhYmxlU3RhdGU0PXVzZUNvbnRyb2xsYWJsZVN0YXRlKHtwcm9wOmksb25DaGFuZ2U6ZCxkZWZhdWx0UHJvcDpsfSksX3VzZUNvbnRyb2xsYWJsZVN0YXRlNT1fc2xpY2VkVG9BcnJheTIoX3VzZUNvbnRyb2xsYWJsZVN0YXRlNCwyKSx2PV91c2VDb250cm9sbGFibGVTdGF0ZTVbMF0sVD1fdXNlQ29udHJvbGxhYmxlU3RhdGU1WzFdO3JldHVybi8qI19fUFVSRV9fKi95JDQoYix7c2NvcGU6bixiYXNlSWQ6dXNlSWQoKSx2YWx1ZTp2LG9uVmFsdWVDaGFuZ2U6VCxvcmllbnRhdGlvbjp1LGRpcjpwLGFjdGl2YXRpb25Nb2RlOm19LC8qI19fUFVSRV9fKi95JDQoUHJpbWl0aXZlLmRpdixfZXh0ZW5kcyQxKHtcImRhdGEtb3JpZW50YXRpb25cIjp1fSxmLHtyZWY6b30pKSk7fSk7dmFyIFRhYnNMaXN0PS8qI19fUFVSRV9fKi9OJDEoZnVuY3Rpb24oZSxvKXt2YXIgcj1lLl9fc2NvcGVUYWJzLF9lJGxvb3A9ZS5sb29wLG49X2UkbG9vcD09PXZvaWQgMD8hMDpfZSRsb29wLGk9X29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKGUsX2V4Y2x1ZGVkOSksZD1wJDIoXCJUYWJzTGlzdFwiLHIpLGw9dSQyKHIpO3JldHVybi8qI19fUFVSRV9fKi95JDQoUm9vdCQxLF9leHRlbmRzJDEoe2FzQ2hpbGQ6ITB9LGwse29yaWVudGF0aW9uOmQub3JpZW50YXRpb24sZGlyOmQuZGlyLGxvb3A6bn0pLC8qI19fUFVSRV9fKi95JDQoUHJpbWl0aXZlLmRpdixfZXh0ZW5kcyQxKHtyb2xlOlwidGFibGlzdFwiLFwiYXJpYS1vcmllbnRhdGlvblwiOmQub3JpZW50YXRpb24sZGlyOmQuZGlyfSxpLHtyZWY6b30pKSk7fSk7dmFyIFRhYnNUcmlnZ2VyPS8qI19fUFVSRV9fKi9OJDEoZnVuY3Rpb24oZSxvKXt2YXIgcj1lLl9fc2NvcGVUYWJzLG49ZS52YWx1ZSxfZSRkaXNhYmxlZD1lLmRpc2FibGVkLGQ9X2UkZGlzYWJsZWQ9PT12b2lkIDA/ITE6X2UkZGlzYWJsZWQsbD1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSxfZXhjbHVkZWQxMCksYj1wJDIoXCJUYWJzVHJpZ2dlclwiLHIpLHY9dSQyKHIpLFQ9bSQyKGIuYmFzZUlkLG4pLHg9ZiQxKGIuYmFzZUlkLG4pLGc9bj09PWIudmFsdWU7cmV0dXJuLyojX19QVVJFX18qL3kkNChJdGVtLF9leHRlbmRzJDEoe2FzQ2hpbGQ6ITB9LHYse2ZvY3VzYWJsZTohZCxhY3RpdmU6Z30pLC8qI19fUFVSRV9fKi95JDQoUHJpbWl0aXZlLmJ1dHRvbixfZXh0ZW5kcyQxKHt0eXBlOlwiYnV0dG9uXCIscm9sZTpcInRhYlwiLFwiYXJpYS1zZWxlY3RlZFwiOmcsXCJhcmlhLWNvbnRyb2xzXCI6eCxcImRhdGEtc3RhdGVcIjpnP1wiYWN0aXZlXCI6XCJpbmFjdGl2ZVwiLFwiZGF0YS1kaXNhYmxlZFwiOmQ/XCJcIjp2b2lkIDAsZGlzYWJsZWQ6ZCxpZDpUfSxsLHtyZWY6byxvbk1vdXNlRG93bjpjb21wb3NlRXZlbnRIYW5kbGVycyhlLm9uTW91c2VEb3duLGZ1bmN0aW9uKGUpe2R8fDAhPT1lLmJ1dHRvbnx8ITEhPT1lLmN0cmxLZXk/ZS5wcmV2ZW50RGVmYXVsdCgpOmIub25WYWx1ZUNoYW5nZShuKTt9KSxvbktleURvd246Y29tcG9zZUV2ZW50SGFuZGxlcnMoZS5vbktleURvd24sZnVuY3Rpb24oZSl7W1wiIFwiLFwiRW50ZXJcIl0uaW5jbHVkZXMoZS5rZXkpJiZiLm9uVmFsdWVDaGFuZ2Uobik7fSksb25Gb2N1czpjb21wb3NlRXZlbnRIYW5kbGVycyhlLm9uRm9jdXMsZnVuY3Rpb24oKXt2YXIgZT1cIm1hbnVhbFwiIT09Yi5hY3RpdmF0aW9uTW9kZTtnfHxkfHwhZXx8Yi5vblZhbHVlQ2hhbmdlKG4pO30pfSkpKTt9KTt2YXIgVGFic0NvbnRlbnQ9LyojX19QVVJFX18qL04kMShmdW5jdGlvbihlLHQpe3ZhciBvPWUuX19zY29wZVRhYnMscj1lLnZhbHVlLG49ZS5jaGlsZHJlbixpPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyhlLF9leGNsdWRlZDExKSxkPXAkMihcIlRhYnNDb250ZW50XCIsbyksbD1tJDIoZC5iYXNlSWQsciksdT1mJDEoZC5iYXNlSWQsciksYj1yPT09ZC52YWx1ZTtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KFByaW1pdGl2ZS5kaXYsX2V4dGVuZHMkMSh7XCJkYXRhLXN0YXRlXCI6Yj9cImFjdGl2ZVwiOlwiaW5hY3RpdmVcIixcImRhdGEtb3JpZW50YXRpb25cIjpkLm9yaWVudGF0aW9uLHJvbGU6XCJ0YWJwYW5lbFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6bCxoaWRkZW46IWIsaWQ6dSx0YWJJbmRleDowfSxpLHtyZWY6dH0pLGImJm4pO30pO2Z1bmN0aW9uIG0kMihlLHQpe3JldHVyblwiXCIuY29uY2F0KGUsXCItdHJpZ2dlci1cIikuY29uY2F0KHQpO31mdW5jdGlvbiBmJDEoZSx0KXtyZXR1cm5cIlwiLmNvbmNhdChlLFwiLWNvbnRlbnQtXCIpLmNvbmNhdCh0KTt9dmFyIFJvb3Q9VGFiczt2YXIgTGlzdD1UYWJzTGlzdDt2YXIgVHJpZ2dlcj1UYWJzVHJpZ2dlcjt2YXIgQ29udGVudD1UYWJzQ29udGVudDt2YXIgU2VsZWN0PUhlLnNlbGVjdChfdGVtcGxhdGVPYmplY3QxOHx8KF90ZW1wbGF0ZU9iamVjdDE4PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIFwiLFwiO1xcbiAgYm9yZGVyLXJhZGl1czogXCIsXCI7XFxuICBoZWlnaHQ6IDQ3cHg7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgcGFkZGluZzogMCA4cHg7XFxuICBjb2xvcjogXCIsXCI7XFxuICBmb250LWZhbWlseTogXCIsXCI7XFxuICB3aWR0aDogODBweDtcXG4gIGZvbnQtc2l6ZTogMThweDtcXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5iYWNrZ3JvdW5kQ29sb3I7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5ib3JkZXJDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJvcmRlclJhZGl1czt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLnRleHRDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5O30pO3ZhciBDb3VudHJ5U2VsZWN0b3I9ZnVuY3Rpb24gQ291bnRyeVNlbGVjdG9yKF9yZWY2MCl7dmFyIGNvdW50cnk9X3JlZjYwLmNvdW50cnksc2V0Q291bnRyeT1fcmVmNjAuc2V0Q291bnRyeTt2YXIgY291bnRyeUZvcm1hdHRlcj1uZXcgSW50bC5EaXNwbGF5TmFtZXMoWydlbiddLHt0eXBlOidyZWdpb24nfSk7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU2VsZWN0LHtcImRhdGEtdGVzdGlkXCI6XCJzZWxlY3QtdGVzdC1pZFwiLG5hbWU6XCJjb3VudHJ5LXNlbGVjdFwiLHZhbHVlOmNvdW50cnksb25DaGFuZ2U6ZnVuY3Rpb24gb25DaGFuZ2UoZSl7c2V0Q291bnRyeShlLnRhcmdldC52YWx1ZSk7fX0sT2JqZWN0LmVudHJpZXMoQ09VTlRSSUVTX0xJU1QpLm1hcChmdW5jdGlvbihfcmVmNjIpe3ZhciBfcmVmNjQ9X3NsaWNlZFRvQXJyYXkyKF9yZWY2MiwyKSxjb3VudHJ5Q29kZT1fcmVmNjRbMF0sY291bnRyeU51bWJlcj1fcmVmNjRbMV07cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIix7a2V5OmNvdW50cnlDb2RlLHZhbHVlOmNvdW50cnlDb2RlfSxjb3VudHJ5Q29kZSE9PWNvdW50cnk/XCIrXCIuY29uY2F0KGNvdW50cnlOdW1iZXIsXCIgXCIpLmNvbmNhdChjb3VudHJ5Rm9ybWF0dGVyLm9mKGNvdW50cnlDb2RlKSk6XCIrXCIuY29uY2F0KGNvdW50cnlOdW1iZXIpKTt9KSk7fTt2YXIgSW5wdXQ9SGUuaW5wdXQoX3RlbXBsYXRlT2JqZWN0MTl8fChfdGVtcGxhdGVPYmplY3QxOT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICBoZWlnaHQ6IDQ3cHg7XFxuICBwYWRkaW5nOiAwIDhweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCBcIixcIjtcXG4gIGJvcmRlci1yYWRpdXM6IFwiLFwiO1xcbiAgY29sb3I6IFwiLFwiO1xcbiAgZm9udC1mYW1pbHk6IFwiLFwiO1xcbiAgZm9udC1zaXplOiAxOHB4O1xcbiAgJjo6cGxhY2Vob2xkZXIge1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICB9XFxuXFxuICAmOmRpc2FibGVkIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgXCIsXCI7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICB9XFxuXCJdKSksZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5pbnB1dHMuYmFja2dyb3VuZENvbG9yO30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5pbnB1dHMuYm9yZGVyQ29sb3I7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5ib3JkZXJSYWRpdXM7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy50ZXh0Q29sb3I7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLnR5cG9ncmFwaHkuZm9udEZhbWlseTt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLnBsYWNlaG9sZGVyQ29sb3I7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5kaXNhYmxlZFRleHQ7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5kaXNhYmxlZFRleHQ7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5kaXNhYmxlZDt9KTt2YXIgUGhvbmVTdHlsZWRJbnB1dD1IZShJbnB1dCkoX3RlbXBsYXRlT2JqZWN0MjB8fChfdGVtcGxhdGVPYmplY3QyMD1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgZmxleC1ncm93OiAxO1xcbiAgbWluLXdpZHRoOiAxMDBweDtcXG5cIl0pKSk7dmFyIFBob25lSW5wdXQ9ZnVuY3Rpb24gUGhvbmVJbnB1dChfcmVmNjUpe3ZhciBwaG9uZT1fcmVmNjUucGhvbmUsc2V0UGhvbmU9X3JlZjY1LnNldFBob25lLGNvdW50cnk9X3JlZjY1LmNvdW50cnksc2V0Q291bnRyeT1fcmVmNjUuc2V0Q291bnRyeSxwYXJzZVBob25lTnVtYmVyPV9yZWY2NS5wYXJzZVBob25lTnVtYmVyLGhhc1Bhc3NrZXlzPV9yZWY2NS5oYXNQYXNza2V5cztyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJyb3dcIix3cmFwOlwibm93cmFwXCIsanVzdGlmeUNvbnRlbnQ6XCJmbGV4LXN0YXJ0XCIsYWxpZ25Db250ZW50Olwic3RyZXRjaFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixnYXA6OH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ291bnRyeVNlbGVjdG9yLHtjb3VudHJ5OmNvdW50cnksc2V0Q291bnRyeTpzZXRDb3VudHJ5fSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGhvbmVTdHlsZWRJbnB1dCxPYmplY3QuYXNzaWduKHtwbGFjZWhvbGRlcjpcIigxMjMpIDQ1Ni03ODkwXCIsbmFtZTpoYXNQYXNza2V5cz8nZW1haWwnOidwaG9uZU51bWJlcicsaWQ6XCJwaG9uZS1pbnB1dFwiLGF1dG9Db21wbGV0ZTpoYXNQYXNza2V5cz8nd2ViYXV0aG4nOnVuZGVmaW5lZCx2YWx1ZTpwaG9uZSx0eXBlOid0ZXh0JyxvbkNoYW5nZTpmdW5jdGlvbiBvbkNoYW5nZShlKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcxKCl7dmFyIHBhcnNlZFBob25lTnVtYmVyO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTcxJChfY29udGV4dDcxKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDcxLnByZXY9X2NvbnRleHQ3MS5uZXh0KXtjYXNlIDA6X2NvbnRleHQ3MS5uZXh0PTI7cmV0dXJuIHBhcnNlUGhvbmVOdW1iZXIoZS50YXJnZXQudmFsdWUsY291bnRyeSk7Y2FzZSAyOnBhcnNlZFBob25lTnVtYmVyPV9jb250ZXh0NzEuc2VudDtzZXRQaG9uZShwYXJzZWRQaG9uZU51bWJlci5uYXRpb25hbCk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDcxLnN0b3AoKTt9fSxfY2FsbGVlNzEpO30pKTt9LHJlcXVpcmVkOnRydWV9LGhhc1Bhc3NrZXlzP3snZGF0YS0xcC1pZ25vcmUnOnRydWV9Ont9KSkpO307dmFyIEVtYWlsSW5wdXQ9ZnVuY3Rpb24gRW1haWxJbnB1dChfcmVmNjYpe3ZhciBlbWFpbD1fcmVmNjYuZW1haWwsc2V0RW1haWw9X3JlZjY2LnNldEVtYWlsLF9yZWY2NiRkaXNhYmxlSW5wdXQ9X3JlZjY2LmRpc2FibGVJbnB1dCxkaXNhYmxlSW5wdXQ9X3JlZjY2JGRpc2FibGVJbnB1dD09PXZvaWQgMD9mYWxzZTpfcmVmNjYkZGlzYWJsZUlucHV0LF9yZWY2NiRoYXNQYXNza2V5cz1fcmVmNjYuaGFzUGFzc2tleXMsaGFzUGFzc2tleXM9X3JlZjY2JGhhc1Bhc3NrZXlzPT09dm9pZCAwP2ZhbHNlOl9yZWY2NiRoYXNQYXNza2V5cztyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbnB1dCxPYmplY3QuYXNzaWduKHtwbGFjZWhvbGRlcjpcImV4YW1wbGVAZW1haWwuY29tXCIsbmFtZTpcImVtYWlsXCIsdHlwZTpcImVtYWlsXCIsYXV0b0NvbXBsZXRlOmhhc1Bhc3NrZXlzPydlbWFpbCB3ZWJhdXRobic6J2VtYWlsJyxkaXNhYmxlZDpkaXNhYmxlSW5wdXQsaWQ6XCJlbWFpbC1pbnB1dFwiLHZhbHVlOmVtYWlsLG9uQ2hhbmdlOmZ1bmN0aW9uIG9uQ2hhbmdlKGUpe3JldHVybiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSk7fSxyZXF1aXJlZDp0cnVlfSxoYXNQYXNza2V5cz97J2RhdGEtMXAtaWdub3JlJzp0cnVlfTp7fSkpO307dmFyIFN1Ym1pdEJ1dHRvbj1mdW5jdGlvbiBTdWJtaXRCdXR0b24ocHJvcHMpe3ZhciBidXR0b25EaXNhYmxlZD1wcm9wcy5pc1N1Ym1pdHRpbmd8fHByb3BzLmRpc2FibGVkO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbix7aWQ6J3N1Ym1pdCcsdHlwZTpcInN1Ym1pdFwiLGRpc2FibGVkOmJ1dHRvbkRpc2FibGVkfSxwcm9wcy5pc1N1Ym1pdHRpbmc/KC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2p1c3RpZnlDb250ZW50OlwiY2VudGVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENpcmN1bGFyUHJvZ3Jlc3Mse3NpemU6MTgsdGhpY2tuZXNzOjEsXCJkYXRhLXRlc3RpZFwiOlwibG9hZGluZy1pY29uXCJ9KSkpOnByb3BzLnRleHQpO307dmFyIERBU0hCT0FSRF9SRUdFWD0vaHR0cHM6XFwvXFwvc3R5dGNoXFwuY29tXFwvWyNhLXpBLVowLTkvLV0rL2c7dmFyIG1hcFVSTHNUb0xpbmtzPWZ1bmN0aW9uIG1hcFVSTHNUb0xpbmtzKHN0cil7dmFyIG5vbkxpbmtDaHVua3M9c3RyLnNwbGl0KERBU0hCT0FSRF9SRUdFWCk7dmFyIGxpbmtDaHVua3M9QXJyYXkuZnJvbShzdHIubWF0Y2hBbGwoREFTSEJPQVJEX1JFR0VYKSkubWFwKGZ1bmN0aW9uKGVsKXtyZXR1cm4gZWxbMF07fSk7dmFyIGNodW5rUmVzdWx0cz1bXTt3aGlsZShub25MaW5rQ2h1bmtzLmxlbmd0aHx8bGlua0NodW5rcy5sZW5ndGgpe2lmKG5vbkxpbmtDaHVua3MubGVuZ3RoKXtjaHVua1Jlc3VsdHMucHVzaChub25MaW5rQ2h1bmtzLnNoaWZ0KCkpO31pZihsaW5rQ2h1bmtzLmxlbmd0aCl7dmFyIGNodW5rPWxpbmtDaHVua3Muc2hpZnQoKTtjaHVua1Jlc3VsdHMucHVzaCgvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImFcIix7a2V5OmNodW5rKydfXycrU3RyaW5nKGxpbmtDaHVua3MubGVuZ3RoKSxocmVmOmNodW5rLHRhcmdldDpcIl9ibGFua1wiLHJlbDpcIm5vcmVmZXJyZXJcIn0sY2h1bmspKTt9fXJldHVybiBjaHVua1Jlc3VsdHM7fTt2YXIgRXJyb3JUZXh0PWZ1bmN0aW9uIEVycm9yVGV4dChfcmVmNjcpe3ZhciBlcnJvck1lc3NhZ2U9X3JlZjY3LmVycm9yTWVzc2FnZTt2YXIgdG9rZW5zPUYkNChmdW5jdGlvbigpe3JldHVybiBtYXBVUkxzVG9MaW5rcyhlcnJvck1lc3NhZ2UpO30sW2Vycm9yTWVzc2FnZV0pO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWxwZXJcIixjb2xvcjpcImVycm9yXCJ9LHRva2Vucyk7fTtfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxPVFBNZXRob2RzLlNNUywnVGV4dCcpLE9UUE1ldGhvZHMuV2hhdHNBcHAsJ1doYXRzQXBwJyksT1RQTWV0aG9kcy5FbWFpbCwnRW1haWwnKTt2YXIgT1RQQnV0dG9uVGV4dD1fZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxPVFBNZXRob2RzLlNNUywndGV4dCBtZXNzYWdlJyksT1RQTWV0aG9kcy5XaGF0c0FwcCwnV2hhdHNBcHAnKSxPVFBNZXRob2RzLkVtYWlsLCdlbWFpbCcpO3ZhciBPVFBFbWFpbEZvcm09ZnVuY3Rpb24gT1RQRW1haWxGb3JtKCl7dmFyIG9uRXZlbnQ9dXNlRXZlbnRDYWxsYmFjaygpO3ZhciBvbkVycm9yPXVzZUVycm9yQ2FsbGJhY2soKTt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyMz11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI0PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjMsMiksZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXI0WzFdO3ZhciBfaCQxNT1oJDUoJycpLF9oJDE2PV9zbGljZWRUb0FycmF5MihfaCQxNSwyKSxlbWFpbD1faCQxNlswXSxzZXRFbWFpbD1faCQxNlsxXTt2YXIgX2gkMTc9aCQ1KCcnKSxfaCQxOD1fc2xpY2VkVG9BcnJheTIoX2gkMTcsMiksZXJyb3JNZXNzYWdlPV9oJDE4WzBdLHNldEVycm9yTWVzc2FnZT1faCQxOFsxXTt2YXIgX2gkMTk9aCQ1KGZhbHNlKSxfaCQyMD1fc2xpY2VkVG9BcnJheTIoX2gkMTksMiksaXNTdWJtaXR0aW5nPV9oJDIwWzBdLHNldElzU3VibWl0dGluZz1faCQyMFsxXTt2YXIgaGFzUGFzc2tleXM9Y29uZmlnLnByb2R1Y3RzLmluY2x1ZGVzKFByb2R1Y3RzLnBhc3NrZXlzKTt2YXIgc3RvcFN1Ym1pdD1mdW5jdGlvbiBzdG9wU3VibWl0KGVycm9yVGV4dCl7b25FcnJvcih7bWVzc2FnZTplcnJvclRleHR9KTtzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO3JldHVybiBzZXRFcnJvck1lc3NhZ2UoZXJyb3JUZXh0KTt9O3ZhciBoYW5kbGVFbWFpbFN1Ym1pdD1mdW5jdGlvbiBoYW5kbGVFbWFpbFN1Ym1pdChlKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcyKCl7dmFyIF9hLF9iLF9jLF9kO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTcyJChfY29udGV4dDcyKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDcyLnByZXY9X2NvbnRleHQ3Mi5uZXh0KXtjYXNlIDA6ZS5wcmV2ZW50RGVmYXVsdCgpO3NldElzU3VibWl0dGluZyh0cnVlKTtpZihlbWFpbC5tYXRjaChFTUFJTF9SRUdFWCkpe19jb250ZXh0NzIubmV4dD00O2JyZWFrO31yZXR1cm4gX2NvbnRleHQ3Mi5hYnJ1cHQoXCJyZXR1cm5cIixzdG9wU3VibWl0KFwiSW52YWxpZCBlbWFpbCwgcGxlYXNlIHRyeSBhZ2Fpbi5cIikpO2Nhc2UgNDpzZXRFcnJvck1lc3NhZ2UoJycpO3NldElzU3VibWl0dGluZyh0cnVlKTtzdHl0Y2hDbGllbnQub3Rwcy5lbWFpbC5sb2dpbk9yQ3JlYXRlKGVtYWlsLHtleHBpcmF0aW9uX21pbnV0ZXM6KF9iPShfYT1jb25maWcub3RwT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZXhwaXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6REVGQVVMVF9PVFBfRVhQSVJBVElPTl9NSU5VVEVTLGxvZ2luX3RlbXBsYXRlX2lkOihfYz1jb25maWcub3RwT3B0aW9ucyk9PT1udWxsfHxfYz09PXZvaWQgMD92b2lkIDA6X2MubG9naW5UZW1wbGF0ZUlkLHNpZ251cF90ZW1wbGF0ZV9pZDooX2Q9Y29uZmlnLm90cE9wdGlvbnMpPT09bnVsbHx8X2Q9PT12b2lkIDA/dm9pZCAwOl9kLnNpZ251cFRlbXBsYXRlSWR9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe3NldElzU3VibWl0dGluZyhmYWxzZSk7b25FdmVudCh7dHlwZTpTdHl0Y2hFdmVudFR5cGUuT1RQc0xvZ2luT3JDcmVhdGVFdmVudCxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondXBkYXRlX290cF9zdGF0ZScsb3RwU3RhdGU6e3R5cGU6T1RQTWV0aG9kcy5FbWFpbCxtZXRob2RJZDpkYXRhLm1ldGhvZF9pZCxvdHBEZXN0aW5hdGlvbjplbWFpbH19KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5PVFBBdXRoZW50aWNhdGV9KTtyZWFkQjJDSW50ZXJuYWxzKHN0eXRjaENsaWVudCkubmV0d29ya0NsaWVudC5sb2dFdmVudCh7bmFtZTonZW1haWxfc2VudCcsZGV0YWlsczp7ZW1haWw6ZW1haWwsdHlwZTpFbWFpbFNlbnRUeXBlLkxvZ2luT3JDcmVhdGVPVFB9fSk7fSlbXCJjYXRjaFwiXShmdW5jdGlvbihlcnIpe3ZhciBtZXNzYWdlPWVyci5tZXNzYWdlO2lmKGVyciBpbnN0YW5jZW9mIFN0eXRjaEFQSUVycm9yKXttZXNzYWdlPWVyci5lcnJvcl9tZXNzYWdlO31zdG9wU3VibWl0KG1lc3NhZ2UpO30pO2Nhc2UgNzpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ3Mi5zdG9wKCk7fX0sX2NhbGxlZTcyKTt9KSk7fTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImZvcm1cIix7b25TdWJtaXQ6aGFuZGxlRW1haWxTdWJtaXR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixtaW5IZWlnaHQ6NTJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsSW5wdXQse2VtYWlsOmVtYWlsLHNldEVtYWlsOnNldEVtYWlsLGhhc1Bhc3NrZXlzOmhhc1Bhc3NrZXlzfSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LHtlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlfSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbix7aXNTdWJtaXR0aW5nOmlzU3VibWl0dGluZyx0ZXh0OlwiQ29udGludWUgd2l0aCBcIi5jb25jYXQoT1RQQnV0dG9uVGV4dFtPVFBNZXRob2RzLkVtYWlsXSl9KSkpO307dmFyIFBob25lRm9ybT1mdW5jdGlvbiBQaG9uZUZvcm0oX3JlZjY5KXt2YXIgbWV0aG9kPV9yZWY2OS5tZXRob2Q7dmFyIG9uRXZlbnQ9dXNlRXZlbnRDYWxsYmFjaygpO3ZhciBvbkVycm9yPXVzZUVycm9yQ2FsbGJhY2soKTt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyNT11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI2PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjUsMiksZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXI2WzFdO3ZhciBfaCQyMT1oJDUoJycpLF9oJDIyPV9zbGljZWRUb0FycmF5MihfaCQyMSwyKSxwaG9uZU51bWJlcj1faCQyMlswXSxzZXRQaG9uZU51bWJlcj1faCQyMlsxXTt2YXIgX2gkMjM9aCQ1KCdVUycpLF9oJDI0PV9zbGljZWRUb0FycmF5MihfaCQyMywyKSxjb3VudHJ5PV9oJDI0WzBdLHNldENvdW50cnk9X2gkMjRbMV07dmFyIF9oJDI1PWgkNSgnJyksX2gkMjY9X3NsaWNlZFRvQXJyYXkyKF9oJDI1LDIpLGVycm9yTWVzc2FnZT1faCQyNlswXSxzZXRFcnJvck1lc3NhZ2U9X2gkMjZbMV07dmFyIF9oJDI3PWgkNShmYWxzZSksX2gkMjg9X3NsaWNlZFRvQXJyYXkyKF9oJDI3LDIpLGlzU3VibWl0dGluZz1faCQyOFswXSxzZXRJc1N1Ym1pdHRpbmc9X2gkMjhbMV07dmFyIGhhc1Bhc3NrZXlzPWNvbmZpZy5wcm9kdWN0cy5pbmNsdWRlcyhQcm9kdWN0cy5wYXNza2V5cyk7dmFyIHN0b3BTdWJtaXQ9ZnVuY3Rpb24gc3RvcFN1Ym1pdChlcnJvclRleHQpe29uRXJyb3Ioe21lc3NhZ2U6ZXJyb3JUZXh0fSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtyZXR1cm4gc2V0RXJyb3JNZXNzYWdlKGVycm9yVGV4dCk7fTt2YXIgcGFyc2VQaG9uZU51bWJlcj1mdW5jdGlvbiBwYXJzZVBob25lTnVtYmVyKHBob25lTnVtYmVyLGNvdW50cnlDb2RlKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTczKCl7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzMkKF9jb250ZXh0NzMpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NzMucHJldj1fY29udGV4dDczLm5leHQpe2Nhc2UgMDpyZXR1cm4gX2NvbnRleHQ3My5hYnJ1cHQoXCJyZXR1cm5cIixyZWFkQjJDSW50ZXJuYWxzKHN0eXRjaENsaWVudCkuY2xpZW50c2lkZVNlcnZpY2VzLnBhcnNlZFBob25lTnVtYmVyKHtwaG9uZU51bWJlcjpwaG9uZU51bWJlcixyZWdpb25Db2RlOmNvdW50cnlDb2RlfSkpO2Nhc2UgMTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ3My5zdG9wKCk7fX0sX2NhbGxlZTczKTt9KSk7fTt2YXIgaGFuZGxlUGhvbmVTdWJtaXQ9ZnVuY3Rpb24gaGFuZGxlUGhvbmVTdWJtaXQoZSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NCgpe3ZhciBfYSxfYixwYXJzZWROdW1iZXI7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzQkKF9jb250ZXh0NzQpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NzQucHJldj1fY29udGV4dDc0Lm5leHQpe2Nhc2UgMDplLnByZXZlbnREZWZhdWx0KCk7X2NvbnRleHQ3NC5uZXh0PTM7cmV0dXJuIHBhcnNlUGhvbmVOdW1iZXIocGhvbmVOdW1iZXIsY291bnRyeSk7Y2FzZSAzOnBhcnNlZE51bWJlcj1fY29udGV4dDc0LnNlbnQ7aWYocGFyc2VkTnVtYmVyLmlzVmFsaWQpe19jb250ZXh0NzQubmV4dD02O2JyZWFrO31yZXR1cm4gX2NvbnRleHQ3NC5hYnJ1cHQoXCJyZXR1cm5cIixzdG9wU3VibWl0KFwiSW52YWxpZCBwaG9uZSBudW1iZXIsIHBsZWFzZSB0cnkgYWdhaW4uXCIpKTtjYXNlIDY6c2V0SXNTdWJtaXR0aW5nKHRydWUpO3NldEVycm9yTWVzc2FnZSgnJyk7c3R5dGNoQ2xpZW50Lm90cHNbbWV0aG9kXS5sb2dpbk9yQ3JlYXRlKHBhcnNlZE51bWJlci5udW1iZXIse2V4cGlyYXRpb25fbWludXRlczooX2I9KF9hPWNvbmZpZy5vdHBPcHRpb25zKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5leHBpcmF0aW9uTWludXRlcykhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpERUZBVUxUX09UUF9FWFBJUkFUSU9OX01JTlVURVN9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe3NldElzU3VibWl0dGluZyhmYWxzZSk7b25FdmVudCh7dHlwZTpTdHl0Y2hFdmVudFR5cGUuT1RQc0xvZ2luT3JDcmVhdGVFdmVudCxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondXBkYXRlX290cF9zdGF0ZScsb3RwU3RhdGU6e3R5cGU6bWV0aG9kLG1ldGhvZElkOmRhdGEubWV0aG9kX2lkLG90cERlc3RpbmF0aW9uOnBhcnNlZE51bWJlci5udW1iZXJ9fSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuT1RQQXV0aGVudGljYXRlfSk7fSlbXCJjYXRjaFwiXShmdW5jdGlvbihlcnIpe3ZhciBtZXNzYWdlPWVyci5tZXNzYWdlO2lmKGVyciBpbnN0YW5jZW9mIFN0eXRjaEFQSUVycm9yKXttZXNzYWdlPWVyci5lcnJvcl9tZXNzYWdlO31zdG9wU3VibWl0KG1lc3NhZ2UpO30pO2Nhc2UgOTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ3NC5zdG9wKCk7fX0sX2NhbGxlZTc0KTt9KSk7fTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImZvcm1cIix7b25TdWJtaXQ6aGFuZGxlUGhvbmVTdWJtaXR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixtaW5IZWlnaHQ6NTJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBob25lSW5wdXQse3Bob25lOnBob25lTnVtYmVyLHNldFBob25lOnNldFBob25lTnVtYmVyLGNvdW50cnk6Y291bnRyeSxzZXRDb3VudHJ5OnNldENvdW50cnkscGFyc2VQaG9uZU51bWJlcjpwYXJzZVBob25lTnVtYmVyLGhhc1Bhc3NrZXlzOmhhc1Bhc3NrZXlzfSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LHtlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlfSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbix7aXNTdWJtaXR0aW5nOmlzU3VibWl0dGluZyx0ZXh0OlwiQ29udGludWUgd2l0aCBcIi5jb25jYXQoT1RQQnV0dG9uVGV4dFttZXRob2RdKX0pKSk7fTt2YXIgTWFnaWNMaW5rRW1haWxGb3JtPWZ1bmN0aW9uIE1hZ2ljTGlua0VtYWlsRm9ybSgpe3ZhciBvbkV2ZW50PXVzZUV2ZW50Q2FsbGJhY2soKTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyNz11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI4PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjcsMiksZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXI4WzFdO3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIGNvbmZpZz11c2VDb25maWcoKTt2YXIgZW1haWxNYWdpY0xpbmtzT3B0aW9ucz1jb25maWcuZW1haWxNYWdpY0xpbmtzT3B0aW9uczt2YXIgaGFzUGFzc2tleXM9Y29uZmlnLnByb2R1Y3RzLmluY2x1ZGVzKFByb2R1Y3RzLnBhc3NrZXlzKTt2YXIgX2gkMjk9aCQ1KCcnKSxfaCQzMD1fc2xpY2VkVG9BcnJheTIoX2gkMjksMiksZW1haWw9X2gkMzBbMF0sc2V0RW1haWw9X2gkMzBbMV07dmFyIF9oJDMxPWgkNSgnJyksX2gkMzI9X3NsaWNlZFRvQXJyYXkyKF9oJDMxLDIpLGVycm9yTWVzc2FnZT1faCQzMlswXSxzZXRFcnJvck1lc3NhZ2U9X2gkMzJbMV07dmFyIF9oJDMzPWgkNShmYWxzZSksX2gkMzQ9X3NsaWNlZFRvQXJyYXkyKF9oJDMzLDIpLGlzU3VibWl0dGluZz1faCQzNFswXSxzZXRJc1N1Ym1pdHRpbmc9X2gkMzRbMV07aWYoIWVtYWlsTWFnaWNMaW5rc09wdGlvbnMpcmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCk7dmFyIGhhbmRsZVN1Ym1pdD1mdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NSgpe3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc1JChfY29udGV4dDc1KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDc1LnByZXY9X2NvbnRleHQ3NS5uZXh0KXtjYXNlIDA6ZS5wcmV2ZW50RGVmYXVsdCgpO2lmKCFlbWFpbC5tYXRjaChFTUFJTF9SRUdFWCkpe3NldEVycm9yTWVzc2FnZSgnSW52YWxpZCBlbWFpbCBhZGRyZXNzJyk7fWVsc2V7c2V0RXJyb3JNZXNzYWdlKCcnKTtzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7c3R5dGNoQ2xpZW50Lm1hZ2ljTGlua3MuZW1haWwubG9naW5PckNyZWF0ZShlbWFpbCxjb252ZXJ0TWFnaWNMaW5rT3B0aW9ucyhlbWFpbE1hZ2ljTGlua3NPcHRpb25zKSkudGhlbihmdW5jdGlvbihkYXRhKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5NYWdpY0xpbmtMb2dpbk9yQ3JlYXRlRXZlbnQsZGF0YTpkYXRhfSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtkaXNwYXRjaCh7dHlwZTonc2V0X21hZ2ljX2xpbmtfZW1haWwnLGVtYWlsOmVtYWlsfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuRW1haWxDb25maXJtYXRpb259KTtyZWFkQjJDSW50ZXJuYWxzKHN0eXRjaENsaWVudCkubmV0d29ya0NsaWVudC5sb2dFdmVudCh7bmFtZTonZW1haWxfdHJ5X2FnYWluX2NsaWNrZWQnLGRldGFpbHM6e2VtYWlsOmVtYWlsLHR5cGU6RW1haWxTZW50VHlwZS5Mb2dpbk9yQ3JlYXRlRU1MfX0pO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7b25FcnJvcihlKTtzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO3ZhciBtZXNzYWdlPWUubWVzc2FnZTtpZihlIGluc3RhbmNlb2YgU3R5dGNoQVBJRXJyb3Ipe21lc3NhZ2U9ZS5lcnJvcl9tZXNzYWdlO31zZXRFcnJvck1lc3NhZ2UobWVzc2FnZSk7fSk7fWNhc2UgMjpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ3NS5zdG9wKCk7fX0sX2NhbGxlZTc1KTt9KSk7fTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImZvcm1cIix7b25TdWJtaXQ6aGFuZGxlU3VibWl0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6OH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsbWluSGVpZ2h0OjUyfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFbWFpbElucHV0LHtlbWFpbDplbWFpbCxzZXRFbWFpbDpzZXRFbWFpbCxoYXNQYXNza2V5czpoYXNQYXNza2V5c30pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVycm9yVGV4dCx7ZXJyb3JNZXNzYWdlOmVycm9yTWVzc2FnZX0pKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24se2lzU3VibWl0dGluZzppc1N1Ym1pdHRpbmcsdGV4dDonQ29udGludWUgd2l0aCBlbWFpbCd9KSkpO307dmFyIFBhc3N3b3Jkc0VtYWlsRm9ybT1mdW5jdGlvbiBQYXNzd29yZHNFbWFpbEZvcm0oKXt2YXIgX3VzZUdsb2JhbFJlZHVjZXI5PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjEwPV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjksMiksZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIxMFsxXTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBzdHl0Y2g9dXNlU3R5dGNoKCk7dmFyIHBhc3N3b3JkT3B0aW9ucz1jb25maWcucGFzc3dvcmRPcHRpb25zO3ZhciBoYXNQYXNza2V5cz1jb25maWcucHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMucGFzc2tleXMpO3ZhciBfaCQzNT1oJDUoJycpLF9oJDM2PV9zbGljZWRUb0FycmF5MihfaCQzNSwyKSxlbWFpbD1faCQzNlswXSxzZXRFbWFpbD1faCQzNlsxXTt2YXIgX2gkMzc9aCQ1KCcnKSxfaCQzOD1fc2xpY2VkVG9BcnJheTIoX2gkMzcsMiksZXJyb3JNZXNzYWdlPV9oJDM4WzBdLHNldEVycm9yTWVzc2FnZT1faCQzOFsxXTt2YXIgX2gkMzk9aCQ1KGZhbHNlKSxfaCQ0MD1fc2xpY2VkVG9BcnJheTIoX2gkMzksMiksaXNTdWJtaXR0aW5nPV9oJDQwWzBdLHNldElzU3VibWl0dGluZz1faCQ0MFsxXTtpZighcGFzc3dvcmRPcHRpb25zKXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwpO3ZhciBoYW5kbGVTdWJtaXQ9ZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzYoKXtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZTIoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NiQoX2NvbnRleHQ3Nil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ3Ni5wcmV2PV9jb250ZXh0NzYubmV4dCl7Y2FzZSAwOmUucHJldmVudERlZmF1bHQoKTtpZighZW1haWwubWF0Y2goRU1BSUxfUkVHRVgpKXtzZXRFcnJvck1lc3NhZ2UoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpO31lbHNle3NldEVycm9yTWVzc2FnZSgnJyk7c2V0SXNTdWJtaXR0aW5nKHRydWUpO3JlYWRCMkNJbnRlcm5hbHMoc3R5dGNoKS5zZWFyY2hNYW5hZ2VyLnNlYXJjaFVzZXIoZW1haWwpLnRoZW4oZnVuY3Rpb24oX3JlZjcwKXt2YXIgdXNlclR5cGU9X3JlZjcwLnVzZXJUeXBlO2Rpc3BhdGNoKHt0eXBlOid1cGRhdGVfcGFzc3dvcmRfc3RhdGUnLHBhc3N3b3JkU3RhdGU6e2VtYWlsOmVtYWlsLHR5cGU6dXNlclR5cGV9fSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmRDcmVhdGVPckxvZ2lufSk7cmVhZEIyQ0ludGVybmFscyhzdHl0Y2gpLm5ldHdvcmtDbGllbnQubG9nRXZlbnQoe25hbWU6J2VtYWlsX3NlbnQnLGRldGFpbHM6e2VtYWlsOmVtYWlsLHR5cGU6RW1haWxTZW50VHlwZS5SZXNldFBhc3N3b3JkfX0pO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTt2YXIgbWVzc2FnZT1lLm1lc3NhZ2U7aWYoZSBpbnN0YW5jZW9mIFN0eXRjaEFQSUVycm9yKXttZXNzYWdlPWUuZXJyb3JfbWVzc2FnZTt9c2V0RXJyb3JNZXNzYWdlKG1lc3NhZ2UpO30pO31jYXNlIDI6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0NzYuc3RvcCgpO319LF9jYWxsZWU3Nik7fSkpO307cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIse29uU3VibWl0OmhhbmRsZVN1Ym1pdH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjh9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGhlaWdodDo1Mn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxJbnB1dCx7ZW1haWw6ZW1haWwsc2V0RW1haWw6c2V0RW1haWwsaGFzUGFzc2tleXM6aGFzUGFzc2tleXN9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVscGVyXCIsY29sb3I6XCJlcnJvclwifSxlcnJvck1lc3NhZ2UpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24se2lzU3VibWl0dGluZzppc1N1Ym1pdHRpbmcsdGV4dDonQ29udGludWUgd2l0aCBlbWFpbCd9KSkpO307dmFyIHVzZVByb21wdFBhc3NrZXk9ZnVuY3Rpb24gdXNlUHJvbXB0UGFzc2tleShfcmVmNzEpe3ZhciBjb25kaXRpb25hbE1lZGlhdGlvbj1fcmVmNzEuY29uZGl0aW9uYWxNZWRpYXRpb247dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBoYXNQYXNza2V5cz1jb25maWcucHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMucGFzc2tleXMpO3ZhciBvbkV2ZW50PXVzZUV2ZW50Q2FsbGJhY2soKTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyMTE9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyMTI9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyMTEsMiksZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIxMlsxXTt2YXIgX2gkNDE9aCQ1KDUpLF9oJDQyPV9zbGljZWRUb0FycmF5MihfaCQ0MSwyKSx0cmllc0xlZnQ9X2gkNDJbMF0sc2V0VHJpZXM9X2gkNDJbMV07dmFyIGdlbmVyaWNFcnJvck1lc3NhZ2U9J1Vua25vd24gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHBhc3NrZXkgYXV0aGVudGljYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uJzt2YXIgcGFzc2tleVJlZ2lzdHJhdGlvbk5vdEZvdW5kRXJyb3JNZXNzYWdlPSdQYXNza2V5IHJlZ2lzdHJhdGlvbiBub3QgZm91bmQuIFlvdSBtYXkgaGF2ZSBkZWxldGVkIHRoZSBwYXNza2V5IGZyb20geW91ciBhY2NvdW50IGJ1dCBub3QgcGFzc3dvcmQgbWFuYWdlci4gUGxlYXNlIHRyeSBhZ2Fpbi4nO3ZhciBwcm9tcHRQYXNza2V5SW50ZXJuYWw9ZnVuY3Rpb24gcHJvbXB0UGFzc2tleUludGVybmFsKF9yZWY3Mil7dmFyIGFib3J0Q29udHJvbGxlcj1fcmVmNzIuYWJvcnRDb250cm9sbGVyO3ZhciBfYSxfYjtyZXR1cm4gc3R5dGNoQ2xpZW50LndlYmF1dGhuLmF1dGhlbnRpY2F0ZSh7c2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOihfYj0oX2E9Y29uZmlnLnNlc3Npb25PcHRpb25zKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5zZXNzaW9uRHVyYXRpb25NaW51dGVzKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOkRFRkFVTFRfU0VTU0lPTl9EVVJBVElPTl9NSU5VVEVTLGNvbmRpdGlvbmFsX21lZGlhdGlvbjpjb25kaXRpb25hbE1lZGlhdGlvbixpc19wYXNza2V5OnRydWUsc2lnbmFsOmFib3J0Q29udHJvbGxlcj09PW51bGx8fGFib3J0Q29udHJvbGxlcj09PXZvaWQgMD92b2lkIDA6YWJvcnRDb250cm9sbGVyLnNpZ25hbH0pLnRoZW4oZnVuY3Rpb24ocmVzcCl7aWYocmVzcCl7b25FdmVudCh7dHlwZTpTdHl0Y2hFdmVudFR5cGUuUGFzc2tleUF1dGhlbnRpY2F0ZSxkYXRhOnJlc3B9KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5QYXNza2V5Q29uZmlybWF0aW9ufSk7ZGlzcGF0Y2goe3R5cGU6J2NsZWFyX2Vycm9yX21lc3NhZ2UnfSk7cmV0dXJuIHJlc3A7fWVsc2V7ZGlzcGF0Y2goe3R5cGU6J3NldF9lcnJvcl9tZXNzYWdlJyxlcnJvck1lc3NhZ2U6Z2VuZXJpY0Vycm9yTWVzc2FnZX0pO3Rocm93IG5ldyBFcnJvcignRW1wdHkgcmVzcG9uc2UnKTt9fSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtpZihlLmVycm9yX3R5cGU9PT0nd2ViYXV0aG5fcmVnaXN0cmF0aW9uX25vdF9mb3VuZCcpe2Rpc3BhdGNoKHt0eXBlOidzZXRfZXJyb3JfbWVzc2FnZScsZXJyb3JNZXNzYWdlOnBhc3NrZXlSZWdpc3RyYXRpb25Ob3RGb3VuZEVycm9yTWVzc2FnZX0pO31lbHNlIGlmKGUubmFtZT09PSdTdHl0Y2hBUElFcnJvcicpe2Rpc3BhdGNoKHt0eXBlOidzZXRfZXJyb3JfbWVzc2FnZScsZXJyb3JNZXNzYWdlOmdlbmVyaWNFcnJvck1lc3NhZ2V9KTt9b25FcnJvcihlKTt0aHJvdyBlO30pO307dmFyIHByb21wdEF1dG9maWxsPWZ1bmN0aW9uIHByb21wdEF1dG9maWxsKCl7cCQ2KGZ1bmN0aW9uKCl7aWYoIWhhc1Bhc3NrZXlzKXtyZXR1cm47fWlmKHRyaWVzTGVmdDwxKXtyZXR1cm47fXZhciBhYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcigpO3N0eXRjaENsaWVudC53ZWJhdXRobi5icm93c2VyU3VwcG9ydHNBdXRvZmlsbCgpLnRoZW4oZnVuY3Rpb24oc3VwcG9ydHMpe2lmKCFzdXBwb3J0cyl7cmV0dXJuO31wcm9tcHRQYXNza2V5SW50ZXJuYWwoe2Fib3J0Q29udHJvbGxlcjphYm9ydENvbnRyb2xsZXJ9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7c2V0VHJpZXMoZnVuY3Rpb24odHJpZXNMZWZ0KXtyZXR1cm4gdHJpZXNMZWZ0LTE7fSk7fSk7fSk7cmV0dXJuIGZ1bmN0aW9uKCl7YWJvcnRDb250cm9sbGVyLmFib3J0KCk7fTt9LFt0cmllc0xlZnRdKTt9O3ZhciBwcm9tcHQ9ZnVuY3Rpb24gcHJvbXB0KCl7cmV0dXJuIHByb21wdFBhc3NrZXlJbnRlcm5hbCh7fSk7fTtyZXR1cm57cHJvbXB0OnByb21wdCxwcm9tcHRBdXRvZmlsbDpwcm9tcHRBdXRvZmlsbH07fTt2YXIgV2FybmluZ0ljb249ZnVuY3Rpb24gV2FybmluZ0ljb24oKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjI1XCIsaGVpZ2h0OlwiMjRcIix2aWV3Qm94OlwiMCAwIDI1IDI0XCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyLjUgNi40OUwyMC4wMyAxOS41SDQuOTdMMTIuNSA2LjQ5Wk0xMi41IDIuNUwxLjUgMjEuNUgyMy41TDEyLjUgMi41Wk0xMy41IDE2LjVIMTEuNVYxOC41SDEzLjVWMTYuNVpNMTMuNSAxMC41SDExLjVWMTQuNUgxMy41VjEwLjVaXCIsZmlsbDpcIiNDMjhFMUZcIn0pKTt9O3ZhciBXYXJuaW5nSWNvbiQxPUNyZWF0ZUljb24oV2FybmluZ0ljb24pO3ZhciBTdWNjZXNzSWNvbiQxPWZ1bmN0aW9uIFN1Y2Nlc3NJY29uJDEoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjI0XCIsaGVpZ2h0OlwiMjRcIix2aWV3Qm94OlwiMCAwIDI0IDI0XCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMlpNMTIgMjBDNy41OSAyMCA0IDE2LjQxIDQgMTJDNCA3LjU5IDcuNTkgNCAxMiA0QzE2LjQxIDQgMjAgNy41OSAyMCAxMkMyMCAxNi40MSAxNi40MSAyMCAxMiAyMFpNMTYuNTkgNy41OEwxMCAxNC4xN0w3LjQxIDExLjU5TDYgMTNMMTAgMTdMMTggOUwxNi41OSA3LjU4WlwiLGZpbGw6XCIjMEM1QTU2XCJ9KSk7fTt2YXIgU3VjY2Vzc0ljb24kMj1DcmVhdGVJY29uKFN1Y2Nlc3NJY29uJDEpO3ZhciBFcnJvckljb24kMj1mdW5jdGlvbiBFcnJvckljb24kMigpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOlwiMjBcIixoZWlnaHQ6XCIyMFwiLHZpZXdCb3g6XCIwIDAgMjAgMjBcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOSAxM0gxMVYxNUg5VjEzWk05IDVIMTFWMTFIOVY1Wk05Ljk5IDBDNC40NyAwIDAgNC40OCAwIDEwQzAgMTUuNTIgNC40NyAyMCA5Ljk5IDIwQzE1LjUyIDIwIDIwIDE1LjUyIDIwIDEwQzIwIDQuNDggMTUuNTIgMCA5Ljk5IDBaTTEwIDE4QzUuNTggMTggMiAxNC40MiAyIDEwQzIgNS41OCA1LjU4IDIgMTAgMkMxNC40MiAyIDE4IDUuNTggMTggMTBDMTggMTQuNDIgMTQuNDIgMTggMTAgMThaXCIsZmlsbDpcIiNBRDJFMzBcIn0pKTt9O3ZhciBFcnJvckljb24kMz1DcmVhdGVJY29uKEVycm9ySWNvbiQyKTt2YXIgdmFyaWFudFRvU3R5bGVzPXtlcnJvcjp7YmFja2dyb3VuZENvbG9yOicjRkZGNkY1Jyxib3JkZXJDb2xvcjonI0ZENEU0Myd9LHdhcm5pbmc6e2JhY2tncm91bmRDb2xvcjonI2ZmZmJmMCcsYm9yZGVyQ29sb3I6JyNmZmQ5NGEnfSxzdWNjZXNzOntiYWNrZ3JvdW5kQ29sb3I6JyNmN2ZmZmInLGJvcmRlckNvbG9yOicjMGM1YTU2J319O3ZhciBBbGVydEJveFN0eWxlZD1IZS5kaXYoX3RlbXBsYXRlT2JqZWN0MjF8fChfdGVtcGxhdGVPYmplY3QyMT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICBib3JkZXItbGVmdDogNnB4IHNvbGlkIFwiLFwiO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4IDAgMCA0cHg7XFxuICBwYWRkaW5nOiAyNHB4O1xcblwiXSkpLGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gdmFyaWFudFRvU3R5bGVzW3Byb3BzLnZhcmlhbnRdLmJhY2tncm91bmRDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gdmFyaWFudFRvU3R5bGVzW3Byb3BzLnZhcmlhbnRdLmJvcmRlckNvbG9yO30pO3ZhciBBbGVydFRleHQ9SGUoVGV4dCkoX3RlbXBsYXRlT2JqZWN0MjJ8fChfdGVtcGxhdGVPYmplY3QyMj1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XFxuICBsZXR0ZXItc3BhY2luZzogMGVtO1xcblwiXSkpKTt2YXIgQWxlcnRCb3g9ZnVuY3Rpb24gQWxlcnRCb3goX3JlZjczKXt2YXIgdmFyaWFudD1fcmVmNzMudmFyaWFudCx0ZXh0PV9yZWY3My50ZXh0O3ZhciBfdXNlR2xvYmFsUmVkdWNlcjEzPXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjE0PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjEzLDEpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyMTRbMF07aWYoc3RhdGUuZm9ybVN0YXRlLmVycm9yTWVzc2FnZT09PScnJiYhdGV4dCl7cmV0dXJuIG51bGw7fXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEFsZXJ0Qm94U3R5bGVkLHt2YXJpYW50OnZhcmlhbnR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2dhcDo4LGFsaWduSXRlbXM6XCJmbGV4LXN0YXJ0XCJ9LHZhcmlhbnQ9PT0nZXJyb3InJiYvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvckljb24kMyxudWxsKSx2YXJpYW50PT09J3dhcm5pbmcnJiYvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChXYXJuaW5nSWNvbiQxLG51bGwpLHZhcmlhbnQ9PT0nc3VjY2VzcycmJi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Y2Nlc3NJY29uJDIsbnVsbCksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQWxlcnRUZXh0LG51bGwsdGV4dD90ZXh0OnN0YXRlLmZvcm1TdGF0ZS5lcnJvck1lc3NhZ2UpKSk7fTt2YXIgVGFiTGlzdD1IZShMaXN0KShfdGVtcGxhdGVPYmplY3QyM3x8KF90ZW1wbGF0ZU9iamVjdDIzPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIHdpZHRoOiAxMDAlO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIFwiLFwiO1xcbiAgbWFyZ2luLWJvdHRvbTogMjRweDtcXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5zZWNvbmRhcnk7fSk7dmFyIFRhYlRyaWdnZXI9SGUoVHJpZ2dlcikoX3RlbXBsYXRlT2JqZWN0MjR8fChfdGVtcGxhdGVPYmplY3QyND1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgY29sb3I6IFwiLFwiO1xcbiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkIFwiLFwiO1xcbiAgZm9udC13ZWlnaHQ6IFwiLFwiO1xcblwiXSkpLGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMuJGFjdGl2ZT9wcm9wcy50aGVtZS5jb2xvcnMucHJpbWFyeTpwcm9wcy50aGVtZS5jb2xvcnMuc2Vjb25kYXJ5O30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy4kYWN0aXZlP3Byb3BzLnRoZW1lLmNvbG9ycy5wcmltYXJ5Oid0cmFuc3BhcmVudCc7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLiRhY3RpdmU/JzUwMCc6JzQwMCc7fSk7dmFyIE1hZ2ljTGlua01ldGhvZHM7KGZ1bmN0aW9uKE1hZ2ljTGlua01ldGhvZHMpe01hZ2ljTGlua01ldGhvZHNbXCJFbWFpbFwiXT1cImVtYWlsTWFnaWNMaW5rXCI7fSkoTWFnaWNMaW5rTWV0aG9kc3x8KE1hZ2ljTGlua01ldGhvZHM9e30pKTt2YXIgUGFzc3dvcmRNZXRob2RzOyhmdW5jdGlvbihQYXNzd29yZE1ldGhvZHMpe1Bhc3N3b3JkTWV0aG9kc1tcIkVtYWlsXCJdPVwicGFzc3dvcmRzXCI7fSkoUGFzc3dvcmRNZXRob2RzfHwoUGFzc3dvcmRNZXRob2RzPXt9KSk7dmFyIE9UUFRhYkhlYWRlcnM9X2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxPVFBNZXRob2RzLlNNUywnVGV4dCcpLE9UUE1ldGhvZHMuV2hhdHNBcHAsJ1doYXRzQXBwJyksT1RQTWV0aG9kcy5FbWFpbCwnRW1haWwnKSxNYWdpY0xpbmtNZXRob2RzLkVtYWlsLCdFbWFpbCcpLFBhc3N3b3JkTWV0aG9kcy5FbWFpbCwnRW1haWwnKTt2YXIgTG9naW5Gb3JtPWZ1bmN0aW9uIExvZ2luRm9ybSgpe3ZhciBfYSxfYjt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBvdHBNZXRob2RzPShfYj0oX2E9Y29uZmlnPT09bnVsbHx8Y29uZmlnPT09dm9pZCAwP3ZvaWQgMDpjb25maWcub3RwT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EubWV0aG9kcykhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpbXTt2YXIgaGFzRW1haWxNYWdpY0xpbms9Y29uZmlnLnByb2R1Y3RzLmluY2x1ZGVzKFByb2R1Y3RzLmVtYWlsTWFnaWNMaW5rcyk7dmFyIGhhc09UUEVtYWlsPWNvbmZpZy5wcm9kdWN0cy5pbmNsdWRlcyhQcm9kdWN0cy5vdHApJiZvdHBNZXRob2RzLmluY2x1ZGVzKE9UUE1ldGhvZHMuRW1haWwpO3ZhciBoYXNQYXNzd29yZD1jb25maWcucHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMucGFzc3dvcmRzKTt2YXIgdGFiTWV0aG9kcz1oYXNFbWFpbE1hZ2ljTGluaz9bXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG90cE1ldGhvZHMpLFtNYWdpY0xpbmtNZXRob2RzLkVtYWlsXSk6b3RwTWV0aG9kczt0YWJNZXRob2RzPWhhc1Bhc3N3b3JkP1tdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGFiTWV0aG9kcyksW1Bhc3N3b3JkTWV0aG9kcy5FbWFpbF0pOnRhYk1ldGhvZHM7dmFyIF91c2VQcm9tcHRQYXNza2V5PXVzZVByb21wdFBhc3NrZXkoe2NvbmRpdGlvbmFsTWVkaWF0aW9uOnRydWV9KSxwcm9tcHRBdXRvZmlsbD1fdXNlUHJvbXB0UGFzc2tleS5wcm9tcHRBdXRvZmlsbDtwcm9tcHRBdXRvZmlsbCgpO2lmKGhhc1Bhc3N3b3JkJiZoYXNFbWFpbE1hZ2ljTGluayl0YWJNZXRob2RzPXRhYk1ldGhvZHMuZmlsdGVyKGZ1bmN0aW9uKG1ldGhvZCl7cmV0dXJuIG1ldGhvZCE9PU1hZ2ljTGlua01ldGhvZHMuRW1haWw7fSk7aWYoaGFzUGFzc3dvcmQmJmhhc09UUEVtYWlsKXRhYk1ldGhvZHM9dGFiTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24obWV0aG9kKXtyZXR1cm4gbWV0aG9kIT09T1RQTWV0aG9kcy5FbWFpbDt9KTt2YXIgX2gkNDM9aCQ1KHRhYk1ldGhvZHNbMF0pLF9oJDQ0PV9zbGljZWRUb0FycmF5MihfaCQ0MywyKSxjdXJyZW50VGFiPV9oJDQ0WzBdLHNldEN1cnJlbnRUYWI9X2gkNDRbMV07aWYoaGFzRW1haWxNYWdpY0xpbmsmJmhhc09UUEVtYWlsKXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWxwZXJcIn0sXCJFcnJvcjogQ2Fubm90IHVzZSBib3RoIEVNTCBhbmQgRW1haWwgT1RQXCIpO3ZhciBUYWJNZXRob2RUb0NvbXBvbmVudD1fZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LE9UUE1ldGhvZHMuRW1haWwsT1RQRW1haWxGb3JtKSxPVFBNZXRob2RzLldoYXRzQXBwLGZ1bmN0aW9uKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGhvbmVGb3JtLHttZXRob2Q6T1RQTWV0aG9kcy5XaGF0c0FwcH0pO30pLE9UUE1ldGhvZHMuU01TLGZ1bmN0aW9uKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGhvbmVGb3JtLHttZXRob2Q6T1RQTWV0aG9kcy5TTVN9KTt9KSxNYWdpY0xpbmtNZXRob2RzLkVtYWlsLE1hZ2ljTGlua0VtYWlsRm9ybSksUGFzc3dvcmRNZXRob2RzLkVtYWlsLFBhc3N3b3Jkc0VtYWlsRm9ybSk7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChBbGVydEJveCx7dmFyaWFudDond2FybmluZyd9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSb290LHt2YWx1ZTpjdXJyZW50VGFiLG9uVmFsdWVDaGFuZ2U6ZnVuY3Rpb24gb25WYWx1ZUNoYW5nZSh2YWx1ZSl7cmV0dXJuIHNldEN1cnJlbnRUYWIodmFsdWUpO319LHRhYk1ldGhvZHMubGVuZ3RoPjEmJigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUYWJMaXN0LHtcImFyaWEtbGFiZWxcIjpcIm90cC10YWJzXCJ9LHRhYk1ldGhvZHMubWFwKGZ1bmN0aW9uKG1ldGhvZCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGFiVHJpZ2dlcix7dmFsdWU6bWV0aG9kLGtleTptZXRob2QsXCIkYWN0aXZlXCI6bWV0aG9kPT09Y3VycmVudFRhYn0sT1RQVGFiSGVhZGVyc1ttZXRob2RdKTt9KSkpLHRhYk1ldGhvZHMubWFwKGZ1bmN0aW9uKG1ldGhvZCl7dmFyIENvbXBvbmVudD1UYWJNZXRob2RUb0NvbXBvbmVudFttZXRob2RdO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENvbnRlbnQse3ZhbHVlOm1ldGhvZCxrZXk6bWV0aG9kfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDb21wb25lbnQsbnVsbCkpO30pKSk7fTt2YXIgV2FsbGV0QnV0dG9uPWZ1bmN0aW9uIFdhbGxldEJ1dHRvbihwcm9wcyl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLHtpZDpcIndhbGxldC1cIi5jb25jYXQocHJvcHMud2FsbGV0VHlwZVRpdGxlKSx0eXBlOlwiYnV0dG9uXCIsb25DbGljazpwcm9wcy5vbkNsaWNrLHZhcmlhbnQ6XCJvdXRsaW5lZFwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtqdXN0aWZ5Q29udGVudDpcImNlbnRlclwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixnYXA6NH0scHJvcHMuaWNvbiwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6e3ZlcnRpY2FsQWxpZ246J21pZGRsZSd9fSxwcm9wcy53YWxsZXRUeXBlVGl0bGUpKSk7fTtmdW5jdGlvbiBiYXNlKEFMUEhBQkVUKXtpZihBTFBIQUJFVC5sZW5ndGg+PTI1NSl7dGhyb3cgbmV3IFR5cGVFcnJvcignQWxwaGFiZXQgdG9vIGxvbmcnKTt9dmFyIEJBU0VfTUFQPW5ldyBVaW50OEFycmF5KDI1Nik7Zm9yKHZhciBqPTA7ajxCQVNFX01BUC5sZW5ndGg7aisrKXtCQVNFX01BUFtqXT0yNTU7fWZvcih2YXIgaT0wO2k8QUxQSEFCRVQubGVuZ3RoO2krKyl7dmFyIHg9QUxQSEFCRVQuY2hhckF0KGkpO3ZhciB4Yz14LmNoYXJDb2RlQXQoMCk7aWYoQkFTRV9NQVBbeGNdIT09MjU1KXt0aHJvdyBuZXcgVHlwZUVycm9yKHgrJyBpcyBhbWJpZ3VvdXMnKTt9QkFTRV9NQVBbeGNdPWk7fXZhciBCQVNFPUFMUEhBQkVULmxlbmd0aDt2YXIgTEVBREVSPUFMUEhBQkVULmNoYXJBdCgwKTt2YXIgRkFDVE9SPU1hdGgubG9nKEJBU0UpL01hdGgubG9nKDI1Nik7dmFyIGlGQUNUT1I9TWF0aC5sb2coMjU2KS9NYXRoLmxvZyhCQVNFKTtmdW5jdGlvbiBlbmNvZGUoc291cmNlKXtpZihzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5KTtlbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhzb3VyY2UpKXtzb3VyY2U9bmV3IFVpbnQ4QXJyYXkoc291cmNlLmJ1ZmZlcixzb3VyY2UuYnl0ZU9mZnNldCxzb3VyY2UuYnl0ZUxlbmd0aCk7fWVsc2UgaWYoQXJyYXkuaXNBcnJheShzb3VyY2UpKXtzb3VyY2U9VWludDhBcnJheS5mcm9tKHNvdXJjZSk7fWlmKCEoc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFVpbnQ4QXJyYXknKTt9aWYoc291cmNlLmxlbmd0aD09PTApe3JldHVybicnO312YXIgemVyb2VzPTA7dmFyIGxlbmd0aD0wO3ZhciBwYmVnaW49MDt2YXIgcGVuZD1zb3VyY2UubGVuZ3RoO3doaWxlKHBiZWdpbiE9PXBlbmQmJnNvdXJjZVtwYmVnaW5dPT09MCl7cGJlZ2luKys7emVyb2VzKys7fXZhciBzaXplPShwZW5kLXBiZWdpbikqaUZBQ1RPUisxPj4+MDt2YXIgYjU4PW5ldyBVaW50OEFycmF5KHNpemUpO3doaWxlKHBiZWdpbiE9PXBlbmQpe3ZhciBjYXJyeT1zb3VyY2VbcGJlZ2luXTt2YXIgaT0wO2Zvcih2YXIgaXQxPXNpemUtMTsoY2FycnkhPT0wfHxpPGxlbmd0aCkmJml0MSE9PS0xO2l0MS0tLGkrKyl7Y2FycnkrPTI1NipiNThbaXQxXT4+PjA7YjU4W2l0MV09Y2FycnklQkFTRT4+PjA7Y2Fycnk9Y2FycnkvQkFTRT4+PjA7fWlmKGNhcnJ5IT09MCl7dGhyb3cgbmV3IEVycm9yKCdOb24temVybyBjYXJyeScpO31sZW5ndGg9aTtwYmVnaW4rKzt9dmFyIGl0Mj1zaXplLWxlbmd0aDt3aGlsZShpdDIhPT1zaXplJiZiNThbaXQyXT09PTApe2l0MisrO312YXIgc3RyPUxFQURFUi5yZXBlYXQoemVyb2VzKTtmb3IoO2l0MjxzaXplOysraXQyKXtzdHIrPUFMUEhBQkVULmNoYXJBdChiNThbaXQyXSk7fXJldHVybiBzdHI7fWZ1bmN0aW9uIGRlY29kZVVuc2FmZShzb3VyY2Upe2lmKHR5cGVvZiBzb3VyY2UhPT0nc3RyaW5nJyl7dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgU3RyaW5nJyk7fWlmKHNvdXJjZS5sZW5ndGg9PT0wKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKTt9dmFyIHBzej0wO3ZhciB6ZXJvZXM9MDt2YXIgbGVuZ3RoPTA7d2hpbGUoc291cmNlW3Bzel09PT1MRUFERVIpe3plcm9lcysrO3BzeisrO312YXIgc2l6ZT0oc291cmNlLmxlbmd0aC1wc3opKkZBQ1RPUisxPj4+MDt2YXIgYjI1Nj1uZXcgVWludDhBcnJheShzaXplKTt3aGlsZShzb3VyY2VbcHN6XSl7dmFyIGNhcnJ5PUJBU0VfTUFQW3NvdXJjZS5jaGFyQ29kZUF0KHBzeildO2lmKGNhcnJ5PT09MjU1KXtyZXR1cm47fXZhciBpPTA7Zm9yKHZhciBpdDM9c2l6ZS0xOyhjYXJyeSE9PTB8fGk8bGVuZ3RoKSYmaXQzIT09LTE7aXQzLS0saSsrKXtjYXJyeSs9QkFTRSpiMjU2W2l0M10+Pj4wO2IyNTZbaXQzXT1jYXJyeSUyNTY+Pj4wO2NhcnJ5PWNhcnJ5LzI1Nj4+PjA7fWlmKGNhcnJ5IT09MCl7dGhyb3cgbmV3IEVycm9yKCdOb24temVybyBjYXJyeScpO31sZW5ndGg9aTtwc3orKzt9dmFyIGl0ND1zaXplLWxlbmd0aDt3aGlsZShpdDQhPT1zaXplJiZiMjU2W2l0NF09PT0wKXtpdDQrKzt9dmFyIHZjaD1uZXcgVWludDhBcnJheSh6ZXJvZXMrKHNpemUtaXQ0KSk7dmFyIGo9emVyb2VzO3doaWxlKGl0NCE9PXNpemUpe3ZjaFtqKytdPWIyNTZbaXQ0KytdO31yZXR1cm4gdmNoO31mdW5jdGlvbiBkZWNvZGUoc3RyaW5nKXt2YXIgYnVmZmVyPWRlY29kZVVuc2FmZShzdHJpbmcpO2lmKGJ1ZmZlcil7cmV0dXJuIGJ1ZmZlcjt9dGhyb3cgbmV3IEVycm9yKCdOb24tYmFzZScrQkFTRSsnIGNoYXJhY3RlcicpO31yZXR1cm57ZW5jb2RlOmVuY29kZSxkZWNvZGVVbnNhZmU6ZGVjb2RlVW5zYWZlLGRlY29kZTpkZWNvZGV9O312YXIgc3JjPWJhc2U7dmFyIGJhc2V4PXNyYzt2YXIgQUxQSEFCRVQ9JzEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXonO3ZhciBiczU4PWJhc2V4KEFMUEhBQkVUKTt2YXIgUGhhbnRvbUljb25Tdmc9ZnVuY3Rpb24gUGhhbnRvbUljb25TdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsdmlld0JveDpcIjAgMCAyMCAyMFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xMCAyMEMxNS41MjI4IDIwIDIwIDE1LjUyMjggMjAgMTBDMjAgNC40NzcxNSAxNS41MjI4IDAgMTAgMEM0LjQ3NzE1IDAgMCA0LjQ3NzE1IDAgMTBDMCAxNS41MjI4IDQuNDc3MTUgMjAgMTAgMjBaXCIsZmlsbDpcInVybCgjcGFpbnQwX2xpbmVhcl8yXzIpXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNy4yNzg3IDEwLjE0MjhIMTUuNDkwOUMxNS40OTA5IDYuNTI1OCAxMi41MjcgMy41OTM3NSA4Ljg3MDY4IDMuNTkzNzVDNS4yNTk1NiAzLjU5Mzc1IDIuMzIzNjggNi40NTQwMiAyLjI1MTg0IDEwLjAwOTFDMi4xNzc1IDEzLjY4MzkgNS42NjI2NSAxNi44NzUgOS4zNzc5IDE2Ljg3NUg5Ljg0NTIxQzEzLjEyMDcgMTYuODc1IDE3LjUxMDggMTQuMzM4NSAxOC4xOTY3IDExLjI0OEMxOC4zMjM0IDEwLjY3ODMgMTcuODY4NCAxMC4xNDI4IDE3LjI3ODcgMTAuMTQyOFpNNi4yMTM4OSAxMC4zMDRDNi4yMTM4OSAxMC43ODc3IDUuODEzOTggMTEuMTgzMyA1LjMyNTAzIDExLjE4MzNDNC44MzYwNyAxMS4xODMzIDQuNDM2MTggMTAuNzg3NSA0LjQzNjE4IDEwLjMwNFY4Ljg4MTQ3QzQuNDM2MTggOC4zOTc3NyA0LjgzNjA3IDguMDAyMTcgNS4zMjUwMyA4LjAwMjE3QzUuODEzOTggOC4wMDIxNyA2LjIxMzg5IDguMzk3NzcgNi4yMTM4OSA4Ljg4MTQ3VjEwLjMwNFpNOS4zMDAzNyAxMC4zMDRDOS4zMDAzNyAxMC43ODc3IDguOTAwNDggMTEuMTgzMyA4LjQxMTUzIDExLjE4MzNDNy45MjI1NyAxMS4xODMzIDcuNTIyNjcgMTAuNzg3NSA3LjUyMjY3IDEwLjMwNFY4Ljg4MTQ3QzcuNTIyNjcgOC4zOTc3NyA3LjkyMjc1IDguMDAyMTcgOC40MTE1MyA4LjAwMjE3QzguOTAwNDggOC4wMDIxNyA5LjMwMDM3IDguMzk3NzcgOS4zMDAzNyA4Ljg4MTQ3VjEwLjMwNFpcIixmaWxsOlwidXJsKCNwYWludDFfbGluZWFyXzJfMilcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLHtpZDpcInBhaW50MF9saW5lYXJfMl8yXCIseDE6XCIxMFwiLHkxOlwiMFwiLHgyOlwiMTBcIix5MjpcIjIwXCIsZ3JhZGllbnRVbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLHtzdG9wQ29sb3I6XCIjNTM0QkIxXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN0b3BcIix7b2Zmc2V0OlwiMVwiLHN0b3BDb2xvcjpcIiM1NTFCRjlcIn0pKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImxpbmVhckdyYWRpZW50XCIse2lkOlwicGFpbnQxX2xpbmVhcl8yXzJcIix4MTpcIjEwLjIzNDNcIix5MTpcIjMuNTkzNzVcIix4MjpcIjEwLjIzNDNcIix5MjpcIjE2Ljg3NVwiLGdyYWRpZW50VW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN0b3BcIix7c3RvcENvbG9yOlwid2hpdGVcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLHtvZmZzZXQ6XCIxXCIsc3RvcENvbG9yOlwid2hpdGVcIixzdG9wT3BhY2l0eTpcIjAuODJcIn0pKSkpO307dmFyIFBoYW50b21JY29uPUNyZWF0ZUljb24oUGhhbnRvbUljb25TdmcpO3ZhciBNZXRhbWFza0ljb25Tdmc9ZnVuY3Rpb24gTWV0YW1hc2tJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHZpZXdCb3g6XCIwIDAgMjAgMjBcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTcuMjA2NSAyLjIyODQ5TDEwLjk2MDQgNi44Njc1M0wxMi4xMTU1IDQuMTMwNTZMMTcuMjA2NSAyLjIyODQ5WlwiLGZpbGw6XCIjRTI3NjFCXCIsc3Ryb2tlOlwiI0UyNzYxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTIuNzg3MTcgMi4yMjg0OUw4Ljk4MzAzIDYuOTExNDdMNy44ODQ0NyA0LjEzMDU2TDIuNzg3MTcgMi4yMjg0OVpcIixmaWxsOlwiI0U0NzYxQlwiLHN0cm9rZTpcIiNFNDc2MUJcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xNC45NTkyIDEyLjk4MThMMTMuMjk1NyAxNS41MzA0TDE2Ljg1NSAxNi41MDk3TDE3Ljg3ODIgMTMuMDM4M0wxNC45NTkyIDEyLjk4MThaXCIsZmlsbDpcIiNFNDc2MUJcIixzdHJva2U6XCIjRTQ3NjFCXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMi4xMjgwNSAxMy4wMzgzTDMuMTQ1IDE2LjUwOTdMNi43MDQzMiAxNS41MzA0TDUuMDQwNzkgMTIuOTgxOEwyLjEyODA1IDEzLjAzODNaXCIsZmlsbDpcIiNFNDc2MUJcIixzdHJva2U6XCIjRTQ3NjFCXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNi41MDM0NCA4LjY3NTQ0TDUuNTExNiAxMC4xNzU3TDkuMDQ1ODEgMTAuMzMyN0w4LjkyMDI2IDYuNTM0ODJMNi41MDM0NCA4LjY3NTQ0WlwiLGZpbGw6XCIjRTQ3NjFCXCIsc3Ryb2tlOlwiI0U0NzYxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEzLjQ5MDMgOC42NzU0M0wxMS4wNDIxIDYuNDkwODhMMTAuOTYwNCAxMC4zMzI3TDE0LjQ4ODQgMTAuMTc1N0wxMy40OTAzIDguNjc1NDNaXCIsZmlsbDpcIiNFNDc2MUJcIixzdHJva2U6XCIjRTQ3NjFCXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNi43MDQzMiAxNS41MzA0TDguODI2MSAxNC40OTQ2TDYuOTkzMDggMTMuMDYzNEw2LjcwNDMyIDE1LjUzMDRaXCIsZmlsbDpcIiNFNDc2MUJcIixzdHJva2U6XCIjRTQ3NjFCXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTEuMTY3NiAxNC40OTQ2TDEzLjI5NTcgMTUuNTMwNEwxMy4wMDA2IDEzLjA2MzRMMTEuMTY3NiAxNC40OTQ2WlwiLGZpbGw6XCIjRTQ3NjFCXCIsc3Ryb2tlOlwiI0U0NzYxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEzLjI5NTcgMTUuNTMwNEwxMS4xNjc2IDE0LjQ5NDdMMTEuMzM3MSAxNS44ODJMMTEuMzE4MyAxNi40NjU4TDEzLjI5NTcgMTUuNTMwNFpcIixmaWxsOlwiI0Q3QzFCM1wiLHN0cm9rZTpcIiNEN0MxQjNcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk02LjcwNDM1IDE1LjUzMDRMOC42ODE3NSAxNi40NjU4TDguNjY5MTkgMTUuODgyTDguODI2MTMgMTQuNDk0N0w2LjcwNDM1IDE1LjUzMDRaXCIsZmlsbDpcIiNEN0MxQjNcIixzdHJva2U6XCIjRDdDMUIzXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOC43MTMxMiAxMi4xNDY5TDYuOTQyODcgMTEuNjI1OUw4LjE5MjA5IDExLjA1NDZMOC43MTMxMiAxMi4xNDY5WlwiLGZpbGw6XCIjMjMzNDQ3XCIsc3Ryb2tlOlwiIzIzMzQ0N1wiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTExLjI4MDYgMTIuMTQ2OUwxMS44MDE2IDExLjA1NDZMMTMuMDU3MSAxMS42MjU5TDExLjI4MDYgMTIuMTQ2OVpcIixmaWxsOlwiIzIzMzQ0N1wiLHN0cm9rZTpcIiMyMzM0NDdcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk02LjcwNDMzIDE1LjUzMDVMNy4wMDU2NSAxMi45ODE4TDUuMDQwOCAxMy4wMzgzTDYuNzA0MzMgMTUuNTMwNVpcIixmaWxsOlwiI0NENjExNlwiLHN0cm9rZTpcIiNDRDYxMTZcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xMi45OTQ0IDEyLjk4MThMMTMuMjk1NyAxNS41MzA1TDE0Ljk1OTIgMTMuMDM4M0wxMi45OTQ0IDEyLjk4MThaXCIsZmlsbDpcIiNDRDYxMTZcIixzdHJva2U6XCIjQ0Q2MTE2XCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTQuNDg4NCAxMC4xNzU4TDEwLjk2MDQgMTAuMzMyN0wxMS4yODY5IDEyLjE0NjlMMTEuODA3OSAxMS4wNTQ2TDEzLjA2MzQgMTEuNjI1OUwxNC40ODg0IDEwLjE3NThaXCIsZmlsbDpcIiNDRDYxMTZcIixzdHJva2U6XCIjQ0Q2MTE2XCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNi45NDI4OSAxMS42MjU5TDguMTk4MzggMTEuMDU0Nkw4LjcxMzEzIDEyLjE0NjlMOS4wNDU4NCAxMC4zMzI3TDUuNTExNjMgMTAuMTc1OEw2Ljk0Mjg5IDExLjYyNTlaXCIsZmlsbDpcIiNDRDYxMTZcIixzdHJva2U6XCIjQ0Q2MTE2XCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNS41MTE2MyAxMC4xNzU4TDYuOTkzMTEgMTMuMDYzNEw2Ljk0Mjg5IDExLjYyNTlMNS41MTE2MyAxMC4xNzU4WlwiLGZpbGw6XCIjRTQ3NTFGXCIsc3Ryb2tlOlwiI0U0NzUxRlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEzLjA2MzQgMTEuNjI1OUwxMy4wMDA2IDEzLjA2MzRMMTQuNDg4NCAxMC4xNzU4TDEzLjA2MzQgMTEuNjI1OVpcIixmaWxsOlwiI0U0NzUxRlwiLHN0cm9rZTpcIiNFNDc1MUZcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk05LjA0NTg0IDEwLjMzMjdMOC43MTMxMyAxMi4xNDY5TDkuMTI3NDUgMTQuMjg3NUw5LjIyMTYxIDExLjQ2OUw5LjA0NTg0IDEwLjMzMjdaXCIsZmlsbDpcIiNFNDc1MUZcIixzdHJva2U6XCIjRTQ3NTFGXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTAuOTYwNSAxMC4zMzI3TDEwLjc5MSAxMS40NjI3TDEwLjg2NjMgMTQuMjg3NUwxMS4yODY5IDEyLjE0NjlMMTAuOTYwNSAxMC4zMzI3WlwiLGZpbGw6XCIjRTQ3NTFGXCIsc3Ryb2tlOlwiI0U0NzUxRlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTExLjI4NjkgMTIuMTQ2OUwxMC44NjYzIDE0LjI4NzVMMTEuMTY3NiAxNC40OTQ3TDEzLjAwMDYgMTMuMDYzNEwxMy4wNjM0IDExLjYyNTlMMTEuMjg2OSAxMi4xNDY5WlwiLGZpbGw6XCIjRjY4NTFCXCIsc3Ryb2tlOlwiI0Y2ODUxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTYuOTQyODcgMTEuNjI1OUw2Ljk5MzA5IDEzLjA2MzRMOC44MjYxMSAxNC40OTQ3TDkuMTI3NDMgMTQuMjg3NUw4LjcxMzEyIDEyLjE0NjlMNi45NDI4NyAxMS42MjU5WlwiLGZpbGw6XCIjRjY4NTFCXCIsc3Ryb2tlOlwiI0Y2ODUxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTExLjMxODMgMTYuNDY1OEwxMS4zMzcxIDE1Ljg4MkwxMS4xODAyIDE1Ljc0MzlIOC44MTM1N0w4LjY2OTE5IDE1Ljg4Mkw4LjY4MTc1IDE2LjQ2NThMNi43MDQzNSAxNS41MzA1TDcuMzk0ODcgMTYuMDk1NEw4Ljc5NDc0IDE3LjA2ODRIMTEuMTk5TDEyLjYwNTIgMTYuMDk1NEwxMy4yOTU3IDE1LjUzMDVMMTEuMzE4MyAxNi40NjU4WlwiLGZpbGw6XCIjQzBBRDlFXCIsc3Ryb2tlOlwiI0MwQUQ5RVwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTExLjE2NzYgMTQuNDk0N0wxMC44NjYzIDE0LjI4NzVIOS4xMjc0NEw4LjgyNjEzIDE0LjQ5NDdMOC42NjkxOSAxNS44ODJMOC44MTM1NyAxNS43NDM5SDExLjE4MDJMMTEuMzM3MSAxNS44ODJMMTEuMTY3NiAxNC40OTQ3WlwiLGZpbGw6XCIjMTYxNjE2XCIsc3Ryb2tlOlwiIzE2MTYxNlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE3LjQ3MDIgNy4xNjg4NUwxOC4wMDM4IDQuNjA3NjRMMTcuMjA2NiAyLjIyODQ5TDExLjE2NzYgNi43MTA1OUwxMy40OTAzIDguNjc1NDRMMTYuNzczNCA5LjYzNTg5TDE3LjUwMTYgOC43ODg0M0wxNy4xODc3IDguNTYyNDVMMTcuNjg5OSA4LjEwNDE5TDE3LjMwMDcgNy44MDI4N0wxNy44MDI5IDcuNDE5OTVMMTcuNDcwMiA3LjE2ODg1WlwiLGZpbGw6XCIjNzYzRDE2XCIsc3Ryb2tlOlwiIzc2M0QxNlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEuOTk2MjUgNC42MDc2NEwyLjUyOTgzIDcuMTY4ODVMMi4xOTA4NSA3LjQxOTk1TDIuNjkzMDQgNy44MDI4N0wyLjMxMDEyIDguMTA0MTlMMi44MTIzMiA4LjU2MjQ1TDIuNDk4NDQgOC43ODg0M0wzLjIyMDM1IDkuNjM1ODlMNi41MDM0NyA4LjY3NTQ0TDguODI2MTMgNi43MTA1OUwyLjc4NzIxIDIuMjI4NDlMMS45OTYyNSA0LjYwNzY0WlwiLGZpbGw6XCIjNzYzRDE2XCIsc3Ryb2tlOlwiIzc2M0QxNlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE2Ljc3MzQgOS42MzU5TDEzLjQ5MDMgOC42NzU0NUwxNC40ODg0IDEwLjE3NThMMTMuMDAwNiAxMy4wNjM0TDE0Ljk1OTIgMTMuMDM4M0gxNy44NzgyTDE2Ljc3MzQgOS42MzU5WlwiLGZpbGw6XCIjRjY4NTFCXCIsc3Ryb2tlOlwiI0Y2ODUxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTYuNTAzNDQgOC42NzU0NUwzLjIyMDMzIDkuNjM1OUwyLjEyODA1IDEzLjAzODNINS4wNDA4TDYuOTkzMDkgMTMuMDYzNEw1LjUxMTYxIDEwLjE3NThMNi41MDM0NCA4LjY3NTQ1WlwiLGZpbGw6XCIjRjY4NTFCXCIsc3Ryb2tlOlwiI0Y2ODUxQlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEwLjk2MDQgMTAuMzMyN0wxMS4xNjc2IDYuNzEwNjJMMTIuMTIxOCA0LjEzMDU4SDcuODg0NDlMOC44MjYxMSA2LjcxMDYyTDkuMDQ1ODIgMTAuMzMyN0w5LjEyMTE1IDExLjQ3NTJMOS4xMjc0MyAxNC4yODc1SDEwLjg2NjNMMTAuODc4OCAxMS40NzUyTDEwLjk2MDQgMTAuMzMyN1pcIixmaWxsOlwiI0Y2ODUxQlwiLHN0cm9rZTpcIiNGNjg1MUJcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSk7fTt2YXIgTWV0YW1hc2tJY29uPUNyZWF0ZUljb24oTWV0YW1hc2tJY29uU3ZnKTt2YXIgVmVzc2VsSWNvblN2Zz1mdW5jdGlvbiBWZXNzZWxJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHZpZXdCb3g6XCIwIDAgMjEgMjBcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJnXCIse2NsaXBQYXRoOlwidXJsKCNjbGlwMF81MTdfNjgzMSlcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGxSdWxlOlwiZXZlbm9kZFwiLGNsaXBSdWxlOlwiZXZlbm9kZFwiLGQ6XCJNMTEuNjAyIDMuMjMyNUM3Ljk5ODU2IDMuMjMyNSA0LjM2NzE0IDYuNTg1NTEgNS41NDA4MyAxMS4yNTY1TDQuOTEzNzYgMTEuNDE0QzMuNjIyNiA2LjI3NTYxIDcuNjQwNzYgMi41ODU5NCAxMS42MDIgMi41ODU5NEMxNS44MjE2IDIuNTg1OTQgMTkuNzU2MiA2LjQ0OTc3IDE4LjMzMDQgMTEuNTQ4MUwxNy43MDc3IDExLjM3NEMxOS4wMDE4IDYuNzQ2NzEgMTUuNDU2NyAzLjIzMjUgMTEuNjAyIDMuMjMyNVpcIixmaWxsOlwiIzJBMzg0QVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGxSdWxlOlwiZXZlbm9kZFwiLGNsaXBSdWxlOlwiZXZlbm9kZFwiLGQ6XCJNMTEuNTk4OCAxLjI5ODkxQzYuNDE1NjYgMS4yOTg5MSAyLjA1MjQ0IDYuMTQwNDYgMy44ODUzMSAxMi44MTI0TDMuMjYxODQgMTIuOTgzNkMxLjMyMTgyIDUuOTIxNjUgNS45NjY4MiAwLjY1MjM0NCAxMS41OTg4IDAuNjUyMzQ0QzE3LjU4NDEgMC42NTIzNDQgMjIuNTg2MSA2Ljc3Mjk2IDE5LjU4ODkgMTMuNDUxNkwxOC45OTkxIDEzLjE4NjlDMjEuNzg3MSA2Ljk3NDI3IDE3LjE1NzkgMS4yOTg5MSAxMS41OTg4IDEuMjk4OTFaXCIsZmlsbDpcIiMyQTM4NEFcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtmaWxsUnVsZTpcImV2ZW5vZGRcIixjbGlwUnVsZTpcImV2ZW5vZGRcIixkOlwiTTguMTc4OTQgNi45NDYyMkM3LjQ4MTMzIDcuOTE0MDggNy4yNDA1NyA5LjEwMDMxIDcuMzY4ODcgOS45NjE4OEM3LjM5NTIyIDEwLjEzODUgNy4yNzMzNCAxMC4zMDMgNy4wOTY3MyAxMC4zMjkyQzYuOTIwMTkgMTAuMzU1NSA2Ljc1NTY4IDEwLjIzMzcgNi43MjkzOCAxMC4wNTcxQzYuNTc1MzIgOS4wMjI3IDYuODYxOTUgNy42Njc2IDcuNjU0NDcgNi41NjgxNEM4LjQ1NjggNS40NTQ5NyA5Ljc3ODU2IDQuNjAzNTIgMTEuNjcyNyA0LjYwMzUyQzEzLjMwNjUgNC42MDM1MiAxNC42NDEgNS40MDY5NiAxNS40OTI2IDYuNTE0NzZDMTYuMzM5OSA3LjYxNjk4IDE2LjcyNzIgOS4wNDQ0IDE2LjQ0MDggMTAuMzIyMkMxNi40MDE4IDEwLjQ5NjUgMTYuMjI4OSAxMC42MDYgMTYuMDU0NyAxMC41NjdDMTUuODgwNCAxMC41Mjc5IDE1Ljc3MDkgMTAuMzU1IDE1LjgwOTkgMTAuMTgwOEMxNi4wNDc5IDkuMTE4OTkgMTUuNzI5NyA3Ljg4NDA4IDE0Ljk4IDYuOTA4OEMxNC4yMzQ2IDUuOTM5MTcgMTMuMDgwNiA1LjI1MDA4IDExLjY3MjcgNS4yNTAwOEM5Ljk5NzkzIDUuMjUwMDggOC44NjY3MyA1Ljk5MjAxIDguMTc4OTQgNi45NDYyMlpcIixmaWxsOlwiIzJBMzg0QVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2ZpbGxSdWxlOlwiZXZlbm9kZFwiLGNsaXBSdWxlOlwiZXZlbm9kZFwiLGQ6XCJNMTkuNTIxIDE0LjY3NTFDMTkuNTA0OCAxMS43MzE0IDE2LjEzNTcgMTAuMzU3NiAxNi4xMzU3IDEwLjM1NzZIMTMuODI1OUwxMi45MTgzIDguNDY4NzVIMTEuNTkzNkgxMC4yNjg5TDkuMzYxMjggMTAuMzU3Nkg2LjkxMTk3TDQuMzYwNzMgMTIuMTgyOUwyLjc0MTY4IDEwLjM1NzZIMC44NzczMTlMMi4xNTI5NCAxMy43NjI1TDAuODc3MzE5IDE0LjY3NTFMMi4xNTI5NCAxNS41OTgxTDAuODc3MzE5IDE5LjA0MTZIMi43NDE2OEw0LjM2MDczIDE3LjE5NTZMNi45MTE5NyAxOS4wNDE2SDE2LjEzNTdDMTYuMTM1NyAxOS4wNDE2IDE5LjUzNzEgMTcuNjE4OCAxOS41MjEgMTQuNjc1MVpNNy42OTUxOCAxNS45MDM5QzguMzg2MTIgMTUuOTAzOSA4Ljk0NjI1IDE1LjM0MzggOC45NDYyNSAxNC42NTI4QzguOTQ2MjUgMTMuOTYxOCA4LjM4NjEyIDEzLjQwMTcgNy42OTUxOCAxMy40MDE3QzcuMDA0MjMgMTMuNDAxNyA2LjQ0NDEgMTMuOTYxOCA2LjQ0NDEgMTQuNjUyOEM2LjQ0NDEgMTUuMzQzOCA3LjAwNDIzIDE1LjkwMzkgNy42OTUxOCAxNS45MDM5Wk0xMi44ODcxIDE0LjY1MjhDMTIuODg3MSAxNS4zNDM4IDEyLjMyNyAxNS45MDM5IDExLjYzNjEgMTUuOTAzOUMxMC45NDUxIDE1LjkwMzkgMTAuMzg1IDE1LjM0MzggMTAuMzg1IDE0LjY1MjhDMTAuMzg1IDEzLjk2MTggMTAuOTQ1MSAxMy40MDE3IDExLjYzNjEgMTMuNDAxN0MxMi4zMjcgMTMuNDAxNyAxMi44ODcxIDEzLjk2MTggMTIuODg3MSAxNC42NTI4Wk0xNS41ODkzIDE1LjkwMzlDMTYuMjgwMyAxNS45MDM5IDE2Ljg0MDUgMTUuMzQzOCAxNi44NDA1IDE0LjY1MjhDMTYuODQwNSAxMy45NjE4IDE2LjI4MDMgMTMuNDAxNyAxNS41ODkzIDEzLjQwMTdDMTQuODk4NCAxMy40MDE3IDE0LjMzODMgMTMuOTYxOCAxNC4zMzgzIDE0LjY1MjhDMTQuMzM4MyAxNS4zNDM4IDE0Ljg5ODQgMTUuOTAzOSAxNS41ODkzIDE1LjkwMzlaXCIsZmlsbDpcInVybCgjcGFpbnQwX2xpbmVhcl81MTdfNjgzMSlcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtmaWxsUnVsZTpcImV2ZW5vZGRcIixjbGlwUnVsZTpcImV2ZW5vZGRcIixkOlwiTTExLjI3MDQgNi43ODQyMkMxMS4yNzA0IDYuNjA1NjcgMTEuNDE1MSA2LjQ2MDk0IDExLjU5MzYgNi40NjA5NEgxMi44NThDMTMuMDM2NSA2LjQ2MDk0IDEzLjE4MTMgNi42MDU2NyAxMy4xODEzIDYuNzg0MjJDMTMuMTgxMyA2Ljk2MjczIDEzLjAzNjUgNy4xMDc1MSAxMi44NTggNy4xMDc1MUgxMS45MTY5VjguMTQ0NzRIMTIuOTE4M0MxMy4wNDI2IDguMTQ0NzQgMTMuMTU1OCA4LjIxNiAxMy4yMDk3IDguMzI4MDFMMTQuMDI5MyAxMC4wMzM3SDE2LjEzNTdDMTYuMTc3NSAxMC4wMzM3IDE2LjIxOSAxMC4wNDE4IDE2LjI1NzcgMTAuMDU3NkwxNi4xMzU3IDEwLjM1NjlDMTYuMjU3NyAxMC4wNTc2IDE2LjI1NzkgMTAuMDU3NiAxNi4yNTggMTAuMDU3N0wxNi4yNTg0IDEwLjA1NzhMMTYuMjU5MiAxMC4wNTgyTDE2LjI2MTkgMTAuMDU5M0MxNi4yNjQxIDEwLjA2MDIgMTYuMjY3MiAxMC4wNjE1IDE2LjI3MSAxMC4wNjMxQzE2LjI3ODYgMTAuMDY2MyAxNi4yODkzIDEwLjA3MDkgMTYuMzAzIDEwLjA3NjhDMTYuMzMwMiAxMC4wODg3IDE2LjM2OTEgMTAuMTA2MSAxNi40MTggMTAuMTI5MUMxNi41MTU4IDEwLjE3NTEgMTYuNjUzOCAxMC4yNDM0IDE2LjgxODggMTAuMzM0N0MxNy4xNDggMTAuNTE2NyAxNy41ODgzIDEwLjc5MTkgMTguMDMwNiAxMS4xNjQ2QzE4LjkxMDYgMTEuOTA2IDE5LjgzNTUgMTMuMDY2OCAxOS44NDQzIDE0LjY3MjdDMTkuODUzMSAxNi4yODAyIDE4LjkyNzIgMTcuNDU0MiAxOC4wNDQyIDE4LjIwNzVDMTcuNjAwMSAxOC41ODYzIDE3LjE1NyAxOC44Njc3IDE2LjgyNTUgMTkuMDU0NEMxNi42NTk0IDE5LjE0NzkgMTYuNTIwMyAxOS4yMTgxIDE2LjQyMTggMTkuMjY1NUMxNi4zNzI1IDE5LjI4OTEgMTYuMzMzMyAxOS4zMDcxIDE2LjMwNTggMTkuMzE5M0MxNi4yOTIxIDE5LjMyNTUgMTYuMjgxNCAxOS4zMzAyIDE2LjI3MzcgMTkuMzMzNUMxNi4yNjk5IDE5LjMzNTIgMTYuMjY2OSAxOS4zMzY0IDE2LjI2NDcgMTkuMzM3NEwxNi4yNjE5IDE5LjMzODZMMTYuMjYxIDE5LjMzOUwxNi4yNjA3IDE5LjMzOTFDMTYuMjYwNiAxOS4zMzkxIDE2LjI2MDQgMTkuMzM5MiAxNi4xMzU3IDE5LjA0MUwxNi4yNjA0IDE5LjMzOTJDMTYuMjIwOSAxOS4zNTU3IDE2LjE3ODYgMTkuMzY0MiAxNi4xMzU3IDE5LjM2NDJINi45MTIwMUM2Ljg0Mzk2IDE5LjM2NDIgNi43Nzc2MyAxOS4zNDI3IDYuNzIyNDkgMTkuMzAyOUw0LjQwOTczIDE3LjYyOTRMMi45ODQ3NyAxOS4yNTQxQzIuOTIzMzkgMTkuMzI0MSAyLjgzNDgyIDE5LjM2NDIgMi43NDE3MiAxOS4zNjQySDAuODc3MzYxQzAuNzcxNTYgMTkuMzY0MiAwLjY3MjQ1NCAxOS4zMTI1IDAuNjEyMDE3IDE5LjIyNTZDMC41NTE1NzkgMTkuMTM4OCAwLjUzNzQ1OCAxOS4wMjc4IDAuNTc0MjEgMTguOTI4NkwxLjc2NDUzIDE1LjcxNTRMMC42ODc4NDkgMTQuOTM2M0MwLjYwMzU4NCAxNC44NzU0IDAuNTUzODAyIDE0Ljc3NzYgMC41NTQwOCAxNC42NzM1QzAuNTU0MzU5IDE0LjU2OTUgMC42MDQ2NjQgMTQuNDcyIDAuNjg5MjU1IDE0LjQxMTVMMS43NjMyOCAxMy42NDMxTDAuNTc0NjI4IDEwLjQ3MDNDMC41Mzc0MzUgMTAuMzcxMSAwLjU1MTI3OCAxMC4yNTk5IDAuNjExNjc2IDEwLjE3MjdDMC42NzIwNzMgMTAuMDg1NiAwLjc3MTM0OSAxMC4wMzM3IDAuODc3MzYxIDEwLjAzMzdIMi43NDE3MkMyLjgzNDE4IDEwLjAzMzcgMi45MjIyMiAxMC4wNzMyIDIuOTgzNTcgMTAuMTQyNEw0LjQwOTQ0IDExLjc0OTlMNi43MjM5IDEwLjA5NEM2Ljc3ODc3IDEwLjA1NDcgNi44NDQ1MyAxMC4wMzM3IDYuOTEyMDEgMTAuMDMzN0g5LjE1Nzk4TDkuOTc3NTQgOC4zMjgwMUMxMC4wMzE0IDguMjE2IDEwLjE0NDcgOC4xNDQ3NCAxMC4yNjg5IDguMTQ0NzRIMTEuMjcwNFY2Ljc4NDIyWk0xMC40NzIzIDguNzkxMzVMOS44NzUzNCAxMC4wMzM3SDEzLjMxMTlMMTIuNzE1IDguNzkxMzVIMTAuNDcyM1pNNy4wMTU3MiAxMC42ODAyTDIuMzQxMDkgMTQuMDI0N0MyLjM0MTAyIDE0LjAyNDcgMi4zNDA5NyAxNC4wMjQ4IDIuMzQwOTEgMTQuMDI0OEwxLjQzMDg4IDE0LjY3NTlMMi4zNDI0OSAxNS4zMzU1QzIuMzQyNTQgMTUuMzM1NiAyLjM0MjYgMTUuMzM1NiAyLjM0MjY2IDE1LjMzNTZMNC41NDk3MSAxNi45MzI2QzQuNTQ5OSAxNi45MzI3IDQuNTUwMDkgMTYuOTMyOSA0LjU1MDI5IDE2LjkzM0w3LjAxNjczIDE4LjcxNzZIMTYuMDY3MkMxNi4wODczIDE4LjcwODUgMTYuMTEyMyAxOC42OTY4IDE2LjE0MTkgMTguNjgyN0MxNi4yMjkzIDE4LjY0MDcgMTYuMzU1OCAxOC41NzY4IDE2LjUwODMgMTguNDkwOUMxNi44MTQgMTguMzE4OCAxNy4yMjAzIDE4LjA2MDUgMTcuNjI0NiAxNy43MTU2QzE4LjQzODIgMTcuMDIxNSAxOS4yMDUgMTYuMDEyNCAxOS4xOTc3IDE0LjY3NjJDMTkuMTkwNCAxMy4zMzgzIDE4LjQyMjYgMTIuMzQwMyAxNy42MTQgMTEuNjU5QzE3LjIxMTkgMTEuMzIwMyAxNi44MDg5IDExLjA2OCAxNi41MDYgMTAuOTAwNUMxNi4zNTQ4IDEwLjgxNjkgMTYuMjI5NSAxMC43NTUgMTYuMTQzIDEwLjcxNDNDMTYuMTEzNSAxMC43MDA1IDE2LjA4ODYgMTAuNjg5MSAxNi4wNjg3IDEwLjY4MDJINy4wMTU3MlpNMy44ODM2MSAxNy4yNDg3TDIuMzA4MjggMTYuMTA4OEwxLjM0MTg3IDE4LjcxNzZIMi41OTUyNkwzLjg4MzYxIDE3LjI0ODdaTTIuMzA3NzggMTMuMjUzNUwzLjg4MDcxIDEyLjEyODJMMi41OTYzNCAxMC42ODAySDEuMzQzN0wyLjMwNzc4IDEzLjI1MzVaTTcuNjk1MjIgMTMuNzI0M0M3LjE4MjgzIDEzLjcyNDMgNi43Njc0MyAxNC4xMzk3IDYuNzY3NDMgMTQuNjUyMUM2Ljc2NzQzIDE1LjE2NDUgNy4xODI4MyAxNS41Nzk5IDcuNjk1MjIgMTUuNTc5OUM4LjIwNzYxIDE1LjU3OTkgOC42MjMwMiAxNS4xNjQ1IDguNjIzMDIgMTQuNjUyMUM4LjYyMzAyIDE0LjEzOTcgOC4yMDc2MSAxMy43MjQzIDcuNjk1MjIgMTMuNzI0M1pNNi4xMjA4NiAxNC42NTIxQzYuMTIwODYgMTMuNzgyNiA2LjgyNTcyIDEzLjA3NzggNy42OTUyMiAxMy4wNzc4QzguNTY0NzEgMTMuMDc3OCA5LjI2OTYyIDEzLjc4MjYgOS4yNjk2MiAxNC42NTIxQzkuMjY5NjIgMTUuNTIxNiA4LjU2NDcxIDE2LjIyNjQgNy42OTUyMiAxNi4yMjY0QzYuODI1NzIgMTYuMjI2NCA2LjEyMDg2IDE1LjUyMTYgNi4xMjA4NiAxNC42NTIxWk0xMC4wNjE3IDE0LjY1MjFDMTAuMDYxNyAxMy43ODI2IDEwLjc2NjYgMTMuMDc3OCAxMS42MzYxIDEzLjA3NzhDMTIuNTA1NiAxMy4wNzc4IDEzLjIxMDQgMTMuNzgyNiAxMy4yMTA0IDE0LjY1MjFDMTMuMjEwNCAxNS41MjE2IDEyLjUwNTYgMTYuMjI2NCAxMS42MzYxIDE2LjIyNjRDMTAuNzY2NiAxNi4yMjY0IDEwLjA2MTcgMTUuNTIxNiAxMC4wNjE3IDE0LjY1MjFaTTExLjYzNjEgMTMuNzI0M0MxMS4xMjM2IDEzLjcyNDMgMTAuNzA4MyAxNC4xMzk3IDEwLjcwODMgMTQuNjUyMUMxMC43MDgzIDE1LjE2NDUgMTEuMTIzNiAxNS41Nzk5IDExLjYzNjEgMTUuNTc5OUMxMi4xNDg1IDE1LjU3OTkgMTIuNTYzOSAxNS4xNjQ1IDEyLjU2MzkgMTQuNjUyMUMxMi41NjM5IDE0LjEzOTcgMTIuMTQ4NSAxMy43MjQzIDExLjYzNjEgMTMuNzI0M1pNMTUuNTg5NCAxMy43MjQzQzE1LjA3NyAxMy43MjQzIDE0LjY2MTYgMTQuMTM5NyAxNC42NjE2IDE0LjY1MjFDMTQuNjYxNiAxNS4xNjQ1IDE1LjA3NyAxNS41Nzk5IDE1LjU4OTQgMTUuNTc5OUMxNi4xMDE4IDE1LjU3OTkgMTYuNTE3MiAxNS4xNjQ1IDE2LjUxNzIgMTQuNjUyMUMxNi41MTcyIDE0LjEzOTcgMTYuMTAxOCAxMy43MjQzIDE1LjU4OTQgMTMuNzI0M1pNMTQuMDE1IDE0LjY1MjFDMTQuMDE1IDEzLjc4MjYgMTQuNzE5OSAxMy4wNzc4IDE1LjU4OTQgMTMuMDc3OEMxNi40NTg5IDEzLjA3NzggMTcuMTYzOCAxMy43ODI2IDE3LjE2MzggMTQuNjUyMUMxNy4xNjM4IDE1LjUyMTYgMTYuNDU4OSAxNi4yMjY0IDE1LjU4OTQgMTYuMjI2NEMxNC43MTk5IDE2LjIyNjQgMTQuMDE1IDE1LjUyMTYgMTQuMDE1IDE0LjY1MjFaXCIsZmlsbDpcIiMyQTM4NEFcIn0pKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImRlZnNcIixudWxsLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwibGluZWFyR3JhZGllbnRcIix7aWQ6XCJwYWludDBfbGluZWFyXzUxN182ODMxXCIseDE6XCIxMC4yMjU1XCIseTE6XCI2LjA0ODE4XCIseDI6XCI4Ljk1NzM4XCIseTI6XCIyMC4zMzRcIixncmFkaWVudFVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdG9wXCIse3N0b3BDb2xvcjpcIiNGRkZGODJcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3RvcFwiLHtvZmZzZXQ6XCIxXCIsc3RvcENvbG9yOlwiI0ZGOTlCNFwifSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiY2xpcFBhdGhcIix7aWQ6XCJjbGlwMF81MTdfNjgzMVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInJlY3RcIix7d2lkdGg6XCIyMFwiLGhlaWdodDpcIjE4LjgwNVwiLGZpbGw6XCJ3aGl0ZVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZSgwLjUgMC41OTc2NTYpXCJ9KSkpKTt9O3ZhciBWZXNzZWxJY29uPUNyZWF0ZUljb24oVmVzc2VsSWNvblN2Zyk7dmFyIEJpbmFuY2VJY29uU3ZnPWZ1bmN0aW9uIEJpbmFuY2VJY29uU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7dmlld0JveDpcIjAgMCAyMCAyMFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0yMCAwSDBWMjBIMjBWMFpcIixmaWxsOlwiIzE0MTUxQVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNy4yNjU2MiAxMEw2LjEzMjgxIDExLjEzMjhMNSAxMEw2LjEzMjgxIDguODY3MTlMNy4yNjU2MiAxMFpNMTAgNy4yNTc4MUwxMS45Mzc1IDkuMTk1MzFMMTMuMDcwMyA4LjA2MjVMMTEuMTMyOCA2LjEzMjgxTDEwIDVMOC44NzUgNi4xMzI4MUw2LjkzNzUgOC4wNjI1TDguMDcwMzEgOS4xOTUzMUwxMCA3LjI1NzgxWk0xMy44NjcyIDguODc1TDEyLjc0MjIgMTBMMTMuODc1IDExLjEzMjhMMTUgMTBMMTMuODY3MiA4Ljg3NVpNMTAgMTIuNzQyMkw4LjA2MjUgMTAuODA0N0w2LjkzNzUgMTEuOTM3NUw4Ljg3NSAxMy44NzVMMTAgMTVMMTEuMTMyOCAxMy44NjcyTDEzLjA3MDMgMTEuOTI5N0wxMS45Mzc1IDEwLjgwNDdMMTAgMTIuNzQyMlpNMTAgMTEuMTI1TDExLjEzMjggMTBMMTAgOC44NjcxOUw4Ljg3NSAxMEwxMCAxMS4xMjVaXCIsZmlsbDpcIiNGMEI5MEJcIn0pKTt9O3ZhciBCaW5hbmNlSWNvbj1DcmVhdGVJY29uKEJpbmFuY2VJY29uU3ZnKTt2YXIgR2VuZXJpY1dhbGxldEljb25Tdmc9ZnVuY3Rpb24gR2VuZXJpY1dhbGxldEljb25TdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsdmlld0JveDpcIjAgMCAyMCAxOFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xOC41IDQuMjhWMkMxOC41IDAuOSAxNy42IDAgMTYuNSAwSDIuNUMxLjM5IDAgMC41IDAuOSAwLjUgMlYxNkMwLjUgMTcuMSAxLjM5IDE4IDIuNSAxOEgxNi41QzE3LjYgMTggMTguNSAxNy4xIDE4LjUgMTZWMTMuNzJDMTkuMDkgMTMuMzcgMTkuNSAxMi43NCAxOS41IDEyVjZDMTkuNSA1LjI2IDE5LjA5IDQuNjMgMTguNSA0LjI4Wk0xNy41IDZWMTJIMTAuNVY2SDE3LjVaTTIuNSAxNlYySDE2LjVWNEgxMC41QzkuNCA0IDguNSA0LjkgOC41IDZWMTJDOC41IDEzLjEgOS40IDE0IDEwLjUgMTRIMTYuNVYxNkgyLjVaXCIsZmlsbDpcImJsYWNrXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xMy41IDEwLjVDMTQuMzI4NCAxMC41IDE1IDkuODI4NDMgMTUgOUMxNSA4LjE3MTU3IDE0LjMyODQgNy41IDEzLjUgNy41QzEyLjY3MTYgNy41IDEyIDguMTcxNTcgMTIgOUMxMiA5LjgyODQzIDEyLjY3MTYgMTAuNSAxMy41IDEwLjVaXCIsZmlsbDpcImJsYWNrXCJ9KSk7fTt2YXIgR2VuZXJpY1dhbGxldEljb249Q3JlYXRlSWNvbihHZW5lcmljV2FsbGV0SWNvblN2Zyk7dmFyIGhhc011bHRpcGxlRXRoZXJldW1XYWxsZXRzPWZ1bmN0aW9uIGhhc011bHRpcGxlRXRoZXJldW1XYWxsZXRzKCl7dmFyIF9hO3JldHVybiEhKChfYT13aW5kb3cuZXRoZXJldW0pPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnByb3ZpZGVycyk7fTt2YXIgaGFzTWV0YU1hc2s9ZnVuY3Rpb24gaGFzTWV0YU1hc2soKXt2YXIgX2E7cmV0dXJuISEoaGFzTXVsdGlwbGVFdGhlcmV1bVdhbGxldHMoKT8oX2E9d2luZG93LmV0aGVyZXVtLnByb3ZpZGVycyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZmluZChmdW5jdGlvbih3YWxsZXQpe3JldHVybiB3YWxsZXQuaXNNZXRhTWFzazt9KTp3aW5kb3cuZXRoZXJldW0uaXNNZXRhTWFzayk7fTt2YXIgaGFzQ29pbmJhc2VXYWxsZXQ9ZnVuY3Rpb24gaGFzQ29pbmJhc2VXYWxsZXQoKXt2YXIgX2EsX2I7cmV0dXJuISEoaGFzTXVsdGlwbGVFdGhlcmV1bVdhbGxldHMoKT8oX2E9d2luZG93LmV0aGVyZXVtLnByb3ZpZGVycyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZmluZChmdW5jdGlvbih3YWxsZXQpe3JldHVybiB3YWxsZXQuaXNDb2luYmFzZVdhbGxldDt9KTooX2I9d2luZG93LmV0aGVyZXVtKT09PW51bGx8fF9iPT09dm9pZCAwP3ZvaWQgMDpfYi5pc0NvaW5iYXNlV2FsbGV0KTt9O3ZhciBoYXNPdGhlckV0aGVyZXVtV2FsbGV0PWZ1bmN0aW9uIGhhc090aGVyRXRoZXJldW1XYWxsZXQoKXtyZXR1cm4haGFzTWV0YU1hc2soKSYmIWhhc0NvaW5iYXNlV2FsbGV0KCkmJiEhd2luZG93LmV0aGVyZXVtO307dmFyIGdldE1ldGFNYXNrUHJvdmlkZXI9ZnVuY3Rpb24gZ2V0TWV0YU1hc2tQcm92aWRlcigpe3ZhciBfYTtyZXR1cm4gaGFzTXVsdGlwbGVFdGhlcmV1bVdhbGxldHMoKT8oX2E9d2luZG93LmV0aGVyZXVtLnByb3ZpZGVycyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZmluZChmdW5jdGlvbih3YWxsZXQpe3JldHVybiB3YWxsZXQuaXNNZXRhTWFzazt9KTp3aW5kb3cuZXRoZXJldW07fTt2YXIgZ2V0Q29pbmJhc2VQcm92aWRlcj1mdW5jdGlvbiBnZXRDb2luYmFzZVByb3ZpZGVyKCl7dmFyIF9hO3JldHVybiBoYXNNdWx0aXBsZUV0aGVyZXVtV2FsbGV0cygpPyhfYT13aW5kb3cuZXRoZXJldW0ucHJvdmlkZXJzKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5maW5kKGZ1bmN0aW9uKHdhbGxldCl7cmV0dXJuIHdhbGxldC5pc0NvaW5iYXNlV2FsbGV0O30pOndpbmRvdy5ldGhlcmV1bTt9O3ZhciBnZXRPdGhlckluamVjdGVkUHJvdmlkZXI9ZnVuY3Rpb24gZ2V0T3RoZXJJbmplY3RlZFByb3ZpZGVyKCl7dmFyIF9hO3JldHVybihfYT13aW5kb3cuZXRoZXJldW0ucHJvdmlkZXJzKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5maW5kKGZ1bmN0aW9uKHdhbGxldCl7cmV0dXJuIXdhbGxldC5pc0NvaW5iYXNlV2FsbGV0JiYhd2FsbGV0LmlzTWV0YU1hc2s7fSk7fTt2YXIgV2FsbGV0VG9JY29uPV9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxXYWxsZXRzLlBoYW50b20sUGhhbnRvbUljb24pLFdhbGxldHMuVmVzc2VsLFZlc3NlbEljb24pLFdhbGxldHMuQmluYW5jZSxCaW5hbmNlSWNvbiksV2FsbGV0cy5Db2luYmFzZSxDb2luYmFzZUljb24pLFdhbGxldHMuTWV0YW1hc2ssTWV0YW1hc2tJY29uKSxXYWxsZXRzLkdlbmVyaWNFdGhlcmV1bVdhbGxldCxHZW5lcmljV2FsbGV0SWNvbiksV2FsbGV0cy5HZW5lcmljU29sYW5hV2FsbGV0LEdlbmVyaWNXYWxsZXRJY29uKTt2YXIgV2FsbGV0VG9UZXh0PV9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSxXYWxsZXRzLlBoYW50b20sJ1BoYW50b20nKSxXYWxsZXRzLlZlc3NlbCwnVmVzc2VsJyksV2FsbGV0cy5CaW5hbmNlLCdCaW5hbmNlJyksV2FsbGV0cy5Db2luYmFzZSwnQ29pbmJhc2UnKSxXYWxsZXRzLk1ldGFtYXNrLCdNZXRhbWFzaycpLFdhbGxldHMuR2VuZXJpY0V0aGVyZXVtV2FsbGV0LCdPdGhlciBFdGhlcmV1bSBXYWxsZXQnKSxXYWxsZXRzLkdlbmVyaWNTb2xhbmFXYWxsZXQsJ090aGVyIFNvbGFuYSBXYWxsZXQnKTt2YXIgaXNXYWxsZXRWaXNpYmxlPWZ1bmN0aW9uIGlzV2FsbGV0VmlzaWJsZSh3YWxsZXQpe3ZhciBfYSxfYjtzd2l0Y2god2FsbGV0KXtjYXNlIFdhbGxldHMuTWV0YW1hc2s6cmV0dXJuISF3aW5kb3cuZXRoZXJldW0mJmhhc01ldGFNYXNrKCk7Y2FzZSBXYWxsZXRzLlBoYW50b206cmV0dXJuKF9iPSEhd2luZG93LnNvbGFuYSYmKChfYT13aW5kb3cuc29sYW5hKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5pc1BoYW50b20pKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOmZhbHNlO2Nhc2UgV2FsbGV0cy5WZXNzZWw6cmV0dXJuISF3aW5kb3cudmVzc2VsO2Nhc2UgV2FsbGV0cy5CaW5hbmNlOnJldHVybiEhd2luZG93LkJpbmFuY2VDaGFpbjtjYXNlIFdhbGxldHMuQ29pbmJhc2U6cmV0dXJuISF3aW5kb3cuZXRoZXJldW0mJmhhc0NvaW5iYXNlV2FsbGV0KCk7Y2FzZSBXYWxsZXRzLkdlbmVyaWNFdGhlcmV1bVdhbGxldDpyZXR1cm4hIXdpbmRvdy5ldGhlcmV1bSYmaGFzT3RoZXJFdGhlcmV1bVdhbGxldCgpO2Nhc2UgV2FsbGV0cy5HZW5lcmljU29sYW5hV2FsbGV0OnJldHVybiEhd2luZG93LnNvbGFuYSYmIXdpbmRvdy5zb2xhbmEuaXNQaGFudG9tO2RlZmF1bHQ6cmV0dXJuIGZhbHNlO319O3ZhciBjb25uZWN0V2l0aEV0aGVyZXVtUHJvdmlkZXI9ZnVuY3Rpb24gY29ubmVjdFdpdGhFdGhlcmV1bVByb3ZpZGVyKHJlcXVlc3Qpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzcoKXt2YXIgX3lpZWxkJHJlcXVlc3QsX3lpZWxkJHJlcXVlc3QyLGFkZHJlc3M7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzckKF9jb250ZXh0Nzcpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NzcucHJldj1fY29udGV4dDc3Lm5leHQpe2Nhc2UgMDpfY29udGV4dDc3Lm5leHQ9MjtyZXR1cm4gcmVxdWVzdCh7bWV0aG9kOidldGhfcmVxdWVzdEFjY291bnRzJ30pO2Nhc2UgMjpfeWllbGQkcmVxdWVzdD1fY29udGV4dDc3LnNlbnQ7X3lpZWxkJHJlcXVlc3QyPV9zbGljZWRUb0FycmF5MihfeWllbGQkcmVxdWVzdCwxKTthZGRyZXNzPV95aWVsZCRyZXF1ZXN0MlswXTtyZXR1cm4gX2NvbnRleHQ3Ny5hYnJ1cHQoXCJyZXR1cm5cIixhZGRyZXNzKTtjYXNlIDY6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0Nzcuc3RvcCgpO319LF9jYWxsZWU3Nyk7fSkpO307dmFyIGNvbm5lY3RXaXRoV2FsbGV0PWZ1bmN0aW9uIGNvbm5lY3RXaXRoV2FsbGV0KF9yZWY3NCl7dmFyIHdhbGxldD1fcmVmNzQud2FsbGV0O3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzgoKXt2YXIgcHJvdmlkZXIsY29ubmVjdFJlc3AsX3Byb3ZpZGVyLF95aWVsZCR3aW5kb3ckdmVzc2VsJCxfeWllbGQkd2luZG93JHZlc3NlbCQyLHJlc3BvbnNlLF9wcm92aWRlcjIsX3Byb3ZpZGVyMyxfY29ubmVjdFJlc3A7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzgkKF9jb250ZXh0Nzgpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0NzgucHJldj1fY29udGV4dDc4Lm5leHQpe2Nhc2UgMDpfY29udGV4dDc4LnQwPXdhbGxldDtfY29udGV4dDc4Lm5leHQ9X2NvbnRleHQ3OC50MD09PVdhbGxldHMuTWV0YW1hc2s/MzpfY29udGV4dDc4LnQwPT09V2FsbGV0cy5QaGFudG9tPzU6X2NvbnRleHQ3OC50MD09PVdhbGxldHMuQmluYW5jZT85Ol9jb250ZXh0NzgudDA9PT1XYWxsZXRzLlZlc3NlbD8xMTpfY29udGV4dDc4LnQwPT09V2FsbGV0cy5Db2luYmFzZT8xNzpfY29udGV4dDc4LnQwPT09V2FsbGV0cy5HZW5lcmljRXRoZXJldW1XYWxsZXQ/MTk6X2NvbnRleHQ3OC50MD09PVdhbGxldHMuR2VuZXJpY1NvbGFuYVdhbGxldD8yMToyNTticmVhaztjYXNlIDM6cHJvdmlkZXI9Z2V0TWV0YU1hc2tQcm92aWRlcigpO3JldHVybiBfY29udGV4dDc4LmFicnVwdChcInJldHVyblwiLChwcm92aWRlcj09PW51bGx8fHByb3ZpZGVyPT09dm9pZCAwP3ZvaWQgMDpwcm92aWRlci5yZXF1ZXN0KT9jb25uZWN0V2l0aEV0aGVyZXVtUHJvdmlkZXIocHJvdmlkZXI9PT1udWxsfHxwcm92aWRlcj09PXZvaWQgMD92b2lkIDA6cHJvdmlkZXIucmVxdWVzdCk6JycpO2Nhc2UgNTpfY29udGV4dDc4Lm5leHQ9NztyZXR1cm4gd2luZG93LnNvbGFuYS5jb25uZWN0KCk7Y2FzZSA3OmNvbm5lY3RSZXNwPV9jb250ZXh0Nzguc2VudDtyZXR1cm4gX2NvbnRleHQ3OC5hYnJ1cHQoXCJyZXR1cm5cIixjb25uZWN0UmVzcC5wdWJsaWNLZXkudG9TdHJpbmcoKSk7Y2FzZSA5Ol9wcm92aWRlcj13aW5kb3cuQmluYW5jZUNoYWluO3JldHVybiBfY29udGV4dDc4LmFicnVwdChcInJldHVyblwiLChfcHJvdmlkZXI9PT1udWxsfHxfcHJvdmlkZXI9PT12b2lkIDA/dm9pZCAwOl9wcm92aWRlci5yZXF1ZXN0KT9jb25uZWN0V2l0aEV0aGVyZXVtUHJvdmlkZXIoX3Byb3ZpZGVyPT09bnVsbHx8X3Byb3ZpZGVyPT09dm9pZCAwP3ZvaWQgMDpfcHJvdmlkZXIucmVxdWVzdCk6JycpO2Nhc2UgMTE6X2NvbnRleHQ3OC5uZXh0PTEzO3JldHVybiB3aW5kb3cudmVzc2VsLmV0aGVyZXVtLnJlcXVlc3Qoe21ldGhvZDonZXRoX3JlcXVlc3RBY2NvdW50cyd9KTtjYXNlIDEzOl95aWVsZCR3aW5kb3ckdmVzc2VsJD1fY29udGV4dDc4LnNlbnQ7X3lpZWxkJHdpbmRvdyR2ZXNzZWwkMj1fc2xpY2VkVG9BcnJheTIoX3lpZWxkJHdpbmRvdyR2ZXNzZWwkLDEpO3Jlc3BvbnNlPV95aWVsZCR3aW5kb3ckdmVzc2VsJDJbMF07cmV0dXJuIF9jb250ZXh0NzguYWJydXB0KFwicmV0dXJuXCIscmVzcG9uc2UpO2Nhc2UgMTc6X3Byb3ZpZGVyMj1nZXRDb2luYmFzZVByb3ZpZGVyKCk7cmV0dXJuIF9jb250ZXh0NzguYWJydXB0KFwicmV0dXJuXCIsKF9wcm92aWRlcjI9PT1udWxsfHxfcHJvdmlkZXIyPT09dm9pZCAwP3ZvaWQgMDpfcHJvdmlkZXIyLnJlcXVlc3QpP2Nvbm5lY3RXaXRoRXRoZXJldW1Qcm92aWRlcihfcHJvdmlkZXIyPT09bnVsbHx8X3Byb3ZpZGVyMj09PXZvaWQgMD92b2lkIDA6X3Byb3ZpZGVyMi5yZXF1ZXN0KTonJyk7Y2FzZSAxOTpfcHJvdmlkZXIzPWdldE90aGVySW5qZWN0ZWRQcm92aWRlcigpO3JldHVybiBfY29udGV4dDc4LmFicnVwdChcInJldHVyblwiLChfcHJvdmlkZXIzPT09bnVsbHx8X3Byb3ZpZGVyMz09PXZvaWQgMD92b2lkIDA6X3Byb3ZpZGVyMy5yZXF1ZXN0KT9jb25uZWN0V2l0aEV0aGVyZXVtUHJvdmlkZXIoX3Byb3ZpZGVyMz09PW51bGx8fF9wcm92aWRlcjM9PT12b2lkIDA/dm9pZCAwOl9wcm92aWRlcjMucmVxdWVzdCk6JycpO2Nhc2UgMjE6X2NvbnRleHQ3OC5uZXh0PTIzO3JldHVybiB3aW5kb3cuc29sYW5hLmNvbm5lY3QoKTtjYXNlIDIzOl9jb25uZWN0UmVzcD1fY29udGV4dDc4LnNlbnQ7cmV0dXJuIF9jb250ZXh0NzguYWJydXB0KFwicmV0dXJuXCIsX2Nvbm5lY3RSZXNwLnB1YmxpY0tleS50b1N0cmluZygpKTtjYXNlIDI1OnJldHVybiBfY29udGV4dDc4LmFicnVwdChcInJldHVyblwiLCcnKTtjYXNlIDI2OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDc4LnN0b3AoKTt9fSxfY2FsbGVlNzgpO30pKTt9O3ZhciBzaWduTWVzc2FnZVdpdGhTb2xhbmFQcm92aWRlcj1mdW5jdGlvbiBzaWduTWVzc2FnZVdpdGhTb2xhbmFQcm92aWRlcihtZXNzYWdlKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc5KCl7dmFyIGVuY29kZWRNZXNzYWdlLHNpZ25SZXNwO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc5JChfY29udGV4dDc5KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDc5LnByZXY9X2NvbnRleHQ3OS5uZXh0KXtjYXNlIDA6ZW5jb2RlZE1lc3NhZ2U9bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpO19jb250ZXh0NzkubmV4dD0zO3JldHVybiB3aW5kb3cuc29sYW5hLnJlcXVlc3Qoe21ldGhvZDonc2lnbk1lc3NhZ2UnLHBhcmFtczp7bWVzc2FnZTplbmNvZGVkTWVzc2FnZSxkaXNwbGF5Oid1dGY4J319KTtjYXNlIDM6c2lnblJlc3A9X2NvbnRleHQ3OS5zZW50O3JldHVybiBfY29udGV4dDc5LmFicnVwdChcInJldHVyblwiLGJzNTguZW5jb2RlKHNpZ25SZXNwLnNpZ25hdHVyZSkpO2Nhc2UgNTpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ3OS5zdG9wKCk7fX0sX2NhbGxlZTc5KTt9KSk7fTt2YXIgc2lnbk1lc3NhZ2VXaXRoRXRoZXJldW1Qcm92aWRlcj1mdW5jdGlvbiBzaWduTWVzc2FnZVdpdGhFdGhlcmV1bVByb3ZpZGVyKHJlcXVlc3QsbWVzc2FnZSxhZGRyZXNzKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgwKCl7dmFyIHNpZ25hdHVyZTtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZTIoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MCQoX2NvbnRleHQ4MCl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ4MC5wcmV2PV9jb250ZXh0ODAubmV4dCl7Y2FzZSAwOl9jb250ZXh0ODAubmV4dD0yO3JldHVybiByZXF1ZXN0KHttZXRob2Q6J3BlcnNvbmFsX3NpZ24nLHBhcmFtczpbbWVzc2FnZSxhZGRyZXNzXX0pO2Nhc2UgMjpzaWduYXR1cmU9X2NvbnRleHQ4MC5zZW50O3JldHVybiBfY29udGV4dDgwLmFicnVwdChcInJldHVyblwiLHNpZ25hdHVyZSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDgwLnN0b3AoKTt9fSxfY2FsbGVlODApO30pKTt9O3ZhciBzaWduTWVzc2FnZVdpdGhXYWxsZXQ9ZnVuY3Rpb24gc2lnbk1lc3NhZ2VXaXRoV2FsbGV0KF9yZWY3NSl7dmFyIHdhbGxldD1fcmVmNzUud2FsbGV0LG1lc3NhZ2U9X3JlZjc1Lm1lc3NhZ2UsYWRkcmVzcz1fcmVmNzUuYWRkcmVzcztyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgxKCl7dmFyIHByb3ZpZGVyLF9wcm92aWRlcjQsX3Byb3ZpZGVyNSxfcHJvdmlkZXI2O3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgxJChfY29udGV4dDgxKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDgxLnByZXY9X2NvbnRleHQ4MS5uZXh0KXtjYXNlIDA6X2NvbnRleHQ4MS50MD13YWxsZXQ7X2NvbnRleHQ4MS5uZXh0PV9jb250ZXh0ODEudDA9PT1XYWxsZXRzLlBoYW50b20/MzpfY29udGV4dDgxLnQwPT09V2FsbGV0cy5HZW5lcmljU29sYW5hV2FsbGV0PzM6X2NvbnRleHQ4MS50MD09PVdhbGxldHMuTWV0YW1hc2s/NDpfY29udGV4dDgxLnQwPT09V2FsbGV0cy5WZXNzZWw/NjpfY29udGV4dDgxLnQwPT09V2FsbGV0cy5CaW5hbmNlPzc6X2NvbnRleHQ4MS50MD09PVdhbGxldHMuQ29pbmJhc2U/OTpfY29udGV4dDgxLnQwPT09V2FsbGV0cy5HZW5lcmljRXRoZXJldW1XYWxsZXQ/MTE6MTM7YnJlYWs7Y2FzZSAzOnJldHVybiBfY29udGV4dDgxLmFicnVwdChcInJldHVyblwiLHNpZ25NZXNzYWdlV2l0aFNvbGFuYVByb3ZpZGVyKG1lc3NhZ2UpKTtjYXNlIDQ6cHJvdmlkZXI9Z2V0TWV0YU1hc2tQcm92aWRlcigpO3JldHVybiBfY29udGV4dDgxLmFicnVwdChcInJldHVyblwiLChwcm92aWRlcj09PW51bGx8fHByb3ZpZGVyPT09dm9pZCAwP3ZvaWQgMDpwcm92aWRlci5yZXF1ZXN0KT9zaWduTWVzc2FnZVdpdGhFdGhlcmV1bVByb3ZpZGVyKHByb3ZpZGVyPT09bnVsbHx8cHJvdmlkZXI9PT12b2lkIDA/dm9pZCAwOnByb3ZpZGVyLnJlcXVlc3QsbWVzc2FnZSxhZGRyZXNzKTonJyk7Y2FzZSA2OnJldHVybiBfY29udGV4dDgxLmFicnVwdChcInJldHVyblwiLHNpZ25NZXNzYWdlV2l0aEV0aGVyZXVtUHJvdmlkZXIod2luZG93LnZlc3NlbC5ldGhlcmV1bS5yZXF1ZXN0LG1lc3NhZ2UsYWRkcmVzcykpO2Nhc2UgNzpfcHJvdmlkZXI0PXdpbmRvdy5CaW5hbmNlQ2hhaW47cmV0dXJuIF9jb250ZXh0ODEuYWJydXB0KFwicmV0dXJuXCIsKF9wcm92aWRlcjQ9PT1udWxsfHxfcHJvdmlkZXI0PT09dm9pZCAwP3ZvaWQgMDpfcHJvdmlkZXI0LnJlcXVlc3QpP3NpZ25NZXNzYWdlV2l0aEV0aGVyZXVtUHJvdmlkZXIoX3Byb3ZpZGVyND09PW51bGx8fF9wcm92aWRlcjQ9PT12b2lkIDA/dm9pZCAwOl9wcm92aWRlcjQucmVxdWVzdCxtZXNzYWdlLGFkZHJlc3MpOicnKTtjYXNlIDk6X3Byb3ZpZGVyNT1nZXRDb2luYmFzZVByb3ZpZGVyKCk7cmV0dXJuIF9jb250ZXh0ODEuYWJydXB0KFwicmV0dXJuXCIsKF9wcm92aWRlcjU9PT1udWxsfHxfcHJvdmlkZXI1PT09dm9pZCAwP3ZvaWQgMDpfcHJvdmlkZXI1LnJlcXVlc3QpP3NpZ25NZXNzYWdlV2l0aEV0aGVyZXVtUHJvdmlkZXIoX3Byb3ZpZGVyNT09PW51bGx8fF9wcm92aWRlcjU9PT12b2lkIDA/dm9pZCAwOl9wcm92aWRlcjUucmVxdWVzdCxtZXNzYWdlLGFkZHJlc3MpOicnKTtjYXNlIDExOl9wcm92aWRlcjY9Z2V0T3RoZXJJbmplY3RlZFByb3ZpZGVyKCk7cmV0dXJuIF9jb250ZXh0ODEuYWJydXB0KFwicmV0dXJuXCIsKF9wcm92aWRlcjY9PT1udWxsfHxfcHJvdmlkZXI2PT09dm9pZCAwP3ZvaWQgMDpfcHJvdmlkZXI2LnJlcXVlc3QpP3NpZ25NZXNzYWdlV2l0aEV0aGVyZXVtUHJvdmlkZXIoX3Byb3ZpZGVyNj09PW51bGx8fF9wcm92aWRlcjY9PT12b2lkIDA/dm9pZCAwOl9wcm92aWRlcjYucmVxdWVzdCxtZXNzYWdlLGFkZHJlc3MpOicnKTtjYXNlIDEzOnJldHVybiBfY29udGV4dDgxLmFicnVwdChcInJldHVyblwiLCcnKTtjYXNlIDE0OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDgxLnN0b3AoKTt9fSxfY2FsbGVlODEpO30pKTt9O3ZhciBpc1NvbGFuYVdhbGxldD1mdW5jdGlvbiBpc1NvbGFuYVdhbGxldCh3YWxsZXQpe3JldHVybltXYWxsZXRzLlBoYW50b20sV2FsbGV0cy5HZW5lcmljU29sYW5hV2FsbGV0XS5pbmNsdWRlcyh3YWxsZXQpO307dmFyIE1BWF9CVVRUT05TPTY7dmFyIFNldHVwQnV0dG9uPUhlLmJ1dHRvbihfdGVtcGxhdGVPYmplY3QyNXx8KF90ZW1wbGF0ZU9iamVjdDI1PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBhbGw6IHVuc2V0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXdlaWdodDogNjAwO1xcblwiXSkpKTt2YXIgQ3J5cHRvV2FsbGV0QnV0dG9ucz1mdW5jdGlvbiBDcnlwdG9XYWxsZXRCdXR0b25zKF9yZWY3Nil7dmFyIHR5cGU9X3JlZjc2LnR5cGU7dmFyIF9hLF9iO3ZhciBfdXNlR2xvYmFsUmVkdWNlcjE1PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjE2PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjE1LDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyMTZbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIxNlsxXTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBvQXV0aE9wdGlvbnM9KF9iPShfYT1jb25maWcub2F1dGhPcHRpb25zKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5wcm92aWRlcnMubGVuZ3RoKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOjA7dmFyIGNyeXB0b0J1dHRvbnNPbk1haW5TY3JlZW49TUFYX0JVVFRPTlMtb0F1dGhPcHRpb25zLTE7dmFyIG9uV2FsbGV0U3RhcnQ9ZnVuY3Rpb24gb25XYWxsZXRTdGFydCh3YWxsZXQpe2Rpc3BhdGNoKHt0eXBlOid1cGRhdGVfY3J5cHRvX3N0YXRlJyxjcnlwdG9TdGF0ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sc3RhdGUuZm9ybVN0YXRlLmNyeXB0b1N0YXRlKSx7d2FsbGV0T3B0aW9uOndhbGxldH0pfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuQ3J5cHRvQ29ubmVjdH0pO307dmFyIGFsbERldGVjdGVkV2FsbGV0cz1PYmplY3Qua2V5cyhXYWxsZXRzKS5maWx0ZXIoZnVuY3Rpb24od2FsbGV0KXtyZXR1cm4gaXNXYWxsZXRWaXNpYmxlKFdhbGxldHNbd2FsbGV0XSk7fSk7dmFyIHJlbmRlck90aGVyU2NyZWVuQnV0dG9uPWFsbERldGVjdGVkV2FsbGV0cy5sZW5ndGg+Y3J5cHRvQnV0dG9uc09uTWFpblNjcmVlbjt2YXIgbWFpbldhbGxldHM9YWxsRGV0ZWN0ZWRXYWxsZXRzLnNsaWNlKDAsY3J5cHRvQnV0dG9uc09uTWFpblNjcmVlbik7dmFyIG90aGVyV2FsbGV0PWFsbERldGVjdGVkV2FsbGV0cy5zbGljZShjcnlwdG9CdXR0b25zT25NYWluU2NyZWVuKTt2YXIgd2FsbGV0c1RvUmVuZGVyPXR5cGU9PT0nbWFpbic/bWFpbldhbGxldHM6b3RoZXJXYWxsZXQ7dmFyIFdhbGxldEljb25Db21wb25lbnQ9ZnVuY3Rpb24gV2FsbGV0SWNvbkNvbXBvbmVudChfcmVmNzcpe3ZhciB3YWxsZXQ9X3JlZjc3LndhbGxldDt2YXIgSWNvbj1XYWxsZXRUb0ljb25bd2FsbGV0XTtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KEljb24sbnVsbCk7fTtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4LGNsYXNzTmFtZTpcIndhbGxldC1idXR0b25zXCJ9LHdhbGxldHNUb1JlbmRlci5tYXAoZnVuY3Rpb24od2FsbGV0KXtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KFdhbGxldEJ1dHRvbix7a2V5OndhbGxldCxpY29uOi8qI19fUFVSRV9fKi95JDQoV2FsbGV0SWNvbkNvbXBvbmVudCx7d2FsbGV0OldhbGxldHNbd2FsbGV0XX0pLHdhbGxldFR5cGVUaXRsZTp0eXBlPT09J21haW4nP1wiQ29udGludWUgd2l0aCBcIi5jb25jYXQoV2FsbGV0VG9UZXh0W1dhbGxldHNbd2FsbGV0XV0pOldhbGxldFRvVGV4dFtXYWxsZXRzW3dhbGxldF1dLG9uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBvbldhbGxldFN0YXJ0KFdhbGxldHNbd2FsbGV0XSk7fX0pO30pLHJlbmRlck90aGVyU2NyZWVuQnV0dG9uJiZ0eXBlPT09J21haW4nPygvKiNfX1BVUkVfXyoveSQ0KFdhbGxldEJ1dHRvbix7d2FsbGV0VHlwZVRpdGxlOlwiQ29udGludWUgd2l0aCBvdGhlciBDcnlwdG8gV2FsbGV0XCIsaWNvbjovKiNfX1BVUkVfXyoveSQ0KFdhbGxldEljb25Db21wb25lbnQse3dhbGxldDpXYWxsZXRzLkdlbmVyaWNFdGhlcmV1bVdhbGxldH0pLG9uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5DcnlwdG9PdGhlclNjcmVlbn0pO319KSk6KC8qI19fUFVSRV9fKi95JDQoU2V0dXBCdXR0b24se3R5cGU6XCJidXR0b25cIixvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuQ3J5cHRvU2V0dXBXYWxsZXR9KTt9fSxcIlNldCB1cCBhIG5ldyBjcnlwdG8gd2FsbGV0XCIpKSk7fTt2YXIgUGFzc2tleUljb25Tdmc9ZnVuY3Rpb24gUGFzc2tleUljb25TdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjIwXCIsaGVpZ2h0OlwiMjBcIix2aWV3Qm94OlwiMCAwIDIwIDIwXCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTguNzUgMTBDMTAuODIxMSAxMCAxMi41IDguMzIxMDcgMTIuNSA2LjI1QzEyLjUgNC4xNzg5MyAxMC44MjExIDIuNSA4Ljc1IDIuNUM2LjY3ODkzIDIuNSA1IDQuMTc4OTMgNSA2LjI1QzUgOC4zMjEwNyA2LjY3ODkzIDEwIDguNzUgMTBaXCIsZmlsbDpcIiMxOTMwM0RcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE4Ljc1MDEgMTAuMDAwMUMxOC43NTE5IDkuNDc3NzQgMTguNjEzNCA4Ljk2NDQ1IDE4LjM0OSA4LjUxMzg4QzE4LjA4NDcgOC4wNjMzMiAxNy43MDQxIDcuNjkyMDMgMTcuMjQ3MiA3LjQzODgxQzE2Ljc5MDMgNy4xODU1OSAxNi4yNzM4IDcuMDU5NzMgMTUuNzUxNiA3LjA3NDM5QzE1LjIyOTQgNy4wODkwNSAxNC43MjA3IDcuMjQzNjkgMTQuMjc4NyA3LjUyMjE0QzEzLjgzNjcgNy44MDA2IDEzLjQ3NzYgOC4xOTI2NSAxMy4yMzkgOC42NTczM0MxMy4wMDAzIDkuMTIyMDIgMTIuODkwOCA5LjY0MjI3IDEyLjkyMTkgMTAuMTYzN0MxMi45NTMxIDEwLjY4NTIgMTMuMTIzNyAxMS4xODg3IDEzLjQxNiAxMS42MjE3QzEzLjcwODIgMTIuMDU0NyAxNC4xMTE0IDEyLjQwMTIgMTQuNTgzNCAxMi42MjUxVjE3LjA4MzVMMTUuODMzNCAxOC4zMzM1TDE3LjkxNjcgMTYuMjUwMUwxNi42NjY3IDE1LjAwMDFMMTcuOTE2NyAxMy43NTAxTDE2Ljg4MzQgMTIuNzE2OEMxNy40MzIyIDEyLjUwNSAxNy45MDQyIDEyLjEzMjMgMTguMjM3MyAxMS42NDc0QzE4LjU3MDQgMTEuMTYyNiAxOC43NDkyIDEwLjU4ODQgMTguNzUwMSAxMC4wMDAxWk0xNS44MzM0IDEwLjAwMDFDMTUuNjY4NiAxMC4wMDAxIDE1LjUwNzUgOS45NTEyNiAxNS4zNzA0IDkuODU5NjlDMTUuMjMzNCA5Ljc2ODEyIDE1LjEyNjYgOS42Mzc5NyAxNS4wNjM1IDkuNDg1N0MxNS4wMDA0IDkuMzMzNDMgMTQuOTgzOSA5LjE2NTg3IDE1LjAxNjEgOS4wMDQyMkMxNS4wNDgyIDguODQyNTcgMTUuMTI3NiA4LjY5NDA5IDE1LjI0NDEgOC41Nzc1NEMxNS4zNjA3IDguNDYxIDE1LjUwOTIgOC4zODE2MyAxNS42NzA4IDguMzQ5NDhDMTUuODMyNSA4LjMxNzMyIDE2IDguMzMzODMgMTYuMTUyMyA4LjM5NjlDMTYuMzA0NiA4LjQ1OTk3IDE2LjQzNDcgOC41NjY3OCAxNi41MjYzIDguNzAzODJDMTYuNjE3OSA4Ljg0MDg2IDE2LjY2NjcgOS4wMDE5OCAxNi42NjY3IDkuMTY2OEMxNi42NjY3IDkuMzg3ODEgMTYuNTc4OSA5LjU5OTc3IDE2LjQyMjcgOS43NTYwNUMxNi4yNjY0IDkuOTEyMzMgMTYuMDU0NCAxMC4wMDAxIDE1LjgzMzQgMTAuMDAwMVpcIixmaWxsOlwiIzE5MzAzRFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIuMDMzMyAxMS42ODMzQzExLjM5MzQgMTEuMzk4IDEwLjcwMDcgMTEuMjUwNCAxMCAxMS4yNUg3LjVDNi4xNzM5MiAxMS4yNSA0LjkwMjE1IDExLjc3NjggMy45NjQ0NyAxMi43MTQ1QzMuMDI2NzggMTMuNjUyMSAyLjUgMTQuOTIzOSAyLjUgMTYuMjVWMTcuOTE2N0gxMy4zMzMzVjEzLjMyNUMxMi43NzEzIDEyLjg5MzMgMTIuMzI0OCAxMi4zMjkzIDEyLjAzMzMgMTEuNjgzM1pcIixmaWxsOlwiIzE5MzAzRFwifSkpO307dmFyIFBhc3NrZXlzSWNvbj1DcmVhdGVJY29uKFBhc3NrZXlJY29uU3ZnKTt2YXIgUGFzc2tleUJ1dHRvbj1mdW5jdGlvbiBQYXNza2V5QnV0dG9uKCl7dmFyIF91c2VQcm9tcHRQYXNza2V5Mj11c2VQcm9tcHRQYXNza2V5KHtjb25kaXRpb25hbE1lZGlhdGlvbjpmYWxzZX0pLHByb21wdD1fdXNlUHJvbXB0UGFzc2tleTIucHJvbXB0O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24se3R5cGU6XCJidXR0b25cIix2YXJpYW50Olwib3V0bGluZWRcIixvbkNsaWNrOnByb21wdH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7anVzdGlmeUNvbnRlbnQ6XCJjZW50ZXJcIixhbGlnbkl0ZW1zOlwiY2VudGVyXCIsZ2FwOjR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3NrZXlzSWNvbixudWxsKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6e3ZlcnRpY2FsQWxpZ246J21pZGRsZSd9fSxcIkxvZ2luIHdpdGggYSBQYXNza2V5XCIpKSkpO307dmFyIENvbnRhaW5lciQxPUhlKEZsZXgpKF90ZW1wbGF0ZU9iamVjdDI2fHwoX3RlbXBsYXRlT2JqZWN0MjY9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIC5vYXV0aC1idXR0b25zICsgLndhbGxldC1idXR0b25zIHtcXG4gICAgbWFyZ2luLXRvcDogOHB4O1xcbiAgfVxcbiAgLndhbGxldC1idXR0b25zICsgLm9hdXRoLWJ1dHRvbnMge1xcbiAgICBtYXJnaW4tdG9wOiA4cHg7XFxuICB9XFxuICA+ICogKyAqIHtcXG4gICAgbWFyZ2luLXRvcDogMjRweDtcXG4gIH1cXG5cIl0pKSk7dmFyIExvZ289SGUuaW1nKF90ZW1wbGF0ZU9iamVjdDI3fHwoX3RlbXBsYXRlT2JqZWN0Mjc9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIG1heC1oZWlnaHQ6IDUwcHg7XFxuICBtYXgtd2lkdGg6IDEwMHB4O1xcblwiXSkpKTt2YXIgTWFpblNjcmVlbj1mdW5jdGlvbiBNYWluU2NyZWVuKCl7dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBjb21wb25lbnRzPW5ldyBTZXQoKTt2YXIgX1plPVplKCksZGlzcGxheUhlYWRlcj1fWmUuZGlzcGxheUhlYWRlcixsb2dvPV9aZS5sb2dvO3ZhciBfaCQ0NT1oJDUoW10pLF9oJDQ2PV9zbGljZWRUb0FycmF5MihfaCQ0NSwyKSxwcm9kdWN0Q29tcG9uZW50cz1faCQ0NlswXSxzZXRQcm9kdWN0Q29tcG9uZW50cz1faCQ0NlsxXTt2YXIgcHJvZHVjdHM9Y29uZmlnLnByb2R1Y3RzO3ZhciBoYXNCdXR0b25zPXByb2R1Y3RzLmluY2x1ZGVzKFByb2R1Y3RzLm9hdXRoKSYmY29uZmlnLm9hdXRoT3B0aW9uc3x8cHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMuY3J5cHRvKTt2YXIgaGFzUGFzc2tleXM9Y29uZmlnLnByb2R1Y3RzLmluY2x1ZGVzKFByb2R1Y3RzLnBhc3NrZXlzKTt2YXIgaGFzSW5wdXQ9cHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMuZW1haWxNYWdpY0xpbmtzKXx8cHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMub3RwKXx8cHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMucGFzc3dvcmRzKTtwJDYoZnVuY3Rpb24oKXt2YXIgbG9hZFByb2R1Y3RDb21wb25lbnRzPWZ1bmN0aW9uIGxvYWRQcm9kdWN0Q29tcG9uZW50cygpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODIoKXt2YXIgUHJvZHVjdENvbXBvbmVudHMsc2hvd0RpdmlkZXIsYnJvd3NlclN1cHBvcnRzQXV0b2ZpbGw7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODIkKF9jb250ZXh0ODIpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0ODIucHJldj1fY29udGV4dDgyLm5leHQpe2Nhc2UgMDpQcm9kdWN0Q29tcG9uZW50cz1jb25maWcucHJvZHVjdHMubWFwKGZ1bmN0aW9uKHByb2R1Y3Qpe3N3aXRjaChwcm9kdWN0KXtjYXNlIFByb2R1Y3RzLm9hdXRoOnJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9BdXRoQnV0dG9ucyx7a2V5OnByb2R1Y3R9KTtjYXNlIFByb2R1Y3RzLmNyeXB0bzpyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDcnlwdG9XYWxsZXRCdXR0b25zLHt0eXBlOlwibWFpblwiLGtleTpwcm9kdWN0fSk7Y2FzZSBQcm9kdWN0cy5lbWFpbE1hZ2ljTGlua3M6cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTG9naW5Gb3JtLHtrZXk6XCJsb2dpbi1mb3JtXCJ9KTtjYXNlIFByb2R1Y3RzLm90cDpyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChMb2dpbkZvcm0se2tleTpcImxvZ2luLWZvcm1cIn0pO2Nhc2UgUHJvZHVjdHMucGFzc3dvcmRzOnJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExvZ2luRm9ybSx7a2V5OlwibG9naW4tZm9ybVwifSk7fX0pLmZpbHRlcihmdW5jdGlvbihjb21wb25lbnQpe3ZhciBkdXBsaWNhdGU9Y29tcG9uZW50cy5oYXMoY29tcG9uZW50PT09bnVsbHx8Y29tcG9uZW50PT09dm9pZCAwP3ZvaWQgMDpjb21wb25lbnQua2V5KTtjb21wb25lbnRzLmFkZChjb21wb25lbnQ9PT1udWxsfHxjb21wb25lbnQ9PT12b2lkIDA/dm9pZCAwOmNvbXBvbmVudC5rZXkpO3JldHVybiFkdXBsaWNhdGU7fSk7c2hvd0RpdmlkZXI9aGFzQnV0dG9ucyYmaGFzSW5wdXQ7aWYoUHJvZHVjdENvbXBvbmVudHMubGVuZ3RoPjEmJnNob3dEaXZpZGVyKXtQcm9kdWN0Q29tcG9uZW50cy5zcGxpY2UoUHJvZHVjdENvbXBvbmVudHMubGVuZ3RoLTEsMCwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChEaXZpZGVyLHtrZXk6XCJkaXZpZGVyXCJ9KSk7fWlmKCFoYXNQYXNza2V5cyl7X2NvbnRleHQ4Mi5uZXh0PTg7YnJlYWs7fV9jb250ZXh0ODIubmV4dD02O3JldHVybiBzdHl0Y2hDbGllbnQud2ViYXV0aG4uYnJvd3NlclN1cHBvcnRzQXV0b2ZpbGwoKTtjYXNlIDY6YnJvd3NlclN1cHBvcnRzQXV0b2ZpbGw9X2NvbnRleHQ4Mi5zZW50O2lmKCFicm93c2VyU3VwcG9ydHNBdXRvZmlsbHx8IWhhc0lucHV0KXtQcm9kdWN0Q29tcG9uZW50cy5zcGxpY2UoMCwwLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3NrZXlCdXR0b24se2tleTpcInBhc3NrZXktYnV0dG9uXCJ9KSk7fWNhc2UgODpzZXRQcm9kdWN0Q29tcG9uZW50cyhQcm9kdWN0Q29tcG9uZW50cyk7Y2FzZSA5OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDgyLnN0b3AoKTt9fSxfY2FsbGVlODIpO30pKTt9O2xvYWRQcm9kdWN0Q29tcG9uZW50cygpO30sW10pO2lmKGhhc1Bhc3NrZXlzJiZwcm9kdWN0cy5sZW5ndGg9PT0xKXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWxwZXJcIn0sXCJFcnJvcjogQ2Fubm90IHVzZSBQYXNza2V5cyBieSBpdHNlbGYsIHBsZWFzZSBhZGQgYW5vdGhlciBwcm9kdWN0IHRvIHRoZSBjb25maWcuXCIpO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENvbnRhaW5lciQxLHtkaXJlY3Rpb246XCJjb2x1bW5cIn0sbG9nby5sb2dvSW1hZ2VVcmwhPT0nJyYmKC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2p1c3RpZnlDb250ZW50OlwiY2VudGVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KExvZ28se3NyYzpsb2dvLmxvZ29JbWFnZVVybH0pKSksZGlzcGxheUhlYWRlciYmKC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2p1c3RpZnlDb250ZW50OlwiY2VudGVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJTaWduIHVwIG9yIGxvZyBpblwiKSkpLHByb2R1Y3RDb21wb25lbnRzLm1hcChmdW5jdGlvbihDb21wb25lbnQpe3JldHVybiBDb21wb25lbnQ7fSkpO307dmFyIGUkMT17ZGF0YTpcIlwifSx0JDE9ZnVuY3Rpb24gdCQxKHQpe3JldHVyblwib2JqZWN0XCI9PSh0eXBlb2Ygd2luZG93PT09XCJ1bmRlZmluZWRcIj9cInVuZGVmaW5lZFwiOl90eXBlb2YyKHdpbmRvdykpPygodD90LnF1ZXJ5U2VsZWN0b3IoXCIjX2dvb2JlclwiKTp3aW5kb3cuX2dvb2Jlcil8fE9iamVjdC5hc3NpZ24oKHR8fGRvY3VtZW50LmhlYWQpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkse2lubmVySFRNTDpcIiBcIixpZDpcIl9nb29iZXJcIn0pKS5maXJzdENoaWxkOnR8fGUkMTt9LGwkMT0vKD86KFtcXHUwMDgwLVxcdUZGRkZcXHctJUBdKykgKjo/ICooW157O10rPyk7fChbXjt9e10qPykgKnspfCh9XFxzKikvZyxhPS9cXC9cXCpbXl0qP1xcKlxcL3wgICsvZyxuJDE9L1xcbisvZyxvPWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1cIlwiLGw9XCJcIixhPVwiXCI7dmFyIF9sb29wMj1mdW5jdGlvbiBfbG9vcDIoX241KXt2YXIgYz1lW19uNV07XCJAXCI9PV9uNVswXT9cImlcIj09X241WzFdP3I9X241K1wiIFwiK2MrXCI7XCI6bCs9XCJmXCI9PV9uNVsxXT9vKGMsX241KTpfbjUrXCJ7XCIrbyhjLFwia1wiPT1fbjVbMV0/XCJcIjp0KStcIn1cIjpcIm9iamVjdFwiPT1fdHlwZW9mMihjKT9sKz1vKGMsdD90LnJlcGxhY2UoLyhbXixdKSsvZyxmdW5jdGlvbihlKXtyZXR1cm4gX241LnJlcGxhY2UoLyheOi4qKXwoW14sXSkrL2csZnVuY3Rpb24odCl7cmV0dXJuIC8mLy50ZXN0KHQpP3QucmVwbGFjZSgvJi9nLGUpOmU/ZStcIiBcIit0OnQ7fSk7fSk6X241KTpudWxsIT1jJiYoX241PS9eLS0vLnRlc3QoX241KT9fbjU6X241LnJlcGxhY2UoL1tBLVpdL2csXCItJCZcIikudG9Mb3dlckNhc2UoKSxhKz1vLnA/by5wKF9uNSxjKTpfbjUrXCI6XCIrYytcIjtcIik7fTtmb3IodmFyIF9uNSBpbiBlKXtfbG9vcDIoX241KTt9cmV0dXJuIHIrKHQmJmE/dCtcIntcIithK1wifVwiOmEpK2w7fSxjPXt9LHM9ZnVuY3Rpb24gcyhlKXtpZihcIm9iamVjdFwiPT1fdHlwZW9mMihlKSl7dmFyIF90Mj1cIlwiO2Zvcih2YXIgX3I0IGluIGUpX3QyKz1fcjQrcyhlW19yNF0pO3JldHVybiBfdDI7fXJldHVybiBlO30saT1mdW5jdGlvbiBpKGUsdCxyLF9pNCxwKXt2YXIgdT1zKGUpLGQ9Y1t1XXx8KGNbdV09ZnVuY3Rpb24oZSl7dmFyIHQ9MCxyPTExO2Zvcig7dDxlLmxlbmd0aDspcj0xMDEqcitlLmNoYXJDb2RlQXQodCsrKT4+PjA7cmV0dXJuXCJnb1wiK3I7fSh1KSk7aWYoIWNbZF0pe3ZhciBfdDM9dSE9PWU/ZTpmdW5jdGlvbihlKXt2YXIgdCxyLG89W3t9XTtmb3IoO3Q9bCQxLmV4ZWMoZS5yZXBsYWNlKGEsXCJcIikpOyl0WzRdP28uc2hpZnQoKTp0WzNdPyhyPXRbM10ucmVwbGFjZShuJDEsXCIgXCIpLnRyaW0oKSxvLnVuc2hpZnQob1swXVtyXT1vWzBdW3JdfHx7fSkpOm9bMF1bdFsxXV09dFsyXS5yZXBsYWNlKG4kMSxcIiBcIikudHJpbSgpO3JldHVybiBvWzBdO30oZSk7Y1tkXT1vKHA/X2RlZmluZVByb3BlcnR5KHt9LFwiQGtleWZyYW1lcyBcIitkLF90Myk6X3QzLHI/XCJcIjpcIi5cIitkKTt9dmFyIGY9ciYmYy5nP2MuZzpudWxsO3JldHVybiByJiYoYy5nPWNbZF0pLGZ1bmN0aW9uKGUsdCxyLGwpe2w/dC5kYXRhPXQuZGF0YS5yZXBsYWNlKGwsZSk6LTE9PT10LmRhdGEuaW5kZXhPZihlKSYmKHQuZGF0YT1yP2UrdC5kYXRhOnQuZGF0YStlKTt9KGNbZF0sdCxfaTQsZiksZDt9LHAkMT1mdW5jdGlvbiBwJDEoZSx0LHIpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLGwsYSl7dmFyIG49dFthXTtpZihuJiZuLmNhbGwpe3ZhciBfZTQ9bihyKSxfdDQ9X2U0JiZfZTQucHJvcHMmJl9lNC5wcm9wcy5jbGFzc05hbWV8fC9eZ28vLnRlc3QoX2U0KSYmX2U0O249X3Q0P1wiLlwiK190NDpfZTQmJlwib2JqZWN0XCI9PV90eXBlb2YyKF9lNCk/X2U0LnByb3BzP1wiXCI6byhfZTQsXCJcIik6ITE9PT1fZTQ/XCJcIjpfZTQ7fXJldHVybiBlK2wrKG51bGw9PW4/XCJcIjpuKTt9LFwiXCIpO307ZnVuY3Rpb24gdSQxKGUpe3ZhciByPXRoaXN8fHt9LGw9ZS5jYWxsP2Uoci5wKTplO3JldHVybiBpKGwudW5zaGlmdD9sLnJhdz9wJDEobCxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyLnApOmwucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oZSx0JiZ0LmNhbGw/dChyLnApOnQpO30se30pOmwsdCQxKHIudGFyZ2V0KSxyLmcsci5vLHIuayk7fXZhciBkLGYsZzt1JDEuYmluZCh7ZzoxfSk7dmFyIGgkMT11JDEuYmluZCh7azoxfSk7ZnVuY3Rpb24gbSQxKGUsdCxyLGwpe28ucD10LGQ9ZSxmPXIsZz1sO31mdW5jdGlvbiBqKGUsdCl7dmFyIHI9dGhpc3x8e307cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGw9YXJndW1lbnRzO2Z1bmN0aW9uIGEobixvKXt2YXIgYz1PYmplY3QuYXNzaWduKHt9LG4pLHM9Yy5jbGFzc05hbWV8fGEuY2xhc3NOYW1lO3IucD1PYmplY3QuYXNzaWduKHt0aGVtZTpmJiZmKCl9LGMpLHIubz0vICpnb1xcZCsvLnRlc3QocyksYy5jbGFzc05hbWU9dSQxLmFwcGx5KHIsbCkrKHM/XCIgXCIrczpcIlwiKSx0JiYoYy5yZWY9byk7dmFyIGk9ZTtyZXR1cm4gZVswXSYmKGk9Yy5hc3x8ZSxkZWxldGUgYy5hcyksZyYmaVswXSYmZyhjKSxkKGksYyk7fXJldHVybiB0P3QoYSk6YTt9O31mdW5jdGlvbiBfZXh0ZW5kcygpe19leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHRhcmdldCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIHNvdXJjZT1hcmd1bWVudHNbaV07Zm9yKHZhciBrZXkgaW4gc291cmNlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLGtleSkpe3RhcmdldFtrZXldPXNvdXJjZVtrZXldO319fXJldHVybiB0YXJnZXQ7fTtyZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcyxhcmd1bWVudHMpO31mdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncyxyYXcpe2lmKCFyYXcpe3Jhdz1zdHJpbmdzLnNsaWNlKDApO31zdHJpbmdzLnJhdz1yYXc7cmV0dXJuIHN0cmluZ3M7fXZhciBpc0Z1bmN0aW9uJDE9ZnVuY3Rpb24gaXNGdW5jdGlvbih2YWxPckZ1bmN0aW9uKXtyZXR1cm4gdHlwZW9mIHZhbE9yRnVuY3Rpb249PT0nZnVuY3Rpb24nO307dmFyIHJlc29sdmVWYWx1ZT1mdW5jdGlvbiByZXNvbHZlVmFsdWUodmFsT3JGdW5jdGlvbixhcmcpe3JldHVybiBpc0Z1bmN0aW9uJDEodmFsT3JGdW5jdGlvbik/dmFsT3JGdW5jdGlvbihhcmcpOnZhbE9yRnVuY3Rpb247fTt2YXIgZ2VuSWQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7dmFyIGNvdW50PTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKCsrY291bnQpLnRvU3RyaW5nKCk7fTt9KCk7dmFyIGNyZWF0ZVJlY3RSZWY9ZnVuY3Rpb24gY3JlYXRlUmVjdFJlZihvblJlY3Qpe3JldHVybiBmdW5jdGlvbihlbCl7aWYoZWwpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYm91bmRpbmdSZWN0PWVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO29uUmVjdChib3VuZGluZ1JlY3QpO30pO319O307dmFyIHByZWZlcnNSZWR1Y2VkTW90aW9uPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe3ZhciBzaG91bGRSZWR1Y2VNb3Rpb249dW5kZWZpbmVkO3JldHVybiBmdW5jdGlvbigpe2lmKHNob3VsZFJlZHVjZU1vdGlvbj09PXVuZGVmaW5lZCYmdHlwZW9mIHdpbmRvdyE9PSd1bmRlZmluZWQnKXt2YXIgbWVkaWFRdWVyeT1tYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpO3Nob3VsZFJlZHVjZU1vdGlvbj0hbWVkaWFRdWVyeXx8bWVkaWFRdWVyeS5tYXRjaGVzO31yZXR1cm4gc2hvdWxkUmVkdWNlTW90aW9uO307fSgpO3ZhciBUT0FTVF9MSU1JVD0yMDt2YXIgQWN0aW9uVHlwZTsoZnVuY3Rpb24oQWN0aW9uVHlwZSl7QWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiQUREX1RPQVNUXCJdPTBdPVwiQUREX1RPQVNUXCI7QWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiVVBEQVRFX1RPQVNUXCJdPTFdPVwiVVBEQVRFX1RPQVNUXCI7QWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiVVBTRVJUX1RPQVNUXCJdPTJdPVwiVVBTRVJUX1RPQVNUXCI7QWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiRElTTUlTU19UT0FTVFwiXT0zXT1cIkRJU01JU1NfVE9BU1RcIjtBY3Rpb25UeXBlW0FjdGlvblR5cGVbXCJSRU1PVkVfVE9BU1RcIl09NF09XCJSRU1PVkVfVE9BU1RcIjtBY3Rpb25UeXBlW0FjdGlvblR5cGVbXCJTVEFSVF9QQVVTRVwiXT01XT1cIlNUQVJUX1BBVVNFXCI7QWN0aW9uVHlwZVtBY3Rpb25UeXBlW1wiRU5EX1BBVVNFXCJdPTZdPVwiRU5EX1BBVVNFXCI7fSkoQWN0aW9uVHlwZXx8KEFjdGlvblR5cGU9e30pKTt2YXIgdG9hc3RUaW1lb3V0cz0vKiNfX1BVUkVfXyovbmV3IE1hcCgpO3ZhciBhZGRUb1JlbW92ZVF1ZXVlPWZ1bmN0aW9uIGFkZFRvUmVtb3ZlUXVldWUodG9hc3RJZCl7aWYodG9hc3RUaW1lb3V0cy5oYXModG9hc3RJZCkpe3JldHVybjt9dmFyIHRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3RvYXN0VGltZW91dHNbXCJkZWxldGVcIl0odG9hc3RJZCk7ZGlzcGF0Y2goe3R5cGU6QWN0aW9uVHlwZS5SRU1PVkVfVE9BU1QsdG9hc3RJZDp0b2FzdElkfSk7fSwxMDAwKTt0b2FzdFRpbWVvdXRzLnNldCh0b2FzdElkLHRpbWVvdXQpO307dmFyIGNsZWFyRnJvbVJlbW92ZVF1ZXVlPWZ1bmN0aW9uIGNsZWFyRnJvbVJlbW92ZVF1ZXVlKHRvYXN0SWQpe3ZhciB0aW1lb3V0PXRvYXN0VGltZW91dHMuZ2V0KHRvYXN0SWQpO2lmKHRpbWVvdXQpe2NsZWFyVGltZW91dCh0aW1lb3V0KTt9fTt2YXIgcmVkdWNlcj1mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLGFjdGlvbil7c3dpdGNoKGFjdGlvbi50eXBlKXtjYXNlIEFjdGlvblR5cGUuQUREX1RPQVNUOnJldHVybiBfZXh0ZW5kcyh7fSxzdGF0ZSx7dG9hc3RzOlthY3Rpb24udG9hc3RdLmNvbmNhdChzdGF0ZS50b2FzdHMpLnNsaWNlKDAsVE9BU1RfTElNSVQpfSk7Y2FzZSBBY3Rpb25UeXBlLlVQREFURV9UT0FTVDppZihhY3Rpb24udG9hc3QuaWQpe2NsZWFyRnJvbVJlbW92ZVF1ZXVlKGFjdGlvbi50b2FzdC5pZCk7fXJldHVybiBfZXh0ZW5kcyh7fSxzdGF0ZSx7dG9hc3RzOnN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1hY3Rpb24udG9hc3QuaWQ/X2V4dGVuZHMoe30sdCxhY3Rpb24udG9hc3QpOnQ7fSl9KTtjYXNlIEFjdGlvblR5cGUuVVBTRVJUX1RPQVNUOnZhciB0b2FzdD1hY3Rpb24udG9hc3Q7cmV0dXJuIHN0YXRlLnRvYXN0cy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09dG9hc3QuaWQ7fSk/cmVkdWNlcihzdGF0ZSx7dHlwZTpBY3Rpb25UeXBlLlVQREFURV9UT0FTVCx0b2FzdDp0b2FzdH0pOnJlZHVjZXIoc3RhdGUse3R5cGU6QWN0aW9uVHlwZS5BRERfVE9BU1QsdG9hc3Q6dG9hc3R9KTtjYXNlIEFjdGlvblR5cGUuRElTTUlTU19UT0FTVDp2YXIgdG9hc3RJZD1hY3Rpb24udG9hc3RJZDtpZih0b2FzdElkKXthZGRUb1JlbW92ZVF1ZXVlKHRvYXN0SWQpO31lbHNle3N0YXRlLnRvYXN0cy5mb3JFYWNoKGZ1bmN0aW9uKHRvYXN0KXthZGRUb1JlbW92ZVF1ZXVlKHRvYXN0LmlkKTt9KTt9cmV0dXJuIF9leHRlbmRzKHt9LHN0YXRlLHt0b2FzdHM6c3RhdGUudG9hc3RzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PXRvYXN0SWR8fHRvYXN0SWQ9PT11bmRlZmluZWQ/X2V4dGVuZHMoe30sdCx7dmlzaWJsZTpmYWxzZX0pOnQ7fSl9KTtjYXNlIEFjdGlvblR5cGUuUkVNT1ZFX1RPQVNUOmlmKGFjdGlvbi50b2FzdElkPT09dW5kZWZpbmVkKXtyZXR1cm4gX2V4dGVuZHMoe30sc3RhdGUse3RvYXN0czpbXX0pO31yZXR1cm4gX2V4dGVuZHMoe30sc3RhdGUse3RvYXN0czpzdGF0ZS50b2FzdHMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkIT09YWN0aW9uLnRvYXN0SWQ7fSl9KTtjYXNlIEFjdGlvblR5cGUuU1RBUlRfUEFVU0U6cmV0dXJuIF9leHRlbmRzKHt9LHN0YXRlLHtwYXVzZWRBdDphY3Rpb24udGltZX0pO2Nhc2UgQWN0aW9uVHlwZS5FTkRfUEFVU0U6dmFyIGRpZmY9YWN0aW9uLnRpbWUtKHN0YXRlLnBhdXNlZEF0fHwwKTtyZXR1cm4gX2V4dGVuZHMoe30sc3RhdGUse3BhdXNlZEF0OnVuZGVmaW5lZCx0b2FzdHM6c3RhdGUudG9hc3RzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gX2V4dGVuZHMoe30sdCx7cGF1c2VEdXJhdGlvbjp0LnBhdXNlRHVyYXRpb24rZGlmZn0pO30pfSk7fX07dmFyIGxpc3RlbmVycz1bXTt2YXIgbWVtb3J5U3RhdGU9e3RvYXN0czpbXSxwYXVzZWRBdDp1bmRlZmluZWR9O3ZhciBkaXNwYXRjaD1mdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pe21lbW9yeVN0YXRlPXJlZHVjZXIobWVtb3J5U3RhdGUsYWN0aW9uKTtsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcil7bGlzdGVuZXIobWVtb3J5U3RhdGUpO30pO307dmFyIGRlZmF1bHRUaW1lb3V0cz17Ymxhbms6NDAwMCxlcnJvcjo0MDAwLHN1Y2Nlc3M6MjAwMCxsb2FkaW5nOkluZmluaXR5LGN1c3RvbTo0MDAwfTt2YXIgdXNlU3RvcmU9ZnVuY3Rpb24gdXNlU3RvcmUodG9hc3RPcHRpb25zKXtpZih0b2FzdE9wdGlvbnM9PT12b2lkIDApe3RvYXN0T3B0aW9ucz17fTt9dmFyIF91c2VTdGF0ZT1oJDUobWVtb3J5U3RhdGUpLHN0YXRlPV91c2VTdGF0ZVswXSxzZXRTdGF0ZT1fdXNlU3RhdGVbMV07cCQ2KGZ1bmN0aW9uKCl7bGlzdGVuZXJzLnB1c2goc2V0U3RhdGUpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpbmRleD1saXN0ZW5lcnMuaW5kZXhPZihzZXRTdGF0ZSk7aWYoaW5kZXg+LTEpe2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsMSk7fX07fSxbc3RhdGVdKTt2YXIgbWVyZ2VkVG9hc3RzPXN0YXRlLnRvYXN0cy5tYXAoZnVuY3Rpb24odCl7dmFyIF90b2FzdE9wdGlvbnMkdCR0eXBlLF90b2FzdE9wdGlvbnMsX3RvYXN0T3B0aW9ucyR0JHR5cGUyO3JldHVybiBfZXh0ZW5kcyh7fSx0b2FzdE9wdGlvbnMsdG9hc3RPcHRpb25zW3QudHlwZV0sdCx7ZHVyYXRpb246dC5kdXJhdGlvbnx8KChfdG9hc3RPcHRpb25zJHQkdHlwZT10b2FzdE9wdGlvbnNbdC50eXBlXSk9PW51bGw/dm9pZCAwOl90b2FzdE9wdGlvbnMkdCR0eXBlLmR1cmF0aW9uKXx8KChfdG9hc3RPcHRpb25zPXRvYXN0T3B0aW9ucyk9PW51bGw/dm9pZCAwOl90b2FzdE9wdGlvbnMuZHVyYXRpb24pfHxkZWZhdWx0VGltZW91dHNbdC50eXBlXSxzdHlsZTpfZXh0ZW5kcyh7fSx0b2FzdE9wdGlvbnMuc3R5bGUsKF90b2FzdE9wdGlvbnMkdCR0eXBlMj10b2FzdE9wdGlvbnNbdC50eXBlXSk9PW51bGw/dm9pZCAwOl90b2FzdE9wdGlvbnMkdCR0eXBlMi5zdHlsZSx0LnN0eWxlKX0pO30pO3JldHVybiBfZXh0ZW5kcyh7fSxzdGF0ZSx7dG9hc3RzOm1lcmdlZFRvYXN0c30pO307dmFyIGNyZWF0ZVRvYXN0PWZ1bmN0aW9uIGNyZWF0ZVRvYXN0KG1lc3NhZ2UsdHlwZSxvcHRzKXtpZih0eXBlPT09dm9pZCAwKXt0eXBlPSdibGFuayc7fXJldHVybiBfZXh0ZW5kcyh7Y3JlYXRlZEF0OkRhdGUubm93KCksdmlzaWJsZTp0cnVlLHR5cGU6dHlwZSxhcmlhUHJvcHM6e3JvbGU6J3N0YXR1cycsJ2FyaWEtbGl2ZSc6J3BvbGl0ZSd9LG1lc3NhZ2U6bWVzc2FnZSxwYXVzZUR1cmF0aW9uOjB9LG9wdHMse2lkOihvcHRzPT1udWxsP3ZvaWQgMDpvcHRzLmlkKXx8Z2VuSWQoKX0pO307dmFyIGNyZWF0ZUhhbmRsZXI9ZnVuY3Rpb24gY3JlYXRlSGFuZGxlcih0eXBlKXtyZXR1cm4gZnVuY3Rpb24obWVzc2FnZSxvcHRpb25zKXt2YXIgdG9hc3Q9Y3JlYXRlVG9hc3QobWVzc2FnZSx0eXBlLG9wdGlvbnMpO2Rpc3BhdGNoKHt0eXBlOkFjdGlvblR5cGUuVVBTRVJUX1RPQVNULHRvYXN0OnRvYXN0fSk7cmV0dXJuIHRvYXN0LmlkO307fTt2YXIgdG9hc3Q9ZnVuY3Rpb24gdG9hc3QobWVzc2FnZSxvcHRzKXtyZXR1cm4gY3JlYXRlSGFuZGxlcignYmxhbmsnKShtZXNzYWdlLG9wdHMpO307dG9hc3QuZXJyb3I9LyojX19QVVJFX18qL2NyZWF0ZUhhbmRsZXIoJ2Vycm9yJyk7dG9hc3Quc3VjY2Vzcz0vKiNfX1BVUkVfXyovY3JlYXRlSGFuZGxlcignc3VjY2VzcycpO3RvYXN0LmxvYWRpbmc9LyojX19QVVJFX18qL2NyZWF0ZUhhbmRsZXIoJ2xvYWRpbmcnKTt0b2FzdC5jdXN0b209LyojX19QVVJFX18qL2NyZWF0ZUhhbmRsZXIoJ2N1c3RvbScpO3RvYXN0LmRpc21pc3M9ZnVuY3Rpb24odG9hc3RJZCl7ZGlzcGF0Y2goe3R5cGU6QWN0aW9uVHlwZS5ESVNNSVNTX1RPQVNULHRvYXN0SWQ6dG9hc3RJZH0pO307dG9hc3QucmVtb3ZlPWZ1bmN0aW9uKHRvYXN0SWQpe3JldHVybiBkaXNwYXRjaCh7dHlwZTpBY3Rpb25UeXBlLlJFTU9WRV9UT0FTVCx0b2FzdElkOnRvYXN0SWR9KTt9O3RvYXN0LnByb21pc2U9ZnVuY3Rpb24ocHJvbWlzZSxtc2dzLG9wdHMpe3ZhciBpZD10b2FzdC5sb2FkaW5nKG1zZ3MubG9hZGluZyxfZXh0ZW5kcyh7fSxvcHRzLG9wdHM9PW51bGw/dm9pZCAwOm9wdHMubG9hZGluZykpO3Byb21pc2UudGhlbihmdW5jdGlvbihwKXt0b2FzdC5zdWNjZXNzKHJlc29sdmVWYWx1ZShtc2dzLnN1Y2Nlc3MscCksX2V4dGVuZHMoe2lkOmlkfSxvcHRzLG9wdHM9PW51bGw/dm9pZCAwOm9wdHMuc3VjY2VzcykpO3JldHVybiBwO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dG9hc3QuZXJyb3IocmVzb2x2ZVZhbHVlKG1zZ3MuZXJyb3IsZSksX2V4dGVuZHMoe2lkOmlkfSxvcHRzLG9wdHM9PW51bGw/dm9pZCAwOm9wdHMuZXJyb3IpKTt9KTtyZXR1cm4gcHJvbWlzZTt9O3ZhciB1c2VUb2FzdGVyPWZ1bmN0aW9uIHVzZVRvYXN0ZXIodG9hc3RPcHRpb25zKXt2YXIgX3VzZVN0b3JlPXVzZVN0b3JlKHRvYXN0T3B0aW9ucyksdG9hc3RzPV91c2VTdG9yZS50b2FzdHMscGF1c2VkQXQ9X3VzZVN0b3JlLnBhdXNlZEF0O3AkNihmdW5jdGlvbigpe2lmKHBhdXNlZEF0KXtyZXR1cm47fXZhciBub3c9RGF0ZS5ub3coKTt2YXIgdGltZW91dHM9dG9hc3RzLm1hcChmdW5jdGlvbih0KXtpZih0LmR1cmF0aW9uPT09SW5maW5pdHkpe3JldHVybjt9dmFyIGR1cmF0aW9uTGVmdD0odC5kdXJhdGlvbnx8MCkrdC5wYXVzZUR1cmF0aW9uLShub3ctdC5jcmVhdGVkQXQpO2lmKGR1cmF0aW9uTGVmdDwwKXtpZih0LnZpc2libGUpe3RvYXN0LmRpc21pc3ModC5pZCk7fXJldHVybjt9cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdG9hc3QuZGlzbWlzcyh0LmlkKTt9LGR1cmF0aW9uTGVmdCk7fSk7cmV0dXJuIGZ1bmN0aW9uKCl7dGltZW91dHMuZm9yRWFjaChmdW5jdGlvbih0aW1lb3V0KXtyZXR1cm4gdGltZW91dCYmY2xlYXJUaW1lb3V0KHRpbWVvdXQpO30pO307fSxbdG9hc3RzLHBhdXNlZEF0XSk7dmFyIGhhbmRsZXJzPUYkNChmdW5jdGlvbigpe3JldHVybntzdGFydFBhdXNlOmZ1bmN0aW9uIHN0YXJ0UGF1c2UoKXtkaXNwYXRjaCh7dHlwZTpBY3Rpb25UeXBlLlNUQVJUX1BBVVNFLHRpbWU6RGF0ZS5ub3coKX0pO30sZW5kUGF1c2U6ZnVuY3Rpb24gZW5kUGF1c2UoKXtpZihwYXVzZWRBdCl7ZGlzcGF0Y2goe3R5cGU6QWN0aW9uVHlwZS5FTkRfUEFVU0UsdGltZTpEYXRlLm5vdygpfSk7fX0sdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uIHVwZGF0ZUhlaWdodCh0b2FzdElkLGhlaWdodCl7cmV0dXJuIGRpc3BhdGNoKHt0eXBlOkFjdGlvblR5cGUuVVBEQVRFX1RPQVNULHRvYXN0OntpZDp0b2FzdElkLGhlaWdodDpoZWlnaHR9fSk7fSxjYWxjdWxhdGVPZmZzZXQ6ZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KHRvYXN0LG9wdHMpe3ZhciBfcmVsZXZhbnRUb2FzdHMkZmlsdGU7dmFyIF9yZWY9b3B0c3x8e30sX3JlZiRyZXZlcnNlT3JkZXI9X3JlZi5yZXZlcnNlT3JkZXIscmV2ZXJzZU9yZGVyPV9yZWYkcmV2ZXJzZU9yZGVyPT09dm9pZCAwP2ZhbHNlOl9yZWYkcmV2ZXJzZU9yZGVyLF9yZWYkZ3V0dGVyPV9yZWYuZ3V0dGVyLGd1dHRlcj1fcmVmJGd1dHRlcj09PXZvaWQgMD84Ol9yZWYkZ3V0dGVyLGRlZmF1bHRQb3NpdGlvbj1fcmVmLmRlZmF1bHRQb3NpdGlvbjt2YXIgcmVsZXZhbnRUb2FzdHM9dG9hc3RzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4odC5wb3NpdGlvbnx8ZGVmYXVsdFBvc2l0aW9uKT09PSh0b2FzdC5wb3NpdGlvbnx8ZGVmYXVsdFBvc2l0aW9uKSYmdC5oZWlnaHQ7fSk7dmFyIHRvYXN0SW5kZXg9cmVsZXZhbnRUb2FzdHMuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09dG9hc3QuaWQ7fSk7dmFyIHRvYXN0c0JlZm9yZT1yZWxldmFudFRvYXN0cy5maWx0ZXIoZnVuY3Rpb24odG9hc3QsaSl7cmV0dXJuIGk8dG9hc3RJbmRleCYmdG9hc3QudmlzaWJsZTt9KS5sZW5ndGg7dmFyIG9mZnNldD0oX3JlbGV2YW50VG9hc3RzJGZpbHRlPXJlbGV2YW50VG9hc3RzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpYmxlO30pKS5zbGljZS5hcHBseShfcmVsZXZhbnRUb2FzdHMkZmlsdGUscmV2ZXJzZU9yZGVyP1t0b2FzdHNCZWZvcmUrMV06WzAsdG9hc3RzQmVmb3JlXSkucmVkdWNlKGZ1bmN0aW9uKGFjYyx0KXtyZXR1cm4gYWNjKyh0LmhlaWdodHx8MCkrZ3V0dGVyO30sMCk7cmV0dXJuIG9mZnNldDt9fTt9LFt0b2FzdHMscGF1c2VkQXRdKTtyZXR1cm57dG9hc3RzOnRvYXN0cyxoYW5kbGVyczpoYW5kbGVyc307fTtmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q0KCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgd2lkdGg6IDIwcHg7XFxuICBvcGFjaXR5OiAwO1xcbiAgaGVpZ2h0OiAyMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xcblxcbiAgYW5pbWF0aW9uOiBcIixcIiAwLjNzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KVxcbiAgICBmb3J3YXJkcztcXG4gIGFuaW1hdGlvbi1kZWxheTogMTAwbXM7XFxuXFxuICAmOmFmdGVyLFxcbiAgJjpiZWZvcmUge1xcbiAgICBjb250ZW50OiAnJztcXG4gICAgYW5pbWF0aW9uOiBcIixcIiAwLjE1cyBlYXNlLW91dCBmb3J3YXJkcztcXG4gICAgYW5pbWF0aW9uLWRlbGF5OiAxNTBtcztcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBib3R0b206IDlweDtcXG4gICAgbGVmdDogNHB4O1xcbiAgICBoZWlnaHQ6IDJweDtcXG4gICAgd2lkdGg6IDEycHg7XFxuICB9XFxuXFxuICAmOmJlZm9yZSB7XFxuICAgIGFuaW1hdGlvbjogXCIsXCIgMC4xNXMgZWFzZS1vdXQgZm9yd2FyZHM7XFxuICAgIGFuaW1hdGlvbi1kZWxheTogMTgwbXM7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcXG4gIH1cXG5cIl0pO190ZW1wbGF0ZU9iamVjdDQ9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NCgpe3JldHVybiBkYXRhO307cmV0dXJuIGRhdGE7fWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDMoKXt2YXIgZGF0YT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuZnJvbSB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSg5MGRlZyk7XFxuXFx0b3BhY2l0eTogMDtcXG59XFxudG8ge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoOTBkZWcpO1xcblxcdG9wYWNpdHk6IDE7XFxufVwiXSk7X3RlbXBsYXRlT2JqZWN0Mz1mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0Migpe3ZhciBkYXRhPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG5mcm9tIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMCk7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG50byB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xcbiAgb3BhY2l0eTogMTtcXG59XCJdKTtfdGVtcGxhdGVPYmplY3QyPWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIoKXtyZXR1cm4gZGF0YTt9O3JldHVybiBkYXRhO31mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKXt2YXIgZGF0YT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuZnJvbSB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSg0NWRlZyk7XFxuXFx0b3BhY2l0eTogMDtcXG59XFxudG8ge1xcbiB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSg0NWRlZyk7XFxuICBvcGFjaXR5OiAxO1xcbn1cIl0pO190ZW1wbGF0ZU9iamVjdD1mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKXtyZXR1cm4gZGF0YTt9O3JldHVybiBkYXRhO312YXIgY2lyY2xlQW5pbWF0aW9uPS8qI19fUFVSRV9fKi9oJDEoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdCgpKTt2YXIgZmlyc3RMaW5lQW5pbWF0aW9uPS8qI19fUFVSRV9fKi9oJDEoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIoKSk7dmFyIHNlY29uZExpbmVBbmltYXRpb249LyojX19QVVJFX18qL2gkMSgvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0MygpKTt2YXIgRXJyb3JJY29uJDE9LyojX19QVVJFX18qL2ooJ2RpdicpKC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3Q0KCksZnVuY3Rpb24ocCl7cmV0dXJuIHAucHJpbWFyeXx8JyNmZjRiNGInO30sY2lyY2xlQW5pbWF0aW9uLGZpcnN0TGluZUFuaW1hdGlvbixmdW5jdGlvbihwKXtyZXR1cm4gcC5zZWNvbmRhcnl8fCcjZmZmJzt9LHNlY29uZExpbmVBbmltYXRpb24pO2Z1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIkMSgpe3ZhciBkYXRhPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAxMnB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkO1xcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcXG4gIGJvcmRlci1jb2xvcjogXCIsXCI7XFxuICBib3JkZXItcmlnaHQtY29sb3I6IFwiLFwiO1xcbiAgYW5pbWF0aW9uOiBcIixcIiAxcyBsaW5lYXIgaW5maW5pdGU7XFxuXCJdKTtfdGVtcGxhdGVPYmplY3QyJDE9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0Migpe3JldHVybiBkYXRhO307cmV0dXJuIGRhdGE7fWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQxKCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgZnJvbSB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgfVxcbiAgdG8ge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xcbiAgfVxcblwiXSk7X3RlbXBsYXRlT2JqZWN0JDE9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9dmFyIHJvdGF0ZT0vKiNfX1BVUkVfXyovaCQxKC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3QkMSgpKTt2YXIgTG9hZGVySWNvbj0vKiNfX1BVUkVfXyovaignZGl2JykoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIkMSgpLGZ1bmN0aW9uKHApe3JldHVybiBwLnNlY29uZGFyeXx8JyNlMGUwZTAnO30sZnVuY3Rpb24ocCl7cmV0dXJuIHAucHJpbWFyeXx8JyM2MTYxNjEnO30scm90YXRlKTtmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzJDEoKXt2YXIgZGF0YT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICB3aWR0aDogMjBweDtcXG4gIG9wYWNpdHk6IDA7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgYmFja2dyb3VuZDogXCIsXCI7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XFxuXFxuICBhbmltYXRpb246IFwiLFwiIDAuM3MgY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMiwgMS4yNzUpXFxuICAgIGZvcndhcmRzO1xcbiAgYW5pbWF0aW9uLWRlbGF5OiAxMDBtcztcXG4gICY6YWZ0ZXIge1xcbiAgICBjb250ZW50OiAnJztcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgYW5pbWF0aW9uOiBcIixcIiAwLjJzIGVhc2Utb3V0IGZvcndhcmRzO1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgICBhbmltYXRpb24tZGVsYXk6IDIwMG1zO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJvcmRlci1yaWdodDogMnB4IHNvbGlkO1xcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQ7XFxuICAgIGJvcmRlci1jb2xvcjogXCIsXCI7XFxuICAgIGJvdHRvbTogNnB4O1xcbiAgICBsZWZ0OiA2cHg7XFxuICAgIGhlaWdodDogMTBweDtcXG4gICAgd2lkdGg6IDZweDtcXG4gIH1cXG5cIl0pO190ZW1wbGF0ZU9iamVjdDMkMT1mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MiQyKCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbjAlIHtcXG5cXHRoZWlnaHQ6IDA7XFxuXFx0d2lkdGg6IDA7XFxuXFx0b3BhY2l0eTogMDtcXG59XFxuNDAlIHtcXG4gIGhlaWdodDogMDtcXG5cXHR3aWR0aDogNnB4O1xcblxcdG9wYWNpdHk6IDE7XFxufVxcbjEwMCUge1xcbiAgb3BhY2l0eTogMTtcXG4gIGhlaWdodDogMTBweDtcXG59XCJdKTtfdGVtcGxhdGVPYmplY3QyJDI9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0Migpe3JldHVybiBkYXRhO307cmV0dXJuIGRhdGE7fWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQyKCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbmZyb20ge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoNDVkZWcpO1xcblxcdG9wYWNpdHk6IDA7XFxufVxcbnRvIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDQ1ZGVnKTtcXG5cXHRvcGFjaXR5OiAxO1xcbn1cIl0pO190ZW1wbGF0ZU9iamVjdCQyPWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpe3JldHVybiBkYXRhO307cmV0dXJuIGRhdGE7fXZhciBjaXJjbGVBbmltYXRpb24kMT0vKiNfX1BVUkVfXyovaCQxKC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3QkMigpKTt2YXIgY2hlY2ttYXJrQW5pbWF0aW9uPS8qI19fUFVSRV9fKi9oJDEoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIkMigpKTt2YXIgQ2hlY2ttYXJrSWNvbj0vKiNfX1BVUkVfXyovaignZGl2JykoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDMkMSgpLGZ1bmN0aW9uKHApe3JldHVybiBwLnByaW1hcnl8fCcjNjFkMzQ1Jzt9LGNpcmNsZUFuaW1hdGlvbiQxLGNoZWNrbWFya0FuaW1hdGlvbixmdW5jdGlvbihwKXtyZXR1cm4gcC5zZWNvbmRhcnl8fCcjZmZmJzt9KTtmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q0JDEoKXt2YXIgZGF0YT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDAuNik7XFxuICBvcGFjaXR5OiAwLjQ7XFxuICBtaW4td2lkdGg6IDIwcHg7XFxuICBhbmltYXRpb246IFwiLFwiIDAuM3MgMC4xMnMgY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMiwgMS4yNzUpXFxuICAgIGZvcndhcmRzO1xcblwiXSk7X3RlbXBsYXRlT2JqZWN0NCQxPWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDQoKXtyZXR1cm4gZGF0YTt9O3JldHVybiBkYXRhO31mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzJDIoKXt2YXIgZGF0YT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiXFxuZnJvbSB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKDAuNik7XFxuICBvcGFjaXR5OiAwLjQ7XFxufVxcbnRvIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICBvcGFjaXR5OiAxO1xcbn1cIl0pO190ZW1wbGF0ZU9iamVjdDMkMj1mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MiQzKCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIG1pbi1oZWlnaHQ6IDIwcHg7XFxuXCJdKTtfdGVtcGxhdGVPYmplY3QyJDM9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0Migpe3JldHVybiBkYXRhO307cmV0dXJuIGRhdGE7fWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQzKCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcblwiXSk7X3RlbXBsYXRlT2JqZWN0JDM9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9dmFyIFN0YXR1c1dyYXBwZXI9LyojX19QVVJFX18qL2ooJ2RpdicpKC8qI19fUFVSRV9fKi9fdGVtcGxhdGVPYmplY3QkMygpKTt2YXIgSW5kaWNhdG9yV3JhcHBlcj0vKiNfX1BVUkVfXyovaignZGl2JykoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdDIkMygpKTt2YXIgZW50ZXI9LyojX19QVVJFX18qL2gkMSgvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0MyQyKCkpO3ZhciBBbmltYXRlZEljb25XcmFwcGVyPS8qI19fUFVSRV9fKi9qKCdkaXYnKSgvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0NCQxKCksZW50ZXIpO3ZhciBUb2FzdEljb249ZnVuY3Rpb24gVG9hc3RJY29uKF9yZWYpe3ZhciB0b2FzdD1fcmVmLnRvYXN0O3ZhciBpY29uPXRvYXN0Lmljb24sdHlwZT10b2FzdC50eXBlLGljb25UaGVtZT10b2FzdC5pY29uVGhlbWU7aWYoaWNvbiE9PXVuZGVmaW5lZCl7aWYodHlwZW9mIGljb249PT0nc3RyaW5nJyl7cmV0dXJuLyojX19QVVJFX18qL3kkNChBbmltYXRlZEljb25XcmFwcGVyLG51bGwsaWNvbik7fWVsc2V7cmV0dXJuIGljb247fX1pZih0eXBlPT09J2JsYW5rJyl7cmV0dXJuIG51bGw7fXJldHVybi8qI19fUFVSRV9fKi95JDQoSW5kaWNhdG9yV3JhcHBlcixudWxsLC8qI19fUFVSRV9fKi95JDQoTG9hZGVySWNvbixPYmplY3QuYXNzaWduKHt9LGljb25UaGVtZSkpLHR5cGUhPT0nbG9hZGluZycmJi8qI19fUFVSRV9fKi95JDQoU3RhdHVzV3JhcHBlcixudWxsLHR5cGU9PT0nZXJyb3InPy8qI19fUFVSRV9fKi95JDQoRXJyb3JJY29uJDEsT2JqZWN0LmFzc2lnbih7fSxpY29uVGhlbWUpKTovKiNfX1BVUkVfXyoveSQ0KENoZWNrbWFya0ljb24sT2JqZWN0LmFzc2lnbih7fSxpY29uVGhlbWUpKSkpO307ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MiQ0KCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgbWFyZ2luOiA0cHggMTBweDtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgZmxleDogMSAxIGF1dG87XFxuICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XFxuXCJdKTtfdGVtcGxhdGVPYmplY3QyJDQ9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0Migpe3JldHVybiBkYXRhO307cmV0dXJuIGRhdGE7fWZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQ0KCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgY29sb3I6ICMzNjM2MzY7XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcXG4gIGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDNweCAzcHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcXG4gIG1heC13aWR0aDogMzUwcHg7XFxuICBwb2ludGVyLWV2ZW50czogYXV0bztcXG4gIHBhZGRpbmc6IDhweCAxMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcblwiXSk7X3RlbXBsYXRlT2JqZWN0JDQ9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9dmFyIGVudGVyQW5pbWF0aW9uPWZ1bmN0aW9uIGVudGVyQW5pbWF0aW9uKGZhY3Rvcil7cmV0dXJuXCJcXG4wJSB7dHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLFwiK2ZhY3RvciotMjAwK1wiJSwwKSBzY2FsZSguNik7IG9wYWNpdHk6LjU7fVxcbjEwMCUge3RyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpOyBvcGFjaXR5OjE7fVxcblwiO307dmFyIGV4aXRBbmltYXRpb249ZnVuY3Rpb24gZXhpdEFuaW1hdGlvbihmYWN0b3Ipe3JldHVyblwiXFxuMCUge3RyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwwLC0xcHgpIHNjYWxlKDEpOyBvcGFjaXR5OjE7fVxcbjEwMCUge3RyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCxcIitmYWN0b3IqLTE1MCtcIiUsLTFweCkgc2NhbGUoLjYpOyBvcGFjaXR5OjA7fVxcblwiO307dmFyIGZhZGVJbkFuaW1hdGlvbj1cIjAle29wYWNpdHk6MDt9IDEwMCV7b3BhY2l0eToxO31cIjt2YXIgZmFkZU91dEFuaW1hdGlvbj1cIjAle29wYWNpdHk6MTt9IDEwMCV7b3BhY2l0eTowO31cIjt2YXIgVG9hc3RCYXJCYXNlPS8qI19fUFVSRV9fKi9qKCdkaXYnLE4kMSkoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdCQ0KCkpO3ZhciBNZXNzYWdlPS8qI19fUFVSRV9fKi9qKCdkaXYnKSgvKiNfX1BVUkVfXyovX3RlbXBsYXRlT2JqZWN0MiQ0KCkpO3ZhciBnZXRBbmltYXRpb25TdHlsZT1mdW5jdGlvbiBnZXRBbmltYXRpb25TdHlsZShwb3NpdGlvbix2aXNpYmxlKXt2YXIgdG9wPXBvc2l0aW9uLmluY2x1ZGVzKCd0b3AnKTt2YXIgZmFjdG9yPXRvcD8xOi0xO3ZhciBfcmVmPXByZWZlcnNSZWR1Y2VkTW90aW9uKCk/W2ZhZGVJbkFuaW1hdGlvbixmYWRlT3V0QW5pbWF0aW9uXTpbZW50ZXJBbmltYXRpb24oZmFjdG9yKSxleGl0QW5pbWF0aW9uKGZhY3RvcildLGVudGVyPV9yZWZbMF0sZXhpdD1fcmVmWzFdO3JldHVybnthbmltYXRpb246dmlzaWJsZT9oJDEoZW50ZXIpK1wiIDAuMzVzIGN1YmljLWJlemllciguMjEsMS4wMiwuNzMsMSkgZm9yd2FyZHNcIjpoJDEoZXhpdCkrXCIgMC40cyBmb3J3YXJkcyBjdWJpYy1iZXppZXIoLjA2LC43MSwuNTUsMSlcIn07fTt2YXIgVG9hc3RCYXI9LyojX19QVVJFX18qL3ckNChmdW5jdGlvbihfcmVmMil7dmFyIHRvYXN0PV9yZWYyLnRvYXN0LHBvc2l0aW9uPV9yZWYyLnBvc2l0aW9uLHN0eWxlPV9yZWYyLnN0eWxlLGNoaWxkcmVuPV9yZWYyLmNoaWxkcmVuO3ZhciBhbmltYXRpb25TdHlsZT10b2FzdCE9bnVsbCYmdG9hc3QuaGVpZ2h0P2dldEFuaW1hdGlvblN0eWxlKHRvYXN0LnBvc2l0aW9ufHxwb3NpdGlvbnx8J3RvcC1jZW50ZXInLHRvYXN0LnZpc2libGUpOntvcGFjaXR5OjB9O3ZhciBpY29uPS8qI19fUFVSRV9fKi95JDQoVG9hc3RJY29uLHt0b2FzdDp0b2FzdH0pO3ZhciBtZXNzYWdlPS8qI19fUFVSRV9fKi95JDQoTWVzc2FnZSxPYmplY3QuYXNzaWduKHt9LHRvYXN0LmFyaWFQcm9wcykscmVzb2x2ZVZhbHVlKHRvYXN0Lm1lc3NhZ2UsdG9hc3QpKTtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KFRvYXN0QmFyQmFzZSx7Y2xhc3NOYW1lOnRvYXN0LmNsYXNzTmFtZSxzdHlsZTpfZXh0ZW5kcyh7fSxhbmltYXRpb25TdHlsZSxzdHlsZSx0b2FzdC5zdHlsZSl9LHR5cGVvZiBjaGlsZHJlbj09PSdmdW5jdGlvbic/Y2hpbGRyZW4oe2ljb246aWNvbixtZXNzYWdlOm1lc3NhZ2V9KTovKiNfX1BVUkVfXyoveSQ0KGckNyxudWxsLGljb24sbWVzc2FnZSkpO30pO2Z1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQ1KCl7dmFyIGRhdGE9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlxcbiAgei1pbmRleDogOTk5OTtcXG4gID4gKiB7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbiAgfVxcblwiXSk7X3RlbXBsYXRlT2JqZWN0JDU9ZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCl7cmV0dXJuIGRhdGE7fTtyZXR1cm4gZGF0YTt9bSQxKHkkNCk7dmFyIGdldFBvc2l0aW9uU3R5bGU9ZnVuY3Rpb24gZ2V0UG9zaXRpb25TdHlsZShwb3NpdGlvbixvZmZzZXQpe3ZhciB0b3A9cG9zaXRpb24uaW5jbHVkZXMoJ3RvcCcpO3ZhciB2ZXJ0aWNhbFN0eWxlPXRvcD97dG9wOjB9Ontib3R0b206MH07dmFyIGhvcml6b250YWxTdHlsZT1wb3NpdGlvbi5pbmNsdWRlcygnY2VudGVyJyk/e2p1c3RpZnlDb250ZW50OidjZW50ZXInfTpwb3NpdGlvbi5pbmNsdWRlcygncmlnaHQnKT97anVzdGlmeUNvbnRlbnQ6J2ZsZXgtZW5kJ306e307cmV0dXJuIF9leHRlbmRzKHtsZWZ0OjAscmlnaHQ6MCxkaXNwbGF5OidmbGV4Jyxwb3NpdGlvbjonYWJzb2x1dGUnLHRyYW5zaXRpb246cHJlZmVyc1JlZHVjZWRNb3Rpb24oKT91bmRlZmluZWQ6XCJhbGwgMjMwbXMgY3ViaWMtYmV6aWVyKC4yMSwxLjAyLC43MywxKVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrb2Zmc2V0Kih0b3A/MTotMSkrXCJweClcIn0sdmVydGljYWxTdHlsZSxob3Jpem9udGFsU3R5bGUpO307dmFyIGFjdGl2ZUNsYXNzPS8qI19fUFVSRV9fKi91JDEoLyojX19QVVJFX18qL190ZW1wbGF0ZU9iamVjdCQ1KCkpO3ZhciBERUZBVUxUX09GRlNFVD0xNjt2YXIgVG9hc3Rlcj1mdW5jdGlvbiBUb2FzdGVyKF9yZWYpe3ZhciByZXZlcnNlT3JkZXI9X3JlZi5yZXZlcnNlT3JkZXIsX3JlZiRwb3NpdGlvbj1fcmVmLnBvc2l0aW9uLHBvc2l0aW9uPV9yZWYkcG9zaXRpb249PT12b2lkIDA/J3RvcC1jZW50ZXInOl9yZWYkcG9zaXRpb24sdG9hc3RPcHRpb25zPV9yZWYudG9hc3RPcHRpb25zLGd1dHRlcj1fcmVmLmd1dHRlcixjaGlsZHJlbj1fcmVmLmNoaWxkcmVuLGNvbnRhaW5lclN0eWxlPV9yZWYuY29udGFpbmVyU3R5bGUsY29udGFpbmVyQ2xhc3NOYW1lPV9yZWYuY29udGFpbmVyQ2xhc3NOYW1lO3ZhciBfdXNlVG9hc3Rlcj11c2VUb2FzdGVyKHRvYXN0T3B0aW9ucyksdG9hc3RzPV91c2VUb2FzdGVyLnRvYXN0cyxoYW5kbGVycz1fdXNlVG9hc3Rlci5oYW5kbGVycztyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KFwiZGl2XCIse3N0eWxlOl9leHRlbmRzKHtwb3NpdGlvbjonZml4ZWQnLHpJbmRleDo5OTk5LHRvcDpERUZBVUxUX09GRlNFVCxsZWZ0OkRFRkFVTFRfT0ZGU0VULHJpZ2h0OkRFRkFVTFRfT0ZGU0VULGJvdHRvbTpERUZBVUxUX09GRlNFVCxwb2ludGVyRXZlbnRzOidub25lJ30sY29udGFpbmVyU3R5bGUpLGNsYXNzTmFtZTpjb250YWluZXJDbGFzc05hbWUsb25Nb3VzZUVudGVyOmhhbmRsZXJzLnN0YXJ0UGF1c2Usb25Nb3VzZUxlYXZlOmhhbmRsZXJzLmVuZFBhdXNlfSx0b2FzdHMubWFwKGZ1bmN0aW9uKHQpe3ZhciB0b2FzdFBvc2l0aW9uPXQucG9zaXRpb258fHBvc2l0aW9uO3ZhciBvZmZzZXQ9aGFuZGxlcnMuY2FsY3VsYXRlT2Zmc2V0KHQse3JldmVyc2VPcmRlcjpyZXZlcnNlT3JkZXIsZ3V0dGVyOmd1dHRlcixkZWZhdWx0UG9zaXRpb246cG9zaXRpb259KTt2YXIgcG9zaXRpb25TdHlsZT1nZXRQb3NpdGlvblN0eWxlKHRvYXN0UG9zaXRpb24sb2Zmc2V0KTt2YXIgcmVmPXQuaGVpZ2h0P3VuZGVmaW5lZDpjcmVhdGVSZWN0UmVmKGZ1bmN0aW9uKHJlY3Qpe2hhbmRsZXJzLnVwZGF0ZUhlaWdodCh0LmlkLHJlY3QuaGVpZ2h0KTt9KTtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KFwiZGl2XCIse3JlZjpyZWYsY2xhc3NOYW1lOnQudmlzaWJsZT9hY3RpdmVDbGFzczonJyxrZXk6dC5pZCxzdHlsZTpwb3NpdGlvblN0eWxlfSx0LnR5cGU9PT0nY3VzdG9tJz9yZXNvbHZlVmFsdWUodC5tZXNzYWdlLHQpOmNoaWxkcmVuP2NoaWxkcmVuKHQpOi8qI19fUFVSRV9fKi95JDQoVG9hc3RCYXIse3RvYXN0OnQscG9zaXRpb246dG9hc3RQb3NpdGlvbn0pKTt9KSk7fTt2YXIgQmFja0J1dHRvbj1IZS5idXR0b24oX3RlbXBsYXRlT2JqZWN0Mjh8fChfdGVtcGxhdGVPYmplY3QyOD1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYWxsOiB1bnNldDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG5cIl0pKSk7dmFyIEJhY2tBcnJvd1N2Zz1mdW5jdGlvbiBCYWNrQXJyb3dTdmcoX3JlZjc5KXt2YXIgY29sb3I9X3JlZjc5LmNvbG9yO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOlwiMjRcIixoZWlnaHQ6XCIyNFwiLHZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMjAgMTFINy44M0wxMy40MiA1LjQxTDEyIDRMNCAxMkwxMiAyMEwxMy40MSAxOC41OUw3LjgzIDEzSDIwVjExWlwiLGZpbGw6Y29sb3J9KSk7fTt2YXIgQmFja0Fycm93PWZ1bmN0aW9uIEJhY2tBcnJvdyhfcmVmODApe3ZhciBvbkNsaWNrPV9yZWY4MC5vbkNsaWNrO3ZhciB0aGVtZT1aZSgpO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tCdXR0b24se3R5cGU6XCJidXR0b25cIixvbkNsaWNrOm9uQ2xpY2ssXCJhcmlhLWxhYmVsXCI6XCJCYWNrXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tBcnJvd1N2Zyx7Y29sb3I6dGhlbWUuY29sb3JzLnByaW1hcnl9KSk7fTt2YXIgSW5saW5lQnV0dG9uPWZ1bmN0aW9uIElubGluZUJ1dHRvbihfcmVmODEpe3ZhciBvbkNsaWNrPV9yZWY4MS5vbkNsaWNrLGNoaWxkcmVuPV9yZWY4MS5jaGlsZHJlbjtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLHtvbkNsaWNrOm9uQ2xpY2ssc3R5bGU6e2FsbDondW5zZXQnfX0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIse3N0eWxlOntjdXJzb3I6J3BvaW50ZXInfX0sY2hpbGRyZW4pKTt9O3ZhciBXcmFwcGVyPUhlLmRpdihfdGVtcGxhdGVPYmplY3QyOXx8KF90ZW1wbGF0ZU9iamVjdDI5PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBcIixcIjtcXG4gIHRyYW5zaXRpb246IGdyaWQtdGVtcGxhdGUtcm93cyAwLjE1cyBlYXNlLW91dDtcXG5cIl0pKSxmdW5jdGlvbihfcmVmODIpe3ZhciBpc09wZW49X3JlZjgyLmlzT3BlbjtyZXR1cm4gaXNPcGVuPycxZnInOicwZnInO30pO3ZhciBJbm5lcj1IZS5kaXYoX3RlbXBsYXRlT2JqZWN0MzB8fChfdGVtcGxhdGVPYmplY3QzMD1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG5cIl0pKSk7dmFyIEFuaW1hdGVkQ29udGFpbmVyPWZ1bmN0aW9uIEFuaW1hdGVkQ29udGFpbmVyKF9yZWY4Myl7dmFyIGlzT3Blbj1fcmVmODMuaXNPcGVuLGNoaWxkcmVuPV9yZWY4My5jaGlsZHJlbjtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChXcmFwcGVyLHtpc09wZW46aXNPcGVufSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbm5lcixudWxsLGNoaWxkcmVuKSk7fTt2YXIgQ29udGFpbmVyPUhlLmRpdihfdGVtcGxhdGVPYmplY3QzMXx8KF90ZW1wbGF0ZU9iamVjdDMxPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBoZWlnaHQ6IDRweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG5cIl0pKSxmdW5jdGlvbihfcmVmODQpe3ZhciB0aGVtZT1fcmVmODQudGhlbWU7cmV0dXJuIHRoZW1lLmNvbG9ycy5kaXNhYmxlZDt9KTt2YXIgbG9hZGluZz1VZShfdGVtcGxhdGVPYmplY3QzMnx8KF90ZW1wbGF0ZU9iamVjdDMyPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xJSk7XFxuICB9XFxuXCJdKSkpO3ZhciBQcm9ncmVzcz1IZS5kaXYoX3RlbXBsYXRlT2JqZWN0MzN8fChfdGVtcGxhdGVPYmplY3QzMz1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gIGFuaW1hdGlvbjogXCIsXCIgMTBzIGN1YmljLWJlemllcigwLjIyLCAxLCAwLjM2LCAxKTtcXG5cIl0pKSxmdW5jdGlvbihfcmVmODUpe3ZhciB0aGVtZT1fcmVmODUudGhlbWU7cmV0dXJuIHRoZW1lLmNvbG9ycy5wcmltYXJ5O30sbG9hZGluZyk7dmFyIExvYWRpbmdCYXI9ZnVuY3Rpb24gTG9hZGluZ0JhcihfcmVmODYpe3ZhciBpc0xvYWRpbmc9X3JlZjg2LmlzTG9hZGluZztyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDb250YWluZXIsbnVsbCxpc0xvYWRpbmcmJi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFByb2dyZXNzLG51bGwpKTt9O3ZhciBHQVA9JzhweCc7dmFyIFdJRFRIPSc0NnB4Jzt2YXIgSU5QVVRfSEVJR0hUPSc0NnB4Jzt2YXIgRGlnaXQ9SGUuZGl2KF90ZW1wbGF0ZU9iamVjdDM0fHwoX3RlbXBsYXRlT2JqZWN0MzQ9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGJvcmRlcjogMXB4IHNvbGlkIFwiLFwiO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGhlaWdodDogXCIsXCI7XFxuICB3aWR0aDogXCIsXCI7XFxuICBiYWNrZ3JvdW5kOiBcIixcIjtcXG4gIGNvbG9yOiBcIixcIjtcXG5cIl0pKSxmdW5jdGlvbihfcmVmODcpe3ZhciBkaXNhYmxlZD1fcmVmODcuZGlzYWJsZWQsdGhlbWU9X3JlZjg3LnRoZW1lO3JldHVybiBkaXNhYmxlZD90aGVtZS5jb2xvcnMuZGlzYWJsZWQ6JyNBREJDQzUnO30sSU5QVVRfSEVJR0hULFdJRFRILGZ1bmN0aW9uKF9yZWY4OCl7dmFyIGRpc2FibGVkPV9yZWY4OC5kaXNhYmxlZCx0aGVtZT1fcmVmODgudGhlbWU7cmV0dXJuIGRpc2FibGVkP3RoZW1lLmNvbG9ycy5kaXNhYmxlZDp0aGVtZS5pbnB1dHMuYmFja2dyb3VuZENvbG9yO30sZnVuY3Rpb24oX3JlZjg5KXt2YXIgZGlzYWJsZWQ9X3JlZjg5LmRpc2FibGVkLHRoZW1lPV9yZWY4OS50aGVtZTtyZXR1cm4gZGlzYWJsZWQ/dGhlbWUuY29sb3JzLmRpc2FibGVkVGV4dDp0aGVtZS5pbnB1dHMudGV4dENvbG9yO30pO3ZhciBkaWdpdHNDb250YWluZXJTdHlsZXM9e2Rpc3BsYXk6J2ZsZXgnLGp1c3RpZnlDb250ZW50OidzcGFjZS1iZXR3ZWVuJyxnYXA6R0FQLHBvc2l0aW9uOidyZWxhdGl2ZScsekluZGV4Oi0xfTt2YXIgb3RwQ29udGFpbmVyU3R5bGVzPXtvdmVyZmxvdzonaGlkZGVuJyxwb3NpdGlvbjoncmVsYXRpdmUnLHRleHRBbGlnbjonaW5pdGlhbCcsekluZGV4OjF9O3ZhciBpbnZpc2libGVJbnB1dFN0eWxlcz17YmFja2dyb3VuZDondHJhbnNwYXJlbnQnLGJvcmRlcjonbm9uZScsY29sb3I6J3RyYW5zcGFyZW50JyxoZWlnaHQ6SU5QVVRfSEVJR0hULG1hcmdpbjowLG91dGxpbmU6J25vbmUnLHBvc2l0aW9uOidhYnNvbHV0ZScsd2lkdGg6XCJjYWxjKDEwMCUgLSAoMC41ICogXCIuY29uY2F0KFdJRFRILFwiKSlcIiksY2FyZXRDb2xvcjonI0FEQkNDNScsbGV0dGVyU3BhY2luZzpcImNhbGMoXCIuY29uY2F0KFdJRFRILFwiIC0gMWNoICsgXCIpLmNvbmNhdChHQVAsXCIpXCIpLHBhZGRpbmdMZWZ0OlwiY2FsYygwLjUgKiBcIi5jb25jYXQoV0lEVEgsXCIpXCIpLHpJbmRleDoxMH07dmFyIERpZ2l0QXRJbmRleD1mdW5jdGlvbiBEaWdpdEF0SW5kZXgoX3JlZjkwKXt2YXIgaW5kZXg9X3JlZjkwLmluZGV4LGRpc2FibGVkPV9yZWY5MC5kaXNhYmxlZCxvdHA9X3JlZjkwLm90cDt2YXIgZmlsbD1vdHA/b3RwW2luZGV4XTonJztyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChEaWdpdCx7ZGlzYWJsZWQ6ZGlzYWJsZWQsXCJkYXRhLXRlc3RpZFwiOlwib3RwLVwiLmNvbmNhdChpbmRleCl9LGZpbGwpO307dmFyIE9UUElucHV0PWZ1bmN0aW9uIE9UUElucHV0KF9yZWY5MSl7dmFyIG90cD1fcmVmOTEub3RwLHNldE90cD1fcmVmOTEuc2V0T3RwLGRpc2FibGVkPV9yZWY5MS5kaXNhYmxlZDt2YXIgb25QYXNzY29kZUNoYW5nZT1mdW5jdGlvbiBvblBhc3Njb2RlQ2hhbmdlKGUpe2lmKCEvXlxcZCokLy50ZXN0KGUudGFyZ2V0LnZhbHVlKSl7cmV0dXJuO31zZXRPdHAoZS50YXJnZXQudmFsdWUpO307cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6b3RwQ29udGFpbmVyU3R5bGVzfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImlucHV0XCIse1wiYXJpYS1sYWJlbFwiOlwiT25lLXRpbWUgcGFzc2NvZGVcIixhdXRvQ29tcGxldGU6XCJvbmUtdGltZS1jb2RlXCIsYXV0b0ZvY3VzOnRydWUsZGlzYWJsZWQ6ZGlzYWJsZWQsc3R5bGU6aW52aXNpYmxlSW5wdXRTdHlsZXMsbWF4TGVuZ3RoOjYsb25DaGFuZ2U6b25QYXNzY29kZUNoYW5nZSx0eXBlOlwidGV4dFwiLGlucHV0TW9kZTpcIm51bWVyaWNcIix2YWx1ZTpvdHAsXCJkYXRhLTFwLWlnbm9yZVwiOlwidHJ1ZVwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6ZGlnaXRzQ29udGFpbmVyU3R5bGVzfSxfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkoNikua2V5cygpKS5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGlnaXRBdEluZGV4LHtrZXk6XCJkaWdpdC1cIi5jb25jYXQoaSksaW5kZXg6aSxvdHA6b3RwLGRpc2FibGVkOiEhZGlzYWJsZWR9KTt9KSkpO307dmFyIE9UUF9DT0RFX0xFTkdUSD02O3ZhciBPVFBDb250cm9sPWZ1bmN0aW9uIE9UUENvbnRyb2woX3JlZjkyKXt2YXIgaXNTdWJtaXR0aW5nPV9yZWY5Mi5pc1N1Ym1pdHRpbmcsb25TdWJtaXQ9X3JlZjkyLm9uU3VibWl0LGVycm9yTWVzc2FnZT1fcmVmOTIuZXJyb3JNZXNzYWdlO3ZhciBfaCQ0Nz1oJDUoJycpLF9oJDQ4PV9zbGljZWRUb0FycmF5MihfaCQ0NywyKSxvdHA9X2gkNDhbMF0sc2V0T3RwPV9oJDQ4WzFdO3ZhciBoYW5kbGVPdHBDaGFuZ2U9ZnVuY3Rpb24gaGFuZGxlT3RwQ2hhbmdlKG90cCl7c2V0T3RwKG90cCk7aWYob3RwLmxlbmd0aD09PU9UUF9DT0RFX0xFTkdUSCl7b25TdWJtaXQob3RwKTt9fTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixtYXhXaWR0aDozMTZ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9UUElucHV0LHtvdHA6b3RwLHNldE90cDpoYW5kbGVPdHBDaGFuZ2UsZGlzYWJsZWQ6aXNTdWJtaXR0aW5nfSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZWRDb250YWluZXIse2lzT3Blbjppc1N1Ym1pdHRpbmd9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4LG1hcmdpblRvcDo4fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtjb2xvcjpcInNlY29uZGFyeVwiLHNpemU6XCJoZWxwZXJcIn0sXCJWZXJpZnlpbmcgcGFzc2NvZGUuLi5cIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0Jhcix7aXNMb2FkaW5nOmlzU3VibWl0dGluZ30pKSksIWlzU3VibWl0dGluZyYmLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LHtlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlIT09bnVsbCYmZXJyb3JNZXNzYWdlIT09dm9pZCAwP2Vycm9yTWVzc2FnZTonJ30pKTt9O3ZhciBPVFBFbnRyeT1mdW5jdGlvbiBPVFBFbnRyeShfcmVmOTMpe3ZhciBoZWFkZXI9X3JlZjkzLmhlYWRlcixoZWxwZXJDb250ZW50PV9yZWY5My5oZWxwZXJDb250ZW50LGluc3RydWN0aW9uPV9yZWY5My5pbnN0cnVjdGlvbixpc1N1Ym1pdHRpbmc9X3JlZjkzLmlzU3VibWl0dGluZyxvblN1Ym1pdD1fcmVmOTMub25TdWJtaXQsZXJyb3JNZXNzYWdlPV9yZWY5My5lcnJvck1lc3NhZ2U7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LGhlYWRlciksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCxudWxsLGluc3RydWN0aW9uKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPVFBDb250cm9sLHtpc1N1Ym1pdHRpbmc6aXNTdWJtaXR0aW5nLG9uU3VibWl0Om9uU3VibWl0LGVycm9yTWVzc2FnZTplcnJvck1lc3NhZ2V9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVscGVyXCIsY29sb3I6XCJzZWNvbmRhcnlcIn0saGVscGVyQ29udGVudCkpO307dmFyIGdldFNlY29uZHNSZW1haW5pbmc9ZnVuY3Rpb24gZ2V0U2Vjb25kc1JlbWFpbmluZyhleHBpcmF0aW9uKXt2YXIgbm93PW5ldyBEYXRlKCk7cmV0dXJuIE1hdGguY2VpbCgoZXhwaXJhdGlvbi5nZXRUaW1lKCktbm93LmdldFRpbWUoKSkvMTAwMCk7fTt2YXIgRXhwaXJhdGlvbk1lc3NhZ2U9ZnVuY3Rpb24gRXhwaXJhdGlvbk1lc3NhZ2UoX3JlZjk0KXt2YXIgZXhwaXJhdGlvbj1fcmVmOTQuZXhwaXJhdGlvbixyZXNlbmRPVFA9X3JlZjk0LnJlc2VuZE9UUDt2YXIgX2gkNDk9aCQ1KGZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlY29uZHNSZW1haW5pbmcoZXhwaXJhdGlvbik7fSksX2gkNTA9X3NsaWNlZFRvQXJyYXkyKF9oJDQ5LDIpLHNlY29uZHM9X2gkNTBbMF0sc2V0U2Vjb25kcz1faCQ1MFsxXTt2YXIgY29kZUV4cGlyZWQ9c2Vjb25kczw9MDtwJDYoZnVuY3Rpb24oKXtpZighY29kZUV4cGlyZWQpe3ZhciB1cGRhdGVTZWNvbmRzPWZ1bmN0aW9uIHVwZGF0ZVNlY29uZHMoKXtyZXR1cm4gc2V0U2Vjb25kcyhnZXRTZWNvbmRzUmVtYWluaW5nKGV4cGlyYXRpb24pKTt9O3ZhciBpbnRlcnZhbD1zZXRJbnRlcnZhbCh1cGRhdGVTZWNvbmRzLDEwMDApO3VwZGF0ZVNlY29uZHMoKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fTt9fSxbY29kZUV4cGlyZWQsZXhwaXJhdGlvbl0pO3ZhciBkaXNwbGF5TWludXRlcz1NYXRoLmZsb29yKE51bWJlcihzZWNvbmRzLzYwKSk7dmFyIGRpc3BsYXlTZWNvbmRzPXNlY29uZHMtZGlzcGxheU1pbnV0ZXMqNjA7dmFyIGZvcm1hdHRlZFRpbWU9XCJcIi5jb25jYXQoZGlzcGxheU1pbnV0ZXMsXCI6XCIpLmNvbmNhdChkaXNwbGF5U2Vjb25kczwxMD9cIjBcIi5jb25jYXQoZGlzcGxheVNlY29uZHMpOmRpc3BsYXlTZWNvbmRzKTt2YXIgZm9ybWF0dGVkVGV4dD1zZWNvbmRzPjA/XCJZb3VyIGNvZGUgZXhwaXJlcyBpbiBcIi5jb25jYXQoZm9ybWF0dGVkVGltZSxcIi4gRGlkbid0IGdldCBpdD8gXCIpOidZb3VyIGNvZGUgaGFzIGV4cGlyZWQuICc7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCxmb3JtYXR0ZWRUZXh0LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KElubGluZUJ1dHRvbix7b25DbGljazpyZXNlbmRPVFB9LFwiUmVzZW5kIGNvZGVcIikpO307dmFyIFNlbnRPVFBFbnRyeT1mdW5jdGlvbiBTZW50T1RQRW50cnkoX3JlZjk1KXt2YXIgZXhwaXJhdGlvbj1fcmVmOTUuZXhwaXJhdGlvbixmb3JtYXR0ZWREZXN0aW5hdGlvbj1fcmVmOTUuZm9ybWF0dGVkRGVzdGluYXRpb24saXNTdWJtaXR0aW5nPV9yZWY5NS5pc1N1Ym1pdHRpbmcsb25TdWJtaXQ9X3JlZjk1Lm9uU3VibWl0LGVycm9yTWVzc2FnZT1fcmVmOTUuZXJyb3JNZXNzYWdlLHJlc2VuZE9UUD1fcmVmOTUucmVzZW5kT1RQO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9UUEVudHJ5LHtoZWFkZXI6XCJFbnRlciBwYXNzY29kZVwiLGhlbHBlckNvbnRlbnQ6LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXhwaXJhdGlvbk1lc3NhZ2Use2V4cGlyYXRpb246ZXhwaXJhdGlvbixyZXNlbmRPVFA6cmVzZW5kT1RQfSksaW5zdHJ1Y3Rpb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCxcIkEgNi1kaWdpdCBwYXNzY29kZSB3YXMgc2VudCB0byB5b3UgYXQgXCIsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIsbnVsbCxmb3JtYXR0ZWREZXN0aW5hdGlvbiksXCIuXCIpLGlzU3VibWl0dGluZzppc1N1Ym1pdHRpbmcsb25TdWJtaXQ6b25TdWJtaXQsZXJyb3JNZXNzYWdlOmVycm9yTWVzc2FnZX0pO307dmFyIE9UUEF1dGhlbnRpY2F0ZT1mdW5jdGlvbiBPVFBBdXRoZW50aWNhdGUoX3JlZjk2KXt2YXIgX3JlZjk2JGhpZGVCYWNrQXJyb3c9X3JlZjk2LmhpZGVCYWNrQXJyb3csaGlkZUJhY2tBcnJvdz1fcmVmOTYkaGlkZUJhY2tBcnJvdz09PXZvaWQgMD9mYWxzZTpfcmVmOTYkaGlkZUJhY2tBcnJvdzt2YXIgb25FdmVudD11c2VFdmVudENhbGxiYWNrKCk7dmFyIG9uRXJyb3I9dXNlRXJyb3JDYWxsYmFjaygpO3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIGNvbmZpZz11c2VDb25maWcoKTt2YXIgX3VzZUdsb2JhbFJlZHVjZXIxNz11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXIxOD1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXIxNywyKSxzdGF0ZT1fdXNlR2xvYmFsUmVkdWNlcjE4WzBdLGRpc3BhdGNoPV91c2VHbG9iYWxSZWR1Y2VyMThbMV07dmFyIF9oJDUxPWgkNShmYWxzZSksX2gkNTI9X3NsaWNlZFRvQXJyYXkyKF9oJDUxLDIpLGlzU3VibWl0dGluZz1faCQ1MlswXSxzZXRJc1N1Ym1pdHRpbmc9X2gkNTJbMV07dmFyIGRlc3RpbmF0aW9uPXN0YXRlLmZvcm1TdGF0ZS5vdHBTdGF0ZS5vdHBEZXN0aW5hdGlvbjt2YXIgc2VsZWN0aW9uTWV0aG9kPXN0YXRlLmZvcm1TdGF0ZS5vdHBTdGF0ZS50eXBlO3ZhciBfaCQ1Mz1oJDUoJycpLF9oJDU0PV9zbGljZWRUb0FycmF5MihfaCQ1MywyKSxlcnJvck1lc3NhZ2U9X2gkNTRbMF0sc2V0RXJyb3JNZXNzYWdlPV9oJDU0WzFdO3ZhciBfaCQ1NT1oJDUoZGVzdGluYXRpb24pLF9oJDU2PV9zbGljZWRUb0FycmF5MihfaCQ1NSwyKSxmb3JtYXR0ZWREZXN0aW5hdGlvbj1faCQ1NlswXSxzZXRGb3JtYXR0ZWREZXN0aW5hdGlvbj1faCQ1NlsxXTt2YXIgY2FsY3VsYXRlRXhwaXJhdGlvbj1mdW5jdGlvbiBjYWxjdWxhdGVFeHBpcmF0aW9uKCl7dmFyIF9hLF9iO3JldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpKzEwMDAqNjAqKChfYj0oX2E9Y29uZmlnLm90cE9wdGlvbnMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLmV4cGlyYXRpb25NaW51dGVzKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOkRFRkFVTFRfT1RQX0VYUElSQVRJT05fTUlOVVRFUykpO307cCQ2KGZ1bmN0aW9uKCl7cmVhZEIyQ0ludGVybmFscyhzdHl0Y2hDbGllbnQpLmNsaWVudHNpZGVTZXJ2aWNlcy5wYXJzZWRQaG9uZU51bWJlcih7cGhvbmVOdW1iZXI6ZGVzdGluYXRpb259KS50aGVuKGZ1bmN0aW9uKHBhcnNlUGhvbmVOdW1iZXIpe3NldEZvcm1hdHRlZERlc3RpbmF0aW9uKHNlbGVjdGlvbk1ldGhvZD09PU9UUE1ldGhvZHMuRW1haWw/ZGVzdGluYXRpb246cGFyc2VQaG9uZU51bWJlci5udW1iZXIpO30pO30sW3NlbGVjdGlvbk1ldGhvZCxkZXN0aW5hdGlvbixzdHl0Y2hDbGllbnRdKTt2YXIgX2gkNTc9aCQ1KGNhbGN1bGF0ZUV4cGlyYXRpb24pLF9oJDU4PV9zbGljZWRUb0FycmF5MihfaCQ1NywyKSxleHBpcmF0aW9uPV9oJDU4WzBdLHNldEV4cGlyYXRpb249X2gkNThbMV07dmFyIHJlc2VuZE9UUD1mdW5jdGlvbiByZXNlbmRPVFAoKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgzKCl7dmFyIF9hLF9iO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgzJChfY29udGV4dDgzKXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDgzLnByZXY9X2NvbnRleHQ4My5uZXh0KXtjYXNlIDA6aWYoc2VsZWN0aW9uTWV0aG9kPT09T1RQTWV0aG9kcy5FbWFpbCl7cmVhZEIyQ0ludGVybmFscyhzdHl0Y2hDbGllbnQpLm5ldHdvcmtDbGllbnQubG9nRXZlbnQoe25hbWU6J2VtYWlsX3RyeV9hZ2Fpbl9jbGlja2VkJyxkZXRhaWxzOntlbWFpbDpkZXN0aW5hdGlvbix0eXBlOkVtYWlsU2VudFR5cGUuTG9naW5PckNyZWF0ZU9UUH19KTt9c3R5dGNoQ2xpZW50Lm90cHNbc2VsZWN0aW9uTWV0aG9kXS5sb2dpbk9yQ3JlYXRlKGRlc3RpbmF0aW9uLHtleHBpcmF0aW9uX21pbnV0ZXM6KF9iPShfYT1jb25maWcub3RwT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZXhwaXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6REVGQVVMVF9PVFBfRVhQSVJBVElPTl9NSU5VVEVTfSkudGhlbihmdW5jdGlvbihkYXRhKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5PVFBzTG9naW5PckNyZWF0ZUV2ZW50LGRhdGE6ZGF0YX0pO3NldEV4cGlyYXRpb24oY2FsY3VsYXRlRXhwaXJhdGlvbigpKTtkaXNwYXRjaCh7dHlwZTondXBkYXRlX290cF9zdGF0ZScsb3RwU3RhdGU6e3R5cGU6c2VsZWN0aW9uTWV0aG9kLG1ldGhvZElkOmRhdGEubWV0aG9kX2lkLG90cERlc3RpbmF0aW9uOmRlc3RpbmF0aW9ufX0pO3RvYXN0LnN1Y2Nlc3MoJ0NvZGUgcmVzZW50Jyk7fSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtvbkVycm9yKGUpO3ZhciBtZXNzYWdlPWUubWVzc2FnZTtpZihlIGluc3RhbmNlb2YgU3R5dGNoQVBJRXJyb3Ipe21lc3NhZ2U9ZS5lcnJvcl9tZXNzYWdlO310b2FzdC5lcnJvcihtZXNzYWdlKTt9KTtjYXNlIDI6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0ODMuc3RvcCgpO319LF9jYWxsZWU4Myk7fSkpO307dmFyIGhhbmRsZVN1Ym1pdD1mdW5jdGlvbiBoYW5kbGVTdWJtaXQob3RwKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTg0KCl7dmFyIF9jLF9kO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTg0JChfY29udGV4dDg0KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDg0LnByZXY9X2NvbnRleHQ4NC5uZXh0KXtjYXNlIDA6c2V0SXNTdWJtaXR0aW5nKHRydWUpO3N0eXRjaENsaWVudC5vdHBzLmF1dGhlbnRpY2F0ZShvdHAsc3RhdGUuZm9ybVN0YXRlLm90cFN0YXRlLm1ldGhvZElkLHtzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6KF9kPShfYz1jb25maWcuc2Vzc2lvbk9wdGlvbnMpPT09bnVsbHx8X2M9PT12b2lkIDA/dm9pZCAwOl9jLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2QhPT12b2lkIDA/X2Q6REVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVN9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe29uRXZlbnQoe3R5cGU6U3R5dGNoRXZlbnRUeXBlLk9UUHNBdXRoZW50aWNhdGUsZGF0YTpkYXRhfSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5PVFBDb25maXJtYXRpb259KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtzZXRFcnJvck1lc3NhZ2UoJ0ludmFsaWQgcGFzc2NvZGUsIHBsZWFzZSB0cnkgYWdhaW4uJyk7fSk7Y2FzZSAyOmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDg0LnN0b3AoKTt9fSxfY2FsbGVlODQpO30pKTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sIWhpZGVCYWNrQXJyb3cmJi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJhY2tBcnJvdyx7b25DbGljazpmdW5jdGlvbiBvbkNsaWNrKCl7cmV0dXJuIGRpc3BhdGNoKHt0eXBlOid0cmFuc2l0aW9uJyxzY3JlZW46QXBwU2NyZWVucyQxLk1haW59KTt9fSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU2VudE9UUEVudHJ5LHtleHBpcmF0aW9uOmV4cGlyYXRpb24sZm9ybWF0dGVkRGVzdGluYXRpb246Zm9ybWF0dGVkRGVzdGluYXRpb24saXNTdWJtaXR0aW5nOmlzU3VibWl0dGluZyxvblN1Ym1pdDpoYW5kbGVTdWJtaXQscmVzZW5kT1RQOnJlc2VuZE9UUCxlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlfSkpO307dmFyIFBhc3N3b3JkSWNvblN2Zz1mdW5jdGlvbiBQYXNzd29yZEljb25TdmcoX3JlZjk3KXt2YXIgX3JlZjk3JGVuYWJsZWQ9X3JlZjk3LmVuYWJsZWQsZW5hYmxlZD1fcmVmOTckZW5hYmxlZD09PXZvaWQgMD9mYWxzZTpfcmVmOTckZW5hYmxlZDtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjIwXCIsaGVpZ2h0OlwiMTRcIix2aWV3Qm94OlwiMCAwIDIwIDE0XCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTkuOTk5OTIgMi40MTY2N0MxMy4xNTgzIDIuNDE2NjcgMTUuOTc0OSA0LjE5MTY3IDE3LjM0OTkgN0MxNS45NzQ5IDkuODA4MzMgMTMuMTU4MyAxMS41ODMzIDkuOTk5OTIgMTEuNTgzM0M2Ljg0MTU4IDExLjU4MzMgNC4wMjQ5MiA5LjgwODMzIDIuNjQ5OTIgN0M0LjAyNDkyIDQuMTkxNjcgNi44NDE1OCAyLjQxNjY3IDkuOTk5OTIgMi40MTY2N1pNOS45OTk5MiAwLjc1QzUuODMzMjUgMC43NSAyLjI3NDkyIDMuMzQxNjcgMC44MzMyNTIgN0MyLjI3NDkyIDEwLjY1ODMgNS44MzMyNSAxMy4yNSA5Ljk5OTkyIDEzLjI1QzE0LjE2NjYgMTMuMjUgMTcuNzI0OSAxMC42NTgzIDE5LjE2NjYgN0MxNy43MjQ5IDMuMzQxNjcgMTQuMTY2NiAwLjc1IDkuOTk5OTIgMC43NVpNOS45OTk5MiA0LjkxNjY3QzExLjE0OTkgNC45MTY2NyAxMi4wODMzIDUuODUgMTIuMDgzMyA3QzEyLjA4MzMgOC4xNSAxMS4xNDk5IDkuMDgzMzMgOS45OTk5MiA5LjA4MzMzQzguODQ5OTIgOS4wODMzMyA3LjkxNjU4IDguMTUgNy45MTY1OCA3QzcuOTE2NTggNS44NSA4Ljg0OTkyIDQuOTE2NjcgOS45OTk5MiA0LjkxNjY3Wk05Ljk5OTkyIDMuMjVDNy45MzMyNSAzLjI1IDYuMjQ5OTIgNC45MzMzMyA2LjI0OTkyIDdDNi4yNDk5MiA5LjA2NjY3IDcuOTMzMjUgMTAuNzUgOS45OTk5MiAxMC43NUMxMi4wNjY2IDEwLjc1IDEzLjc0OTkgOS4wNjY2NyAxMy43NDk5IDdDMTMuNzQ5OSA0LjkzMzMzIDEyLjA2NjYgMy4yNSA5Ljk5OTkyIDMuMjVaXCIsZmlsbDplbmFibGVkPycjMTkzMDNEJzonIzVDNzI3RCd9KSk7fTt2YXIgUGFzc3dvcmRJY29uVmlzaWJsZVN2Zz1mdW5jdGlvbiBQYXNzd29yZEljb25WaXNpYmxlU3ZnKCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIix7d2lkdGg6XCIyMFwiLGhlaWdodDpcIjE2XCIsdmlld0JveDpcIjAgMCAyMCAxNlwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xMC4wMDAyIDIuOTc5MjFDMTMuMTU4NSAyLjk3OTIxIDE1Ljk3NTIgNC43NTQyMSAxNy4zNTAyIDcuNTYyNTRDMTYuODU4NSA4LjU3OTIxIDE2LjE2NjggOS40NTQyMSAxNS4zNDE4IDEwLjE2MjVMMTYuNTE2OCAxMS4zMzc1QzE3LjY3NTIgMTAuMzEyNSAxOC41OTE4IDkuMDI5MjEgMTkuMTY2OCA3LjU2MjU0QzE3LjcyNTIgMy45MDQyMSAxNC4xNjY4IDEuMzEyNTQgMTAuMDAwMiAxLjMxMjU0QzguOTQxODMgMS4zMTI1NCA3LjkyNTE2IDEuNDc5MjEgNi45NjY4MyAxLjc4NzU0TDguMzQxODMgMy4xNjI1NEM4Ljg4MzUgMy4wNTQyMSA5LjQzMzUgMi45NzkyMSAxMC4wMDAyIDIuOTc5MjFaTTkuMTA4NSAzLjkyOTIxTDEwLjgzMzUgNS42NTQyMUMxMS4zMDg1IDUuODYyNTQgMTEuNjkxOCA2LjI0NTg3IDExLjkwMDIgNi43MjA4N0wxMy42MjUyIDguNDQ1ODdDMTMuNjkxOCA4LjE2MjU0IDEzLjc0MTggNy44NjI1NCAxMy43NDE4IDcuNTU0MjFDMTMuNzUwMiA1LjQ4NzU0IDEyLjA2NjggMy44MTI1NCAxMC4wMDAyIDMuODEyNTRDOS42OTE4MyAzLjgxMjU0IDkuNDAwMTYgMy44NTQyMSA5LjEwODUgMy45MjkyMVpNMS42NzUxNiAxLjIwNDIxTDMuOTA4NSAzLjQzNzU0QzIuNTUwMTYgNC41MDQyMSAxLjQ3NTE2IDUuOTIwODcgMC44MzM0OTYgNy41NjI1NEMyLjI3NTE2IDExLjIyMDkgNS44MzM1IDEzLjgxMjUgMTAuMDAwMiAxMy44MTI1QzExLjI2NjggMTMuODEyNSAxMi40ODM1IDEzLjU3MDkgMTMuNjAwMiAxMy4xMjkyTDE2LjQ1MDIgMTUuOTc5MkwxNy42MjUyIDE0LjgwNDJMMi44NTAxNiAwLjAyMDg3NEwxLjY3NTE2IDEuMjA0MjFaTTcuOTI1MTYgNy40NTQyMUwxMC4xMDAyIDkuNjI5MjFDMTAuMDY2OCA5LjYzNzU0IDEwLjAzMzUgOS42NDU4NyAxMC4wMDAyIDkuNjQ1ODdDOC44NTAxNiA5LjY0NTg3IDcuOTE2ODMgOC43MTI1NCA3LjkxNjgzIDcuNTYyNTRDNy45MTY4MyA3LjUyMDg3IDcuOTI1MTYgNy40OTU4NyA3LjkyNTE2IDcuNDU0MjFaTTUuMDkxODMgNC42MjA4N0w2LjU1MDE2IDYuMDc5MjFDNi4zNTg1IDYuNTM3NTQgNi4yNTAxNiA3LjAzNzU0IDYuMjUwMTYgNy41NjI1NEM2LjI1MDE2IDkuNjI5MjEgNy45MzM1IDExLjMxMjUgMTAuMDAwMiAxMS4zMTI1QzEwLjUyNTIgMTEuMzEyNSAxMS4wMjUyIDExLjIwNDIgMTEuNDc1MiAxMS4wMTI1TDEyLjI5MTggMTEuODI5MkMxMS41NTg1IDEyLjAyOTIgMTAuNzkxOCAxMi4xNDU5IDEwLjAwMDIgMTIuMTQ1OUM2Ljg0MTgzIDEyLjE0NTkgNC4wMjUxNiAxMC4zNzA5IDIuNjUwMTYgNy41NjI1NEMzLjIzMzUgNi4zNzA4NyA0LjA4MzUgNS4zODc1NCA1LjA5MTgzIDQuNjIwODdaXCIsZmlsbDpcIiMxOTMwM0RcIn0pKTt9O3ZhciBCYXNlSW5wdXQ9SGUuaW5wdXQoX3RlbXBsYXRlT2JqZWN0MzV8fChfdGVtcGxhdGVPYmplY3QzNT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYm9yZGVyOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIHdpZHRoOiAxMDAlO1xcblxcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBoZWlnaHQ6IDQ1cHg7XFxuICBjb2xvcjogXCIsXCI7XFxuICBmb250LWZhbWlseTogXCIsXCI7XFxuICBmb250LXNpemU6IDE4cHg7XFxuXFxuICAmOjpwbGFjZWhvbGRlcjoge1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICB9XFxuXFxuICAmOmRpc2FibGVkIHtcXG4gICAgY29sb3I6IFwiLFwiO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gIH1cXG5cXG4gICY6Zm9jdXMge1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgfVxcblwiXSkpLGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLnRleHRDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5O30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5pbnB1dHMucGxhY2Vob2xkZXJDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLmRpc2FibGVkVGV4dDt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuY29sb3JzLmRpc2FibGVkO30pO3ZhciBJbnB1dENvbnRhaW5lcj1IZShGbGV4KShfdGVtcGxhdGVPYmplY3QzNnx8KF90ZW1wbGF0ZU9iamVjdDM2PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gIGhlaWdodDogNDVweDtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgXCIsXCI7XFxuICBib3JkZXItcmFkaXVzOiBcIixcIjtcXG4gIGNvbG9yOiBcIixcIjtcXG4gIGZvbnQtZmFtaWx5OiBcIixcIjtcXG4gIGZvbnQtc2l6ZTogMThweDtcXG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAxOHB4KTtcXG4gICYgaW5wdXQ6OnBsYWNlaG9sZGVyOiB7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gIH1cXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5iYWNrZ3JvdW5kQ29sb3I7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmlucHV0cy5ib3JkZXJDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLmJvcmRlclJhZGl1czt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUuaW5wdXRzLnRleHRDb2xvcjt9LGZ1bmN0aW9uKHByb3BzKXtyZXR1cm4gcHJvcHMudGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5O30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS5pbnB1dHMucGxhY2Vob2xkZXJDb2xvcjt9KTt2YXIgUGFzc3dvcmRJY29uQnV0dG9uPUhlLmJ1dHRvbihfdGVtcGxhdGVPYmplY3QzN3x8KF90ZW1wbGF0ZU9iamVjdDM3PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBhbGw6IHVuc2V0O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcblwiXSkpKTt2YXIgUGFzc3dvcmRJY29uPWZ1bmN0aW9uIFBhc3N3b3JkSWNvbihfcmVmOTgpe3ZhciBvbkNsaWNrPV9yZWY5OC5vbkNsaWNrLGVuYWJsZWQ9X3JlZjk4LmVuYWJsZWQsdmlzaWJsZT1fcmVmOTgudmlzaWJsZTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZEljb25CdXR0b24se29uQ2xpY2s6b25DbGljayx0eXBlOlwiYnV0dG9uXCJ9LHZpc2libGU/LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRJY29uVmlzaWJsZVN2ZyxudWxsKTovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZEljb25Tdmcse2VuYWJsZWQ6ZW5hYmxlZH0pKTt9O3ZhciBQYXNzd29yZElucHV0PWZ1bmN0aW9uIFBhc3N3b3JkSW5wdXQoX3JlZjk5KXt2YXIgcGFzc3dvcmQ9X3JlZjk5LnBhc3N3b3JkLHNldFBhc3N3b3JkPV9yZWY5OS5zZXRQYXNzd29yZCx0eXBlPV9yZWY5OS50eXBlO3ZhciBfaCQ1OT1oJDUoZmFsc2UpLF9oJDYwPV9zbGljZWRUb0FycmF5MihfaCQ1OSwyKSx2aXNpYmxlPV9oJDYwWzBdLHNldFZpc2libGU9X2gkNjBbMV07cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSW5wdXRDb250YWluZXIse2dhcDoyLGFsaWduSXRlbXM6XCJjZW50ZXJcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFzZUlucHV0LHtuYW1lOlwicGFzc3dvcmRcIixcImFyaWEtbGFiZWxcIjpcIlBhc3N3b3JkXCIsaWQ6XCJcIi5jb25jYXQodHlwZSxcIi1wYXNzd29yZFwiKSxhdXRvQ29tcGxldGU6XCJcIi5jb25jYXQodHlwZSxcIi1wYXNzd29yZFwiKSx0eXBlOnZpc2libGU/J3RleHQnOidwYXNzd29yZCcsdmFsdWU6cGFzc3dvcmQsb25DaGFuZ2U6ZnVuY3Rpb24gb25DaGFuZ2UoZSl7cmV0dXJuIHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKTt9LHJlcXVpcmVkOnRydWV9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZEljb24se29uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBzZXRWaXNpYmxlKGZ1bmN0aW9uKHZpc2libGUpe3JldHVybiF2aXNpYmxlO30pO30sZW5hYmxlZDohIXBhc3N3b3JkLHZpc2libGU6dmlzaWJsZX0pKTt9O3ZhciBCbG9jaz1IZS5kaXYoX3RlbXBsYXRlT2JqZWN0Mzh8fChfdGVtcGxhdGVPYmplY3QzOD1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogMjUlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuXCJdKSksZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy4kYmdDb2xvcjt9KTt2YXIgUGFzc3dvcmRTdHJlbmd0aENoZWNrPWZ1bmN0aW9uIFBhc3N3b3JkU3RyZW5ndGhDaGVjayhfcmVmMTAwKXt2YXIgc2NvcmU9X3JlZjEwMC5zY29yZTt2YXIgYmxvY2tzPVtdO3N3aXRjaChzY29yZSl7Y2FzZSAwOmNhc2UgMTpibG9ja3M9WycjOEIxMjE0JywnI0FEQkNDNScsJyNBREJDQzUnLCcjQURCQ0M1J107YnJlYWs7Y2FzZSAyOmJsb2Nrcz1bJyM4QjEyMTQnLCcjOEIxMjE0JywnI0FEQkNDNScsJyNBREJDQzUnXTticmVhaztjYXNlIDM6YmxvY2tzPVsnIzBDNUE1NicsJyMwQzVBNTYnLCcjMEM1QTU2JywnI0FEQkNDNSddO2JyZWFrO2Nhc2UgNDpibG9ja3M9WycjMEM1QTU2JywnIzBDNUE1NicsJyMwQzVBNTYnLCcjMEM1QTU2J107YnJlYWs7ZGVmYXVsdDpibG9ja3M9WycjQURCQ0M1JywnI0FEQkNDNScsJyNBREJDQzUnLCcjQURCQ0M1J107YnJlYWs7fXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2dhcDoyfSxibG9ja3MubWFwKGZ1bmN0aW9uKGJsb2NrLGkpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJsb2NrLHtrZXk6XCJcIi5jb25jYXQoYmxvY2ssXCItXCIpLmNvbmNhdChpKSxcIiRiZ0NvbG9yXCI6YmxvY2t9KTt9KSk7fTt2YXIgQ2hlY2tJY29uPWZ1bmN0aW9uIENoZWNrSWNvbigpe3JldHVybi8qI19fUFVSRV9fKi95JDQoRmxleCx7aGVpZ2h0OjE2LHdpZHRoOjE2fSwvKiNfX1BVUkVfXyoveSQ0KFwic3ZnXCIse3dpZHRoOlwiMTZcIixoZWlnaHQ6XCIxNlwiLHZpZXdCb3g6XCIwIDAgMTYgMTZcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3kkNChcInBhdGhcIix7ZDpcIk01Ljg2MzMyIDEwLjU4MzNMMy4wODMzMiA3LjgwMzMzTDIuMTM2NjYgOC43NDMzM0w1Ljg2MzMyIDEyLjQ3TDEzLjg2MzMgNC40N0wxMi45MjMzIDMuNTNMNS44NjMzMiAxMC41ODMzWlwiLGZpbGw6XCIjMEM1QTU2XCJ9KSkpO307dmFyIENyb3NzSWNvbj1mdW5jdGlvbiBDcm9zc0ljb24oKXtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KEZsZXgse2hlaWdodDoxNix3aWR0aDoxNn0sLyojX19QVVJFX18qL3kkNChcInN2Z1wiLHt3aWR0aDpcIjE2XCIsaGVpZ2h0OlwiMTZcIix2aWV3Qm94OlwiMCAwIDE2IDE2XCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi95JDQoXCJwYXRoXCIse2Q6XCJNMTIuNjY2NyA0LjI3MzM0TDExLjcyNjcgMy4zMzMzNEw4LjAwMDAxIDcuMDYwMDFMNC4yNzMzNCAzLjMzMzM0TDMuMzMzMzQgNC4yNzMzNEw3LjA2MDAxIDguMDAwMDFMMy4zMzMzNCAxMS43MjY3TDQuMjczMzQgMTIuNjY2N0w4LjAwMDAxIDguOTQwMDFMMTEuNzI2NyAxMi42NjY3TDEyLjY2NjcgMTEuNzI2N0w4Ljk0MDAxIDguMDAwMDFMMTIuNjY2NyA0LjI3MzM0WlwiLGZpbGw6XCIjOEIxMjE0XCJ9KSkpO307dmFyIHVzZUJvb3RzdHJhcD1mdW5jdGlvbiB1c2VCb290c3RyYXAoKXt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBfaCQ2MT1oJDUocmVhZEIyQ0ludGVybmFscyhzdHl0Y2hDbGllbnQpLmJvb3RzdHJhcC5nZXRTeW5jKCkpLF9oJDYyPV9zbGljZWRUb0FycmF5MihfaCQ2MSwyKSxib29zdHJhcD1faCQ2MlswXSxzZXRCb290c3RyYXA9X2gkNjJbMV07cCQ2KGZ1bmN0aW9uKCl7cmVhZEIyQ0ludGVybmFscyhzdHl0Y2hDbGllbnQpLmJvb3RzdHJhcC5nZXRBc3luYygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7c2V0Qm9vdHN0cmFwKGRhdGEpO30pO30sW3N0eXRjaENsaWVudF0pO3JldHVybiBib29zdHJhcDt9O3ZhciB1c2VTeW5jRXh0ZXJuYWxTdG9yZVNoaW1fcHJvZHVjdGlvbl9taW49e307dmFyIHJlcXVpcmUkJDA9LypAX19QVVJFX18qL2dldEF1Z21lbnRlZE5hbWVzcGFjZShjb21wYXRfbW9kdWxlKTt2YXIgZT1yZXF1aXJlJCQwO2Z1bmN0aW9uIGgoYSxiKXtyZXR1cm4gYT09PWImJigwIT09YXx8MS9hPT09MS9iKXx8YSE9PWEmJmIhPT1iO312YXIgaz1cImZ1bmN0aW9uXCI9PT10eXBlb2YgT2JqZWN0LmlzP09iamVjdC5pczpoLGw9ZS51c2VTdGF0ZSxtPWUudXNlRWZmZWN0LG49ZS51c2VMYXlvdXRFZmZlY3QscD1lLnVzZURlYnVnVmFsdWU7ZnVuY3Rpb24gcShhLGIpe3ZhciBkPWIoKSxmPWwoe2luc3Q6e3ZhbHVlOmQsZ2V0U25hcHNob3Q6Yn19KSxjPWZbMF0uaW5zdCxnPWZbMV07bihmdW5jdGlvbigpe2MudmFsdWU9ZDtjLmdldFNuYXBzaG90PWI7cihjKSYmZyh7aW5zdDpjfSk7fSxbYSxkLGJdKTttKGZ1bmN0aW9uKCl7cihjKSYmZyh7aW5zdDpjfSk7cmV0dXJuIGEoZnVuY3Rpb24oKXtyKGMpJiZnKHtpbnN0OmN9KTt9KTt9LFthXSk7cChkKTtyZXR1cm4gZDt9ZnVuY3Rpb24gcihhKXt2YXIgYj1hLmdldFNuYXBzaG90O2E9YS52YWx1ZTt0cnl7dmFyIGQ9YigpO3JldHVybiFrKGEsZCk7fWNhdGNoKGYpe3JldHVybiEwO319ZnVuY3Rpb24gdChhLGIpe3JldHVybiBiKCk7fXZhciB1PVwidW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93fHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIHdpbmRvdy5kb2N1bWVudHx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudD90OnE7dXNlU3luY0V4dGVybmFsU3RvcmVTaGltX3Byb2R1Y3Rpb25fbWluLnVzZVN5bmNFeHRlcm5hbFN0b3JlPXZvaWQgMCE9PWUudXNlU3luY0V4dGVybmFsU3RvcmU/ZS51c2VTeW5jRXh0ZXJuYWxTdG9yZTp1O3ZhciBTV1JHbG9iYWxTdGF0ZT1uZXcgV2Vha01hcCgpO3ZhciBFTVBUWV9DQUNIRT17fTt2YXIgSU5JVElBTF9DQUNIRT17fTt2YXIgbm9vcD1mdW5jdGlvbiBub29wKCl7fTt2YXIgVU5ERUZJTkVEPW5vb3AoKTt2YXIgT0JKRUNUPU9iamVjdDt2YXIgaXNVbmRlZmluZWQ9ZnVuY3Rpb24gaXNVbmRlZmluZWQodil7cmV0dXJuIHY9PT1VTkRFRklORUQ7fTt2YXIgaXNGdW5jdGlvbj1mdW5jdGlvbiBpc0Z1bmN0aW9uKHYpe3JldHVybiB0eXBlb2Ygdj09J2Z1bmN0aW9uJzt9O3ZhciBtZXJnZU9iamVjdHM9ZnVuY3Rpb24gbWVyZ2VPYmplY3RzKGEsYil7cmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSxhKSxiKTt9O3ZhciBTVFJfVU5ERUZJTkVEPSd1bmRlZmluZWQnO3ZhciBpc1dpbmRvd0RlZmluZWQ9KHR5cGVvZiB3aW5kb3c9PT1cInVuZGVmaW5lZFwiP1widW5kZWZpbmVkXCI6X3R5cGVvZjIod2luZG93KSkhPVNUUl9VTkRFRklORUQ7dmFyIGlzRG9jdW1lbnREZWZpbmVkPSh0eXBlb2YgZG9jdW1lbnQ9PT1cInVuZGVmaW5lZFwiP1widW5kZWZpbmVkXCI6X3R5cGVvZjIoZG9jdW1lbnQpKSE9U1RSX1VOREVGSU5FRDt2YXIgY3JlYXRlQ2FjaGVIZWxwZXI9ZnVuY3Rpb24gY3JlYXRlQ2FjaGVIZWxwZXIoY2FjaGUsa2V5KXt2YXIgc3RhdGU9U1dSR2xvYmFsU3RhdGUuZ2V0KGNhY2hlKTtyZXR1cm5bZnVuY3Rpb24oKXtyZXR1cm4gY2FjaGUuZ2V0KGtleSl8fEVNUFRZX0NBQ0hFO30sZnVuY3Rpb24oaW5mbyl7aWYoIWlzVW5kZWZpbmVkKGtleSkpe3ZhciBwcmV2PWNhY2hlLmdldChrZXkpO2lmKCEoa2V5IGluIElOSVRJQUxfQ0FDSEUpKXtJTklUSUFMX0NBQ0hFW2tleV09cHJldjt9c3RhdGVbNV0oa2V5LG1lcmdlT2JqZWN0cyhwcmV2LGluZm8pLHByZXZ8fEVNUFRZX0NBQ0hFKTt9fSxzdGF0ZVs2XSxmdW5jdGlvbigpe2lmKCFpc1VuZGVmaW5lZChrZXkpKXtpZihrZXkgaW4gSU5JVElBTF9DQUNIRSlyZXR1cm4gSU5JVElBTF9DQUNIRVtrZXldO31yZXR1cm4gY2FjaGUuZ2V0KGtleSl8fEVNUFRZX0NBQ0hFO31dO307dmFyIHRhYmxlPW5ldyBXZWFrTWFwKCk7dmFyIGNvdW50ZXI9MDt2YXIgc3RhYmxlSGFzaD1mdW5jdGlvbiBzdGFibGVIYXNoKGFyZyl7dmFyIHR5cGU9X3R5cGVvZjIoYXJnKTt2YXIgY29uc3RydWN0b3I9YXJnJiZhcmcuY29uc3RydWN0b3I7dmFyIGlzRGF0ZT1jb25zdHJ1Y3Rvcj09RGF0ZTt2YXIgcmVzdWx0O3ZhciBpbmRleDtpZihPQkpFQ1QoYXJnKT09PWFyZyYmIWlzRGF0ZSYmY29uc3RydWN0b3IhPVJlZ0V4cCl7cmVzdWx0PXRhYmxlLmdldChhcmcpO2lmKHJlc3VsdClyZXR1cm4gcmVzdWx0O3Jlc3VsdD0rK2NvdW50ZXIrJ34nO3RhYmxlLnNldChhcmcscmVzdWx0KTtpZihjb25zdHJ1Y3Rvcj09QXJyYXkpe3Jlc3VsdD0nQCc7Zm9yKGluZGV4PTA7aW5kZXg8YXJnLmxlbmd0aDtpbmRleCsrKXtyZXN1bHQrPXN0YWJsZUhhc2goYXJnW2luZGV4XSkrJywnO310YWJsZS5zZXQoYXJnLHJlc3VsdCk7fWlmKGNvbnN0cnVjdG9yPT1PQkpFQ1Qpe3Jlc3VsdD0nIyc7dmFyIGtleXM9T0JKRUNULmtleXMoYXJnKS5zb3J0KCk7d2hpbGUoIWlzVW5kZWZpbmVkKGluZGV4PWtleXMucG9wKCkpKXtpZighaXNVbmRlZmluZWQoYXJnW2luZGV4XSkpe3Jlc3VsdCs9aW5kZXgrJzonK3N0YWJsZUhhc2goYXJnW2luZGV4XSkrJywnO319dGFibGUuc2V0KGFyZyxyZXN1bHQpO319ZWxzZXtyZXN1bHQ9aXNEYXRlP2FyZy50b0pTT04oKTp0eXBlPT0nc3ltYm9sJz9hcmcudG9TdHJpbmcoKTp0eXBlPT0nc3RyaW5nJz9KU09OLnN0cmluZ2lmeShhcmcpOicnK2FyZzt9cmV0dXJuIHJlc3VsdDt9O3ZhciBvbmxpbmU9dHJ1ZTt2YXIgaXNPbmxpbmU9ZnVuY3Rpb24gaXNPbmxpbmUoKXtyZXR1cm4gb25saW5lO307dmFyIF9yZWYxMDE9aXNXaW5kb3dEZWZpbmVkJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj9bd2luZG93LmFkZEV2ZW50TGlzdGVuZXIuYmluZCh3aW5kb3cpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyLmJpbmQod2luZG93KV06W25vb3Asbm9vcF0sX3JlZjEwMj1fc2xpY2VkVG9BcnJheTIoX3JlZjEwMSwyKSxvbldpbmRvd0V2ZW50PV9yZWYxMDJbMF0sb2ZmV2luZG93RXZlbnQ9X3JlZjEwMlsxXTt2YXIgaXNWaXNpYmxlPWZ1bmN0aW9uIGlzVmlzaWJsZSgpe3ZhciB2aXNpYmlsaXR5U3RhdGU9aXNEb2N1bWVudERlZmluZWQmJmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZTtyZXR1cm4gaXNVbmRlZmluZWQodmlzaWJpbGl0eVN0YXRlKXx8dmlzaWJpbGl0eVN0YXRlIT09J2hpZGRlbic7fTt2YXIgaW5pdEZvY3VzPWZ1bmN0aW9uIGluaXRGb2N1cyhjYWxsYmFjayl7aWYoaXNEb2N1bWVudERlZmluZWQpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLGNhbGxiYWNrKTt9b25XaW5kb3dFdmVudCgnZm9jdXMnLGNhbGxiYWNrKTtyZXR1cm4gZnVuY3Rpb24oKXtpZihpc0RvY3VtZW50RGVmaW5lZCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsY2FsbGJhY2spO31vZmZXaW5kb3dFdmVudCgnZm9jdXMnLGNhbGxiYWNrKTt9O307dmFyIGluaXRSZWNvbm5lY3Q9ZnVuY3Rpb24gaW5pdFJlY29ubmVjdChjYWxsYmFjayl7dmFyIG9uT25saW5lPWZ1bmN0aW9uIG9uT25saW5lKCl7b25saW5lPXRydWU7Y2FsbGJhY2soKTt9O3ZhciBvbk9mZmxpbmU9ZnVuY3Rpb24gb25PZmZsaW5lKCl7b25saW5lPWZhbHNlO307b25XaW5kb3dFdmVudCgnb25saW5lJyxvbk9ubGluZSk7b25XaW5kb3dFdmVudCgnb2ZmbGluZScsb25PZmZsaW5lKTtyZXR1cm4gZnVuY3Rpb24oKXtvZmZXaW5kb3dFdmVudCgnb25saW5lJyxvbk9ubGluZSk7b2ZmV2luZG93RXZlbnQoJ29mZmxpbmUnLG9uT2ZmbGluZSk7fTt9O3ZhciBwcmVzZXQ9e2lzT25saW5lOmlzT25saW5lLGlzVmlzaWJsZTppc1Zpc2libGV9O3ZhciBkZWZhdWx0Q29uZmlnT3B0aW9ucz17aW5pdEZvY3VzOmluaXRGb2N1cyxpbml0UmVjb25uZWN0OmluaXRSZWNvbm5lY3R9OyF3bi51c2VJZDt2YXIgSVNfU0VSVkVSPSFpc1dpbmRvd0RlZmluZWR8fCdEZW5vJ2luIHdpbmRvdzt2YXIgbmF2aWdhdG9yQ29ubmVjdGlvbj10eXBlb2YgbmF2aWdhdG9yIT09J3VuZGVmaW5lZCcmJm5hdmlnYXRvci5jb25uZWN0aW9uO3ZhciBzbG93Q29ubmVjdGlvbj0hSVNfU0VSVkVSJiZuYXZpZ2F0b3JDb25uZWN0aW9uJiYoWydzbG93LTJnJywnMmcnXS5pbmNsdWRlcyhuYXZpZ2F0b3JDb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUpfHxuYXZpZ2F0b3JDb25uZWN0aW9uLnNhdmVEYXRhKTt2YXIgc2VyaWFsaXplPWZ1bmN0aW9uIHNlcmlhbGl6ZShrZXkpe2lmKGlzRnVuY3Rpb24oa2V5KSl7dHJ5e2tleT1rZXkoKTt9Y2F0Y2goZXJyKXtrZXk9Jyc7fX12YXIgYXJncz1rZXk7a2V5PXR5cGVvZiBrZXk9PSdzdHJpbmcnP2tleTooQXJyYXkuaXNBcnJheShrZXkpP2tleS5sZW5ndGg6a2V5KT9zdGFibGVIYXNoKGtleSk6Jyc7cmV0dXJuW2tleSxhcmdzXTt9O3ZhciBfX3RpbWVzdGFtcD0wO3ZhciBnZXRUaW1lc3RhbXA9ZnVuY3Rpb24gZ2V0VGltZXN0YW1wKCl7cmV0dXJuKytfX3RpbWVzdGFtcDt9O3ZhciBGT0NVU19FVkVOVD0wO3ZhciBSRUNPTk5FQ1RfRVZFTlQ9MTt2YXIgTVVUQVRFX0VWRU5UPTI7ZnVuY3Rpb24gaW50ZXJuYWxNdXRhdGUoKXtyZXR1cm4gX2ludGVybmFsTXV0YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9ZnVuY3Rpb24gX2ludGVybmFsTXV0YXRlKCl7X2ludGVybmFsTXV0YXRlPV9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTg5KCl7dmFyIF9sZW45LGFyZ3MsX2tleTksY2FjaGUsX2tleSxfZGF0YSxfb3B0cyxvcHRpb25zLHBvcHVsYXRlQ2FjaGUscm9sbGJhY2tPbkVycm9yT3B0aW9uLG9wdGltaXN0aWNEYXRhLHJldmFsaWRhdGUscm9sbGJhY2tPbkVycm9yLHRocm93T25FcnJvcixrZXlGaWx0ZXIsbWF0Y2hlZEtleXMsaXQsa2V5SXQsa2V5LG11dGF0ZUJ5S2V5LF9tdXRhdGVCeUtleSxfYXJnczU9YXJndW1lbnRzO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTg5JChfY29udGV4dDg5KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDg5LnByZXY9X2NvbnRleHQ4OS5uZXh0KXtjYXNlIDA6X211dGF0ZUJ5S2V5PWZ1bmN0aW9uIF9tdXRhdGVCeUtleTMoKXtfbXV0YXRlQnlLZXk9X2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODgoX2spe3ZhciBfc2VyaWFsaXplLF9zZXJpYWxpemUyLGtleSxfY3JlYXRlQ2FjaGVIZWxwZXIsX2NyZWF0ZUNhY2hlSGVscGVyMixnZXQsc2V0LF9TV1JHbG9iYWxTdGF0ZSRnZXQzLF9TV1JHbG9iYWxTdGF0ZSRnZXQ0LEVWRU5UX1JFVkFMSURBVE9SUyxNVVRBVElPTixGRVRDSCxyZXZhbGlkYXRvcnMsc3RhcnRSZXZhbGlkYXRlLGRhdGEsZXJyb3IsYmVmb3JlTXV0YXRpb25UcyxoYXNPcHRpbWlzdGljRGF0YSxzdGF0ZSxkaXNwbGF5ZWREYXRhLGN1cnJlbnREYXRhLGNvbW1pdHRlZERhdGEscmVzO3JldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lMigpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTg4JChfY29udGV4dDg4KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDg4LnByZXY9X2NvbnRleHQ4OC5uZXh0KXtjYXNlIDA6X3NlcmlhbGl6ZT1zZXJpYWxpemUoX2spLF9zZXJpYWxpemUyPV9zbGljZWRUb0FycmF5Mihfc2VyaWFsaXplLDEpLGtleT1fc2VyaWFsaXplMlswXTtpZihrZXkpe19jb250ZXh0ODgubmV4dD0zO2JyZWFrO31yZXR1cm4gX2NvbnRleHQ4OC5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAzOl9jcmVhdGVDYWNoZUhlbHBlcj1jcmVhdGVDYWNoZUhlbHBlcihjYWNoZSxrZXkpLF9jcmVhdGVDYWNoZUhlbHBlcjI9X3NsaWNlZFRvQXJyYXkyKF9jcmVhdGVDYWNoZUhlbHBlciwyKSxnZXQ9X2NyZWF0ZUNhY2hlSGVscGVyMlswXSxzZXQ9X2NyZWF0ZUNhY2hlSGVscGVyMlsxXTtfU1dSR2xvYmFsU3RhdGUkZ2V0Mz1TV1JHbG9iYWxTdGF0ZS5nZXQoY2FjaGUpLF9TV1JHbG9iYWxTdGF0ZSRnZXQ0PV9zbGljZWRUb0FycmF5MihfU1dSR2xvYmFsU3RhdGUkZ2V0MywzKSxFVkVOVF9SRVZBTElEQVRPUlM9X1NXUkdsb2JhbFN0YXRlJGdldDRbMF0sTVVUQVRJT049X1NXUkdsb2JhbFN0YXRlJGdldDRbMV0sRkVUQ0g9X1NXUkdsb2JhbFN0YXRlJGdldDRbMl07cmV2YWxpZGF0b3JzPUVWRU5UX1JFVkFMSURBVE9SU1trZXldO3N0YXJ0UmV2YWxpZGF0ZT1mdW5jdGlvbiBzdGFydFJldmFsaWRhdGUoKXtpZihyZXZhbGlkYXRlKXtkZWxldGUgRkVUQ0hba2V5XTtpZihyZXZhbGlkYXRvcnMmJnJldmFsaWRhdG9yc1swXSl7cmV0dXJuIHJldmFsaWRhdG9yc1swXShNVVRBVEVfRVZFTlQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZ2V0KCkuZGF0YTt9KTt9fXJldHVybiBnZXQoKS5kYXRhO307aWYoIShhcmdzLmxlbmd0aDwzKSl7X2NvbnRleHQ4OC5uZXh0PTk7YnJlYWs7fXJldHVybiBfY29udGV4dDg4LmFicnVwdChcInJldHVyblwiLHN0YXJ0UmV2YWxpZGF0ZSgpKTtjYXNlIDk6ZGF0YT1fZGF0YTtiZWZvcmVNdXRhdGlvblRzPWdldFRpbWVzdGFtcCgpO01VVEFUSU9OW2tleV09W2JlZm9yZU11dGF0aW9uVHMsMF07aGFzT3B0aW1pc3RpY0RhdGE9IWlzVW5kZWZpbmVkKG9wdGltaXN0aWNEYXRhKTtzdGF0ZT1nZXQoKTtkaXNwbGF5ZWREYXRhPXN0YXRlLmRhdGE7Y3VycmVudERhdGE9c3RhdGUuX2M7Y29tbWl0dGVkRGF0YT1pc1VuZGVmaW5lZChjdXJyZW50RGF0YSk/ZGlzcGxheWVkRGF0YTpjdXJyZW50RGF0YTtpZihoYXNPcHRpbWlzdGljRGF0YSl7b3B0aW1pc3RpY0RhdGE9aXNGdW5jdGlvbihvcHRpbWlzdGljRGF0YSk/b3B0aW1pc3RpY0RhdGEoY29tbWl0dGVkRGF0YSk6b3B0aW1pc3RpY0RhdGE7c2V0KHtkYXRhOm9wdGltaXN0aWNEYXRhLF9jOmNvbW1pdHRlZERhdGF9KTt9aWYoaXNGdW5jdGlvbihkYXRhKSl7dHJ5e2RhdGE9ZGF0YShjb21taXR0ZWREYXRhKTt9Y2F0Y2goZXJyKXtlcnJvcj1lcnI7fX1pZighKGRhdGEmJmlzRnVuY3Rpb24oZGF0YS50aGVuKSkpe19jb250ZXh0ODgubmV4dD0zMDticmVhazt9X2NvbnRleHQ4OC5uZXh0PTIyO3JldHVybiBkYXRhW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZXJyKXtlcnJvcj1lcnI7fSk7Y2FzZSAyMjpkYXRhPV9jb250ZXh0ODguc2VudDtpZighKGJlZm9yZU11dGF0aW9uVHMhPT1NVVRBVElPTltrZXldWzBdKSl7X2NvbnRleHQ4OC5uZXh0PTI5O2JyZWFrO31pZighZXJyb3Ipe19jb250ZXh0ODgubmV4dD0yNjticmVhazt9dGhyb3cgZXJyb3I7Y2FzZSAyNjpyZXR1cm4gX2NvbnRleHQ4OC5hYnJ1cHQoXCJyZXR1cm5cIixkYXRhKTtjYXNlIDI5OmlmKGVycm9yJiZoYXNPcHRpbWlzdGljRGF0YSYmcm9sbGJhY2tPbkVycm9yKGVycm9yKSl7cG9wdWxhdGVDYWNoZT10cnVlO2RhdGE9Y29tbWl0dGVkRGF0YTtzZXQoe2RhdGE6ZGF0YSxfYzpVTkRFRklORUR9KTt9Y2FzZSAzMDppZihwb3B1bGF0ZUNhY2hlKXtpZighZXJyb3Ipe2lmKGlzRnVuY3Rpb24ocG9wdWxhdGVDYWNoZSkpe2RhdGE9cG9wdWxhdGVDYWNoZShkYXRhLGNvbW1pdHRlZERhdGEpO31zZXQoe2RhdGE6ZGF0YSxfYzpVTkRFRklORUR9KTt9fU1VVEFUSU9OW2tleV1bMV09Z2V0VGltZXN0YW1wKCk7X2NvbnRleHQ4OC5uZXh0PTM0O3JldHVybiBzdGFydFJldmFsaWRhdGUoKTtjYXNlIDM0OnJlcz1fY29udGV4dDg4LnNlbnQ7c2V0KHtfYzpVTkRFRklORUR9KTtpZighZXJyb3Ipe19jb250ZXh0ODgubmV4dD00MDticmVhazt9aWYoIXRocm93T25FcnJvcil7X2NvbnRleHQ4OC5uZXh0PTM5O2JyZWFrO310aHJvdyBlcnJvcjtjYXNlIDM5OnJldHVybiBfY29udGV4dDg4LmFicnVwdChcInJldHVyblwiKTtjYXNlIDQwOnJldHVybiBfY29udGV4dDg4LmFicnVwdChcInJldHVyblwiLHBvcHVsYXRlQ2FjaGU/cmVzOmRhdGEpO2Nhc2UgNDE6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0ODguc3RvcCgpO319LF9jYWxsZWU4OCk7fSkpO3JldHVybiBfbXV0YXRlQnlLZXkuYXBwbHkodGhpcyxhcmd1bWVudHMpO307bXV0YXRlQnlLZXk9ZnVuY3Rpb24gX211dGF0ZUJ5S2V5MihfeCl7cmV0dXJuIF9tdXRhdGVCeUtleS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fTtmb3IoX2xlbjk9X2FyZ3M1Lmxlbmd0aCxhcmdzPW5ldyBBcnJheShfbGVuOSksX2tleTk9MDtfa2V5OTxfbGVuOTtfa2V5OSsrKXthcmdzW19rZXk5XT1fYXJnczVbX2tleTldO31jYWNoZT1hcmdzWzBdLF9rZXk9YXJnc1sxXSxfZGF0YT1hcmdzWzJdLF9vcHRzPWFyZ3NbM107b3B0aW9ucz1tZXJnZU9iamVjdHMoe3BvcHVsYXRlQ2FjaGU6dHJ1ZSx0aHJvd09uRXJyb3I6dHJ1ZX0sdHlwZW9mIF9vcHRzPT09J2Jvb2xlYW4nP3tyZXZhbGlkYXRlOl9vcHRzfTpfb3B0c3x8e30pO3BvcHVsYXRlQ2FjaGU9b3B0aW9ucy5wb3B1bGF0ZUNhY2hlO3JvbGxiYWNrT25FcnJvck9wdGlvbj1vcHRpb25zLnJvbGxiYWNrT25FcnJvcjtvcHRpbWlzdGljRGF0YT1vcHRpb25zLm9wdGltaXN0aWNEYXRhO3JldmFsaWRhdGU9b3B0aW9ucy5yZXZhbGlkYXRlIT09ZmFsc2U7cm9sbGJhY2tPbkVycm9yPWZ1bmN0aW9uIHJvbGxiYWNrT25FcnJvcihlcnJvcil7cmV0dXJuIHR5cGVvZiByb2xsYmFja09uRXJyb3JPcHRpb249PT0nZnVuY3Rpb24nP3JvbGxiYWNrT25FcnJvck9wdGlvbihlcnJvcik6cm9sbGJhY2tPbkVycm9yT3B0aW9uIT09ZmFsc2U7fTt0aHJvd09uRXJyb3I9b3B0aW9ucy50aHJvd09uRXJyb3I7aWYoIWlzRnVuY3Rpb24oX2tleSkpe19jb250ZXh0ODkubmV4dD0xNzticmVhazt9a2V5RmlsdGVyPV9rZXk7bWF0Y2hlZEtleXM9W107aXQ9Y2FjaGUua2V5cygpO2ZvcihrZXlJdD1pdC5uZXh0KCk7IWtleUl0LmRvbmU7a2V5SXQ9aXQubmV4dCgpKXtrZXk9a2V5SXQudmFsdWU7aWYoIS9eXFwkKGluZnxzdWIpXFwkLy50ZXN0KGtleSkmJmtleUZpbHRlcihjYWNoZS5nZXQoa2V5KS5faykpe21hdGNoZWRLZXlzLnB1c2goa2V5KTt9fXJldHVybiBfY29udGV4dDg5LmFicnVwdChcInJldHVyblwiLFByb21pc2UuYWxsKG1hdGNoZWRLZXlzLm1hcChtdXRhdGVCeUtleSkpKTtjYXNlIDE3OnJldHVybiBfY29udGV4dDg5LmFicnVwdChcInJldHVyblwiLG11dGF0ZUJ5S2V5KF9rZXkpKTtjYXNlIDE4OmNhc2VcImVuZFwiOnJldHVybiBfY29udGV4dDg5LnN0b3AoKTt9fSxfY2FsbGVlODkpO30pKTtyZXR1cm4gX2ludGVybmFsTXV0YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9dmFyIHJldmFsaWRhdGVBbGxLZXlzPWZ1bmN0aW9uIHJldmFsaWRhdGVBbGxLZXlzKHJldmFsaWRhdG9ycyx0eXBlKXtmb3IodmFyIGtleSBpbiByZXZhbGlkYXRvcnMpe2lmKHJldmFsaWRhdG9yc1trZXldWzBdKXJldmFsaWRhdG9yc1trZXldWzBdKHR5cGUpO319O3ZhciBpbml0Q2FjaGU9ZnVuY3Rpb24gaW5pdENhY2hlKHByb3ZpZGVyLG9wdGlvbnMpe2lmKCFTV1JHbG9iYWxTdGF0ZS5oYXMocHJvdmlkZXIpKXt2YXIgb3B0cz1tZXJnZU9iamVjdHMoZGVmYXVsdENvbmZpZ09wdGlvbnMsb3B0aW9ucyk7dmFyIEVWRU5UX1JFVkFMSURBVE9SUz17fTt2YXIgX211dGF0ZT1pbnRlcm5hbE11dGF0ZS5iaW5kKFVOREVGSU5FRCxwcm92aWRlcik7dmFyIHVubW91bnQ9bm9vcDt2YXIgc3Vic2NyaXB0aW9ucz17fTt2YXIgc3Vic2NyaWJlPWZ1bmN0aW9uIHN1YnNjcmliZShrZXksY2FsbGJhY2spe3ZhciBzdWJzPXN1YnNjcmlwdGlvbnNba2V5XXx8W107c3Vic2NyaXB0aW9uc1trZXldPXN1YnM7c3Vicy5wdXNoKGNhbGxiYWNrKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gc3Vicy5zcGxpY2Uoc3Vicy5pbmRleE9mKGNhbGxiYWNrKSwxKTt9O307dmFyIHNldHRlcj1mdW5jdGlvbiBzZXR0ZXIoa2V5LHZhbHVlLHByZXYpe3Byb3ZpZGVyLnNldChrZXksdmFsdWUpO3ZhciBzdWJzPXN1YnNjcmlwdGlvbnNba2V5XTtpZihzdWJzKXt2YXIgX2l0ZXJhdG9yND1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIoc3VicyksX3N0ZXA0O3RyeXtmb3IoX2l0ZXJhdG9yNC5zKCk7IShfc3RlcDQ9X2l0ZXJhdG9yNC5uKCkpLmRvbmU7KXt2YXIgX2ZuPV9zdGVwNC52YWx1ZTtfZm4odmFsdWUscHJldik7fX1jYXRjaChlcnIpe19pdGVyYXRvcjQuZShlcnIpO31maW5hbGx5e19pdGVyYXRvcjQuZigpO319fTt2YXIgaW5pdFByb3ZpZGVyPWZ1bmN0aW9uIGluaXRQcm92aWRlcigpe2lmKCFTV1JHbG9iYWxTdGF0ZS5oYXMocHJvdmlkZXIpKXtTV1JHbG9iYWxTdGF0ZS5zZXQocHJvdmlkZXIsW0VWRU5UX1JFVkFMSURBVE9SUyx7fSx7fSx7fSxfbXV0YXRlLHNldHRlcixzdWJzY3JpYmVdKTtpZighSVNfU0VSVkVSKXt2YXIgcmVsZWFzZUZvY3VzPW9wdHMuaW5pdEZvY3VzKHNldFRpbWVvdXQuYmluZChVTkRFRklORUQscmV2YWxpZGF0ZUFsbEtleXMuYmluZChVTkRFRklORUQsRVZFTlRfUkVWQUxJREFUT1JTLEZPQ1VTX0VWRU5UKSkpO3ZhciByZWxlYXNlUmVjb25uZWN0PW9wdHMuaW5pdFJlY29ubmVjdChzZXRUaW1lb3V0LmJpbmQoVU5ERUZJTkVELHJldmFsaWRhdGVBbGxLZXlzLmJpbmQoVU5ERUZJTkVELEVWRU5UX1JFVkFMSURBVE9SUyxSRUNPTk5FQ1RfRVZFTlQpKSk7dW5tb3VudD1mdW5jdGlvbiB1bm1vdW50KCl7cmVsZWFzZUZvY3VzJiZyZWxlYXNlRm9jdXMoKTtyZWxlYXNlUmVjb25uZWN0JiZyZWxlYXNlUmVjb25uZWN0KCk7U1dSR2xvYmFsU3RhdGVbXCJkZWxldGVcIl0ocHJvdmlkZXIpO307fX19O2luaXRQcm92aWRlcigpO3JldHVybltwcm92aWRlcixfbXV0YXRlLGluaXRQcm92aWRlcix1bm1vdW50XTt9cmV0dXJuW3Byb3ZpZGVyLFNXUkdsb2JhbFN0YXRlLmdldChwcm92aWRlcilbNF1dO307dmFyIG9uRXJyb3JSZXRyeT1mdW5jdGlvbiBvbkVycm9yUmV0cnkoXyxfXyxjb25maWcscmV2YWxpZGF0ZSxvcHRzKXt2YXIgbWF4UmV0cnlDb3VudD1jb25maWcuZXJyb3JSZXRyeUNvdW50O3ZhciBjdXJyZW50UmV0cnlDb3VudD1vcHRzLnJldHJ5Q291bnQ7dmFyIHRpbWVvdXQ9fn4oKE1hdGgucmFuZG9tKCkrMC41KSooMTw8KGN1cnJlbnRSZXRyeUNvdW50PDg/Y3VycmVudFJldHJ5Q291bnQ6OCkpKSpjb25maWcuZXJyb3JSZXRyeUludGVydmFsO2lmKCFpc1VuZGVmaW5lZChtYXhSZXRyeUNvdW50KSYmY3VycmVudFJldHJ5Q291bnQ+bWF4UmV0cnlDb3VudCl7cmV0dXJuO31zZXRUaW1lb3V0KHJldmFsaWRhdGUsdGltZW91dCxvcHRzKTt9O3ZhciBjb21wYXJlPWZ1bmN0aW9uIGNvbXBhcmUoY3VycmVudERhdGEsbmV3RGF0YSl7cmV0dXJuIHN0YWJsZUhhc2goY3VycmVudERhdGEpPT1zdGFibGVIYXNoKG5ld0RhdGEpO307dmFyIF9pbml0Q2FjaGU9aW5pdENhY2hlKG5ldyBNYXAoKSksX2luaXRDYWNoZTI9X3NsaWNlZFRvQXJyYXkyKF9pbml0Q2FjaGUsMiksY2FjaGU9X2luaXRDYWNoZTJbMF0sbXV0YXRlPV9pbml0Q2FjaGUyWzFdO21lcmdlT2JqZWN0cyh7b25Mb2FkaW5nU2xvdzpub29wLG9uU3VjY2Vzczpub29wLG9uRXJyb3I6bm9vcCxvbkVycm9yUmV0cnk6b25FcnJvclJldHJ5LG9uRGlzY2FyZGVkOm5vb3AscmV2YWxpZGF0ZU9uRm9jdXM6dHJ1ZSxyZXZhbGlkYXRlT25SZWNvbm5lY3Q6dHJ1ZSxyZXZhbGlkYXRlSWZTdGFsZTp0cnVlLHNob3VsZFJldHJ5T25FcnJvcjp0cnVlLGVycm9yUmV0cnlJbnRlcnZhbDpzbG93Q29ubmVjdGlvbj8xMDAwMDo1MDAwLGZvY3VzVGhyb3R0bGVJbnRlcnZhbDo1KjEwMDAsZGVkdXBpbmdJbnRlcnZhbDoyKjEwMDAsbG9hZGluZ1RpbWVvdXQ6c2xvd0Nvbm5lY3Rpb24/NTAwMDozMDAwLGNvbXBhcmU6Y29tcGFyZSxpc1BhdXNlZDpmdW5jdGlvbiBpc1BhdXNlZCgpe3JldHVybiBmYWxzZTt9LGNhY2hlOmNhY2hlLG11dGF0ZTptdXRhdGUsZmFsbGJhY2s6e319LHByZXNldCk7RiQ1KHt9KTt2YXIgZW5hYmxlRGV2dG9vbHM9aXNXaW5kb3dEZWZpbmVkJiZ3aW5kb3cuX19TV1JfREVWVE9PTFNfVVNFX187dmFyIHVzZT1lbmFibGVEZXZ0b29scz93aW5kb3cuX19TV1JfREVWVE9PTFNfVVNFX186W107dmFyIHNldHVwRGV2VG9vbHM9ZnVuY3Rpb24gc2V0dXBEZXZUb29scygpe2lmKGVuYWJsZURldnRvb2xzKXt3aW5kb3cuX19TV1JfREVWVE9PTFNfUkVBQ1RfXz13bjt9fTt2YXIgbWlkZGxld2FyZT1mdW5jdGlvbiBtaWRkbGV3YXJlKHVzZVNXUk5leHQpe3JldHVybiBmdW5jdGlvbihrZXlfLGZldGNoZXJfLGNvbmZpZyl7dmFyIGZldGNoZXI9ZmV0Y2hlcl8mJmZ1bmN0aW9uKCl7dmFyIGtleT1zZXJpYWxpemUoa2V5XylbMF07dmFyIF9TV1JHbG9iYWxTdGF0ZSRnZXQ9U1dSR2xvYmFsU3RhdGUuZ2V0KGNhY2hlKSxfU1dSR2xvYmFsU3RhdGUkZ2V0Mj1fc2xpY2VkVG9BcnJheTIoX1NXUkdsb2JhbFN0YXRlJGdldCw0KSxQUkVMT0FEPV9TV1JHbG9iYWxTdGF0ZSRnZXQyWzNdO3ZhciByZXE9UFJFTE9BRFtrZXldO2lmKHJlcSl7ZGVsZXRlIFBSRUxPQURba2V5XTtyZXR1cm4gcmVxO31yZXR1cm4gZmV0Y2hlcl8uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyk7fTtyZXR1cm4gdXNlU1dSTmV4dChrZXlfLGZldGNoZXIsY29uZmlnKTt9O307dXNlLmNvbmNhdChtaWRkbGV3YXJlKTtzZXR1cERldlRvb2xzKCk7dmFyIERFRkFVTFRfTUZBX1NUQVRFPXtwcmltYXJ5SW5mbzpudWxsLGlzRW5yb2xsaW5nOmZhbHNlLHNtc090cDp7aXNTZW5kaW5nOmZhbHNlLHNlbmRFcnJvcjpudWxsLGNvZGVFeHBpcmF0aW9uOm51bGwsZm9ybWF0dGVkRGVzdGluYXRpb246bnVsbCxlbnJvbGxlZE51bWJlcjpudWxsfSx0b3RwOntpc0NyZWF0aW5nOmZhbHNlLGNyZWF0ZUVycm9yOm51bGwsZW5yb2xsbWVudDpudWxsfX07W0IyQk1GQVByb2R1Y3RzLnRvdHAsQjJCTUZBUHJvZHVjdHMuc21zT3RwXTt2YXIgQXBwU2NyZWVuczsoZnVuY3Rpb24oQXBwU2NyZWVucyl7QXBwU2NyZWVuc1tcIk1haW5cIl09XCJNYWluXCI7QXBwU2NyZWVuc1tcIkVtYWlsQ29uZmlybWF0aW9uXCJdPVwiRW1haWwgQ29uZmlybWF0aW9uXCI7QXBwU2NyZWVuc1tcIkxvZ2dlZEluXCJdPVwiTG9nZ2VkIEluXCI7QXBwU2NyZWVuc1tcIkRpc2NvdmVyeVwiXT1cIkRpc2NvdmVyeVwiO0FwcFNjcmVlbnNbXCJFcnJvclwiXT1cIkVycm9yXCI7QXBwU2NyZWVuc1tcIlBhc3N3b3JkRW1haWxGb3JtXCJdPVwiUGFzc3dvcmQgRW1haWxcIjtBcHBTY3JlZW5zW1wiUGFzc3dvcmRBdXRoZW50aWNhdGVcIl09XCJQYXNzd29yZCBBdXRoZW50aWNhdGVcIjtBcHBTY3JlZW5zW1wiUGFzc3dvcmRSZXNldEZvcm1cIl09XCJQYXNzd29yZCBSZXNldCBGb3JtXCI7QXBwU2NyZWVuc1tcIlBhc3N3b3JkUmVzZXRWZXJpZnlDb25maXJtYXRpb25cIl09XCJQYXNzd29yZCBSZXNldCBWZXJpZnkgQ29uZmlybWF0aW9uXCI7QXBwU2NyZWVuc1tcIlBhc3N3b3JkRm9yZ290Rm9ybVwiXT1cIlBhc3N3b3JkIEZvcmdvdCBGb3JtXCI7QXBwU2NyZWVuc1tcIlBhc3N3b3JkU2V0TmV3Q29uZmlybWF0aW9uXCJdPVwiUGFzc3dvcmQgU2V0IE5ldyBDb25maXJtYXRpb25cIjtBcHBTY3JlZW5zW1wiTUZBRW5yb2xsbWVudFNlbGVjdGlvblwiXT1cIk1GQSBFbnJvbGxtZW50IFNlbGVjdGlvblwiO0FwcFNjcmVlbnNbXCJSZWNvdmVyeUNvZGVFbnRyeVwiXT1cIlJlY292ZXJ5IENvZGUgRW50cnlcIjtBcHBTY3JlZW5zW1wiUmVjb3ZlcnlDb2RlU2F2ZVwiXT1cIlJlY292ZXJ5IENvZGUgU2F2ZVwiO0FwcFNjcmVlbnNbXCJTTVNPVFBFbnJvbGxtZW50XCJdPVwiU01TIE9UUCBFbnJvbGxtZW50XCI7QXBwU2NyZWVuc1tcIlNNU09UUEVudHJ5XCJdPVwiU01TIE9UUCBFbnRyeVwiO0FwcFNjcmVlbnNbXCJUT1RQRW5yb2xsbWVudE1hbnVhbFwiXT1cIlRPVFAgRW5yb2xsbWVudCBNYW51YWxcIjtBcHBTY3JlZW5zW1wiVE9UUEVucm9sbG1lbnRRUkNvZGVcIl09XCJUT1RQIEVucm9sbG1lbnQgUVIgQ29kZVwiO0FwcFNjcmVlbnNbXCJUT1RQRW50cnlcIl09XCJUT1RQIEVudHJ5XCI7fSkoQXBwU2NyZWVuc3x8KEFwcFNjcmVlbnM9e30pKTt2YXIgRXJyb3JUeXBlOyhmdW5jdGlvbihFcnJvclR5cGUpe0Vycm9yVHlwZVtFcnJvclR5cGVbXCJEZWZhdWx0XCJdPTBdPVwiRGVmYXVsdFwiO0Vycm9yVHlwZVtFcnJvclR5cGVbXCJFbWFpbE1hZ2ljTGlua1wiXT0xXT1cIkVtYWlsTWFnaWNMaW5rXCI7RXJyb3JUeXBlW0Vycm9yVHlwZVtcIk9yZ2FuaXphdGlvblwiXT0yXT1cIk9yZ2FuaXphdGlvblwiO30pKEVycm9yVHlwZXx8KEVycm9yVHlwZT17fSkpOyh7c2NyZWVuOkFwcFNjcmVlbnMuTWFpbixmb3JtU3RhdGU6e21hZ2ljTGlua1N0YXRlOntlbWFpbDonJ30sZGlzY292ZXJ5U3RhdGU6e2VtYWlsOicnLGludGVybWVkaWF0ZVNlc3Npb25Ub2tlbjonJyxkaXNjb3ZlcmVkT3JnYW5pemF0aW9uczpbXX0scGFzc3dvcmRTdGF0ZTp7ZW1haWw6Jyd9fSxmbG93U3RhdGU6e3R5cGU6QXV0aEZsb3dUeXBlLk9yZ2FuaXphdGlvbixvcmdhbml6YXRpb246bnVsbH0sbWZhOkRFRkFVTFRfTUZBX1NUQVRFLGVycm9yVHlwZTpFcnJvclR5cGUuRGVmYXVsdH0pOyh7cHJvZHVjdHM6W0IyQlByb2R1Y3RzLmVtYWlsTWFnaWNMaW5rc10sYXV0aEZsb3dUeXBlOkF1dGhGbG93VHlwZS5Pcmdhbml6YXRpb24sc2Vzc2lvbk9wdGlvbnM6e3Nlc3Npb25EdXJhdGlvbk1pbnV0ZXM6NjB9fSk7KHsnc3R5dGNoLm1hZ2ljTGlua3MuYXV0aGVudGljYXRlJzpTdHl0Y2hFdmVudFR5cGUuQjJCTWFnaWNMaW5rQXV0aGVudGljYXRlLCdzdHl0Y2guc3NvLmF1dGhlbnRpY2F0ZSc6U3R5dGNoRXZlbnRUeXBlLkIyQlNTT0F1dGhlbnRpY2F0ZSwnc3R5dGNoLm1hZ2ljTGlua3MuZGlzY292ZXJ5LmF1dGhlbnRpY2F0ZSc6U3R5dGNoRXZlbnRUeXBlLkIyQk1hZ2ljTGlua0Rpc2NvdmVyeUF1dGhlbnRpY2F0ZSwnc3R5dGNoLmRpc2NvdmVyeS5vcmdhbml6YXRpb24uY3JlYXRlJzpTdHl0Y2hFdmVudFR5cGUuQjJCRGlzY292ZXJ5T3JnYW5pemF0aW9uc0NyZWF0ZSwnc3R5dGNoLmRpc2NvdmVyeS5pbnRlcm1lZGlhdGVTZXNzaW9ucy5leGNoYW5nZSc6U3R5dGNoRXZlbnRUeXBlLkIyQkRpc2NvdmVyeUludGVybWVkaWF0ZVNlc3Npb25FeGNoYW5nZSwnc3R5dGNoLm1hZ2ljTGlua3MuZW1haWwubG9naW5PclNpZ251cCc6U3R5dGNoRXZlbnRUeXBlLkIyQk1hZ2ljTGlua0VtYWlsTG9naW5PclNpZ251cCwnc3R5dGNoLm1hZ2ljTGlua3MuZGlzY292ZXJ5LnNlbmQnOlN0eXRjaEV2ZW50VHlwZS5CMkJNYWdpY0xpbmtFbWFpbERpc2NvdmVyeVNlbmQsJ3N0eXRjaC5vYXV0aC5hdXRoZW50aWNhdGUnOlN0eXRjaEV2ZW50VHlwZS5CMkJPQXV0aEF1dGhlbnRpY2F0ZSwnc3R5dGNoLm9hdXRoLmRpc2NvdmVyeS5hdXRoZW50aWNhdGUnOlN0eXRjaEV2ZW50VHlwZS5CMkJPQXV0aERpc2NvdmVyeUF1dGhlbnRpY2F0ZSwnc3R5dGNoLm90cHMuc21zLnNlbmQnOlN0eXRjaEV2ZW50VHlwZS5CMkJTTVNPVFBTZW5kLCdzdHl0Y2gub3Rwcy5zbXMuYXV0aGVudGljYXRlJzpTdHl0Y2hFdmVudFR5cGUuQjJCU01TT1RQQXV0aGVudGljYXRlLCdzdHl0Y2gudG90cC5jcmVhdGUnOlN0eXRjaEV2ZW50VHlwZS5CMkJUT1RQQ3JlYXRlLCdzdHl0Y2gudG90cC5hdXRoZW50aWNhdGUnOlN0eXRjaEV2ZW50VHlwZS5CMkJUT1RQQXV0aGVudGljYXRlLCdzdHl0Y2gucmVjb3ZlcnlDb2Rlcy5yZWNvdmVyJzpTdHl0Y2hFdmVudFR5cGUuQjJCUmVjb3ZlcnlDb2Rlc1JlY292ZXJ9KTt2YXIgUGFzc3dvcmRCMkNFcnJvcj1mdW5jdGlvbiBQYXNzd29yZEIyQ0Vycm9yKHByb3BzKXt2YXIgX2EsX2I7dmFyIGJvb3RzdHJhcD11c2VCb290c3RyYXAoKTt2YXIgY29tcGxleGl0eT0oX2E9Ym9vdHN0cmFwLnBhc3N3b3JkQ29uZmlnKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5sdWRzQ29tcGxleGl0eTt2YXIgY2hhcmFjdGVyTGVuZ3RoPShfYj1ib290c3RyYXAucGFzc3dvcmRDb25maWcpPT09bnVsbHx8X2I9PT12b2lkIDA/dm9pZCAwOl9iLmx1ZHNNaW5pbXVtQ291bnQ7aWYocHJvcHMucGFzc3dvcmRQb2xpY3k9PT0nbm9uZScpe3JldHVybiBudWxsO31pZihwcm9wcy5wYXNzd29yZFBvbGljeT09PSd6eGN2Ym4nKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkU3RyZW5ndGhDaGVjayx7c2NvcmU6cHJvcHMucGFzc3dvcmRTY29yZX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVycm9yVGV4dCx7ZXJyb3JNZXNzYWdlOnByb3BzLmVycm9yTWVzc2FnZSE9PScnP3Byb3BzLmVycm9yTWVzc2FnZTpwcm9wcy5wYXNzd29yZEZlZWRiYWNrfSkpO31yZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6NH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7Z2FwOjR9LHByb3BzLm1pc3NpbmdDaGFyYWN0ZXJzPT09MD8vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDaGVja0ljb24sbnVsbCk6LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ3Jvc3NJY29uLG51bGwpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWxwZXJcIixjb2xvcjpwcm9wcy5taXNzaW5nQ2hhcmFjdGVycz09PTA/J3N1Y2Nlc3MnOidlcnJvcid9LFwiTXVzdCBiZSBhdCBsZWFzdCBcIixjaGFyYWN0ZXJMZW5ndGgsXCIgY2hhcmFjdGVycyBsb25nXCIpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtnYXA6NH0scHJvcHMubWlzc2luZ0NvbXBsZXhpdHk9PT0wPy8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENoZWNrSWNvbixudWxsKTovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDcm9zc0ljb24sbnVsbCksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCx7c2l6ZTpcImhlbHBlclwiLGNvbG9yOnByb3BzLm1pc3NpbmdDb21wbGV4aXR5PT09MD8nc3VjY2Vzcyc6J2Vycm9yJ30sXCJNdXN0IGNvbnRhaW4gXCIsY29tcGxleGl0eSxcIiBvZiB0aGUgZm9sbG93aW5nOiB1cHBlcmNhc2UgbGV0dGVyLCBsb3dlcmNhc2UgbGV0dGVyLCBudW1iZXIsIHN5bWJvbFwiKSkscHJvcHMuaXNQYXNzd29yZEJyZWFjaGVkJiYoLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7Z2FwOjR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENyb3NzSWNvbixudWxsKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVscGVyXCIsY29sb3I6XCJlcnJvclwifSxcIlRoaXMgcGFzc3dvcmQgbWF5IGhhdmUgYmVlbiB1c2VkIG9uIGEgZGlmZmVyZW50IHNpdGUgdGhhdCBleHBlcmllbmNlZCBhIHNlY3VyaXR5IGlzc3VlLiBQbGVhc2UgY2hvb3NlIGFub3RoZXIgcGFzc3dvcmQuXCIpKSkpO307dmFyIFBhc3N3b3JkTmV3VXNlcj1mdW5jdGlvbiBQYXNzd29yZE5ld1VzZXIoKXt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIHBhc3N3b3JkT3B0aW9ucz1jb25maWcucGFzc3dvcmRPcHRpb25zO3ZhciBfdXNlR2xvYmFsUmVkdWNlcjE5PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjIwPV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjE5LDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyMjBbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIyMFsxXTt2YXIgb25FdmVudD11c2VFdmVudENhbGxiYWNrKCk7dmFyIG9uRXJyb3I9dXNlRXJyb3JDYWxsYmFjaygpO3ZhciBfaCQ2Mz1oJDUoc3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUuZW1haWwpLF9oJDY0PV9zbGljZWRUb0FycmF5MihfaCQ2MywyKSxlbWFpbD1faCQ2NFswXSxzZXRFbWFpbD1faCQ2NFsxXTt2YXIgX2gkNjU9aCQ1KCcnKSxfaCQ2Nj1fc2xpY2VkVG9BcnJheTIoX2gkNjUsMikscGFzc3dvcmQ9X2gkNjZbMF0sc2V0UGFzc3dvcmQ9X2gkNjZbMV07dmFyIF9oJDY3PWgkNSgnJyksX2gkNjg9X3NsaWNlZFRvQXJyYXkyKF9oJDY3LDIpLGVycm9yTWVzc2FnZT1faCQ2OFswXSxzZXRFcnJvck1lc3NhZ2U9X2gkNjhbMV07dmFyIF9oJDY5PWgkNSgwKSxfaCQ3MD1fc2xpY2VkVG9BcnJheTIoX2gkNjksMikscGFzc3dvcmRTY29yZT1faCQ3MFswXSxzZXRQYXNzd29yZFNjb3JlPV9oJDcwWzFdO3ZhciBfaCQ3MT1oJDUoJycpLF9oJDcyPV9zbGljZWRUb0FycmF5MihfaCQ3MSwyKSxwYXNzd29yZEZlZWRiYWNrPV9oJDcyWzBdLHNldFBhc3N3b3JkRmVlZGJhY2s9X2gkNzJbMV07dmFyIF9oJDczPWgkNSh0cnVlKSxfaCQ3ND1fc2xpY2VkVG9BcnJheTIoX2gkNzMsMiksaW52YWxpZFBhc3N3b3JkPV9oJDc0WzBdLHNldEludmFsaWRQYXNzd29yZD1faCQ3NFsxXTt2YXIgX2gkNzU9aCQ1KGZhbHNlKSxfaCQ3Nj1fc2xpY2VkVG9BcnJheTIoX2gkNzUsMiksaXNTdWJtaXR0aW5nPV9oJDc2WzBdLHNldElzU3VibWl0dGluZz1faCQ3NlsxXTt2YXIgX2gkNzc9aCQ1KCdub25lJyksX2gkNzg9X3NsaWNlZFRvQXJyYXkyKF9oJDc3LDIpLHN0cmVuZ3RoUG9saWN5PV9oJDc4WzBdLHNldFN0cmVuZ3RoUG9saWN5PV9oJDc4WzFdO3ZhciBfaCQ3OT1oJDUoMCksX2gkODA9X3NsaWNlZFRvQXJyYXkyKF9oJDc5LDIpLG1pc3NpbmdDaGFyYWN0ZXJzPV9oJDgwWzBdLHNldE1pc3NpbmdDaGFyYWN0ZXJzPV9oJDgwWzFdO3ZhciBfaCQ4MT1oJDUoMCksX2gkODI9X3NsaWNlZFRvQXJyYXkyKF9oJDgxLDIpLG1pc3NpbmdDb21wbGV4aXR5PV9oJDgyWzBdLHNldE1pc3NpbmdDb21wbGV4aXR5PV9oJDgyWzFdO3ZhciBfaCQ4Mz1oJDUoZmFsc2UpLF9oJDg0PV9zbGljZWRUb0FycmF5MihfaCQ4MywyKSxpc1Bhc3N3b3JkQnJlYWNoZWQ9X2gkODRbMF0sc2V0SXNQYXNzd29yZEJyZWFjaGVkPV9oJDg0WzFdO3ZhciB1cGRhdGVTdHJlbmd0aENoZWNrPUYkNChmdW5jdGlvbigpe3JldHVybiBkZWJvdW5jZShmdW5jdGlvbihlbWFpbCxwYXNzd29yZCl7c2V0RXJyb3JNZXNzYWdlKCcnKTtzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnN0cmVuZ3RoQ2hlY2soe2VtYWlsOmVtYWlsLHBhc3N3b3JkOnBhc3N3b3JkfSkudGhlbihmdW5jdGlvbihfcmVmNjgpe3ZhciBzY29yZT1fcmVmNjguc2NvcmUsZmVlZGJhY2s9X3JlZjY4LmZlZWRiYWNrLHZhbGlkX3Bhc3N3b3JkPV9yZWY2OC52YWxpZF9wYXNzd29yZCxzdHJlbmd0aF9wb2xpY3k9X3JlZjY4LnN0cmVuZ3RoX3BvbGljeSxicmVhY2hlZF9wYXNzd29yZD1fcmVmNjguYnJlYWNoZWRfcGFzc3dvcmQ7c2V0U3RyZW5ndGhQb2xpY3koc3RyZW5ndGhfcG9saWN5KTtpZihzdHJlbmd0aF9wb2xpY3k9PT0nenhjdmJuJyl7c2V0UGFzc3dvcmRTY29yZShzY29yZSk7c2V0UGFzc3dvcmRGZWVkYmFjayhmZWVkYmFjay53YXJuaW5nKTt9ZWxzZSBpZihzdHJlbmd0aF9wb2xpY3k9PT0nbHVkcycpe3NldE1pc3NpbmdDaGFyYWN0ZXJzKGZlZWRiYWNrLmx1ZHNfcmVxdWlyZW1lbnRzLm1pc3NpbmdfY2hhcmFjdGVycyk7c2V0TWlzc2luZ0NvbXBsZXhpdHkoZmVlZGJhY2subHVkc19yZXF1aXJlbWVudHMubWlzc2luZ19jb21wbGV4aXR5KTtzZXRJc1Bhc3N3b3JkQnJlYWNoZWQoYnJlYWNoZWRfcGFzc3dvcmQpO31zZXRJbnZhbGlkUGFzc3dvcmQoIXZhbGlkX3Bhc3N3b3JkKTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe2lmKGUuZXJyb3JfdHlwZT09PSdpbnZhbGlkX2VtYWlsJyl7c2V0RXJyb3JNZXNzYWdlKGUuZXJyb3JfbWVzc2FnZSk7fX0pO30pO30sW3N0eXRjaENsaWVudC5wYXNzd29yZHNdKTtpZighcGFzc3dvcmRPcHRpb25zKXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwpO3ZhciBvblBhc3N3b3JkQ2hhbmdlPWZ1bmN0aW9uIG9uUGFzc3dvcmRDaGFuZ2UocGFzc3dvcmQpe3NldFBhc3N3b3JkKHBhc3N3b3JkKTt1cGRhdGVTdHJlbmd0aENoZWNrKGVtYWlsLHBhc3N3b3JkKTt9O3ZhciBoYW5kbGVTdWJtaXQ9ZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpe3ZhciBfYSxfYjtlLnByZXZlbnREZWZhdWx0KCk7c2V0RXJyb3JNZXNzYWdlKCcnKTtzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7c3R5dGNoQ2xpZW50LnBhc3N3b3Jkcy5jcmVhdGUoe2VtYWlsOmVtYWlsLHBhc3N3b3JkOnBhc3N3b3JkLHNlc3Npb25fZHVyYXRpb25fbWludXRlczooX2I9KF9hPWNvbmZpZy5zZXNzaW9uT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Euc2Vzc2lvbkR1cmF0aW9uTWludXRlcykhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpERUZBVUxUX1NFU1NJT05fRFVSQVRJT05fTUlOVVRFU30pLnRoZW4oZnVuY3Rpb24oZGF0YSl7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5QYXNzd29yZENyZWF0ZSxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5QYXNzd29yZENvbmZpcm1hdGlvbn0pO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7b25FcnJvcihlKTtpZihlLmVycm9yX3R5cGU9PT0ncmVzZXRfcGFzc3dvcmQnKXtzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlFbWFpbFN0YXJ0KGNvbnZlcnRQYXNzd29yZFJlc2V0T3B0aW9ucyhlbWFpbCxwYXNzd29yZE9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKCl7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmREZWR1cGV9KTt9KTt9c2V0RXJyb3JNZXNzYWdlKGUuZXJyb3JfbWVzc2FnZSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTt9KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLHtvblN1Ym1pdDpoYW5kbGVTdWJtaXR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LG51bGwsXCJGaW5pc2ggY3JlYXRpbmcgeW91ciBhY2NvdW50IGJ5IHNldHRpbmcgYSBwYXNzd29yZC5cIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWxwZXJcIixjb2xvcjpcInNlY29uZGFyeVwifSxcIkVtYWlsXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsSW5wdXQse2VtYWlsOmVtYWlsLHNldEVtYWlsOnNldEVtYWlsLGRpc2FibGVJbnB1dDp0cnVlfSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVscGVyXCIsY29sb3I6XCJzZWNvbmRhcnlcIn0sXCJQYXNzd29yZFwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZElucHV0LHtwYXNzd29yZDpwYXNzd29yZCxzZXRQYXNzd29yZDpvblBhc3N3b3JkQ2hhbmdlLHR5cGU6XCJuZXdcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkQjJDRXJyb3Ise3Bhc3N3b3JkUG9saWN5OnN0cmVuZ3RoUG9saWN5LHBhc3N3b3JkU2NvcmU6cGFzc3dvcmRTY29yZSxlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlLHBhc3N3b3JkRmVlZGJhY2s6cGFzc3dvcmRGZWVkYmFjayxtaXNzaW5nQ2hhcmFjdGVyczptaXNzaW5nQ2hhcmFjdGVycyxtaXNzaW5nQ29tcGxleGl0eTptaXNzaW5nQ29tcGxleGl0eSxpc1Bhc3N3b3JkQnJlYWNoZWQ6aXNQYXNzd29yZEJyZWFjaGVkfSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbix7aXNTdWJtaXR0aW5nOmlzU3VibWl0dGluZyx0ZXh0OlwiQ29udGludWVcIixkaXNhYmxlZDppbnZhbGlkUGFzc3dvcmR9KSkpO307dmFyIEZvcmdvdFBhc3N3b3JkPUhlKFRleHQpKF90ZW1wbGF0ZU9iamVjdDM5fHwoX3RlbXBsYXRlT2JqZWN0Mzk9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcblwiXSkpKTt2YXIgUGFzc3dvcmRBdXRoZW50aWNhdGU9ZnVuY3Rpb24gUGFzc3dvcmRBdXRoZW50aWNhdGUoKXt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIHBhc3N3b3JkT3B0aW9ucz1jb25maWcucGFzc3dvcmRPcHRpb25zO3ZhciBfdXNlR2xvYmFsUmVkdWNlcjIxPXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjIyPV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjIxLDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyMjJbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIyMlsxXTt2YXIgb25FdmVudD11c2VFdmVudENhbGxiYWNrKCk7dmFyIG9uRXJyb3I9dXNlRXJyb3JDYWxsYmFjaygpO3ZhciBfaCQ4NT1oJDUoc3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUuZW1haWwpLF9oJDg2PV9zbGljZWRUb0FycmF5MihfaCQ4NSwyKSxlbWFpbD1faCQ4NlswXSxzZXRFbWFpbD1faCQ4NlsxXTt2YXIgX2gkODc9aCQ1KCcnKSxfaCQ4OD1fc2xpY2VkVG9BcnJheTIoX2gkODcsMikscGFzc3dvcmQ9X2gkODhbMF0sc2V0UGFzc3dvcmQ9X2gkODhbMV07dmFyIF9oJDg5PWgkNSgnJyksX2gkOTA9X3NsaWNlZFRvQXJyYXkyKF9oJDg5LDIpLGVycm9yTWVzc2FnZT1faCQ5MFswXSxzZXRFcnJvck1lc3NhZ2U9X2gkOTBbMV07dmFyIF9oJDkxPWgkNShmYWxzZSksX2gkOTI9X3NsaWNlZFRvQXJyYXkyKF9oJDkxLDIpLGlzU3VibWl0dGluZz1faCQ5MlswXSxzZXRJc1N1Ym1pdHRpbmc9X2gkOTJbMV07aWYoIXBhc3N3b3JkT3B0aW9ucylyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsKTt2YXIgaGFuZGxlU3VibWl0PWZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKXt2YXIgX2EsX2I7ZS5wcmV2ZW50RGVmYXVsdCgpO3NldEVycm9yTWVzc2FnZSgnJyk7c2V0SXNTdWJtaXR0aW5nKHRydWUpO3N0eXRjaENsaWVudC5wYXNzd29yZHMuYXV0aGVudGljYXRlKHtlbWFpbDplbWFpbCxwYXNzd29yZDpwYXNzd29yZCxzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6KF9iPShfYT1jb25maWcuc2Vzc2lvbk9wdGlvbnMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6REVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVN9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe3NldElzU3VibWl0dGluZyhmYWxzZSk7b25FdmVudCh7dHlwZTpTdHl0Y2hFdmVudFR5cGUuUGFzc3dvcmRBdXRoZW50aWNhdGUsZGF0YTpkYXRhfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmRDb25maXJtYXRpb259KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7aWYoZS5lcnJvcl90eXBlPT09J3Jlc2V0X3Bhc3N3b3JkJyl7c3R5dGNoQ2xpZW50LnBhc3N3b3Jkcy5yZXNldEJ5RW1haWxTdGFydChjb252ZXJ0UGFzc3dvcmRSZXNldE9wdGlvbnMoZW1haWwscGFzc3dvcmRPcHRpb25zKSkudGhlbihmdW5jdGlvbigpe2Rpc3BhdGNoKHt0eXBlOid0cmFuc2l0aW9uJyxzY3JlZW46QXBwU2NyZWVucyQxLlBhc3N3b3JkRGVkdXBlfSk7fSk7fXNldEVycm9yTWVzc2FnZShlLmVycm9yX21lc3NhZ2UpO3NldElzU3VibWl0dGluZyhmYWxzZSk7fSk7fTt2YXIgb25Gb3Jnb3Q9ZnVuY3Rpb24gb25Gb3Jnb3QoKXtzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlFbWFpbFN0YXJ0KGNvbnZlcnRQYXNzd29yZFJlc2V0T3B0aW9ucyhlbWFpbCxwYXNzd29yZE9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKCl7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmRGb3Jnb3R9KTt9KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDozNn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCx7c2l6ZTpcImhlYWRlclwifSxcIkxvZyBJblwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImZvcm1cIix7b25TdWJtaXQ6aGFuZGxlU3VibWl0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6OH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWxwZXJcIixjb2xvcjpcInNlY29uZGFyeVwifSxcIkVtYWlsXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVtYWlsSW5wdXQse2VtYWlsOmVtYWlsLHNldEVtYWlsOnNldEVtYWlsLGRpc2FibGVJbnB1dDp0cnVlfSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVscGVyXCIsY29sb3I6XCJzZWNvbmRhcnlcIn0sXCJQYXNzd29yZFwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZElucHV0LHtwYXNzd29yZDpwYXNzd29yZCxzZXRQYXNzd29yZDpzZXRQYXNzd29yZCx0eXBlOlwiY3VycmVudFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRXJyb3JUZXh0LHtlcnJvck1lc3NhZ2U6ZXJyb3JNZXNzYWdlfSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2p1c3RpZnlDb250ZW50OlwiZmxleC1lbmRcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRm9yZ290UGFzc3dvcmQse29uQ2xpY2s6b25Gb3Jnb3R9LFwiRm9yZ290IFBhc3N3b3JkP1wiKSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLHtpc1N1Ym1pdHRpbmc6aXNTdWJtaXR0aW5nLHRleHQ6XCJDb250aW51ZVwifSkpKSk7fTt2YXIgUGFzc3dvcmRsZXNzQ3JlYXRlPWZ1bmN0aW9uIFBhc3N3b3JkbGVzc0NyZWF0ZSgpe3ZhciBfdXNlR2xvYmFsUmVkdWNlcjIzPXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjI0PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjIzLDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyMjRbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIyNFsxXTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIG9uRXZlbnQ9dXNlRXZlbnRDYWxsYmFjaygpO3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIGNvbmZpZz11c2VDb25maWcoKTt2YXIgcGFzc3dvcmRPcHRpb25zPWNvbmZpZy5wYXNzd29yZE9wdGlvbnM7dmFyIGVtYWlsPXN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsO3ZhciBfaCQ5Mz1oJDUoJycpLF9oJDk0PV9zbGljZWRUb0FycmF5MihfaCQ5MywyKSxlcnJvck1lc3NhZ2U9X2gkOTRbMF0sc2V0RXJyb3JNZXNzYWdlPV9oJDk0WzFdO3ZhciByZXNldFBhc3N3b3JkPWZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoKXtzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlFbWFpbFN0YXJ0KGNvbnZlcnRQYXNzd29yZFJlc2V0T3B0aW9ucyhlbWFpbCxwYXNzd29yZE9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKGRhdGEpe29uRXZlbnQoe3R5cGU6U3R5dGNoRXZlbnRUeXBlLlBhc3N3b3JkUmVzZXRCeUVtYWlsU3RhcnQsZGF0YTpkYXRhfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmRTZXROZXd9KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7c2V0RXJyb3JNZXNzYWdlKGUuZXJyb3JfbWVzc2FnZSk7fSk7fTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6NH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLHt0eXBlOlwiYnV0dG9uXCIsb25DbGljazpyZXNldFBhc3N3b3JkLHZhcmlhbnQ6XCJ0ZXh0XCJ9LFwiQ3JlYXRlIGEgcGFzc3dvcmQgaW5zdGVhZFwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclRleHQse2Vycm9yTWVzc2FnZTplcnJvck1lc3NhZ2V9KSk7fTt2YXIgUGFzc3dvcmRTZWNvbmRhcnlNZXRob2Q9ZnVuY3Rpb24gUGFzc3dvcmRTZWNvbmRhcnlNZXRob2QoX3JlZjc4KXt2YXIgc2Vjb25kYXJ5VHlwZT1fcmVmNzguc2Vjb25kYXJ5VHlwZTt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyMjU9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyMjY9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyMjUsMiksc3RhdGU9X3VzZUdsb2JhbFJlZHVjZXIyNlswXSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjI2WzFdO3ZhciBfaCQ5NT1oJDUoZmFsc2UpLF9oJDk2PV9zbGljZWRUb0FycmF5MihfaCQ5NSwyKSxzZXRJc1N1Ym1pdHRpbmc9X2gkOTZbMV07dmFyIG9uRXZlbnQ9dXNlRXZlbnRDYWxsYmFjaygpO3ZhciBvbkVycm9yPXVzZUVycm9yQ2FsbGJhY2soKTt2YXIgZW1haWxPcHRpb25zPWNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zO3ZhciBlbWFpbD1zdGF0ZS5mb3JtU3RhdGUucGFzc3dvcmRTdGF0ZS5lbWFpbDt2YXIgdXNlclR5cGU9c3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUudHlwZTt2YXIgc2VuZExpbms9ZnVuY3Rpb24gc2VuZExpbmsoKXtzdHl0Y2hDbGllbnQubWFnaWNMaW5rcy5lbWFpbC5sb2dpbk9yQ3JlYXRlKGVtYWlsLGVtYWlsT3B0aW9ucyYmY29udmVydE1hZ2ljTGlua09wdGlvbnMoZW1haWxPcHRpb25zKSkudGhlbihmdW5jdGlvbihkYXRhKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5NYWdpY0xpbmtMb2dpbk9yQ3JlYXRlRXZlbnQsZGF0YTpkYXRhfSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtkaXNwYXRjaCh7dHlwZTonc2V0X21hZ2ljX2xpbmtfZW1haWwnLGVtYWlsOmVtYWlsfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuRW1haWxDb25maXJtYXRpb259KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTt9KTt9O3ZhciBzZW5kQ29kZT1mdW5jdGlvbiBzZW5kQ29kZSgpe3ZhciBfYSxfYjtzdHl0Y2hDbGllbnQub3Rwcy5lbWFpbC5sb2dpbk9yQ3JlYXRlKGVtYWlsLHtleHBpcmF0aW9uX21pbnV0ZXM6KF9iPShfYT1jb25maWcub3RwT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZXhwaXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6REVGQVVMVF9PVFBfRVhQSVJBVElPTl9NSU5VVEVTfSkudGhlbihmdW5jdGlvbihkYXRhKXtzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO29uRXZlbnQoe3R5cGU6U3R5dGNoRXZlbnRUeXBlLk9UUHNMb2dpbk9yQ3JlYXRlRXZlbnQsZGF0YTpkYXRhfSk7ZGlzcGF0Y2goe3R5cGU6J3VwZGF0ZV9vdHBfc3RhdGUnLG90cFN0YXRlOnt0eXBlOk9UUE1ldGhvZHMuRW1haWwsbWV0aG9kSWQ6ZGF0YS5tZXRob2RfaWQsb3RwRGVzdGluYXRpb246ZW1haWx9fSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuT1RQQXV0aGVudGljYXRlfSk7fSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtvbkVycm9yKGUpO3NldElzU3VibWl0dGluZyhmYWxzZSk7fSk7fTt2YXIgYnV0dG9uVGV4dD1zZWNvbmRhcnlUeXBlPT09J2VtbCc/J0VtYWlsIG1lIGEgbG9naW4gbGluayc6J0VtYWlsIG1lIGEgbG9naW4gY29kZSc7dmFyIGJ1dHRvbk9uQ2xpY2s9c2Vjb25kYXJ5VHlwZT09PSdlbWwnP3NlbmRMaW5rOnNlbmRDb2RlO3ZhciBOZXdVc2VyPWZ1bmN0aW9uIE5ld1VzZXIoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6MzZ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJDaG9vc2UgaG93IHlvdSB3b3VsZCBsaWtlIHRvIGNyZWF0ZSB5b3VyIGFjY291bnQuXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6YnV0dG9uT25DbGlja30sYnV0dG9uVGV4dCkpO307dmFyIFBhc3N3b3JkVXNlcj1mdW5jdGlvbiBQYXNzd29yZFVzZXIoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24se3R5cGU6XCJidXR0b25cIix2YXJpYW50OlwidGV4dFwiLG9uQ2xpY2s6YnV0dG9uT25DbGlja30sYnV0dG9uVGV4dCk7fTt2YXIgQ29tcG9uZW50VG9Vc2VyVHlwZT17XCJuZXdcIjovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChOZXdVc2VyLG51bGwpLHBhc3N3b3JkOi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkVXNlcixudWxsKSxwYXNzd29yZGxlc3M6bnVsbH07cmV0dXJuIENvbXBvbmVudFRvVXNlclR5cGVbdXNlclR5cGVdO307dmFyIFBhc3N3b3JkPWZ1bmN0aW9uIFBhc3N3b3JkKCl7dmFyIF9hLF9iO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgb25FdmVudD11c2VFdmVudENhbGxiYWNrKCk7dmFyIG9uRXJyb3I9dXNlRXJyb3JDYWxsYmFjaygpO3ZhciBfdXNlR2xvYmFsUmVkdWNlcjI3PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjI4PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjI3LDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyMjhbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIyOFsxXTt2YXIgZW1haWw9c3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUuZW1haWw7dmFyIG90cE1ldGhvZHM9KF9iPShfYT1jb25maWc9PT1udWxsfHxjb25maWc9PT12b2lkIDA/dm9pZCAwOmNvbmZpZy5vdHBPcHRpb25zKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5tZXRob2RzKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOltdO3ZhciBoYXNFbWFpbE1hZ2ljTGluaz1jb25maWcucHJvZHVjdHMuaW5jbHVkZXMoUHJvZHVjdHMuZW1haWxNYWdpY0xpbmtzKSYmISFjb25maWcuZW1haWxNYWdpY0xpbmtzT3B0aW9uczt2YXIgaGFzT1RQRW1haWw9b3RwTWV0aG9kcy5pbmNsdWRlcyhPVFBNZXRob2RzLkVtYWlsKTt2YXIgc2Vjb25kYXJ5VHlwZT1oYXNPVFBFbWFpbD8nb3RwJzpoYXNFbWFpbE1hZ2ljTGluaz8nZW1sJzonJzt2YXIgdXNlclR5cGU9c3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUudHlwZTt2YXIgZW1haWxPcHRpb25zPWNvbmZpZy5lbWFpbE1hZ2ljTGlua3NPcHRpb25zO3ZhciBwYXNzd29yZE9wdGlvbnM9Y29uZmlnLnBhc3N3b3JkT3B0aW9ucztwJDYoZnVuY3Rpb24oKXt2YXIgX2EsX2I7aWYodXNlclR5cGUhPT0ncGFzc3dvcmRsZXNzJyl7cmV0dXJuO31zd2l0Y2goc2Vjb25kYXJ5VHlwZSl7Y2FzZSdlbWwnOntzdHl0Y2hDbGllbnQubWFnaWNMaW5rcy5lbWFpbC5sb2dpbk9yQ3JlYXRlKHN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsLGVtYWlsT3B0aW9ucyYmY29udmVydE1hZ2ljTGlua09wdGlvbnMoZW1haWxPcHRpb25zKSkudGhlbihmdW5jdGlvbihkYXRhKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5NYWdpY0xpbmtMb2dpbk9yQ3JlYXRlRXZlbnQsZGF0YTpkYXRhfSk7ZGlzcGF0Y2goe3R5cGU6J3NldF9tYWdpY19saW5rX2VtYWlsJyxlbWFpbDplbWFpbH0pO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7b25FcnJvcihlKTt9KTtyZXR1cm47fWNhc2Unb3RwJzp7c3R5dGNoQ2xpZW50Lm90cHMuZW1haWwubG9naW5PckNyZWF0ZShlbWFpbCx7ZXhwaXJhdGlvbl9taW51dGVzOihfYj0oX2E9Y29uZmlnLm90cE9wdGlvbnMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLmV4cGlyYXRpb25NaW51dGVzKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOkRFRkFVTFRfT1RQX0VYUElSQVRJT05fTUlOVVRFU30pLnRoZW4oZnVuY3Rpb24oZGF0YSl7b25FdmVudCh7dHlwZTpTdHl0Y2hFdmVudFR5cGUuT1RQc0xvZ2luT3JDcmVhdGVFdmVudCxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondXBkYXRlX290cF9zdGF0ZScsb3RwU3RhdGU6e3R5cGU6T1RQTWV0aG9kcy5FbWFpbCxtZXRob2RJZDpkYXRhLm1ldGhvZF9pZCxvdHBEZXN0aW5hdGlvbjplbWFpbH19KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7fSk7cmV0dXJuO31kZWZhdWx0OntzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlFbWFpbFN0YXJ0KGNvbnZlcnRQYXNzd29yZFJlc2V0T3B0aW9ucyhlbWFpbCxwYXNzd29yZE9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKGRhdGEpe29uRXZlbnQoe3R5cGU6U3R5dGNoRXZlbnRUeXBlLlBhc3N3b3JkUmVzZXRCeUVtYWlsU3RhcnQsZGF0YTpkYXRhfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmRTZXROZXd9KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7fSk7cmV0dXJuO319fSxbdXNlclR5cGUsc2Vjb25kYXJ5VHlwZV0pO3ZhciBDb21wb25lbnRUb1VzZXJUeXBlPXtcIm5ld1wiOigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLHNlY29uZGFyeVR5cGUmJigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkU2Vjb25kYXJ5TWV0aG9kLHtzZWNvbmRhcnlUeXBlOnNlY29uZGFyeVR5cGV9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChEaXZpZGVyLG51bGwpKSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmROZXdVc2VyLG51bGwpKSkscGFzc3dvcmQ6KC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRBdXRoZW50aWNhdGUsbnVsbCksc2Vjb25kYXJ5VHlwZSYmKC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlcixudWxsKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZFNlY29uZGFyeU1ldGhvZCx7c2Vjb25kYXJ5VHlwZTpzZWNvbmRhcnlUeXBlfSkpKSkpLHBhc3N3b3JkbGVzczooLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLHNlY29uZGFyeVR5cGUmJigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLHNlY29uZGFyeVR5cGU9PT0nZW1sJz8vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFbWFpbENvbmZpcm1hdGlvbixudWxsKTovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChPVFBBdXRoZW50aWNhdGUse2hpZGVCYWNrQXJyb3c6dHJ1ZX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KERpdmlkZXIsbnVsbCksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRsZXNzQ3JlYXRlLG51bGwpKSkpKSl9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2dhcDoyNCxkaXJlY3Rpb246XCJjb2x1bW5cIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSxDb21wb25lbnRUb1VzZXJUeXBlW3VzZXJUeXBlXSk7fTt2YXIgSW1hZ2VDb250YWluZXIkMT1IZShGbGV4KShfdGVtcGxhdGVPYmplY3Q0MHx8KF90ZW1wbGF0ZU9iamVjdDQwPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICA+IGRpdiB7XFxuICAgIGhlaWdodDogMjAwcHg7XFxuICAgIHdpZHRoOiAyMDBweDtcXG4gIH1cXG5cIl0pKSk7dmFyIENvbm5lY3RXYWxsZXQ9ZnVuY3Rpb24gQ29ubmVjdFdhbGxldCgpe3ZhciBvbkV2ZW50PXVzZUV2ZW50Q2FsbGJhY2soKTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIGhhbmRsZUVycm9yPWZ1bmN0aW9uIGhhbmRsZUVycm9yKCl7b25FcnJvcih7bWVzc2FnZTonW0Vycm9yXSBDb3VsZCBub3QgY29ubmVjdCB0byB3YWxsZXQnfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuQ3J5cHRvRXJyb3J9KTt9O3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyMjk9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyMzA9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyMjksMiksc3RhdGU9X3VzZUdsb2JhbFJlZHVjZXIzMFswXSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjMwWzFdO3ZhciB3YWxsZXRPcHRpb249c3RhdGUuZm9ybVN0YXRlLmNyeXB0b1N0YXRlLndhbGxldE9wdGlvbjt2YXIgd2FsbGV0VHlwZT1pc1NvbGFuYVdhbGxldCh3YWxsZXRPcHRpb24pPydzb2xhbmEnOidldGhlcmV1bSc7dmFyIG9uQ29ubmVjdFdhbGxldD1mdW5jdGlvbiBvbkNvbm5lY3RXYWxsZXQoKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lMigpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTg1KCl7dmFyIGFkZHJlc3M7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODUkKF9jb250ZXh0ODUpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0ODUucHJldj1fY29udGV4dDg1Lm5leHQpe2Nhc2UgMDpfY29udGV4dDg1Lm5leHQ9MjtyZXR1cm4gY29ubmVjdFdpdGhXYWxsZXQoe3dhbGxldDp3YWxsZXRPcHRpb259KTtjYXNlIDI6YWRkcmVzcz1fY29udGV4dDg1LnNlbnQ7c3R5dGNoQ2xpZW50LmNyeXB0b1dhbGxldHMuYXV0aGVudGljYXRlU3RhcnQoe2NyeXB0b193YWxsZXRfYWRkcmVzczphZGRyZXNzLGNyeXB0b193YWxsZXRfdHlwZTp3YWxsZXRUeXBlfSkudGhlbihmdW5jdGlvbihkYXRhKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5DcnlwdG9XYWxsZXRBdXRoZW50aWNhdGVTdGFydCxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondXBkYXRlX2NyeXB0b19zdGF0ZScsY3J5cHRvU3RhdGU6e3dhbGxldEFkZHJlc3M6YWRkcmVzcyx3YWxsZXRDaGFsbGVuZ2U6ZGF0YS5jaGFsbGVuZ2Usd2FsbGV0T3B0aW9uOndhbGxldE9wdGlvbn19KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5DcnlwdG9TaWduTWVzc2FnZX0pO30pW1wiY2F0Y2hcIl0oaGFuZGxlRXJyb3IpO2Nhc2UgNDpjYXNlXCJlbmRcIjpyZXR1cm4gX2NvbnRleHQ4NS5zdG9wKCk7fX0sX2NhbGxlZTg1KTt9KSk7fTtwJDYoZnVuY3Rpb24oKXtvbkNvbm5lY3RXYWxsZXQoKTt9LFtdKTt2YXIgV2FsbGV0SW1hZ2U9V2FsbGV0VG9JY29uW3dhbGxldE9wdGlvbl07cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCYWNrQXJyb3cse29uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5NYWlufSk7fX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJDb25uZWN0aW5nIHRvIHlvdXIgd2FsbGV0Li4uXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEltYWdlQ29udGFpbmVyJDEse2p1c3RpZnlDb250ZW50OlwiY2VudGVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFdhbGxldEltYWdlLG51bGwpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LG51bGwsXCJDb21wbGV0ZSBzaWduIGluIGJ5IGNvbm5lY3RpbmcgdGhyb3VnaCB0aGUgd2FsbGV0IHBvcCB1cCBpbiB0aGUgcmlnaHQgY29ybmVyIG9mIHlvdXIgc2NyZWVuLlwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LG51bGwsXCJIYXZpbmcgdHJvdWJsZT8gVXNlIHRoZSBiYWNrIGFycm93IHRvIHJldHVybiB0byB0aGUgbWFpbiBzY3JlZW4gYW5kIHRyeSBsb2dnaW5nIGluIGFnYWluLlwiKSk7fTt2YXIgSW1hZ2VDb250YWluZXI9SGUoRmxleCkoX3RlbXBsYXRlT2JqZWN0NDF8fChfdGVtcGxhdGVPYmplY3Q0MT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgPiBkaXYge1xcbiAgICBoZWlnaHQ6IDIwMHB4O1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICB9XFxuXCJdKSkpO3ZhciBTaWduTWVzc2FnZT1mdW5jdGlvbiBTaWduTWVzc2FnZSgpe3ZhciBvbkV2ZW50PXVzZUV2ZW50Q2FsbGJhY2soKTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIGhhbmRsZUVycm9yPWZ1bmN0aW9uIGhhbmRsZUVycm9yKCl7b25FcnJvcih7bWVzc2FnZTonW0Vycm9yXSBDb3VsZCBub3Qgc2lnbiBtZXNzYWdlJ30pO2Rpc3BhdGNoKHt0eXBlOid0cmFuc2l0aW9uJyxzY3JlZW46QXBwU2NyZWVucyQxLkNyeXB0b0Vycm9yfSk7fTt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIF91c2VHbG9iYWxSZWR1Y2VyMzE9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyMzI9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyMzEsMiksc3RhdGU9X3VzZUdsb2JhbFJlZHVjZXIzMlswXSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjMyWzFdO3ZhciBfc3RhdGUkZm9ybVN0YXRlJGNyeXA9c3RhdGUuZm9ybVN0YXRlLmNyeXB0b1N0YXRlLHdhbGxldENoYWxsZW5nZT1fc3RhdGUkZm9ybVN0YXRlJGNyeXAud2FsbGV0Q2hhbGxlbmdlLHdhbGxldEFkZHJlc3M9X3N0YXRlJGZvcm1TdGF0ZSRjcnlwLndhbGxldEFkZHJlc3Msd2FsbGV0T3B0aW9uPV9zdGF0ZSRmb3JtU3RhdGUkY3J5cC53YWxsZXRPcHRpb247dmFyIHdhbGxldFR5cGU9aXNTb2xhbmFXYWxsZXQod2FsbGV0T3B0aW9uKT8nc29sYW5hJzonZXRoZXJldW0nO3ZhciBvblNpZ25XYWxsZXQ9ZnVuY3Rpb24gb25TaWduV2FsbGV0KCl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZTIoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4Nigpe3ZhciBfYSxfYixzaWduYXR1cmU7cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUyKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODYkKF9jb250ZXh0ODYpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0ODYucHJldj1fY29udGV4dDg2Lm5leHQpe2Nhc2UgMDpfY29udGV4dDg2Lm5leHQ9MjtyZXR1cm4gc2lnbk1lc3NhZ2VXaXRoV2FsbGV0KHt3YWxsZXQ6d2FsbGV0T3B0aW9uLG1lc3NhZ2U6d2FsbGV0Q2hhbGxlbmdlLGFkZHJlc3M6d2FsbGV0QWRkcmVzc30pO2Nhc2UgMjpzaWduYXR1cmU9X2NvbnRleHQ4Ni5zZW50O3N0eXRjaENsaWVudC5jcnlwdG9XYWxsZXRzLmF1dGhlbnRpY2F0ZSh7Y3J5cHRvX3dhbGxldF9hZGRyZXNzOndhbGxldEFkZHJlc3MsY3J5cHRvX3dhbGxldF90eXBlOndhbGxldFR5cGUsc2lnbmF0dXJlOnNpZ25hdHVyZSxzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6KF9iPShfYT1jb25maWcuc2Vzc2lvbk9wdGlvbnMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6REVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVN9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe29uRXZlbnQoe3R5cGU6U3R5dGNoRXZlbnRUeXBlLkNyeXB0b1dhbGxldEF1dGhlbnRpY2F0ZSxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5DcnlwdG9Db25maXJtYXRpb259KTt9KVtcImNhdGNoXCJdKGhhbmRsZUVycm9yKTtjYXNlIDQ6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0ODYuc3RvcCgpO319LF9jYWxsZWU4Nik7fSkpO307cCQ2KGZ1bmN0aW9uKCl7b25TaWduV2FsbGV0KCk7fSxbXSk7dmFyIFdhbGxldEltYWdlPVdhbGxldFRvSWNvblt3YWxsZXRPcHRpb25dO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiQ29tcGxldGluZyBzaWduYXR1cmUgcmVxdWVzdC4uLlwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbWFnZUNvbnRhaW5lcix7anVzdGlmeUNvbnRlbnQ6XCJjZW50ZXJcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoV2FsbGV0SW1hZ2UsbnVsbCkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIkNvbXBsZXRlIHRoZSBzaWduYXR1cmUgcmVxdWVzdCB0aHJvdWdoIHRoZSB3YWxsZXQgcG9wIHVwIGluIHRoZSByaWdodCBjb3JuZXIgb2YgeW91ciBzY3JlZW4uXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIkhhdmluZyB0cm91YmxlPyBVc2UgdGhlIGJhY2sgYXJyb3cgdG8gcmV0dXJuIHRvIHRoZSBtYWluIHNjcmVlbiBhbmQgdHJ5IGxvZ2dpbmcgaW4gYWdhaW4uXCIpKTt9O3ZhciBXYWxsZXRJY29uPWZ1bmN0aW9uIFdhbGxldEljb24oX3JlZjEwMyl7dmFyIGljb249X3JlZjEwMy5pY29uLG5hbWU9X3JlZjEwMy5uYW1lLGxpbms9X3JlZjEwMy5saW5rO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYVwiLHtocmVmOmxpbmssdGFyZ2V0OlwiX2JsYW5rXCIscmVsOlwibm9yZWZlcnJlclwiLHN0eWxlOnt0ZXh0RGVjb3JhdGlvbjonbm9uZScsY29sb3I6J2luaGVyaXQnfX0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6e2Rpc3BsYXk6J2ZsZXgnLGZsZXhEaXJlY3Rpb246J2NvbHVtbicsanVzdGlmeUNvbnRlbnQ6J2NlbnRlcicsYWxpZ25JdGVtczonY2VudGVyJ319LGljb24sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsbnVsbCxuYW1lKSkpO307dmFyIFNldHVwTmV3V2FsbGV0PWZ1bmN0aW9uIFNldHVwTmV3V2FsbGV0KCl7dmFyIF91c2VHbG9iYWxSZWR1Y2VyMzM9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyMzQ9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyMzMsMiksZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXIzNFsxXTt2YXIgV2FsbGV0SWNvbkNvbXBvbmVudD1mdW5jdGlvbiBXYWxsZXRJY29uQ29tcG9uZW50KF9yZWYxMDQpe3ZhciB3YWxsZXQ9X3JlZjEwNC53YWxsZXQ7dmFyIEljb249V2FsbGV0VG9JY29uW3dhbGxldF07cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSWNvbixudWxsKTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiU2V0IHVwIGEgbmV3IGNyeXB0byB3YWxsZXRcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCxudWxsLFwiU2lnbmluZyBpbiB3aXRoIGEgY3J5cHRvIHdhbGxldCBjYW4gaGVscCBrZWVwIHlvdXIgYWNjb3VudCBwcml2YXRlIGFuZCBzZWN1cmUuXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIkdldCBzdGFydGVkIGJ5IGRvd25sb2FkaW5nIGFueSBFdGhlcmV1bSBvciBTb2xhbmEgd2FsbGV0LiBXZVxcdTIwMTl2ZSBpbmNsdWRlZCBhIGZldyBleGFtcGxlcyBvZiB3YWxsZXQgZXh0ZW5zaW9ucyB5b3UgY2FuIGZpbmQgYmVsb3cuIE9uY2UgeW91XFx1MjAxOXZlIHNldCB1cCB5b3VyIHdhbGxldCwgeW91IGNhbiB1c2UgaXQgdG8gc2lnbiBpbiFcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtqdXN0aWZ5Q29udGVudDpcInNwYWNlLWV2ZW5seVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChXYWxsZXRJY29uLHtpY29uOi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFdhbGxldEljb25Db21wb25lbnQse3dhbGxldDpXYWxsZXRzLlZlc3NlbH0pLG5hbWU6XCJWZXNzZWxcIixsaW5rOlwiaHR0cHM6Ly93d3cudmVzc2VsLnh5ei9cIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFdhbGxldEljb24se2ljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoV2FsbGV0SWNvbkNvbXBvbmVudCx7d2FsbGV0OldhbGxldHMuTWV0YW1hc2t9KSxuYW1lOlwiTWV0YW1hc2tcIixsaW5rOlwiaHR0cHM6Ly9tZXRhbWFzay5pby9cIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFdhbGxldEljb24se2ljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoV2FsbGV0SWNvbkNvbXBvbmVudCx7d2FsbGV0OldhbGxldHMuUGhhbnRvbX0pLG5hbWU6XCJQaGFudG9tXCIsbGluazpcImh0dHBzOi8vcGhhbnRvbS5hcHAvXCJ9KSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7anVzdGlmeUNvbnRlbnQ6XCJzcGFjZS1ldmVubHlcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoV2FsbGV0SWNvbix7aWNvbjovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChXYWxsZXRJY29uQ29tcG9uZW50LHt3YWxsZXQ6V2FsbGV0cy5Db2luYmFzZX0pLG5hbWU6XCJDb2luYmFzZVwiLGxpbms6XCJodHRwczovL3d3dy5jb2luYmFzZS5jb20vd2FsbGV0XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChXYWxsZXRJY29uLHtpY29uOi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFdhbGxldEljb25Db21wb25lbnQse3dhbGxldDpXYWxsZXRzLkJpbmFuY2V9KSxuYW1lOlwiQmluYW5jZVwiLGxpbms6XCJodHRwczovL3d3dy5ibmJjaGFpbi53b3JsZC9lbi9iaW5hbmNlLXdhbGxldFwifSkpKSk7fTt2YXIgT3RoZXJDcnlwdG9XYWxsZXRzPWZ1bmN0aW9uIE90aGVyQ3J5cHRvV2FsbGV0cygpe3ZhciBfdXNlR2xvYmFsUmVkdWNlcjM1PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjM2PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjM1LDIpLGRpc3BhdGNoPV91c2VHbG9iYWxSZWR1Y2VyMzZbMV07cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCYWNrQXJyb3cse29uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5NYWlufSk7fX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJDb250aW51ZSB3aXRoIG90aGVyIHdhbGxldFwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDcnlwdG9XYWxsZXRCdXR0b25zLHt0eXBlOlwib3RoZXJcIn0pKTt9O3ZhciBTdWNjZXNzPWZ1bmN0aW9uIFN1Y2Nlc3MoKXt2YXIgX3VzZUdsb2JhbFJlZHVjZXIzNz11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXIzOD1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXIzNywyKSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjM4WzFdO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiU3VjY2VzcyFcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCxudWxsLFwiWW91IGhhdmUgc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB5b3VyIHdhbGxldC5cIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29uZmlybWF0aW9uU1ZHLG51bGwpKTt9O3ZhciBFcnJvciQxPWZ1bmN0aW9uIEVycm9yJDEoKXt2YXIgX3VzZUdsb2JhbFJlZHVjZXIzOT11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI0MD1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXIzOSwyKSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjQwWzFdO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiTG9va3MgbGlrZSB0aGVyZSB3YXMgYW4gZXJyb3IhXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIllvdXIgc2lnbiBpbiByZXF1ZXN0IGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQuIFVzZSB0aGUgYmFjayBhcnJvdyB0byByZXR1cm4gdG8gdGhlIGxvZyBpbiBzY3JlZW4gYW5kIHRyeSBhZ2FpbiFcIikpO307dmFyIFN1Y2Nlc3NJY29uPWZ1bmN0aW9uIFN1Y2Nlc3NJY29uKCl7cmV0dXJuLyojX19QVVJFX18qL3kkNChcInN2Z1wiLHt3aWR0aDpcIjIwXCIsaGVpZ2h0OlwiMjBcIix2aWV3Qm94OlwiMCAwIDIwIDIwXCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi95JDQoXCJwYXRoXCIse2Q6XCJNMTAgMEM0LjQ4IDAgMCA0LjQ4IDAgMTBDMCAxNS41MiA0LjQ4IDIwIDEwIDIwQzE1LjUyIDIwIDIwIDE1LjUyIDIwIDEwQzIwIDQuNDggMTUuNTIgMCAxMCAwWk04IDE1TDMgMTBMNC40MSA4LjU5TDggMTIuMTdMMTUuNTkgNC41OEwxNyA2TDggMTVaXCIsZmlsbDpcIiMwRjQ0NDdcIn0pKTt9O3ZhciBFcnJvckljb249ZnVuY3Rpb24gRXJyb3JJY29uKCl7cmV0dXJuLyojX19QVVJFX18qL3kkNChcInN2Z1wiLHt3aWR0aDpcIjIwXCIsaGVpZ2h0OlwiMjBcIix2aWV3Qm94OlwiMCAwIDIwIDIwXCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi95JDQoXCJwYXRoXCIse2Q6XCJNMTAgMEM0LjQ4IDAgMCA0LjQ4IDAgMTBDMCAxNS41MiA0LjQ4IDIwIDEwIDIwQzE1LjUyIDIwIDIwIDE1LjUyIDIwIDEwQzIwIDQuNDggMTUuNTIgMCAxMCAwWk0xMSAxNUg5VjEzSDExVjE1Wk0xMSAxMUg5VjVIMTFWMTFaXCIsZmlsbDpcIiM1OTA2MDdcIn0pKTt9O3ZhciBiYXNlU3R5bGVzPXtkaXNwbGF5OidmbGV4JyxnYXA6JzhweCcscGFkZGluZzonOHB4Jyxmb250U2l6ZTonMTRweCcsYm9yZGVyUmFkaXVzOic0cHgnfTt2YXIgc3VjY2Vzc1N0eWxlcz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYmFzZVN0eWxlcykse2JhY2tncm91bmQ6JyNFQ0ZGRjUnLGJveFNoYWRvdzonMHB4IDVweCAxMHB4IHJnYmEoMTUsIDY4LCA3MSwgMC4xOCknLGNvbG9yOicjMEY0NDQ3J30pO3ZhciBlcnJvclN0eWxlcz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYmFzZVN0eWxlcykse2JhY2tncm91bmQ6JyNGRkVFRUMnLGJveFNoYWRvdzonMHB4IDVweCAxMHB4IHJnYmEoODksIDYsIDcsIDAuMiknLGNvbG9yOicjNTkwNjA3J30pO3ZhciBTbmFja2Jhcj1mdW5jdGlvbiBTbmFja2Jhcigpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRvYXN0ZXIse2NvbnRhaW5lclN0eWxlOntwb3NpdGlvbjonc3RpY2t5JyxtYXJnaW5Ub3A6JzRweCcsbWFyZ2luQm90dG9tOicyNHB4J30sdG9hc3RPcHRpb25zOntzdWNjZXNzOntzdHlsZTpzdWNjZXNzU3R5bGVzLGljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU3VjY2Vzc0ljb24sbnVsbCl9LGVycm9yOntzdHlsZTplcnJvclN0eWxlcyxpY29uOi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVycm9ySWNvbixudWxsKX19fSk7fTt2YXIgTWFnaWNMaW5rT3B0aW9uPWZ1bmN0aW9uIE1hZ2ljTGlua09wdGlvbigpe3ZhciBfdXNlR2xvYmFsUmVkdWNlcjQxPXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjQyPV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjQxLDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyNDJbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXI0MlsxXTt2YXIgc3R5dGNoQ2xpZW50PXVzZVN0eXRjaCgpO3ZhciBjb25maWc9dXNlQ29uZmlnKCk7dmFyIGVtYWlsTWFnaWNMaW5rc09wdGlvbnM9Y29uZmlnLmVtYWlsTWFnaWNMaW5rc09wdGlvbnM7dmFyIGVtYWlsPXN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsO2lmKCFlbWFpbE1hZ2ljTGlua3NPcHRpb25zKXJldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwpO3ZhciBzZW5kTWFnaWNMaW5rPWZ1bmN0aW9uIHNlbmRNYWdpY0xpbmsoKXtzdHl0Y2hDbGllbnQubWFnaWNMaW5rcy5lbWFpbC5sb2dpbk9yQ3JlYXRlKGVtYWlsLGNvbnZlcnRNYWdpY0xpbmtPcHRpb25zKGVtYWlsTWFnaWNMaW5rc09wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKCl7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuRW1haWxDb25maXJtYXRpb259KTt9KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRGl2aWRlcixudWxsKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24se3R5cGU6XCJidXR0b25cIix2YXJpYW50OlwidGV4dFwiLG9uQ2xpY2s6c2VuZE1hZ2ljTGlua30sXCJMb2dpbiB3aXRob3V0IGEgcGFzc3dvcmRcIikpO307dmFyIFBhc3N3b3JkRm9yZ290PWZ1bmN0aW9uIFBhc3N3b3JkRm9yZ290KCl7dmFyIF91c2VHbG9iYWxSZWR1Y2VyNDM9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyNDQ9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyNDMsMiksc3RhdGU9X3VzZUdsb2JhbFJlZHVjZXI0NFswXSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjQ0WzFdO3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIGNvbmZpZz11c2VDb25maWcoKTt2YXIgcGFzc3dvcmRPcHRpb25zPWNvbmZpZy5wYXNzd29yZE9wdGlvbnM7dmFyIGVtYWlsPXN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsO2lmKCFwYXNzd29yZE9wdGlvbnMpcmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCk7dmFyIHJlc2VuZFJlc2V0UGFzc3dvcmQ9ZnVuY3Rpb24gcmVzZW5kUmVzZXRQYXNzd29yZCgpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUyKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODcoKXtyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZTIoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4NyQoX2NvbnRleHQ4Nyl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ4Ny5wcmV2PV9jb250ZXh0ODcubmV4dCl7Y2FzZSAwOnJlYWRCMkNJbnRlcm5hbHMoc3R5dGNoQ2xpZW50KS5uZXR3b3JrQ2xpZW50LmxvZ0V2ZW50KHtuYW1lOidlbWFpbF90cnlfYWdhaW5fY2xpY2tlZCcsZGV0YWlsczp7ZW1haWw6ZW1haWwsdHlwZTpFbWFpbFNlbnRUeXBlLlJlc2V0UGFzc3dvcmR9fSk7c3R5dGNoQ2xpZW50LnBhc3N3b3Jkcy5yZXNldEJ5RW1haWxTdGFydChjb252ZXJ0UGFzc3dvcmRSZXNldE9wdGlvbnMoZW1haWwscGFzc3dvcmRPcHRpb25zKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0b2FzdC5zdWNjZXNzKCdFbWFpbCByZXNlbnQnKTt9KTtjYXNlIDI6Y2FzZVwiZW5kXCI6cmV0dXJuIF9jb250ZXh0ODcuc3RvcCgpO319LF9jYWxsZWU4Nyk7fSkpO307cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCYWNrQXJyb3cse29uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5NYWlufSk7fX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJGb3Jnb3QgcGFzc3dvcmQ/XCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIkEgbGluayB0byByZXNldCB5b3VyIHBhc3N3b3JkIHdhcyBzZW50IHRvIHlvdSBhdCBcIiwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImJcIixudWxsLGVtYWlsKSxcIi5cIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCxudWxsLFwiRGlkbid0IGdldCBpdD9cIiwnICcsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIix7b25DbGljazpyZXNlbmRSZXNldFBhc3N3b3JkLHN0eWxlOnthbGw6J3Vuc2V0J319LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLHtzdHlsZTp7Y3Vyc29yOidwb2ludGVyJ319LFwiUmVzZW5kIGVtYWlsXCIpKSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFnaWNMaW5rT3B0aW9uLG51bGwpKTt9O3ZhciBQYXNzd29yZEJyZWFjaGVkPWZ1bmN0aW9uIFBhc3N3b3JkQnJlYWNoZWQoKXt2YXIgX3VzZUdsb2JhbFJlZHVjZXI0NT11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI0Nj1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXI0NSwyKSxzdGF0ZT1fdXNlR2xvYmFsUmVkdWNlcjQ2WzBdLGRpc3BhdGNoPV91c2VHbG9iYWxSZWR1Y2VyNDZbMV07dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBwYXNzd29yZE9wdGlvbnM9Y29uZmlnLnBhc3N3b3JkT3B0aW9uczt2YXIgZW1haWw9c3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUuZW1haWw7aWYoIXBhc3N3b3JkT3B0aW9ucylyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsKTt2YXIgcmVzZW5kUmVzZXRQYXNzd29yZD1mdW5jdGlvbiByZXNlbmRSZXNldFBhc3N3b3JkKCl7c3R5dGNoQ2xpZW50LnBhc3N3b3Jkcy5yZXNldEJ5RW1haWxTdGFydChjb252ZXJ0UGFzc3dvcmRSZXNldE9wdGlvbnMoZW1haWwscGFzc3dvcmRPcHRpb25zKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0b2FzdC5zdWNjZXNzKCdFbWFpbCByZXNlbnQnKTt9KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiQ2hlY2sgeW91ciBlbWFpbCB0byBzZXQgYSBuZXcgcGFzc3dvcmRcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCxudWxsLFwiQSBkaWZmZXJlbnQgc2l0ZSB3aGVyZSB5b3UgdXNlIHRoZSBzYW1lIHBhc3N3b3JkIGhhZCBhIHNlY3VyaXR5IGlzc3VlIHJlY2VudGx5LiBGb3IgeW91ciBzYWZldHksIGFuIGVtYWlsIHdhcyBzZW50IHRvIHlvdSBhdCBcIiwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImJcIixudWxsLGVtYWlsKSxcIiB0byByZXNldCB5b3VyIHBhc3N3b3JkLlwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LG51bGwsXCJEaWRuJ3QgZ2V0IGl0P1wiLCcgJywvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLHt0eXBlOlwiYnV0dG9uXCIsb25DbGljazpyZXNlbmRSZXNldFBhc3N3b3JkLHN0eWxlOnthbGw6J3Vuc2V0J319LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLHtzdHlsZTp7Y3Vyc29yOidwb2ludGVyJ319LFwiUmVzZW5kIGVtYWlsXCIpKSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFnaWNMaW5rT3B0aW9uLG51bGwpKTt9O3ZhciBQYXNzd29yZFNldE5ldz1mdW5jdGlvbiBQYXNzd29yZFNldE5ldygpe3ZhciBfdXNlR2xvYmFsUmVkdWNlcjQ3PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjQ4PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjQ3LDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyNDhbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXI0OFsxXTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIG9uRXZlbnQ9dXNlRXZlbnRDYWxsYmFjaygpO3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIGNvbmZpZz11c2VDb25maWcoKTt2YXIgcGFzc3dvcmRPcHRpb25zPWNvbmZpZy5wYXNzd29yZE9wdGlvbnM7dmFyIGVtYWlsPXN0YXRlLmZvcm1TdGF0ZS5wYXNzd29yZFN0YXRlLmVtYWlsO3ZhciByZXNlbmRSZXNldFBhc3N3b3JkPWZ1bmN0aW9uIHJlc2VuZFJlc2V0UGFzc3dvcmQoKXtzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnJlc2V0QnlFbWFpbFN0YXJ0KGNvbnZlcnRQYXNzd29yZFJlc2V0T3B0aW9ucyhlbWFpbCxwYXNzd29yZE9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKGRhdGEpe3RvYXN0LnN1Y2Nlc3MoJ0VtYWlsIHJlc2VudCcpO29uRXZlbnQoe3R5cGU6U3R5dGNoRXZlbnRUeXBlLlBhc3N3b3JkUmVzZXRCeUVtYWlsU3RhcnQsZGF0YTpkYXRhfSk7fSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtvbkVycm9yKGUpO30pO307cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCYWNrQXJyb3cse29uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5NYWlufSk7fX0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJDaGVjayB5b3VyIGVtYWlsIVwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LG51bGwsXCJBIGxvZ2luIGxpbmsgd2FzIHNlbnQgdG8geW91IGF0IFwiLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYlwiLG51bGwsZW1haWwpLFwiLlwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LG51bGwsXCJEaWRuJ3QgZ2V0IGl0P1wiLCcgJywvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLHtvbkNsaWNrOnJlc2VuZFJlc2V0UGFzc3dvcmQsc3R5bGU6e2FsbDondW5zZXQnfX0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIse3N0eWxlOntjdXJzb3I6J3BvaW50ZXInfX0sXCJSZXNlbmQgZW1haWxcIikpKSk7fTt2YXIgUGFzc3dvcmREZWR1cGU9ZnVuY3Rpb24gUGFzc3dvcmREZWR1cGUoKXt2YXIgX3VzZUdsb2JhbFJlZHVjZXI0OT11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI1MD1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXI0OSwyKSxzdGF0ZT1fdXNlR2xvYmFsUmVkdWNlcjUwWzBdLGRpc3BhdGNoPV91c2VHbG9iYWxSZWR1Y2VyNTBbMV07dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBwYXNzd29yZE9wdGlvbnM9Y29uZmlnLnBhc3N3b3JkT3B0aW9uczt2YXIgZW1haWw9c3RhdGUuZm9ybVN0YXRlLnBhc3N3b3JkU3RhdGUuZW1haWw7aWYoIXBhc3N3b3JkT3B0aW9ucylyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsKTt2YXIgcmVzZW5kUmVzZXRQYXNzd29yZD1mdW5jdGlvbiByZXNlbmRSZXNldFBhc3N3b3JkKCl7c3R5dGNoQ2xpZW50LnBhc3N3b3Jkcy5yZXNldEJ5RW1haWxTdGFydChjb252ZXJ0UGFzc3dvcmRSZXNldE9wdGlvbnMoZW1haWwscGFzc3dvcmRPcHRpb25zKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0b2FzdC5zdWNjZXNzKCdFbWFpbCByZXNlbnQnKTt9KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyNH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQmFja0Fycm93LHtvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuTWFpbn0pO319KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiQ2hlY2sgeW91ciBlbWFpbCB0byBzZXQgYSBuZXcgcGFzc3dvcmQhXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIldlIHdhbnQgdG8gbWFrZSBzdXJlIHlvdXIgYWNjb3VudCBpcyBzZWN1cmUgYW5kIHRoYXQgaXQncyByZWFsbHkgeW91IGxvZ2dpbmcgaW4hIEEgbG9naW4gbGluayB3YXMgc2VudCB0byB5b3UgYXQgXCIsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJiXCIsbnVsbCxlbWFpbCksXCIuXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFRleHQsbnVsbCxcIkRpZG4ndCBnZXQgaXQ/XCIsJyAnLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse29uQ2xpY2s6cmVzZW5kUmVzZXRQYXNzd29yZCxzdHlsZTp7YWxsOid1bnNldCd9fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImJcIix7c3R5bGU6e2N1cnNvcjoncG9pbnRlcid9fSxcIlJlc2VuZCBlbWFpbFwiKSkpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE1hZ2ljTGlua09wdGlvbixudWxsKSk7fTt2YXIgRm9ybT1IZS5mb3JtKF90ZW1wbGF0ZU9iamVjdDQyfHwoX3RlbXBsYXRlT2JqZWN0NDI9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIHdpZHRoOiAxMDAlO1xcblwiXSkpKTt2YXIgUmVzZXRQYXNzd29yZFNjcmVlbj1mdW5jdGlvbiBSZXNldFBhc3N3b3JkU2NyZWVuKCl7dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3ZhciBfdXNlR2xvYmFsUmVkdWNlcjUxPXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjUyPV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjUxLDIpLHN0YXRlPV91c2VHbG9iYWxSZWR1Y2VyNTJbMF0sZGlzcGF0Y2g9X3VzZUdsb2JhbFJlZHVjZXI1MlsxXTt2YXIgcGFzc3dvcmRUb2tlbj1zdGF0ZS5mb3JtU3RhdGUucmVzZXRQYXNzd29yZFN0YXRlLnRva2VuO3ZhciBvbkV2ZW50PXVzZUV2ZW50Q2FsbGJhY2soKTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIF9oJDk3PWgkNSgncmVzZXRfcGFzc3dvcmQnKSxfaCQ5OD1fc2xpY2VkVG9BcnJheTIoX2gkOTcsMikscmVzZXRUb2tlblR5cGU9X2gkOThbMF0sc2V0UmVzZXRUb2tlblR5cGU9X2gkOThbMV07dmFyIF9oJDk5PWgkNSgnJyksX2gkMTAwPV9zbGljZWRUb0FycmF5MihfaCQ5OSwyKSxwYXNzd29yZD1faCQxMDBbMF0sc2V0UGFzc3dvcmQ9X2gkMTAwWzFdO3ZhciBfaCQxMDE9aCQ1KCcnKSxfaCQxMDI9X3NsaWNlZFRvQXJyYXkyKF9oJDEwMSwyKSxlcnJvck1lc3NhZ2U9X2gkMTAyWzBdLHNldEVycm9yTWVzc2FnZT1faCQxMDJbMV07dmFyIF9oJDEwMz1oJDUoMCksX2gkMTA0PV9zbGljZWRUb0FycmF5MihfaCQxMDMsMikscGFzc3dvcmRTY29yZT1faCQxMDRbMF0sc2V0UGFzc3dvcmRTY29yZT1faCQxMDRbMV07dmFyIF9oJDEwNT1oJDUoJycpLF9oJDEwNj1fc2xpY2VkVG9BcnJheTIoX2gkMTA1LDIpLHBhc3N3b3JkRmVlZGJhY2s9X2gkMTA2WzBdLHNldFBhc3N3b3JkRmVlZGJhY2s9X2gkMTA2WzFdO3ZhciBfaCQxMDc9aCQ1KHRydWUpLF9oJDEwOD1fc2xpY2VkVG9BcnJheTIoX2gkMTA3LDIpLGludmFsaWRQYXNzd29yZD1faCQxMDhbMF0sc2V0SW52YWxpZFBhc3N3b3JkPV9oJDEwOFsxXTt2YXIgX2gkMTA5PWgkNShmYWxzZSksX2gkMTEwPV9zbGljZWRUb0FycmF5MihfaCQxMDksMiksaXNTdWJtaXR0aW5nPV9oJDExMFswXSxzZXRJc1N1Ym1pdHRpbmc9X2gkMTEwWzFdO3ZhciBfaCQxMTE9aCQ1KCdub25lJyksX2gkMTEyPV9zbGljZWRUb0FycmF5MihfaCQxMTEsMiksc3RyZW5ndGhQb2xpY3k9X2gkMTEyWzBdLHNldFN0cmVuZ3RoUG9saWN5PV9oJDExMlsxXTt2YXIgX2gkMTEzPWgkNSgwKSxfaCQxMTQ9X3NsaWNlZFRvQXJyYXkyKF9oJDExMywyKSxtaXNzaW5nQ2hhcmFjdGVycz1faCQxMTRbMF0sc2V0TWlzc2luZ0NoYXJhY3RlcnM9X2gkMTE0WzFdO3ZhciBfaCQxMTU9aCQ1KDApLF9oJDExNj1fc2xpY2VkVG9BcnJheTIoX2gkMTE1LDIpLG1pc3NpbmdDb21wbGV4aXR5PV9oJDExNlswXSxzZXRNaXNzaW5nQ29tcGxleGl0eT1faCQxMTZbMV07dmFyIF9oJDExNz1oJDUoZmFsc2UpLF9oJDExOD1fc2xpY2VkVG9BcnJheTIoX2gkMTE3LDIpLGlzUGFzc3dvcmRCcmVhY2hlZD1faCQxMThbMF0sc2V0SXNQYXNzd29yZEJyZWFjaGVkPV9oJDExOFsxXTt2YXIgX2gkMTE5PWgkNSgnJyksX2gkMTIwPV9zbGljZWRUb0FycmF5MihfaCQxMTksMiksbG9naW5FcnJvck1lc3NhZ2U9X2gkMTIwWzBdLHNldExvZ2luRXJyb3JNZXNzYWdlPV9oJDEyMFsxXTt2YXIgX2gkMTIxPWgkNShmYWxzZSksX2gkMTIyPV9zbGljZWRUb0FycmF5MihfaCQxMjEsMiksaXNMb2dnaW5nSW49X2gkMTIyWzBdLHNldElzTG9nZ2luZ0luPV9oJDEyMlsxXTt2YXIgdXBkYXRlU3RyZW5ndGhDaGVjaz1GJDQoZnVuY3Rpb24oKXtyZXR1cm4gZGVib3VuY2UoZnVuY3Rpb24ocGFzc3dvcmQpe3JldHVybiBzdHl0Y2hDbGllbnQucGFzc3dvcmRzLnN0cmVuZ3RoQ2hlY2soe3Bhc3N3b3JkOnBhc3N3b3JkfSkudGhlbihmdW5jdGlvbihfcmVmMTA1KXt2YXIgc2NvcmU9X3JlZjEwNS5zY29yZSxmZWVkYmFjaz1fcmVmMTA1LmZlZWRiYWNrLHZhbGlkX3Bhc3N3b3JkPV9yZWYxMDUudmFsaWRfcGFzc3dvcmQsc3RyZW5ndGhfcG9saWN5PV9yZWYxMDUuc3RyZW5ndGhfcG9saWN5LGJyZWFjaGVkX3Bhc3N3b3JkPV9yZWYxMDUuYnJlYWNoZWRfcGFzc3dvcmQ7c2V0U3RyZW5ndGhQb2xpY3koc3RyZW5ndGhfcG9saWN5KTtzZXRJbnZhbGlkUGFzc3dvcmQoIXZhbGlkX3Bhc3N3b3JkKTtpZihzdHJlbmd0aF9wb2xpY3k9PT0nenhjdmJuJyl7c2V0UGFzc3dvcmRTY29yZShzY29yZSk7c2V0UGFzc3dvcmRGZWVkYmFjayhmZWVkYmFjay53YXJuaW5nKTt9ZWxzZSBpZihzdHJlbmd0aF9wb2xpY3k9PT0nbHVkcycpe3NldE1pc3NpbmdDaGFyYWN0ZXJzKGZlZWRiYWNrLmx1ZHNfcmVxdWlyZW1lbnRzLm1pc3NpbmdfY2hhcmFjdGVycyk7c2V0TWlzc2luZ0NvbXBsZXhpdHkoZmVlZGJhY2subHVkc19yZXF1aXJlbWVudHMubWlzc2luZ19jb21wbGV4aXR5KTtzZXRJc1Bhc3N3b3JkQnJlYWNoZWQoYnJlYWNoZWRfcGFzc3dvcmQpO319KTt9KTt9LFtzdHl0Y2hDbGllbnQucGFzc3dvcmRzXSk7cCQ2KGZ1bmN0aW9uKCl7dmFyIF9hO3ZhciBwYXJhbXM9bmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTt2YXIgdG9rZW5UeXBlPShfYT1wYXJhbXMuZ2V0KCdzdHl0Y2hfdG9rZW5fdHlwZScpKSE9PW51bGwmJl9hIT09dm9pZCAwP19hOicnO3NldFJlc2V0VG9rZW5UeXBlKHRva2VuVHlwZSk7fSxbXSk7cCQ2KGZ1bmN0aW9uKCl7dmFyIF9hLF9iO2lmKHJlc2V0VG9rZW5UeXBlPT09J2xvZ2luJyl7c3R5dGNoQ2xpZW50Lm1hZ2ljTGlua3MuYXV0aGVudGljYXRlKHBhc3N3b3JkVG9rZW4se3Nlc3Npb25fZHVyYXRpb25fbWludXRlczooX2I9KF9hPWNvbmZpZy5zZXNzaW9uT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Euc2Vzc2lvbkR1cmF0aW9uTWludXRlcykhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpERUZBVUxUX1NFU1NJT05fRFVSQVRJT05fTUlOVVRFU30pLnRoZW4oZnVuY3Rpb24oKXtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5QYXNzd29yZENvbmZpcm1hdGlvbn0pO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7b25FcnJvcihlKTt9KTt9fSxbcmVzZXRUb2tlblR5cGVdKTt2YXIgb25QYXNzd29yZENoYW5nZT1mdW5jdGlvbiBvblBhc3N3b3JkQ2hhbmdlKHBhc3N3b3JkKXtzZXRQYXNzd29yZChwYXNzd29yZCk7dXBkYXRlU3RyZW5ndGhDaGVjayhwYXNzd29yZCk7fTt2YXIgaGFuZGxlU3VibWl0PWZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKXt2YXIgX2EsX2I7ZS5wcmV2ZW50RGVmYXVsdCgpO3NldEVycm9yTWVzc2FnZSgnJyk7c2V0SXNTdWJtaXR0aW5nKHRydWUpO3N0eXRjaENsaWVudC5wYXNzd29yZHMucmVzZXRCeUVtYWlsKHt0b2tlbjpwYXNzd29yZFRva2VuLHBhc3N3b3JkOnBhc3N3b3JkLHNlc3Npb25fZHVyYXRpb25fbWludXRlczooX2I9KF9hPWNvbmZpZy5zZXNzaW9uT3B0aW9ucyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2Euc2Vzc2lvbkR1cmF0aW9uTWludXRlcykhPT1udWxsJiZfYiE9PXZvaWQgMD9fYjpERUZBVUxUX1NFU1NJT05fRFVSQVRJT05fTUlOVVRFU30pLnRoZW4oZnVuY3Rpb24oZGF0YSl7c2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5QYXNzd29yZFJlc2V0QnlFbWFpbCxkYXRhOmRhdGF9KTtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5QYXNzd29yZENvbmZpcm1hdGlvbn0pO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7b25FcnJvcihlKTt2YXIgbWVzc2FnZT1lLm1lc3NhZ2U7aWYoZSBpbnN0YW5jZW9mIFN0eXRjaEFQSUVycm9yKXttZXNzYWdlPWUuZXJyb3JfbWVzc2FnZTt9c2V0RXJyb3JNZXNzYWdlKG1lc3NhZ2UpO3NldElzU3VibWl0dGluZyhmYWxzZSk7fSk7fTt2YXIgaGFuZGxlTG9naW49ZnVuY3Rpb24gaGFuZGxlTG9naW4oKXt2YXIgX2EsX2I7c2V0TG9naW5FcnJvck1lc3NhZ2UoJycpO3NldElzTG9nZ2luZ0luKHRydWUpO3N0eXRjaENsaWVudC5tYWdpY0xpbmtzLmF1dGhlbnRpY2F0ZShwYXNzd29yZFRva2VuLHtzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6KF9iPShfYT1jb25maWcuc2Vzc2lvbk9wdGlvbnMpPT09bnVsbHx8X2E9PT12b2lkIDA/dm9pZCAwOl9hLnNlc3Npb25EdXJhdGlvbk1pbnV0ZXMpIT09bnVsbCYmX2IhPT12b2lkIDA/X2I6REVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVN9KS50aGVuKGZ1bmN0aW9uKCl7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc3dvcmRDb25maXJtYXRpb259KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7dmFyIG1lc3NhZ2U9ZS5tZXNzYWdlO2lmKGUgaW5zdGFuY2VvZiBTdHl0Y2hBUElFcnJvcil7bWVzc2FnZT1lLmVycm9yX21lc3NhZ2U7fXNldExvZ2luRXJyb3JNZXNzYWdlKG1lc3NhZ2UpO30pW1wiZmluYWxseVwiXShmdW5jdGlvbigpe3NldElzTG9nZ2luZ0luKGZhbHNlKTt9KTt9O2lmKHJlc2V0VG9rZW5UeXBlPT09J2xvZ2luJyl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjM2LGNsYXNzTmFtZToncmVzZXRQYXNzd29yZENvbnRhaW5lcicsYWxpZ25JdGVtczpcImNlbnRlclwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiTG9nZ2luZyBpblwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDaXJjdWxhclByb2dyZXNzLHtzaXplOjEwMCx0aGlja25lc3M6Mn0pKTt9cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjM2LGNsYXNzTmFtZToncmVzZXRQYXNzd29yZENvbnRhaW5lcicsYWxpZ25JdGVtczpcImNlbnRlclwiLHdpZHRoOlwiMTAwJVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiUmVzZXQgeW91ciBwYXNzd29yZFwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGb3JtLHtvblN1Ym1pdDpoYW5kbGVTdWJtaXR9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6Mn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVGV4dCx7c2l6ZTpcImhlbHBlclwiLGNvbG9yOlwic2Vjb25kYXJ5XCJ9LFwiUGFzc3dvcmRcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRJbnB1dCx7cGFzc3dvcmQ6cGFzc3dvcmQsc2V0UGFzc3dvcmQ6b25QYXNzd29yZENoYW5nZSx0eXBlOlwibmV3XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZEIyQ0Vycm9yLHtwYXNzd29yZFBvbGljeTpzdHJlbmd0aFBvbGljeSxwYXNzd29yZFNjb3JlOnBhc3N3b3JkU2NvcmUsZXJyb3JNZXNzYWdlOmVycm9yTWVzc2FnZSxwYXNzd29yZEZlZWRiYWNrOnBhc3N3b3JkRmVlZGJhY2ssbWlzc2luZ0NoYXJhY3RlcnM6bWlzc2luZ0NoYXJhY3RlcnMsbWlzc2luZ0NvbXBsZXhpdHk6bWlzc2luZ0NvbXBsZXhpdHksaXNQYXNzd29yZEJyZWFjaGVkOmlzUGFzc3dvcmRCcmVhY2hlZH0pKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24se2lzU3VibWl0dGluZzppc1N1Ym1pdHRpbmcsdGV4dDpcIkNvbnRpbnVlXCIsZGlzYWJsZWQ6aW52YWxpZFBhc3N3b3JkfSkpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChEaXZpZGVyLG51bGwpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDo4LHdpZHRoOlwiMTAwJVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24se3R5cGU6XCJidXR0b25cIix2YXJpYW50OlwidGV4dFwiLGRpc2FibGVkOmlzTG9nZ2luZ0luLG9uQ2xpY2s6aGFuZGxlTG9naW59LGlzTG9nZ2luZ0luPygvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtqdXN0aWZ5Q29udGVudDpcImNlbnRlclwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixnYXA6OH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ2lyY3VsYXJQcm9ncmVzcyx7c2l6ZToxOCx0aGlja25lc3M6MX0pLFwiTG9nZ2luZyBpbi4uLlwiKSk6J0xvZ2luIHdpdGhvdXQgYSBwYXNzd29yZCcpLGxvZ2luRXJyb3JNZXNzYWdlJiYvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvclRleHQse2Vycm9yTWVzc2FnZTpsb2dpbkVycm9yTWVzc2FnZX0pKSk7fTt2YXIgQ29uZmlybWF0aW9uU2NyZWVuPWZ1bmN0aW9uIENvbmZpcm1hdGlvblNjcmVlbigpe3JldHVybi8qI19fUFVSRV9fKi95JDQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0LGFsaWduSXRlbXM6XCJjZW50ZXJcIn0sLyojX19QVVJFX18qL3kkNChUZXh0LHtzaXplOlwiaGVhZGVyXCJ9LFwiU3VjY2VzcyFcIiksLyojX19QVVJFX18qL3kkNChUZXh0LG51bGwsXCJZb3UgaGF2ZSBzdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiKSwvKiNfX1BVUkVfXyoveSQ0KENvbmZpcm1hdGlvblNWRyxudWxsKSk7fTt2YXIgUGFzc2tleUNvbGxhZ2VTdmc9ZnVuY3Rpb24gUGFzc2tleUNvbGxhZ2VTdmcoKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInN2Z1wiLHt3aWR0aDpcIjExMlwiLGhlaWdodDpcIjk2XCIsdmlld0JveDpcIjAgMCAxMTIgOTZcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJnXCIse2NsaXBQYXRoOlwidXJsKCNjbGlwMF8yODc3XzEwMTIxKVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImVsbGlwc2VcIix7Y3g6XCI1NS45OTk4XCIsY3k6XCI0OC4wMDA0XCIscng6XCI0OFwiLHJ5OlwiNDguMDAwM1wiLGZpbGw6XCIjQzdGMUZGXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0xMDAuODY2IDc0LjU0NjFIMTAzLjgyM1wiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjEuMjgxMjRcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZmlsbFJ1bGU6XCJldmVub2RkXCIsY2xpcFJ1bGU6XCJldmVub2RkXCIsZDpcIk04NC42MDQgNjcuMzk0NUM4NC42MDQgNjcuMjYxOCA4NC43MTE2IDY3LjE1NDIgODQuODQ0MiA2Ny4xNTQySDEwNi41NEMxMDYuNjcyIDY3LjE1NDIgMTA2Ljc4IDY3LjI2MTggMTA2Ljc4IDY3LjM5NDVWNzcuMjYyN0MxMDYuNzggNzcuMzk1NCAxMDYuNjcyIDc3LjUwMyAxMDYuNTQgNzcuNTAzSDg0Ljg0NDJDODQuNzExNiA3Ny41MDMgODQuNjA0IDc3LjM5NTQgODQuNjA0IDc3LjI2MjdWNjcuMzk0NVpcIixzdHJva2U6XCIjMEM1QTU2XCIsc3Ryb2tlV2lkdGg6XCIxLjI4MTI0XCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOTEuMjU2OCA3MC44NTAzTDg3LjU2MDggNzQuNTQ2M1wiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjEuMjgxMjRcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk05MS4yNTY4IDc0LjU0NjNMODcuNTYwOCA3MC44NTAzXCIsc3Ryb2tlOlwiIzBDNUE1NlwiLHN0cm9rZVdpZHRoOlwiMS4yODEyNFwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTk3LjkwOTYgNzAuODUwM0w5NC4yMTM2IDc0LjU0NjNcIixzdHJva2U6XCIjMEM1QTU2XCIsc3Ryb2tlV2lkdGg6XCIxLjI4MTI0XCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNOTcuOTA5NiA3NC41NDYzTDk0LjIxMzYgNzAuODUwM1wiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjEuMjgxMjRcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk04Ny45MTU4IDMxLjc2NjVDODcuODM2OCAzMS43MjcxIDg3Ljc5NzQgMzEuNjYyOSA4Ny43OTc0IDMxLjU3NDJDODcuNzk3NCAzMS40ODU0IDg3LjgxNzEgMzEuNDAxNSA4Ny44NTY2IDMxLjMyMjZDODkuMDc5OSAyOS42MjU2IDkwLjYyODkgMjguMzEzNSA5Mi41MDM0IDI3LjM4NjFDOTQuMzc3OSAyNi40NTg3IDk2LjM4MDYgMjUuOTk1IDk4LjUxMTcgMjUuOTk1QzEwMC42NDMgMjUuOTk1IDEwMi42NSAyNi40NDg5IDEwNC41MzUgMjcuMzU2NUMxMDYuNDE5IDI4LjI2NDIgMTA3Ljk4MyAyOS41NjY1IDEwOS4yMjYgMzEuMjYzNEMxMDkuMjg1IDMxLjM2MiAxMDkuMzEgMzEuNDQxIDEwOS4zIDMxLjUwMDJDMTA5LjI5IDMxLjU1OTQgMTA5LjI1NiAzMS42MTg1IDEwOS4xOTYgMzEuNjc3N0MxMDkuMTM3IDMxLjczNjkgMTA5LjA2MyAzMS43NjY1IDEwOC45NzQgMzEuNzY2NUMxMDguODg2IDMxLjc2NjUgMTA4LjgwMiAzMS43MTcyIDEwOC43MjMgMzEuNjE4NUMxMDcuNTU5IDMwLjAwMDUgMTA2LjA3NCAyOC43NTc1IDEwNC4yNjggMjcuODg5M0MxMDIuNDYzIDI3LjAyMTEgMTAwLjU0NCAyNi41ODcgOTguNTExNyAyNi41ODdDOTYuNDc5MyAyNi41ODcgOTQuNTc1MiAyNy4wMjYgOTIuNzk5MyAyNy45MDQxQzkxLjAyMzUgMjguNzgyMSA4OS41NDM2IDMwLjAyMDMgODguMzU5NyAzMS42MTg1Qzg4LjI4MDggMzEuNzE3MiA4OC4yMDY4IDMxLjc3NjQgODguMTM3NyAzMS43OTYxQzg4LjA2ODcgMzEuODE1OSA4Ny45OTQ3IDMxLjgwNiA4Ny45MTU4IDMxLjc2NjVaTTEwMi4wMzQgNDYuNjU0MUMxMDAuMDAxIDQ2LjE0MSA5OC4zMjkxIDQ1LjEyNDkgOTcuMDE3IDQzLjYwNTVDOTUuNzA0OCA0Mi4wODYyIDk1LjA0ODcgNDAuMjQxMyA5NS4wNDg3IDM4LjA3MDhDOTUuMDQ4NyAzNy4xNDM0IDk1LjM4OTEgMzYuMzY0IDk2LjA2OTkgMzUuNzMyNkM5Ni43NTA2IDM1LjEwMTIgOTcuNTY0NSAzNC43ODU1IDk4LjUxMTcgMzQuNzg1NUM5OS40NTg4IDM0Ljc4NTUgMTAwLjI3MyAzNS4xMDEyIDEwMC45NTMgMzUuNzMyNkMxMDEuNjM0IDM2LjM2NCAxMDEuOTc1IDM3LjE0MzQgMTAxLjk3NSAzOC4wNzA4QzEwMS45NzUgMzguODIwNiAxMDIuMjY2IDM5LjQ1MiAxMDIuODQ4IDM5Ljk2NUMxMDMuNDMgNDAuNDc4MSAxMDQuMTA2IDQwLjczNDYgMTA0Ljg3NSA0MC43MzQ2QzEwNS42MjUgNDAuNzM0NiAxMDYuMjgxIDQwLjQ3ODEgMTA2Ljg0MyAzOS45NjVDMTA3LjQwNiAzOS40NTIgMTA3LjY4NyAzOC44MjA2IDEwNy42ODcgMzguMDcwOEMxMDcuNjg3IDM1LjY0MzggMTA2Ljc4NCAzMy42MTE0IDEwNC45NzkgMzEuOTczN0MxMDMuMTczIDMwLjMzNiAxMDEuMDE4IDI5LjUxNzEgOTguNTExNyAyOS41MTcxQzk2LjAwNTcgMjkuNTE3MSA5My44NSAzMC4zMzYgOTIuMDQ0NiAzMS45NzM3QzkwLjIzOTIgMzMuNjExNCA4OS4zMzY0IDM1LjY0MzggODkuMzM2NCAzOC4wNzA4Qzg5LjMzNjQgMzguNTQ0NCA4OS4zOTA3IDM5LjE2MSA4OS40OTkyIDM5LjkyMDZDODkuNjA3NyA0MC42ODAzIDg5LjgzOTYgNDEuNTQzNiA5MC4xOTQ4IDQyLjUxMDRDOTAuMjM0MiA0Mi42MDkxIDkwLjIzNDIgNDIuNjgzMSA5MC4xOTQ4IDQyLjczMjRDOTAuMTU1MyA0Mi43ODE3IDkwLjEwNiA0Mi44MjYxIDkwLjA0NjggNDIuODY1NkM4OS45Njc4IDQyLjkwNTEgODkuODg0IDQyLjkxNDkgODkuNzk1MiA0Mi44OTUyQzg5LjcwNjQgNDIuODc1NSA4OS42NDIzIDQyLjgxNjMgODkuNjAyOCA0Mi43MTc2Qzg5LjM0NjMgNDEuOTY3OCA4OS4xNDQgNDEuMjAzMiA4OC45OTYxIDQwLjQyMzhDODguODQ4MSAzOS42NDQ0IDg4Ljc3NDEgMzguODYwMSA4OC43NzQxIDM4LjA3MDhDODguNzc0MSAzNS41MjU0IDg5Ljc0MDkgMzMuMzUgOTEuNjc0NiAzMS41NDQ2QzkzLjYwODMgMjkuNzM5MSA5NS44ODczIDI4LjgzNjQgOTguNTExNyAyOC44MzY0QzEwMS4xOTUgMjguODM2NCAxMDMuNDk5IDI5LjcyNDMgMTA1LjQyMyAzMS41MDAyQzEwNy4zNDcgMzMuMjc2IDEwOC4zMDggMzUuNDY2MiAxMDguMzA4IDM4LjA3MDhDMTA4LjMwOCAzOC45Nzg1IDEwNy45NzMgMzkuNzQ4IDEwNy4zMDIgNDAuMzc5NEMxMDYuNjMxIDQxLjAxMDggMTA1LjgyMiA0MS4zMjY1IDEwNC44NzUgNDEuMzI2NUMxMDMuOTA4IDQxLjMyNjUgMTAzLjA4IDQxLjAxMDggMTAyLjM4OSA0MC4zNzk0QzEwMS42OTggMzkuNzQ4IDEwMS4zNTMgMzguOTc4NSAxMDEuMzUzIDM4LjA3MDhDMTAxLjM1MyAzNy4zMDEzIDEwMS4wNzIgMzYuNjYgMTAwLjUwOSAzNi4xNDdDOTkuOTQ3MSAzNS42MzM5IDk5LjI4MTIgMzUuMzc3NCA5OC41MTE3IDM1LjM3NzRDOTcuNzQyMSAzNS4zNzc0IDk3LjA3MTIgMzUuNjMzOSA5Ni40OTkgMzYuMTQ3Qzk1LjkyNjggMzYuNjYgOTUuNjQwNyAzNy4zMDEzIDk1LjY0MDcgMzguMDcwOEM5NS42NDA3IDQwLjEyMjkgOTYuMjYyMiA0MS44MzQ2IDk3LjUwNTMgNDMuMjA2Qzk4Ljc0ODQgNDQuNTc3MyAxMDAuMjk3IDQ1LjUzOTIgMTAyLjE1MiA0Ni4wOTE3QzEwMi4yNzEgNDYuMTMxMiAxMDIuMzQ1IDQ2LjE4MDUgMTAyLjM3NCA0Ni4yMzk3QzEwMi40MDQgNDYuMjk4OSAxMDIuNDA5IDQ2LjM2OCAxMDIuMzg5IDQ2LjQ0NjlDMTAyLjM2OSA0Ni41NDU1IDEwMi4zMyA0Ni42MTQ2IDEwMi4yNzEgNDYuNjU0MUMxMDIuMjExIDQ2LjY5MzUgMTAyLjEzMiA0Ni42OTM1IDEwMi4wMzQgNDYuNjU0MVpNOTEuNTg1OCAyNS4zNDM5QzkxLjQ4NzIgMjUuMzgzMyA5MS40MTMyIDI1LjM4ODMgOTEuMzYzOSAyNS4zNTg3QzkxLjMxNDUgMjUuMzI5MSA5MS4yNzAxIDI1LjI4NDcgOTEuMjMwNyAyNS4yMjU1QzkxLjE5MTIgMjUuMTg2IDkxLjE3MTUgMjUuMTI2OCA5MS4xNzE1IDI1LjA0NzlDOTEuMTcxNSAyNC45NjkgOTEuMjAxMSAyNC45MDk4IDkxLjI2MDMgMjQuODcwM0M5Mi4zODUgMjQuMjU4NiA5My41NjM5IDIzLjc5NDkgOTQuNzk3MiAyMy40NzkyQzk2LjAzMDQgMjMuMTYzNSA5Ny4yNjg2IDIzLjAwNTcgOTguNTExNyAyMy4wMDU3Qzk5Ljc5NDIgMjMuMDA1NyAxMDEuMDUyIDIzLjE2MzUgMTAyLjI4NSAyMy40NzkyQzEwMy41MTkgMjMuNzk0OSAxMDQuNjk4IDI0LjIzODkgMTA1LjgyMiAyNC44MTExQzEwNS45MjEgMjQuODUwNiAxMDUuOTc1IDI0LjkwOTggMTA1Ljk4NSAyNC45ODg3QzEwNS45OTUgMjUuMDY3NiAxMDUuOTggMjUuMTM2NyAxMDUuOTQxIDI1LjE5NTlDMTA1LjkwMSAyNS4yNTUxIDEwNS44NDcgMjUuMzA0NCAxMDUuNzc4IDI1LjM0MzlDMTA1LjcwOSAyNS4zODMzIDEwNS42MjUgMjUuMzgzMyAxMDUuNTI2IDI1LjM0MzlDMTA0LjQ0MSAyNC44MTExIDEwMy4zMDYgMjQuMzkxOCAxMDIuMTIzIDI0LjA4NkMxMDAuOTM5IDIzLjc4MDEgOTkuNzM1IDIzLjYyNzIgOTguNTExNyAyMy42MjcyQzk3LjI4ODMgMjMuNjI3MiA5Ni4wOTQ1IDIzLjc3MDMgOTQuOTMwNCAyNC4wNTY0QzkzLjc2NjIgMjQuMzQyNSA5Mi42NTE0IDI0Ljc3MTcgOTEuNTg1OCAyNS4zNDM5Wk05NS41NTE5IDQ2LjMyODVDOTQuNDA3NSA0NS4xNDQ2IDkzLjUxNDYgNDMuOTAxNSA5Mi44NzMzIDQyLjU5OTJDOTIuMjMyMSA0MS4yOTY5IDkxLjkxMTQgMzkuNzg3NSA5MS45MTE0IDM4LjA3MDhDOTEuOTExNCAzNi4zMTQ3IDkyLjU1NzYgMzQuODM0OCA5My44NSAzMy42MzEyQzk1LjE0MjUgMzIuNDI3NSA5Ni42OTYzIDMxLjgyNTcgOTguNTExNyAzMS44MjU3QzEwMC4zMjcgMzEuODI1NyAxMDEuODkxIDMyLjQyNzUgMTAzLjIwMyAzMy42MzEyQzEwNC41MTUgMzQuODM0OCAxMDUuMTcxIDM2LjMxNDcgMTA1LjE3MSAzOC4wNzA4QzEwNS4xNzEgMzguMTY5NSAxMDUuMTQ2IDM4LjI0MzUgMTA1LjA5NyAzOC4yOTI4QzEwNS4wNDggMzguMzQyMSAxMDQuOTc0IDM4LjM2NjggMTA0Ljg3NSAzOC4zNjY4QzEwNC43NzYgMzguMzY2OCAxMDQuNjk4IDM4LjM0MjEgMTA0LjYzOCAzOC4yOTI4QzEwNC41NzkgMzguMjQzNSAxMDQuNTUgMzguMTY5NSAxMDQuNTUgMzguMDcwOEMxMDQuNTUgMzYuNDcyNSAxMDMuOTUzIDM1LjEzMDggMTAyLjc1OSAzNC4wNDU1QzEwMS41NjUgMzIuOTYwMyAxMDAuMTQ5IDMyLjQxNzcgOTguNTExNyAzMi40MTc3Qzk2Ljg3MzkgMzIuNDE3NyA5NS40NjggMzIuOTYwMyA5NC4yOTQgMzQuMDQ1NUM5My4xMiAzNS4xMzA4IDkyLjUzMyAzNi40NzI1IDkyLjUzMyAzOC4wNzA4QzkyLjUzMyAzOS43NDggOTIuODI0IDQxLjE3ODUgOTMuNDA2MSA0Mi4zNjI0QzkzLjk4ODIgNDMuNTQ2MyA5NC44NTE0IDQ0LjczMDIgOTUuOTk1OSA0NS45MTQxQzk2LjA3NDggNDUuOTkzMSA5Ni4xMDkzIDQ2LjA2NzEgOTYuMDk5NSA0Ni4xMzYxQzk2LjA4OTYgNDYuMjA1MiA5Ni4wNTUxIDQ2LjI2OTMgOTUuOTk1OSA0Ni4zMjg1Qzk1Ljk1NjQgNDYuMzY4IDk1Ljg5MjMgNDYuNDAyNSA5NS44MDM1IDQ2LjQzMjFDOTUuNzE0NyA0Ni40NjE3IDk1LjYzMDggNDYuNDI3MiA5NS41NTE5IDQ2LjMyODVaTTEwNC42MDkgNDQuMTY3OUMxMDIuODcyIDQ0LjE2NzkgMTAxLjM2OCA0My41OTA3IDEwMC4wOTUgNDIuNDM2NEM5OC44MjI0IDQxLjI4MjEgOTguMTg2MSAzOS44MjY5IDk4LjE4NjEgMzguMDcwOEM5OC4xODYxIDM3Ljk3MjEgOTguMjEwNyAzNy44OTMyIDk4LjI2MDEgMzcuODM0Qzk4LjMwOTQgMzcuNzc0OCA5OC4zODM0IDM3Ljc0NTIgOTguNDgyMSAzNy43NDUyQzk4LjU4MDcgMzcuNzQ1MiA5OC42NTQ3IDM3Ljc3NDggOTguNzA0IDM3LjgzNEM5OC43NTM0IDM3Ljg5MzIgOTguNzc4IDM3Ljk3MjEgOTguNzc4IDM4LjA3MDhDOTguNzc4IDM5LjY2OTEgOTkuMzY1IDQwLjk4NjIgMTAwLjUzOSA0Mi4wMjIxQzEwMS43MTMgNDMuMDU4IDEwMy4wNyA0My41NzU5IDEwNC42MDkgNDMuNTc1OUMxMDQuNzY3IDQzLjU3NTkgMTA0Ljk1NCA0My41NjYxIDEwNS4xNzEgNDMuNTQ2M0MxMDUuMzg4IDQzLjUyNjYgMTA1LjYyNSA0My40OTcgMTA1Ljg4MSA0My40NTc1QzEwNS45OCA0My40Mzc4IDEwNi4wNTkgNDMuNDUyNiAxMDYuMTE4IDQzLjUwMTlDMTA2LjE3NyA0My41NTEzIDEwNi4yMTcgNDMuNjA1NSAxMDYuMjM3IDQzLjY2NDdDMTA2LjI1NiA0My43NDM3IDEwNi4yNTEgNDMuODEyNyAxMDYuMjIyIDQzLjg3MTlDMTA2LjE5MiA0My45MzExIDEwNi4xMjggNDMuOTcwNiAxMDYuMDI5IDQzLjk5MDNDMTA1LjY3NCA0NC4wODkgMTA1LjM2MyA0NC4xNDMyIDEwNS4wOTcgNDQuMTUzMUMxMDQuODMxIDQ0LjE2MjkgMTA0LjY2OCA0NC4xNjc5IDEwNC42MDkgNDQuMTY3OVpcIixzdHJva2U6XCIjMEM1QTU2XCIsc3Ryb2tlV2lkdGg6XCIwLjcyMTQyMlwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJnXCIse2NsaXBQYXRoOlwidXJsKCNjbGlwMV8yODc3XzEwMTIxKVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0yNS43NjgzIDQ5LjU5MjNWNTIuNTE0N0MyNS43NjgzIDUyLjkwMjIgMjUuNjE0NCA1My4yNzM5IDI1LjM0MDMgNTMuNTQ3OUMyNS4wNjYzIDUzLjgyMTkgMjQuNjk0NyA1My45NzU5IDI0LjMwNzEgNTMuOTc1OUgyMS4zODQ4XCIsc3Ryb2tlOlwiIzBDNUE1NlwiLHN0cm9rZVdpZHRoOlwiMS40Mjc3MlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTIxLjM4NDggMzIuMDU4MkgyNC4zMDcxQzI0LjY5NDcgMzIuMDU4MiAyNS4wNjYzIDMyLjIxMjEgMjUuMzQwMyAzMi40ODYxQzI1LjYxNDQgMzIuNzYwMiAyNS43NjgzIDMzLjEzMTggMjUuNzY4MyAzMy41MTkzVjM2LjQ0MTdcIixzdHJva2U6XCIjMEM1QTU2XCIsc3Ryb2tlV2lkdGg6XCIxLjQyNzcyXCIsc3Ryb2tlTGluZWNhcDpcInJvdW5kXCIsc3Ryb2tlTGluZWpvaW46XCJyb3VuZFwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMy44NTA1OSAzNi40NDE3VjMzLjUxOTNDMy44NTA1OSAzMy4xMzE4IDQuMDA0NTMgMzIuNzYwMiA0LjI3ODU2IDMyLjQ4NjFDNC41NTI1OCAzMi4yMTIxIDQuOTI0MjQgMzIuMDU4MiA1LjMxMTc3IDMyLjA1ODJIOC4yMzQxM1wiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjEuNDI3NzJcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk04LjIzNDEzIDUzLjk3NTlINS4zMTE3N0M0LjkyNDI0IDUzLjk3NTkgNC41NTI1OCA1My44MjE5IDQuMjc4NTYgNTMuNTQ3OUM0LjAwNDUzIDUzLjI3MzkgMy44NTA1OSA1Mi45MDIyIDMuODUwNTkgNTIuNTE0N1Y0OS41OTIzXCIsc3Ryb2tlOlwiIzBDNUE1NlwiLHN0cm9rZVdpZHRoOlwiMS40Mjc3MlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTE0LjgwOTMgNDQuMTEyOUMxNy4wMjg1IDQ0LjExMjkgMTguODI3NSA0Mi4zMTM5IDE4LjgyNzUgNDAuMDk0N0MxOC44Mjc1IDM3Ljg3NTQgMTcuMDI4NSAzNi4wNzY0IDE0LjgwOTMgMzYuMDc2NEMxMi41OSAzNi4wNzY0IDEwLjc5MSAzNy44NzU0IDEwLjc5MSA0MC4wOTQ3QzEwLjc5MSA0Mi4zMTM5IDEyLjU5IDQ0LjExMjkgMTQuODA5MyA0NC4xMTI5WlwiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjEuNDI3NzJcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk0yMS4wMDk3IDQ5Ljk1ODZDMjAuNTU2NCA0OC42NzYzIDE5LjcxNjggNDcuNTY2MiAxOC42MDY0IDQ2Ljc4MUMxNy40OTU5IDQ1Ljk5NTcgMTYuMTY5NCA0NS41NzQxIDE0LjgwOTQgNDUuNTc0MUMxMy40NDk0IDQ1LjU3NDEgMTIuMTIyOSA0NS45OTU3IDExLjAxMjUgNDYuNzgxQzkuOTAyMDcgNDcuNTY2MiA5LjA2MjQxIDQ4LjY3NjMgOC42MDkxMyA0OS45NTg2XCIsc3Ryb2tlOlwiIzBDNUE1NlwiLHN0cm9rZVdpZHRoOlwiMS40Mjc3MlwiLHN0cm9rZUxpbmVjYXA6XCJyb3VuZFwiLHN0cm9rZUxpbmVqb2luOlwicm91bmRcIn0pKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk01NC43MzcxIDQ3LjkxODdDNTcuODM2NyA0Ny45MTg3IDYwLjM0OTUgNDUuNDA2IDYwLjM0OTUgNDIuMzA2NEM2MC4zNDk1IDM5LjIwNjggNTcuODM2NyAzNi42OTQgNTQuNzM3MSAzNi42OTRDNTEuNjM3NSAzNi42OTQgNDkuMTI0OCAzOS4yMDY4IDQ5LjEyNDggNDIuMzA2NEM0OS4xMjQ4IDQ1LjQwNiA1MS42Mzc1IDQ3LjkxODcgNTQuNzM3MSA0Ny45MTg3WlwiLGZpbGw6XCIjMEM1QTU2XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk02OS43MDM0IDQ3LjkxODdDNjkuNzA2MiA0Ny4xMzY5IDY5LjQ5ODkgNDYuMzY4NyA2OS4xMDMyIDQ1LjY5NDRDNjguNzA3NiA0NS4wMjAxIDY4LjEzODEgNDQuNDY0NCA2Ny40NTQyIDQ0LjA4NTRDNjYuNzcwNCA0My43MDY0IDY1Ljk5NzMgNDMuNTE4IDY1LjIxNTggNDMuNTRDNjQuNDM0MyA0My41NjE5IDYzLjY3MyA0My43OTM0IDYzLjAxMTUgNDQuMjEwMUM2Mi4zNSA0NC42MjY4IDYxLjgxMjYgNDUuMjEzNiA2MS40NTU0IDQ1LjkwOTFDNjEuMDk4MiA0Ni42MDQ1IDYwLjkzNDMgNDcuMzgzMiA2MC45ODA5IDQ4LjE2MzZDNjEuMDI3NSA0OC45NDQgNjEuMjgyOCA0OS42OTc2IDYxLjcyMDMgNTAuMzQ1N0M2Mi4xNTc3IDUwLjk5MzcgNjIuNzYxMSA1MS41MTIzIDYzLjQ2NzUgNTEuODQ3NFY1OC41MTk4TDY1LjMzODMgNjAuMzkwNkw2OC40NTYzIDU3LjI3MjdMNjYuNTg1NSA1NS40MDE5TDY4LjQ1NjMgNTMuNTMxMUw2Ni45MDk3IDUxLjk4NDZDNjcuNzMxMSA1MS42Njc2IDY4LjQzNzQgNTEuMTA5NyA2OC45MzYgNTAuMzg0MUM2OS40MzQ2IDQ5LjY1ODUgNjkuNzAyMSA0OC43OTkxIDY5LjcwMzQgNDcuOTE4N1pNNjUuMzM4MyA0Ny45MTg3QzY1LjA5MTYgNDcuOTE4NyA2NC44NTA1IDQ3Ljg0NTYgNjQuNjQ1NCA0Ny43MDg1QzY0LjQ0MDMgNDcuNTcxNSA2NC4yODA0IDQ3LjM3NjcgNjQuMTg2IDQ3LjE0ODhDNjQuMDkxNiA0Ni45MjA5IDY0LjA2NjkgNDYuNjcwMiA2NC4xMTUxIDQ2LjQyODJDNjQuMTYzMiA0Ni4xODYzIDY0LjI4MiA0NS45NjQxIDY0LjQ1NjQgNDUuNzg5NkM2NC42MzA4IDQ1LjYxNTIgNjQuODUzIDQ1LjQ5NjQgNjUuMDk1IDQ1LjQ0ODNDNjUuMzM2OSA0NS40MDAyIDY1LjU4NzcgNDUuNDI0OSA2NS44MTU2IDQ1LjUxOTNDNjYuMDQzNSA0NS42MTM3IDY2LjIzODIgNDUuNzczNSA2Ni4zNzUzIDQ1Ljk3ODZDNjYuNTEyMyA0Ni4xODM3IDY2LjU4NTUgNDYuNDI0OSA2Ni41ODU1IDQ2LjY3MTVDNjYuNTg1NSA0Ny4wMDIzIDY2LjQ1NDEgNDcuMzE5NSA2Ni4yMjAyIDQ3LjU1MzRDNjUuOTg2MyA0Ny43ODczIDY1LjY2OTEgNDcuOTE4NyA2NS4zMzgzIDQ3LjkxODdaXCIsZmlsbDpcIiMwQzVBNTZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTU5LjY1MTIgNTAuNDM4MkM1OC42OTM0IDUwLjAxMTEgNTcuNjU2NiA0OS43OTAyIDU2LjYwOCA0OS43ODk2SDUyLjg2NjRDNTAuODgxOCA0OS43ODk2IDQ4Ljk3ODQgNTAuNTc4IDQ3LjU3NTEgNTEuOTgxNEM0Ni4xNzE3IDUzLjM4NDcgNDUuMzgzMyA1NS4yODgxIDQ1LjM4MzMgNTcuMjcyOFY1OS43NjcxSDYxLjU5NjhWNTIuODk1MUM2MC43NTU3IDUyLjI0OSA2MC4wODczIDUxLjQwNSA1OS42NTEyIDUwLjQzODJaXCIsZmlsbDpcIiMwQzVBNTZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicmVjdFwiLHt4OlwiMzkuMjcyN1wiLHk6XCIxNS40MjA0XCIsd2lkdGg6XCIzNS44NDQzXCIsaGVpZ2h0OlwiNjUuNDc1NVwiLHJ4OlwiMS42NzI3M1wiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjIuMzg5NjJcIixzdHJva2VMaW5lam9pbjpcInJvdW5kXCJ9KSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsbnVsbCwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcImNsaXBQYXRoXCIse2lkOlwiY2xpcDBfMjg3N18xMDEyMVwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInJlY3RcIix7d2lkdGg6XCIxMTAuNFwiLGhlaWdodDpcIjk2LjAwMDVcIixmaWxsOlwid2hpdGVcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoMC43OTk4MDUpXCJ9KSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJjbGlwUGF0aFwiLHtpZDpcImNsaXAxXzI4NzdfMTAxMjFcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIse3dpZHRoOlwiMjMuMzc4OVwiLGhlaWdodDpcIjIzLjM3ODlcIixmaWxsOlwid2hpdGVcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoMy4xMTk4NyAzMS4zMjc2KVwifSkpKSk7fTt2YXIgRGV2aWNlOyhmdW5jdGlvbihEZXZpY2Upe0RldmljZVtcIkRFU0tUT1BcIl09XCJEZXNrdG9wIGRldmljZVwiO0RldmljZVtcIk1PQklMRVwiXT1cIk1vYmlsZSBkZXZpY2VcIjtEZXZpY2VbXCJVTktOT1dOXCJdPVwiVW5rbm93biBkZXZpY2VcIjt9KShEZXZpY2V8fChEZXZpY2U9e30pKTt2YXIgU0FGQVJJX0NST1NTX0RFVklDRV9EVVBMSUNBVEVfUkVHX0VSUk9SX01FU1NBR0U9J0F0IGxlYXN0IG9uZSBjcmVkZW50aWFsIG1hdGNoZXMgYW4gZW50cnkgb2YgdGhlIGV4Y2x1ZGVDcmVkZW50aWFscyBsaXN0IGluIHRoZSBwbGF0Zm9ybSBhdHRhY2hlZCBhdXRoZW50aWNhdG9yLic7dmFyIENIUk9NRV9DUk9TU19ERVZJQ0VfRFVQTElDQVRFX1JFR19FUlJPUl9NRVNTQUdFPSdUaGUgdXNlciBhdHRlbXB0ZWQgdG8gcmVnaXN0ZXIgYW4gYXV0aGVudGljYXRvciB0aGF0IGNvbnRhaW5zIG9uZSBvZiB0aGUgY3JlZGVudGlhbHMgYWxyZWFkeSByZWdpc3RlcmVkIHdpdGggdGhlIHJlbHlpbmcgcGFydHkuJzt2YXIgQ29udGVudENvbnRhaW5lcj1IZShGbGV4KShfdGVtcGxhdGVPYmplY3Q0M3x8KF90ZW1wbGF0ZU9iamVjdDQzPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICAge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VjZmFmZjtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB9XFxuXCJdKSkpO3ZhciBIZWFkaW5nVGV4dCQxPUhlKFRleHQpKF90ZW1wbGF0ZU9iamVjdDQ0fHwoX3RlbXBsYXRlT2JqZWN0NDQ9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gICB7XFxuICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xcbiAgICBmb250LXNpemU6IDI0cHg7XFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxuICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xcbiAgICBsZXR0ZXItc3BhY2luZzogMGVtO1xcbiAgfVxcblwiXSkpKTt2YXIgU3ViSGVhZGluZ1RleHQkMT1IZShUZXh0KShfdGVtcGxhdGVPYmplY3Q0NXx8KF90ZW1wbGF0ZU9iamVjdDQ1PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICAge1xcbiAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcXG4gICAgZm9udC1zaXplOiAxOHB4O1xcbiAgICBmb250LXdlaWdodDogNDAwO1xcbiAgICBsaW5lLWhlaWdodDogMjVweDtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDBlbTtcXG4gIH1cXG5cIl0pKSk7dmFyIERlc2NyaXB0aW9uVGV4dD1IZShUZXh0KShfdGVtcGxhdGVPYmplY3Q0Nnx8KF90ZW1wbGF0ZU9iamVjdDQ2PV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICAge1xcbiAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICBmb250LXdlaWdodDogNDAwO1xcbiAgICBsaW5lLWhlaWdodDogMjBweDtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDBlbTtcXG4gICAgY29sb3I6ICM1YzcyN2Q7XFxuICB9XFxuXCJdKSkpO3ZhciBQYXNza2V5UmVnaXN0cmF0aW9uU3RhcnQ9ZnVuY3Rpb24gUGFzc2tleVJlZ2lzdHJhdGlvblN0YXJ0KCl7dmFyIHN0eXRjaENsaWVudD11c2VTdHl0Y2goKTt2YXIgX2gkMTIzPWgkNSh0cnVlKSxfaCQxMjQ9X3NsaWNlZFRvQXJyYXkyKF9oJDEyMywyKSxoYXNVc2VyPV9oJDEyNFswXSxzZXRIYXNVc2VyPV9oJDEyNFsxXTt2YXIgY29uZmlnPXVzZUNvbmZpZygpO3AkNihmdW5jdGlvbigpe3N0eXRjaENsaWVudC51c2VyLmdldCgpLnRoZW4oZnVuY3Rpb24oKXtzZXRIYXNVc2VyKHRydWUpO30pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7c2V0SGFzVXNlcihmYWxzZSk7b25FcnJvcihlKTt9KTt9LFtzdHl0Y2hDbGllbnRdKTt2YXIgX3VzZUdsb2JhbFJlZHVjZXI1Mz11c2VHbG9iYWxSZWR1Y2VyKCksX3VzZUdsb2JhbFJlZHVjZXI1ND1fc2xpY2VkVG9BcnJheTIoX3VzZUdsb2JhbFJlZHVjZXI1MywyKSxkaXNwYXRjaD1fdXNlR2xvYmFsUmVkdWNlcjU0WzFdO3ZhciBvbkV2ZW50PXVzZUV2ZW50Q2FsbGJhY2soKTt2YXIgb25FcnJvcj11c2VFcnJvckNhbGxiYWNrKCk7dmFyIG9uQ3JlYXRlUGFzc2tleT1mdW5jdGlvbiBvbkNyZWF0ZVBhc3NrZXkoKXt2YXIgX2EsX2I7c3R5dGNoQ2xpZW50LndlYmF1dGhuLnJlZ2lzdGVyKHtpc19wYXNza2V5OnRydWUsc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOihfYj0oX2E9Y29uZmlnLnNlc3Npb25PcHRpb25zKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5zZXNzaW9uRHVyYXRpb25NaW51dGVzKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOkRFRkFVTFRfU0VTU0lPTl9EVVJBVElPTl9NSU5VVEVTfSkudGhlbihmdW5jdGlvbihkYXRhKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5QYXNza2V5UmVnaXN0ZXIsZGF0YTpkYXRhfSk7ZGlzcGF0Y2goe3R5cGU6J2NsZWFyX2Vycm9yX21lc3NhZ2UnfSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc2tleVJlZ2lzdHJhdGlvblN1Y2Nlc3N9KTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe29uRXJyb3IoZSk7aWYoZS5tZXNzYWdlLmluY2x1ZGVzKFNBRkFSSV9DUk9TU19ERVZJQ0VfRFVQTElDQVRFX1JFR19FUlJPUl9NRVNTQUdFKXx8ZS5tZXNzYWdlLmluY2x1ZGVzKENIUk9NRV9DUk9TU19ERVZJQ0VfRFVQTElDQVRFX1JFR19FUlJPUl9NRVNTQUdFKSl7ZGlzcGF0Y2goe3R5cGU6J3NldF9lcnJvcl9tZXNzYWdlJyxlcnJvck1lc3NhZ2U6J1RoZSBQYXNza2V5IGNhbm5vdCBiZSBjcmVhdGVkIGFzIGl0IHNlZW1zIHRvIGJlIGFscmVhZHkgcmVnaXN0ZXJlZC4gSXQgaXMgcG9zc2libGUgdGhpcyBQYXNza2V5IHdhcyByZWdpc3RlcmVkIG9uIGFub3RoZXIgZGV2aWNlIGJ1dCBoYXMgc3luY2VkIGNyb3NzLWRldmljZS4nfSk7cmV0dXJuO31kaXNwYXRjaCh7dHlwZTonc2V0X2Vycm9yX21lc3NhZ2UnLGVycm9yTWVzc2FnZTonWW91ciBQYXNza2V5IHdhcyBub3QgY3JlYXRlZC4gQ2xpY2sg4oCcQ3JlYXRlIGEgUGFzc2tleeKAnSB0byB0cnkgYWdhaW4gb3Igc2tpcCB3aXRob3V0IGFkZGluZyBhIFBhc3NrZXkuJ30pO30pO307dmFyIG9uU2tpcD1mdW5jdGlvbiBvblNraXAoKXtvbkV2ZW50KHt0eXBlOlN0eXRjaEV2ZW50VHlwZS5QYXNza2V5U2tpcCxkYXRhOnt9fSk7ZGlzcGF0Y2goe3R5cGU6J3RyYW5zaXRpb24nLHNjcmVlbjpBcHBTY3JlZW5zJDEuUGFzc2tleVJlZ2lzdHJhdGlvblN1Y2Nlc3N9KTt9O2lmKCFoYXNVc2VyKXtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChBbGVydEJveCx7dmFyaWFudDpcIndhcm5pbmdcIix0ZXh0OidFcnJvcjogQ2Fubm90IHVzZSBQYXNza2V5UmVnaXN0cmF0aW9uIGNvbXBvbmVudCB3aXRob3V0IGFjdGl2ZSB1c2VyIGF1dGhlbnRpY2F0ZWQuJ30pO31yZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6MzYsbWFyZ2luVG9wOjEyLG1hcmdpbkxlZnQ6Ni41LG1hcmdpblJpZ2h0OjYuNX0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSGVhZGluZ1RleHQkMSx7c2l6ZTpcImhlYWRlclwifSxcIlNldCB1cCBhIG5ldyBQYXNza2V5XCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEFsZXJ0Qm94LHt2YXJpYW50Olwid2FybmluZ1wifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29udGVudENvbnRhaW5lcix7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjIwfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixwYWRkaW5nOjIwLGdhcDoyMCxhbGlnbkl0ZW1zOlwiY2VudGVyXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3NrZXlDb2xsYWdlU3ZnLG51bGwpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1YkhlYWRpbmdUZXh0JDEsbnVsbCxcIldpdGggUGFzc2tleXMgeW91IGRvbid0IG5lZWQgdG8gcmVtZW1iZXIgY29tcGxleCBwYXNzd29yZHMuXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KERlc2NyaXB0aW9uVGV4dCxudWxsLFwiUGFzc2tleXMgYXJlIGVuY3J5cHRlZCBkaWdpdGFsIGtleXMgeW91IGNyZWF0ZSB1c2luZyB5b3VyIGZpbmdlcnByaW50LCBmYWNlLCBvciBzY3JlZW4gbG9jay4gQ3JlYXRpbmcgYSBQYXNza2V5IHdpbGwgYWxsb3cgeW91IHRvIGVhc2lseSBhbmQgc2VjdXJlbHkgbG9nIGluIHRvIHlvdXIgYWNjb3VudC5cIikpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6MTJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3JldHVybiBvbkNyZWF0ZVBhc3NrZXkoKTt9fSxcIkNyZWF0ZSBhIFBhc3NrZXlcIiksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLHt0eXBlOlwiYnV0dG9uXCIsdmFyaWFudDpcInRleHRcIixvbkNsaWNrOmZ1bmN0aW9uIG9uQ2xpY2soKXtyZXR1cm4gb25Ta2lwKCk7fX0sXCJTa2lwXCIpKSk7fTt2YXIgUGFzc2tleUFkZGVkU3ZnPWZ1bmN0aW9uIFBhc3NrZXlBZGRlZFN2Zygpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOlwiMTAxXCIsaGVpZ2h0OlwiMTAxXCIsdmlld0JveDpcIjAgMCAxMDEgMTAxXCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTYwLjYyOTYgOTUuMDc0MUM1Ni44Mzk5IDk2LjA0MTQgNTIuODY4OSA5Ni41NTU2IDQ4Ljc3NzggOTYuNTU1NkMyMi4zOTA4IDk2LjU1NTYgMSA3NS4xNjQ3IDEgNDguNzc3OEMxIDIyLjM5MDggMjIuMzkwOCAxIDQ4Ljc3NzggMUM3NS4xNjQ3IDEgOTYuNTU1NiAyMi4zOTA4IDk2LjU1NTYgNDguNzc3OEM5Ni41NTU2IDUyLjg2ODkgOTYuMDQxNCA1Ni44Mzk4IDk1LjA3NDEgNjAuNjI5NlwiLHN0cm9rZTpcIiMwQzVBNTZcIixzdHJva2VXaWR0aDpcIjEuNzgwMjVcIixzdHJva2VMaW5lY2FwOlwicm91bmRcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTgxIDYxQzc4LjM3MzYgNjEgNzUuNzcyOCA2MS41MTczIDczLjM0NjMgNjIuNTIyNEM3MC45MTk4IDYzLjUyNzUgNjguNzE1IDY1LjAwMDcgNjYuODU3OSA2Ni44NTc5QzY1LjAwMDcgNjguNzE1IDYzLjUyNzUgNzAuOTE5OCA2Mi41MjI0IDczLjM0NjNDNjEuNTE3MyA3NS43NzI4IDYxIDc4LjM3MzYgNjEgODFDNjEgODMuNjI2NCA2MS41MTczIDg2LjIyNzIgNjIuNTIyNCA4OC42NTM3QzYzLjUyNzUgOTEuMDgwMiA2NS4wMDA3IDkzLjI4NSA2Ni44NTc5IDk1LjE0MjFDNjguNzE1IDk2Ljk5OTMgNzAuOTE5OCA5OC40NzI1IDczLjM0NjMgOTkuNDc3NkM3NS43NzI4IDEwMC40ODMgNzguMzczNiAxMDEgODEgMTAxQzgzLjYyNjQgMTAxIDg2LjIyNzIgMTAwLjQ4MyA4OC42NTM3IDk5LjQ3NzZDOTEuMDgwMiA5OC40NzI1IDkzLjI4NSA5Ni45OTkzIDk1LjE0MjEgOTUuMTQyMUM5Ni45OTkzIDkzLjI4NSA5OC40NzI1IDkxLjA4MDIgOTkuNDc3NiA4OC42NTM3QzEwMC40ODMgODYuMjI3MiAxMDEgODMuNjI2NCAxMDEgODFDMTAxIDc4LjM3MzYgMTAwLjQ4MyA3NS43NzI4IDk5LjQ3NzYgNzMuMzQ2M0M5OC40NzI1IDcwLjkxOTggOTYuOTk5MyA2OC43MTUgOTUuMTQyMSA2Ni44NTc5QzkzLjI4NSA2NS4wMDA3IDkxLjA4MDIgNjMuNTI3NSA4OC42NTM3IDYyLjUyMjRDODYuMjI3MiA2MS41MTczIDgzLjYyNjQgNjEgODEgNjFaXCIsZmlsbDpcIiNDN0YxRkZcIn0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtmaWxsUnVsZTpcImV2ZW5vZGRcIixjbGlwUnVsZTpcImV2ZW5vZGRcIixkOlwiTTkxLjk1MDggNzEuNjA0M0M5Mi4zMzc0IDcxLjg4OTIgOTIuNDE5OSA3Mi40MzM2IDkyLjEzNSA3Mi44MjAyTDc5Ljk2MTEgODkuMzQxOUM3OS44MjA3IDg5LjUzMjQgNzkuNjA4OCA4OS42NTc1IDc5LjM3NDIgODkuNjg4M0M3OS4xMzk2IDg5LjcxOTEgNzguOTAyNiA4OS42NTI5IDc4LjcxNzggODkuNTA1MUw3MC4wMjIyIDgyLjU0ODZDNjkuNjQ3MiA4Mi4yNDg2IDY5LjU4NjQgODEuNzAxNCA2OS44ODY0IDgxLjMyNjRDNzAuMTg2NCA4MC45NTE0IDcwLjczMzYgODAuODkwNiA3MS4xMDg2IDgxLjE5MDZMNzkuMDk3NyA4Ny41ODE5TDkwLjczNDkgNzEuNzg4NkM5MS4wMTk4IDcxLjQwMTkgOTEuNTY0MiA3MS4zMTk0IDkxLjk1MDggNzEuNjA0M1pcIixmaWxsOlwiIzBDNUE1NlwifSksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNNDYuMTcxMyA0OS4xNDg1QzUwLjMzMDEgNDkuMTQ4NSA1My43MDE1IDQ1Ljc3NzEgNTMuNzAxNSA0MS42MTgzQzUzLjcwMTUgMzcuNDU5NSA1MC4zMzAxIDM0LjA4ODEgNDYuMTcxMyAzNC4wODgxQzQyLjAxMjUgMzQuMDg4MSAzOC42NDExIDM3LjQ1OTUgMzguNjQxMSA0MS42MTgzQzM4LjY0MTEgNDUuNzc3MSA0Mi4wMTI1IDQ5LjE0ODUgNDYuMTcxMyA0OS4xNDg1WlwiLGZpbGw6XCIjMEM1QTU2XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk02Ni4yNTE5IDQ5LjE0ODVDNjYuMjU1NiA0OC4wOTk1IDY1Ljk3NzUgNDcuMDY4OCA2NS40NDY2IDQ2LjE2NEM2NC45MTU4IDQ1LjI1OTMgNjQuMTUxNyA0NC41MTM3IDYzLjIzNDEgNDQuMDA1MkM2Mi4zMTY2IDQzLjQ5NjcgNjEuMjc5NCA0My4yNDQgNjAuMjMwOCA0My4yNzM0QzU5LjE4MjIgNDMuMzAyOSA1OC4xNjA4IDQzLjYxMzQgNTcuMjczMiA0NC4xNzI1QzU2LjM4NTcgNDQuNzMxNyA1NS42NjQ2IDQ1LjUxODkgNTUuMTg1NCA0Ni40NTIxQzU0LjcwNjEgNDcuMzg1MiA1NC40ODYyIDQ4LjQyOTkgNTQuNTQ4NyA0OS40NzdDNTQuNjExMyA1MC41MjQxIDU0Ljk1MzkgNTEuNTM1MiA1NS41NDA4IDUyLjQwNDdDNTYuMTI3NiA1My4yNzQyIDU2LjkzNzMgNTMuOTcgNTcuODg1IDU0LjQxOTZWNjMuMzcyMkw2MC4zOTUxIDY1Ljg4MjJMNjQuNTc4NiA2MS42OTg4TDYyLjA2ODUgNTkuMTg4N0w2NC41Nzg2IDU2LjY3ODdMNjIuNTAzNiA1NC42MDM3QzYzLjYwNTYgNTQuMTc4NCA2NC41NTMzIDUzLjQyOTkgNjUuMjIyMiA1Mi40NTYzQzY1Ljg5MTIgNTEuNDgyOCA2Ni4yNTAxIDUwLjMyOTcgNjYuMjUxOSA0OS4xNDg1Wk02MC4zOTUxIDQ5LjE0ODVDNjAuMDY0MiA0OS4xNDg1IDU5Ljc0MDYgNDkuMDUwMyA1OS40NjU0IDQ4Ljg2NjRDNTkuMTkwMiA0OC42ODI2IDU4Ljk3NTggNDguNDIxMiA1OC44NDkxIDQ4LjExNTVDNTguNzIyNSA0Ny44MDk3IDU4LjY4OTMgNDcuNDczMiA1OC43NTM5IDQ3LjE0ODZDNTguODE4NSA0Ni44MjQgNTguOTc3OCA0Ni41MjU5IDU5LjIxMTkgNDYuMjkxOEM1OS40NDU5IDQ2LjA1NzggNTkuNzQ0IDQ1Ljg5ODQgNjAuMDY4NyA0NS44MzM5QzYwLjM5MzMgNDUuNzY5MyA2MC43Mjk3IDQ1LjgwMjQgNjEuMDM1NSA0NS45MjkxQzYxLjM0MTMgNDYuMDU1NyA2MS42MDI2IDQ2LjI3MDIgNjEuNzg2NSA0Ni41NDU0QzYxLjk3MDQgNDYuODIwNiA2Mi4wNjg1IDQ3LjE0NDEgNjIuMDY4NSA0Ny40NzUxQzYyLjA2ODUgNDcuOTE4OSA2MS44OTIyIDQ4LjM0NDUgNjEuNTc4NCA0OC42NTgzQzYxLjI2NDYgNDguOTcyMiA2MC44Mzg5IDQ5LjE0ODUgNjAuMzk1MSA0OS4xNDg1WlwiLGZpbGw6XCIjMEM1QTU2XCJ9KSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChcInBhdGhcIix7ZDpcIk01Mi43NjQ1IDUyLjUyODhDNTEuNDc5NSA1MS45NTU4IDUwLjA4ODQgNTEuNjU5NCA0OC42ODE1IDUxLjY1ODZINDMuNjYxNEM0MC45OTg1IDUxLjY1ODYgMzguNDQ0NyA1Mi43MTY0IDM2LjU2MTggNTQuNTk5M0MzNC42Nzg5IDU2LjQ4MjIgMzMuNjIxMSA1OS4wMzYgMzMuNjIxMSA2MS42OTg5VjY1LjA0NTZINTUuMzc1VjU1LjgyNTNDNTQuMjQ2NSA1NC45NTg0IDUzLjM0OTcgNTMuODI1OSA1Mi43NjQ1IDUyLjUyODhaXCIsZmlsbDpcIiMwQzVBNTZcIn0pKTt9O3ZhciBDaGVja21hcms9ZnVuY3Rpb24gQ2hlY2ttYXJrKCl7cmV0dXJuLyojX19QVVJFX18qL3kkNChcInN2Z1wiLHt3aWR0aDpcIjIwXCIsaGVpZ2h0OlwiMjBcIix2aWV3Qm94OlwiMCAwIDIwIDIwXCIsZmlsbDpcIm5vbmVcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LC8qI19fUFVSRV9fKi95JDQoXCJwYXRoXCIse2Q6XCJNNy4zMzMxNyAxMy4yNTAzTDMuODMzMTcgOS43NTAzM0wyLjY2NjUgMTAuOTE3TDcuMzMzMTcgMTUuNTgzN0wxNy4zMzMyIDUuNTgzNjZMMTYuMTY2NSA0LjQxNjk5TDcuMzMzMTcgMTMuMjUwM1pcIixmaWxsOlwiIzE5MzAzRFwifSkpO307dmFyIFBlbmNpbD1mdW5jdGlvbiBQZW5jaWwoKXtyZXR1cm4vKiNfX1BVUkVfXyoveSQ0KFwic3ZnXCIse3dpZHRoOlwiMjBcIixoZWlnaHQ6XCIyMFwiLHZpZXdCb3g6XCIwIDAgMjAgMjBcIixmaWxsOlwibm9uZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0sLyojX19QVVJFX18qL3kkNChcInBhdGhcIix7ZDpcIk0xMS43MTU3IDcuNTE2NjdMMTIuNDgyNCA4LjI4MzMzTDQuOTMyMzYgMTUuODMzM0g0LjE2NTY5VjE1LjA2NjdMMTEuNzE1NyA3LjUxNjY3Wk0xNC43MTU3IDIuNUMxNC41MDc0IDIuNSAxNC4yOTA3IDIuNTgzMzMgMTQuMTMyNCAyLjc0MTY3TDEyLjYwNzQgNC4yNjY2N0wxNS43MzI0IDcuMzkxNjdMMTcuMjU3NCA1Ljg2NjY3QzE3LjU4MjQgNS41NDE2NyAxNy41ODI0IDUuMDE2NjcgMTcuMjU3NCA0LjY5MTY3TDE1LjMwNzQgMi43NDE2N0MxNS4xNDA3IDIuNTc1IDE0LjkzMjQgMi41IDE0LjcxNTcgMi41Wk0xMS43MTU3IDUuMTU4MzNMMi40OTkwMiAxNC4zNzVWMTcuNUg1LjYyNDAyTDE0Ljg0MDcgOC4yODMzM0wxMS43MTU3IDUuMTU4MzNaXCIsZmlsbDpcIiMxOTMwM0RcIn0pKTt9O3ZhciBUcmFzaD1mdW5jdGlvbiBUcmFzaCgpe3JldHVybi8qI19fUFVSRV9fKi95JDQoXCJzdmdcIix7d2lkdGg6XCIyMFwiLGhlaWdodDpcIjIwXCIsdmlld0JveDpcIjAgMCAyMCAyMFwiLGZpbGw6XCJub25lXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifSwvKiNfX1BVUkVfXyoveSQ0KFwicGF0aFwiLHtkOlwiTTUuMDAwMDggMTUuODMzM0M1LjAwMDA4IDE2Ljc1IDUuNzUwMDggMTcuNSA2LjY2Njc1IDE3LjVIMTMuMzMzNEMxNC4yNTAxIDE3LjUgMTUuMDAwMSAxNi43NSAxNS4wMDAxIDE1LjgzMzNWNS44MzMzM0g1LjAwMDA4VjE1LjgzMzNaTTYuNjY2NzUgNy41SDEzLjMzMzRWMTUuODMzM0g2LjY2Njc1VjcuNVpNMTIuOTE2NyAzLjMzMzMzTDEyLjA4MzQgMi41SDcuOTE2NzVMNy4wODM0MSAzLjMzMzMzSDQuMTY2NzVWNUgxNS44MzM0VjMuMzMzMzNIMTIuOTE2N1pcIixmaWxsOlwiIzE5MzAzRFwifSkpO307dmFyIEljb25CdXR0b249ZnVuY3Rpb24gSWNvbkJ1dHRvbihwcm9wcyl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLHt0eXBlOlwiYnV0dG9uXCIsXCJkYXRhLXRlc3RpZFwiOidjbGlja2FibGUtZWRpdC1pY29uLScrcHJvcHMuaWQsdmFyaWFudDpcInRleHRcIixvbkNsaWNrOnByb3BzLm9uQ2xpY2t9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2p1c3RpZnlDb250ZW50OlwiY2VudGVyXCIsYWxpZ25JdGVtczpcImNlbnRlclwifSxwcm9wcy5pY29uKSk7fTt2YXIgQnV0dG9ucz1mdW5jdGlvbiBCdXR0b25zKHByb3BzKXtpZihwcm9wcy5pc0RlbGV0aW5nQW55fHxwcm9wcy5pc0VkaXRpbmdBbnkmJiFwcm9wcy5pc0VkaXRpbmcpcmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCk7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQod24uRnJhZ21lbnQsbnVsbCxwcm9wcy5pc0VkaXRpbmc/KC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbix7aWQ6J3NhdmUnK3Byb3BzLmlkLG9uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3Byb3BzLmhhbmRsZVN0b3BFZGl0aW5nKHByb3BzLm5hbWUpO30saWNvbjovKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChDaGVja21hcmssbnVsbCl9KSkpOigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEljb25CdXR0b24se2lkOidlZGl0Jytwcm9wcy5pZCxuYW1lOnByb3BzLm5hbWUsb25DbGljazpwcm9wcy5oYW5kbGVFZGl0aW5nLGljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGVuY2lsLG51bGwpfSkpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLHtpZDonZGVsZXRlJytwcm9wcy5pZCxvbkNsaWNrOnByb3BzLmhhbmRsZURlbGV0aW5nLGljb246LyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoVHJhc2gsbnVsbCl9KSk7fTt2YXIgUm93SW5wdXQ9SGUuaW5wdXQoX3RlbXBsYXRlT2JqZWN0NDd8fChfdGVtcGxhdGVPYmplY3Q0Nz1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBoZWlnaHQ6IDQ1cHg7XFxuICBwYWRkaW5nOiAwIDhweDtcXG4gIGNvbG9yOiBcIixcIjtcXG4gIGZvbnQtZmFtaWx5OiBcIixcIjtcXG4gIGZvbnQtc2l6ZTogMThweDtcXG4gIGJvcmRlcjogbm9uZTtcXG5cXG4gICY6ZGlzYWJsZWQge1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICB9XFxuICAmOmZvY3VzLXZpc2libGUge1xcbiAgICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNhZGJjYzU7XFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIH1cXG5cIl0pKSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5wcmltYXJ5O30sZnVuY3Rpb24ocHJvcHMpe3JldHVybiBwcm9wcy50aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHk7fSxmdW5jdGlvbihwcm9wcyl7cmV0dXJuIHByb3BzLnRoZW1lLmNvbG9ycy5kaXNhYmxlZFRleHQ7fSk7dmFyIEVkaXRhYmxlUm93PWZ1bmN0aW9uIEVkaXRhYmxlUm93KHByb3BzKXt2YXIgX2gkMTI1PWgkNShwcm9wcy5uYW1lKSxfaCQxMjY9X3NsaWNlZFRvQXJyYXkyKF9oJDEyNSwyKSxuYW1lPV9oJDEyNlswXSxzZXROYW1lPV9oJDEyNlsxXTt2YXIgaW5wdXRSZWY9XyQxKG51bGwpO3AkNihmdW5jdGlvbigpe3ZhciBfYTtpZihwcm9wcy5pc0VkaXRpbmdDdXJyKXsoX2E9aW5wdXRSZWYuY3VycmVudCk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuZm9jdXMoKTt9fSxbcHJvcHMuaXNFZGl0aW5nQ3Vycl0pO3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcInJvd1wiLGdhcDoyLGFsaWduSXRlbXM6XCJjZW50ZXJcIix3aWR0aDpcIjEwMCVcIn0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUm93SW5wdXQse3JlZjppbnB1dFJlZixkaXNhYmxlZDohcHJvcHMuaXNFZGl0aW5nQ3VyciYmIXByb3BzLmlzRGVsZXRpbmdDdXJyLHZhbHVlOm5hbWUsb25DaGFuZ2U6ZnVuY3Rpb24gb25DaGFuZ2UoZSl7cmV0dXJuIHNldE5hbWUoZS50YXJnZXQudmFsdWUpO30sXCJkYXRhLXRlc3RpZFwiOidlZGl0YWJsZS1yb3ctaW5wdXQtJytwcm9wcy5pZCxpZDpwcm9wcy5pZH0pLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbnMse2lkOnByb3BzLmlkLGlzRWRpdGluZzpwcm9wcy5pc0VkaXRpbmdDdXJyLGlzRWRpdGluZ0FueTpwcm9wcy5pc0VkaXRpbmdBbnksaXNEZWxldGluZ0FueTpwcm9wcy5pc0RlbGV0aW5nQW55LGhhbmRsZUVkaXRpbmc6cHJvcHMuaGFuZGxlRWRpdGluZyxoYW5kbGVTdG9wRWRpdGluZzpmdW5jdGlvbiBoYW5kbGVTdG9wRWRpdGluZygpe3Byb3BzLmhhbmRsZVN0b3BFZGl0aW5nKG5hbWUpO30saGFuZGxlRGVsZXRpbmc6cHJvcHMuaGFuZGxlRGVsZXRpbmcsbmFtZTpuYW1lfSkpO307dmFyIEhlYWRpbmdUZXh0PUhlKFRleHQpKF90ZW1wbGF0ZU9iamVjdDQ4fHwoX3RlbXBsYXRlT2JqZWN0NDg9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gICB7XFxuICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xcbiAgICBmb250LXNpemU6IDI0cHg7XFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxuICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xcbiAgICBsZXR0ZXItc3BhY2luZzogMGVtO1xcbiAgfVxcblwiXSkpKTt2YXIgU3ViSGVhZGluZ1RleHQ9SGUoVGV4dCkoX3RlbXBsYXRlT2JqZWN0NDl8fChfdGVtcGxhdGVPYmplY3Q0OT1fdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgIHtcXG4gICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XFxuICAgIGxldHRlci1zcGFjaW5nOiAwLjAzZW07XFxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB9XFxuXCJdKSkpO3ZhciBQYXNza2V5UmVnaXN0cmF0aW9uU3VjY2Vzcz1mdW5jdGlvbiBQYXNza2V5UmVnaXN0cmF0aW9uU3VjY2Vzcygpe3ZhciBzdHl0Y2hDbGllbnQ9dXNlU3R5dGNoKCk7dmFyIF9oJDEyNz1oJDUoW10pLF9oJDEyOD1fc2xpY2VkVG9BcnJheTIoX2gkMTI3LDIpLHdlYkF1dGhuUmVnaXN0cmF0aW9ucz1faCQxMjhbMF0sc2V0V2ViQXV0aG5SZWdpc3RyYXRpb25zPV9oJDEyOFsxXTt2YXIgX2gkMTI5PWgkNSgnJyksX2gkMTMwPV9zbGljZWRUb0FycmF5MihfaCQxMjksMiksY3VyckVkaXRpbmdSZWdJRD1faCQxMzBbMF0sc2V0Q3VyckVkaXRpbmdSZWdJRD1faCQxMzBbMV07dmFyIF9oJDEzMT1oJDUoJycpLF9oJDEzMj1fc2xpY2VkVG9BcnJheTIoX2gkMTMxLDIpLGN1cnJEZWxldGluZ1JlZ0lEPV9oJDEzMlswXSxzZXRDdXJyRGVsZXRpbmdSZWdJRD1faCQxMzJbMV07dmFyIG9uRXZlbnQ9dXNlRXZlbnRDYWxsYmFjaygpO3ZhciBfdXNlR2xvYmFsUmVkdWNlcjU1PXVzZUdsb2JhbFJlZHVjZXIoKSxfdXNlR2xvYmFsUmVkdWNlcjU2PV9zbGljZWRUb0FycmF5MihfdXNlR2xvYmFsUmVkdWNlcjU1LDIpLGRpc3BhdGNoPV91c2VHbG9iYWxSZWR1Y2VyNTZbMV07cCQ2KGZ1bmN0aW9uKCl7c3R5dGNoQ2xpZW50LnVzZXIuZ2V0KCkudGhlbihmdW5jdGlvbih1c2VyKXtpZighdXNlcil7Y29uc29sZS5sb2coJ1VzZXIgaXMgbnVsbCwgd2Ugc2hvdWxkIG5ldmVyIGdldCB0byB0aGlzIHNjcmVlbiBpbiBhIG5vbi1sb2dnZWQgaW4gc3RhdGUuJyk7cmV0dXJuO31zZXRXZWJBdXRoblJlZ2lzdHJhdGlvbnModXNlci53ZWJhdXRobl9yZWdpc3RyYXRpb25zKTt9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUpO30pO30sW3N0eXRjaENsaWVudC51c2VyXSk7dmFyIG9uU2V0VXBBTmV3UGFzc2tleT1mdW5jdGlvbiBvblNldFVwQU5ld1Bhc3NrZXkoKXtkaXNwYXRjaCh7dHlwZTondHJhbnNpdGlvbicsc2NyZWVuOkFwcFNjcmVlbnMkMS5QYXNza2V5UmVnaXN0cmF0aW9uU3RhcnR9KTt9O3ZhciBvbkRvbmU9ZnVuY3Rpb24gb25Eb25lKCl7b25FdmVudCh7dHlwZTpTdHl0Y2hFdmVudFR5cGUuUGFzc2tleURvbmUsZGF0YTp7fX0pO307dmFyIGRlbGV0ZVJlZz1mdW5jdGlvbiBkZWxldGVSZWcoaWQpe3N0eXRjaENsaWVudC51c2VyLmRlbGV0ZVdlYmF1dGhuUmVnaXN0cmF0aW9uKGlkKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGVycm9yKXtjb25zb2xlLmxvZyhlcnJvcik7fSk7c2V0V2ViQXV0aG5SZWdpc3RyYXRpb25zKGZ1bmN0aW9uKHByZXZSZWdpc3RyYXRpb25zKXtyZXR1cm4gcHJldlJlZ2lzdHJhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKHdyKXtyZXR1cm4gd3Iud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkIT09aWQ7fSk7fSk7c2V0Q3VyckRlbGV0aW5nUmVnSUQoJycpO307dmFyIHVwZGF0ZVJlZz1mdW5jdGlvbiB1cGRhdGVSZWcoaWQsbmFtZSl7c3R5dGNoQ2xpZW50LndlYmF1dGhuLnVwZGF0ZSh7d2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkOmlkLG5hbWU6bmFtZX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZXJyb3Ipe2NvbnNvbGUubG9nKGVycm9yKTt9KTtzZXRXZWJBdXRoblJlZ2lzdHJhdGlvbnMoZnVuY3Rpb24ocHJldlJlZ2lzdHJhdGlvbnMpe3JldHVybiBwcmV2UmVnaXN0cmF0aW9ucy5tYXAoZnVuY3Rpb24od3Ipe2lmKHdyLndlYmF1dGhuX3JlZ2lzdHJhdGlvbl9pZD09PWlkKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHdyKSx7bmFtZTpuYW1lfSk7fWVsc2V7cmV0dXJuIHdyO319KTt9KTt9O3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoxOCxtYXJnaW5Ub3A6MTIsbWFyZ2luTGVmdDo2LjUsbWFyZ2luUmlnaHQ6Ni41fSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChIZWFkaW5nVGV4dCx7c2l6ZTpcImhlYWRlclwifSxcIlBhc3NrZXkgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQhXCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZsZXgse2RpcmVjdGlvbjpcImNvbHVtblwiLGdhcDoyMH0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIscGFkZGluZzoyMCxnYXA6MjAsYWxpZ25JdGVtczpcImNlbnRlclwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNza2V5QWRkZWRTdmcsbnVsbCksLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQWxlcnRCb3gse3ZhcmlhbnQ6XCJlcnJvclwifSksd2ViQXV0aG5SZWdpc3RyYXRpb25zJiZ3ZWJBdXRoblJlZ2lzdHJhdGlvbnMubGVuZ3RoPjAmJigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtcImFsaWduLWl0ZW1zXCI6XCJsZWZ0XCIsZGlyZWN0aW9uOlwiY29sdW1uXCIsd2lkdGg6XCIxMDAlXCIsZ2FwOjh9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1YkhlYWRpbmdUZXh0LG51bGwsXCJFeGlzdGluZyBQYXNza2V5c1wiKSx3ZWJBdXRoblJlZ2lzdHJhdGlvbnMubWFwKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbixpZHgpe3JldHVybi8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmxleCx7ZGlyZWN0aW9uOlwicm93XCIsZ2FwOjgsYWxpZ25JdGVtczpcImNlbnRlclwiLGtleTppZHh9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEVkaXRhYmxlUm93LHtpZDpyZWdpc3RyYXRpb24ud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkLG5hbWU6cmVnaXN0cmF0aW9uLm5hbWUsaXNFZGl0aW5nQ3VycjpyZWdpc3RyYXRpb24ud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkPT09Y3VyckVkaXRpbmdSZWdJRCxpc0VkaXRpbmdBbnk6Y3VyckVkaXRpbmdSZWdJRCE9PScnLGlzRGVsZXRpbmdDdXJyOnJlZ2lzdHJhdGlvbi53ZWJhdXRobl9yZWdpc3RyYXRpb25faWQ9PT1jdXJyRGVsZXRpbmdSZWdJRCxpc0RlbGV0aW5nQW55OmN1cnJEZWxldGluZ1JlZ0lEIT09JycsaGFuZGxlRWRpdGluZzpmdW5jdGlvbiBoYW5kbGVFZGl0aW5nKCl7c2V0Q3VyckVkaXRpbmdSZWdJRChyZWdpc3RyYXRpb24ud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkKTt9LGhhbmRsZVN0b3BFZGl0aW5nOmZ1bmN0aW9uIGhhbmRsZVN0b3BFZGl0aW5nKG5hbWUpe3VwZGF0ZVJlZyhyZWdpc3RyYXRpb24ud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkLG5hbWUpO3NldEN1cnJFZGl0aW5nUmVnSUQoJycpO30saGFuZGxlRGVsZXRpbmc6ZnVuY3Rpb24gaGFuZGxlRGVsZXRpbmcoKXtzZXRDdXJyRGVsZXRpbmdSZWdJRChyZWdpc3RyYXRpb24ud2ViYXV0aG5fcmVnaXN0cmF0aW9uX2lkKTtkaXNwYXRjaCh7dHlwZTonc2V0X2Vycm9yX21lc3NhZ2UnLGVycm9yTWVzc2FnZTonT25jZSBkZWxldGVkLCB0aGUgcGFzc2tleSBjYW5ub3QgYmUgcmVzdG9yZWQuJ30pO30sa2V5OnJlZ2lzdHJhdGlvbi53ZWJhdXRobl9yZWdpc3RyYXRpb25faWR9KSkpO30pKSkpKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGbGV4LHtkaXJlY3Rpb246XCJjb2x1bW5cIixnYXA6MTJ9LGN1cnJEZWxldGluZ1JlZ0lEIT09Jyc/KC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KHduLkZyYWdtZW50LG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQnV0dG9uLHt0eXBlOlwiYnV0dG9uXCIsdmFyaWFudDpcIm91dGxpbmVkXCIsb25DbGljazpmdW5jdGlvbiBvbkNsaWNrKCl7ZGlzcGF0Y2goe3R5cGU6J2NsZWFyX2Vycm9yX21lc3NhZ2UnfSk7ZGVsZXRlUmVnKGN1cnJEZWxldGluZ1JlZ0lEKTt9fSxcIkRlbGV0ZVwiKSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChCdXR0b24se3R5cGU6XCJidXR0b25cIix2YXJpYW50OlwidGV4dFwiLG9uQ2xpY2s6ZnVuY3Rpb24gb25DbGljaygpe3NldEN1cnJEZWxldGluZ1JlZ0lEKCcnKTt9fSxcIkNhbmNlbFwiKSkpOigvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudCh3bi5GcmFnbWVudCxudWxsLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbix7dHlwZTpcImJ1dHRvblwiLGRpc2FibGVkOmN1cnJFZGl0aW5nUmVnSUQhPT0nJyxvbkNsaWNrOm9uU2V0VXBBTmV3UGFzc2tleX0sXCJTZXQgdXAgYW5vdGhlciBQYXNza2V5XCIpLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEJ1dHRvbix7dHlwZTpcImJ1dHRvblwiLHZhcmlhbnQ6XCJ0ZXh0XCIsZGlzYWJsZWQ6Y3VyckVkaXRpbmdSZWdJRCE9PScnLG9uQ2xpY2s6b25Eb25lfSxcIkRvbmVcIikpKSkpO307dmFyIFBhc3NrZXlDb25maXJtYXRpb249ZnVuY3Rpb24gUGFzc2tleUNvbmZpcm1hdGlvbigpe3JldHVybi8qI19fUFVSRV9fKi95JDQoRmxleCx7ZGlyZWN0aW9uOlwiY29sdW1uXCIsZ2FwOjI0fSwvKiNfX1BVUkVfXyoveSQ0KFRleHQse3NpemU6XCJoZWFkZXJcIn0sXCJTdWNjZXNzXCIpLC8qI19fUFVSRV9fKi95JDQoVGV4dCxudWxsLFwiWW91ciBQYXNza2V5IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhdXRoZW50aWNhdGVkLlwiKSwvKiNfX1BVUkVfXyoveSQ0KFwiZGl2XCIse3N0eWxlOntkaXNwbGF5OidibG9jaycsbWFyZ2luTGVmdDonYXV0bycsbWFyZ2luUmlnaHQ6J2F1dG8nLHdpZHRoOic1MCUnfX0sLyojX19QVVJFX18qL3kkNChDb25maXJtYXRpb25TVkcsbnVsbCkpKTt9O3ZhciBNYWluQ29udGFpbmVyPUhlLmRpdihfdGVtcGxhdGVPYmplY3Q1MHx8KF90ZW1wbGF0ZU9iamVjdDUwPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICB3aWR0aDogXCIsXCI7XFxuICBmb250LWZhbWlseTogXCIsXCI7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgKiB7XFxuICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgfVxcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICBib3JkZXI6IFwiLFwiO1xcbiAgYm9yZGVyLXJhZGl1czogXCIsXCI7XFxuXCJdKSksZnVuY3Rpb24oX3JlZjEwNil7dmFyIHRoZW1lPV9yZWYxMDYudGhlbWU7cmV0dXJuIHRoZW1lLmNvbnRhaW5lci53aWR0aDt9LGZ1bmN0aW9uKF9yZWYxMDcpe3ZhciB0aGVtZT1fcmVmMTA3LnRoZW1lO3JldHVybiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHk7fSxmdW5jdGlvbihfcmVmMTA4KXt2YXIgdGhlbWU9X3JlZjEwOC50aGVtZTtyZXR1cm4gdGhlbWUuY29udGFpbmVyLmJhY2tncm91bmRDb2xvcjt9LGZ1bmN0aW9uKF9yZWYxMDkpe3ZhciB0aGVtZT1fcmVmMTA5LnRoZW1lO3JldHVybiB0aGVtZS5jb250YWluZXIuYm9yZGVyO30sZnVuY3Rpb24oX3JlZjExMCl7dmFyIHRoZW1lPV9yZWYxMTAudGhlbWU7cmV0dXJuIHRoZW1lLmNvbnRhaW5lci5ib3JkZXJSYWRpdXM7fSk7dmFyIENoaWxkcmVuQ29udGFpbmVyPUhlLmRpdihfdGVtcGxhdGVPYmplY3Q1MXx8KF90ZW1wbGF0ZU9iamVjdDUxPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBwYWRkaW5nOiAyNHB4IDMycHg7XFxuXCJdKSkpO3ZhciBXYXRlcm1hcmtDb250YWluZXI9SGUuZGl2KF90ZW1wbGF0ZU9iamVjdDUyfHwoX3RlbXBsYXRlT2JqZWN0NTI9X3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IFwiLFwiO1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IFwiLFwiO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE5MzAzZDtcXG4gIG9wYWNpdHk6IDUwJTtcXG4gIHBhZGRpbmc6IDRweCAwcHggMHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcblwiXSkpLGZ1bmN0aW9uKF9yZWYxMTEpe3ZhciB0aGVtZT1fcmVmMTExLnRoZW1lO3JldHVybiB0aGVtZS5jb250YWluZXIuYm9yZGVyUmFkaXVzO30sZnVuY3Rpb24oX3JlZjExMil7dmFyIHRoZW1lPV9yZWYxMTIudGhlbWU7cmV0dXJuIHRoZW1lLmNvbnRhaW5lci5ib3JkZXJSYWRpdXM7fSk7dmFyIEltYWdlPUhlLmltZyhfdGVtcGxhdGVPYmplY3Q1M3x8KF90ZW1wbGF0ZU9iamVjdDUzPV90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICB3aWR0aDogMTUwcHg7XFxuXCJdKSkpO3ZhciBQT1dFUkVEX0JZX1NUWVRDSF9JTUdfVVJMPSdodHRwczovL3B1YmxpYy1hc3NldHMuc3R5dGNoLmNvbS9ldF9wb3dlcmVkX2J5X3N0eXRjaF9sb2dvLnBuZyc7dmFyIEFwcENvbnRhaW5lciQxPWZ1bmN0aW9uIEFwcENvbnRhaW5lciQxKCl7dmFyIF9TY3JlZW5Db21wb25lbnRNYXA7dmFyIF91c2VHbG9iYWxSZWR1Y2VyNTc9dXNlR2xvYmFsUmVkdWNlcigpLF91c2VHbG9iYWxSZWR1Y2VyNTg9X3NsaWNlZFRvQXJyYXkyKF91c2VHbG9iYWxSZWR1Y2VyNTcsMSksc3RhdGU9X3VzZUdsb2JhbFJlZHVjZXI1OFswXTt2YXIgX1plMj1aZSgpLGRpc3BsYXlXYXRlcm1hcms9X1plMi5kaXNwbGF5V2F0ZXJtYXJrO3ZhciBpc09ubHlGbG9hdGluZ09uZVRhcD11c2VJc09ubHlGbG9hdGluZ09uZVRhcCgpO3ZhciBjdXJyZW50U2NyZWVuPXN0YXRlLnNjcmVlbjt2YXIgU2NyZWVuQ29tcG9uZW50TWFwPShfU2NyZWVuQ29tcG9uZW50TWFwPXt9LF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfU2NyZWVuQ29tcG9uZW50TWFwLEFwcFNjcmVlbnMkMS5NYWluLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE1haW5TY3JlZW4sbnVsbCkpLEFwcFNjcmVlbnMkMS5QYXNza2V5UmVnaXN0cmF0aW9uU3RhcnQsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc2tleVJlZ2lzdHJhdGlvblN0YXJ0LG51bGwpKSxBcHBTY3JlZW5zJDEuUGFzc2tleVJlZ2lzdHJhdGlvblN1Y2Nlc3MsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc2tleVJlZ2lzdHJhdGlvblN1Y2Nlc3MsbnVsbCkpLEFwcFNjcmVlbnMkMS5QYXNza2V5Q29uZmlybWF0aW9uLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3NrZXlDb25maXJtYXRpb24sbnVsbCkpLEFwcFNjcmVlbnMkMS5QYXNzd29yZFJlc2V0Rm9ybSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChSZXNldFBhc3N3b3JkU2NyZWVuLG51bGwpKSxBcHBTY3JlZW5zJDEuUGFzc3dvcmRDcmVhdGVPckxvZ2luLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkLG51bGwpKSxBcHBTY3JlZW5zJDEuUGFzc3dvcmRGb3Jnb3QsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoUGFzc3dvcmRGb3Jnb3QsbnVsbCkpLEFwcFNjcmVlbnMkMS5QYXNzd29yZEJyZWFjaGVkLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkQnJlYWNoZWQsbnVsbCkpLEFwcFNjcmVlbnMkMS5QYXNzd29yZFNldE5ldywvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChQYXNzd29yZFNldE5ldyxudWxsKSksQXBwU2NyZWVucyQxLlBhc3N3b3JkRGVkdXBlLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFBhc3N3b3JkRGVkdXBlLG51bGwpKSxfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX1NjcmVlbkNvbXBvbmVudE1hcCxBcHBTY3JlZW5zJDEuUGFzc3dvcmRDb25maXJtYXRpb24sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29uZmlybWF0aW9uU2NyZWVuLG51bGwpKSxBcHBTY3JlZW5zJDEuRW1haWxDb25maXJtYXRpb24sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRW1haWxDb25maXJtYXRpb24sbnVsbCkpLEFwcFNjcmVlbnMkMS5PVFBBdXRoZW50aWNhdGUsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT1RQQXV0aGVudGljYXRlLG51bGwpKSxBcHBTY3JlZW5zJDEuT1RQQ29uZmlybWF0aW9uLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KE9UUENvbmZpcm1hdGlvbixudWxsKSksQXBwU2NyZWVucyQxLkNyeXB0b0Nvbm5lY3QsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQ29ubmVjdFdhbGxldCxudWxsKSksQXBwU2NyZWVucyQxLkNyeXB0b1NpZ25NZXNzYWdlLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFNpZ25NZXNzYWdlLG51bGwpKSxBcHBTY3JlZW5zJDEuQ3J5cHRvT3RoZXJTY3JlZW4sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoT3RoZXJDcnlwdG9XYWxsZXRzLG51bGwpKSxBcHBTY3JlZW5zJDEuQ3J5cHRvU2V0dXBXYWxsZXQsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoU2V0dXBOZXdXYWxsZXQsbnVsbCkpLEFwcFNjcmVlbnMkMS5DcnlwdG9FcnJvciwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChFcnJvciQxLG51bGwpKSxBcHBTY3JlZW5zJDEuQ3J5cHRvQ29uZmlybWF0aW9uLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFN1Y2Nlc3MsbnVsbCkpKTtpZihpc09ubHlGbG9hdGluZ09uZVRhcCl7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR29vZ2xlT25lVGFwLHtwb3NpdGlvbjpPbmVUYXBQb3NpdGlvbnMuZmxvYXRpbmd9KTt9cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoTWFpbkNvbnRhaW5lcixudWxsLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KENoaWxkcmVuQ29udGFpbmVyLG51bGwsU2NyZWVuQ29tcG9uZW50TWFwW2N1cnJlbnRTY3JlZW5dLC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KFNuYWNrYmFyLG51bGwpKSxkaXNwbGF5V2F0ZXJtYXJrJiYoLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoV2F0ZXJtYXJrQ29udGFpbmVyLG51bGwsLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoXCJhXCIse2hyZWY6XCJodHRwczovL3N0eXRjaC5jb20vXCIsdGFyZ2V0OlwiX2JsYW5rXCIscmVsOlwibm9yZWZlcnJlclwifSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChJbWFnZSx7YWx0OlwiUG93ZXJlZCBieSBTdHl0Y2hcIixzcmM6UE9XRVJFRF9CWV9TVFlUQ0hfSU1HX1VSTH0pKSkpKTt9O3ZhciBsb2Rhc2hfbWVyZ2U9e2V4cG9ydHM6e319O2xvZGFzaF9tZXJnZS5leHBvcnRzOyhmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIExBUkdFX0FSUkFZX1NJWkU9MjAwO3ZhciBIQVNIX1VOREVGSU5FRD0nX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7dmFyIEhPVF9DT1VOVD04MDAsSE9UX1NQQU49MTY7dmFyIE1BWF9TQUZFX0lOVEVHRVI9OTAwNzE5OTI1NDc0MDk5MTt2YXIgYXJnc1RhZz0nW29iamVjdCBBcmd1bWVudHNdJyxhcnJheVRhZz0nW29iamVjdCBBcnJheV0nLGFzeW5jVGFnPSdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxib29sVGFnPSdbb2JqZWN0IEJvb2xlYW5dJyxkYXRlVGFnPSdbb2JqZWN0IERhdGVdJyxlcnJvclRhZz0nW29iamVjdCBFcnJvcl0nLGZ1bmNUYWc9J1tvYmplY3QgRnVuY3Rpb25dJyxnZW5UYWc9J1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxtYXBUYWc9J1tvYmplY3QgTWFwXScsbnVtYmVyVGFnPSdbb2JqZWN0IE51bWJlcl0nLG51bGxUYWc9J1tvYmplY3QgTnVsbF0nLG9iamVjdFRhZz0nW29iamVjdCBPYmplY3RdJyxwcm94eVRhZz0nW29iamVjdCBQcm94eV0nLHJlZ2V4cFRhZz0nW29iamVjdCBSZWdFeHBdJyxzZXRUYWc9J1tvYmplY3QgU2V0XScsc3RyaW5nVGFnPSdbb2JqZWN0IFN0cmluZ10nLHVuZGVmaW5lZFRhZz0nW29iamVjdCBVbmRlZmluZWRdJyx3ZWFrTWFwVGFnPSdbb2JqZWN0IFdlYWtNYXBdJzt2YXIgYXJyYXlCdWZmZXJUYWc9J1tvYmplY3QgQXJyYXlCdWZmZXJdJyxkYXRhVmlld1RhZz0nW29iamVjdCBEYXRhVmlld10nLGZsb2F0MzJUYWc9J1tvYmplY3QgRmxvYXQzMkFycmF5XScsZmxvYXQ2NFRhZz0nW29iamVjdCBGbG9hdDY0QXJyYXldJyxpbnQ4VGFnPSdbb2JqZWN0IEludDhBcnJheV0nLGludDE2VGFnPSdbb2JqZWN0IEludDE2QXJyYXldJyxpbnQzMlRhZz0nW29iamVjdCBJbnQzMkFycmF5XScsdWludDhUYWc9J1tvYmplY3QgVWludDhBcnJheV0nLHVpbnQ4Q2xhbXBlZFRhZz0nW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLHVpbnQxNlRhZz0nW29iamVjdCBVaW50MTZBcnJheV0nLHVpbnQzMlRhZz0nW29iamVjdCBVaW50MzJBcnJheV0nO3ZhciByZVJlZ0V4cENoYXI9L1tcXFxcXiQuKis/KClbXFxde318XS9nO3ZhciByZUlzSG9zdEN0b3I9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLzt2YXIgcmVJc1VpbnQ9L14oPzowfFsxLTldXFxkKikkLzt2YXIgdHlwZWRBcnJheVRhZ3M9e307dHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ109dHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ109dHlwZWRBcnJheVRhZ3NbaW50OFRhZ109dHlwZWRBcnJheVRhZ3NbaW50MTZUYWddPXR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXT10eXBlZEFycmF5VGFnc1t1aW50OFRhZ109dHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXT10eXBlZEFycmF5VGFnc1t1aW50MTZUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ109dHJ1ZTt0eXBlZEFycmF5VGFnc1thcmdzVGFnXT10eXBlZEFycmF5VGFnc1thcnJheVRhZ109dHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddPXR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddPXR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXT10eXBlZEFycmF5VGFnc1tkYXRlVGFnXT10eXBlZEFycmF5VGFnc1tlcnJvclRhZ109dHlwZWRBcnJheVRhZ3NbZnVuY1RhZ109dHlwZWRBcnJheVRhZ3NbbWFwVGFnXT10eXBlZEFycmF5VGFnc1tudW1iZXJUYWddPXR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ109dHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXT10eXBlZEFycmF5VGFnc1tzZXRUYWddPXR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ109dHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ109ZmFsc2U7dmFyIGZyZWVHbG9iYWw9X3R5cGVvZjIoY29tbW9uanNHbG9iYWwpPT0nb2JqZWN0JyYmY29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLk9iamVjdD09PU9iamVjdCYmY29tbW9uanNHbG9iYWw7dmFyIGZyZWVTZWxmPSh0eXBlb2Ygc2VsZj09PVwidW5kZWZpbmVkXCI/XCJ1bmRlZmluZWRcIjpfdHlwZW9mMihzZWxmKSk9PSdvYmplY3QnJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZjt2YXIgcm9vdD1mcmVlR2xvYmFsfHxmcmVlU2VsZnx8RnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTt2YXIgZnJlZUV4cG9ydHM9ZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHM7dmFyIGZyZWVNb2R1bGU9ZnJlZUV4cG9ydHMmJidvYmplY3QnPT0nb2JqZWN0JyYmbW9kdWxlJiYhbW9kdWxlLm5vZGVUeXBlJiZtb2R1bGU7dmFyIG1vZHVsZUV4cG9ydHM9ZnJlZU1vZHVsZSYmZnJlZU1vZHVsZS5leHBvcnRzPT09ZnJlZUV4cG9ydHM7dmFyIGZyZWVQcm9jZXNzPW1vZHVsZUV4cG9ydHMmJmZyZWVHbG9iYWwucHJvY2Vzczt2YXIgbm9kZVV0aWw9ZnVuY3Rpb24oKXt0cnl7dmFyIHR5cGVzPWZyZWVNb2R1bGUmJmZyZWVNb2R1bGUucmVxdWlyZSYmZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7aWYodHlwZXMpe3JldHVybiB0eXBlczt9cmV0dXJuIGZyZWVQcm9jZXNzJiZmcmVlUHJvY2Vzcy5iaW5kaW5nJiZmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7fWNhdGNoKGUpe319KCk7dmFyIG5vZGVJc1R5cGVkQXJyYXk9bm9kZVV0aWwmJm5vZGVVdGlsLmlzVHlwZWRBcnJheTtmdW5jdGlvbiBhcHBseShmdW5jLHRoaXNBcmcsYXJncyl7c3dpdGNoKGFyZ3MubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtjYXNlIDE6cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLGFyZ3NbMF0pO2Nhc2UgMjpyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsYXJnc1swXSxhcmdzWzFdKTtjYXNlIDM6cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLGFyZ3NbMF0sYXJnc1sxXSxhcmdzWzJdKTt9cmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZyxhcmdzKTt9ZnVuY3Rpb24gYmFzZVRpbWVzKG4saXRlcmF0ZWUpe3ZhciBpbmRleD0tMSxyZXN1bHQ9QXJyYXkobik7d2hpbGUoKytpbmRleDxuKXtyZXN1bHRbaW5kZXhdPWl0ZXJhdGVlKGluZGV4KTt9cmV0dXJuIHJlc3VsdDt9ZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGZ1bmModmFsdWUpO307fWZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCxrZXkpe3JldHVybiBvYmplY3Q9PW51bGw/dW5kZWZpbmVkOm9iamVjdFtrZXldO31mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsdHJhbnNmb3JtKXtyZXR1cm4gZnVuY3Rpb24oYXJnKXtyZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7fTt9dmFyIGFycmF5UHJvdG89QXJyYXkucHJvdG90eXBlLGZ1bmNQcm90bz1GdW5jdGlvbi5wcm90b3R5cGUsb2JqZWN0UHJvdG89T2JqZWN0LnByb3RvdHlwZTt2YXIgY29yZUpzRGF0YT1yb290WydfX2NvcmUtanNfc2hhcmVkX18nXTt2YXIgZnVuY1RvU3RyaW5nPWZ1bmNQcm90by50b1N0cmluZzt2YXIgaGFzT3duUHJvcGVydHk9b2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7dmFyIG1hc2tTcmNLZXk9ZnVuY3Rpb24oKXt2YXIgdWlkPS9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSYmY29yZUpzRGF0YS5rZXlzJiZjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE98fCcnKTtyZXR1cm4gdWlkPydTeW1ib2woc3JjKV8xLicrdWlkOicnO30oKTt2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmc9b2JqZWN0UHJvdG8udG9TdHJpbmc7dmFyIG9iamVjdEN0b3JTdHJpbmc9ZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTt2YXIgcmVJc05hdGl2ZT1SZWdFeHAoJ14nK2Z1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwnXFxcXCQmJykucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywnJDEuKj8nKSsnJCcpO3ZhciBCdWZmZXI9bW9kdWxlRXhwb3J0cz9yb290LkJ1ZmZlcjp1bmRlZmluZWQsX1N5bWJvbD1yb290LlN5bWJvbCxVaW50OEFycmF5PXJvb3QuVWludDhBcnJheTtCdWZmZXI/QnVmZmVyLmFsbG9jVW5zYWZlOnVuZGVmaW5lZDt2YXIgZ2V0UHJvdG90eXBlPW92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCksb2JqZWN0Q3JlYXRlPU9iamVjdC5jcmVhdGUscHJvcGVydHlJc0VudW1lcmFibGU9b2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsc3BsaWNlPWFycmF5UHJvdG8uc3BsaWNlLHN5bVRvU3RyaW5nVGFnPV9TeW1ib2w/X1N5bWJvbC50b1N0cmluZ1RhZzp1bmRlZmluZWQ7dmFyIGRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKCl7dHJ5e3ZhciBmdW5jPWdldE5hdGl2ZShPYmplY3QsJ2RlZmluZVByb3BlcnR5Jyk7ZnVuYyh7fSwnJyx7fSk7cmV0dXJuIGZ1bmM7fWNhdGNoKGUpe319KCk7dmFyIG5hdGl2ZUlzQnVmZmVyPUJ1ZmZlcj9CdWZmZXIuaXNCdWZmZXI6dW5kZWZpbmVkLG5hdGl2ZU1heD1NYXRoLm1heCxuYXRpdmVOb3c9RGF0ZS5ub3c7dmFyIE1hcD1nZXROYXRpdmUocm9vdCwnTWFwJyksbmF0aXZlQ3JlYXRlPWdldE5hdGl2ZShPYmplY3QsJ2NyZWF0ZScpO3ZhciBiYXNlQ3JlYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gb2JqZWN0KCl7fXJldHVybiBmdW5jdGlvbihwcm90byl7aWYoIWlzT2JqZWN0KHByb3RvKSl7cmV0dXJue307fWlmKG9iamVjdENyZWF0ZSl7cmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7fW9iamVjdC5wcm90b3R5cGU9cHJvdG87dmFyIHJlc3VsdD1uZXcgb2JqZWN0KCk7b2JqZWN0LnByb3RvdHlwZT11bmRlZmluZWQ7cmV0dXJuIHJlc3VsdDt9O30oKTtmdW5jdGlvbiBIYXNoKGVudHJpZXMpe3ZhciBpbmRleD0tMSxsZW5ndGg9ZW50cmllcz09bnVsbD8wOmVudHJpZXMubGVuZ3RoO3RoaXMuY2xlYXIoKTt3aGlsZSgrK2luZGV4PGxlbmd0aCl7dmFyIGVudHJ5PWVudHJpZXNbaW5kZXhdO3RoaXMuc2V0KGVudHJ5WzBdLGVudHJ5WzFdKTt9fWZ1bmN0aW9uIGhhc2hDbGVhcigpe3RoaXMuX19kYXRhX189bmF0aXZlQ3JlYXRlP25hdGl2ZUNyZWF0ZShudWxsKTp7fTt0aGlzLnNpemU9MDt9ZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpe3ZhciByZXN1bHQ9dGhpcy5oYXMoa2V5KSYmZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTt0aGlzLnNpemUtPXJlc3VsdD8xOjA7cmV0dXJuIHJlc3VsdDt9ZnVuY3Rpb24gaGFzaEdldChrZXkpe3ZhciBkYXRhPXRoaXMuX19kYXRhX187aWYobmF0aXZlQ3JlYXRlKXt2YXIgcmVzdWx0PWRhdGFba2V5XTtyZXR1cm4gcmVzdWx0PT09SEFTSF9VTkRFRklORUQ/dW5kZWZpbmVkOnJlc3VsdDt9cmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSxrZXkpP2RhdGFba2V5XTp1bmRlZmluZWQ7fWZ1bmN0aW9uIGhhc2hIYXMoa2V5KXt2YXIgZGF0YT10aGlzLl9fZGF0YV9fO3JldHVybiBuYXRpdmVDcmVhdGU/ZGF0YVtrZXldIT09dW5kZWZpbmVkOmhhc093blByb3BlcnR5LmNhbGwoZGF0YSxrZXkpO31mdW5jdGlvbiBoYXNoU2V0KGtleSx2YWx1ZSl7dmFyIGRhdGE9dGhpcy5fX2RhdGFfXzt0aGlzLnNpemUrPXRoaXMuaGFzKGtleSk/MDoxO2RhdGFba2V5XT1uYXRpdmVDcmVhdGUmJnZhbHVlPT09dW5kZWZpbmVkP0hBU0hfVU5ERUZJTkVEOnZhbHVlO3JldHVybiB0aGlzO31IYXNoLnByb3RvdHlwZS5jbGVhcj1oYXNoQ2xlYXI7SGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddPWhhc2hEZWxldGU7SGFzaC5wcm90b3R5cGUuZ2V0PWhhc2hHZXQ7SGFzaC5wcm90b3R5cGUuaGFzPWhhc2hIYXM7SGFzaC5wcm90b3R5cGUuc2V0PWhhc2hTZXQ7ZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpe3ZhciBpbmRleD0tMSxsZW5ndGg9ZW50cmllcz09bnVsbD8wOmVudHJpZXMubGVuZ3RoO3RoaXMuY2xlYXIoKTt3aGlsZSgrK2luZGV4PGxlbmd0aCl7dmFyIGVudHJ5PWVudHJpZXNbaW5kZXhdO3RoaXMuc2V0KGVudHJ5WzBdLGVudHJ5WzFdKTt9fWZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCl7dGhpcy5fX2RhdGFfXz1bXTt0aGlzLnNpemU9MDt9ZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSl7dmFyIGRhdGE9dGhpcy5fX2RhdGFfXyxpbmRleD1hc3NvY0luZGV4T2YoZGF0YSxrZXkpO2lmKGluZGV4PDApe3JldHVybiBmYWxzZTt9dmFyIGxhc3RJbmRleD1kYXRhLmxlbmd0aC0xO2lmKGluZGV4PT1sYXN0SW5kZXgpe2RhdGEucG9wKCk7fWVsc2V7c3BsaWNlLmNhbGwoZGF0YSxpbmRleCwxKTt9LS10aGlzLnNpemU7cmV0dXJuIHRydWU7fWZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpe3ZhciBkYXRhPXRoaXMuX19kYXRhX18saW5kZXg9YXNzb2NJbmRleE9mKGRhdGEsa2V5KTtyZXR1cm4gaW5kZXg8MD91bmRlZmluZWQ6ZGF0YVtpbmRleF1bMV07fWZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpe3JldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXyxrZXkpPi0xO31mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LHZhbHVlKXt2YXIgZGF0YT10aGlzLl9fZGF0YV9fLGluZGV4PWFzc29jSW5kZXhPZihkYXRhLGtleSk7aWYoaW5kZXg8MCl7Kyt0aGlzLnNpemU7ZGF0YS5wdXNoKFtrZXksdmFsdWVdKTt9ZWxzZXtkYXRhW2luZGV4XVsxXT12YWx1ZTt9cmV0dXJuIHRoaXM7fUxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXI9bGlzdENhY2hlQ2xlYXI7TGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ109bGlzdENhY2hlRGVsZXRlO0xpc3RDYWNoZS5wcm90b3R5cGUuZ2V0PWxpc3RDYWNoZUdldDtMaXN0Q2FjaGUucHJvdG90eXBlLmhhcz1saXN0Q2FjaGVIYXM7TGlzdENhY2hlLnByb3RvdHlwZS5zZXQ9bGlzdENhY2hlU2V0O2Z1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpe3ZhciBpbmRleD0tMSxsZW5ndGg9ZW50cmllcz09bnVsbD8wOmVudHJpZXMubGVuZ3RoO3RoaXMuY2xlYXIoKTt3aGlsZSgrK2luZGV4PGxlbmd0aCl7dmFyIGVudHJ5PWVudHJpZXNbaW5kZXhdO3RoaXMuc2V0KGVudHJ5WzBdLGVudHJ5WzFdKTt9fWZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKXt0aGlzLnNpemU9MDt0aGlzLl9fZGF0YV9fPXsnaGFzaCc6bmV3IEhhc2goKSwnbWFwJzpuZXcoTWFwfHxMaXN0Q2FjaGUpKCksJ3N0cmluZyc6bmV3IEhhc2goKX07fWZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSl7dmFyIHJlc3VsdD1nZXRNYXBEYXRhKHRoaXMsa2V5KVsnZGVsZXRlJ10oa2V5KTt0aGlzLnNpemUtPXJlc3VsdD8xOjA7cmV0dXJuIHJlc3VsdDt9ZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KXtyZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLGtleSkuZ2V0KGtleSk7fWZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSl7cmV0dXJuIGdldE1hcERhdGEodGhpcyxrZXkpLmhhcyhrZXkpO31mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksdmFsdWUpe3ZhciBkYXRhPWdldE1hcERhdGEodGhpcyxrZXkpLHNpemU9ZGF0YS5zaXplO2RhdGEuc2V0KGtleSx2YWx1ZSk7dGhpcy5zaXplKz1kYXRhLnNpemU9PXNpemU/MDoxO3JldHVybiB0aGlzO31NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXI9bWFwQ2FjaGVDbGVhcjtNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddPW1hcENhY2hlRGVsZXRlO01hcENhY2hlLnByb3RvdHlwZS5nZXQ9bWFwQ2FjaGVHZXQ7TWFwQ2FjaGUucHJvdG90eXBlLmhhcz1tYXBDYWNoZUhhcztNYXBDYWNoZS5wcm90b3R5cGUuc2V0PW1hcENhY2hlU2V0O2Z1bmN0aW9uIFN0YWNrKGVudHJpZXMpe3ZhciBkYXRhPXRoaXMuX19kYXRhX189bmV3IExpc3RDYWNoZShlbnRyaWVzKTt0aGlzLnNpemU9ZGF0YS5zaXplO31mdW5jdGlvbiBzdGFja0NsZWFyKCl7dGhpcy5fX2RhdGFfXz1uZXcgTGlzdENhY2hlKCk7dGhpcy5zaXplPTA7fWZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSl7dmFyIGRhdGE9dGhpcy5fX2RhdGFfXyxyZXN1bHQ9ZGF0YVsnZGVsZXRlJ10oa2V5KTt0aGlzLnNpemU9ZGF0YS5zaXplO3JldHVybiByZXN1bHQ7fWZ1bmN0aW9uIHN0YWNrR2V0KGtleSl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7fWZ1bmN0aW9uIHN0YWNrSGFzKGtleSl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7fWZ1bmN0aW9uIHN0YWNrU2V0KGtleSx2YWx1ZSl7dmFyIGRhdGE9dGhpcy5fX2RhdGFfXztpZihkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKXt2YXIgcGFpcnM9ZGF0YS5fX2RhdGFfXztpZighTWFwfHxwYWlycy5sZW5ndGg8TEFSR0VfQVJSQVlfU0laRS0xKXtwYWlycy5wdXNoKFtrZXksdmFsdWVdKTt0aGlzLnNpemU9KytkYXRhLnNpemU7cmV0dXJuIHRoaXM7fWRhdGE9dGhpcy5fX2RhdGFfXz1uZXcgTWFwQ2FjaGUocGFpcnMpO31kYXRhLnNldChrZXksdmFsdWUpO3RoaXMuc2l6ZT1kYXRhLnNpemU7cmV0dXJuIHRoaXM7fVN0YWNrLnByb3RvdHlwZS5jbGVhcj1zdGFja0NsZWFyO1N0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ109c3RhY2tEZWxldGU7U3RhY2sucHJvdG90eXBlLmdldD1zdGFja0dldDtTdGFjay5wcm90b3R5cGUuaGFzPXN0YWNrSGFzO1N0YWNrLnByb3RvdHlwZS5zZXQ9c3RhY2tTZXQ7ZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSxpbmhlcml0ZWQpe3ZhciBpc0Fycj1pc0FycmF5KHZhbHVlKSxpc0FyZz0haXNBcnImJmlzQXJndW1lbnRzKHZhbHVlKSxpc0J1ZmY9IWlzQXJyJiYhaXNBcmcmJmlzQnVmZmVyKHZhbHVlKSxpc1R5cGU9IWlzQXJyJiYhaXNBcmcmJiFpc0J1ZmYmJmlzVHlwZWRBcnJheSh2YWx1ZSksc2tpcEluZGV4ZXM9aXNBcnJ8fGlzQXJnfHxpc0J1ZmZ8fGlzVHlwZSxyZXN1bHQ9c2tpcEluZGV4ZXM/YmFzZVRpbWVzKHZhbHVlLmxlbmd0aCxTdHJpbmcpOltdLGxlbmd0aD1yZXN1bHQubGVuZ3RoO2Zvcih2YXIga2V5IGluIHZhbHVlKXtpZighKHNraXBJbmRleGVzJiYoa2V5PT0nbGVuZ3RoJ3x8aXNCdWZmJiYoa2V5PT0nb2Zmc2V0J3x8a2V5PT0ncGFyZW50Jyl8fGlzVHlwZSYmKGtleT09J2J1ZmZlcid8fGtleT09J2J5dGVMZW5ndGgnfHxrZXk9PSdieXRlT2Zmc2V0Jyl8fGlzSW5kZXgoa2V5LGxlbmd0aCkpKSl7cmVzdWx0LnB1c2goa2V5KTt9fXJldHVybiByZXN1bHQ7fWZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LGtleSx2YWx1ZSl7aWYodmFsdWUhPT11bmRlZmluZWQmJiFlcShvYmplY3Rba2V5XSx2YWx1ZSl8fHZhbHVlPT09dW5kZWZpbmVkJiYhKGtleSBpbiBvYmplY3QpKXtiYXNlQXNzaWduVmFsdWUob2JqZWN0LGtleSx2YWx1ZSk7fX1mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3Qsa2V5LHZhbHVlKXt2YXIgb2JqVmFsdWU9b2JqZWN0W2tleV07aWYoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxrZXkpJiZlcShvYmpWYWx1ZSx2YWx1ZSkpfHx2YWx1ZT09PXVuZGVmaW5lZCYmIShrZXkgaW4gb2JqZWN0KSl7YmFzZUFzc2lnblZhbHVlKG9iamVjdCxrZXksdmFsdWUpO319ZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LGtleSl7dmFyIGxlbmd0aD1hcnJheS5sZW5ndGg7d2hpbGUobGVuZ3RoLS0pe2lmKGVxKGFycmF5W2xlbmd0aF1bMF0sa2V5KSl7cmV0dXJuIGxlbmd0aDt9fXJldHVybi0xO31mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LGtleSx2YWx1ZSl7aWYoa2V5PT0nX19wcm90b19fJyYmZGVmaW5lUHJvcGVydHkpe2RlZmluZVByb3BlcnR5KG9iamVjdCxrZXkseydjb25maWd1cmFibGUnOnRydWUsJ2VudW1lcmFibGUnOnRydWUsJ3ZhbHVlJzp2YWx1ZSwnd3JpdGFibGUnOnRydWV9KTt9ZWxzZXtvYmplY3Rba2V5XT12YWx1ZTt9fXZhciBiYXNlRm9yPWNyZWF0ZUJhc2VGb3IoKTtmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKXtpZih2YWx1ZT09bnVsbCl7cmV0dXJuIHZhbHVlPT09dW5kZWZpbmVkP3VuZGVmaW5lZFRhZzpudWxsVGFnO31yZXR1cm4gc3ltVG9TdHJpbmdUYWcmJnN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSk/Z2V0UmF3VGFnKHZhbHVlKTpvYmplY3RUb1N0cmluZyh2YWx1ZSk7fWZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkmJmJhc2VHZXRUYWcodmFsdWUpPT1hcmdzVGFnO31mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpe2lmKCFpc09iamVjdCh2YWx1ZSl8fGlzTWFza2VkKHZhbHVlKSl7cmV0dXJuIGZhbHNlO312YXIgcGF0dGVybj1pc0Z1bmN0aW9uKHZhbHVlKT9yZUlzTmF0aXZlOnJlSXNIb3N0Q3RvcjtyZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7fWZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpe3JldHVybiBpc09iamVjdExpa2UodmFsdWUpJiZpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpJiYhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTt9ZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3Qpe2lmKCFpc09iamVjdChvYmplY3QpKXtyZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7fXZhciBpc1Byb3RvPWlzUHJvdG90eXBlKG9iamVjdCkscmVzdWx0PVtdO2Zvcih2YXIga2V5IGluIG9iamVjdCl7aWYoIShrZXk9PSdjb25zdHJ1Y3RvcicmJihpc1Byb3RvfHwhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qsa2V5KSkpKXtyZXN1bHQucHVzaChrZXkpO319cmV0dXJuIHJlc3VsdDt9ZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCxzb3VyY2Usc3JjSW5kZXgsY3VzdG9taXplcixzdGFjayl7aWYob2JqZWN0PT09c291cmNlKXtyZXR1cm47fWJhc2VGb3Ioc291cmNlLGZ1bmN0aW9uKHNyY1ZhbHVlLGtleSl7c3RhY2t8fChzdGFjaz1uZXcgU3RhY2soKSk7aWYoaXNPYmplY3Qoc3JjVmFsdWUpKXtiYXNlTWVyZ2VEZWVwKG9iamVjdCxzb3VyY2Usa2V5LHNyY0luZGV4LGJhc2VNZXJnZSxjdXN0b21pemVyLHN0YWNrKTt9ZWxzZXt2YXIgbmV3VmFsdWU9Y3VzdG9taXplcj9jdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LGtleSksc3JjVmFsdWUsa2V5KycnLG9iamVjdCxzb3VyY2Usc3RhY2spOnVuZGVmaW5lZDtpZihuZXdWYWx1ZT09PXVuZGVmaW5lZCl7bmV3VmFsdWU9c3JjVmFsdWU7fWFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LGtleSxuZXdWYWx1ZSk7fX0sa2V5c0luKTt9ZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3Qsc291cmNlLGtleSxzcmNJbmRleCxtZXJnZUZ1bmMsY3VzdG9taXplcixzdGFjayl7dmFyIG9ialZhbHVlPXNhZmVHZXQob2JqZWN0LGtleSksc3JjVmFsdWU9c2FmZUdldChzb3VyY2Usa2V5KSxzdGFja2VkPXN0YWNrLmdldChzcmNWYWx1ZSk7aWYoc3RhY2tlZCl7YXNzaWduTWVyZ2VWYWx1ZShvYmplY3Qsa2V5LHN0YWNrZWQpO3JldHVybjt9dmFyIG5ld1ZhbHVlPWN1c3RvbWl6ZXI/Y3VzdG9taXplcihvYmpWYWx1ZSxzcmNWYWx1ZSxrZXkrJycsb2JqZWN0LHNvdXJjZSxzdGFjayk6dW5kZWZpbmVkO3ZhciBpc0NvbW1vbj1uZXdWYWx1ZT09PXVuZGVmaW5lZDtpZihpc0NvbW1vbil7dmFyIGlzQXJyPWlzQXJyYXkoc3JjVmFsdWUpLGlzQnVmZj0haXNBcnImJmlzQnVmZmVyKHNyY1ZhbHVlKSxpc1R5cGVkPSFpc0FyciYmIWlzQnVmZiYmaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtuZXdWYWx1ZT1zcmNWYWx1ZTtpZihpc0Fycnx8aXNCdWZmfHxpc1R5cGVkKXtpZihpc0FycmF5KG9ialZhbHVlKSl7bmV3VmFsdWU9b2JqVmFsdWU7fWVsc2UgaWYoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKXtuZXdWYWx1ZT1jb3B5QXJyYXkob2JqVmFsdWUpO31lbHNlIGlmKGlzQnVmZil7aXNDb21tb249ZmFsc2U7bmV3VmFsdWU9Y2xvbmVCdWZmZXIoc3JjVmFsdWUpO31lbHNlIGlmKGlzVHlwZWQpe2lzQ29tbW9uPWZhbHNlO25ld1ZhbHVlPWNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSk7fWVsc2V7bmV3VmFsdWU9W107fX1lbHNlIGlmKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpfHxpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpe25ld1ZhbHVlPW9ialZhbHVlO2lmKGlzQXJndW1lbnRzKG9ialZhbHVlKSl7bmV3VmFsdWU9dG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7fWVsc2UgaWYoIWlzT2JqZWN0KG9ialZhbHVlKXx8aXNGdW5jdGlvbihvYmpWYWx1ZSkpe25ld1ZhbHVlPWluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7fX1lbHNle2lzQ29tbW9uPWZhbHNlO319aWYoaXNDb21tb24pe3N0YWNrLnNldChzcmNWYWx1ZSxuZXdWYWx1ZSk7bWVyZ2VGdW5jKG5ld1ZhbHVlLHNyY1ZhbHVlLHNyY0luZGV4LGN1c3RvbWl6ZXIsc3RhY2spO3N0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7fWFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LGtleSxuZXdWYWx1ZSk7fWZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsc3RhcnQpe3JldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLHN0YXJ0LGlkZW50aXR5KSxmdW5jKycnKTt9dmFyIGJhc2VTZXRUb1N0cmluZz0hZGVmaW5lUHJvcGVydHk/aWRlbnRpdHk6ZnVuY3Rpb24oZnVuYyxzdHJpbmcpe3JldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCd0b1N0cmluZycseydjb25maWd1cmFibGUnOnRydWUsJ2VudW1lcmFibGUnOmZhbHNlLCd2YWx1ZSc6Y29uc3RhbnQoc3RyaW5nKSwnd3JpdGFibGUnOnRydWV9KTt9O2Z1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlcixpc0RlZXApe3tyZXR1cm4gYnVmZmVyLnNsaWNlKCk7fX1mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKXt2YXIgcmVzdWx0PW5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO3JldHVybiByZXN1bHQ7fWZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LGlzRGVlcCl7dmFyIGJ1ZmZlcj1jbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKTtyZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLHR5cGVkQXJyYXkuYnl0ZU9mZnNldCx0eXBlZEFycmF5Lmxlbmd0aCk7fWZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsYXJyYXkpe3ZhciBpbmRleD0tMSxsZW5ndGg9c291cmNlLmxlbmd0aDthcnJheXx8KGFycmF5PUFycmF5KGxlbmd0aCkpO3doaWxlKCsraW5kZXg8bGVuZ3RoKXthcnJheVtpbmRleF09c291cmNlW2luZGV4XTt9cmV0dXJuIGFycmF5O31mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSxwcm9wcyxvYmplY3QsY3VzdG9taXplcil7dmFyIGlzTmV3PSFvYmplY3Q7b2JqZWN0fHwob2JqZWN0PXt9KTt2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aDt3aGlsZSgrK2luZGV4PGxlbmd0aCl7dmFyIGtleT1wcm9wc1tpbmRleF07dmFyIG5ld1ZhbHVlPXVuZGVmaW5lZDtpZihuZXdWYWx1ZT09PXVuZGVmaW5lZCl7bmV3VmFsdWU9c291cmNlW2tleV07fWlmKGlzTmV3KXtiYXNlQXNzaWduVmFsdWUob2JqZWN0LGtleSxuZXdWYWx1ZSk7fWVsc2V7YXNzaWduVmFsdWUob2JqZWN0LGtleSxuZXdWYWx1ZSk7fX1yZXR1cm4gb2JqZWN0O31mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcil7cmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCxzb3VyY2VzKXt2YXIgaW5kZXg9LTEsbGVuZ3RoPXNvdXJjZXMubGVuZ3RoLGN1c3RvbWl6ZXI9bGVuZ3RoPjE/c291cmNlc1tsZW5ndGgtMV06dW5kZWZpbmVkLGd1YXJkPWxlbmd0aD4yP3NvdXJjZXNbMl06dW5kZWZpbmVkO2N1c3RvbWl6ZXI9YXNzaWduZXIubGVuZ3RoPjMmJnR5cGVvZiBjdXN0b21pemVyPT0nZnVuY3Rpb24nPyhsZW5ndGgtLSxjdXN0b21pemVyKTp1bmRlZmluZWQ7aWYoZ3VhcmQmJmlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sc291cmNlc1sxXSxndWFyZCkpe2N1c3RvbWl6ZXI9bGVuZ3RoPDM/dW5kZWZpbmVkOmN1c3RvbWl6ZXI7bGVuZ3RoPTE7fW9iamVjdD1PYmplY3Qob2JqZWN0KTt3aGlsZSgrK2luZGV4PGxlbmd0aCl7dmFyIHNvdXJjZT1zb3VyY2VzW2luZGV4XTtpZihzb3VyY2Upe2Fzc2lnbmVyKG9iamVjdCxzb3VyY2UsaW5kZXgsY3VzdG9taXplcik7fX1yZXR1cm4gb2JqZWN0O30pO31mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCxpdGVyYXRlZSxrZXlzRnVuYyl7dmFyIGluZGV4PS0xLGl0ZXJhYmxlPU9iamVjdChvYmplY3QpLHByb3BzPWtleXNGdW5jKG9iamVjdCksbGVuZ3RoPXByb3BzLmxlbmd0aDt3aGlsZShsZW5ndGgtLSl7dmFyIGtleT1wcm9wc1srK2luZGV4XTtpZihpdGVyYXRlZShpdGVyYWJsZVtrZXldLGtleSxpdGVyYWJsZSk9PT1mYWxzZSl7YnJlYWs7fX1yZXR1cm4gb2JqZWN0O307fWZ1bmN0aW9uIGdldE1hcERhdGEobWFwLGtleSl7dmFyIGRhdGE9bWFwLl9fZGF0YV9fO3JldHVybiBpc0tleWFibGUoa2V5KT9kYXRhW3R5cGVvZiBrZXk9PSdzdHJpbmcnPydzdHJpbmcnOidoYXNoJ106ZGF0YS5tYXA7fWZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3Qsa2V5KXt2YXIgdmFsdWU9Z2V0VmFsdWUob2JqZWN0LGtleSk7cmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk/dmFsdWU6dW5kZWZpbmVkO31mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpe3ZhciBpc093bj1oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLHN5bVRvU3RyaW5nVGFnKSx0YWc9dmFsdWVbc3ltVG9TdHJpbmdUYWddO3RyeXt2YWx1ZVtzeW1Ub1N0cmluZ1RhZ109dW5kZWZpbmVkO3ZhciB1bm1hc2tlZD10cnVlO31jYXRjaChlKXt9dmFyIHJlc3VsdD1uYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtpZih1bm1hc2tlZCl7aWYoaXNPd24pe3ZhbHVlW3N5bVRvU3RyaW5nVGFnXT10YWc7fWVsc2V7ZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTt9fXJldHVybiByZXN1bHQ7fWZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3Qpe3JldHVybiB0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yPT0nZnVuY3Rpb24nJiYhaXNQcm90b3R5cGUob2JqZWN0KT9iYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKTp7fTt9ZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSxsZW5ndGgpe3ZhciB0eXBlPV90eXBlb2YyKHZhbHVlKTtsZW5ndGg9bGVuZ3RoPT1udWxsP01BWF9TQUZFX0lOVEVHRVI6bGVuZ3RoO3JldHVybiEhbGVuZ3RoJiYodHlwZT09J251bWJlcid8fHR5cGUhPSdzeW1ib2wnJiZyZUlzVWludC50ZXN0KHZhbHVlKSkmJnZhbHVlPi0xJiZ2YWx1ZSUxPT0wJiZ2YWx1ZTxsZW5ndGg7fWZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLGluZGV4LG9iamVjdCl7aWYoIWlzT2JqZWN0KG9iamVjdCkpe3JldHVybiBmYWxzZTt9dmFyIHR5cGU9X3R5cGVvZjIoaW5kZXgpO2lmKHR5cGU9PSdudW1iZXInP2lzQXJyYXlMaWtlKG9iamVjdCkmJmlzSW5kZXgoaW5kZXgsb2JqZWN0Lmxlbmd0aCk6dHlwZT09J3N0cmluZycmJmluZGV4IGluIG9iamVjdCl7cmV0dXJuIGVxKG9iamVjdFtpbmRleF0sdmFsdWUpO31yZXR1cm4gZmFsc2U7fWZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSl7dmFyIHR5cGU9X3R5cGVvZjIodmFsdWUpO3JldHVybiB0eXBlPT0nc3RyaW5nJ3x8dHlwZT09J251bWJlcid8fHR5cGU9PSdzeW1ib2wnfHx0eXBlPT0nYm9vbGVhbic/dmFsdWUhPT0nX19wcm90b19fJzp2YWx1ZT09PW51bGw7fWZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpe3JldHVybiEhbWFza1NyY0tleSYmbWFza1NyY0tleSBpbiBmdW5jO31mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSl7dmFyIEN0b3I9dmFsdWUmJnZhbHVlLmNvbnN0cnVjdG9yLHByb3RvPXR5cGVvZiBDdG9yPT0nZnVuY3Rpb24nJiZDdG9yLnByb3RvdHlwZXx8b2JqZWN0UHJvdG87cmV0dXJuIHZhbHVlPT09cHJvdG87fWZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3Qpe3ZhciByZXN1bHQ9W107aWYob2JqZWN0IT1udWxsKXtmb3IodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSl7cmVzdWx0LnB1c2goa2V5KTt9fXJldHVybiByZXN1bHQ7fWZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKXtyZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7fWZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsc3RhcnQsdHJhbnNmb3JtKXtzdGFydD1uYXRpdmVNYXgoc3RhcnQ9PT11bmRlZmluZWQ/ZnVuYy5sZW5ndGgtMTpzdGFydCwwKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYXJncz1hcmd1bWVudHMsaW5kZXg9LTEsbGVuZ3RoPW5hdGl2ZU1heChhcmdzLmxlbmd0aC1zdGFydCwwKSxhcnJheT1BcnJheShsZW5ndGgpO3doaWxlKCsraW5kZXg8bGVuZ3RoKXthcnJheVtpbmRleF09YXJnc1tzdGFydCtpbmRleF07fWluZGV4PS0xO3ZhciBvdGhlckFyZ3M9QXJyYXkoc3RhcnQrMSk7d2hpbGUoKytpbmRleDxzdGFydCl7b3RoZXJBcmdzW2luZGV4XT1hcmdzW2luZGV4XTt9b3RoZXJBcmdzW3N0YXJ0XT10cmFuc2Zvcm0oYXJyYXkpO3JldHVybiBhcHBseShmdW5jLHRoaXMsb3RoZXJBcmdzKTt9O31mdW5jdGlvbiBzYWZlR2V0KG9iamVjdCxrZXkpe2lmKGtleT09PSdjb25zdHJ1Y3RvcicmJnR5cGVvZiBvYmplY3Rba2V5XT09PSdmdW5jdGlvbicpe3JldHVybjt9aWYoa2V5PT0nX19wcm90b19fJyl7cmV0dXJuO31yZXR1cm4gb2JqZWN0W2tleV07fXZhciBzZXRUb1N0cmluZz1zaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO2Z1bmN0aW9uIHNob3J0T3V0KGZ1bmMpe3ZhciBjb3VudD0wLGxhc3RDYWxsZWQ9MDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgc3RhbXA9bmF0aXZlTm93KCkscmVtYWluaW5nPUhPVF9TUEFOLShzdGFtcC1sYXN0Q2FsbGVkKTtsYXN0Q2FsbGVkPXN0YW1wO2lmKHJlbWFpbmluZz4wKXtpZigrK2NvdW50Pj1IT1RfQ09VTlQpe3JldHVybiBhcmd1bWVudHNbMF07fX1lbHNle2NvdW50PTA7fXJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCxhcmd1bWVudHMpO307fWZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpe2lmKGZ1bmMhPW51bGwpe3RyeXtyZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7fWNhdGNoKGUpe310cnl7cmV0dXJuIGZ1bmMrJyc7fWNhdGNoKGUpe319cmV0dXJuJyc7fWZ1bmN0aW9uIGVxKHZhbHVlLG90aGVyKXtyZXR1cm4gdmFsdWU9PT1vdGhlcnx8dmFsdWUhPT12YWx1ZSYmb3RoZXIhPT1vdGhlcjt9dmFyIGlzQXJndW1lbnRzPWJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHM7fSgpKT9iYXNlSXNBcmd1bWVudHM6ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc09iamVjdExpa2UodmFsdWUpJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCdjYWxsZWUnKSYmIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsJ2NhbGxlZScpO307dmFyIGlzQXJyYXk9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSl7cmV0dXJuIHZhbHVlIT1udWxsJiZpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpJiYhaXNGdW5jdGlvbih2YWx1ZSk7fWZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKXtyZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSYmaXNBcnJheUxpa2UodmFsdWUpO312YXIgaXNCdWZmZXI9bmF0aXZlSXNCdWZmZXJ8fHN0dWJGYWxzZTtmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKXtpZighaXNPYmplY3QodmFsdWUpKXtyZXR1cm4gZmFsc2U7fXZhciB0YWc9YmFzZUdldFRhZyh2YWx1ZSk7cmV0dXJuIHRhZz09ZnVuY1RhZ3x8dGFnPT1nZW5UYWd8fHRhZz09YXN5bmNUYWd8fHRhZz09cHJveHlUYWc7fWZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKXtyZXR1cm4gdHlwZW9mIHZhbHVlPT0nbnVtYmVyJyYmdmFsdWU+LTEmJnZhbHVlJTE9PTAmJnZhbHVlPD1NQVhfU0FGRV9JTlRFR0VSO31mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSl7dmFyIHR5cGU9X3R5cGVvZjIodmFsdWUpO3JldHVybiB2YWx1ZSE9bnVsbCYmKHR5cGU9PSdvYmplY3QnfHx0eXBlPT0nZnVuY3Rpb24nKTt9ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKXtyZXR1cm4gdmFsdWUhPW51bGwmJl90eXBlb2YyKHZhbHVlKT09J29iamVjdCc7fWZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpe2lmKCFpc09iamVjdExpa2UodmFsdWUpfHxiYXNlR2V0VGFnKHZhbHVlKSE9b2JqZWN0VGFnKXtyZXR1cm4gZmFsc2U7fXZhciBwcm90bz1nZXRQcm90b3R5cGUodmFsdWUpO2lmKHByb3RvPT09bnVsbCl7cmV0dXJuIHRydWU7fXZhciBDdG9yPWhhc093blByb3BlcnR5LmNhbGwocHJvdG8sJ2NvbnN0cnVjdG9yJykmJnByb3RvLmNvbnN0cnVjdG9yO3JldHVybiB0eXBlb2YgQ3Rvcj09J2Z1bmN0aW9uJyYmQ3RvciBpbnN0YW5jZW9mIEN0b3ImJmZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpPT1vYmplY3RDdG9yU3RyaW5nO312YXIgaXNUeXBlZEFycmF5PW5vZGVJc1R5cGVkQXJyYXk/YmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpOmJhc2VJc1R5cGVkQXJyYXk7ZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSl7cmV0dXJuIGNvcHlPYmplY3QodmFsdWUsa2V5c0luKHZhbHVlKSk7fWZ1bmN0aW9uIGtleXNJbihvYmplY3Qpe3JldHVybiBpc0FycmF5TGlrZShvYmplY3QpP2FycmF5TGlrZUtleXMob2JqZWN0KTpiYXNlS2V5c0luKG9iamVjdCk7fXZhciBtZXJnZT1jcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3Qsc291cmNlLHNyY0luZGV4KXtiYXNlTWVyZ2Uob2JqZWN0LHNvdXJjZSxzcmNJbmRleCk7fSk7ZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2YWx1ZTt9O31mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSl7cmV0dXJuIHZhbHVlO31mdW5jdGlvbiBzdHViRmFsc2UoKXtyZXR1cm4gZmFsc2U7fW1vZHVsZS5leHBvcnRzPW1lcmdlO30pKGxvZGFzaF9tZXJnZSxsb2Rhc2hfbWVyZ2UuZXhwb3J0cyk7dmFyIGxvZGFzaF9tZXJnZUV4cG9ydHM9bG9kYXNoX21lcmdlLmV4cG9ydHM7dmFyIG1lcmdlPS8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhsb2Rhc2hfbWVyZ2VFeHBvcnRzKTt2YXIgZGVmYXVsdERpc2FibGVkVGV4dENvbG9yPScjODI5NkExJzt2YXIgY3JlYXRlVGhlbWU9ZnVuY3Rpb24gY3JlYXRlVGhlbWUoc3R5bGVzKXt2YXIgZGlzcGxheVdhdGVybWFyaz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06ZmFsc2U7dmFyIF9hLF9iLF9jLF9kLF9lLF9mLF9nLF9oLF9qLF9rO3ZhciBzdHlsZUNvbmZpZz1tZXJnZSh7fSxERUZBVUxUX1NUWUxFX0NPTkZJRyxzdHlsZXMpO3JldHVybnt0eXBvZ3JhcGh5Ontmb250RmFtaWx5OnN0eWxlQ29uZmlnLmZvbnRGYW1pbHksaGVhZGVyOntmb250RmFtaWx5OnN0eWxlQ29uZmlnLmZvbnRGYW1pbHksZm9udFNpemU6MjQsZm9udFdlaWdodDo2MDAsbGluZUhlaWdodDonMzBweCd9LGJvZHk6e2ZvbnRGYW1pbHk6c3R5bGVDb25maWcuZm9udEZhbWlseSxmb250U2l6ZToxNixmb250V2VpZ2h0Oidub3JtYWwnLGxpbmVIZWlnaHQ6JzIxcHgnfSxoZWxwZXI6e2ZvbnRGYW1pbHk6c3R5bGVDb25maWcuZm9udEZhbWlseSxmb250U2l6ZToxNCxmb250V2VpZ2h0Oic0MDAnLGxpbmVIZWlnaHQ6JzIwcHgnLHdoaXRlU3BhY2U6J3ByZS13cmFwJ319LGNvbG9yczp7cHJpbWFyeTpzdHlsZUNvbmZpZy5jb2xvcnMucHJpbWFyeSxzZWNvbmRhcnk6c3R5bGVDb25maWcuY29sb3JzLnNlY29uZGFyeSxzdWNjZXNzOnN0eWxlQ29uZmlnLmNvbG9ycy5zdWNjZXNzLGVycm9yOnN0eWxlQ29uZmlnLmNvbG9ycy5lcnJvcixkaXNhYmxlZDonI0YzRjVGNicsZGlzYWJsZWRUZXh0OmRlZmF1bHREaXNhYmxlZFRleHRDb2xvcn0sY29udGFpbmVyOnt3aWR0aDpzdHlsZUNvbmZpZy5jb250YWluZXIud2lkdGgsYm9yZGVyOlwiMXB4IHNvbGlkIFwiLmNvbmNhdChzdHlsZUNvbmZpZy5jb250YWluZXIuYm9yZGVyQ29sb3IpLGJvcmRlclJhZGl1czpzdHlsZUNvbmZpZy5jb250YWluZXIuYm9yZGVyUmFkaXVzLGJhY2tncm91bmRDb2xvcjpzdHlsZUNvbmZpZy5jb250YWluZXIuYmFja2dyb3VuZENvbG9yfSxidXR0b25zOntwcmltYXJ5OntiYWNrZ3JvdW5kQ29sb3I6c3R5bGVDb25maWcuYnV0dG9ucy5wcmltYXJ5LmJhY2tncm91bmRDb2xvcix0ZXh0Q29sb3I6c3R5bGVDb25maWcuYnV0dG9ucy5wcmltYXJ5LnRleHRDb2xvcixib3JkZXI6XCIxcHggc29saWQgXCIuY29uY2F0KHN0eWxlQ29uZmlnLmJ1dHRvbnMucHJpbWFyeS5ib3JkZXJDb2xvciksYm9yZGVyUmFkaXVzOnN0eWxlQ29uZmlnLmJ1dHRvbnMucHJpbWFyeS5ib3JkZXJSYWRpdXN9LHNlY29uZGFyeTp7YmFja2dyb3VuZENvbG9yOnN0eWxlQ29uZmlnLmJ1dHRvbnMuc2Vjb25kYXJ5LmJhY2tncm91bmRDb2xvcix0ZXh0Q29sb3I6c3R5bGVDb25maWcuYnV0dG9ucy5zZWNvbmRhcnkudGV4dENvbG9yLGJvcmRlcjpcIjFweCBzb2xpZCBcIi5jb25jYXQoc3R5bGVDb25maWcuYnV0dG9ucy5zZWNvbmRhcnkuYm9yZGVyQ29sb3IpLGJvcmRlclJhZGl1czpzdHlsZUNvbmZpZy5idXR0b25zLnNlY29uZGFyeS5ib3JkZXJSYWRpdXN9fSxpbnB1dHM6e2JhY2tncm91bmRDb2xvcjooX2I9KF9hPXN0eWxlQ29uZmlnLmlucHV0cyk9PT1udWxsfHxfYT09PXZvaWQgMD92b2lkIDA6X2EuYmFja2dyb3VuZENvbG9yKSE9PW51bGwmJl9iIT09dm9pZCAwP19iOid0cmFuc3BhcmVudCcsdGV4dENvbG9yOihfZD0oX2M9c3R5bGVDb25maWcuaW5wdXRzKT09PW51bGx8fF9jPT09dm9pZCAwP3ZvaWQgMDpfYy50ZXh0Q29sb3IpIT09bnVsbCYmX2QhPT12b2lkIDA/X2Q6c3R5bGVDb25maWcuY29sb3JzLnByaW1hcnksYm9yZGVyQ29sb3I6KF9mPShfZT1zdHlsZUNvbmZpZy5pbnB1dHMpPT09bnVsbHx8X2U9PT12b2lkIDA/dm9pZCAwOl9lLmJvcmRlckNvbG9yKSE9PW51bGwmJl9mIT09dm9pZCAwP19mOnN0eWxlQ29uZmlnLmNvbG9ycy5wcmltYXJ5LGJvcmRlclJhZGl1czooX2g9KF9nPXN0eWxlQ29uZmlnLmlucHV0cyk9PT1udWxsfHxfZz09PXZvaWQgMD92b2lkIDA6X2cuYm9yZGVyUmFkaXVzKSE9PW51bGwmJl9oIT09dm9pZCAwP19oOic0cHgnLHBsYWNlaG9sZGVyQ29sb3I6KF9rPShfaj1zdHlsZUNvbmZpZy5pbnB1dHMpPT09bnVsbHx8X2o9PT12b2lkIDA/dm9pZCAwOl9qLnBsYWNlaG9sZGVyQ29sb3IpIT09bnVsbCYmX2shPT12b2lkIDA/X2s6ZGVmYXVsdERpc2FibGVkVGV4dENvbG9yfSxkaXNwbGF5SGVhZGVyOiFzdHlsZUNvbmZpZy5oaWRlSGVhZGVyVGV4dCxkaXNwbGF5V2F0ZXJtYXJrOmRpc3BsYXlXYXRlcm1hcmssbG9nbzp7bG9nb0ltYWdlVXJsOnN0eWxlQ29uZmlnLmxvZ28ubG9nb0ltYWdlVXJsfX07fTt2YXIgdXNlVGhlbWU9ZnVuY3Rpb24gdXNlVGhlbWUoX3JlZjExMyl7dmFyIHN0eWxlcz1fcmVmMTEzLnN0eWxlcyxkaXNwbGF5V2F0ZXJtYXJrPV9yZWYxMTMuZGlzcGxheVdhdGVybWFyaztyZXR1cm4gRiQ0KGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZVRoZW1lKHN0eWxlcyxkaXNwbGF5V2F0ZXJtYXJrKTt9LFtzdHlsZXMsZGlzcGxheVdhdGVybWFya10pO307dmFyIEFwcENvbnRhaW5lcj1mdW5jdGlvbiBBcHBDb250YWluZXIoX3JlZjExNCl7dmFyIGNsaWVudD1fcmVmMTE0LmNsaWVudCxjb25maWc9X3JlZjExNC5jb25maWcsc3R5bGVzPV9yZWYxMTQuc3R5bGVzLGNhbGxiYWNrcz1fcmVmMTE0LmNhbGxiYWNrczt2YXIgX2gkMTMzPWgkNShmdW5jdGlvbigpe3ZhciBfcmVhZEIyQ0ludGVybmFscyRib28yPXJlYWRCMkNJbnRlcm5hbHMoY2xpZW50KS5ib290c3RyYXAuZ2V0U3luYygpLGRpc3BsYXlXYXRlcm1hcms9X3JlYWRCMkNJbnRlcm5hbHMkYm9vMi5kaXNwbGF5V2F0ZXJtYXJrO3JldHVybiBkaXNwbGF5V2F0ZXJtYXJrO30pLF9oJDEzND1fc2xpY2VkVG9BcnJheTIoX2gkMTMzLDIpLGRpc3BsYXlXYXRlcm1hcms9X2gkMTM0WzBdLHNldERpc3BsYXlXYXRlcm1hcms9X2gkMTM0WzFdO3AkNihmdW5jdGlvbigpe3JlYWRCMkNJbnRlcm5hbHMoY2xpZW50KS5uZXR3b3JrQ2xpZW50LmxvZ0V2ZW50KHtuYW1lOidyZW5kZXJfbG9naW5fc2NyZWVuJyxkZXRhaWxzOntvcHRpb25zOmNvbmZpZ319KTtyZWFkQjJDSW50ZXJuYWxzKGNsaWVudCkuYm9vdHN0cmFwLmdldEFzeW5jKCkudGhlbihmdW5jdGlvbihfcmVmMTE1KXt2YXIgZGlzcGxheVdhdGVybWFyaz1fcmVmMTE1LmRpc3BsYXlXYXRlcm1hcms7c2V0RGlzcGxheVdhdGVybWFyayhkaXNwbGF5V2F0ZXJtYXJrKTt9KTt9LFtjbGllbnRdKTt2YXIgdGhlbWU9dXNlVGhlbWUoe3N0eWxlczpzdHlsZXMsZGlzcGxheVdhdGVybWFyazpkaXNwbGF5V2F0ZXJtYXJrfSk7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2xvYmFsQ29udGV4dFByb3ZpZGVyLHtjbGllbnQ6Y2xpZW50LGNvbmZpZzpjb25maWcsY2FsbGJhY2tzOmNhbGxiYWNrc30sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoRmUse3RoZW1lOnRoZW1lfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChBcHBDb250YWluZXIkMSxudWxsKSkpO307dmFyIFJlc2V0UGFzc3dvcmRDb250YWluZXI9ZnVuY3Rpb24gUmVzZXRQYXNzd29yZENvbnRhaW5lcihfcmVmMTE2KXt2YXIgY2xpZW50PV9yZWYxMTYuY2xpZW50LGNvbmZpZz1fcmVmMTE2LmNvbmZpZyxzdHlsZXM9X3JlZjExNi5zdHlsZXMsY2FsbGJhY2tzPV9yZWYxMTYuY2FsbGJhY2tzLHBhc3N3b3JkUmVzZXRUb2tlbj1fcmVmMTE2LnBhc3N3b3JkUmVzZXRUb2tlbjt2YXIgX2gkMTM1PWgkNShmdW5jdGlvbigpe3ZhciBfcmVhZEIyQ0ludGVybmFscyRib28zPXJlYWRCMkNJbnRlcm5hbHMoY2xpZW50KS5ib290c3RyYXAuZ2V0U3luYygpLGRpc3BsYXlXYXRlcm1hcms9X3JlYWRCMkNJbnRlcm5hbHMkYm9vMy5kaXNwbGF5V2F0ZXJtYXJrO3JldHVybiBkaXNwbGF5V2F0ZXJtYXJrO30pLF9oJDEzNj1fc2xpY2VkVG9BcnJheTIoX2gkMTM1LDIpLGRpc3BsYXlXYXRlcm1hcms9X2gkMTM2WzBdLHNldERpc3BsYXlXYXRlcm1hcms9X2gkMTM2WzFdO3ZhciBpbml0aWFsU3RhdGU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LERFRkFVTFRfU1RBVEUpLHtzY3JlZW46QXBwU2NyZWVucyQxLlBhc3N3b3JkUmVzZXRGb3JtLGZvcm1TdGF0ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sREVGQVVMVF9TVEFURS5mb3JtU3RhdGUpLHtyZXNldFBhc3N3b3JkU3RhdGU6e3Rva2VuOnBhc3N3b3JkUmVzZXRUb2tlbn19KX0pO3AkNihmdW5jdGlvbigpe3JlYWRCMkNJbnRlcm5hbHMoY2xpZW50KS5ib290c3RyYXAuZ2V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uKF9yZWYxMTcpe3ZhciBkaXNwbGF5V2F0ZXJtYXJrPV9yZWYxMTcuZGlzcGxheVdhdGVybWFyaztzZXREaXNwbGF5V2F0ZXJtYXJrKGRpc3BsYXlXYXRlcm1hcmspO30pO30sW2NsaWVudF0pO3ZhciB0aGVtZT11c2VUaGVtZSh7c3R5bGVzOnN0eWxlcyxkaXNwbGF5V2F0ZXJtYXJrOmRpc3BsYXlXYXRlcm1hcmt9KTtyZXR1cm4vKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChHbG9iYWxDb250ZXh0UHJvdmlkZXIse2NsaWVudDpjbGllbnQsY29uZmlnOmNvbmZpZyxjYWxsYmFja3M6Y2FsbGJhY2tzLGluaXRpYWxTdGF0ZTppbml0aWFsU3RhdGV9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEZlLHt0aGVtZTp0aGVtZX0sLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoQXBwQ29udGFpbmVyJDEsbnVsbCkpKTt9O3ZhciBQYXNza2V5UmVnaXN0cmF0aW9uQ29udGFpbmVyPWZ1bmN0aW9uIFBhc3NrZXlSZWdpc3RyYXRpb25Db250YWluZXIoX3JlZjExOCl7dmFyIGNsaWVudD1fcmVmMTE4LmNsaWVudCxjb25maWc9X3JlZjExOC5jb25maWcsc3R5bGVzPV9yZWYxMTguc3R5bGVzLGNhbGxiYWNrcz1fcmVmMTE4LmNhbGxiYWNrczt2YXIgX2gkMTM3PWgkNShmdW5jdGlvbigpe3ZhciBfcmVhZEIyQ0ludGVybmFscyRib280PXJlYWRCMkNJbnRlcm5hbHMoY2xpZW50KS5ib290c3RyYXAuZ2V0U3luYygpLGRpc3BsYXlXYXRlcm1hcms9X3JlYWRCMkNJbnRlcm5hbHMkYm9vNC5kaXNwbGF5V2F0ZXJtYXJrO3JldHVybiBkaXNwbGF5V2F0ZXJtYXJrO30pLF9oJDEzOD1fc2xpY2VkVG9BcnJheTIoX2gkMTM3LDIpLGRpc3BsYXlXYXRlcm1hcms9X2gkMTM4WzBdLHNldERpc3BsYXlXYXRlcm1hcms9X2gkMTM4WzFdO3ZhciBpbml0aWFsU3RhdGU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LERFRkFVTFRfU1RBVEUpLHtzY3JlZW46QXBwU2NyZWVucyQxLlBhc3NrZXlSZWdpc3RyYXRpb25TdGFydCxmb3JtU3RhdGU6T2JqZWN0LmFzc2lnbih7fSxERUZBVUxUX1NUQVRFLmZvcm1TdGF0ZSl9KTtwJDYoZnVuY3Rpb24oKXtyZWFkQjJDSW50ZXJuYWxzKGNsaWVudCkuYm9vdHN0cmFwLmdldEFzeW5jKCkudGhlbihmdW5jdGlvbihfcmVmMTE5KXt2YXIgZGlzcGxheVdhdGVybWFyaz1fcmVmMTE5LmRpc3BsYXlXYXRlcm1hcms7c2V0RGlzcGxheVdhdGVybWFyayhkaXNwbGF5V2F0ZXJtYXJrKTt9KTt9LFtjbGllbnRdKTt2YXIgdGhlbWU9dXNlVGhlbWUoe3N0eWxlczpzdHlsZXMsZGlzcGxheVdhdGVybWFyazpkaXNwbGF5V2F0ZXJtYXJrfSk7cmV0dXJuLyojX19QVVJFX18qL3duLmNyZWF0ZUVsZW1lbnQoR2xvYmFsQ29udGV4dFByb3ZpZGVyLHtjbGllbnQ6Y2xpZW50LGNvbmZpZzpjb25maWcsY2FsbGJhY2tzOmNhbGxiYWNrcyxpbml0aWFsU3RhdGU6aW5pdGlhbFN0YXRlfSwvKiNfX1BVUkVfXyovd24uY3JlYXRlRWxlbWVudChGZSx7dGhlbWU6dGhlbWV9LC8qI19fUFVSRV9fKi93bi5jcmVhdGVFbGVtZW50KEFwcENvbnRhaW5lciQxLG51bGwpKSk7fTt2YXIgVUlfU0NSRUVOX1dFQl9DT01QT05FTlRfTkFNRT0nc3R5dGNoLXVpJzt2YXIgVUlfUkVTRVRfUEFTU1dPUkRfV0VCX0NPTVBPTkVOVF9OQU1FPSdzdHl0Y2gtcmVzZXQtcGFzc3dvcmQnO3ZhciBVSV9QQVNTS0VZX1JFR0lTVFJBVElPTl9XRUJfQ09NUE9ORU5UX05BTUU9J3N0eXRjaC1wYXNza2V5LXJlZ2lzdHJhdGlvbic7dmFyIFVJTG9naW5Db21wb25lbnQ9Q3JlYXRlU1NSU2FmZVdlYkNvbXBvbmVudChBcHBDb250YWluZXIsVUlfU0NSRUVOX1dFQl9DT01QT05FTlRfTkFNRSk7dmFyIFVJUmVzZXRQYXNzd29yZENvbXBvbmVudD1DcmVhdGVTU1JTYWZlV2ViQ29tcG9uZW50KFJlc2V0UGFzc3dvcmRDb250YWluZXIsVUlfUkVTRVRfUEFTU1dPUkRfV0VCX0NPTVBPTkVOVF9OQU1FKTt2YXIgVUlQYXNza2V5UmVnaXN0cmF0aW9uQ29tcG9uZW50PUNyZWF0ZVNTUlNhZmVXZWJDb21wb25lbnQoUGFzc2tleVJlZ2lzdHJhdGlvbkNvbnRhaW5lcixVSV9QQVNTS0VZX1JFR0lTVFJBVElPTl9XRUJfQ09NUE9ORU5UX05BTUUpO3ZhciBTdHl0Y2hVSUNsaWVudD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N0eXRjaEhlYWRsZXNzQ2xpZW50KXtfaW5oZXJpdHMyKFN0eXRjaFVJQ2xpZW50LF9TdHl0Y2hIZWFkbGVzc0NsaWVudCk7ZnVuY3Rpb24gU3R5dGNoVUlDbGllbnQoKXtfY2xhc3NDYWxsQ2hlY2syKHRoaXMsU3R5dGNoVUlDbGllbnQpO2NoZWNrTm90U1NSKCdTdHl0Y2hVSUNsaWVudCcpO2Zvcih2YXIgX2xlbjEwPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1uZXcgQXJyYXkoX2xlbjEwKSxfa2V5MTA9MDtfa2V5MTA8X2xlbjEwO19rZXkxMCsrKXthcmdzW19rZXkxMF09YXJndW1lbnRzW19rZXkxMF07fXJldHVybiBfY2FsbFN1cGVyMih0aGlzLFN0eXRjaFVJQ2xpZW50LFtdLmNvbmNhdChhcmdzKSk7fV9jcmVhdGVDbGFzczIoU3R5dGNoVUlDbGllbnQsW3trZXk6XCJtb3VudExvZ2luXCIsdmFsdWU6ZnVuY3Rpb24gbW91bnRMb2dpbihfcmVmMTIwKXt2YXIgZWxlbWVudElkPV9yZWYxMjAuZWxlbWVudElkLGNvbmZpZz1fcmVmMTIwLmNvbmZpZyxzdHlsZXM9X3JlZjEyMC5zdHlsZXMsY2FsbGJhY2tzPV9yZWYxMjAuY2FsbGJhY2tzO3ZhciBfYTt2YXIgdGFyZ2V0UGFyZW50RG9tTm9kZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRJZCk7aWYoIXRhcmdldFBhcmVudERvbU5vZGUpe3ZhciBlcnJvck1lc3NhZ2U9XCJUaGUgc2VsZWN0b3IgeW91IHNwZWNpZmllZCAoXCIuY29uY2F0KGVsZW1lbnRJZCxcIikgYXBwbGllcyB0byBubyBET00gZWxlbWVudHMgdGhhdCBhcmUgY3VycmVudGx5IG9uIHRoZSBwYWdlLiBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgZXhpc3RzIG9uIHRoZSBwYWdlIGJlZm9yZSBjYWxsaW5nIG1vdW50TG9naW4oKS5cIik7dGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7fWlmKCgoX2E9dGFyZ2V0UGFyZW50RG9tTm9kZS5maXJzdENoaWxkKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT09PVVJX1NDUkVFTl9XRUJfQ09NUE9ORU5UX05BTUUudG9Mb3dlckNhc2UoKSl7dmFyIG5vZGU9dGFyZ2V0UGFyZW50RG9tTm9kZS5maXJzdENoaWxkO25vZGUucmVuZGVyKHtjbGllbnQ6dGhpcyxjb25maWc6Y29uZmlnLGNhbGxiYWNrczpjYWxsYmFja3Msc3R5bGVzOnN0eWxlc30pO3JldHVybjt9dmFyIGxvZ2luRWxlbWVudD1VSUxvZ2luQ29tcG9uZW50KHtjbGllbnQ6dGhpcyxjb25maWc6Y29uZmlnLGNhbGxiYWNrczpjYWxsYmFja3Msc3R5bGVzOnN0eWxlc30pO3RhcmdldFBhcmVudERvbU5vZGUuYXBwZW5kQ2hpbGQobG9naW5FbGVtZW50KTt9fSx7a2V5OlwibW91bnRSZXNldFBhc3N3b3JkXCIsdmFsdWU6ZnVuY3Rpb24gbW91bnRSZXNldFBhc3N3b3JkKF9yZWYxMjEpe3ZhciBlbGVtZW50SWQ9X3JlZjEyMS5lbGVtZW50SWQsY29uZmlnPV9yZWYxMjEuY29uZmlnLHN0eWxlcz1fcmVmMTIxLnN0eWxlcyxjYWxsYmFja3M9X3JlZjEyMS5jYWxsYmFja3MscGFzc3dvcmRSZXNldFRva2VuPV9yZWYxMjEucGFzc3dvcmRSZXNldFRva2VuO3ZhciBfYTt2YXIgdGFyZ2V0UGFyZW50RG9tTm9kZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRJZCk7aWYoIXRhcmdldFBhcmVudERvbU5vZGUpe3ZhciBlcnJvck1lc3NhZ2U9XCJUaGUgc2VsZWN0b3IgeW91IHNwZWNpZmllZCAoXCIuY29uY2F0KGVsZW1lbnRJZCxcIikgYXBwbGllcyB0byBubyBET00gZWxlbWVudHMgdGhhdCBhcmUgY3VycmVudGx5IG9uIHRoZSBwYWdlLiBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgZXhpc3RzIG9uIHRoZSBwYWdlIGJlZm9yZSBjYWxsaW5nIG1vdW50TG9naW4oKS5cIik7dGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7fWlmKCgoX2E9dGFyZ2V0UGFyZW50RG9tTm9kZS5maXJzdENoaWxkKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT09PVVJX1JFU0VUX1BBU1NXT1JEX1dFQl9DT01QT05FTlRfTkFNRS50b0xvd2VyQ2FzZSgpKXt2YXIgbm9kZT10YXJnZXRQYXJlbnREb21Ob2RlLmZpcnN0Q2hpbGQ7bm9kZS5yZW5kZXIoe2NsaWVudDp0aGlzLGNvbmZpZzpjb25maWcsY2FsbGJhY2tzOmNhbGxiYWNrcyxzdHlsZXM6c3R5bGVzLHBhc3N3b3JkUmVzZXRUb2tlbjpwYXNzd29yZFJlc2V0VG9rZW59KTtyZXR1cm47fXZhciBsb2dpbkVsZW1lbnQ9VUlSZXNldFBhc3N3b3JkQ29tcG9uZW50KHtjbGllbnQ6dGhpcyxjb25maWc6Y29uZmlnLGNhbGxiYWNrczpjYWxsYmFja3Msc3R5bGVzOnN0eWxlcyxwYXNzd29yZFJlc2V0VG9rZW46cGFzc3dvcmRSZXNldFRva2VufSk7dGFyZ2V0UGFyZW50RG9tTm9kZS5hcHBlbmRDaGlsZChsb2dpbkVsZW1lbnQpO319LHtrZXk6XCJtb3VudFBhc3NrZXlSZWdpc3RyYXRpb25cIix2YWx1ZTpmdW5jdGlvbiBtb3VudFBhc3NrZXlSZWdpc3RyYXRpb24oX3JlZjEyMil7dmFyIGVsZW1lbnRJZD1fcmVmMTIyLmVsZW1lbnRJZCxjb25maWc9X3JlZjEyMi5jb25maWcsc3R5bGVzPV9yZWYxMjIuc3R5bGVzLGNhbGxiYWNrcz1fcmVmMTIyLmNhbGxiYWNrczt2YXIgX2E7dmFyIHRhcmdldFBhcmVudERvbU5vZGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50SWQpO2lmKCF0YXJnZXRQYXJlbnREb21Ob2RlKXt2YXIgZXJyb3JNZXNzYWdlPVwiVGhlIHNlbGVjdG9yIHlvdSBzcGVjaWZpZWQgKFwiLmNvbmNhdChlbGVtZW50SWQsXCIpIGFwcGxpZXMgdG8gbm8gRE9NIGVsZW1lbnRzIHRoYXQgYXJlIGN1cnJlbnRseSBvbiB0aGUgcGFnZS4gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGV4aXN0cyBvbiB0aGUgcGFnZSBiZWZvcmUgY2FsbGluZyBtb3VudFBhc3NrZXlSZWdpc3RyYXRpb24oKS5cIik7dGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7fWlmKCgoX2E9dGFyZ2V0UGFyZW50RG9tTm9kZS5maXJzdENoaWxkKT09PW51bGx8fF9hPT09dm9pZCAwP3ZvaWQgMDpfYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT09PVVJX1BBU1NLRVlfUkVHSVNUUkFUSU9OX1dFQl9DT01QT05FTlRfTkFNRS50b0xvd2VyQ2FzZSgpKXt2YXIgbm9kZT10YXJnZXRQYXJlbnREb21Ob2RlLmZpcnN0Q2hpbGQ7bm9kZS5yZW5kZXIoe2NsaWVudDp0aGlzLGNvbmZpZzpjb25maWcsY2FsbGJhY2tzOmNhbGxiYWNrcyxzdHlsZXM6c3R5bGVzfSk7cmV0dXJuO312YXIgcGFzc2tleVJlZ2lzdHJhdGlvbkVsZW1lbnQ9VUlQYXNza2V5UmVnaXN0cmF0aW9uQ29tcG9uZW50KHtjbGllbnQ6dGhpcyxjb25maWc6Y29uZmlnLGNhbGxiYWNrczpjYWxsYmFja3Msc3R5bGVzOnN0eWxlc30pO3RhcmdldFBhcmVudERvbU5vZGUuYXBwZW5kQ2hpbGQocGFzc2tleVJlZ2lzdHJhdGlvbkVsZW1lbnQpO319XSk7cmV0dXJuIFN0eXRjaFVJQ2xpZW50O30oU3R5dGNoSGVhZGxlc3NDbGllbnQpO2V4cG9ydHtBdXRoRmxvd1R5cGUsQjJCTUZBUHJvZHVjdHMsQjJCT0F1dGhQcm92aWRlcnMsQjJCUHJvZHVjdHMsQmlvbWV0cmljc0ZhaWxlZEVycm9yLEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yLENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvcixEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcixGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IsRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yLEludGVybmFsRXJyb3IsSW52YWxpZEF1dGhvcml6YXRpb25DcmVkZW50aWFsRXJyb3IsSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IsSW52YWxpZFJlZGlyZWN0U2NoZW1lRXJyb3IsSW52YWxpZFN0YXJ0VXJsRXJyb3IsSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IsS2V5SW52YWxpZGF0ZWRFcnJvcixLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IsTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IsTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yLE1pc3NpbmdHb29nbGVDbGllbnRJREVycm9yLE1pc3NpbmdQS0NFRXJyb3IsTWlzc2luZ1B1YmxpY0tleUVycm9yLE1pc3NpbmdVcmxFcnJvcixOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yLE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yLE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IsTm9DdXJyZW50U2Vzc2lvbkVycm9yLE9BdXRoUHJvdmlkZXJzLE9UUE1ldGhvZHMsT25lVGFwUG9zaXRpb25zLFBhc3NrZXlzSW52YWxpZEVuY29kaW5nLFBhc3NrZXlzTWlzY29uZmlndXJlZCxQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IsUHJvZHVjdHMsUk5VSVByb2R1Y3RzLFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQsU0RLQVBJVW5yZWFjaGFibGVFcnJvcixTREtOb3RDb25maWd1cmVkRXJyb3IsU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCxTdHl0Y2hBUElFcnJvcixTdHl0Y2hBUElTY2hlbWFFcnJvcixTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yLFN0eXRjaEVycm9yLFN0eXRjaEV2ZW50VHlwZSxTdHl0Y2hTREtBUElFcnJvcixTdHl0Y2hTREtFcnJvcixTdHl0Y2hTREtTY2hlbWFFcnJvcixTdHl0Y2hTREtVc2FnZUVycm9yLFN0eXRjaFVJQ2xpZW50LFVOUkVDT1ZFUkFCTEVfRVJST1JfVFlQRVMsVXNlckNhbmNlbGxhdGlvbkVycm9yLFVzZXJMb2NrZWRPdXRFcnJvcixXYWxsZXRzLGVycm9yVG9TdHl0Y2hFcnJvcn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/vanilla-js/dist/index.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/vanilla-js/dist/index.headless-CNM-XbTm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stytch/vanilla-js/dist/index.headless-CNM-XbTm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   E: () => (/* binding */ EMAIL_REGEX),\n/* harmony export */   S: () => (/* binding */ StytchB2BHeadlessClient),\n/* harmony export */   d: () => (/* binding */ debounce)\n/* harmony export */ });\n/* harmony import */ var _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal-D5OqLsPs.js */ \"(ssr)/./node_modules/@stytch/vanilla-js/dist/internal-D5OqLsPs.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar DisabledDFPProtectedAuthProvider = function DisabledDFPProtectedAuthProvider() {\n  return {\n    isEnabled: function () {\n      var _isEnabled = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", false);\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      function isEnabled() {\n        return _isEnabled.apply(this, arguments);\n      }\n      return isEnabled;\n    }(),\n    getTelemetryID: function () {\n      var _getTelemetryID = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", undefined);\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function getTelemetryID() {\n        return _getTelemetryID.apply(this, arguments);\n      }\n      return getTelemetryID;\n    }(),\n    getDFPTelemetryIDAndCaptcha: function () {\n      var _getDFPTelemetryIDAndCaptcha = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", {\n                dfp_telemetry_id: undefined,\n                captcha_token: undefined\n              });\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      function getDFPTelemetryIDAndCaptcha() {\n        return _getDFPTelemetryIDAndCaptcha.apply(this, arguments);\n      }\n      return getDFPTelemetryIDAndCaptcha;\n    }(),\n    retryWithCaptchaAndDFP: function () {\n      var _retryWithCaptchaAndDFP = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              throw new Error('DFP protected auth is disabled');\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n      function retryWithCaptchaAndDFP() {\n        return _retryWithCaptchaAndDFP.apply(this, arguments);\n      }\n      return retryWithCaptchaAndDFP;\n    }()\n  };\n};\nPromise.resolve({\n  pkceRequiredForEmailMagicLinks: false\n});\nPromise.resolve({\n  pkceRequiredForPasswordResets: false\n});\nPromise.resolve({\n  pkceRequiredForEmailMagicLinks: false\n});\nPromise.resolve({\n  pkceRequiredForPasswordResets: false\n});\nvar createDeepEqual = function createDeepEqual() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$KEYS_TO_EXCLUDE = _ref.KEYS_TO_EXCLUDE,\n    KEYS_TO_EXCLUDE = _ref$KEYS_TO_EXCLUDE === void 0 ? [] : _ref$KEYS_TO_EXCLUDE;\n  var deepEqual = function deepEqual(a, b) {\n    if (_typeof(a) !== _typeof(b)) return false;\n    if (a === null || b === null) return a === b;\n    if (_typeof(a) === 'object') {\n      if (Object.keys(a).length !== Object.keys(b).length || Object.keys(a).some(function (k) {\n        return !(k in b);\n      })) return false;\n      return Object.entries(a).filter(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 1),\n          k = _ref3[0];\n        return !KEYS_TO_EXCLUDE.includes(k);\n      }).every(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n          k = _ref5[0],\n          v = _ref5[1];\n        return deepEqual(v, b[k]);\n      });\n    }\n    return a === b;\n  };\n  return deepEqual;\n};\nvar HeadlessB2BOAuthClient = /*#__PURE__*/function (_HeadlessB2BOAuthClie) {\n  _inherits(HeadlessB2BOAuthClient, _HeadlessB2BOAuthClie);\n  function HeadlessB2BOAuthClient(_networkClient, _subscriptionService, _pkceManager, _dynamicConfig, _config) {\n    var _this;\n    var _dfpProtectedAuth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : DisabledDFPProtectedAuthProvider();\n    var _oneTap = arguments.length > 6 ? arguments[6] : undefined;\n    _classCallCheck(this, HeadlessB2BOAuthClient);\n    _this = _callSuper(this, HeadlessB2BOAuthClient, [_networkClient, _subscriptionService, _pkceManager, _dynamicConfig, _config, _dfpProtectedAuth]);\n    _this._oneTap = _oneTap;\n    _this.startOneTapDiscovery = function (options) {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(_assertThisInitialized(_this), void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var clientResult, client, onSuccessCallback;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this._oneTap.createOneTapClient();\n            case 2:\n              clientResult = _context5.sent;\n              if (clientResult.success) {\n                _context5.next = 5;\n                break;\n              }\n              throw new Error(\"One Tap could not load: \".concat(clientResult.reason));\n            case 5:\n              client = clientResult.client;\n              onSuccessCallback = this._oneTap.createOnDiscoverySuccessHandler({\n                discoveryRedirectUrl: options.discovery_redirect_url,\n                onSuccess: this._oneTap.RedirectOnSuccess\n              });\n              return _context5.abrupt(\"return\", client.render({\n                style: {\n                  position: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.e.floating\n                },\n                callback: onSuccessCallback\n              }));\n            case 8:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n    };\n    _this.startOneTap = function (options) {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(_assertThisInitialized(_this), void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var clientResult, client, onSuccessCallback;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (options.organization_id) {\n                _context6.next = 2;\n                break;\n              }\n              throw new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a2('stytch.oauth.googleOneTap.start', 'organization_id is a required argument');\n            case 2:\n              _context6.next = 4;\n              return this._oneTap.createOneTapClient();\n            case 4:\n              clientResult = _context6.sent;\n              if (clientResult.success) {\n                _context6.next = 7;\n                break;\n              }\n              throw new Error(\"One Tap could not load: \".concat(clientResult.reason));\n            case 7:\n              client = clientResult.client;\n              onSuccessCallback = this._oneTap.createOnSuccessHandler({\n                organizationId: options.organization_id,\n                signupRedirectUrl: options.signup_redirect_url,\n                loginRedirectUrl: options.login_redirect_url,\n                onSuccess: this._oneTap.RedirectOnSuccess\n              });\n              return _context6.abrupt(\"return\", client.render({\n                style: {\n                  position: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.e.floating\n                },\n                callback: onSuccessCallback\n              }));\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n    };\n    _this.googleOneTap = {\n      discovery: {\n        start: _this.startOneTapDiscovery\n      },\n      start: _this.startOneTap\n    };\n    return _this;\n  }\n  return _createClass(HeadlessB2BOAuthClient);\n}(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aa);\nvar BOOTSTRAP_CACHE_KEY = 'bootstrap';\nvar DEFAULT_BOOTSTRAP = function DEFAULT_BOOTSTRAP() {\n  return {\n    displayWatermark: false,\n    cnameDomain: null,\n    emailDomains: ['stytch.com'],\n    captchaSettings: {\n      enabled: false\n    },\n    pkceRequiredForEmailMagicLinks: false,\n    pkceRequiredForPasswordResets: false,\n    pkceRequiredForOAuth: false,\n    pkceRequiredForSso: false,\n    slugPattern: null,\n    createOrganizationEnabled: false,\n    passwordConfig: null,\n    runDFPProtectedAuth: false,\n    rbacPolicy: null\n  };\n};\nvar BootstrapDataManager = /*#__PURE__*/function () {\n  function BootstrapDataManager(_publicToken, _networkClient, _dataLayer) {\n    var _this2 = this;\n    _classCallCheck(this, BootstrapDataManager);\n    this._publicToken = _publicToken;\n    this._networkClient = _networkClient;\n    this._dataLayer = _dataLayer;\n    this._bootstrapDataPromise = this._networkClient.fetchSDK({\n      url: \"/projects/bootstrap/\".concat(this._publicToken),\n      method: 'GET',\n      errorMessage: \"Error fetching bootstrap data for SDK for \".concat(this._publicToken)\n    }).then(BootstrapDataManager.mapBootstrapData).then(function (data) {\n      _this2._dataLayer.setItem(BOOTSTRAP_CACHE_KEY, JSON.stringify(data));\n      return data;\n    })[\"catch\"](function (error) {\n      _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.l.error(error);\n      return DEFAULT_BOOTSTRAP();\n    });\n  }\n  _createClass(BootstrapDataManager, [{\n    key: \"getSync\",\n    value: function getSync() {\n      var cached = this._dataLayer.getItem(BOOTSTRAP_CACHE_KEY);\n      if (cached === null) {\n        return DEFAULT_BOOTSTRAP();\n      }\n      try {\n        return JSON.parse(cached);\n      } catch (_a) {\n        return DEFAULT_BOOTSTRAP();\n      }\n    }\n  }, {\n    key: \"getAsync\",\n    value: function getAsync() {\n      return this._bootstrapDataPromise;\n    }\n  }], [{\n    key: \"mapBootstrapData\",\n    value: function mapBootstrapData(response) {\n      var _a, _b;\n      var passwordConfig = response.password_config !== null ? {\n        ludsComplexity: response.password_config.luds_complexity,\n        ludsMinimumCount: response.password_config.luds_minimum_count\n      } : null;\n      return {\n        displayWatermark: !response.disable_sdk_watermark,\n        captchaSettings: response.captcha_settings,\n        cnameDomain: response.cname_domain,\n        emailDomains: response.email_domains,\n        pkceRequiredForEmailMagicLinks: response.pkce_required_for_email_magic_links,\n        pkceRequiredForPasswordResets: response.pkce_required_for_password_resets,\n        pkceRequiredForOAuth: response.pkce_required_for_oauth,\n        pkceRequiredForSso: response.pkce_required_for_sso,\n        slugPattern: response.slug_pattern,\n        createOrganizationEnabled: response.create_organization_enabled,\n        passwordConfig: passwordConfig,\n        runDFPProtectedAuth: (_a = response.dfp_protected_auth_enabled) !== null && _a !== void 0 ? _a : false,\n        dfpProtectedAuthMode: response.dfp_protected_auth_mode,\n        rbacPolicy: (_b = response.rbac_policy) !== null && _b !== void 0 ? _b : null\n      };\n    }\n  }]);\n  return BootstrapDataManager;\n}();\nvar loadRecaptchaClient = function loadRecaptchaClient(siteKey) {\n  return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ab)(\"https://www.google.com/recaptcha/enterprise.js?render=\".concat(siteKey), function () {\n    return window.grecaptcha.enterprise;\n  });\n};\nvar CaptchaProvider = /*#__PURE__*/_createClass(function CaptchaProvider(bootstrapPromise) {\n  var _this3 = this;\n  _classCallCheck(this, CaptchaProvider);\n  this.bootstrapPromise = bootstrapPromise;\n  this.executeRecaptcha = function () {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(_this3, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n      var _yield$this$state, captchaClient, configured, siteKey;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return this.state;\n          case 2:\n            _yield$this$state = _context7.sent;\n            captchaClient = _yield$this$state.captchaClient;\n            configured = _yield$this$state.configured;\n            siteKey = _yield$this$state.siteKey;\n            if (configured) {\n              _context7.next = 8;\n              break;\n            }\n            return _context7.abrupt(\"return\", undefined);\n          case 8:\n            _context7.next = 10;\n            return new Promise(function (resolve) {\n              return captchaClient.ready(resolve);\n            });\n          case 10:\n            return _context7.abrupt(\"return\", captchaClient.execute(siteKey, {\n              action: 'LOGIN'\n            }));\n          case 11:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7, this);\n    }));\n  };\n  this.state = bootstrapPromise.then(function (bootstrapData) {\n    return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(_this3, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            if (bootstrapData.captchaSettings.enabled) {\n              _context8.next = 2;\n              break;\n            }\n            return _context8.abrupt(\"return\", {\n              configured: false\n            });\n          case 2:\n            _context8.next = 4;\n            return loadRecaptchaClient(bootstrapData.captchaSettings.siteKey);\n          case 4:\n            _context8.t0 = _context8.sent;\n            _context8.t1 = bootstrapData.captchaSettings.siteKey;\n            return _context8.abrupt(\"return\", {\n              configured: true,\n              captchaClient: _context8.t0,\n              siteKey: _context8.t1\n            });\n          case 7:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8);\n    }));\n  });\n});\nvar ClientsideServicesProvider = /*#__PURE__*/function () {\n  function ClientsideServicesProvider(iframeURL) {\n    var _this4 = this;\n    _classCallCheck(this, ClientsideServicesProvider);\n    this.iframeURL = iframeURL;\n    this.oneTapStart = function (req) {\n      return _this4.call('oneTapStart', req);\n    };\n    this.oneTapSubmit = function (req) {\n      return _this4.call('oneTapSubmit', req);\n    };\n    this.parsedPhoneNumber = function (req) {\n      return _this4.call('parsedPhoneNumber', req);\n    };\n  }\n  _createClass(ClientsideServicesProvider, [{\n    key: \"frameClient\",\n    get: function get() {\n      var _a;\n      this._frameClient = (_a = this._frameClient) !== null && _a !== void 0 ? _a : new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ac(this.iframeURL);\n      return this._frameClient;\n    }\n  }, {\n    key: \"call\",\n    value: function call(handlerName, req) {\n      return this.frameClient.call(handlerName, [req]);\n    }\n  }]);\n  return ClientsideServicesProvider;\n}();\nvar version = \"4.15.0\";\nvar NetworkClient = /*#__PURE__*/function () {\n  function NetworkClient(_publicToken, _subscriptionDataLayer, baseURL, additionalTelemetryDataFn) {\n    _classCallCheck(this, NetworkClient);\n    this._publicToken = _publicToken;\n    this._subscriptionDataLayer = _subscriptionDataLayer;\n    this.baseURL = baseURL;\n    this.additionalTelemetryDataFn = additionalTelemetryDataFn;\n    this.updateSessionToken = function () {\n      return null;\n    };\n    this.eventLogger = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ad({\n      maxBatchSize: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ae,\n      intervalDurationMs: _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.af,\n      logEventURL: this.buildSDKUrl('/events')\n    });\n  }\n  _createClass(NetworkClient, [{\n    key: \"logEvent\",\n    value: function logEvent(_ref6) {\n      var name = _ref6.name,\n        details = _ref6.details,\n        _ref6$error = _ref6.error,\n        error = _ref6$error === void 0 ? {} : _ref6$error;\n      this.eventLogger.logEvent(this.createTelemetryBlob(), {\n        public_token: this._publicToken,\n        event_name: name,\n        details: details,\n        error_code: error.error_code,\n        error_description: error.error_description,\n        http_status_code: error.http_status_code\n      });\n    }\n  }, {\n    key: \"createTelemetryBlob\",\n    value: function createTelemetryBlob() {\n      return Object.assign(Object.assign({\n        event_id: (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ag)(),\n        app_session_id: (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ah)(),\n        persistent_id: (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ai)(),\n        client_sent_at: new Date().toISOString(),\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n      }, this.additionalTelemetryDataFn()), {\n        app: {\n          identifier: window.location.hostname\n        },\n        sdk: {\n          identifier: 'Stytch.js Javascript SDK',\n          version: version\n        }\n      });\n    }\n  }, {\n    key: \"fetchSDK\",\n    value: function fetchSDK(_ref7) {\n      var url = _ref7.url,\n        body = _ref7.body,\n        errorMessage = _ref7.errorMessage,\n        method = _ref7.method;\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var sessionToken, basicAuthHeader, xSDKClientHeader, xSDKParentHostHeader;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              sessionToken = this._subscriptionDataLayer.readSessionCookie().session_token;\n              basicAuthHeader = 'Basic ' + window.btoa(this._publicToken + ':' + (sessionToken || this._publicToken));\n              xSDKClientHeader = window.btoa(JSON.stringify(this.createTelemetryBlob()));\n              xSDKParentHostHeader = window.location.origin;\n              return _context9.abrupt(\"return\", (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aj)({\n                basicAuthHeader: basicAuthHeader,\n                body: body,\n                errorMessage: errorMessage,\n                finalURL: this.buildSDKUrl(url),\n                method: method,\n                xSDKClientHeader: xSDKClientHeader,\n                xSDKParentHostHeader: xSDKParentHostHeader\n              }));\n            case 5:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, this);\n      }));\n    }\n  }, {\n    key: \"retriableFetchSDK\",\n    value: function retriableFetchSDK(_ref8) {\n      var url = _ref8.url,\n        body = _ref8.body,\n        errorMessage = _ref8.errorMessage,\n        method = _ref8.method,\n        retryCallback = _ref8.retryCallback;\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var sessionToken, basicAuthHeader, xSDKClientHeader, xSDKParentHostHeader;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              sessionToken = this._subscriptionDataLayer.readSessionCookie().session_token;\n              basicAuthHeader = 'Basic ' + window.btoa(this._publicToken + ':' + (sessionToken || this._publicToken));\n              xSDKClientHeader = window.btoa(JSON.stringify(this.createTelemetryBlob()));\n              xSDKParentHostHeader = window.location.origin;\n              return _context10.abrupt(\"return\", (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ak)({\n                basicAuthHeader: basicAuthHeader,\n                body: body,\n                errorMessage: errorMessage,\n                finalURL: this.buildSDKUrl(url),\n                method: method,\n                xSDKClientHeader: xSDKClientHeader,\n                xSDKParentHostHeader: xSDKParentHostHeader,\n                retryCallback: retryCallback\n              }));\n            case 5:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10, this);\n      }));\n    }\n  }, {\n    key: \"buildSDKUrl\",\n    value: function buildSDKUrl(url) {\n      return \"\".concat(this.baseURL, \"/sdk/v1\").concat(url);\n    }\n  }]);\n  return NetworkClient;\n}();\nvar PKCE_VERIFIER_STORAGE_KEY = 'PKCE_VERIFIER';\nfunction toHex(n) {\n  var str = n.toString(16);\n  if (str.length === 1) {\n    str = '0' + str;\n  }\n  return str;\n}\nfunction base64URLEncode(buf) {\n  var _String$fromCharCode;\n  return btoa((_String$fromCharCode = String.fromCharCode).call.apply(_String$fromCharCode, [null].concat(_toConsumableArray(new Uint8Array(buf))))).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\nvar PKCEManager = /*#__PURE__*/function () {\n  function PKCEManager(_dataLayer, namespace) {\n    _classCallCheck(this, PKCEManager);\n    this._dataLayer = _dataLayer;\n    this.namespace = namespace;\n  }\n  _createClass(PKCEManager, [{\n    key: \"key\",\n    value: function key() {\n      return PKCE_VERIFIER_STORAGE_KEY + ':' + this.namespace;\n    }\n  }, {\n    key: \"startPKCETransaction\",\n    value: function startPKCETransaction() {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var keyPair;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return PKCEManager.createProofkeyPair();\n            case 2:\n              keyPair = _context11.sent;\n              this._dataLayer.setItem(this.key(), JSON.stringify(keyPair));\n              return _context11.abrupt(\"return\", keyPair);\n            case 5:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11, this);\n      }));\n    }\n  }, {\n    key: \"getPKPair\",\n    value: function getPKPair() {\n      var serialized = this._dataLayer.getItem(this.key());\n      if (serialized === null) {\n        return undefined;\n      }\n      try {\n        return JSON.parse(serialized);\n      } catch (_a) {\n        _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.l.warn('Found malformed Proof Key pair in localstorage.');\n        return undefined;\n      }\n    }\n  }, {\n    key: \"clearPKPair\",\n    value: function clearPKPair() {\n      return this._dataLayer.removeItem(this.key());\n    }\n  }], [{\n    key: \"createProofkeyPair\",\n    value: function createProofkeyPair() {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        var bytes, codeVerifier, digest;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              bytes = new Uint32Array(16);\n              window.crypto.getRandomValues(bytes);\n              codeVerifier = Array.from(bytes).map(toHex).join('');\n              _context12.next = 5;\n              return window.crypto.subtle.digest('SHA-256', new TextEncoder().encode(codeVerifier));\n            case 5:\n              digest = _context12.sent;\n              return _context12.abrupt(\"return\", {\n                code_challenge: base64URLEncode(digest),\n                code_verifier: codeVerifier\n              });\n            case 7:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12);\n      }));\n    }\n  }]);\n  return PKCEManager;\n}();\nvar EMAIL_REGEX = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/i;\nvar debounce = function debounce(func) {\n  var waitFor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n  var timeout;\n  var debounced = function debounced() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(void 0, args);\n    }, waitFor);\n  };\n  return debounced;\n};\nvar isLocalhost = function isLocalhost() {\n  return Boolean(window.location.hostname === 'localhost' || window.location.hostname === '[::1]' || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n};\nvar buildFinalConfig = function buildFinalConfig(opts) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  return {\n    cookieOptions: opts === null || opts === void 0 ? void 0 : opts.cookieOptions,\n    endpoints: {\n      sdkBackendURL: (_b = (_a = opts === null || opts === void 0 ? void 0 : opts.endpoints) === null || _a === void 0 ? void 0 : _a.sdkBackendURL) !== null && _b !== void 0 ? _b : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.al,\n      testAPIURL: (_d = (_c = opts === null || opts === void 0 ? void 0 : opts.endpoints) === null || _c === void 0 ? void 0 : _c.testAPIURL) !== null && _d !== void 0 ? _d : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.am,\n      liveAPIURL: (_f = (_e = opts === null || opts === void 0 ? void 0 : opts.endpoints) === null || _e === void 0 ? void 0 : _e.liveAPIURL) !== null && _f !== void 0 ? _f : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.an,\n      dfpBackendURL: (_h = (_g = opts === null || opts === void 0 ? void 0 : opts.endpoints) === null || _g === void 0 ? void 0 : _g.dfpBackendURL) !== null && _h !== void 0 ? _h : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ao,\n      clientsideServicesIframeURL: (_k = (_j = opts === null || opts === void 0 ? void 0 : opts.endpoints) === null || _j === void 0 ? void 0 : _j.clientsideServicesIframeURL) !== null && _k !== void 0 ? _k : _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ap\n    }\n  };\n};\nvar hasMultipleCookies = function hasMultipleCookies(cookieName) {\n  var cookiePairs = document.cookie ? document.cookie.split('; ') : [];\n  var matchedCookies = cookiePairs.filter(function (pair) {\n    var _pair$split = pair.split('='),\n      _pair$split2 = _slicedToArray(_pair$split, 1),\n      name = _pair$split2[0];\n    return cookieName === name;\n  });\n  return matchedCookies.length > 1;\n};\n\n/*! js-cookie v3.0.1 | MIT */\nfunction assign(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar defaultConverter = {\n  read: function read(value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\n  },\n  write: function write(value) {\n    return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);\n  }\n};\nfunction init(converter, defaultAttributes) {\n  function set(key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    attributes = assign({}, defaultAttributes, attributes);\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n    key = encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue;\n      }\n      stringifiedAttributes += '; ' + attributeName;\n      if (attributes[attributeName] === true) {\n        continue;\n      }\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n    return document.cookie = key + '=' + converter.write(value, key) + stringifiedAttributes;\n  }\n  function get(key) {\n    if (typeof document === 'undefined' || arguments.length && !key) {\n      return;\n    }\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n        if (key === foundKey) {\n          break;\n        }\n      } catch (e) {}\n    }\n    return key ? jar[key] : jar;\n  }\n  return Object.create({\n    set: set,\n    get: get,\n    remove: function remove(key, attributes) {\n      set(key, '', assign({}, attributes, {\n        expires: -1\n      }));\n    },\n    withAttributes: function withAttributes(attributes) {\n      return init(this.converter, assign({}, this.attributes, attributes));\n    },\n    withConverter: function withConverter(converter) {\n      return init(assign({}, this.converter, converter), this.attributes);\n    }\n  }, {\n    attributes: {\n      value: Object.freeze(defaultAttributes)\n    },\n    converter: {\n      value: Object.freeze(converter)\n    }\n  });\n}\nvar api = init(defaultConverter, {\n  path: '/'\n});\nvar cookieVerificationTimeouts = new Map();\nvar cancelCookieRestoration = function cancelCookieRestoration(name) {\n  clearTimeout(cookieVerificationTimeouts.get(name));\n};\nvar setCookiePersistently = function setCookiePersistently(name, value, options) {\n  var COOKIE_VERIFY_DELAY_MS = 10;\n  cancelCookieRestoration(name);\n  var timeoutId = setTimeout(function () {\n    if (api.get(name) === undefined) {\n      api.set(name, value, options);\n    }\n  }, COOKIE_VERIFY_DELAY_MS);\n  cookieVerificationTimeouts.set(name, timeoutId);\n  return api.set(name, value, options);\n};\nvar STYTCH_SESSION_COOKIE = 'stytch_session';\nvar STYTCH_SESSION_JWT_COOKIE = 'stytch_session_jwt';\nvar STYTCH_INTERMEDIATE_SESSION_TOKEN_COOKIE = 'stytch_intermediate_session_token';\nvar SubscriptionDataLayer = /*#__PURE__*/function () {\n  function SubscriptionDataLayer(publicToken, options) {\n    var _this5 = this;\n    _classCallCheck(this, SubscriptionDataLayer);\n    this.browserSessionStorage = {\n      getItem: function getItem(key) {\n        return sessionStorage.getItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(_this5.publicToken, key));\n      },\n      setItem: function setItem(key, value) {\n        return sessionStorage.setItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(_this5.publicToken, key), value);\n      },\n      removeItem: function removeItem(key) {\n        return sessionStorage.removeItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(_this5.publicToken, key));\n      }\n    };\n    this.publicToken = publicToken;\n    this.state = null;\n    this.stateKeysUpdated = new Set();\n    this.subscriptions = {};\n    if (options === null || options === void 0 ? void 0 : options.cookieOptions) {\n      (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aq)('SubscriptionDataLayer').isOptionalString('cookieOptions.opaqueTokenCookieName', options.cookieOptions.opaqueTokenCookieName).isOptionalString('cookieOptions.jwtCookieName', options.cookieOptions.jwtCookieName).isOptionalString('cookieOptions.istCookieName', options.cookieOptions.istCookieName).isOptionalString('cookieOptions.path', options.cookieOptions.path).isOptionalString('cookieOptions.domain', options.cookieOptions.domain);\n      this._jwtCookieName = options.cookieOptions.jwtCookieName || null;\n      this._opaqueTokenCookieName = options.cookieOptions.opaqueTokenCookieName || null;\n      this._cookiePath = options.cookieOptions.path || null;\n      this._domain = options.cookieOptions.domain || null;\n      this._cookieAvailableToSubdomains = options.cookieOptions.availableToSubdomains || false;\n      this._istCookieName = options.cookieOptions.istCookieName || null;\n    } else {\n      this._opaqueTokenCookieName = null;\n      this._jwtCookieName = null;\n      this._cookiePath = null;\n      this._domain = null;\n      this._cookieAvailableToSubdomains = false;\n      this._istCookieName = null;\n    }\n    var localStorageState = localStorage.getItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(this.publicToken));\n    if (!localStorageState) {\n      return;\n    }\n    var parsedState;\n    try {\n      parsedState = JSON.parse(localStorageState);\n    } catch (e) {\n      this.syncToLocalStorage();\n      return;\n    }\n    this.state = parsedState;\n  }\n  _createClass(SubscriptionDataLayer, [{\n    key: \"opaqueTokenCookieName\",\n    get: function get() {\n      var _a;\n      return (_a = this._opaqueTokenCookieName) !== null && _a !== void 0 ? _a : STYTCH_SESSION_COOKIE;\n    }\n  }, {\n    key: \"jwtCookieName\",\n    get: function get() {\n      var _a;\n      return (_a = this._jwtCookieName) !== null && _a !== void 0 ? _a : STYTCH_SESSION_JWT_COOKIE;\n    }\n  }, {\n    key: \"istCookieName\",\n    get: function get() {\n      var _a;\n      return (_a = this._istCookieName) !== null && _a !== void 0 ? _a : STYTCH_INTERMEDIATE_SESSION_TOKEN_COOKIE;\n    }\n  }, {\n    key: \"readSessionCookie\",\n    value: function readSessionCookie() {\n      return {\n        session_token: api.get(this.opaqueTokenCookieName),\n        session_jwt: api.get(this.jwtCookieName)\n      };\n    }\n  }, {\n    key: \"readIntermediateSessionTokenCookie\",\n    value: function readIntermediateSessionTokenCookie() {\n      return api.get(this.istCookieName);\n    }\n  }, {\n    key: \"writeSessionCookie\",\n    value: function writeSessionCookie(stateDiff) {\n      var _a, _b, _c, _d;\n      var state = stateDiff.state,\n        session_token = stateDiff.session_token,\n        session_jwt = stateDiff.session_jwt;\n      var cookieOpts = SubscriptionDataLayer.generateCookieOpts({\n        expiresAt: (_b = (_a = state === null || state === void 0 ? void 0 : state.session) === null || _a === void 0 ? void 0 : _a.expires_at) !== null && _b !== void 0 ? _b : '',\n        availableToSubdomains: this._cookieAvailableToSubdomains,\n        path: this._cookiePath,\n        domain: this._domain\n      });\n      setCookiePersistently(this.opaqueTokenCookieName, session_token, cookieOpts);\n      setCookiePersistently(this.jwtCookieName, session_jwt, cookieOpts);\n      var alternateCookieOptions = SubscriptionDataLayer.generateCookieOpts({\n        expiresAt: (_d = (_c = state === null || state === void 0 ? void 0 : state.session) === null || _c === void 0 ? void 0 : _c.expires_at) !== null && _d !== void 0 ? _d : '',\n        availableToSubdomains: !this._cookieAvailableToSubdomains,\n        path: this._cookiePath,\n        domain: this._domain\n      });\n      if (hasMultipleCookies(this.jwtCookieName)) {\n        api.remove(this.jwtCookieName, alternateCookieOptions);\n      }\n      if (hasMultipleCookies(this.opaqueTokenCookieName)) {\n        api.remove(this.opaqueTokenCookieName, alternateCookieOptions);\n      }\n      if (hasMultipleCookies(this.jwtCookieName)) {\n        _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.l.warn('Could not remove extraneous JWT cookie. This might happen if the cookie has been set using multiple `path` settings, and may produce unwanted behavior.');\n      }\n      if (hasMultipleCookies(this.opaqueTokenCookieName)) {\n        _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.l.warn('Could not remove extraneous opaque token cookie.');\n      }\n    }\n  }, {\n    key: \"writeIntermediateSessionTokenCookie\",\n    value: function writeIntermediateSessionTokenCookie(IST) {\n      var expiresAtTime = new Date(Date.now() + 10 * 60000);\n      var cookieOpts = SubscriptionDataLayer.generateCookieOpts({\n        expiresAt: expiresAtTime.toString(),\n        availableToSubdomains: this._cookieAvailableToSubdomains,\n        path: this._cookiePath,\n        domain: this._domain\n      });\n      setCookiePersistently(this.istCookieName, IST, cookieOpts);\n    }\n  }, {\n    key: \"removeSessionCookie\",\n    value: function removeSessionCookie() {\n      this.removeCookies([this.opaqueTokenCookieName, this.jwtCookieName]);\n    }\n  }, {\n    key: \"removeISTCookie\",\n    value: function removeISTCookie() {\n      this.removeCookies([this.istCookieName]);\n    }\n  }, {\n    key: \"removeCookies\",\n    value: function removeCookies(cookiesToRemove) {\n      var _this6 = this;\n      [true, false].forEach(function (availableToSubdomains) {\n        [_this6._cookiePath, null].forEach(function (path) {\n          [_this6._domain, null].forEach(function (domain) {\n            var cookieOpts = SubscriptionDataLayer.generateCookieOpts({\n              expiresAt: new Date(0).toString(),\n              availableToSubdomains: availableToSubdomains,\n              path: path,\n              domain: domain\n            });\n            cookiesToRemove.forEach(function (cookieName) {\n              api.remove(cookieName, cookieOpts);\n            });\n          });\n        });\n      });\n      cookiesToRemove.forEach(cancelCookieRestoration);\n    }\n  }, {\n    key: \"syncToLocalStorage\",\n    value: function syncToLocalStorage() {\n      localStorage.setItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(this.publicToken), JSON.stringify(this.state));\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key) {\n      return localStorage.getItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(this.publicToken, key));\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      return localStorage.setItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(this.publicToken, key), value);\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key) {\n      return localStorage.removeItem((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(this.publicToken, key));\n    }\n  }], [{\n    key: \"generateCookieOpts\",\n    value: function generateCookieOpts(_ref9) {\n      var path = _ref9.path,\n        domain = _ref9.domain,\n        availableToSubdomains = _ref9.availableToSubdomains,\n        expiresAt = _ref9.expiresAt;\n      var cookieOpts = {\n        expires: new Date(expiresAt),\n        sameSite: 'lax'\n      };\n      if (path) {\n        cookieOpts.path = path;\n      }\n      if (isLocalhost()) {\n        cookieOpts.secure = false;\n      } else {\n        if (availableToSubdomains) {\n          cookieOpts.domain = domain || window.location.host;\n        }\n        cookieOpts.secure = true;\n      }\n      return cookieOpts;\n    }\n  }]);\n  return SubscriptionDataLayer;\n}();\nvar B2BSubscriptionDataLayer = /*#__PURE__*/function (_SubscriptionDataLaye) {\n  _inherits(B2BSubscriptionDataLayer, _SubscriptionDataLaye);\n  function B2BSubscriptionDataLayer() {\n    _classCallCheck(this, B2BSubscriptionDataLayer);\n    return _callSuper(this, B2BSubscriptionDataLayer, arguments);\n  }\n  return _createClass(B2BSubscriptionDataLayer);\n}(SubscriptionDataLayer);\nvar b2bDataLayerCacheSymbol = Symbol[\"for\"]('__stytch_b2b_DataLayer');\nvar getB2BDataLayerCache = function getB2BDataLayerCache() {\n  var wdw = window;\n  if (!wdw[b2bDataLayerCacheSymbol]) {\n    wdw[b2bDataLayerCacheSymbol] = {};\n  }\n  return wdw[b2bDataLayerCacheSymbol];\n};\nvar getB2BDataLayer = function getB2BDataLayer(publicToken, options) {\n  var dataLayerCache = getB2BDataLayerCache();\n  if (!dataLayerCache[publicToken]) {\n    dataLayerCache[publicToken] = new B2BSubscriptionDataLayer(publicToken, options);\n  }\n  return dataLayerCache[publicToken];\n};\nvar addSubscriber = function addSubscriber(collection, subscriber) {\n  var uniqueId = Math.random().toString(36).slice(-10);\n  collection[uniqueId] = subscriber;\n  return function () {\n    return delete collection[uniqueId];\n  };\n};\nvar notifySubscribers = function notifySubscribers(collection, value) {\n  Object.values(collection).forEach(function (cb) {\n    return cb(value);\n  });\n};\nvar deepEqualData = createDeepEqual({\n  KEYS_TO_EXCLUDE: ['last_accessed_at']\n});\nvar BaseSubscriptionService = /*#__PURE__*/function () {\n  function BaseSubscriptionService(_publicToken, _datalayer) {\n    var _this7 = this;\n    _classCallCheck(this, BaseSubscriptionService);\n    this._publicToken = _publicToken;\n    this._datalayer = _datalayer;\n    this.fromCache = true;\n    this._listen = function (e) {\n      if (e.key !== (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.a9)(_this7._publicToken)) {\n        return;\n      }\n      var parsedValue = e.newValue === null || e.newValue === 'null' ? null : JSON.parse(e.newValue);\n      _this7.updateState(parsedValue, true);\n    };\n    window.addEventListener('storage', this._listen);\n    var _this$_datalayer$read = this._datalayer.readSessionCookie(),\n      session_token = _this$_datalayer$read.session_token;\n    if (!session_token) {\n      this.destroySession();\n      return;\n    }\n  }\n  _createClass(BaseSubscriptionService, [{\n    key: \"getTokens\",\n    value: function getTokens() {\n      var _this$_datalayer$read2 = this._datalayer.readSessionCookie(),\n        session_token = _this$_datalayer$read2.session_token,\n        session_jwt = _this$_datalayer$read2.session_jwt;\n      if (!(typeof session_token === 'string') || !(typeof session_jwt === 'string')) {\n        return null;\n      }\n      return {\n        session_token: session_token,\n        session_jwt: session_jwt\n      };\n    }\n  }, {\n    key: \"getIntermediateSessionToken\",\n    value: function getIntermediateSessionToken() {\n      return this._datalayer.readIntermediateSessionTokenCookie() || null;\n    }\n  }, {\n    key: \"destroyState\",\n    value: function destroyState() {\n      this.updateStateAndTokens({\n        state: null,\n        session_token: null,\n        session_jwt: null,\n        intermediate_session_token: null\n      });\n    }\n  }, {\n    key: \"destroySession\",\n    value: function destroySession() {\n      this._datalayer.removeSessionCookie();\n      this.updateState(null);\n    }\n  }, {\n    key: \"_updateStateAndTokensInternal\",\n    value: function _updateStateAndTokensInternal(stateDiff) {\n      var oldStateValue = this._datalayer.state;\n      var newStateValue = stateDiff.state === null ? null : Object.assign(Object.assign({}, this._datalayer.state), stateDiff.state);\n      this._datalayer.state = newStateValue;\n      var wasCached = this.getFromCache();\n      this.setCacheRefreshed();\n      if (wasCached || !deepEqualData(oldStateValue, newStateValue)) {\n        notifySubscribers(this._datalayer.subscriptions, newStateValue);\n      }\n    }\n  }, {\n    key: \"updateStateAndTokens\",\n    value: function updateStateAndTokens(stateDiff) {\n      if (stateDiff.state) {\n        this._datalayer.writeSessionCookie(stateDiff);\n        this._datalayer.removeISTCookie();\n      } else if (stateDiff.intermediate_session_token) {\n        this._datalayer.writeIntermediateSessionTokenCookie(stateDiff.intermediate_session_token);\n        this._datalayer.removeSessionCookie();\n      } else {\n        this._datalayer.removeSessionCookie();\n        this._datalayer.removeISTCookie();\n      }\n      this._updateStateAndTokensInternal(stateDiff);\n      this._datalayer.syncToLocalStorage();\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(state) {\n      var fromExternalSource = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var oldStateValue = this._datalayer.state;\n      var newStateValue = state === null ? null : Object.assign(Object.assign({}, this._datalayer.state), state);\n      this._datalayer.state = newStateValue;\n      var wasCached = this.getFromCache();\n      this.setCacheRefreshed();\n      var hasStateChanged = !deepEqualData(oldStateValue, newStateValue);\n      if (wasCached || hasStateChanged) {\n        notifySubscribers(this._datalayer.subscriptions, newStateValue);\n        if (hasStateChanged && !fromExternalSource) {\n          this._datalayer.syncToLocalStorage();\n        }\n      }\n    }\n  }, {\n    key: \"updateTokens\",\n    value: function updateTokens(tokens) {\n      var session_token = tokens.session_token,\n        session_jwt = tokens.session_jwt;\n      var cookie = this._datalayer.readSessionCookie();\n      var diff = Object.assign(Object.assign({}, cookie), {\n        session_token: session_token,\n        session_jwt: session_jwt\n      });\n      if (session_token || session_jwt) {\n        this._datalayer.writeSessionCookie(diff);\n        this._datalayer.removeISTCookie();\n      } else {\n        this._datalayer.removeSessionCookie();\n      }\n    }\n  }, {\n    key: \"subscribeToState\",\n    value: function subscribeToState(callback) {\n      return addSubscriber(this._datalayer.subscriptions, callback);\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._datalayer.state;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener('storage', this._listen);\n    }\n  }, {\n    key: \"syncFromDeviceStorage\",\n    value: function syncFromDeviceStorage() {\n      return null;\n    }\n  }, {\n    key: \"getFromCache\",\n    value: function getFromCache() {\n      return this.fromCache;\n    }\n  }, {\n    key: \"setCacheRefreshed\",\n    value: function setCacheRefreshed() {\n      this.fromCache = false;\n    }\n  }]);\n  return BaseSubscriptionService;\n}();\nvar B2BSubscriptionService = /*#__PURE__*/function (_BaseSubscriptionServ) {\n  _inherits(B2BSubscriptionService, _BaseSubscriptionServ);\n  function B2BSubscriptionService() {\n    var _this8;\n    _classCallCheck(this, B2BSubscriptionService);\n    _this8 = _callSuper(this, B2BSubscriptionService, arguments);\n    _this8.updateMember = function (member) {\n      return _this8.updateState({\n        member: member\n      });\n    };\n    _this8.getMember = function () {\n      var _a, _b;\n      return (_b = (_a = _this8.getState()) === null || _a === void 0 ? void 0 : _a.member) !== null && _b !== void 0 ? _b : null;\n    };\n    _this8.updateOrganization = function (organization) {\n      return _this8.updateState({\n        organization: organization\n      });\n    };\n    _this8.getOrganization = function () {\n      var _a, _b;\n      return (_b = (_a = _this8.getState()) === null || _a === void 0 ? void 0 : _a.organization) !== null && _b !== void 0 ? _b : null;\n    };\n    _this8.getSession = function () {\n      var _a, _b;\n      return (_b = (_a = _this8.getState()) === null || _a === void 0 ? void 0 : _a.session) !== null && _b !== void 0 ? _b : null;\n    };\n    return _this8;\n  }\n  return _createClass(B2BSubscriptionService);\n}(BaseSubscriptionService);\nvar navigatorSupportsFedCM = typeof window !== 'undefined' && 'IdentityCredential' in window;\nvar getConfiguredEmbeddedMode = function getConfiguredEmbeddedMode(position) {\n  if (position === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.e.forceLegacyEmbedded) {\n    return 'force';\n  }\n  if (position === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.e.embeddedOnly || position === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.e.embedded || position === _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.e.floatingOrEmbedded) {\n    return true;\n  }\n  return false;\n};\nvar getShouldRenderEmbeddedOneTap = function getShouldRenderEmbeddedOneTap(position) {\n  var embeddedMode = getConfiguredEmbeddedMode(position);\n  return embeddedMode === 'force' || embeddedMode && !navigatorSupportsFedCM;\n};\nvar GoogleOneTapClient = /*#__PURE__*/function () {\n  function GoogleOneTapClient(_googleClient, _clientId) {\n    _classCallCheck(this, GoogleOneTapClient);\n    this._googleClient = _googleClient;\n    this._clientId = _clientId;\n  }\n  _createClass(GoogleOneTapClient, [{\n    key: \"cancel\",\n    value: function cancel() {\n      this._googleClient.cancel();\n    }\n  }, {\n    key: \"render\",\n    value: function render(_ref10) {\n      var callback = _ref10.callback,\n        onOneTapCancelled = _ref10.onOneTapCancelled,\n        style = _ref10.style;\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        var _this9 = this;\n        var embeddedMode, shouldRenderEmbeddedOneTap, config;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              embeddedMode = getConfiguredEmbeddedMode(style.position);\n              shouldRenderEmbeddedOneTap = getShouldRenderEmbeddedOneTap(style.position);\n              config = {\n                client_id: this._clientId,\n                callback: callback,\n                auto_select: false,\n                context: 'use',\n                itp_support: true,\n                use_fedcm_for_prompt: embeddedMode !== 'force'\n              };\n              if (shouldRenderEmbeddedOneTap) {\n                config.prompt_parent_id = 'google-parent-prompt';\n                config.cancel_on_tap_outside = false;\n              }\n              this._googleClient.initialize(config);\n              return _context13.abrupt(\"return\", new Promise(function (resolve) {\n                _this9._googleClient.prompt(function (notification) {\n                  var _a, _b, _c, _d, _e;\n                  if (notification.isSkippedMoment()) {\n                    var reason = (_b = (_a = notification.getSkippedReason) === null || _a === void 0 ? void 0 : _a.call(notification)) !== null && _b !== void 0 ? _b : 'unknown_reason';\n                    if (reason === 'user_cancel') {\n                      onOneTapCancelled === null || onOneTapCancelled === void 0 ? void 0 : onOneTapCancelled();\n                    }\n                    return resolve({\n                      success: false,\n                      reason: reason\n                    });\n                  }\n                  if (!notification.isNotDisplayed && shouldRenderEmbeddedOneTap || ((_c = notification.isNotDisplayed) === null || _c === void 0 ? void 0 : _c.call(notification))) {\n                    return resolve({\n                      success: false,\n                      reason: (_e = (_d = notification.getNotDisplayedReason) === null || _d === void 0 ? void 0 : _d.call(notification)) !== null && _e !== void 0 ? _e : 'unknown_reason'\n                    });\n                  }\n                  if (!notification.isDismissedMoment()) {\n                    _this9.styleFrame(shouldRenderEmbeddedOneTap);\n                    return resolve({\n                      success: true\n                    });\n                  }\n                });\n              }));\n            case 6:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee13, this);\n      }));\n    }\n  }, {\n    key: \"styleFrame\",\n    value: function styleFrame(shouldRenderEmbeddedOneTap) {\n      if (!shouldRenderEmbeddedOneTap) {\n        return;\n      }\n      Array.from(document.getElementsByTagName('iframe')).forEach(function (frame) {\n        if (frame.src.includes(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ar)) {\n          frame.style.width = '100%';\n        }\n      });\n    }\n  }]);\n  return GoogleOneTapClient;\n}();\nvar loadGoogleOneTapClient = function loadGoogleOneTapClient() {\n  return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ab)(_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.as, function () {\n    return window.google.accounts.id;\n  });\n};\nvar DefaultDynamicConfig = Promise.resolve({\n  pkceRequiredForOAuth: false\n});\nvar B2BOneTapProvider = /*#__PURE__*/function () {\n  function B2BOneTapProvider(_networkClient, _pkceManager) {\n    var _this10 = this;\n    var _config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultDynamicConfig;\n    _classCallCheck(this, B2BOneTapProvider);\n    this._networkClient = _networkClient;\n    this._pkceManager = _pkceManager;\n    this._config = _config;\n    this.createOnDiscoverySuccessHandler = function (_ref11) {\n      var discoveryRedirectUrl = _ref11.discoveryRedirectUrl,\n        onSuccess = _ref11.onSuccess,\n        onError = _ref11.onError;\n      return function (response) {\n        return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n          var credential, submitPromise;\n          return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n            while (1) switch (_context14.prev = _context14.next) {\n              case 0:\n                credential = response.credential;\n                submitPromise = this.submitGoogleOneTapTokenDiscovery({\n                  credential: credential,\n                  discoveryRedirectUrl: discoveryRedirectUrl\n                }).then(function (result) {\n                  return onSuccess(result.redirect_url);\n                });\n                if (onError) {\n                  submitPromise = submitPromise[\"catch\"](function (error) {\n                    return onError(error);\n                  });\n                }\n                _context14.next = 5;\n                return submitPromise;\n              case 5:\n              case \"end\":\n                return _context14.stop();\n            }\n          }, _callee14, this);\n        }));\n      };\n    };\n    this.createOnSuccessHandler = function (_ref12) {\n      var organizationId = _ref12.organizationId,\n        signupRedirectUrl = _ref12.signupRedirectUrl,\n        loginRedirectUrl = _ref12.loginRedirectUrl,\n        onSuccess = _ref12.onSuccess,\n        onError = _ref12.onError;\n      return function (response) {\n        return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n          var credential, submitPromise;\n          return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n            while (1) switch (_context15.prev = _context15.next) {\n              case 0:\n                credential = response.credential;\n                submitPromise = this.submitGoogleOneTapToken({\n                  credential: credential,\n                  organizationId: organizationId,\n                  signupRedirectUrl: signupRedirectUrl,\n                  loginRedirectUrl: loginRedirectUrl\n                }).then(function (result) {\n                  return onSuccess(result.redirect_url);\n                });\n                if (onError) {\n                  submitPromise = submitPromise[\"catch\"](function (error) {\n                    return onError(error);\n                  });\n                }\n                _context15.next = 5;\n                return submitPromise;\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }, _callee15, this);\n        }));\n      };\n    };\n    this.RedirectOnSuccess = function (redirect_url) {\n      window.location.href = redirect_url;\n    };\n  }\n  _createClass(B2BOneTapProvider, [{\n    key: \"fetchGoogleStart\",\n    value: function fetchGoogleStart() {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {\n        var oneTapStartResp;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) switch (_context16.prev = _context16.next) {\n            case 0:\n              if (!this.googleClientID) {\n                _context16.next = 2;\n                break;\n              }\n              return _context16.abrupt(\"return\", this.googleClientID);\n            case 2:\n              _context16.next = 4;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/oauth/google/onetap/start',\n                method: 'GET',\n                errorMessage: 'Failed to fetch google client ID'\n              });\n            case 4:\n              oneTapStartResp = _context16.sent;\n              this.googleClientID = oneTapStartResp.google_client_id;\n              return _context16.abrupt(\"return\", this.googleClientID);\n            case 7:\n            case \"end\":\n              return _context16.stop();\n          }\n        }, _callee16, this);\n      }));\n    }\n  }, {\n    key: \"submitGoogleOneTapTokenDiscovery\",\n    value: function submitGoogleOneTapTokenDiscovery(_ref13) {\n      var credential = _ref13.credential,\n        discoveryRedirectUrl = _ref13.discoveryRedirectUrl;\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee17() {\n        var codeChallenge, _yield$this$_config, pkceRequiredForOAuth, keyPair;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1) switch (_context17.prev = _context17.next) {\n            case 0:\n              codeChallenge = undefined;\n              _context17.next = 3;\n              return this._config;\n            case 3:\n              _yield$this$_config = _context17.sent;\n              pkceRequiredForOAuth = _yield$this$_config.pkceRequiredForOAuth;\n              if (!pkceRequiredForOAuth) {\n                _context17.next = 12;\n                break;\n              }\n              _context17.next = 8;\n              return this._pkceManager.startPKCETransaction();\n            case 8:\n              keyPair = _context17.sent;\n              codeChallenge = keyPair.code_challenge;\n              _context17.next = 13;\n              break;\n            case 12:\n              this._pkceManager.clearPKPair();\n            case 13:\n              _context17.next = 15;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/oauth/google/onetap/discovery/submit',\n                method: 'POST',\n                body: {\n                  id_token: credential,\n                  discovery_redirect_url: discoveryRedirectUrl,\n                  pkce_code_challenge: codeChallenge\n                },\n                errorMessage: 'Failed to submit One Tap ID token for discovery'\n              });\n            case 15:\n              return _context17.abrupt(\"return\", _context17.sent);\n            case 16:\n            case \"end\":\n              return _context17.stop();\n          }\n        }, _callee17, this);\n      }));\n    }\n  }, {\n    key: \"submitGoogleOneTapToken\",\n    value: function submitGoogleOneTapToken(_ref14) {\n      var credential = _ref14.credential,\n        organizationId = _ref14.organizationId,\n        signupRedirectUrl = _ref14.signupRedirectUrl,\n        loginRedirectUrl = _ref14.loginRedirectUrl;\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {\n        var codeChallenge, _yield$this$_config2, pkceRequiredForOAuth, keyPair;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1) switch (_context18.prev = _context18.next) {\n            case 0:\n              codeChallenge = undefined;\n              _context18.next = 3;\n              return this._config;\n            case 3:\n              _yield$this$_config2 = _context18.sent;\n              pkceRequiredForOAuth = _yield$this$_config2.pkceRequiredForOAuth;\n              if (!pkceRequiredForOAuth) {\n                _context18.next = 12;\n                break;\n              }\n              _context18.next = 8;\n              return this._pkceManager.startPKCETransaction();\n            case 8:\n              keyPair = _context18.sent;\n              codeChallenge = keyPair.code_challenge;\n              _context18.next = 13;\n              break;\n            case 12:\n              this._pkceManager.clearPKPair();\n            case 13:\n              _context18.next = 15;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/oauth/google/onetap/submit',\n                method: 'POST',\n                body: {\n                  id_token: credential,\n                  organization_id: organizationId,\n                  signup_redirect_url: signupRedirectUrl,\n                  login_redirect_url: loginRedirectUrl,\n                  pkce_code_challenge: codeChallenge\n                },\n                errorMessage: 'Failed to submit One Tap ID token'\n              });\n            case 15:\n              return _context18.abrupt(\"return\", _context18.sent);\n            case 16:\n            case \"end\":\n              return _context18.stop();\n          }\n        }, _callee18, this);\n      }));\n    }\n  }, {\n    key: \"createOneTapClient\",\n    value: function createOneTapClient() {\n      return (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__._)(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee19() {\n        var googleClientId, err, client;\n        return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n          while (1) switch (_context19.prev = _context19.next) {\n            case 0:\n              _context19.prev = 0;\n              _context19.next = 3;\n              return this.fetchGoogleStart();\n            case 3:\n              googleClientId = _context19.sent;\n              _context19.next = 10;\n              break;\n            case 6:\n              _context19.prev = 6;\n              _context19.t0 = _context19[\"catch\"](0);\n              err = _context19.t0;\n              return _context19.abrupt(\"return\", {\n                success: false,\n                reason: err.error_type\n              });\n            case 10:\n              if (!(googleClientId === '')) {\n                _context19.next = 12;\n                break;\n              }\n              return _context19.abrupt(\"return\", {\n                success: false,\n                reason: 'oauth_config_not_found'\n              });\n            case 12:\n              _context19.t1 = GoogleOneTapClient;\n              _context19.next = 15;\n              return loadGoogleOneTapClient();\n            case 15:\n              _context19.t2 = _context19.sent;\n              _context19.t3 = googleClientId;\n              client = new _context19.t1(_context19.t2, _context19.t3);\n              return _context19.abrupt(\"return\", {\n                success: true,\n                client: client\n              });\n            case 19:\n            case \"end\":\n              return _context19.stop();\n          }\n        }, _callee19, this, [[0, 6]]);\n      }));\n    }\n  }]);\n  return B2BOneTapProvider;\n}();\nvar APINetworkClient = /*#__PURE__*/function (_NetworkClient) {\n  _inherits(APINetworkClient, _NetworkClient);\n  function APINetworkClient(_publicToken, _subscriptionDataLayer, _liveAPIURL, _testAPIURL, _additionalTelemetryDataFn) {\n    _classCallCheck(this, APINetworkClient);\n    var apiBackendURL = _liveAPIURL;\n    if ((0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.i)(_publicToken)) {\n      apiBackendURL = _testAPIURL;\n    }\n    return _callSuper(this, APINetworkClient, [_publicToken, _subscriptionDataLayer, apiBackendURL, _additionalTelemetryDataFn]);\n  }\n  return _createClass(APINetworkClient);\n}(NetworkClient);\nvar StytchB2BHeadlessClient = /*#__PURE__*/_createClass(function StytchB2BHeadlessClient(_PUBLIC_TOKEN, options) {\n  var _this11 = this;\n  _classCallCheck(this, StytchB2BHeadlessClient);\n  (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.at)('StytchB2BHeadlessClient');\n  (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.au)(_PUBLIC_TOKEN);\n  var _options = options;\n  var config = buildFinalConfig(_options);\n  this._dataLayer = getB2BDataLayer(_PUBLIC_TOKEN, _options);\n  this._subscriptionService = new B2BSubscriptionService(_PUBLIC_TOKEN, this._dataLayer);\n  this._stateChangeClient = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.av(this._subscriptionService, {});\n  this.onStateChange = function () {\n    var _this11$_stateChangeC;\n    return (_this11$_stateChangeC = _this11._stateChangeClient).onStateChange.apply(_this11$_stateChangeC, arguments);\n  };\n  var additionalTelemetryDataFn = function additionalTelemetryDataFn() {\n    var _a, _b, _c, _d;\n    return {\n      stytch_member_id: (_b = (_a = _this11._dataLayer.state) === null || _a === void 0 ? void 0 : _a.member) === null || _b === void 0 ? void 0 : _b.member_id,\n      stytch_member_session_id: (_d = (_c = _this11._dataLayer.state) === null || _c === void 0 ? void 0 : _c.session) === null || _d === void 0 ? void 0 : _d.member_session_id\n    };\n  };\n  var passwordsPKCEManager = new PKCEManager(this._dataLayer, 'passwords');\n  this._networkClient = new NetworkClient(_PUBLIC_TOKEN, this._dataLayer, config.endpoints.sdkBackendURL, additionalTelemetryDataFn);\n  this._apiNetworkClient = new APINetworkClient(_PUBLIC_TOKEN, this._dataLayer, config.endpoints.liveAPIURL, config.endpoints.testAPIURL, additionalTelemetryDataFn);\n  var bootstrap = new BootstrapDataManager(_PUBLIC_TOKEN, this._networkClient, this._dataLayer);\n  var captcha = new CaptchaProvider(bootstrap.getAsync());\n  var dfpProtectedAuth = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aw(_PUBLIC_TOKEN, config.endpoints.dfpBackendURL, bootstrap.getAsync(), captcha.executeRecaptcha);\n  var clientsideServices = new ClientsideServicesProvider(config.endpoints.clientsideServicesIframeURL);\n  var pkceManagerForOAuth = new PKCEManager(this._dataLayer, 'oauth');\n  var oneTap = new B2BOneTapProvider(this._apiNetworkClient, pkceManagerForOAuth, bootstrap.getAsync());\n  this.organization = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ax(this._networkClient, this._subscriptionService);\n  this.member = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ay(this._networkClient, this._subscriptionService);\n  this.self = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.ay(this._networkClient, this._subscriptionService);\n  this.session = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.az(this._networkClient, this._subscriptionService);\n  this.magicLinks = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aA(this._networkClient, this._subscriptionService, new PKCEManager(this._dataLayer, 'magic_links'), passwordsPKCEManager, bootstrap.getAsync(), dfpProtectedAuth);\n  this.oauth = new HeadlessB2BOAuthClient(this._networkClient, this._subscriptionService, pkceManagerForOAuth, bootstrap.getAsync(), {\n    publicToken: _PUBLIC_TOKEN,\n    testAPIURL: config.endpoints.testAPIURL,\n    liveAPIURL: config.endpoints.liveAPIURL\n  }, dfpProtectedAuth, oneTap);\n  this.sso = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aB(this._networkClient, this._subscriptionService, new PKCEManager(this._dataLayer, 'sso'), bootstrap.getAsync(), {\n    publicToken: _PUBLIC_TOKEN,\n    testAPIURL: config.endpoints.testAPIURL,\n    liveAPIURL: config.endpoints.liveAPIURL\n  }, dfpProtectedAuth);\n  this.discovery = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aC(this._networkClient, this._subscriptionService);\n  this.passwords = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aD(this._networkClient, this._subscriptionService, passwordsPKCEManager, bootstrap.getAsync(), dfpProtectedAuth);\n  this.otps = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aE(this._networkClient, this._subscriptionService, dfpProtectedAuth);\n  this.totp = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aF(this._networkClient, this._subscriptionService, dfpProtectedAuth);\n  this.recoveryCodes = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aG(this._networkClient, this._subscriptionService, dfpProtectedAuth);\n  this.rbac = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aH(bootstrap.getSync(), bootstrap.getAsync(), this._subscriptionService);\n  this.scim = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aI(this._apiNetworkClient, this._subscriptionService);\n  this._sessionManager = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aJ(this._subscriptionService, this.session);\n  var searchManager = new _internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aK(this._networkClient, dfpProtectedAuth);\n  if (this._dataLayer.readSessionCookie().session_token) {\n    this._sessionManager.performBackgroundRefresh();\n  }\n  this._networkClient.logEvent({\n    name: 'b2b_sdk_instance_instantiated',\n    details: {\n      event_callback_registered: false,\n      error_callback_registered: false,\n      success_callback_registered: false\n    }\n  });\n  var internals = {\n    bootstrap: bootstrap,\n    clientsideServices: clientsideServices,\n    publicToken: _PUBLIC_TOKEN,\n    searchManager: searchManager,\n    dataLayer: this._dataLayer,\n    networkClient: this._networkClient,\n    apiNetworkClient: this._apiNetworkClient,\n    oneTap: oneTap\n  };\n  (0,_internal_D5OqLsPs_js__WEBPACK_IMPORTED_MODULE_0__.aL)(this, internals);\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvaW5kZXguaGVhZGxlc3MtQ05NLVhiVG0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLG1DQUFtQztBQUNuQyxnQ0FBZ0M7QUFDaEMsa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUNuQyw0Q0FBNEMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RDtBQUMvUCw4REFBOEQsc0VBQXNFLDhEQUE4RCxrREFBa0QsaUJBQWlCLEdBQUc7QUFDeFEsNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1Esa0RBQWtELDBDQUEwQztBQUM1RiwrQkFBK0I7QUFDL0Isa0RBQWtELDBFQUEwRSxlQUFlLDRCQUE0QixtRkFBbUY7QUFDMVAsdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsdUdBQXVHLG1EQUFtRDtBQUN4TCx3Q0FBd0MsdUJBQXVCLHlGQUF5RjtBQUN4SiwyQ0FBMkMsK0RBQStELDZFQUE2RSx5RUFBeUUsZUFBZSx1REFBdUQsR0FBRywrQ0FBK0MsaUJBQWlCLEdBQUc7QUFDNVksaUNBQWlDLDBHQUEwRyxpQkFBaUIsYUFBYTtBQUN6SyxrQ0FBa0M7QUFDbEMsOEJBQThCO0FBQzlCLGtEQUFrRCxnQkFBZ0IsZ0VBQWdFLHdEQUF3RCw2REFBNkQsc0RBQXNEO0FBQzdTLHVDQUF1Qyx1REFBdUQsdUNBQXVDLFNBQVMsdUJBQXVCO0FBQ3JLLHVDQUF1QyxrR0FBa0csaUJBQWlCLHdDQUF3QyxNQUFNLHlDQUF5Qyw2QkFBNkIsVUFBVSxZQUFZLGtFQUFrRSxXQUFXLFlBQVksaUJBQWlCLFVBQVUsTUFBTSxpRkFBaUYsVUFBVSxvQkFBb0I7QUFDN2dCLGdDQUFnQztBQUNoQyxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJB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QTtBQUNBO0FBQ0EsNkJBQTZCLHFEQUF3QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscURBQTZCO0FBQ3ZELG9CQUFvQixxREFBcUI7QUFDekMsa0JBQWtCLHFEQUFxQjtBQUN2QyxxQkFBcUIscURBQXdCO0FBQzdDLHdCQUF3QixxREFBMkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsaUJBQWlCLHFEQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLHFEQUEwQjtBQUNqRCx1QkFBdUIscURBQTBCO0FBQ2pELGtCQUFrQixxREFBcUI7QUFDdkMsa0JBQWtCLHFEQUFzQjtBQUN4QywyQkFBMkIscURBQThCO0FBQ3pELGtCQUFrQixxREFBcUI7QUFDdkMsa0JBQWtCLHFEQUFxQjtBQUN2Qyw2QkFBNkIscURBQWM7QUFDM0MsMEJBQTBCLHFEQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUseURBQWlCO0FBQ25CLENBQUM7QUFDd0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1sLWNsaWVudC8uL25vZGVfbW9kdWxlcy9Ac3R5dGNoL3ZhbmlsbGEtanMvZGlzdC9pbmRleC5oZWFkbGVzcy1DTk0tWGJUbS5qcz8xOGVmIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogU3RyaW5nKGkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHRbXCJyZXR1cm5cIl0gJiYgKHUgPSB0W1wicmV0dXJuXCJdKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZTsgfTsgdmFyIHQsIGUgPSB7fSwgciA9IE9iamVjdC5wcm90b3R5cGUsIG4gPSByLmhhc093blByb3BlcnR5LCBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7IHRbZV0gPSByLnZhbHVlOyB9LCBpID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgYSA9IGkuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIiwgdSA9IGkudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogciwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgdFtlXTsgfSB0cnkgeyBkZWZpbmUoe30sIFwiXCIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpIH0pLCBhOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiB0LmNhbGwoZSwgcikgfTsgfSBjYXRjaCAodCkgeyByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsIGYgPSBcImV4ZWN1dGluZ1wiLCBzID0gXCJjb21wbGV0ZWRcIiwgeSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIHAgPSB7fTsgZGVmaW5lKHAsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTsgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpOyB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkgeyBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkgeyBmdW5jdGlvbiBpbnZva2UociwgbywgaSwgYSkgeyB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pOyBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHsgdmFyIHUgPSBjLmFyZywgaCA9IHUudmFsdWU7IHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJuZXh0XCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSkgOiBlLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbiAodCkgeyB1LnZhbHVlID0gdCwgaSh1KTsgfSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KTsgfSBhKGMuYXJnKTsgfSB2YXIgcjsgbyh0aGlzLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0gJiYgKHIubWV0aG9kID0gXCJyZXR1cm5cIiwgci5hcmcgPSB0LCBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpLCBcInRocm93XCIgPT09IHIubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBuICYmIChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBuICsgXCInIG1ldGhvZFwiKSksIHk7IHZhciBpID0gdHJ5Q2F0Y2gobywgZS5pdGVyYXRvciwgci5hcmcpOyBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gci5tZXRob2QgJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksIHIuZGVsZWdhdGUgPSBudWxsLCB5KSA6IGEgOiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCByLmRlbGVnYXRlID0gbnVsbCwgeSk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB7IHRyeUxvYzogdFswXSB9OyAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkgeyB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOyB9IGZ1bmN0aW9uIENvbnRleHQodCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgXCJcIiA9PT0gZSkgeyB2YXIgciA9IGVbYV07IGlmIChyKSByZXR1cm4gci5jYWxsKGUpOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLm5leHQpIHJldHVybiBlOyBpZiAoIWlzTmFOKGUubGVuZ3RoKSkgeyB2YXIgbyA9IC0xLCBpID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsrbyA8IGUubGVuZ3RoOykgaWYgKG4uY2FsbChlLCBvKSkgcmV0dXJuIG5leHQudmFsdWUgPSBlW29dLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIGkubmV4dCA9IGk7IH0gfSB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvKGcsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gISFlICYmIChlID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDsgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB7IF9fYXdhaXQ6IHQgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZS5hc3luYyA9IGZ1bmN0aW9uICh0LCByLCBuLCBvLCBpKSB7IHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpOyB2YXIgYSA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAodCwgciwgbiwgbyksIGkpOyByZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZG9uZSA/IHQudmFsdWUgOiBhLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSwgZGVmaW5lKGcsIHUsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoZywgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCBlLmtleXMgPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IE9iamVjdCh0KSwgciA9IFtdOyBmb3IgKHZhciBuIGluIGUpIHIucHVzaChuKTsgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgci5sZW5ndGg7KSB7IHZhciB0ID0gci5wb3AoKTsgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGUudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhZSkgZm9yICh2YXIgciBpbiB0aGlzKSBcInRcIiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihlKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGU7IHZhciByID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKG4sIG8pIHsgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IG4uY2FsbChpLCBcImNhdGNoTG9jXCIpLCB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTsgaWYgKGMgJiYgdSkgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCF1KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLnRyeUxvYyA9PT0gdCkgeyB2YXIgbiA9IHIuY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdCksIHk7IH0gfSwgZTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5pbXBvcnQgeyBhYSBhcyBIZWFkbGVzc0IyQk9BdXRoQ2xpZW50JDEsIF8gYXMgX19hd2FpdGVyLCBlIGFzIE9uZVRhcFBvc2l0aW9ucywgYTIgYXMgU3R5dGNoU0RLVXNhZ2VFcnJvciwgbCBhcyBsb2dnZXIsIGFiIGFzIGxvYWRFU01vZHVsZSwgYWMgYXMgSWZyYW1lSG9zdENsaWVudCwgYWQgYXMgRXZlbnRMb2dnZXIsIGFlIGFzIERFRkFVTFRfTUFYX0JBVENIX1NJWkUsIGFmIGFzIERFRkFVTFRfSU5URVJWQUxfRFVSQVRJT05fTVMsIGFnIGFzIGNyZWF0ZUV2ZW50SWQsIGFoIGFzIGNyZWF0ZUFwcFNlc3Npb25JZCwgYWkgYXMgY3JlYXRlUGVyc2lzdGVudElkLCBhaiBhcyBiYXNlRmV0Y2hTREssIGFrIGFzIF9yZXRyaWFibGVGZXRjaFNESywgYWwgYXMgU1RZVENIX1dFQl9CQUNLRU5EX1VSTCwgYW0gYXMgVEVTVF9BUElfVVJMLCBhbiBhcyBMSVZFX0FQSV9VUkwsIGFvIGFzIFNUWVRDSF9ERlBfQkFDS0VORF9VUkwsIGFwIGFzIENMSUVOVFNJREVfU0VSVklDRVNfSUZSQU1FX1VSTCwgYTkgYXMgZ2V0TG9jYWxTdG9yYWdlS2V5LCBhcSBhcyB2YWxpZGF0ZSwgYXIgYXMgR09PR0xFX09ORV9UQVBfSE9TVCwgYXMgYXMgR09PR0xFX09ORV9UQVBfU0NSSVBUX1VSTCwgaSBhcyBpc1Rlc3RQdWJsaWNUb2tlbiwgYXQgYXMgY2hlY2tCMkJOb3RTU1IsIGF1IGFzIGNoZWNrUHVibGljVG9rZW4sIGF2IGFzIFN0YXRlQ2hhbmdlQ2xpZW50LCBhdyBhcyBERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIsIGF4IGFzIEhlYWRsZXNzQjJCT3JnYW5pemF0aW9uQ2xpZW50LCBheSBhcyBIZWFkbGVzc0IyQlNlbGZDbGllbnQsIGF6IGFzIEhlYWRsZXNzQjJCU2Vzc2lvbkNsaWVudCwgYUEgYXMgSGVhZGxlc3NCMkJNYWdpY0xpbmtzQ2xpZW50LCBhQiBhcyBIZWFkbGVzc0IyQlNTT0NsaWVudCwgYUMgYXMgSGVhZGxlc3NCMkJEaXNjb3ZlcnlDbGllbnQsIGFEIGFzIEhlYWRsZXNzQjJCUGFzc3dvcmRzQ2xpZW50LCBhRSBhcyBIZWFkbGVzc0IyQk9UUHNDbGllbnQsIGFGIGFzIEhlYWRsZXNzQjJCVE9UUHNDbGllbnQsIGFHIGFzIEhlYWRsZXNzQjJCUmVjb3ZlcnlDb2Rlc0NsaWVudCwgYUggYXMgSGVhZGxlc3NCMkJSQkFDQ2xpZW50LCBhSSBhcyBIZWFkbGVzc0IyQlNDSU1DbGllbnQsIGFKIGFzIFNlc3Npb25NYW5hZ2VyLCBhSyBhcyBTZWFyY2hEYXRhTWFuYWdlciwgYUwgYXMgd3JpdGVCMkJJbnRlcm5hbHMgfSBmcm9tICcuL2ludGVybmFsLUQ1T3FMc1BzLmpzJztcbnZhciBEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlciA9IGZ1bmN0aW9uIERpc2FibGVkREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKCkge1xuICByZXR1cm4ge1xuICAgIGlzRW5hYmxlZDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9pc0VuYWJsZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBfaXNFbmFibGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNFbmFibGVkO1xuICAgIH0oKSxcbiAgICBnZXRUZWxlbWV0cnlJRDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRUZWxlbWV0cnlJRCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGdldFRlbGVtZXRyeUlEKCkge1xuICAgICAgICByZXR1cm4gX2dldFRlbGVtZXRyeUlELmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0VGVsZW1ldHJ5SUQ7XG4gICAgfSgpLFxuICAgIGdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwge1xuICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCkge1xuICAgICAgICByZXR1cm4gX2dldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYTtcbiAgICB9KCksXG4gICAgcmV0cnlXaXRoQ2FwdGNoYUFuZERGUDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXRyeVdpdGhDYXB0Y2hhQW5kREZQID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignREZQIHByb3RlY3RlZCBhdXRoIGlzIGRpc2FibGVkJyk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gcmV0cnlXaXRoQ2FwdGNoYUFuZERGUCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXRyeVdpdGhDYXB0Y2hhQW5kREZQLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0cnlXaXRoQ2FwdGNoYUFuZERGUDtcbiAgICB9KClcbiAgfTtcbn07XG5Qcm9taXNlLnJlc29sdmUoe1xuICBwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M6IGZhbHNlXG59KTtcblByb21pc2UucmVzb2x2ZSh7XG4gIHBrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzOiBmYWxzZVxufSk7XG5Qcm9taXNlLnJlc29sdmUoe1xuICBwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3M6IGZhbHNlXG59KTtcblByb21pc2UucmVzb2x2ZSh7XG4gIHBrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzOiBmYWxzZVxufSk7XG52YXIgY3JlYXRlRGVlcEVxdWFsID0gZnVuY3Rpb24gY3JlYXRlRGVlcEVxdWFsKCkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgX3JlZiRLRVlTX1RPX0VYQ0xVREUgPSBfcmVmLktFWVNfVE9fRVhDTFVERSxcbiAgICBLRVlTX1RPX0VYQ0xVREUgPSBfcmVmJEtFWVNfVE9fRVhDTFVERSA9PT0gdm9pZCAwID8gW10gOiBfcmVmJEtFWVNfVE9fRVhDTFVERTtcbiAgdmFyIGRlZXBFcXVhbCA9IGZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gICAgaWYgKF90eXBlb2YoYSkgIT09IF90eXBlb2YoYikpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYSA9PT0gbnVsbCB8fCBiID09PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICBpZiAoX3R5cGVvZihhKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhhKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhhKS5zb21lKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiAhKGsgaW4gYik7XG4gICAgICB9KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGEpLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIF9yZWYzID0gX3NsaWNlZFRvQXJyYXkoX3JlZjIsIDEpLFxuICAgICAgICAgIGsgPSBfcmVmM1swXTtcbiAgICAgICAgcmV0dXJuICFLRVlTX1RPX0VYQ0xVREUuaW5jbHVkZXMoayk7XG4gICAgICB9KS5ldmVyeShmdW5jdGlvbiAoX3JlZjQpIHtcbiAgICAgICAgdmFyIF9yZWY1ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjQsIDIpLFxuICAgICAgICAgIGsgPSBfcmVmNVswXSxcbiAgICAgICAgICB2ID0gX3JlZjVbMV07XG4gICAgICAgIHJldHVybiBkZWVwRXF1YWwodiwgYltrXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH07XG4gIHJldHVybiBkZWVwRXF1YWw7XG59O1xudmFyIEhlYWRsZXNzQjJCT0F1dGhDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IZWFkbGVzc0IyQk9BdXRoQ2xpZSkge1xuICBfaW5oZXJpdHMoSGVhZGxlc3NCMkJPQXV0aENsaWVudCwgX0hlYWRsZXNzQjJCT0F1dGhDbGllKTtcbiAgZnVuY3Rpb24gSGVhZGxlc3NCMkJPQXV0aENsaWVudChfbmV0d29ya0NsaWVudCwgX3N1YnNjcmlwdGlvblNlcnZpY2UsIF9wa2NlTWFuYWdlciwgX2R5bmFtaWNDb25maWcsIF9jb25maWcpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgdmFyIF9kZnBQcm90ZWN0ZWRBdXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlcigpO1xuICAgIHZhciBfb25lVGFwID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgPyBhcmd1bWVudHNbNl0gOiB1bmRlZmluZWQ7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRsZXNzQjJCT0F1dGhDbGllbnQpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBIZWFkbGVzc0IyQk9BdXRoQ2xpZW50LCBbX25ldHdvcmtDbGllbnQsIF9zdWJzY3JpcHRpb25TZXJ2aWNlLCBfcGtjZU1hbmFnZXIsIF9keW5hbWljQ29uZmlnLCBfY29uZmlnLCBfZGZwUHJvdGVjdGVkQXV0aF0pO1xuICAgIF90aGlzLl9vbmVUYXAgPSBfb25lVGFwO1xuICAgIF90aGlzLnN0YXJ0T25lVGFwRGlzY292ZXJ5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgICAgIHZhciBjbGllbnRSZXN1bHQsIGNsaWVudCwgb25TdWNjZXNzQ2FsbGJhY2s7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmVUYXAuY3JlYXRlT25lVGFwQ2xpZW50KCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNsaWVudFJlc3VsdCA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICBpZiAoY2xpZW50UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25lIFRhcCBjb3VsZCBub3QgbG9hZDogXCIuY29uY2F0KGNsaWVudFJlc3VsdC5yZWFzb24pKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2xpZW50ID0gY2xpZW50UmVzdWx0LmNsaWVudDtcbiAgICAgICAgICAgICAgb25TdWNjZXNzQ2FsbGJhY2sgPSB0aGlzLl9vbmVUYXAuY3JlYXRlT25EaXNjb3ZlcnlTdWNjZXNzSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgZGlzY292ZXJ5UmVkaXJlY3RVcmw6IG9wdGlvbnMuZGlzY292ZXJ5X3JlZGlyZWN0X3VybCxcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IHRoaXMuX29uZVRhcC5SZWRpcmVjdE9uU3VjY2Vzc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgY2xpZW50LnJlbmRlcih7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBPbmVUYXBQb3NpdGlvbnMuZmxvYXRpbmdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBvblN1Y2Nlc3NDYWxsYmFja1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH07XG4gICAgX3RoaXMuc3RhcnRPbmVUYXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlcihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgICAgdmFyIGNsaWVudFJlc3VsdCwgY2xpZW50LCBvblN1Y2Nlc3NDYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLm9yZ2FuaXphdGlvbl9pZCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcignc3R5dGNoLm9hdXRoLmdvb2dsZU9uZVRhcC5zdGFydCcsICdvcmdhbml6YXRpb25faWQgaXMgYSByZXF1aXJlZCBhcmd1bWVudCcpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmVUYXAuY3JlYXRlT25lVGFwQ2xpZW50KCk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNsaWVudFJlc3VsdCA9IF9jb250ZXh0Ni5zZW50O1xuICAgICAgICAgICAgICBpZiAoY2xpZW50UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25lIFRhcCBjb3VsZCBub3QgbG9hZDogXCIuY29uY2F0KGNsaWVudFJlc3VsdC5yZWFzb24pKTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2xpZW50ID0gY2xpZW50UmVzdWx0LmNsaWVudDtcbiAgICAgICAgICAgICAgb25TdWNjZXNzQ2FsbGJhY2sgPSB0aGlzLl9vbmVUYXAuY3JlYXRlT25TdWNjZXNzSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IG9wdGlvbnMub3JnYW5pemF0aW9uX2lkLFxuICAgICAgICAgICAgICAgIHNpZ251cFJlZGlyZWN0VXJsOiBvcHRpb25zLnNpZ251cF9yZWRpcmVjdF91cmwsXG4gICAgICAgICAgICAgICAgbG9naW5SZWRpcmVjdFVybDogb3B0aW9ucy5sb2dpbl9yZWRpcmVjdF91cmwsXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiB0aGlzLl9vbmVUYXAuUmVkaXJlY3RPblN1Y2Nlc3NcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIGNsaWVudC5yZW5kZXIoe1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogT25lVGFwUG9zaXRpb25zLmZsb2F0aW5nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogb25TdWNjZXNzQ2FsbGJhY2tcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfTtcbiAgICBfdGhpcy5nb29nbGVPbmVUYXAgPSB7XG4gICAgICBkaXNjb3Zlcnk6IHtcbiAgICAgICAgc3RhcnQ6IF90aGlzLnN0YXJ0T25lVGFwRGlzY292ZXJ5XG4gICAgICB9LFxuICAgICAgc3RhcnQ6IF90aGlzLnN0YXJ0T25lVGFwXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhIZWFkbGVzc0IyQk9BdXRoQ2xpZW50KTtcbn0oSGVhZGxlc3NCMkJPQXV0aENsaWVudCQxKTtcbnZhciBCT09UU1RSQVBfQ0FDSEVfS0VZID0gJ2Jvb3RzdHJhcCc7XG52YXIgREVGQVVMVF9CT09UU1RSQVAgPSBmdW5jdGlvbiBERUZBVUxUX0JPT1RTVFJBUCgpIHtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5V2F0ZXJtYXJrOiBmYWxzZSxcbiAgICBjbmFtZURvbWFpbjogbnVsbCxcbiAgICBlbWFpbERvbWFpbnM6IFsnc3R5dGNoLmNvbSddLFxuICAgIGNhcHRjaGFTZXR0aW5nczoge1xuICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICB9LFxuICAgIHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rczogZmFsc2UsXG4gICAgcGtjZVJlcXVpcmVkRm9yUGFzc3dvcmRSZXNldHM6IGZhbHNlLFxuICAgIHBrY2VSZXF1aXJlZEZvck9BdXRoOiBmYWxzZSxcbiAgICBwa2NlUmVxdWlyZWRGb3JTc286IGZhbHNlLFxuICAgIHNsdWdQYXR0ZXJuOiBudWxsLFxuICAgIGNyZWF0ZU9yZ2FuaXphdGlvbkVuYWJsZWQ6IGZhbHNlLFxuICAgIHBhc3N3b3JkQ29uZmlnOiBudWxsLFxuICAgIHJ1bkRGUFByb3RlY3RlZEF1dGg6IGZhbHNlLFxuICAgIHJiYWNQb2xpY3k6IG51bGxcbiAgfTtcbn07XG52YXIgQm9vdHN0cmFwRGF0YU1hbmFnZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCb290c3RyYXBEYXRhTWFuYWdlcihfcHVibGljVG9rZW4sIF9uZXR3b3JrQ2xpZW50LCBfZGF0YUxheWVyKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb3RzdHJhcERhdGFNYW5hZ2VyKTtcbiAgICB0aGlzLl9wdWJsaWNUb2tlbiA9IF9wdWJsaWNUb2tlbjtcbiAgICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gX25ldHdvcmtDbGllbnQ7XG4gICAgdGhpcy5fZGF0YUxheWVyID0gX2RhdGFMYXllcjtcbiAgICB0aGlzLl9ib290c3RyYXBEYXRhUHJvbWlzZSA9IHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgdXJsOiBcIi9wcm9qZWN0cy9ib290c3RyYXAvXCIuY29uY2F0KHRoaXMuX3B1YmxpY1Rva2VuKSxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBlcnJvck1lc3NhZ2U6IFwiRXJyb3IgZmV0Y2hpbmcgYm9vdHN0cmFwIGRhdGEgZm9yIFNESyBmb3IgXCIuY29uY2F0KHRoaXMuX3B1YmxpY1Rva2VuKVxuICAgIH0pLnRoZW4oQm9vdHN0cmFwRGF0YU1hbmFnZXIubWFwQm9vdHN0cmFwRGF0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgX3RoaXMyLl9kYXRhTGF5ZXIuc2V0SXRlbShCT09UU1RSQVBfQ0FDSEVfS0VZLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiBERUZBVUxUX0JPT1RTVFJBUCgpO1xuICAgIH0pO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhCb290c3RyYXBEYXRhTWFuYWdlciwgW3tcbiAgICBrZXk6IFwiZ2V0U3luY1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTeW5jKCkge1xuICAgICAgdmFyIGNhY2hlZCA9IHRoaXMuX2RhdGFMYXllci5nZXRJdGVtKEJPT1RTVFJBUF9DQUNIRV9LRVkpO1xuICAgICAgaWYgKGNhY2hlZCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gREVGQVVMVF9CT09UU1RSQVAoKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNhY2hlZCk7XG4gICAgICB9IGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gREVGQVVMVF9CT09UU1RSQVAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QXN5bmNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXN5bmMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYm9vdHN0cmFwRGF0YVByb21pc2U7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwibWFwQm9vdHN0cmFwRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBCb290c3RyYXBEYXRhKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgdmFyIHBhc3N3b3JkQ29uZmlnID0gcmVzcG9uc2UucGFzc3dvcmRfY29uZmlnICE9PSBudWxsID8ge1xuICAgICAgICBsdWRzQ29tcGxleGl0eTogcmVzcG9uc2UucGFzc3dvcmRfY29uZmlnLmx1ZHNfY29tcGxleGl0eSxcbiAgICAgICAgbHVkc01pbmltdW1Db3VudDogcmVzcG9uc2UucGFzc3dvcmRfY29uZmlnLmx1ZHNfbWluaW11bV9jb3VudFxuICAgICAgfSA6IG51bGw7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXNwbGF5V2F0ZXJtYXJrOiAhcmVzcG9uc2UuZGlzYWJsZV9zZGtfd2F0ZXJtYXJrLFxuICAgICAgICBjYXB0Y2hhU2V0dGluZ3M6IHJlc3BvbnNlLmNhcHRjaGFfc2V0dGluZ3MsXG4gICAgICAgIGNuYW1lRG9tYWluOiByZXNwb25zZS5jbmFtZV9kb21haW4sXG4gICAgICAgIGVtYWlsRG9tYWluczogcmVzcG9uc2UuZW1haWxfZG9tYWlucyxcbiAgICAgICAgcGtjZVJlcXVpcmVkRm9yRW1haWxNYWdpY0xpbmtzOiByZXNwb25zZS5wa2NlX3JlcXVpcmVkX2Zvcl9lbWFpbF9tYWdpY19saW5rcyxcbiAgICAgICAgcGtjZVJlcXVpcmVkRm9yUGFzc3dvcmRSZXNldHM6IHJlc3BvbnNlLnBrY2VfcmVxdWlyZWRfZm9yX3Bhc3N3b3JkX3Jlc2V0cyxcbiAgICAgICAgcGtjZVJlcXVpcmVkRm9yT0F1dGg6IHJlc3BvbnNlLnBrY2VfcmVxdWlyZWRfZm9yX29hdXRoLFxuICAgICAgICBwa2NlUmVxdWlyZWRGb3JTc286IHJlc3BvbnNlLnBrY2VfcmVxdWlyZWRfZm9yX3NzbyxcbiAgICAgICAgc2x1Z1BhdHRlcm46IHJlc3BvbnNlLnNsdWdfcGF0dGVybixcbiAgICAgICAgY3JlYXRlT3JnYW5pemF0aW9uRW5hYmxlZDogcmVzcG9uc2UuY3JlYXRlX29yZ2FuaXphdGlvbl9lbmFibGVkLFxuICAgICAgICBwYXNzd29yZENvbmZpZzogcGFzc3dvcmRDb25maWcsXG4gICAgICAgIHJ1bkRGUFByb3RlY3RlZEF1dGg6IChfYSA9IHJlc3BvbnNlLmRmcF9wcm90ZWN0ZWRfYXV0aF9lbmFibGVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgZGZwUHJvdGVjdGVkQXV0aE1vZGU6IHJlc3BvbnNlLmRmcF9wcm90ZWN0ZWRfYXV0aF9tb2RlLFxuICAgICAgICByYmFjUG9saWN5OiAoX2IgPSByZXNwb25zZS5yYmFjX3BvbGljeSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJvb3RzdHJhcERhdGFNYW5hZ2VyO1xufSgpO1xudmFyIGxvYWRSZWNhcHRjaGFDbGllbnQgPSBmdW5jdGlvbiBsb2FkUmVjYXB0Y2hhQ2xpZW50KHNpdGVLZXkpIHtcbiAgcmV0dXJuIGxvYWRFU01vZHVsZShcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2VudGVycHJpc2UuanM/cmVuZGVyPVwiLmNvbmNhdChzaXRlS2V5KSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB3aW5kb3cuZ3JlY2FwdGNoYS5lbnRlcnByaXNlO1xuICB9KTtcbn07XG52YXIgQ2FwdGNoYVByb3ZpZGVyID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBDYXB0Y2hhUHJvdmlkZXIoYm9vdHN0cmFwUHJvbWlzZSkge1xuICB2YXIgX3RoaXMzID0gdGhpcztcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcHRjaGFQcm92aWRlcik7XG4gIHRoaXMuYm9vdHN0cmFwUHJvbWlzZSA9IGJvb3RzdHJhcFByb21pc2U7XG4gIHRoaXMuZXhlY3V0ZVJlY2FwdGNoYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzMywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHtcbiAgICAgIHZhciBfeWllbGQkdGhpcyRzdGF0ZSwgY2FwdGNoYUNsaWVudCwgY29uZmlndXJlZCwgc2l0ZUtleTtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBfeWllbGQkdGhpcyRzdGF0ZSA9IF9jb250ZXh0Ny5zZW50O1xuICAgICAgICAgICAgY2FwdGNoYUNsaWVudCA9IF95aWVsZCR0aGlzJHN0YXRlLmNhcHRjaGFDbGllbnQ7XG4gICAgICAgICAgICBjb25maWd1cmVkID0gX3lpZWxkJHRoaXMkc3RhdGUuY29uZmlndXJlZDtcbiAgICAgICAgICAgIHNpdGVLZXkgPSBfeWllbGQkdGhpcyRzdGF0ZS5zaXRlS2V5O1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyZWQpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KFwicmV0dXJuXCIsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY2FwdGNoYUNsaWVudC5yZWFkeShyZXNvbHZlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCBjYXB0Y2hhQ2xpZW50LmV4ZWN1dGUoc2l0ZUtleSwge1xuICAgICAgICAgICAgICBhY3Rpb246ICdMT0dJTidcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNywgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLnN0YXRlID0gYm9vdHN0cmFwUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChib290c3RyYXBEYXRhKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpczMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKGJvb3RzdHJhcERhdGEuY2FwdGNoYVNldHRpbmdzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgY29uZmlndXJlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNDtcbiAgICAgICAgICAgIHJldHVybiBsb2FkUmVjYXB0Y2hhQ2xpZW50KGJvb3RzdHJhcERhdGEuY2FwdGNoYVNldHRpbmdzLnNpdGVLZXkpO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50O1xuICAgICAgICAgICAgX2NvbnRleHQ4LnQxID0gYm9vdHN0cmFwRGF0YS5jYXB0Y2hhU2V0dGluZ3Muc2l0ZUtleTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgY29uZmlndXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgY2FwdGNoYUNsaWVudDogX2NvbnRleHQ4LnQwLFxuICAgICAgICAgICAgICBzaXRlS2V5OiBfY29udGV4dDgudDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTgpO1xuICAgIH0pKTtcbiAgfSk7XG59KTtcbnZhciBDbGllbnRzaWRlU2VydmljZXNQcm92aWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENsaWVudHNpZGVTZXJ2aWNlc1Byb3ZpZGVyKGlmcmFtZVVSTCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGllbnRzaWRlU2VydmljZXNQcm92aWRlcik7XG4gICAgdGhpcy5pZnJhbWVVUkwgPSBpZnJhbWVVUkw7XG4gICAgdGhpcy5vbmVUYXBTdGFydCA9IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgIHJldHVybiBfdGhpczQuY2FsbCgnb25lVGFwU3RhcnQnLCByZXEpO1xuICAgIH07XG4gICAgdGhpcy5vbmVUYXBTdWJtaXQgPSBmdW5jdGlvbiAocmVxKSB7XG4gICAgICByZXR1cm4gX3RoaXM0LmNhbGwoJ29uZVRhcFN1Ym1pdCcsIHJlcSk7XG4gICAgfTtcbiAgICB0aGlzLnBhcnNlZFBob25lTnVtYmVyID0gZnVuY3Rpb24gKHJlcSkge1xuICAgICAgcmV0dXJuIF90aGlzNC5jYWxsKCdwYXJzZWRQaG9uZU51bWJlcicsIHJlcSk7XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoQ2xpZW50c2lkZVNlcnZpY2VzUHJvdmlkZXIsIFt7XG4gICAga2V5OiBcImZyYW1lQ2xpZW50XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICB0aGlzLl9mcmFtZUNsaWVudCA9IChfYSA9IHRoaXMuX2ZyYW1lQ2xpZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgSWZyYW1lSG9zdENsaWVudCh0aGlzLmlmcmFtZVVSTCk7XG4gICAgICByZXR1cm4gdGhpcy5fZnJhbWVDbGllbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbChoYW5kbGVyTmFtZSwgcmVxKSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmFtZUNsaWVudC5jYWxsKGhhbmRsZXJOYW1lLCBbcmVxXSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDbGllbnRzaWRlU2VydmljZXNQcm92aWRlcjtcbn0oKTtcbnZhciB2ZXJzaW9uID0gXCI0LjE1LjBcIjtcbnZhciBOZXR3b3JrQ2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTmV0d29ya0NsaWVudChfcHVibGljVG9rZW4sIF9zdWJzY3JpcHRpb25EYXRhTGF5ZXIsIGJhc2VVUkwsIGFkZGl0aW9uYWxUZWxlbWV0cnlEYXRhRm4pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmV0d29ya0NsaWVudCk7XG4gICAgdGhpcy5fcHVibGljVG9rZW4gPSBfcHVibGljVG9rZW47XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uRGF0YUxheWVyID0gX3N1YnNjcmlwdGlvbkRhdGFMYXllcjtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMuYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbiA9IGFkZGl0aW9uYWxUZWxlbWV0cnlEYXRhRm47XG4gICAgdGhpcy51cGRhdGVTZXNzaW9uVG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuZXZlbnRMb2dnZXIgPSBuZXcgRXZlbnRMb2dnZXIoe1xuICAgICAgbWF4QmF0Y2hTaXplOiBERUZBVUxUX01BWF9CQVRDSF9TSVpFLFxuICAgICAgaW50ZXJ2YWxEdXJhdGlvbk1zOiBERUZBVUxUX0lOVEVSVkFMX0RVUkFUSU9OX01TLFxuICAgICAgbG9nRXZlbnRVUkw6IHRoaXMuYnVpbGRTREtVcmwoJy9ldmVudHMnKVxuICAgIH0pO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhOZXR3b3JrQ2xpZW50LCBbe1xuICAgIGtleTogXCJsb2dFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dFdmVudChfcmVmNikge1xuICAgICAgdmFyIG5hbWUgPSBfcmVmNi5uYW1lLFxuICAgICAgICBkZXRhaWxzID0gX3JlZjYuZGV0YWlscyxcbiAgICAgICAgX3JlZjYkZXJyb3IgPSBfcmVmNi5lcnJvcixcbiAgICAgICAgZXJyb3IgPSBfcmVmNiRlcnJvciA9PT0gdm9pZCAwID8ge30gOiBfcmVmNiRlcnJvcjtcbiAgICAgIHRoaXMuZXZlbnRMb2dnZXIubG9nRXZlbnQodGhpcy5jcmVhdGVUZWxlbWV0cnlCbG9iKCksIHtcbiAgICAgICAgcHVibGljX3Rva2VuOiB0aGlzLl9wdWJsaWNUb2tlbixcbiAgICAgICAgZXZlbnRfbmFtZTogbmFtZSxcbiAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgZXJyb3JfY29kZTogZXJyb3IuZXJyb3JfY29kZSxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IGVycm9yLmVycm9yX2Rlc2NyaXB0aW9uLFxuICAgICAgICBodHRwX3N0YXR1c19jb2RlOiBlcnJvci5odHRwX3N0YXR1c19jb2RlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlVGVsZW1ldHJ5QmxvYlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUZWxlbWV0cnlCbG9iKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGV2ZW50X2lkOiBjcmVhdGVFdmVudElkKCksXG4gICAgICAgIGFwcF9zZXNzaW9uX2lkOiBjcmVhdGVBcHBTZXNzaW9uSWQoKSxcbiAgICAgICAgcGVyc2lzdGVudF9pZDogY3JlYXRlUGVyc2lzdGVudElkKCksXG4gICAgICAgIGNsaWVudF9zZW50X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHRpbWV6b25lOiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmVcbiAgICAgIH0sIHRoaXMuYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbigpKSwge1xuICAgICAgICBhcHA6IHtcbiAgICAgICAgICBpZGVudGlmaWVyOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgc2RrOiB7XG4gICAgICAgICAgaWRlbnRpZmllcjogJ1N0eXRjaC5qcyBKYXZhc2NyaXB0IFNESycsXG4gICAgICAgICAgdmVyc2lvbjogdmVyc2lvblxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hTREtcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hTREsoX3JlZjcpIHtcbiAgICAgIHZhciB1cmwgPSBfcmVmNy51cmwsXG4gICAgICAgIGJvZHkgPSBfcmVmNy5ib2R5LFxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBfcmVmNy5lcnJvck1lc3NhZ2UsXG4gICAgICAgIG1ldGhvZCA9IF9yZWY3Lm1ldGhvZDtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHtcbiAgICAgICAgdmFyIHNlc3Npb25Ub2tlbiwgYmFzaWNBdXRoSGVhZGVyLCB4U0RLQ2xpZW50SGVhZGVyLCB4U0RLUGFyZW50SG9zdEhlYWRlcjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IHRoaXMuX3N1YnNjcmlwdGlvbkRhdGFMYXllci5yZWFkU2Vzc2lvbkNvb2tpZSgpLnNlc3Npb25fdG9rZW47XG4gICAgICAgICAgICAgIGJhc2ljQXV0aEhlYWRlciA9ICdCYXNpYyAnICsgd2luZG93LmJ0b2EodGhpcy5fcHVibGljVG9rZW4gKyAnOicgKyAoc2Vzc2lvblRva2VuIHx8IHRoaXMuX3B1YmxpY1Rva2VuKSk7XG4gICAgICAgICAgICAgIHhTREtDbGllbnRIZWFkZXIgPSB3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeSh0aGlzLmNyZWF0ZVRlbGVtZXRyeUJsb2IoKSkpO1xuICAgICAgICAgICAgICB4U0RLUGFyZW50SG9zdEhlYWRlciA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KFwicmV0dXJuXCIsIGJhc2VGZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgYmFzaWNBdXRoSGVhZGVyOiBiYXNpY0F1dGhIZWFkZXIsXG4gICAgICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBmaW5hbFVSTDogdGhpcy5idWlsZFNES1VybCh1cmwpLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgICAgIHhTREtDbGllbnRIZWFkZXI6IHhTREtDbGllbnRIZWFkZXIsXG4gICAgICAgICAgICAgICAgeFNES1BhcmVudEhvc3RIZWFkZXI6IHhTREtQYXJlbnRIb3N0SGVhZGVyXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJldHJpYWJsZUZldGNoU0RLXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJldHJpYWJsZUZldGNoU0RLKF9yZWY4KSB7XG4gICAgICB2YXIgdXJsID0gX3JlZjgudXJsLFxuICAgICAgICBib2R5ID0gX3JlZjguYm9keSxcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gX3JlZjguZXJyb3JNZXNzYWdlLFxuICAgICAgICBtZXRob2QgPSBfcmVmOC5tZXRob2QsXG4gICAgICAgIHJldHJ5Q2FsbGJhY2sgPSBfcmVmOC5yZXRyeUNhbGxiYWNrO1xuICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHtcbiAgICAgICAgdmFyIHNlc3Npb25Ub2tlbiwgYmFzaWNBdXRoSGVhZGVyLCB4U0RLQ2xpZW50SGVhZGVyLCB4U0RLUGFyZW50SG9zdEhlYWRlcjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBzZXNzaW9uVG9rZW4gPSB0aGlzLl9zdWJzY3JpcHRpb25EYXRhTGF5ZXIucmVhZFNlc3Npb25Db29raWUoKS5zZXNzaW9uX3Rva2VuO1xuICAgICAgICAgICAgICBiYXNpY0F1dGhIZWFkZXIgPSAnQmFzaWMgJyArIHdpbmRvdy5idG9hKHRoaXMuX3B1YmxpY1Rva2VuICsgJzonICsgKHNlc3Npb25Ub2tlbiB8fCB0aGlzLl9wdWJsaWNUb2tlbikpO1xuICAgICAgICAgICAgICB4U0RLQ2xpZW50SGVhZGVyID0gd2luZG93LmJ0b2EoSlNPTi5zdHJpbmdpZnkodGhpcy5jcmVhdGVUZWxlbWV0cnlCbG9iKCkpKTtcbiAgICAgICAgICAgICAgeFNES1BhcmVudEhvc3RIZWFkZXIgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JldHJpYWJsZUZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICBiYXNpY0F1dGhIZWFkZXI6IGJhc2ljQXV0aEhlYWRlcixcbiAgICAgICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgIGZpbmFsVVJMOiB0aGlzLmJ1aWxkU0RLVXJsKHVybCksXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgeFNES0NsaWVudEhlYWRlcjogeFNES0NsaWVudEhlYWRlcixcbiAgICAgICAgICAgICAgICB4U0RLUGFyZW50SG9zdEhlYWRlcjogeFNES1BhcmVudEhvc3RIZWFkZXIsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogcmV0cnlDYWxsYmFja1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJ1aWxkU0RLVXJsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkU0RLVXJsKHVybCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvc2RrL3YxXCIpLmNvbmNhdCh1cmwpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gTmV0d29ya0NsaWVudDtcbn0oKTtcbnZhciBQS0NFX1ZFUklGSUVSX1NUT1JBR0VfS0VZID0gJ1BLQ0VfVkVSSUZJRVInO1xuZnVuY3Rpb24gdG9IZXgobikge1xuICB2YXIgc3RyID0gbi50b1N0cmluZygxNik7XG4gIGlmIChzdHIubGVuZ3RoID09PSAxKSB7XG4gICAgc3RyID0gJzAnICsgc3RyO1xuICB9XG4gIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBiYXNlNjRVUkxFbmNvZGUoYnVmKSB7XG4gIHZhciBfU3RyaW5nJGZyb21DaGFyQ29kZTtcbiAgcmV0dXJuIGJ0b2EoKF9TdHJpbmckZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSkuY2FsbC5hcHBseShfU3RyaW5nJGZyb21DaGFyQ29kZSwgW251bGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3IFVpbnQ4QXJyYXkoYnVmKSkpKSkucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSskLywgJycpO1xufVxudmFyIFBLQ0VNYW5hZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUEtDRU1hbmFnZXIoX2RhdGFMYXllciwgbmFtZXNwYWNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBLQ0VNYW5hZ2VyKTtcbiAgICB0aGlzLl9kYXRhTGF5ZXIgPSBfZGF0YUxheWVyO1xuICAgIHRoaXMubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhQS0NFTWFuYWdlciwgW3tcbiAgICBrZXk6IFwia2V5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGtleSgpIHtcbiAgICAgIHJldHVybiBQS0NFX1ZFUklGSUVSX1NUT1JBR0VfS0VZICsgJzonICsgdGhpcy5uYW1lc3BhY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0UEtDRVRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0UEtDRVRyYW5zYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHtcbiAgICAgICAgdmFyIGtleVBhaXI7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIFBLQ0VNYW5hZ2VyLmNyZWF0ZVByb29ma2V5UGFpcigpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBrZXlQYWlyID0gX2NvbnRleHQxMS5zZW50O1xuICAgICAgICAgICAgICB0aGlzLl9kYXRhTGF5ZXIuc2V0SXRlbSh0aGlzLmtleSgpLCBKU09OLnN0cmluZ2lmeShrZXlQYWlyKSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdChcInJldHVyblwiLCBrZXlQYWlyKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UEtQYWlyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBLUGFpcigpIHtcbiAgICAgIHZhciBzZXJpYWxpemVkID0gdGhpcy5fZGF0YUxheWVyLmdldEl0ZW0odGhpcy5rZXkoKSk7XG4gICAgICBpZiAoc2VyaWFsaXplZCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc2VyaWFsaXplZCk7XG4gICAgICB9IGNhdGNoIChfYSkge1xuICAgICAgICBsb2dnZXIud2FybignRm91bmQgbWFsZm9ybWVkIFByb29mIEtleSBwYWlyIGluIGxvY2Fsc3RvcmFnZS4nKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJQS1BhaXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJQS1BhaXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGF0YUxheWVyLnJlbW92ZUl0ZW0odGhpcy5rZXkoKSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlUHJvb2ZrZXlQYWlyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb29ma2V5UGFpcigpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7XG4gICAgICAgIHZhciBieXRlcywgY29kZVZlcmlmaWVyLCBkaWdlc3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgYnl0ZXMgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuICAgICAgICAgICAgICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gICAgICAgICAgICAgIGNvZGVWZXJpZmllciA9IEFycmF5LmZyb20oYnl0ZXMpLm1hcCh0b0hleCkuam9pbignJyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7XG4gICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kaWdlc3QoJ1NIQS0yNTYnLCBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY29kZVZlcmlmaWVyKSk7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGRpZ2VzdCA9IF9jb250ZXh0MTIuc2VudDtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgICBjb2RlX2NoYWxsZW5nZTogYmFzZTY0VVJMRW5jb2RlKGRpZ2VzdCksXG4gICAgICAgICAgICAgICAgY29kZV92ZXJpZmllcjogY29kZVZlcmlmaWVyXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTIpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUEtDRU1hbmFnZXI7XG59KCk7XG52YXIgRU1BSUxfUkVHRVggPSAvXlthLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXFwuW2EtekEtWl17Mix9JC9pO1xudmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoZnVuYykge1xuICB2YXIgd2FpdEZvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogNTAwO1xuICB2YXIgdGltZW91dDtcbiAgdmFyIGRlYm91bmNlZCA9IGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgIH0sIHdhaXRGb3IpO1xuICB9O1xuICByZXR1cm4gZGVib3VuY2VkO1xufTtcbnZhciBpc0xvY2FsaG9zdCA9IGZ1bmN0aW9uIGlzTG9jYWxob3N0KCkge1xuICByZXR1cm4gQm9vbGVhbih3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ1s6OjFdJyB8fCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUubWF0Y2goL14xMjcoPzpcXC4oPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pKXszfSQvKSk7XG59O1xudmFyIGJ1aWxkRmluYWxDb25maWcgPSBmdW5jdGlvbiBidWlsZEZpbmFsQ29uZmlnKG9wdHMpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICByZXR1cm4ge1xuICAgIGNvb2tpZU9wdGlvbnM6IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jb29raWVPcHRpb25zLFxuICAgIGVuZHBvaW50czoge1xuICAgICAgc2RrQmFja2VuZFVSTDogKF9iID0gKF9hID0gb3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmVuZHBvaW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNka0JhY2tlbmRVUkwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFNUWVRDSF9XRUJfQkFDS0VORF9VUkwsXG4gICAgICB0ZXN0QVBJVVJMOiAoX2QgPSAoX2MgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuZW5kcG9pbnRzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGVzdEFQSVVSTCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogVEVTVF9BUElfVVJMLFxuICAgICAgbGl2ZUFQSVVSTDogKF9mID0gKF9lID0gb3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmVuZHBvaW50cykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmxpdmVBUElVUkwpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IExJVkVfQVBJX1VSTCxcbiAgICAgIGRmcEJhY2tlbmRVUkw6IChfaCA9IChfZyA9IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5lbmRwb2ludHMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5kZnBCYWNrZW5kVVJMKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBTVFlUQ0hfREZQX0JBQ0tFTkRfVVJMLFxuICAgICAgY2xpZW50c2lkZVNlcnZpY2VzSWZyYW1lVVJMOiAoX2sgPSAoX2ogPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuZW5kcG9pbnRzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouY2xpZW50c2lkZVNlcnZpY2VzSWZyYW1lVVJMKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiBDTElFTlRTSURFX1NFUlZJQ0VTX0lGUkFNRV9VUkxcbiAgICB9XG4gIH07XG59O1xudmFyIGhhc011bHRpcGxlQ29va2llcyA9IGZ1bmN0aW9uIGhhc011bHRpcGxlQ29va2llcyhjb29raWVOYW1lKSB7XG4gIHZhciBjb29raWVQYWlycyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuICB2YXIgbWF0Y2hlZENvb2tpZXMgPSBjb29raWVQYWlycy5maWx0ZXIoZnVuY3Rpb24gKHBhaXIpIHtcbiAgICB2YXIgX3BhaXIkc3BsaXQgPSBwYWlyLnNwbGl0KCc9JyksXG4gICAgICBfcGFpciRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcGFpciRzcGxpdCwgMSksXG4gICAgICBuYW1lID0gX3BhaXIkc3BsaXQyWzBdO1xuICAgIHJldHVybiBjb29raWVOYW1lID09PSBuYW1lO1xuICB9KTtcbiAgcmV0dXJuIG1hdGNoZWRDb29raWVzLmxlbmd0aCA+IDE7XG59O1xuXG4vKiEganMtY29va2llIHYzLjAuMSB8IE1JVCAqL1xuZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbnZhciBkZWZhdWx0Q29udmVydGVyID0ge1xuICByZWFkOiBmdW5jdGlvbiByZWFkKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlWzBdID09PSAnXCInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyglW1xcZEEtRl17Mn0pKy9naSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcbiAgfSxcbiAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZSgvJSgyWzM0NkJGXXwzW0FDLUZdfDQwfDVbQkRFXXw2MHw3W0JDRF0pL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG4gIH1cbn07XG5mdW5jdGlvbiBpbml0KGNvbnZlcnRlciwgZGVmYXVsdEF0dHJpYnV0ZXMpIHtcbiAgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhdHRyaWJ1dGVzID0gYXNzaWduKHt9LCBkZWZhdWx0QXR0cmlidXRlcywgYXR0cmlidXRlcyk7XG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZTUpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlcy5leHBpcmVzKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG4gICAga2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkucmVwbGFjZSgvJSgyWzM0NkJdfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpLnJlcGxhY2UoL1soKV0vZywgZXNjYXBlKTtcbiAgICB2YXIgc3RyaW5naWZpZWRBdHRyaWJ1dGVzID0gJyc7XG4gICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG4gICAgICBpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnNwbGl0KCc7JylbMF07XG4gICAgfVxuICAgIHJldHVybiBkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSkgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXM7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IGFyZ3VtZW50cy5sZW5ndGggJiYgIWtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuICAgIHZhciBqYXIgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJz0nKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmb3VuZEtleSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1swXSk7XG4gICAgICAgIGphcltmb3VuZEtleV0gPSBjb252ZXJ0ZXIucmVhZCh2YWx1ZSwgZm91bmRLZXkpO1xuICAgICAgICBpZiAoa2V5ID09PSBmb3VuZEtleSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgICByZXR1cm4ga2V5ID8gamFyW2tleV0gOiBqYXI7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUoe1xuICAgIHNldDogc2V0LFxuICAgIGdldDogZ2V0LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGtleSwgYXR0cmlidXRlcykge1xuICAgICAgc2V0KGtleSwgJycsIGFzc2lnbih7fSwgYXR0cmlidXRlcywge1xuICAgICAgICBleHBpcmVzOiAtMVxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgd2l0aEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIHdpdGhBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICAgIHJldHVybiBpbml0KHRoaXMuY29udmVydGVyLCBhc3NpZ24oe30sIHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcykpO1xuICAgIH0sXG4gICAgd2l0aENvbnZlcnRlcjogZnVuY3Rpb24gd2l0aENvbnZlcnRlcihjb252ZXJ0ZXIpIHtcbiAgICAgIHJldHVybiBpbml0KGFzc2lnbih7fSwgdGhpcy5jb252ZXJ0ZXIsIGNvbnZlcnRlciksIHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfVxuICB9LCB7XG4gICAgYXR0cmlidXRlczoge1xuICAgICAgdmFsdWU6IE9iamVjdC5mcmVlemUoZGVmYXVsdEF0dHJpYnV0ZXMpXG4gICAgfSxcbiAgICBjb252ZXJ0ZXI6IHtcbiAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKGNvbnZlcnRlcilcbiAgICB9XG4gIH0pO1xufVxudmFyIGFwaSA9IGluaXQoZGVmYXVsdENvbnZlcnRlciwge1xuICBwYXRoOiAnLydcbn0pO1xudmFyIGNvb2tpZVZlcmlmaWNhdGlvblRpbWVvdXRzID0gbmV3IE1hcCgpO1xudmFyIGNhbmNlbENvb2tpZVJlc3RvcmF0aW9uID0gZnVuY3Rpb24gY2FuY2VsQ29va2llUmVzdG9yYXRpb24obmFtZSkge1xuICBjbGVhclRpbWVvdXQoY29va2llVmVyaWZpY2F0aW9uVGltZW91dHMuZ2V0KG5hbWUpKTtcbn07XG52YXIgc2V0Q29va2llUGVyc2lzdGVudGx5ID0gZnVuY3Rpb24gc2V0Q29va2llUGVyc2lzdGVudGx5KG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gIHZhciBDT09LSUVfVkVSSUZZX0RFTEFZX01TID0gMTA7XG4gIGNhbmNlbENvb2tpZVJlc3RvcmF0aW9uKG5hbWUpO1xuICB2YXIgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGFwaS5nZXQobmFtZSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgYXBpLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgfVxuICB9LCBDT09LSUVfVkVSSUZZX0RFTEFZX01TKTtcbiAgY29va2llVmVyaWZpY2F0aW9uVGltZW91dHMuc2V0KG5hbWUsIHRpbWVvdXRJZCk7XG4gIHJldHVybiBhcGkuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbn07XG52YXIgU1RZVENIX1NFU1NJT05fQ09PS0lFID0gJ3N0eXRjaF9zZXNzaW9uJztcbnZhciBTVFlUQ0hfU0VTU0lPTl9KV1RfQ09PS0lFID0gJ3N0eXRjaF9zZXNzaW9uX2p3dCc7XG52YXIgU1RZVENIX0lOVEVSTUVESUFURV9TRVNTSU9OX1RPS0VOX0NPT0tJRSA9ICdzdHl0Y2hfaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW4nO1xudmFyIFN1YnNjcmlwdGlvbkRhdGFMYXllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbkRhdGFMYXllcihwdWJsaWNUb2tlbiwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJzY3JpcHRpb25EYXRhTGF5ZXIpO1xuICAgIHRoaXMuYnJvd3NlclNlc3Npb25TdG9yYWdlID0ge1xuICAgICAgZ2V0SXRlbTogZnVuY3Rpb24gZ2V0SXRlbShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlS2V5KF90aGlzNS5wdWJsaWNUb2tlbiwga2V5KSk7XG4gICAgICB9LFxuICAgICAgc2V0SXRlbTogZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUtleShfdGhpczUucHVibGljVG9rZW4sIGtleSksIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSkge1xuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShnZXRMb2NhbFN0b3JhZ2VLZXkoX3RoaXM1LnB1YmxpY1Rva2VuLCBrZXkpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucHVibGljVG9rZW4gPSBwdWJsaWNUb2tlbjtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlS2V5c1VwZGF0ZWQgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0ge307XG4gICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jb29raWVPcHRpb25zKSB7XG4gICAgICB2YWxpZGF0ZSgnU3Vic2NyaXB0aW9uRGF0YUxheWVyJykuaXNPcHRpb25hbFN0cmluZygnY29va2llT3B0aW9ucy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUnLCBvcHRpb25zLmNvb2tpZU9wdGlvbnMub3BhcXVlVG9rZW5Db29raWVOYW1lKS5pc09wdGlvbmFsU3RyaW5nKCdjb29raWVPcHRpb25zLmp3dENvb2tpZU5hbWUnLCBvcHRpb25zLmNvb2tpZU9wdGlvbnMuand0Q29va2llTmFtZSkuaXNPcHRpb25hbFN0cmluZygnY29va2llT3B0aW9ucy5pc3RDb29raWVOYW1lJywgb3B0aW9ucy5jb29raWVPcHRpb25zLmlzdENvb2tpZU5hbWUpLmlzT3B0aW9uYWxTdHJpbmcoJ2Nvb2tpZU9wdGlvbnMucGF0aCcsIG9wdGlvbnMuY29va2llT3B0aW9ucy5wYXRoKS5pc09wdGlvbmFsU3RyaW5nKCdjb29raWVPcHRpb25zLmRvbWFpbicsIG9wdGlvbnMuY29va2llT3B0aW9ucy5kb21haW4pO1xuICAgICAgdGhpcy5fand0Q29va2llTmFtZSA9IG9wdGlvbnMuY29va2llT3B0aW9ucy5qd3RDb29raWVOYW1lIHx8IG51bGw7XG4gICAgICB0aGlzLl9vcGFxdWVUb2tlbkNvb2tpZU5hbWUgPSBvcHRpb25zLmNvb2tpZU9wdGlvbnMub3BhcXVlVG9rZW5Db29raWVOYW1lIHx8IG51bGw7XG4gICAgICB0aGlzLl9jb29raWVQYXRoID0gb3B0aW9ucy5jb29raWVPcHRpb25zLnBhdGggfHwgbnVsbDtcbiAgICAgIHRoaXMuX2RvbWFpbiA9IG9wdGlvbnMuY29va2llT3B0aW9ucy5kb21haW4gfHwgbnVsbDtcbiAgICAgIHRoaXMuX2Nvb2tpZUF2YWlsYWJsZVRvU3ViZG9tYWlucyA9IG9wdGlvbnMuY29va2llT3B0aW9ucy5hdmFpbGFibGVUb1N1YmRvbWFpbnMgfHwgZmFsc2U7XG4gICAgICB0aGlzLl9pc3RDb29raWVOYW1lID0gb3B0aW9ucy5jb29raWVPcHRpb25zLmlzdENvb2tpZU5hbWUgfHwgbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb3BhcXVlVG9rZW5Db29raWVOYW1lID0gbnVsbDtcbiAgICAgIHRoaXMuX2p3dENvb2tpZU5hbWUgPSBudWxsO1xuICAgICAgdGhpcy5fY29va2llUGF0aCA9IG51bGw7XG4gICAgICB0aGlzLl9kb21haW4gPSBudWxsO1xuICAgICAgdGhpcy5fY29va2llQXZhaWxhYmxlVG9TdWJkb21haW5zID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc3RDb29raWVOYW1lID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGxvY2FsU3RvcmFnZVN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlS2V5KHRoaXMucHVibGljVG9rZW4pKTtcbiAgICBpZiAoIWxvY2FsU3RvcmFnZVN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwYXJzZWRTdGF0ZTtcbiAgICB0cnkge1xuICAgICAgcGFyc2VkU3RhdGUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVN0YXRlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnN5bmNUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gcGFyc2VkU3RhdGU7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKFN1YnNjcmlwdGlvbkRhdGFMYXllciwgW3tcbiAgICBrZXk6IFwib3BhcXVlVG9rZW5Db29raWVOYW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKF9hID0gdGhpcy5fb3BhcXVlVG9rZW5Db29raWVOYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTVFlUQ0hfU0VTU0lPTl9DT09LSUU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImp3dENvb2tpZU5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSB0aGlzLl9qd3RDb29raWVOYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTVFlUQ0hfU0VTU0lPTl9KV1RfQ09PS0lFO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc3RDb29raWVOYW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKF9hID0gdGhpcy5faXN0Q29va2llTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU1RZVENIX0lOVEVSTUVESUFURV9TRVNTSU9OX1RPS0VOX0NPT0tJRTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVhZFNlc3Npb25Db29raWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZFNlc3Npb25Db29raWUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9uX3Rva2VuOiBhcGkuZ2V0KHRoaXMub3BhcXVlVG9rZW5Db29raWVOYW1lKSxcbiAgICAgICAgc2Vzc2lvbl9qd3Q6IGFwaS5nZXQodGhpcy5qd3RDb29raWVOYW1lKVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVhZEludGVybWVkaWF0ZVNlc3Npb25Ub2tlbkNvb2tpZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkSW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuQ29va2llKCkge1xuICAgICAgcmV0dXJuIGFwaS5nZXQodGhpcy5pc3RDb29raWVOYW1lKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwid3JpdGVTZXNzaW9uQ29va2llXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlU2Vzc2lvbkNvb2tpZShzdGF0ZURpZmYpIHtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgIHZhciBzdGF0ZSA9IHN0YXRlRGlmZi5zdGF0ZSxcbiAgICAgICAgc2Vzc2lvbl90b2tlbiA9IHN0YXRlRGlmZi5zZXNzaW9uX3Rva2VuLFxuICAgICAgICBzZXNzaW9uX2p3dCA9IHN0YXRlRGlmZi5zZXNzaW9uX2p3dDtcbiAgICAgIHZhciBjb29raWVPcHRzID0gU3Vic2NyaXB0aW9uRGF0YUxheWVyLmdlbmVyYXRlQ29va2llT3B0cyh7XG4gICAgICAgIGV4cGlyZXNBdDogKF9iID0gKF9hID0gc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leHBpcmVzX2F0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJyxcbiAgICAgICAgYXZhaWxhYmxlVG9TdWJkb21haW5zOiB0aGlzLl9jb29raWVBdmFpbGFibGVUb1N1YmRvbWFpbnMsXG4gICAgICAgIHBhdGg6IHRoaXMuX2Nvb2tpZVBhdGgsXG4gICAgICAgIGRvbWFpbjogdGhpcy5fZG9tYWluXG4gICAgICB9KTtcbiAgICAgIHNldENvb2tpZVBlcnNpc3RlbnRseSh0aGlzLm9wYXF1ZVRva2VuQ29va2llTmFtZSwgc2Vzc2lvbl90b2tlbiwgY29va2llT3B0cyk7XG4gICAgICBzZXRDb29raWVQZXJzaXN0ZW50bHkodGhpcy5qd3RDb29raWVOYW1lLCBzZXNzaW9uX2p3dCwgY29va2llT3B0cyk7XG4gICAgICB2YXIgYWx0ZXJuYXRlQ29va2llT3B0aW9ucyA9IFN1YnNjcmlwdGlvbkRhdGFMYXllci5nZW5lcmF0ZUNvb2tpZU9wdHMoe1xuICAgICAgICBleHBpcmVzQXQ6IChfZCA9IChfYyA9IHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZXhwaXJlc19hdCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJycsXG4gICAgICAgIGF2YWlsYWJsZVRvU3ViZG9tYWluczogIXRoaXMuX2Nvb2tpZUF2YWlsYWJsZVRvU3ViZG9tYWlucyxcbiAgICAgICAgcGF0aDogdGhpcy5fY29va2llUGF0aCxcbiAgICAgICAgZG9tYWluOiB0aGlzLl9kb21haW5cbiAgICAgIH0pO1xuICAgICAgaWYgKGhhc011bHRpcGxlQ29va2llcyh0aGlzLmp3dENvb2tpZU5hbWUpKSB7XG4gICAgICAgIGFwaS5yZW1vdmUodGhpcy5qd3RDb29raWVOYW1lLCBhbHRlcm5hdGVDb29raWVPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNNdWx0aXBsZUNvb2tpZXModGhpcy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUpKSB7XG4gICAgICAgIGFwaS5yZW1vdmUodGhpcy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUsIGFsdGVybmF0ZUNvb2tpZU9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKGhhc011bHRpcGxlQ29va2llcyh0aGlzLmp3dENvb2tpZU5hbWUpKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdDb3VsZCBub3QgcmVtb3ZlIGV4dHJhbmVvdXMgSldUIGNvb2tpZS4gVGhpcyBtaWdodCBoYXBwZW4gaWYgdGhlIGNvb2tpZSBoYXMgYmVlbiBzZXQgdXNpbmcgbXVsdGlwbGUgYHBhdGhgIHNldHRpbmdzLCBhbmQgbWF5IHByb2R1Y2UgdW53YW50ZWQgYmVoYXZpb3IuJyk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzTXVsdGlwbGVDb29raWVzKHRoaXMub3BhcXVlVG9rZW5Db29raWVOYW1lKSkge1xuICAgICAgICBsb2dnZXIud2FybignQ291bGQgbm90IHJlbW92ZSBleHRyYW5lb3VzIG9wYXF1ZSB0b2tlbiBjb29raWUuJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIndyaXRlSW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuQ29va2llXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlSW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuQ29va2llKElTVCkge1xuICAgICAgdmFyIGV4cGlyZXNBdFRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgMTAgKiA2MDAwMCk7XG4gICAgICB2YXIgY29va2llT3B0cyA9IFN1YnNjcmlwdGlvbkRhdGFMYXllci5nZW5lcmF0ZUNvb2tpZU9wdHMoe1xuICAgICAgICBleHBpcmVzQXQ6IGV4cGlyZXNBdFRpbWUudG9TdHJpbmcoKSxcbiAgICAgICAgYXZhaWxhYmxlVG9TdWJkb21haW5zOiB0aGlzLl9jb29raWVBdmFpbGFibGVUb1N1YmRvbWFpbnMsXG4gICAgICAgIHBhdGg6IHRoaXMuX2Nvb2tpZVBhdGgsXG4gICAgICAgIGRvbWFpbjogdGhpcy5fZG9tYWluXG4gICAgICB9KTtcbiAgICAgIHNldENvb2tpZVBlcnNpc3RlbnRseSh0aGlzLmlzdENvb2tpZU5hbWUsIElTVCwgY29va2llT3B0cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVNlc3Npb25Db29raWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2Vzc2lvbkNvb2tpZSgpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ29va2llcyhbdGhpcy5vcGFxdWVUb2tlbkNvb2tpZU5hbWUsIHRoaXMuand0Q29va2llTmFtZV0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVJU1RDb29raWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSVNUQ29va2llKCkge1xuICAgICAgdGhpcy5yZW1vdmVDb29raWVzKFt0aGlzLmlzdENvb2tpZU5hbWVdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQ29va2llc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDb29raWVzKGNvb2tpZXNUb1JlbW92ZSkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG4gICAgICBbdHJ1ZSwgZmFsc2VdLmZvckVhY2goZnVuY3Rpb24gKGF2YWlsYWJsZVRvU3ViZG9tYWlucykge1xuICAgICAgICBbX3RoaXM2Ll9jb29raWVQYXRoLCBudWxsXS5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgW190aGlzNi5fZG9tYWluLCBudWxsXS5mb3JFYWNoKGZ1bmN0aW9uIChkb21haW4pIHtcbiAgICAgICAgICAgIHZhciBjb29raWVPcHRzID0gU3Vic2NyaXB0aW9uRGF0YUxheWVyLmdlbmVyYXRlQ29va2llT3B0cyh7XG4gICAgICAgICAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoMCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgYXZhaWxhYmxlVG9TdWJkb21haW5zOiBhdmFpbGFibGVUb1N1YmRvbWFpbnMsXG4gICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgIGRvbWFpbjogZG9tYWluXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvb2tpZXNUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uIChjb29raWVOYW1lKSB7XG4gICAgICAgICAgICAgIGFwaS5yZW1vdmUoY29va2llTmFtZSwgY29va2llT3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNvb2tpZXNUb1JlbW92ZS5mb3JFYWNoKGNhbmNlbENvb2tpZVJlc3RvcmF0aW9uKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3luY1RvTG9jYWxTdG9yYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmNUb0xvY2FsU3RvcmFnZSgpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUtleSh0aGlzLnB1YmxpY1Rva2VuKSwgSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW0oa2V5KSB7XG4gICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlS2V5KHRoaXMucHVibGljVG9rZW4sIGtleSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUtleSh0aGlzLnB1YmxpY1Rva2VuLCBrZXkpLCB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShnZXRMb2NhbFN0b3JhZ2VLZXkodGhpcy5wdWJsaWNUb2tlbiwga2V5KSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2VuZXJhdGVDb29raWVPcHRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlQ29va2llT3B0cyhfcmVmOSkge1xuICAgICAgdmFyIHBhdGggPSBfcmVmOS5wYXRoLFxuICAgICAgICBkb21haW4gPSBfcmVmOS5kb21haW4sXG4gICAgICAgIGF2YWlsYWJsZVRvU3ViZG9tYWlucyA9IF9yZWY5LmF2YWlsYWJsZVRvU3ViZG9tYWlucyxcbiAgICAgICAgZXhwaXJlc0F0ID0gX3JlZjkuZXhwaXJlc0F0O1xuICAgICAgdmFyIGNvb2tpZU9wdHMgPSB7XG4gICAgICAgIGV4cGlyZXM6IG5ldyBEYXRlKGV4cGlyZXNBdCksXG4gICAgICAgIHNhbWVTaXRlOiAnbGF4J1xuICAgICAgfTtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIGNvb2tpZU9wdHMucGF0aCA9IHBhdGg7XG4gICAgICB9XG4gICAgICBpZiAoaXNMb2NhbGhvc3QoKSkge1xuICAgICAgICBjb29raWVPcHRzLnNlY3VyZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGF2YWlsYWJsZVRvU3ViZG9tYWlucykge1xuICAgICAgICAgIGNvb2tpZU9wdHMuZG9tYWluID0gZG9tYWluIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIGNvb2tpZU9wdHMuc2VjdXJlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb29raWVPcHRzO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3Vic2NyaXB0aW9uRGF0YUxheWVyO1xufSgpO1xudmFyIEIyQlN1YnNjcmlwdGlvbkRhdGFMYXllciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N1YnNjcmlwdGlvbkRhdGFMYXllKSB7XG4gIF9pbmhlcml0cyhCMkJTdWJzY3JpcHRpb25EYXRhTGF5ZXIsIF9TdWJzY3JpcHRpb25EYXRhTGF5ZSk7XG4gIGZ1bmN0aW9uIEIyQlN1YnNjcmlwdGlvbkRhdGFMYXllcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQjJCU3Vic2NyaXB0aW9uRGF0YUxheWVyKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBCMkJTdWJzY3JpcHRpb25EYXRhTGF5ZXIsIGFyZ3VtZW50cyk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhCMkJTdWJzY3JpcHRpb25EYXRhTGF5ZXIpO1xufShTdWJzY3JpcHRpb25EYXRhTGF5ZXIpO1xudmFyIGIyYkRhdGFMYXllckNhY2hlU3ltYm9sID0gU3ltYm9sW1wiZm9yXCJdKCdfX3N0eXRjaF9iMmJfRGF0YUxheWVyJyk7XG52YXIgZ2V0QjJCRGF0YUxheWVyQ2FjaGUgPSBmdW5jdGlvbiBnZXRCMkJEYXRhTGF5ZXJDYWNoZSgpIHtcbiAgdmFyIHdkdyA9IHdpbmRvdztcbiAgaWYgKCF3ZHdbYjJiRGF0YUxheWVyQ2FjaGVTeW1ib2xdKSB7XG4gICAgd2R3W2IyYkRhdGFMYXllckNhY2hlU3ltYm9sXSA9IHt9O1xuICB9XG4gIHJldHVybiB3ZHdbYjJiRGF0YUxheWVyQ2FjaGVTeW1ib2xdO1xufTtcbnZhciBnZXRCMkJEYXRhTGF5ZXIgPSBmdW5jdGlvbiBnZXRCMkJEYXRhTGF5ZXIocHVibGljVG9rZW4sIG9wdGlvbnMpIHtcbiAgdmFyIGRhdGFMYXllckNhY2hlID0gZ2V0QjJCRGF0YUxheWVyQ2FjaGUoKTtcbiAgaWYgKCFkYXRhTGF5ZXJDYWNoZVtwdWJsaWNUb2tlbl0pIHtcbiAgICBkYXRhTGF5ZXJDYWNoZVtwdWJsaWNUb2tlbl0gPSBuZXcgQjJCU3Vic2NyaXB0aW9uRGF0YUxheWVyKHB1YmxpY1Rva2VuLCBvcHRpb25zKTtcbiAgfVxuICByZXR1cm4gZGF0YUxheWVyQ2FjaGVbcHVibGljVG9rZW5dO1xufTtcbnZhciBhZGRTdWJzY3JpYmVyID0gZnVuY3Rpb24gYWRkU3Vic2NyaWJlcihjb2xsZWN0aW9uLCBzdWJzY3JpYmVyKSB7XG4gIHZhciB1bmlxdWVJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKC0xMCk7XG4gIGNvbGxlY3Rpb25bdW5pcXVlSWRdID0gc3Vic2NyaWJlcjtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGVsZXRlIGNvbGxlY3Rpb25bdW5pcXVlSWRdO1xuICB9O1xufTtcbnZhciBub3RpZnlTdWJzY3JpYmVycyA9IGZ1bmN0aW9uIG5vdGlmeVN1YnNjcmliZXJzKGNvbGxlY3Rpb24sIHZhbHVlKSB7XG4gIE9iamVjdC52YWx1ZXMoY29sbGVjdGlvbikuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcbiAgICByZXR1cm4gY2IodmFsdWUpO1xuICB9KTtcbn07XG52YXIgZGVlcEVxdWFsRGF0YSA9IGNyZWF0ZURlZXBFcXVhbCh7XG4gIEtFWVNfVE9fRVhDTFVERTogWydsYXN0X2FjY2Vzc2VkX2F0J11cbn0pO1xudmFyIEJhc2VTdWJzY3JpcHRpb25TZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQmFzZVN1YnNjcmlwdGlvblNlcnZpY2UoX3B1YmxpY1Rva2VuLCBfZGF0YWxheWVyKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VTdWJzY3JpcHRpb25TZXJ2aWNlKTtcbiAgICB0aGlzLl9wdWJsaWNUb2tlbiA9IF9wdWJsaWNUb2tlbjtcbiAgICB0aGlzLl9kYXRhbGF5ZXIgPSBfZGF0YWxheWVyO1xuICAgIHRoaXMuZnJvbUNhY2hlID0gdHJ1ZTtcbiAgICB0aGlzLl9saXN0ZW4gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5ICE9PSBnZXRMb2NhbFN0b3JhZ2VLZXkoX3RoaXM3Ll9wdWJsaWNUb2tlbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHBhcnNlZFZhbHVlID0gZS5uZXdWYWx1ZSA9PT0gbnVsbCB8fCBlLm5ld1ZhbHVlID09PSAnbnVsbCcgPyBudWxsIDogSlNPTi5wYXJzZShlLm5ld1ZhbHVlKTtcbiAgICAgIF90aGlzNy51cGRhdGVTdGF0ZShwYXJzZWRWYWx1ZSwgdHJ1ZSk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMuX2xpc3Rlbik7XG4gICAgdmFyIF90aGlzJF9kYXRhbGF5ZXIkcmVhZCA9IHRoaXMuX2RhdGFsYXllci5yZWFkU2Vzc2lvbkNvb2tpZSgpLFxuICAgICAgc2Vzc2lvbl90b2tlbiA9IF90aGlzJF9kYXRhbGF5ZXIkcmVhZC5zZXNzaW9uX3Rva2VuO1xuICAgIGlmICghc2Vzc2lvbl90b2tlbikge1xuICAgICAgdGhpcy5kZXN0cm95U2Vzc2lvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBfY3JlYXRlQ2xhc3MoQmFzZVN1YnNjcmlwdGlvblNlcnZpY2UsIFt7XG4gICAga2V5OiBcImdldFRva2Vuc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb2tlbnMoKSB7XG4gICAgICB2YXIgX3RoaXMkX2RhdGFsYXllciRyZWFkMiA9IHRoaXMuX2RhdGFsYXllci5yZWFkU2Vzc2lvbkNvb2tpZSgpLFxuICAgICAgICBzZXNzaW9uX3Rva2VuID0gX3RoaXMkX2RhdGFsYXllciRyZWFkMi5zZXNzaW9uX3Rva2VuLFxuICAgICAgICBzZXNzaW9uX2p3dCA9IF90aGlzJF9kYXRhbGF5ZXIkcmVhZDIuc2Vzc2lvbl9qd3Q7XG4gICAgICBpZiAoISh0eXBlb2Ygc2Vzc2lvbl90b2tlbiA9PT0gJ3N0cmluZycpIHx8ICEodHlwZW9mIHNlc3Npb25fand0ID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9uX3Rva2VuOiBzZXNzaW9uX3Rva2VuLFxuICAgICAgICBzZXNzaW9uX2p3dDogc2Vzc2lvbl9qd3RcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEludGVybWVkaWF0ZVNlc3Npb25Ub2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGF0YWxheWVyLnJlYWRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW5Db29raWUoKSB8fCBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZXN0cm95U3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveVN0YXRlKCkge1xuICAgICAgdGhpcy51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICBzZXNzaW9uX3Rva2VuOiBudWxsLFxuICAgICAgICBzZXNzaW9uX2p3dDogbnVsbCxcbiAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZXN0cm95U2Vzc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95U2Vzc2lvbigpIHtcbiAgICAgIHRoaXMuX2RhdGFsYXllci5yZW1vdmVTZXNzaW9uQ29va2llKCk7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXRlKG51bGwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlU3RhdGVBbmRUb2tlbnNJbnRlcm5hbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlU3RhdGVBbmRUb2tlbnNJbnRlcm5hbChzdGF0ZURpZmYpIHtcbiAgICAgIHZhciBvbGRTdGF0ZVZhbHVlID0gdGhpcy5fZGF0YWxheWVyLnN0YXRlO1xuICAgICAgdmFyIG5ld1N0YXRlVmFsdWUgPSBzdGF0ZURpZmYuc3RhdGUgPT09IG51bGwgPyBudWxsIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9kYXRhbGF5ZXIuc3RhdGUpLCBzdGF0ZURpZmYuc3RhdGUpO1xuICAgICAgdGhpcy5fZGF0YWxheWVyLnN0YXRlID0gbmV3U3RhdGVWYWx1ZTtcbiAgICAgIHZhciB3YXNDYWNoZWQgPSB0aGlzLmdldEZyb21DYWNoZSgpO1xuICAgICAgdGhpcy5zZXRDYWNoZVJlZnJlc2hlZCgpO1xuICAgICAgaWYgKHdhc0NhY2hlZCB8fCAhZGVlcEVxdWFsRGF0YShvbGRTdGF0ZVZhbHVlLCBuZXdTdGF0ZVZhbHVlKSkge1xuICAgICAgICBub3RpZnlTdWJzY3JpYmVycyh0aGlzLl9kYXRhbGF5ZXIuc3Vic2NyaXB0aW9ucywgbmV3U3RhdGVWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0YXRlQW5kVG9rZW5zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlQW5kVG9rZW5zKHN0YXRlRGlmZikge1xuICAgICAgaWYgKHN0YXRlRGlmZi5zdGF0ZSkge1xuICAgICAgICB0aGlzLl9kYXRhbGF5ZXIud3JpdGVTZXNzaW9uQ29va2llKHN0YXRlRGlmZik7XG4gICAgICAgIHRoaXMuX2RhdGFsYXllci5yZW1vdmVJU1RDb29raWUoKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGVEaWZmLmludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuKSB7XG4gICAgICAgIHRoaXMuX2RhdGFsYXllci53cml0ZUludGVybWVkaWF0ZVNlc3Npb25Ub2tlbkNvb2tpZShzdGF0ZURpZmYuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW4pO1xuICAgICAgICB0aGlzLl9kYXRhbGF5ZXIucmVtb3ZlU2Vzc2lvbkNvb2tpZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGF0YWxheWVyLnJlbW92ZVNlc3Npb25Db29raWUoKTtcbiAgICAgICAgdGhpcy5fZGF0YWxheWVyLnJlbW92ZUlTVENvb2tpZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fdXBkYXRlU3RhdGVBbmRUb2tlbnNJbnRlcm5hbChzdGF0ZURpZmYpO1xuICAgICAgdGhpcy5fZGF0YWxheWVyLnN5bmNUb0xvY2FsU3RvcmFnZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdGF0ZShzdGF0ZSkge1xuICAgICAgdmFyIGZyb21FeHRlcm5hbFNvdXJjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICB2YXIgb2xkU3RhdGVWYWx1ZSA9IHRoaXMuX2RhdGFsYXllci5zdGF0ZTtcbiAgICAgIHZhciBuZXdTdGF0ZVZhbHVlID0gc3RhdGUgPT09IG51bGwgPyBudWxsIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9kYXRhbGF5ZXIuc3RhdGUpLCBzdGF0ZSk7XG4gICAgICB0aGlzLl9kYXRhbGF5ZXIuc3RhdGUgPSBuZXdTdGF0ZVZhbHVlO1xuICAgICAgdmFyIHdhc0NhY2hlZCA9IHRoaXMuZ2V0RnJvbUNhY2hlKCk7XG4gICAgICB0aGlzLnNldENhY2hlUmVmcmVzaGVkKCk7XG4gICAgICB2YXIgaGFzU3RhdGVDaGFuZ2VkID0gIWRlZXBFcXVhbERhdGEob2xkU3RhdGVWYWx1ZSwgbmV3U3RhdGVWYWx1ZSk7XG4gICAgICBpZiAod2FzQ2FjaGVkIHx8IGhhc1N0YXRlQ2hhbmdlZCkge1xuICAgICAgICBub3RpZnlTdWJzY3JpYmVycyh0aGlzLl9kYXRhbGF5ZXIuc3Vic2NyaXB0aW9ucywgbmV3U3RhdGVWYWx1ZSk7XG4gICAgICAgIGlmIChoYXNTdGF0ZUNoYW5nZWQgJiYgIWZyb21FeHRlcm5hbFNvdXJjZSkge1xuICAgICAgICAgIHRoaXMuX2RhdGFsYXllci5zeW5jVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVUb2tlbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVG9rZW5zKHRva2Vucykge1xuICAgICAgdmFyIHNlc3Npb25fdG9rZW4gPSB0b2tlbnMuc2Vzc2lvbl90b2tlbixcbiAgICAgICAgc2Vzc2lvbl9qd3QgPSB0b2tlbnMuc2Vzc2lvbl9qd3Q7XG4gICAgICB2YXIgY29va2llID0gdGhpcy5fZGF0YWxheWVyLnJlYWRTZXNzaW9uQ29va2llKCk7XG4gICAgICB2YXIgZGlmZiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29va2llKSwge1xuICAgICAgICBzZXNzaW9uX3Rva2VuOiBzZXNzaW9uX3Rva2VuLFxuICAgICAgICBzZXNzaW9uX2p3dDogc2Vzc2lvbl9qd3RcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlc3Npb25fdG9rZW4gfHwgc2Vzc2lvbl9qd3QpIHtcbiAgICAgICAgdGhpcy5fZGF0YWxheWVyLndyaXRlU2Vzc2lvbkNvb2tpZShkaWZmKTtcbiAgICAgICAgdGhpcy5fZGF0YWxheWVyLnJlbW92ZUlTVENvb2tpZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGF0YWxheWVyLnJlbW92ZVNlc3Npb25Db29raWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3Vic2NyaWJlVG9TdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUb1N0YXRlKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gYWRkU3Vic2NyaWJlcih0aGlzLl9kYXRhbGF5ZXIuc3Vic2NyaXB0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhbGF5ZXIuc3RhdGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgdGhpcy5fbGlzdGVuKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3luY0Zyb21EZXZpY2VTdG9yYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmNGcm9tRGV2aWNlU3RvcmFnZSgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRGcm9tQ2FjaGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZnJvbUNhY2hlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDYWNoZVJlZnJlc2hlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDYWNoZVJlZnJlc2hlZCgpIHtcbiAgICAgIHRoaXMuZnJvbUNhY2hlID0gZmFsc2U7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCYXNlU3Vic2NyaXB0aW9uU2VydmljZTtcbn0oKTtcbnZhciBCMkJTdWJzY3JpcHRpb25TZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZVN1YnNjcmlwdGlvblNlcnYpIHtcbiAgX2luaGVyaXRzKEIyQlN1YnNjcmlwdGlvblNlcnZpY2UsIF9CYXNlU3Vic2NyaXB0aW9uU2Vydik7XG4gIGZ1bmN0aW9uIEIyQlN1YnNjcmlwdGlvblNlcnZpY2UoKSB7XG4gICAgdmFyIF90aGlzODtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQjJCU3Vic2NyaXB0aW9uU2VydmljZSk7XG4gICAgX3RoaXM4ID0gX2NhbGxTdXBlcih0aGlzLCBCMkJTdWJzY3JpcHRpb25TZXJ2aWNlLCBhcmd1bWVudHMpO1xuICAgIF90aGlzOC51cGRhdGVNZW1iZXIgPSBmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICByZXR1cm4gX3RoaXM4LnVwZGF0ZVN0YXRlKHtcbiAgICAgICAgbWVtYmVyOiBtZW1iZXJcbiAgICAgIH0pO1xuICAgIH07XG4gICAgX3RoaXM4LmdldE1lbWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICByZXR1cm4gKF9iID0gKF9hID0gX3RoaXM4LmdldFN0YXRlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZW1iZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgfTtcbiAgICBfdGhpczgudXBkYXRlT3JnYW5pemF0aW9uID0gZnVuY3Rpb24gKG9yZ2FuaXphdGlvbikge1xuICAgICAgcmV0dXJuIF90aGlzOC51cGRhdGVTdGF0ZSh7XG4gICAgICAgIG9yZ2FuaXphdGlvbjogb3JnYW5pemF0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzOC5nZXRPcmdhbml6YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgcmV0dXJuIChfYiA9IChfYSA9IF90aGlzOC5nZXRTdGF0ZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3JnYW5pemF0aW9uKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIH07XG4gICAgX3RoaXM4LmdldFNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgcmV0dXJuIChfYiA9IChfYSA9IF90aGlzOC5nZXRTdGF0ZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2Vzc2lvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBfdGhpczg7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhCMkJTdWJzY3JpcHRpb25TZXJ2aWNlKTtcbn0oQmFzZVN1YnNjcmlwdGlvblNlcnZpY2UpO1xudmFyIG5hdmlnYXRvclN1cHBvcnRzRmVkQ00gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAnSWRlbnRpdHlDcmVkZW50aWFsJyBpbiB3aW5kb3c7XG52YXIgZ2V0Q29uZmlndXJlZEVtYmVkZGVkTW9kZSA9IGZ1bmN0aW9uIGdldENvbmZpZ3VyZWRFbWJlZGRlZE1vZGUocG9zaXRpb24pIHtcbiAgaWYgKHBvc2l0aW9uID09PSBPbmVUYXBQb3NpdGlvbnMuZm9yY2VMZWdhY3lFbWJlZGRlZCkge1xuICAgIHJldHVybiAnZm9yY2UnO1xuICB9XG4gIGlmIChwb3NpdGlvbiA9PT0gT25lVGFwUG9zaXRpb25zLmVtYmVkZGVkT25seSB8fCBwb3NpdGlvbiA9PT0gT25lVGFwUG9zaXRpb25zLmVtYmVkZGVkIHx8IHBvc2l0aW9uID09PSBPbmVUYXBQb3NpdGlvbnMuZmxvYXRpbmdPckVtYmVkZGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBnZXRTaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCA9IGZ1bmN0aW9uIGdldFNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwKHBvc2l0aW9uKSB7XG4gIHZhciBlbWJlZGRlZE1vZGUgPSBnZXRDb25maWd1cmVkRW1iZWRkZWRNb2RlKHBvc2l0aW9uKTtcbiAgcmV0dXJuIGVtYmVkZGVkTW9kZSA9PT0gJ2ZvcmNlJyB8fCBlbWJlZGRlZE1vZGUgJiYgIW5hdmlnYXRvclN1cHBvcnRzRmVkQ007XG59O1xudmFyIEdvb2dsZU9uZVRhcENsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdvb2dsZU9uZVRhcENsaWVudChfZ29vZ2xlQ2xpZW50LCBfY2xpZW50SWQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR29vZ2xlT25lVGFwQ2xpZW50KTtcbiAgICB0aGlzLl9nb29nbGVDbGllbnQgPSBfZ29vZ2xlQ2xpZW50O1xuICAgIHRoaXMuX2NsaWVudElkID0gX2NsaWVudElkO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhHb29nbGVPbmVUYXBDbGllbnQsIFt7XG4gICAga2V5OiBcImNhbmNlbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICB0aGlzLl9nb29nbGVDbGllbnQuY2FuY2VsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoX3JlZjEwKSB7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBfcmVmMTAuY2FsbGJhY2ssXG4gICAgICAgIG9uT25lVGFwQ2FuY2VsbGVkID0gX3JlZjEwLm9uT25lVGFwQ2FuY2VsbGVkLFxuICAgICAgICBzdHlsZSA9IF9yZWYxMC5zdHlsZTtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7XG4gICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuICAgICAgICB2YXIgZW1iZWRkZWRNb2RlLCBzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCwgY29uZmlnO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGVtYmVkZGVkTW9kZSA9IGdldENvbmZpZ3VyZWRFbWJlZGRlZE1vZGUoc3R5bGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICBzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCA9IGdldFNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwKHN0eWxlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogdGhpcy5fY2xpZW50SWQsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGF1dG9fc2VsZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiAndXNlJyxcbiAgICAgICAgICAgICAgICBpdHBfc3VwcG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1c2VfZmVkY21fZm9yX3Byb21wdDogZW1iZWRkZWRNb2RlICE9PSAnZm9yY2UnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChzaG91bGRSZW5kZXJFbWJlZGRlZE9uZVRhcCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5wcm9tcHRfcGFyZW50X2lkID0gJ2dvb2dsZS1wYXJlbnQtcHJvbXB0JztcbiAgICAgICAgICAgICAgICBjb25maWcuY2FuY2VsX29uX3RhcF9vdXRzaWRlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5fZ29vZ2xlQ2xpZW50LmluaXRpYWxpemUoY29uZmlnKTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM5Ll9nb29nbGVDbGllbnQucHJvbXB0KGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLmlzU2tpcHBlZE1vbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFzb24gPSAoX2IgPSAoX2EgPSBub3RpZmljYXRpb24uZ2V0U2tpcHBlZFJlYXNvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwobm90aWZpY2F0aW9uKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3Vua25vd25fcmVhc29uJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYXNvbiA9PT0gJ3VzZXJfY2FuY2VsJykge1xuICAgICAgICAgICAgICAgICAgICAgIG9uT25lVGFwQ2FuY2VsbGVkID09PSBudWxsIHx8IG9uT25lVGFwQ2FuY2VsbGVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk9uZVRhcENhbmNlbGxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHJlYXNvblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICghbm90aWZpY2F0aW9uLmlzTm90RGlzcGxheWVkICYmIHNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwIHx8ICgoX2MgPSBub3RpZmljYXRpb24uaXNOb3REaXNwbGF5ZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKG5vdGlmaWNhdGlvbikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICByZWFzb246IChfZSA9IChfZCA9IG5vdGlmaWNhdGlvbi5nZXROb3REaXNwbGF5ZWRSZWFzb24pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKG5vdGlmaWNhdGlvbikpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICd1bmtub3duX3JlYXNvbidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoIW5vdGlmaWNhdGlvbi5pc0Rpc21pc3NlZE1vbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzOS5zdHlsZUZyYW1lKHNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R5bGVGcmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdHlsZUZyYW1lKHNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwKSB7XG4gICAgICBpZiAoIXNob3VsZFJlbmRlckVtYmVkZGVkT25lVGFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lmcmFtZScpKS5mb3JFYWNoKGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICBpZiAoZnJhbWUuc3JjLmluY2x1ZGVzKEdPT0dMRV9PTkVfVEFQX0hPU1QpKSB7XG4gICAgICAgICAgZnJhbWUuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gR29vZ2xlT25lVGFwQ2xpZW50O1xufSgpO1xudmFyIGxvYWRHb29nbGVPbmVUYXBDbGllbnQgPSBmdW5jdGlvbiBsb2FkR29vZ2xlT25lVGFwQ2xpZW50KCkge1xuICByZXR1cm4gbG9hZEVTTW9kdWxlKEdPT0dMRV9PTkVfVEFQX1NDUklQVF9VUkwsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93Lmdvb2dsZS5hY2NvdW50cy5pZDtcbiAgfSk7XG59O1xudmFyIERlZmF1bHREeW5hbWljQ29uZmlnID0gUHJvbWlzZS5yZXNvbHZlKHtcbiAgcGtjZVJlcXVpcmVkRm9yT0F1dGg6IGZhbHNlXG59KTtcbnZhciBCMkJPbmVUYXBQcm92aWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEIyQk9uZVRhcFByb3ZpZGVyKF9uZXR3b3JrQ2xpZW50LCBfcGtjZU1hbmFnZXIpIHtcbiAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG4gICAgdmFyIF9jb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IERlZmF1bHREeW5hbWljQ29uZmlnO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCMkJPbmVUYXBQcm92aWRlcik7XG4gICAgdGhpcy5fbmV0d29ya0NsaWVudCA9IF9uZXR3b3JrQ2xpZW50O1xuICAgIHRoaXMuX3BrY2VNYW5hZ2VyID0gX3BrY2VNYW5hZ2VyO1xuICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgdGhpcy5jcmVhdGVPbkRpc2NvdmVyeVN1Y2Nlc3NIYW5kbGVyID0gZnVuY3Rpb24gKF9yZWYxMSkge1xuICAgICAgdmFyIGRpc2NvdmVyeVJlZGlyZWN0VXJsID0gX3JlZjExLmRpc2NvdmVyeVJlZGlyZWN0VXJsLFxuICAgICAgICBvblN1Y2Nlc3MgPSBfcmVmMTEub25TdWNjZXNzLFxuICAgICAgICBvbkVycm9yID0gX3JlZjExLm9uRXJyb3I7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMxMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7XG4gICAgICAgICAgdmFyIGNyZWRlbnRpYWwsIHN1Ym1pdFByb21pc2U7XG4gICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsID0gcmVzcG9uc2UuY3JlZGVudGlhbDtcbiAgICAgICAgICAgICAgICBzdWJtaXRQcm9taXNlID0gdGhpcy5zdWJtaXRHb29nbGVPbmVUYXBUb2tlbkRpc2NvdmVyeSh7XG4gICAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgZGlzY292ZXJ5UmVkaXJlY3RVcmw6IGRpc2NvdmVyeVJlZGlyZWN0VXJsXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb25TdWNjZXNzKHJlc3VsdC5yZWRpcmVjdF91cmwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBzdWJtaXRQcm9taXNlID0gc3VibWl0UHJvbWlzZVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VibWl0UHJvbWlzZTtcbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUxNCwgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICB0aGlzLmNyZWF0ZU9uU3VjY2Vzc0hhbmRsZXIgPSBmdW5jdGlvbiAoX3JlZjEyKSB7XG4gICAgICB2YXIgb3JnYW5pemF0aW9uSWQgPSBfcmVmMTIub3JnYW5pemF0aW9uSWQsXG4gICAgICAgIHNpZ251cFJlZGlyZWN0VXJsID0gX3JlZjEyLnNpZ251cFJlZGlyZWN0VXJsLFxuICAgICAgICBsb2dpblJlZGlyZWN0VXJsID0gX3JlZjEyLmxvZ2luUmVkaXJlY3RVcmwsXG4gICAgICAgIG9uU3VjY2VzcyA9IF9yZWYxMi5vblN1Y2Nlc3MsXG4gICAgICAgIG9uRXJyb3IgPSBfcmVmMTIub25FcnJvcjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpczEwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHtcbiAgICAgICAgICB2YXIgY3JlZGVudGlhbCwgc3VibWl0UHJvbWlzZTtcbiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWwgPSByZXNwb25zZS5jcmVkZW50aWFsO1xuICAgICAgICAgICAgICAgIHN1Ym1pdFByb21pc2UgPSB0aGlzLnN1Ym1pdEdvb2dsZU9uZVRhcFRva2VuKHtcbiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWw6IGNyZWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25JZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgICAgICAgICBzaWdudXBSZWRpcmVjdFVybDogc2lnbnVwUmVkaXJlY3RVcmwsXG4gICAgICAgICAgICAgICAgICBsb2dpblJlZGlyZWN0VXJsOiBsb2dpblJlZGlyZWN0VXJsXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb25TdWNjZXNzKHJlc3VsdC5yZWRpcmVjdF91cmwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBzdWJtaXRQcm9taXNlID0gc3VibWl0UHJvbWlzZVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VibWl0UHJvbWlzZTtcbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICB0aGlzLlJlZGlyZWN0T25TdWNjZXNzID0gZnVuY3Rpb24gKHJlZGlyZWN0X3VybCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdF91cmw7XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoQjJCT25lVGFwUHJvdmlkZXIsIFt7XG4gICAga2V5OiBcImZldGNoR29vZ2xlU3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hHb29nbGVTdGFydCgpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7XG4gICAgICAgIHZhciBvbmVUYXBTdGFydFJlc3A7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaWYgKCF0aGlzLmdvb2dsZUNsaWVudElEKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5nb29nbGVDbGllbnRJRCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL29hdXRoL2dvb2dsZS9vbmV0YXAvc3RhcnQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIGdvb2dsZSBjbGllbnQgSUQnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBvbmVUYXBTdGFydFJlc3AgPSBfY29udGV4dDE2LnNlbnQ7XG4gICAgICAgICAgICAgIHRoaXMuZ29vZ2xlQ2xpZW50SUQgPSBvbmVUYXBTdGFydFJlc3AuZ29vZ2xlX2NsaWVudF9pZDtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZ29vZ2xlQ2xpZW50SUQpO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTYsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdWJtaXRHb29nbGVPbmVUYXBUb2tlbkRpc2NvdmVyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJtaXRHb29nbGVPbmVUYXBUb2tlbkRpc2NvdmVyeShfcmVmMTMpIHtcbiAgICAgIHZhciBjcmVkZW50aWFsID0gX3JlZjEzLmNyZWRlbnRpYWwsXG4gICAgICAgIGRpc2NvdmVyeVJlZGlyZWN0VXJsID0gX3JlZjEzLmRpc2NvdmVyeVJlZGlyZWN0VXJsO1xuICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHtcbiAgICAgICAgdmFyIGNvZGVDaGFsbGVuZ2UsIF95aWVsZCR0aGlzJF9jb25maWcsIHBrY2VSZXF1aXJlZEZvck9BdXRoLCBrZXlQYWlyO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGNvZGVDaGFsbGVuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJF9jb25maWcgPSBfY29udGV4dDE3LnNlbnQ7XG4gICAgICAgICAgICAgIHBrY2VSZXF1aXJlZEZvck9BdXRoID0gX3lpZWxkJHRoaXMkX2NvbmZpZy5wa2NlUmVxdWlyZWRGb3JPQXV0aDtcbiAgICAgICAgICAgICAgaWYgKCFwa2NlUmVxdWlyZWRGb3JPQXV0aCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDg7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wa2NlTWFuYWdlci5zdGFydFBLQ0VUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBrZXlQYWlyID0gX2NvbnRleHQxNy5zZW50O1xuICAgICAgICAgICAgICBjb2RlQ2hhbGxlbmdlID0ga2V5UGFpci5jb2RlX2NoYWxsZW5nZTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgdGhpcy5fcGtjZU1hbmFnZXIuY2xlYXJQS1BhaXIoKTtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDE1O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9vYXV0aC9nb29nbGUvb25ldGFwL2Rpc2NvdmVyeS9zdWJtaXQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgIGlkX3Rva2VuOiBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgZGlzY292ZXJ5X3JlZGlyZWN0X3VybDogZGlzY292ZXJ5UmVkaXJlY3RVcmwsXG4gICAgICAgICAgICAgICAgICBwa2NlX2NvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gc3VibWl0IE9uZSBUYXAgSUQgdG9rZW4gZm9yIGRpc2NvdmVyeSdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNy5zZW50KTtcbiAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNywgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN1Ym1pdEdvb2dsZU9uZVRhcFRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1Ym1pdEdvb2dsZU9uZVRhcFRva2VuKF9yZWYxNCkge1xuICAgICAgdmFyIGNyZWRlbnRpYWwgPSBfcmVmMTQuY3JlZGVudGlhbCxcbiAgICAgICAgb3JnYW5pemF0aW9uSWQgPSBfcmVmMTQub3JnYW5pemF0aW9uSWQsXG4gICAgICAgIHNpZ251cFJlZGlyZWN0VXJsID0gX3JlZjE0LnNpZ251cFJlZGlyZWN0VXJsLFxuICAgICAgICBsb2dpblJlZGlyZWN0VXJsID0gX3JlZjE0LmxvZ2luUmVkaXJlY3RVcmw7XG4gICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkge1xuICAgICAgICB2YXIgY29kZUNoYWxsZW5nZSwgX3lpZWxkJHRoaXMkX2NvbmZpZzIsIHBrY2VSZXF1aXJlZEZvck9BdXRoLCBrZXlQYWlyO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGNvZGVDaGFsbGVuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJF9jb25maWcyID0gX2NvbnRleHQxOC5zZW50O1xuICAgICAgICAgICAgICBwa2NlUmVxdWlyZWRGb3JPQXV0aCA9IF95aWVsZCR0aGlzJF9jb25maWcyLnBrY2VSZXF1aXJlZEZvck9BdXRoO1xuICAgICAgICAgICAgICBpZiAoIXBrY2VSZXF1aXJlZEZvck9BdXRoKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLnN0YXJ0UEtDRVRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGtleVBhaXIgPSBfY29udGV4dDE4LnNlbnQ7XG4gICAgICAgICAgICAgIGNvZGVDaGFsbGVuZ2UgPSBrZXlQYWlyLmNvZGVfY2hhbGxlbmdlO1xuICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICB0aGlzLl9wa2NlTWFuYWdlci5jbGVhclBLUGFpcigpO1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL29hdXRoL2dvb2dsZS9vbmV0YXAvc3VibWl0JyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICBpZF90b2tlbjogY3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgICAgICAgICBzaWdudXBfcmVkaXJlY3RfdXJsOiBzaWdudXBSZWRpcmVjdFVybCxcbiAgICAgICAgICAgICAgICAgIGxvZ2luX3JlZGlyZWN0X3VybDogbG9naW5SZWRpcmVjdFVybCxcbiAgICAgICAgICAgICAgICAgIHBrY2VfY29kZV9jaGFsbGVuZ2U6IGNvZGVDaGFsbGVuZ2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBzdWJtaXQgT25lIFRhcCBJRCB0b2tlbidcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxOC5zZW50KTtcbiAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZU9uZVRhcENsaWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVPbmVUYXBDbGllbnQoKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkge1xuICAgICAgICB2YXIgZ29vZ2xlQ2xpZW50SWQsIGVyciwgY2xpZW50O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTkucHJldiA9IDA7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoR29vZ2xlU3RhcnQoKTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgZ29vZ2xlQ2xpZW50SWQgPSBfY29udGV4dDE5LnNlbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDEwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgX2NvbnRleHQxOS5wcmV2ID0gNjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxOS50MCA9IF9jb250ZXh0MTlbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgICAgZXJyID0gX2NvbnRleHQxOS50MDtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWFzb246IGVyci5lcnJvcl90eXBlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgaWYgKCEoZ29vZ2xlQ2xpZW50SWQgPT09ICcnKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVhc29uOiAnb2F1dGhfY29uZmlnX25vdF9mb3VuZCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBfY29udGV4dDE5LnQxID0gR29vZ2xlT25lVGFwQ2xpZW50O1xuICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgcmV0dXJuIGxvYWRHb29nbGVPbmVUYXBDbGllbnQoKTtcbiAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTkudDIgPSBfY29udGV4dDE5LnNlbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTkudDMgPSBnb29nbGVDbGllbnRJZDtcbiAgICAgICAgICAgICAgY2xpZW50ID0gbmV3IF9jb250ZXh0MTkudDEoX2NvbnRleHQxOS50MiwgX2NvbnRleHQxOS50Myk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjbGllbnQ6IGNsaWVudFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOSwgdGhpcywgW1swLCA2XV0pO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQjJCT25lVGFwUHJvdmlkZXI7XG59KCk7XG52YXIgQVBJTmV0d29ya0NsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX05ldHdvcmtDbGllbnQpIHtcbiAgX2luaGVyaXRzKEFQSU5ldHdvcmtDbGllbnQsIF9OZXR3b3JrQ2xpZW50KTtcbiAgZnVuY3Rpb24gQVBJTmV0d29ya0NsaWVudChfcHVibGljVG9rZW4sIF9zdWJzY3JpcHRpb25EYXRhTGF5ZXIsIF9saXZlQVBJVVJMLCBfdGVzdEFQSVVSTCwgX2FkZGl0aW9uYWxUZWxlbWV0cnlEYXRhRm4pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQVBJTmV0d29ya0NsaWVudCk7XG4gICAgdmFyIGFwaUJhY2tlbmRVUkwgPSBfbGl2ZUFQSVVSTDtcbiAgICBpZiAoaXNUZXN0UHVibGljVG9rZW4oX3B1YmxpY1Rva2VuKSkge1xuICAgICAgYXBpQmFja2VuZFVSTCA9IF90ZXN0QVBJVVJMO1xuICAgIH1cbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBBUElOZXR3b3JrQ2xpZW50LCBbX3B1YmxpY1Rva2VuLCBfc3Vic2NyaXB0aW9uRGF0YUxheWVyLCBhcGlCYWNrZW5kVVJMLCBfYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbl0pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoQVBJTmV0d29ya0NsaWVudCk7XG59KE5ldHdvcmtDbGllbnQpO1xudmFyIFN0eXRjaEIyQkhlYWRsZXNzQ2xpZW50ID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBTdHl0Y2hCMkJIZWFkbGVzc0NsaWVudChfUFVCTElDX1RPS0VOLCBvcHRpb25zKSB7XG4gIHZhciBfdGhpczExID0gdGhpcztcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0eXRjaEIyQkhlYWRsZXNzQ2xpZW50KTtcbiAgY2hlY2tCMkJOb3RTU1IoJ1N0eXRjaEIyQkhlYWRsZXNzQ2xpZW50Jyk7XG4gIGNoZWNrUHVibGljVG9rZW4oX1BVQkxJQ19UT0tFTik7XG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnM7XG4gIHZhciBjb25maWcgPSBidWlsZEZpbmFsQ29uZmlnKF9vcHRpb25zKTtcbiAgdGhpcy5fZGF0YUxheWVyID0gZ2V0QjJCRGF0YUxheWVyKF9QVUJMSUNfVE9LRU4sIF9vcHRpb25zKTtcbiAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSA9IG5ldyBCMkJTdWJzY3JpcHRpb25TZXJ2aWNlKF9QVUJMSUNfVE9LRU4sIHRoaXMuX2RhdGFMYXllcik7XG4gIHRoaXMuX3N0YXRlQ2hhbmdlQ2xpZW50ID0gbmV3IFN0YXRlQ2hhbmdlQ2xpZW50KHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UsIHt9KTtcbiAgdGhpcy5vblN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpczExJF9zdGF0ZUNoYW5nZUM7XG4gICAgcmV0dXJuIChfdGhpczExJF9zdGF0ZUNoYW5nZUMgPSBfdGhpczExLl9zdGF0ZUNoYW5nZUNsaWVudCkub25TdGF0ZUNoYW5nZS5hcHBseShfdGhpczExJF9zdGF0ZUNoYW5nZUMsIGFyZ3VtZW50cyk7XG4gIH07XG4gIHZhciBhZGRpdGlvbmFsVGVsZW1ldHJ5RGF0YUZuID0gZnVuY3Rpb24gYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbigpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eXRjaF9tZW1iZXJfaWQ6IChfYiA9IChfYSA9IF90aGlzMTEuX2RhdGFMYXllci5zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lbWJlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1lbWJlcl9pZCxcbiAgICAgIHN0eXRjaF9tZW1iZXJfc2Vzc2lvbl9pZDogKF9kID0gKF9jID0gX3RoaXMxMS5fZGF0YUxheWVyLnN0YXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2Vzc2lvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm1lbWJlcl9zZXNzaW9uX2lkXG4gICAgfTtcbiAgfTtcbiAgdmFyIHBhc3N3b3Jkc1BLQ0VNYW5hZ2VyID0gbmV3IFBLQ0VNYW5hZ2VyKHRoaXMuX2RhdGFMYXllciwgJ3Bhc3N3b3JkcycpO1xuICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gbmV3IE5ldHdvcmtDbGllbnQoX1BVQkxJQ19UT0tFTiwgdGhpcy5fZGF0YUxheWVyLCBjb25maWcuZW5kcG9pbnRzLnNka0JhY2tlbmRVUkwsIGFkZGl0aW9uYWxUZWxlbWV0cnlEYXRhRm4pO1xuICB0aGlzLl9hcGlOZXR3b3JrQ2xpZW50ID0gbmV3IEFQSU5ldHdvcmtDbGllbnQoX1BVQkxJQ19UT0tFTiwgdGhpcy5fZGF0YUxheWVyLCBjb25maWcuZW5kcG9pbnRzLmxpdmVBUElVUkwsIGNvbmZpZy5lbmRwb2ludHMudGVzdEFQSVVSTCwgYWRkaXRpb25hbFRlbGVtZXRyeURhdGFGbik7XG4gIHZhciBib290c3RyYXAgPSBuZXcgQm9vdHN0cmFwRGF0YU1hbmFnZXIoX1BVQkxJQ19UT0tFTiwgdGhpcy5fbmV0d29ya0NsaWVudCwgdGhpcy5fZGF0YUxheWVyKTtcbiAgdmFyIGNhcHRjaGEgPSBuZXcgQ2FwdGNoYVByb3ZpZGVyKGJvb3RzdHJhcC5nZXRBc3luYygpKTtcbiAgdmFyIGRmcFByb3RlY3RlZEF1dGggPSBuZXcgREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKF9QVUJMSUNfVE9LRU4sIGNvbmZpZy5lbmRwb2ludHMuZGZwQmFja2VuZFVSTCwgYm9vdHN0cmFwLmdldEFzeW5jKCksIGNhcHRjaGEuZXhlY3V0ZVJlY2FwdGNoYSk7XG4gIHZhciBjbGllbnRzaWRlU2VydmljZXMgPSBuZXcgQ2xpZW50c2lkZVNlcnZpY2VzUHJvdmlkZXIoY29uZmlnLmVuZHBvaW50cy5jbGllbnRzaWRlU2VydmljZXNJZnJhbWVVUkwpO1xuICB2YXIgcGtjZU1hbmFnZXJGb3JPQXV0aCA9IG5ldyBQS0NFTWFuYWdlcih0aGlzLl9kYXRhTGF5ZXIsICdvYXV0aCcpO1xuICB2YXIgb25lVGFwID0gbmV3IEIyQk9uZVRhcFByb3ZpZGVyKHRoaXMuX2FwaU5ldHdvcmtDbGllbnQsIHBrY2VNYW5hZ2VyRm9yT0F1dGgsIGJvb3RzdHJhcC5nZXRBc3luYygpKTtcbiAgdGhpcy5vcmdhbml6YXRpb24gPSBuZXcgSGVhZGxlc3NCMkJPcmdhbml6YXRpb25DbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCwgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSk7XG4gIHRoaXMubWVtYmVyID0gbmV3IEhlYWRsZXNzQjJCU2VsZkNsaWVudCh0aGlzLl9uZXR3b3JrQ2xpZW50LCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlKTtcbiAgdGhpcy5zZWxmID0gbmV3IEhlYWRsZXNzQjJCU2VsZkNsaWVudCh0aGlzLl9uZXR3b3JrQ2xpZW50LCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlKTtcbiAgdGhpcy5zZXNzaW9uID0gbmV3IEhlYWRsZXNzQjJCU2Vzc2lvbkNsaWVudCh0aGlzLl9uZXR3b3JrQ2xpZW50LCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlKTtcbiAgdGhpcy5tYWdpY0xpbmtzID0gbmV3IEhlYWRsZXNzQjJCTWFnaWNMaW5rc0NsaWVudCh0aGlzLl9uZXR3b3JrQ2xpZW50LCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLCBuZXcgUEtDRU1hbmFnZXIodGhpcy5fZGF0YUxheWVyLCAnbWFnaWNfbGlua3MnKSwgcGFzc3dvcmRzUEtDRU1hbmFnZXIsIGJvb3RzdHJhcC5nZXRBc3luYygpLCBkZnBQcm90ZWN0ZWRBdXRoKTtcbiAgdGhpcy5vYXV0aCA9IG5ldyBIZWFkbGVzc0IyQk9BdXRoQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UsIHBrY2VNYW5hZ2VyRm9yT0F1dGgsIGJvb3RzdHJhcC5nZXRBc3luYygpLCB7XG4gICAgcHVibGljVG9rZW46IF9QVUJMSUNfVE9LRU4sXG4gICAgdGVzdEFQSVVSTDogY29uZmlnLmVuZHBvaW50cy50ZXN0QVBJVVJMLFxuICAgIGxpdmVBUElVUkw6IGNvbmZpZy5lbmRwb2ludHMubGl2ZUFQSVVSTFxuICB9LCBkZnBQcm90ZWN0ZWRBdXRoLCBvbmVUYXApO1xuICB0aGlzLnNzbyA9IG5ldyBIZWFkbGVzc0IyQlNTT0NsaWVudCh0aGlzLl9uZXR3b3JrQ2xpZW50LCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLCBuZXcgUEtDRU1hbmFnZXIodGhpcy5fZGF0YUxheWVyLCAnc3NvJyksIGJvb3RzdHJhcC5nZXRBc3luYygpLCB7XG4gICAgcHVibGljVG9rZW46IF9QVUJMSUNfVE9LRU4sXG4gICAgdGVzdEFQSVVSTDogY29uZmlnLmVuZHBvaW50cy50ZXN0QVBJVVJMLFxuICAgIGxpdmVBUElVUkw6IGNvbmZpZy5lbmRwb2ludHMubGl2ZUFQSVVSTFxuICB9LCBkZnBQcm90ZWN0ZWRBdXRoKTtcbiAgdGhpcy5kaXNjb3ZlcnkgPSBuZXcgSGVhZGxlc3NCMkJEaXNjb3ZlcnlDbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCwgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSk7XG4gIHRoaXMucGFzc3dvcmRzID0gbmV3IEhlYWRsZXNzQjJCUGFzc3dvcmRzQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UsIHBhc3N3b3Jkc1BLQ0VNYW5hZ2VyLCBib290c3RyYXAuZ2V0QXN5bmMoKSwgZGZwUHJvdGVjdGVkQXV0aCk7XG4gIHRoaXMub3RwcyA9IG5ldyBIZWFkbGVzc0IyQk9UUHNDbGllbnQodGhpcy5fbmV0d29ya0NsaWVudCwgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSwgZGZwUHJvdGVjdGVkQXV0aCk7XG4gIHRoaXMudG90cCA9IG5ldyBIZWFkbGVzc0IyQlRPVFBzQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UsIGRmcFByb3RlY3RlZEF1dGgpO1xuICB0aGlzLnJlY292ZXJ5Q29kZXMgPSBuZXcgSGVhZGxlc3NCMkJSZWNvdmVyeUNvZGVzQ2xpZW50KHRoaXMuX25ldHdvcmtDbGllbnQsIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UsIGRmcFByb3RlY3RlZEF1dGgpO1xuICB0aGlzLnJiYWMgPSBuZXcgSGVhZGxlc3NCMkJSQkFDQ2xpZW50KGJvb3RzdHJhcC5nZXRTeW5jKCksIGJvb3RzdHJhcC5nZXRBc3luYygpLCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlKTtcbiAgdGhpcy5zY2ltID0gbmV3IEhlYWRsZXNzQjJCU0NJTUNsaWVudCh0aGlzLl9hcGlOZXR3b3JrQ2xpZW50LCB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlKTtcbiAgdGhpcy5fc2Vzc2lvbk1hbmFnZXIgPSBuZXcgU2Vzc2lvbk1hbmFnZXIodGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSwgdGhpcy5zZXNzaW9uKTtcbiAgdmFyIHNlYXJjaE1hbmFnZXIgPSBuZXcgU2VhcmNoRGF0YU1hbmFnZXIodGhpcy5fbmV0d29ya0NsaWVudCwgZGZwUHJvdGVjdGVkQXV0aCk7XG4gIGlmICh0aGlzLl9kYXRhTGF5ZXIucmVhZFNlc3Npb25Db29raWUoKS5zZXNzaW9uX3Rva2VuKSB7XG4gICAgdGhpcy5fc2Vzc2lvbk1hbmFnZXIucGVyZm9ybUJhY2tncm91bmRSZWZyZXNoKCk7XG4gIH1cbiAgdGhpcy5fbmV0d29ya0NsaWVudC5sb2dFdmVudCh7XG4gICAgbmFtZTogJ2IyYl9zZGtfaW5zdGFuY2VfaW5zdGFudGlhdGVkJyxcbiAgICBkZXRhaWxzOiB7XG4gICAgICBldmVudF9jYWxsYmFja19yZWdpc3RlcmVkOiBmYWxzZSxcbiAgICAgIGVycm9yX2NhbGxiYWNrX3JlZ2lzdGVyZWQ6IGZhbHNlLFxuICAgICAgc3VjY2Vzc19jYWxsYmFja19yZWdpc3RlcmVkOiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIHZhciBpbnRlcm5hbHMgPSB7XG4gICAgYm9vdHN0cmFwOiBib290c3RyYXAsXG4gICAgY2xpZW50c2lkZVNlcnZpY2VzOiBjbGllbnRzaWRlU2VydmljZXMsXG4gICAgcHVibGljVG9rZW46IF9QVUJMSUNfVE9LRU4sXG4gICAgc2VhcmNoTWFuYWdlcjogc2VhcmNoTWFuYWdlcixcbiAgICBkYXRhTGF5ZXI6IHRoaXMuX2RhdGFMYXllcixcbiAgICBuZXR3b3JrQ2xpZW50OiB0aGlzLl9uZXR3b3JrQ2xpZW50LFxuICAgIGFwaU5ldHdvcmtDbGllbnQ6IHRoaXMuX2FwaU5ldHdvcmtDbGllbnQsXG4gICAgb25lVGFwOiBvbmVUYXBcbiAgfTtcbiAgd3JpdGVCMkJJbnRlcm5hbHModGhpcywgaW50ZXJuYWxzKTtcbn0pO1xuZXhwb3J0IHsgRU1BSUxfUkVHRVggYXMgRSwgU3R5dGNoQjJCSGVhZGxlc3NDbGllbnQgYXMgUywgZGVib3VuY2UgYXMgZCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/vanilla-js/dist/index.headless-CNM-XbTm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stytch/vanilla-js/dist/internal-D5OqLsPs.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@stytch/vanilla-js/dist/internal-D5OqLsPs.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ StytchError),\n/* harmony export */   A: () => (/* binding */ AuthFlowType),\n/* harmony export */   B: () => (/* binding */ B2BMFAProducts),\n/* harmony export */   C: () => (/* binding */ COUNTRIES_LIST),\n/* harmony export */   D: () => (/* binding */ DEFAULT_SESSION_DURATION_MINUTES),\n/* harmony export */   E: () => (/* binding */ NoCredentialsPresentError),\n/* harmony export */   F: () => (/* binding */ FailedCodeChallengeError),\n/* harmony export */   G: () => (/* binding */ NoCurrentSessionError),\n/* harmony export */   H: () => (/* binding */ PasskeysInvalidEncoding),\n/* harmony export */   I: () => (/* binding */ InternalError),\n/* harmony export */   J: () => (/* binding */ JSONDataNotConvertibleToStringError),\n/* harmony export */   K: () => (/* binding */ KeyInvalidatedError),\n/* harmony export */   L: () => (/* binding */ PasskeysMisconfigured),\n/* harmony export */   M: () => (/* binding */ MissingAttestationObjectError),\n/* harmony export */   N: () => (/* binding */ NoBiometricsEnrolledError),\n/* harmony export */   O: () => (/* binding */ OAuthProviders),\n/* harmony export */   P: () => (/* binding */ Products),\n/* harmony export */   Q: () => (/* binding */ PasskeysUnsupportedError),\n/* harmony export */   R: () => (/* binding */ RNUIProducts),\n/* harmony export */   S: () => (/* binding */ StytchEventType),\n/* harmony export */   T: () => (/* binding */ RandomNumberGenerationFailed),\n/* harmony export */   U: () => (/* binding */ SDKAPIUnreachableError),\n/* harmony export */   V: () => (/* binding */ SDKNotConfiguredError),\n/* harmony export */   W: () => (/* binding */ Wallets),\n/* harmony export */   X: () => (/* binding */ SignInWithAppleMisconfigured),\n/* harmony export */   Y: () => (/* binding */ StytchAPISchemaError),\n/* harmony export */   Z: () => (/* binding */ StytchAPIUnreachableError),\n/* harmony export */   _: () => (/* binding */ __awaiter),\n/* harmony export */   a: () => (/* binding */ B2BProducts),\n/* harmony export */   a0: () => (/* binding */ StytchSDKAPIError),\n/* harmony export */   a1: () => (/* binding */ StytchSDKSchemaError),\n/* harmony export */   a2: () => (/* binding */ StytchSDKUsageError),\n/* harmony export */   a3: () => (/* binding */ UNRECOVERABLE_ERROR_TYPES),\n/* harmony export */   a4: () => (/* binding */ UserCancellationError),\n/* harmony export */   a5: () => (/* binding */ UserLockedOutError),\n/* harmony export */   a6: () => (/* binding */ errorToStytchError),\n/* harmony export */   a7: () => (/* binding */ __rest),\n/* harmony export */   a8: () => (/* binding */ createDeepEqual),\n/* harmony export */   a9: () => (/* binding */ getLocalStorageKey),\n/* harmony export */   aA: () => (/* binding */ HeadlessB2BMagicLinksClient),\n/* harmony export */   aB: () => (/* binding */ HeadlessB2BSSOClient),\n/* harmony export */   aC: () => (/* binding */ HeadlessB2BDiscoveryClient),\n/* harmony export */   aD: () => (/* binding */ HeadlessB2BPasswordsClient),\n/* harmony export */   aE: () => (/* binding */ HeadlessB2BOTPsClient),\n/* harmony export */   aF: () => (/* binding */ HeadlessB2BTOTPsClient),\n/* harmony export */   aG: () => (/* binding */ HeadlessB2BRecoveryCodesClient),\n/* harmony export */   aH: () => (/* binding */ HeadlessB2BRBACClient),\n/* harmony export */   aI: () => (/* binding */ HeadlessB2BSCIMClient),\n/* harmony export */   aJ: () => (/* binding */ SessionManager),\n/* harmony export */   aK: () => (/* binding */ SearchDataManager),\n/* harmony export */   aL: () => (/* binding */ writeB2BInternals),\n/* harmony export */   aa: () => (/* binding */ HeadlessB2BOAuthClient$1),\n/* harmony export */   ab: () => (/* binding */ loadESModule),\n/* harmony export */   ac: () => (/* binding */ IframeHostClient),\n/* harmony export */   ad: () => (/* binding */ EventLogger),\n/* harmony export */   ae: () => (/* binding */ DEFAULT_MAX_BATCH_SIZE),\n/* harmony export */   af: () => (/* binding */ DEFAULT_INTERVAL_DURATION_MS),\n/* harmony export */   ag: () => (/* binding */ createEventId),\n/* harmony export */   ah: () => (/* binding */ createAppSessionId),\n/* harmony export */   ai: () => (/* binding */ createPersistentId),\n/* harmony export */   aj: () => (/* binding */ baseFetchSDK),\n/* harmony export */   ak: () => (/* binding */ retriableFetchSDK),\n/* harmony export */   al: () => (/* binding */ STYTCH_WEB_BACKEND_URL),\n/* harmony export */   am: () => (/* binding */ TEST_API_URL),\n/* harmony export */   an: () => (/* binding */ LIVE_API_URL),\n/* harmony export */   ao: () => (/* binding */ STYTCH_DFP_BACKEND_URL),\n/* harmony export */   ap: () => (/* binding */ CLIENTSIDE_SERVICES_IFRAME_URL),\n/* harmony export */   aq: () => (/* binding */ validate),\n/* harmony export */   ar: () => (/* binding */ GOOGLE_ONE_TAP_HOST),\n/* harmony export */   as: () => (/* binding */ GOOGLE_ONE_TAP_SCRIPT_URL),\n/* harmony export */   at: () => (/* binding */ checkB2BNotSSR),\n/* harmony export */   au: () => (/* binding */ checkPublicToken),\n/* harmony export */   av: () => (/* binding */ StateChangeClient),\n/* harmony export */   aw: () => (/* binding */ DFPProtectedAuthProvider),\n/* harmony export */   ax: () => (/* binding */ HeadlessB2BOrganizationClient),\n/* harmony export */   ay: () => (/* binding */ HeadlessB2BSelfClient),\n/* harmony export */   az: () => (/* binding */ HeadlessB2BSessionClient),\n/* harmony export */   b: () => (/* binding */ OTPMethods),\n/* harmony export */   c: () => (/* binding */ StytchAPIError),\n/* harmony export */   d: () => (/* binding */ B2BOAuthProviders),\n/* harmony export */   e: () => (/* binding */ OneTapPositions),\n/* harmony export */   f: () => (/* binding */ StytchSDKError),\n/* harmony export */   g: () => (/* binding */ checkNotSSR),\n/* harmony export */   h: () => (/* binding */ BiometricsFailedError),\n/* harmony export */   i: () => (/* binding */ isTestPublicToken),\n/* harmony export */   j: () => (/* binding */ BiometricsUnavailableError),\n/* harmony export */   k: () => (/* binding */ ChallengeSigningFailedError),\n/* harmony export */   l: () => (/* binding */ logger),\n/* harmony export */   m: () => (/* binding */ DeviceCredentialsNotAllowedError),\n/* harmony export */   n: () => (/* binding */ FailedToDecryptDataError),\n/* harmony export */   o: () => (/* binding */ InvalidAuthorizationCredentialError),\n/* harmony export */   p: () => (/* binding */ InvalidCredentialTypeError),\n/* harmony export */   q: () => (/* binding */ InvalidRedirectSchemeError),\n/* harmony export */   r: () => (/* binding */ readB2BInternals),\n/* harmony export */   s: () => (/* binding */ InvalidStartUrlError),\n/* harmony export */   t: () => (/* binding */ KeystoreUnavailableError),\n/* harmony export */   u: () => (/* binding */ MissingAuthorizationCredentialIDTokenError),\n/* harmony export */   v: () => (/* binding */ MissingGoogleClientIDError),\n/* harmony export */   w: () => (/* binding */ MissingPKCEError),\n/* harmony export */   x: () => (/* binding */ MissingPublicKeyError),\n/* harmony export */   y: () => (/* binding */ MissingUrlError),\n/* harmony export */   z: () => (/* binding */ NoBiometricsRegistrationError)\n/* harmony export */ });\nfunction _typeof2(o) { \"@babel/helpers - typeof\"; return _typeof2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof2(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey2(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey2(t) { var i = _toPrimitive2(t, \"string\"); return \"symbol\" == _typeof2(i) ? i : String(i); }\nfunction _toPrimitive2(t, r) { if (\"object\" != _typeof2(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof2(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof$1(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof$1 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof$1(o);\n}\nfunction _createClass$1(Constructor, protoProps, staticProps) {\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _classCallCheck$1(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _callSuper$1(t, o, e) {\n  return o = _getPrototypeOf$1(o), _possibleConstructorReturn$1(t, _isNativeReflectConstruct$1() ? Reflect.construct(o, e || [], _getPrototypeOf$1(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn$1(self, call) {\n  if (call && (_typeof$1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized$1(self);\n}\nfunction _assertThisInitialized$1(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits$1(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf$1(subClass, superClass);\n}\nfunction _wrapNativeSuper$1(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper$1 = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction$1(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct$1(Class, arguments, _getPrototypeOf$1(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf$1(Wrapper, Class);\n  };\n  return _wrapNativeSuper$1(Class);\n}\nfunction _construct$1(t, e, r) {\n  if (_isNativeReflectConstruct$1()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && _setPrototypeOf$1(p, r.prototype), p;\n}\nfunction _isNativeReflectConstruct$1() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct$1 = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nfunction _isNativeFunction$1(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}\nfunction _setPrototypeOf$1(o, p) {\n  _setPrototypeOf$1 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf$1(o, p);\n}\nfunction _getPrototypeOf$1(o) {\n  _getPrototypeOf$1 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf$1(o);\n}\nvar Products;\n(function (Products) {\n  Products[\"emailMagicLinks\"] = \"emailMagicLinks\";\n  Products[\"oauth\"] = \"oauth\";\n  Products[\"otp\"] = \"otp\";\n  Products[\"crypto\"] = \"crypto\";\n  Products[\"passwords\"] = \"passwords\";\n  Products[\"passkeys\"] = \"passkeys\";\n})(Products || (Products = {}));\nvar OAuthProviders;\n(function (OAuthProviders) {\n  OAuthProviders[\"Google\"] = \"google\";\n  OAuthProviders[\"Microsoft\"] = \"microsoft\";\n  OAuthProviders[\"Apple\"] = \"apple\";\n  OAuthProviders[\"Github\"] = \"github\";\n  OAuthProviders[\"GitLab\"] = \"gitlab\";\n  OAuthProviders[\"Facebook\"] = \"facebook\";\n  OAuthProviders[\"Discord\"] = \"discord\";\n  OAuthProviders[\"Salesforce\"] = \"salesforce\";\n  OAuthProviders[\"Slack\"] = \"slack\";\n  OAuthProviders[\"Amazon\"] = \"amazon\";\n  OAuthProviders[\"Bitbucket\"] = \"bitbucket\";\n  OAuthProviders[\"LinkedIn\"] = \"linkedin\";\n  OAuthProviders[\"Coinbase\"] = \"coinbase\";\n  OAuthProviders[\"Twitch\"] = \"twitch\";\n  OAuthProviders[\"Twitter\"] = \"twitter\";\n  OAuthProviders[\"TikTok\"] = \"tiktok\";\n  OAuthProviders[\"Snapchat\"] = \"snapchat\";\n  OAuthProviders[\"Figma\"] = \"figma\";\n  OAuthProviders[\"Yahoo\"] = \"yahoo\";\n})(OAuthProviders || (OAuthProviders = {}));\nvar Wallets;\n(function (Wallets) {\n  Wallets[\"Vessel\"] = \"Vessel\";\n  Wallets[\"Phantom\"] = \"Phantom\";\n  Wallets[\"Metamask\"] = \"Metamask\";\n  Wallets[\"Coinbase\"] = \"Coinbase\";\n  Wallets[\"Binance\"] = \"Binance\";\n  Wallets[\"GenericEthereumWallet\"] = \"Other Ethereum Wallet\";\n  Wallets[\"GenericSolanaWallet\"] = \"Other Solana Wallet\";\n})(Wallets || (Wallets = {}));\nvar OneTapPositions;\n(function (OneTapPositions) {\n  OneTapPositions[\"embedded\"] = \"embedded\";\n  OneTapPositions[\"floating\"] = \"floating\";\n  OneTapPositions[\"embeddedOnly\"] = \"embeddedOnly\";\n  OneTapPositions[\"floatingOrEmbedded\"] = \"floatingOrEmbedded\";\n  OneTapPositions[\"forceLegacyEmbedded\"] = \"forceLegacyEmbedded\";\n})(OneTapPositions || (OneTapPositions = {}));\nvar OTPMethods;\n(function (OTPMethods) {\n  OTPMethods[\"SMS\"] = \"sms\";\n  OTPMethods[\"WhatsApp\"] = \"whatsapp\";\n  OTPMethods[\"Email\"] = \"email\";\n})(OTPMethods || (OTPMethods = {}));\nvar StytchEventType;\n(function (StytchEventType) {\n  StytchEventType[\"MagicLinkLoginOrCreateEvent\"] = \"MAGIC_LINK_LOGIN_OR_CREATE\";\n  StytchEventType[\"OTPsLoginOrCreateEvent\"] = \"OTP_LOGIN_OR_CREATE\";\n  StytchEventType[\"OTPsAuthenticate\"] = \"OTP_AUTHENTICATE\";\n  StytchEventType[\"CryptoWalletAuthenticateStart\"] = \"CRYPTO_WALLET_AUTHENTICATE_START\";\n  StytchEventType[\"CryptoWalletAuthenticate\"] = \"CRYPTO_WALLET_AUTHENTICATE\";\n  StytchEventType[\"PasswordCreate\"] = \"PASSWORD_CREATE\";\n  StytchEventType[\"PasswordAuthenticate\"] = \"PASSWORD_AUTHENTICATE\";\n  StytchEventType[\"PasswordResetByEmailStart\"] = \"PASSWORD_RESET_BY_EMAIL_START\";\n  StytchEventType[\"PasswordResetByEmail\"] = \"PASSWORD_RESET_BY_EMAIL\";\n  StytchEventType[\"PasskeyRegister\"] = \"PASSKEY_REGISTER\";\n  StytchEventType[\"PasskeyAuthenticate\"] = \"PASSKEY_AUTHENTICATE\";\n  StytchEventType[\"PasskeySkip\"] = \"PASSKEY_SKIP\";\n  StytchEventType[\"PasskeyDone\"] = \"PASSKEY_DONE\";\n  StytchEventType[\"B2BMagicLinkEmailLoginOrSignup\"] = \"B2B_MAGIC_LINK_EMAIL_LOGIN_OR_SIGNUP\";\n  StytchEventType[\"B2BMagicLinkAuthenticate\"] = \"B2B_MAGIC_LINK_AUTHENTICATE\";\n  StytchEventType[\"B2BMagicLinkEmailDiscoverySend\"] = \"B2B_MAGIC_LINK_EMAIL_DISCOVERY_SEND\";\n  StytchEventType[\"B2BMagicLinkDiscoveryAuthenticate\"] = \"B2B_MAGIC_LINK_DISCOVERY_AUTHENTICATE\";\n  StytchEventType[\"B2BSSOStart\"] = \"B2B_SSO_START\";\n  StytchEventType[\"B2BSSOAuthenticate\"] = \"B2B_SSO_AUTHENTICATE\";\n  StytchEventType[\"B2BOAuthAuthenticate\"] = \"B2B_OAUTH_AUTHENTICATE\";\n  StytchEventType[\"B2BOAuthDiscoveryAuthenticate\"] = \"B2B_OAUTH_DISCOVERY_AUTHENTICATE\";\n  StytchEventType[\"B2BDiscoveryOrganizationsCreate\"] = \"B2B_DISCOVERY_ORGANIZATIONS_CREATE\";\n  StytchEventType[\"B2BDiscoveryIntermediateSessionExchange\"] = \"B2B_DISCOVERY_INTERMEDIATE_SESSION_EXCHANGE\";\n  StytchEventType[\"B2BPasswordAuthenticate\"] = \"B2B_PASSWORD_AUTHENTICATE\";\n  StytchEventType[\"B2BPasswordResetByEmailStart\"] = \"B2B_PASSWORD_RESET_BY_EMAIL_START\";\n  StytchEventType[\"B2BPasswordResetByEmail\"] = \"B2B_PASSWORD_RESET_BY_EMAIL\";\n  StytchEventType[\"B2BPasswordResetBySession\"] = \"B2B_PASSWORD_RESET_BY_SESSION\";\n  StytchEventType[\"B2BSMSOTPSend\"] = \"B2B_SMS_OTP_SEND\";\n  StytchEventType[\"B2BSMSOTPAuthenticate\"] = \"B2B_SMS_OTP_AUTHENTICATE\";\n  StytchEventType[\"B2BTOTPCreate\"] = \"B2B_TOTP_CREATE\";\n  StytchEventType[\"B2BTOTPAuthenticate\"] = \"B2B_TOTP_AUTHENTICATE\";\n  StytchEventType[\"B2BRecoveryCodesRecover\"] = \"B2B_RECOVERY_CODES_RECOVER\";\n})(StytchEventType || (StytchEventType = {}));\nvar RNUIProducts;\n(function (RNUIProducts) {\n  RNUIProducts[RNUIProducts[\"emailMagicLinks\"] = 0] = \"emailMagicLinks\";\n  RNUIProducts[RNUIProducts[\"oauth\"] = 1] = \"oauth\";\n  RNUIProducts[RNUIProducts[\"otp\"] = 2] = \"otp\";\n  RNUIProducts[RNUIProducts[\"passwords\"] = 3] = \"passwords\";\n})(RNUIProducts || (RNUIProducts = {}));\nvar SDKAPIUnreachableError = /*#__PURE__*/function (_Error) {\n  _inherits$1(SDKAPIUnreachableError, _Error);\n  function SDKAPIUnreachableError(message, details) {\n    var _this;\n    _classCallCheck$1(this, SDKAPIUnreachableError);\n    _this = _callSuper$1(this, SDKAPIUnreachableError, [message + '\\n' + details]);\n    _this.message = message + '\\n' + details;\n    _this.name = 'SDKAPIUnreachableError';\n    _this.details = details;\n    Object.setPrototypeOf(_assertThisInitialized$1(_this), SDKAPIUnreachableError.prototype);\n    return _this;\n  }\n  return _createClass$1(SDKAPIUnreachableError);\n}( /*#__PURE__*/_wrapNativeSuper$1(Error));\nvar StytchSDKUsageError = /*#__PURE__*/function (_Error2) {\n  _inherits$1(StytchSDKUsageError, _Error2);\n  function StytchSDKUsageError(methodName, message) {\n    var _this2;\n    _classCallCheck$1(this, StytchSDKUsageError);\n    _this2 = _callSuper$1(this, StytchSDKUsageError);\n    _this2.name = 'StytchSDKUsageError';\n    _this2.message = \"Invalid call to \".concat(methodName, \"\\n\") + message;\n    return _this2;\n  }\n  return _createClass$1(StytchSDKUsageError);\n}( /*#__PURE__*/_wrapNativeSuper$1(Error));\nvar StytchSDKSchemaError = /*#__PURE__*/function (_Error3) {\n  _inherits$1(StytchSDKSchemaError, _Error3);\n  function StytchSDKSchemaError(schemaError) {\n    var _this3;\n    _classCallCheck$1(this, StytchSDKSchemaError);\n    var _a;\n    _this3 = _callSuper$1(this, StytchSDKSchemaError);\n    _this3.name = 'StytchSDKSchemaError';\n    var messages = (_a = schemaError.body) === null || _a === void 0 ? void 0 : _a.map(function (err) {\n      return \"\".concat(err.dataPath, \": \").concat(err.message);\n    }).join('\\n');\n    _this3.message = \"[400] Request does not match expected schema\\n\".concat(messages);\n    return _this3;\n  }\n  return _createClass$1(StytchSDKSchemaError);\n}( /*#__PURE__*/_wrapNativeSuper$1(Error));\nvar StytchSDKAPIError = /*#__PURE__*/function (_Error4) {\n  _inherits$1(StytchSDKAPIError, _Error4);\n  function StytchSDKAPIError(details) {\n    var _this4;\n    _classCallCheck$1(this, StytchSDKAPIError);\n    _this4 = _callSuper$1(this, StytchSDKAPIError);\n    _this4.name = 'StytchSDKAPIError';\n    var status_code = details.status_code,\n      error_type = details.error_type,\n      error_message = details.error_message,\n      error_url = details.error_url,\n      request_id = details.request_id;\n    _this4.error_type = error_type;\n    _this4.error_message = error_message;\n    _this4.error_url = error_url;\n    _this4.request_id = request_id;\n    _this4.status_code = status_code;\n    _this4.message = \"[\".concat(status_code, \"] \").concat(error_type, \"\\n\") + \"\".concat(error_message, \"\\n\") + \"See \".concat(error_url, \" for more information.\\n\") + (request_id ? \"request_id: \".concat(request_id, \"\\n\") : '');\n    return _this4;\n  }\n  return _createClass$1(StytchSDKAPIError);\n}( /*#__PURE__*/_wrapNativeSuper$1(Error));\nvar UNRECOVERABLE_ERROR_TYPES = ['unauthorized_credentials', 'user_unauthenticated', 'invalid_secret_authentication', 'session_not_found'];\nvar StytchError = /*#__PURE__*/function (_Error5) {\n  _inherits$1(StytchError, _Error5);\n  function StytchError(name, message) {\n    var _this5;\n    _classCallCheck$1(this, StytchError);\n    _this5 = _callSuper$1(this, StytchError, [message]);\n    _this5.name = name;\n    return _this5;\n  }\n  return _createClass$1(StytchError);\n}( /*#__PURE__*/_wrapNativeSuper$1(Error));\nvar StytchAPIUnreachableError = /*#__PURE__*/function (_StytchError) {\n  _inherits$1(StytchAPIUnreachableError, _StytchError);\n  function StytchAPIUnreachableError(details) {\n    var _this6;\n    _classCallCheck$1(this, StytchAPIUnreachableError);\n    _this6 = _callSuper$1(this, StytchAPIUnreachableError, ['StytchAPIUnreachableError', details]);\n    Object.setPrototypeOf(_assertThisInitialized$1(_this6), StytchAPIUnreachableError.prototype);\n    return _this6;\n  }\n  return _createClass$1(StytchAPIUnreachableError);\n}(StytchError);\nvar StytchAPISchemaError = /*#__PURE__*/function (_StytchError2) {\n  _inherits$1(StytchAPISchemaError, _StytchError2);\n  function StytchAPISchemaError(schemaError) {\n    _classCallCheck$1(this, StytchAPISchemaError);\n    var _a;\n    var messages = (_a = schemaError.body) === null || _a === void 0 ? void 0 : _a.map(function (err) {\n      return \"\".concat(err.dataPath, \": \").concat(err.message);\n    }).join('\\n');\n    return _callSuper$1(this, StytchAPISchemaError, ['StytchAPISchemaError', \"Request does not match expected schema\\n\".concat(messages)]);\n  }\n  return _createClass$1(StytchAPISchemaError);\n}(StytchError);\nvar StytchAPIError = /*#__PURE__*/function (_StytchError3) {\n  _inherits$1(StytchAPIError, _StytchError3);\n  function StytchAPIError(details) {\n    var _this7;\n    _classCallCheck$1(this, StytchAPIError);\n    var status_code = details.status_code,\n      error_type = details.error_type,\n      error_message = details.error_message,\n      error_url = details.error_url,\n      request_id = details.request_id;\n    _this7 = _callSuper$1(this, StytchAPIError, ['StytchAPIError', \"[\".concat(status_code, \"] \").concat(error_type, \"\\n\") + \"\".concat(error_message, \"\\n\") + \"See \".concat(error_url, \" for more information.\\n\") + (request_id ? \"request_id: \".concat(request_id, \"\\n\") : '')]);\n    _this7.error_type = error_type;\n    _this7.error_message = error_message;\n    _this7.error_url = error_url;\n    _this7.request_id = request_id;\n    _this7.status_code = status_code;\n    return _this7;\n  }\n  return _createClass$1(StytchAPIError);\n}(StytchError);\nvar StytchSDKError = /*#__PURE__*/function (_StytchError4) {\n  _inherits$1(StytchSDKError, _StytchError4);\n  function StytchSDKError(name, description, options) {\n    var _this8;\n    _classCallCheck$1(this, StytchSDKError);\n    _this8 = _callSuper$1(this, StytchSDKError, [name, description]);\n    _this8.options = options;\n    return _this8;\n  }\n  return _createClass$1(StytchSDKError);\n}(StytchError);\nvar NoCurrentSessionError = /*#__PURE__*/function (_StytchSDKError) {\n  _inherits$1(NoCurrentSessionError, _StytchSDKError);\n  function NoCurrentSessionError() {\n    _classCallCheck$1(this, NoCurrentSessionError);\n    return _callSuper$1(this, NoCurrentSessionError, ['NoCurrentSessionError', 'There is no session currently available. Make sure the user is authenticated with a valid session.']);\n  }\n  return _createClass$1(NoCurrentSessionError);\n}(StytchSDKError);\nvar InternalError = /*#__PURE__*/function (_StytchSDKError2) {\n  _inherits$1(InternalError, _StytchSDKError2);\n  function InternalError(message) {\n    _classCallCheck$1(this, InternalError);\n    return _callSuper$1(this, InternalError, ['InternalError', message ? message : 'An internal error has occurred. Please contact Stytch if this occurs.']);\n  }\n  return _createClass$1(InternalError);\n}(StytchSDKError);\nvar NoBiometricsRegistrationError = /*#__PURE__*/function (_StytchSDKError3) {\n  _inherits$1(NoBiometricsRegistrationError, _StytchSDKError3);\n  function NoBiometricsRegistrationError() {\n    _classCallCheck$1(this, NoBiometricsRegistrationError);\n    return _callSuper$1(this, NoBiometricsRegistrationError, ['NoBiometricsRegistrationError', 'There is no biometric registration available. Authenticate with another method and add a new biometric registration first.']);\n  }\n  return _createClass$1(NoBiometricsRegistrationError);\n}(StytchSDKError);\nvar BiometricsUnavailableError = /*#__PURE__*/function (_StytchSDKError4) {\n  _inherits$1(BiometricsUnavailableError, _StytchSDKError4);\n  function BiometricsUnavailableError() {\n    _classCallCheck$1(this, BiometricsUnavailableError);\n    return _callSuper$1(this, BiometricsUnavailableError, ['BiometricsUnavailableError', 'Biometrics is not available on the device.']);\n  }\n  return _createClass$1(BiometricsUnavailableError);\n}(StytchSDKError);\nvar KeyInvalidatedError = /*#__PURE__*/function (_StytchSDKError5) {\n  _inherits$1(KeyInvalidatedError, _StytchSDKError5);\n  function KeyInvalidatedError() {\n    _classCallCheck$1(this, KeyInvalidatedError);\n    return _callSuper$1(this, KeyInvalidatedError, ['KeyInvalidatedError', 'The biometrics enrollment on the device has changed.']);\n  }\n  return _createClass$1(KeyInvalidatedError);\n}(StytchSDKError);\nvar KeystoreUnavailableError = /*#__PURE__*/function (_StytchSDKError6) {\n  _inherits$1(KeystoreUnavailableError, _StytchSDKError6);\n  function KeystoreUnavailableError() {\n    _classCallCheck$1(this, KeystoreUnavailableError);\n    return _callSuper$1(this, KeystoreUnavailableError, ['KeystoreUnavailableError', 'The Android keystore is unavailable on the device. Consider setting allowFallbackToCleartext to true.']);\n  }\n  return _createClass$1(KeystoreUnavailableError);\n}(StytchSDKError);\nvar NoBiometricsEnrolledError = /*#__PURE__*/function (_StytchSDKError7) {\n  _inherits$1(NoBiometricsEnrolledError, _StytchSDKError7);\n  function NoBiometricsEnrolledError() {\n    _classCallCheck$1(this, NoBiometricsEnrolledError);\n    return _callSuper$1(this, NoBiometricsEnrolledError, ['NoBiometricsEnrolledError', 'There is no biometric factor enrolled on the device. Add a biometric factor in the device settings.']);\n  }\n  return _createClass$1(NoBiometricsEnrolledError);\n}(StytchSDKError);\nvar UserCancellationError = /*#__PURE__*/function (_StytchSDKError8) {\n  _inherits$1(UserCancellationError, _StytchSDKError8);\n  function UserCancellationError() {\n    _classCallCheck$1(this, UserCancellationError);\n    return _callSuper$1(this, UserCancellationError, ['UserCancellationError', 'The user canceled the prompt. Ask the user to try again.']);\n  }\n  return _createClass$1(UserCancellationError);\n}(StytchSDKError);\nvar UserLockedOutError = /*#__PURE__*/function (_StytchSDKError9) {\n  _inherits$1(UserLockedOutError, _StytchSDKError9);\n  function UserLockedOutError() {\n    _classCallCheck$1(this, UserLockedOutError);\n    return _callSuper$1(this, UserLockedOutError, ['UserLockedOutError', 'The user has been locked out due to too many failed attempts. Ask the user to try again later.']);\n  }\n  return _createClass$1(UserLockedOutError);\n}(StytchSDKError);\nvar DeviceCredentialsNotAllowedError = /*#__PURE__*/function (_StytchSDKError10) {\n  _inherits$1(DeviceCredentialsNotAllowedError, _StytchSDKError10);\n  function DeviceCredentialsNotAllowedError() {\n    _classCallCheck$1(this, DeviceCredentialsNotAllowedError);\n    return _callSuper$1(this, DeviceCredentialsNotAllowedError, ['DeviceCredentialsNotAllowedError', 'The device credentials allowment is mismatched. Change the allowDeviceCredentials parameter to be the same in both the register and authenticate methods.']);\n  }\n  return _createClass$1(DeviceCredentialsNotAllowedError);\n}(StytchSDKError);\nvar MissingGoogleClientIDError = /*#__PURE__*/function (_StytchSDKError11) {\n  _inherits$1(MissingGoogleClientIDError, _StytchSDKError11);\n  function MissingGoogleClientIDError() {\n    _classCallCheck$1(this, MissingGoogleClientIDError);\n    return _callSuper$1(this, MissingGoogleClientIDError, ['MissingGoogleClientIDError', 'No Google client ID was found in the project.']);\n  }\n  return _createClass$1(MissingGoogleClientIDError);\n}(StytchSDKError);\nvar MissingPKCEError = /*#__PURE__*/function (_StytchSDKError12) {\n  _inherits$1(MissingPKCEError, _StytchSDKError12);\n  function MissingPKCEError() {\n    _classCallCheck$1(this, MissingPKCEError);\n    return _callSuper$1(this, MissingPKCEError, ['MissingPKCEError', 'Make sure this flow is completed on the same device on which it was started.']);\n  }\n  return _createClass$1(MissingPKCEError);\n}(StytchSDKError);\nvar MissingAuthorizationCredentialIDTokenError = /*#__PURE__*/function (_StytchSDKError13) {\n  _inherits$1(MissingAuthorizationCredentialIDTokenError, _StytchSDKError13);\n  function MissingAuthorizationCredentialIDTokenError() {\n    _classCallCheck$1(this, MissingAuthorizationCredentialIDTokenError);\n    return _callSuper$1(this, MissingAuthorizationCredentialIDTokenError, ['MissingAuthorizationCredentialIDTokenError', 'The authorization credential is missing an ID token.']);\n  }\n  return _createClass$1(MissingAuthorizationCredentialIDTokenError);\n}(StytchSDKError);\nvar InvalidAuthorizationCredentialError = /*#__PURE__*/function (_StytchSDKError14) {\n  _inherits$1(InvalidAuthorizationCredentialError, _StytchSDKError14);\n  function InvalidAuthorizationCredentialError() {\n    _classCallCheck$1(this, InvalidAuthorizationCredentialError);\n    return _callSuper$1(this, InvalidAuthorizationCredentialError, ['InvalidAuthorizationCredentialError', 'The authorization credential is invalid. Verify that OAuth is set up correctly in the developer console, and call the start flow method.']);\n  }\n  return _createClass$1(InvalidAuthorizationCredentialError);\n}(StytchSDKError);\nvar NoCredentialsPresentError = /*#__PURE__*/function (_StytchSDKError15) {\n  _inherits$1(NoCredentialsPresentError, _StytchSDKError15);\n  function NoCredentialsPresentError() {\n    _classCallCheck$1(this, NoCredentialsPresentError);\n    return _callSuper$1(this, NoCredentialsPresentError, ['NoCredentialsPresentError', 'The user did not provide credentials for a Google OneTap attempt']);\n  }\n  return _createClass$1(NoCredentialsPresentError);\n}(StytchSDKError);\nvar MissingPublicKeyError = /*#__PURE__*/function (_StytchSDKError16) {\n  _inherits$1(MissingPublicKeyError, _StytchSDKError16);\n  function MissingPublicKeyError() {\n    _classCallCheck$1(this, MissingPublicKeyError);\n    return _callSuper$1(this, MissingPublicKeyError, ['MissingPublicKeyError', 'Failed to retrieve the public key. Add a new biometric registration.']);\n  }\n  return _createClass$1(MissingPublicKeyError);\n}(StytchSDKError);\nvar ChallengeSigningFailedError = /*#__PURE__*/function (_StytchSDKError17) {\n  _inherits$1(ChallengeSigningFailedError, _StytchSDKError17);\n  function ChallengeSigningFailedError() {\n    _classCallCheck$1(this, ChallengeSigningFailedError);\n    return _callSuper$1(this, ChallengeSigningFailedError, ['ChallengeSigningFailedError', 'Failed to sign the challenge with the key.']);\n  }\n  return _createClass$1(ChallengeSigningFailedError);\n}(StytchSDKError);\nvar SDKNotConfiguredError = /*#__PURE__*/function (_StytchSDKError18) {\n  _inherits$1(SDKNotConfiguredError, _StytchSDKError18);\n  function SDKNotConfiguredError() {\n    _classCallCheck$1(this, SDKNotConfiguredError);\n    return _callSuper$1(this, SDKNotConfiguredError, ['SDKNotConfiguredError', 'Stytch client is not confiured. You must call the configure method before using the SDK']);\n  }\n  return _createClass$1(SDKNotConfiguredError);\n}(StytchSDKError);\nvar FailedCodeChallengeError = /*#__PURE__*/function (_StytchSDKError19) {\n  _inherits$1(FailedCodeChallengeError, _StytchSDKError19);\n  function FailedCodeChallengeError() {\n    _classCallCheck$1(this, FailedCodeChallengeError);\n    return _callSuper$1(this, FailedCodeChallengeError, ['FailedCodeChallengeError', 'Failed to create a code challenge']);\n  }\n  return _createClass$1(FailedCodeChallengeError);\n}(StytchSDKError);\nvar PasskeysUnsupportedError = /*#__PURE__*/function (_StytchSDKError20) {\n  _inherits$1(PasskeysUnsupportedError, _StytchSDKError20);\n  function PasskeysUnsupportedError() {\n    _classCallCheck$1(this, PasskeysUnsupportedError);\n    return _callSuper$1(this, PasskeysUnsupportedError, ['PasskeysUnsupportedError', 'Passkeys are not supported on this device']);\n  }\n  return _createClass$1(PasskeysUnsupportedError);\n}(StytchSDKError);\nvar FailedToDecryptDataError = /*#__PURE__*/function (_StytchSDKError21) {\n  _inherits$1(FailedToDecryptDataError, _StytchSDKError21);\n  function FailedToDecryptDataError() {\n    _classCallCheck$1(this, FailedToDecryptDataError);\n    return _callSuper$1(this, FailedToDecryptDataError, ['FailedToDecryptDataError', 'Failed to decrypt user data']);\n  }\n  return _createClass$1(FailedToDecryptDataError);\n}(StytchSDKError);\nvar BiometricsFailedError = /*#__PURE__*/function (_StytchSDKError22) {\n  _inherits$1(BiometricsFailedError, _StytchSDKError22);\n  function BiometricsFailedError() {\n    _classCallCheck$1(this, BiometricsFailedError);\n    return _callSuper$1(this, BiometricsFailedError, ['BiometricsFailedError', 'Biometric authentication failed']);\n  }\n  return _createClass$1(BiometricsFailedError);\n}(StytchSDKError);\nvar InvalidStartUrlError = /*#__PURE__*/function (_StytchSDKError23) {\n  _inherits$1(InvalidStartUrlError, _StytchSDKError23);\n  function InvalidStartUrlError() {\n    _classCallCheck$1(this, InvalidStartUrlError);\n    return _callSuper$1(this, InvalidStartUrlError, ['InvalidStartUrlError', 'The start URL was invalid or improperly formatted.']);\n  }\n  return _createClass$1(InvalidStartUrlError);\n}(StytchSDKError);\nvar InvalidRedirectSchemeError = /*#__PURE__*/function (_StytchSDKError24) {\n  _inherits$1(InvalidRedirectSchemeError, _StytchSDKError24);\n  function InvalidRedirectSchemeError() {\n    _classCallCheck$1(this, InvalidRedirectSchemeError);\n    return _callSuper$1(this, InvalidRedirectSchemeError, ['InvalidRedirectSchemeError', 'The scheme from the given redirect urls was invalid. Possible reasons include: nil scheme, non-custom scheme (using http or https), or differing schemes for login/signup urls.']);\n  }\n  return _createClass$1(InvalidRedirectSchemeError);\n}(StytchSDKError);\nvar MissingUrlError = /*#__PURE__*/function (_StytchSDKError25) {\n  _inherits$1(MissingUrlError, _StytchSDKError25);\n  function MissingUrlError() {\n    _classCallCheck$1(this, MissingUrlError);\n    return _callSuper$1(this, MissingUrlError, ['MissingUrlError', 'The underlying web authentication service failed to return a URL.']);\n  }\n  return _createClass$1(MissingUrlError);\n}(StytchSDKError);\nvar InvalidCredentialTypeError = /*#__PURE__*/function (_StytchSDKError26) {\n  _inherits$1(InvalidCredentialTypeError, _StytchSDKError26);\n  function InvalidCredentialTypeError() {\n    _classCallCheck$1(this, InvalidCredentialTypeError);\n    return _callSuper$1(this, InvalidCredentialTypeError, ['InvalidCredentialTypeError', 'The public key credential type was not of the expected type.']);\n  }\n  return _createClass$1(InvalidCredentialTypeError);\n}(StytchSDKError);\nvar MissingAttestationObjectError = /*#__PURE__*/function (_StytchSDKError27) {\n  _inherits$1(MissingAttestationObjectError, _StytchSDKError27);\n  function MissingAttestationObjectError() {\n    _classCallCheck$1(this, MissingAttestationObjectError);\n    return _callSuper$1(this, MissingAttestationObjectError, ['MissingAttestationObjectError', 'The public key credential is missing the attestation object.']);\n  }\n  return _createClass$1(MissingAttestationObjectError);\n}(StytchSDKError);\nvar JSONDataNotConvertibleToStringError = /*#__PURE__*/function (_StytchSDKError28) {\n  _inherits$1(JSONDataNotConvertibleToStringError, _StytchSDKError28);\n  function JSONDataNotConvertibleToStringError() {\n    _classCallCheck$1(this, JSONDataNotConvertibleToStringError);\n    return _callSuper$1(this, JSONDataNotConvertibleToStringError, ['JSONDataNotConvertibleToStringError', 'JSON data unable to be converted to String type.']);\n  }\n  return _createClass$1(JSONDataNotConvertibleToStringError);\n}(StytchSDKError);\nvar RandomNumberGenerationFailed = /*#__PURE__*/function (_StytchSDKError29) {\n  _inherits$1(RandomNumberGenerationFailed, _StytchSDKError29);\n  function RandomNumberGenerationFailed() {\n    _classCallCheck$1(this, RandomNumberGenerationFailed);\n    return _callSuper$1(this, RandomNumberGenerationFailed, ['RandomNumberGenerationFailed', 'Random number generation failed']);\n  }\n  return _createClass$1(RandomNumberGenerationFailed);\n}(StytchSDKError);\nvar PasskeysInvalidEncoding = /*#__PURE__*/function (_StytchSDKError30) {\n  _inherits$1(PasskeysInvalidEncoding, _StytchSDKError30);\n  function PasskeysInvalidEncoding() {\n    _classCallCheck$1(this, PasskeysInvalidEncoding);\n    return _callSuper$1(this, PasskeysInvalidEncoding, ['PasskeysInvalidEncoding', 'Invalid passkey encoding']);\n  }\n  return _createClass$1(PasskeysInvalidEncoding);\n}(StytchSDKError);\nvar PasskeysMisconfigured = /*#__PURE__*/function (_StytchSDKError31) {\n  _inherits$1(PasskeysMisconfigured, _StytchSDKError31);\n  function PasskeysMisconfigured() {\n    _classCallCheck$1(this, PasskeysMisconfigured);\n    return _callSuper$1(this, PasskeysMisconfigured, ['PasskeysMisconfigured', 'Passkeys are misconfigured. Verify that you have added the correct associated domain for your application, and that the signing information is correct.']);\n  }\n  return _createClass$1(PasskeysMisconfigured);\n}(StytchSDKError);\nvar SignInWithAppleMisconfigured = /*#__PURE__*/function (_StytchSDKError32) {\n  _inherits$1(SignInWithAppleMisconfigured, _StytchSDKError32);\n  function SignInWithAppleMisconfigured() {\n    _classCallCheck$1(this, SignInWithAppleMisconfigured);\n    return _callSuper$1(this, SignInWithAppleMisconfigured, ['SignInWithAppleMisconfigured', 'Sign In With Apple is misconfigured. Verify that you have correctly configured Apple OAuth in the Stytch Dashboard and added the Sign In With Apple capability to your project.']);\n  }\n  return _createClass$1(SignInWithAppleMisconfigured);\n}(StytchSDKError);\nfunction errorToStytchError(error) {\n  switch (error.message) {\n    case 'internal_error':\n      return new InternalError(error.message);\n    case 'no_current_session':\n      return new NoCurrentSessionError();\n    case 'no_biometrics_registration':\n      return new NoBiometricsRegistrationError();\n    case 'biometrics_unavailable':\n      return new BiometricsUnavailableError();\n    case 'key_invalidated':\n      return new KeyInvalidatedError();\n    case 'device_hardware_error':\n      return new BiometricsUnavailableError();\n    case 'biometrics_not_available':\n      return new BiometricsUnavailableError();\n    case 'no_biometrics_enrolled':\n      return new NoBiometricsEnrolledError();\n    case 'keystore_unavailable':\n      return new KeystoreUnavailableError();\n    case 'no_biometric_key':\n      return new KeyInvalidatedError();\n    case 'device_credentials_not_allowed':\n      return new DeviceCredentialsNotAllowedError();\n    case 'user_cancellation':\n      return new UserCancellationError();\n    case 'user_locked_out':\n      return new UserLockedOutError();\n    case 'google_onetap_missing_id_token':\n      return new MissingAuthorizationCredentialIDTokenError();\n    case 'google_onetap_missing_member':\n      return new InvalidAuthorizationCredentialError();\n    case 'oauth_apple_missing_id_token':\n      return new MissingAuthorizationCredentialIDTokenError();\n    case 'oauth_apple_credential_invalid':\n      return new InvalidAuthorizationCredentialError();\n    case 'missing_public_key':\n      return new MissingPublicKeyError();\n    case 'challenge_signing_failed':\n      return new ChallengeSigningFailedError();\n    case 'missing_authorization_credential_id_token':\n      return new MissingAuthorizationCredentialIDTokenError();\n    case 'invalid_authorization_credential':\n      return new InvalidAuthorizationCredentialError();\n    case 'no_credentials_present':\n      return new NoCredentialsPresentError();\n    case 'sdk_not_configured':\n      return new SDKNotConfiguredError();\n    case 'failed_code_challenge':\n      return new FailedCodeChallengeError();\n    case 'passkeys_unsupported':\n      return new PasskeysUnsupportedError();\n    case 'failed_to_decrypt_data':\n      return new FailedToDecryptDataError();\n    case 'biometrics_failed':\n      return new BiometricsFailedError();\n    case 'invalid_start_url':\n      return new InvalidStartUrlError();\n    case 'invalid_redirect_scheme':\n      return new InvalidRedirectSchemeError();\n    case 'missing_url':\n      return new MissingUrlError();\n    case 'invalid_credential_type':\n      return new InvalidCredentialTypeError();\n    case 'missing_attestation_object':\n      return new MissingAttestationObjectError();\n    case 'json_data_not_convertible_to_string':\n      return new JSONDataNotConvertibleToStringError();\n    case 'random_number_generation_failed':\n      return new RandomNumberGenerationFailed();\n    case 'passkeys_invalid_encoding':\n      return new PasskeysInvalidEncoding();\n    case 'passkeys_misconfigured':\n      return new PasskeysMisconfigured();\n    case 'signinwithapple_misconfigured':\n      return new SignInWithAppleMisconfigured();\n    default:\n      return new StytchSDKError(error.name, error.message);\n  }\n}\nvar B2BProducts;\n(function (B2BProducts) {\n  B2BProducts[\"emailMagicLinks\"] = \"emailMagicLinks\";\n  B2BProducts[\"sso\"] = \"sso\";\n  B2BProducts[\"passwords\"] = \"passwords\";\n  B2BProducts[\"oauth\"] = \"oauth\";\n})(B2BProducts || (B2BProducts = {}));\nvar AuthFlowType;\n(function (AuthFlowType) {\n  AuthFlowType[\"Discovery\"] = \"Discovery\";\n  AuthFlowType[\"Organization\"] = \"Organization\";\n  AuthFlowType[\"PasswordReset\"] = \"PasswordReset\";\n})(AuthFlowType || (AuthFlowType = {}));\nvar B2BMFAProducts;\n(function (B2BMFAProducts) {\n  B2BMFAProducts[\"smsOtp\"] = \"smsOtp\";\n  B2BMFAProducts[\"totp\"] = \"totp\";\n})(B2BMFAProducts || (B2BMFAProducts = {}));\nvar B2BOAuthProviders;\n(function (B2BOAuthProviders) {\n  B2BOAuthProviders[\"Google\"] = \"google\";\n  B2BOAuthProviders[\"Microsoft\"] = \"microsoft\";\n})(B2BOAuthProviders || (B2BOAuthProviders = {}));\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike) {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _regeneratorRuntime() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return String(t);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _construct(t, e, r) {\n  if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && _setPrototypeOf(p, r.prototype), p;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nfunction _isNativeFunction(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nvar TEST_API_URL = 'https://test.stytch.com';\nvar LIVE_API_URL = 'https://api.stytch.com';\nvar CLIENTSIDE_SERVICES_IFRAME_URL = 'https://js.stytch.com/clientside-services/index.html';\nvar STYTCH_WEB_BACKEND_URL = \"https://web.stytch.com\";\nvar STYTCH_DFP_BACKEND_URL = \"https://telemetry.stytch.com\";\nvar STYTCH_DFP_CDN_URL = \"https://elements.stytch.com\";\nvar GOOGLE_ONE_TAP_HOST = 'https://accounts.google.com/gsi';\nvar GOOGLE_ONE_TAP_SCRIPT_URL = \"\".concat(GOOGLE_ONE_TAP_HOST, \"/client\");\nvar DEFAULT_SESSION_DURATION_MINUTES = 30;\nfunction __awaiter$1(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, [])).next());\n  });\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nvar RetriableErrorType;\n(function (RetriableErrorType) {\n  RetriableErrorType[\"RequiredCatcha\"] = \"Catcha Required\";\n})(RetriableErrorType || (RetriableErrorType = {}));\nvar RetriableError = /*#__PURE__*/function (_Error) {\n  _inherits(RetriableError, _Error);\n  function RetriableError(type) {\n    var _this;\n    _classCallCheck(this, RetriableError);\n    _this = _callSuper(this, RetriableError, [type]);\n    _this.type = type;\n    return _this;\n  }\n  return _createClass(RetriableError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nfunction retriableFetchSDK(_ref) {\n  var method = _ref.method,\n    errorMessage = _ref.errorMessage,\n    finalURL = _ref.finalURL,\n    basicAuthHeader = _ref.basicAuthHeader,\n    xSDKClientHeader = _ref.xSDKClientHeader,\n    xSDKParentHostHeader = _ref.xSDKParentHostHeader,\n    body = _ref.body,\n    retryCallback = _ref.retryCallback;\n  return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var req;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          req = {\n            method: method,\n            errorMessage: errorMessage,\n            finalURL: finalURL,\n            basicAuthHeader: basicAuthHeader,\n            xSDKClientHeader: xSDKClientHeader,\n            xSDKParentHostHeader: xSDKParentHostHeader,\n            body: body\n          };\n          _context.prev = 1;\n          _context.next = 4;\n          return baseFetchSDK(req);\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](1);\n          if (!(_context.t0 instanceof RetriableError)) {\n            _context.next = 16;\n            break;\n          }\n          _context.next = 12;\n          return retryCallback(_context.t0, req);\n        case 12:\n          req = _context.sent;\n          _context.next = 15;\n          return baseFetchSDK(req);\n        case 15:\n          return _context.abrupt(\"return\", _context.sent);\n        case 16:\n          throw _context.t0;\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7]]);\n  }));\n}\nfunction baseFetchSDK(_ref2) {\n  var method = _ref2.method,\n    finalURL = _ref2.finalURL,\n    basicAuthHeader = _ref2.basicAuthHeader,\n    xSDKClientHeader = _ref2.xSDKClientHeader,\n    xSDKParentHostHeader = _ref2.xSDKParentHostHeader,\n    body = _ref2.body;\n  var _a;\n  return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var headers, fetchOpts, resp, _respData, respError, respData;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          headers = {\n            Authorization: basicAuthHeader,\n            'Content-Type': 'application/json',\n            'X-SDK-Client': xSDKClientHeader\n          };\n          if (xSDKParentHostHeader) {\n            headers['X-SDK-Parent-Host'] = xSDKParentHostHeader;\n          }\n          fetchOpts = {\n            method: method,\n            headers: headers,\n            body: body && JSON.stringify(body)\n          };\n          _context2.prev = 3;\n          _context2.next = 6;\n          return fetch(finalURL, fetchOpts);\n        case 6:\n          resp = _context2.sent;\n          _context2.next = 14;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](3);\n          if (!(_context2.t0.message === 'Failed to fetch')) {\n            _context2.next = 13;\n            break;\n          }\n          throw new StytchAPIUnreachableError('Unable to contact the Stytch servers. Are you online?');\n        case 13:\n          throw _context2.t0;\n        case 14:\n          if (!(resp.status <= 299)) {\n            _context2.next = 25;\n            break;\n          }\n          _context2.prev = 15;\n          _context2.next = 18;\n          return resp.json();\n        case 18:\n          _respData = _context2.sent;\n          return _context2.abrupt(\"return\", _respData.data);\n        case 22:\n          _context2.prev = 22;\n          _context2.t1 = _context2[\"catch\"](15);\n          throw new StytchAPIUnreachableError('Invalid JSON response from the Stytch servers.');\n        case 25:\n          if (!(resp.status !== 200 && ((_a = resp.headers.get('content-type')) === null || _a === void 0 ? void 0 : _a.includes('application/json')))) {\n            _context2.next = 38;\n            break;\n          }\n          _context2.prev = 26;\n          _context2.next = 29;\n          return resp.json();\n        case 29:\n          respError = _context2.sent;\n          _context2.next = 35;\n          break;\n        case 32:\n          _context2.prev = 32;\n          _context2.t2 = _context2[\"catch\"](26);\n          throw new StytchAPIUnreachableError('Invalid or no response from server');\n        case 35:\n          if (!('body' in respError || 'params' in respError || 'query' in respError)) {\n            _context2.next = 37;\n            break;\n          }\n          throw new StytchAPISchemaError(respError);\n        case 37:\n          throw new StytchAPIError(respError);\n        case 38:\n          _context2.prev = 38;\n          _context2.next = 41;\n          return resp.text();\n        case 41:\n          respData = _context2.sent;\n          _context2.next = 47;\n          break;\n        case 44:\n          _context2.prev = 44;\n          _context2.t3 = _context2[\"catch\"](38);\n          throw new StytchAPIUnreachableError('Invalid response from the Stytch servers.');\n        case 47:\n          if (!respData.includes('Captcha required')) {\n            _context2.next = 49;\n            break;\n          }\n          throw new RetriableError(RetriableErrorType.RequiredCatcha);\n        case 49:\n          throw new StytchAPIUnreachableError('Invalid response from the Stytch servers.');\n        case 50:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 9], [15, 22], [26, 32], [38, 44]]);\n  }));\n}\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  if (!getRandomValues) {\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}\nvar REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nfunction validate$1(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n  if (!validate$1(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)();\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n  return stringify(rnds);\n}\nvar ModulePromiseCache = {};\nfunction loadESModule(url, moduleFromGlobalScope) {\n  return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(ModulePromiseCache[url] !== undefined)) {\n            _context3.next = 2;\n            break;\n          }\n          return _context3.abrupt(\"return\", ModulePromiseCache[url]);\n        case 2:\n          ModulePromiseCache[url] = loadESModuleFromNetwork(url, moduleFromGlobalScope);\n          return _context3.abrupt(\"return\", ModulePromiseCache[url]);\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n}\nfunction loadESModuleFromNetwork(url, moduleFromGlobalScope) {\n  return new Promise(function (resolve, reject) {\n    var maybeScript = findScript(url);\n    if (maybeScript && maybeScript.dataset.loaded === 'true') {\n      try {\n        resolve(moduleFromGlobalScope());\n      } catch (err) {\n        return reject(new Error(\"\".concat(url, \" already loaded, but module was not found in global scope: \").concat(err)));\n      }\n    }\n    var script = createScript(url);\n    script.addEventListener('load', function () {\n      script.dataset.loaded = 'true';\n      try {\n        resolve(moduleFromGlobalScope());\n      } catch (err) {\n        reject(new Error(\"\".concat(url, \" was loaded, but module was not found in global scope: \").concat(err)));\n      }\n    });\n    script.addEventListener('error', function (err) {\n      reject(new Error(\"\".concat(url, \" could not be loaded: \").concat(err)));\n    });\n  });\n}\nvar findScriptsInDom = function findScriptsInDom(url) {\n  return document.querySelectorAll(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n};\nfunction findScript(url) {\n  var scripts = findScriptsInDom(url);\n  if (scripts[0]) {\n    return scripts[0];\n  }\n}\nfunction createScript(url) {\n  var script = document.createElement('script');\n  script.setAttribute('src', url);\n  script.setAttribute('async', 'true');\n  script.setAttribute('defer', 'true');\n  document.head.appendChild(script);\n  return script;\n}\nvar STYTCH_BADGE = ['[Stytch]'];\nvar DEBUG = false;\nvar logger = {\n  debug: function debug() {\n    return DEBUG;\n  },\n  log: function log() {\n    var _console;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return (_console = console).log.apply(_console, STYTCH_BADGE.concat(args));\n  },\n  warn: function warn() {\n    var _console2;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return (_console2 = console).warn.apply(_console2, STYTCH_BADGE.concat(args));\n  },\n  error: function error() {\n    var _console3;\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return (_console3 = console).error.apply(_console3, STYTCH_BADGE.concat(args));\n  }\n};\nvar trailer = \"\\nYou can find your public token at https://stytch.com/dashboard/api-keys.\";\nvar checkPublicToken = function checkPublicToken(publicToken) {\n  if (typeof publicToken !== 'string') {\n    logger.warn(\"Public token is malformed. Expected a string, got \".concat(_typeof(publicToken), \".\").concat(trailer));\n  } else if (publicToken === '') {\n    logger.warn(\"Public token is malformed. Expected \\\"public-token-...\\\", got an empty string.\".concat(trailer));\n  } else if (!publicToken.startsWith('public-token-')) {\n    logger.warn(\"Public token is malformed. Expected \\\"public-token-...\\\", got \".concat(publicToken, \".\").concat(trailer));\n  }\n};\nvar checkNotSSR = function checkNotSSR(clientName) {\n  var codeSample = \"import { createStytchUIClient } from '@stytch/nextjs/ui';\\n    \\nconst stytch = createStytchUIClient('public-token-...');\\n\";\n  if (typeof window === 'undefined') {\n    throw new Error(\"The \".concat(clientName, \" is not compatible with server-side environments.\\nIf using nextjs, use the create\").concat(clientName, \" method instead.\\n```\\n\").concat(codeSample, \"\\n```\\n\"));\n  }\n};\nvar checkB2BNotSSR = function checkB2BNotSSR(clientName) {\n  var codeSample = \"import { createStytchB2BHeadlessClient } from '@stytch/nextjs/b2b';\\n    \\n  const stytch = createStytchB2BHeadlessClient('public-token-...');\\n  \";\n  if (typeof window === 'undefined') {\n    throw new Error(\"The \".concat(clientName, \" is not compatible with server-side environments.\\nIf using nextjs, use the create\").concat(clientName, \" method instead.\\n```\\n\").concat(codeSample, \"\\n```\\n\"));\n  }\n};\nvar COUNTRIES_LIST = {\n  US: '1',\n  AX: '358',\n  AS: '1684',\n  AG: '1268',\n  AI: '1264',\n  AR: '54',\n  AT: '43',\n  AU: '61',\n  BE: '32',\n  BJ: '229',\n  BO: '591',\n  BR: '55',\n  IO: '246',\n  BN: '673',\n  BG: '359',\n  BF: '226',\n  CM: '237',\n  CA: '1',\n  BQ: '599',\n  CF: '236',\n  CL: '56',\n  CX: '61',\n  CC: '61',\n  CO: '57',\n  CD: '243',\n  CK: '682',\n  CR: '506',\n  HR: '385',\n  CZ: '420',\n  DK: '45',\n  DO: '1829',\n  EC: '593',\n  SV: '503',\n  EE: '372',\n  SZ: '268',\n  FK: '500',\n  FI: '358',\n  FR: '33',\n  GF: '594',\n  DE: '49',\n  GH: '233',\n  GR: '30',\n  GD: '1473',\n  GT: '502',\n  GG: '44',\n  GW: '245',\n  GY: '592',\n  HU: '36',\n  IS: '354',\n  IN: '91',\n  IE: '353',\n  IM: '44',\n  IT: '39',\n  JM: '1876',\n  JP: '81',\n  KZ: '7',\n  KE: '254',\n  KI: '686',\n  KR: '82',\n  LV: '371',\n  LT: '370',\n  LU: '352',\n  MO: '853',\n  MT: '356',\n  MH: '692',\n  MR: '222',\n  MU: '230',\n  YT: '262',\n  MX: '52',\n  MC: '377',\n  ME: '382',\n  NR: '674',\n  NL: '31',\n  NZ: '64',\n  NI: '505',\n  NF: '672',\n  NO: '47',\n  PA: '507',\n  PY: '595',\n  PE: '51',\n  PN: '870',\n  PL: '48',\n  PT: '351',\n  PR: '1',\n  RO: '40',\n  BL: '590',\n  SH: '290',\n  KN: '1869',\n  LC: '1758',\n  MF: '590',\n  PM: '508',\n  SM: '378',\n  ST: '239',\n  SC: '248',\n  SX: '599',\n  SK: '421',\n  SI: '386',\n  ZA: '27',\n  SS: '211',\n  ES: '34',\n  SR: '597',\n  SJ: '47',\n  SE: '46',\n  CH: '41',\n  TW: '886',\n  TZ: '255',\n  TK: '690',\n  TO: '676',\n  TT: '1868',\n  TR: '90',\n  UA: '380',\n  GB: '44',\n  UM: '1',\n  UY: '598',\n  VA: '379',\n  EH: '212'\n};\nvar isTestPublicToken = function isTestPublicToken(token) {\n  return token.includes('public-token-test');\n};\nvar createEventId = function createEventId() {\n  return \"event-id-\".concat(v4());\n};\nvar createAppSessionId = function createAppSessionId() {\n  return \"app-session-id-\".concat(v4());\n};\nvar createPersistentId = function createPersistentId() {\n  return \"persistent-id-\".concat(v4());\n};\nvar validate = function validate(methodName) {\n  var validator = {\n    isObject: function isObject(fieldName, value) {\n      var isObject = _typeof(value) === 'object' && !Array.isArray(value) && value !== null;\n      if (!isObject) {\n        throw new StytchSDKUsageError(methodName, fieldName + ' must be an object.');\n      }\n      return validator;\n    },\n    isOptionalObject: function isOptionalObject(fieldName, value) {\n      if (typeof value === 'undefined') {\n        return validator;\n      }\n      return validator.isObject(fieldName, value);\n    },\n    isString: function isString(fieldName, value) {\n      if (typeof value !== 'string') {\n        throw new StytchSDKUsageError(methodName, fieldName + ' must be a string.');\n      }\n      return validator;\n    },\n    isOptionalString: function isOptionalString(fieldName, value) {\n      if (typeof value === 'undefined') {\n        return validator;\n      }\n      return validator.isString(fieldName, value);\n    },\n    isStringArray: function isStringArray(fieldName, value) {\n      if (!Array.isArray(value)) {\n        throw new StytchSDKUsageError(methodName, fieldName + ' must be an array of strings.');\n      }\n      var _iterator = _createForOfIteratorHelper(value),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var str = _step.value;\n          if (typeof str !== 'string') {\n            throw new StytchSDKUsageError(methodName, fieldName + ' must be an array of strings.');\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return validator;\n    },\n    isOptionalStringArray: function isOptionalStringArray(fieldName, value) {\n      if (typeof value === 'undefined') {\n        return validator;\n      }\n      return validator.isStringArray(fieldName, value);\n    },\n    isNumber: function isNumber(fieldName, value) {\n      if (typeof value !== 'number') {\n        throw new StytchSDKUsageError(methodName, fieldName + ' must be a number.');\n      }\n      return validator;\n    },\n    isOptionalNumber: function isOptionalNumber(fieldName, value) {\n      if (typeof value === 'undefined') {\n        return validator;\n      }\n      return validator.isNumber(fieldName, value);\n    },\n    isBoolean: function isBoolean(fieldName, value) {\n      if (typeof value !== 'boolean') {\n        throw new StytchSDKUsageError(methodName, fieldName + ' must be a boolean.');\n      }\n      return validator;\n    },\n    isOptionalBoolean: function isOptionalBoolean(fieldName, value) {\n      if (typeof value === 'undefined') {\n        return validator;\n      }\n      return validator.isBoolean(fieldName, value);\n    }\n  };\n  return validator;\n};\nvar loadTelemetryJS = function loadTelemetryJS() {\n  return loadESModule(\"\".concat(STYTCH_DFP_CDN_URL, \"/telemetry.js\"), function () {\n    return window.GetTelemetryID;\n  });\n};\nvar DFPProtectedAuthProvider = /*#__PURE__*/_createClass(function DFPProtectedAuthProvider(publicToken, dfpBackendURL, bootstrapPromise) {\n  var _this2 = this;\n  var executeRecaptcha = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {\n    return Promise.resolve(undefined);\n  };\n  _classCallCheck(this, DFPProtectedAuthProvider);\n  this.bootstrapPromise = bootstrapPromise;\n  this.isEnabled = function () {\n    return __awaiter$1(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", this.state.then(function (state) {\n              return state.enabled;\n            }));\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, this);\n    }));\n  };\n  this.getTelemetryID = function () {\n    return __awaiter$1(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n      var _yield$this$state, publicToken, enabled, dfpBackendURL;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return this.state;\n          case 2:\n            _yield$this$state = _context5.sent;\n            publicToken = _yield$this$state.publicToken;\n            enabled = _yield$this$state.enabled;\n            dfpBackendURL = _yield$this$state.dfpBackendURL;\n            if (enabled) {\n              _context5.next = 8;\n              break;\n            }\n            return _context5.abrupt(\"return\", undefined);\n          case 8:\n            _context5.next = 10;\n            return window.GetTelemetryID(publicToken, \"\".concat(dfpBackendURL, \"/submit\"));\n          case 10:\n            return _context5.abrupt(\"return\", _context5.sent);\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, this);\n    }));\n  };\n  this.getDFPTelemetryIDAndCaptcha = function () {\n    return __awaiter$1(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n      var _yield$this$state2, enabled, executeRecaptcha, mode, dfp_telemetry_id, captcha_token;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return this.state;\n          case 2:\n            _yield$this$state2 = _context6.sent;\n            enabled = _yield$this$state2.enabled;\n            executeRecaptcha = _yield$this$state2.executeRecaptcha;\n            mode = _yield$this$state2.mode;\n            dfp_telemetry_id = undefined;\n            captcha_token = undefined;\n            if (enabled) {\n              _context6.next = 12;\n              break;\n            }\n            _context6.next = 11;\n            return executeRecaptcha();\n          case 11:\n            captcha_token = _context6.sent;\n          case 12:\n            if (!(mode === 'DECISIONING')) {\n              _context6.next = 18;\n              break;\n            }\n            _context6.next = 15;\n            return this.getTelemetryID();\n          case 15:\n            dfp_telemetry_id = _context6.sent;\n            _context6.next = 25;\n            break;\n          case 18:\n            if (!(mode === 'OBSERVATION')) {\n              _context6.next = 25;\n              break;\n            }\n            _context6.next = 21;\n            return this.getTelemetryID();\n          case 21:\n            dfp_telemetry_id = _context6.sent;\n            _context6.next = 24;\n            return executeRecaptcha();\n          case 24:\n            captcha_token = _context6.sent;\n          case 25:\n            return _context6.abrupt(\"return\", {\n              dfp_telemetry_id: dfp_telemetry_id,\n              captcha_token: captcha_token\n            });\n          case 26:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6, this);\n    }));\n  };\n  this.retryWithCaptchaAndDFP = function (e, req) {\n    return __awaiter$1(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n      var _yield$this$state3, enabled, executeRecaptcha;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return this.state;\n          case 2:\n            _yield$this$state3 = _context7.sent;\n            enabled = _yield$this$state3.enabled;\n            executeRecaptcha = _yield$this$state3.executeRecaptcha;\n            if (!(e.type === RetriableErrorType.RequiredCatcha && enabled)) {\n              _context7.next = 14;\n              break;\n            }\n            if (!req.body) {\n              _context7.next = 13;\n              break;\n            }\n            _context7.next = 9;\n            return this.getTelemetryID();\n          case 9:\n            req.body.dfp_telemetry_id = _context7.sent;\n            _context7.next = 12;\n            return executeRecaptcha();\n          case 12:\n            req.body.captcha_token = _context7.sent;\n          case 13:\n            return _context7.abrupt(\"return\", req);\n          case 14:\n            throw new Error('Unable to query captcha and/or dfp telemetry ID');\n          case 15:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7, this);\n    }));\n  };\n  this.state = bootstrapPromise.then(function (bootstrapData) {\n    return __awaiter$1(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            if (bootstrapData.runDFPProtectedAuth) {\n              _context8.next = 2;\n              break;\n            }\n            return _context8.abrupt(\"return\", {\n              publicToken: publicToken,\n              dfpBackendURL: dfpBackendURL,\n              enabled: false,\n              loaded: false,\n              executeRecaptcha: executeRecaptcha\n            });\n          case 2:\n            _context8.next = 4;\n            return loadTelemetryJS();\n          case 4:\n            return _context8.abrupt(\"return\", {\n              publicToken: publicToken,\n              dfpBackendURL: dfpBackendURL,\n              enabled: true,\n              mode: bootstrapData.dfpProtectedAuthMode || 'OBSERVATION',\n              loaded: true,\n              executeRecaptcha: executeRecaptcha\n            });\n          case 5:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8);\n    }));\n  });\n});\nvar DisabledDFPProtectedAuthProvider = function DisabledDFPProtectedAuthProvider() {\n  return {\n    isEnabled: function isEnabled() {\n      return __awaiter$1(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              return _context9.abrupt(\"return\", false);\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9);\n      }));\n    },\n    getTelemetryID: function getTelemetryID() {\n      return __awaiter$1(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              return _context10.abrupt(\"return\", undefined);\n            case 1:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10);\n      }));\n    },\n    getDFPTelemetryIDAndCaptcha: function getDFPTelemetryIDAndCaptcha() {\n      return __awaiter$1(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              return _context11.abrupt(\"return\", {\n                dfp_telemetry_id: undefined,\n                captcha_token: undefined\n              });\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11);\n      }));\n    },\n    retryWithCaptchaAndDFP: function retryWithCaptchaAndDFP() {\n      return __awaiter$1(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              throw new Error('DFP protected auth is disabled');\n            case 1:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12);\n      }));\n    }\n  };\n};\nvar ErrorMarshaller = /*#__PURE__*/function () {\n  function ErrorMarshaller() {\n    _classCallCheck(this, ErrorMarshaller);\n  }\n  _createClass(ErrorMarshaller, null, [{\n    key: \"marshall\",\n    value: function marshall(error) {\n      return Object.assign(Object.assign({}, error), {\n        name: error.name,\n        message: error.message,\n        stack: error.stack\n      });\n    }\n  }, {\n    key: \"inflate\",\n    value: function inflate(ErrorClass, ErrorData) {\n      var err = new ErrorClass(ErrorData);\n      Object.assign(err, ErrorData);\n      Object.setPrototypeOf(err, ErrorClass.prototype);\n      return err;\n    }\n  }, {\n    key: \"unmarshall\",\n    value: function unmarshall(error) {\n      if ('name' in error) {\n        switch (error.name) {\n          case 'SDKAPIUnreachableError':\n            return ErrorMarshaller.inflate(SDKAPIUnreachableError, error);\n          case 'StytchSDKSchemaError':\n            return ErrorMarshaller.inflate(StytchSDKSchemaError, error);\n          case 'StytchAPIUnreachableError':\n            return ErrorMarshaller.inflate(StytchAPIUnreachableError, error);\n          case 'StytchAPISchemaError':\n            return ErrorMarshaller.inflate(StytchAPISchemaError, error);\n          case 'StytchSDKAPIError':\n            return ErrorMarshaller.inflate(StytchSDKAPIError, error);\n          case 'StytchAPIError':\n            return ErrorMarshaller.inflate(StytchAPIError, error);\n          case 'TypeError':\n            return ErrorMarshaller.inflate(TypeError, error);\n          case 'SyntaxError':\n            return ErrorMarshaller.inflate(SyntaxError, error);\n          case 'ReferenceError':\n            return ErrorMarshaller.inflate(ReferenceError, error);\n          case 'RangeError':\n            return ErrorMarshaller.inflate(RangeError, error);\n          case 'EvalError':\n            return ErrorMarshaller.inflate(EvalError, error);\n          case 'URIError':\n            return ErrorMarshaller.inflate(URIError, error);\n        }\n      }\n      return ErrorMarshaller.inflate(Error, error);\n    }\n  }]);\n  return ErrorMarshaller;\n}();\nvar DEFAULT_MAX_BATCH_SIZE = 15;\nvar DEFAULT_INTERVAL_DURATION_MS = 800;\nvar EventLogger = /*#__PURE__*/function () {\n  function EventLogger(args) {\n    _classCallCheck(this, EventLogger);\n    this.maxBatchSize = args.maxBatchSize;\n    this.logEventURL = args.logEventURL;\n    setInterval(this.flush.bind(this), args.intervalDurationMs);\n    this.batch = [];\n  }\n  _createClass(EventLogger, [{\n    key: \"logEvent\",\n    value: function logEvent(telemetry, event) {\n      this.batch.push({\n        telemetry: telemetry,\n        event: event\n      });\n      if (this.batch.length >= this.maxBatchSize) {\n        this.flush();\n      }\n    }\n  }, {\n    key: \"flush\",\n    value: function flush() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        var batchToSubmit;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              if (this.batch.length) {\n                _context13.next = 2;\n                break;\n              }\n              return _context13.abrupt(\"return\");\n            case 2:\n              batchToSubmit = this.batch;\n              this.batch = [];\n              _context13.prev = 4;\n              _context13.next = 7;\n              return fetch(this.logEventURL, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(batchToSubmit)\n              });\n            case 7:\n              _context13.next = 11;\n              break;\n            case 9:\n              _context13.prev = 9;\n              _context13.t0 = _context13[\"catch\"](4);\n            case 11:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee13, this, [[4, 9]]);\n      }));\n    }\n  }]);\n  return EventLogger;\n}();\nvar EmailSentType;\n(function (EmailSentType) {\n  EmailSentType[\"LoginOrCreateEML\"] = \"login_or_create_eml\";\n  EmailSentType[\"LoginOrCreateOTP\"] = \"login_or_create_otp\";\n  EmailSentType[\"ResetPassword\"] = \"reset_password\";\n})(EmailSentType || (EmailSentType = {}));\nPromise.resolve({\n  pkceRequiredForEmailMagicLinks: false\n});\nPromise.resolve({\n  pkceRequiredForPasswordResets: false\n});\nvar DefaultDynamicConfig$1 = Promise.resolve({\n  pkceRequiredForEmailMagicLinks: false\n});\nvar HeadlessB2BMagicLinksClient = /*#__PURE__*/function () {\n  function HeadlessB2BMagicLinksClient(_networkClient, _subscriptionService, _pkceManager, _passwordResetPKCEManager) {\n    var _this9 = this;\n    var _config = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DefaultDynamicConfig$1;\n    var dfpProtectedAuth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : DisabledDFPProtectedAuthProvider();\n    _classCallCheck(this, HeadlessB2BMagicLinksClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this._pkceManager = _pkceManager;\n    this._passwordResetPKCEManager = _passwordResetPKCEManager;\n    this._config = _config;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n    this.email = {\n      invite: function invite(data) {\n        return __awaiter$1(_this9, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee59() {\n          return _regeneratorRuntime().wrap(function _callee59$(_context59) {\n            while (1) switch (_context59.prev = _context59.next) {\n              case 0:\n                validate('stytch.magicLinks.email.loginOrSignup').isString('email_address', data.email_address).isOptionalString('invite_redirect_url', data.invite_redirect_url).isOptionalString('invite_template_id', data.invite_template_id).isOptionalString('name', data.name).isOptionalString('locale', data.locale).isOptionalStringArray('roles', data.roles);\n                return _context59.abrupt(\"return\", this._networkClient.fetchSDK({\n                  url: '/b2b/magic_links/email/invite',\n                  body: data,\n                  errorMessage: 'Failed to send invite.',\n                  method: 'POST'\n                }));\n              case 2:\n              case \"end\":\n                return _context59.stop();\n            }\n          }, _callee59, this);\n        }));\n      },\n      loginOrSignup: function loginOrSignup(data) {\n        return __awaiter$1(_this9, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee60() {\n          var pkce_code_challenge, requestBody;\n          return _regeneratorRuntime().wrap(function _callee60$(_context60) {\n            while (1) switch (_context60.prev = _context60.next) {\n              case 0:\n                validate('stytch.magicLinks.email.loginOrSignup').isString('email_address', data.email_address).isString('organization_id', data.organization_id).isOptionalString('login_redirect_url', data.login_redirect_url).isOptionalString('login_template_id', data.login_template_id).isOptionalString('signup_redirect_url', data.signup_redirect_url).isOptionalString('signup_template_id', data.signup_template_id).isOptionalString('locale', data.locale);\n                _context60.next = 3;\n                return this.getCodeChallenge();\n              case 3:\n                pkce_code_challenge = _context60.sent;\n                requestBody = Object.assign(Object.assign({}, data), {\n                  pkce_code_challenge: pkce_code_challenge\n                });\n                return _context60.abrupt(\"return\", this._networkClient.fetchSDK({\n                  url: '/b2b/magic_links/email/login_or_signup',\n                  body: requestBody,\n                  errorMessage: 'Failed to send magic link',\n                  method: 'POST'\n                }));\n              case 6:\n              case \"end\":\n                return _context60.stop();\n            }\n          }, _callee60, this);\n        }));\n      },\n      discovery: {\n        send: function send(data) {\n          return __awaiter$1(_this9, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee61() {\n            var _yield$this$dfpProtec18, dfp_telemetry_id, captcha_token, pkce_code_challenge, requestBody;\n            return _regeneratorRuntime().wrap(function _callee61$(_context61) {\n              while (1) switch (_context61.prev = _context61.next) {\n                case 0:\n                  validate('stytch.magicLinks.email.discovery.send').isString('email_address', data.email_address).isOptionalString('discovery_redirect_url', data.discovery_redirect_url).isOptionalString('login_template_id', data.login_template_id).isOptionalString('locale', data.locale);\n                  _context61.next = 3;\n                  return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n                case 3:\n                  _yield$this$dfpProtec18 = _context61.sent;\n                  dfp_telemetry_id = _yield$this$dfpProtec18.dfp_telemetry_id;\n                  captcha_token = _yield$this$dfpProtec18.captcha_token;\n                  _context61.next = 8;\n                  return this.getCodeChallenge();\n                case 8:\n                  pkce_code_challenge = _context61.sent;\n                  requestBody = Object.assign(Object.assign({}, data), {\n                    pkce_code_challenge: pkce_code_challenge,\n                    dfp_telemetry_id: dfp_telemetry_id,\n                    captcha_token: captcha_token\n                  });\n                  return _context61.abrupt(\"return\", this._networkClient.retriableFetchSDK({\n                    url: '/b2b/magic_links/email/discovery/send',\n                    body: requestBody,\n                    errorMessage: 'Failed to send discovery magic link',\n                    method: 'POST',\n                    retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n                  }));\n                case 11:\n                case \"end\":\n                  return _context61.stop();\n              }\n            }, _callee61, this);\n          }));\n        }\n      }\n    };\n    this.authenticate = function (data) {\n      return __awaiter$1(_this9, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee62() {\n        var passwordResetPKPair, resp;\n        return _regeneratorRuntime().wrap(function _callee62$(_context62) {\n          while (1) switch (_context62.prev = _context62.next) {\n            case 0:\n              validate('stytch.magicLinks.authenticate').isString('magic_links_token', data.magic_links_token).isNumber('session_duration_minutes', data.session_duration_minutes).isOptionalString('locale', data.locale);\n              _context62.next = 3;\n              return this._passwordResetPKCEManager.getPKPair();\n            case 3:\n              passwordResetPKPair = _context62.sent;\n              resp = null;\n              if (!(passwordResetPKPair === null || passwordResetPKPair === void 0 ? void 0 : passwordResetPKPair.code_verifier)) {\n                _context62.next = 19;\n                break;\n              }\n              _context62.prev = 6;\n              _context62.next = 9;\n              return this.handlePKCEForAuthenticate(this._passwordResetPKCEManager, data);\n            case 9:\n              resp = _context62.sent;\n              _context62.next = 19;\n              break;\n            case 12:\n              _context62.prev = 12;\n              _context62.t0 = _context62[\"catch\"](6);\n              if (!_context62.t0.message.includes('pkce')) {\n                _context62.next = 18;\n                break;\n              }\n              console.log('Authenticate with passwords pkce namespace failed. Falling back to authenticate with magic_links namespace.');\n              _context62.next = 19;\n              break;\n            case 18:\n              throw _context62.t0;\n            case 19:\n              if (resp) {\n                _context62.next = 23;\n                break;\n              }\n              _context62.next = 22;\n              return this.handlePKCEForAuthenticate(this._pkceManager, data);\n            case 22:\n              resp = _context62.sent;\n            case 23:\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context62.abrupt(\"return\", resp);\n            case 25:\n            case \"end\":\n              return _context62.stop();\n          }\n        }, _callee62, this, [[6, 12]]);\n      }));\n    };\n    this.discovery = {\n      authenticate: function authenticate(data) {\n        return __awaiter$1(_this9, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee63() {\n          var pkPair, _yield$this$dfpProtec19, dfp_telemetry_id, captcha_token, requestBody, resp;\n          return _regeneratorRuntime().wrap(function _callee63$(_context63) {\n            while (1) switch (_context63.prev = _context63.next) {\n              case 0:\n                validate('stytch.magicLinks.discovery.authenticate').isString('discovery_magic_links_token', data.discovery_magic_links_token);\n                _context63.next = 3;\n                return this._pkceManager.getPKPair();\n              case 3:\n                pkPair = _context63.sent;\n                _context63.next = 6;\n                return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n              case 6:\n                _yield$this$dfpProtec19 = _context63.sent;\n                dfp_telemetry_id = _yield$this$dfpProtec19.dfp_telemetry_id;\n                captcha_token = _yield$this$dfpProtec19.captcha_token;\n                requestBody = Object.assign({\n                  pkce_code_verifier: pkPair === null || pkPair === void 0 ? void 0 : pkPair.code_verifier,\n                  dfp_telemetry_id: dfp_telemetry_id,\n                  captcha_token: captcha_token\n                }, data);\n                _context63.next = 12;\n                return this._networkClient.retriableFetchSDK({\n                  url: '/b2b/magic_links/discovery/authenticate',\n                  body: requestBody,\n                  errorMessage: 'Failed to authenticate intermediate magic link token',\n                  method: 'POST',\n                  retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n                });\n              case 12:\n                resp = _context63.sent;\n                this._pkceManager.clearPKPair();\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n                return _context63.abrupt(\"return\", resp);\n              case 16:\n              case \"end\":\n                return _context63.stop();\n            }\n          }, _callee63, this);\n        }));\n      }\n    };\n  }\n  _createClass(HeadlessB2BMagicLinksClient, [{\n    key: \"getCodeChallenge\",\n    value: function getCodeChallenge() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee64() {\n        var _yield$this$_config4, pkceRequiredForEmailMagicLinks, keyPair;\n        return _regeneratorRuntime().wrap(function _callee64$(_context64) {\n          while (1) switch (_context64.prev = _context64.next) {\n            case 0:\n              _context64.next = 2;\n              return this._config;\n            case 2:\n              _yield$this$_config4 = _context64.sent;\n              pkceRequiredForEmailMagicLinks = _yield$this$_config4.pkceRequiredForEmailMagicLinks;\n              if (pkceRequiredForEmailMagicLinks) {\n                _context64.next = 6;\n                break;\n              }\n              return _context64.abrupt(\"return\", undefined);\n            case 6:\n              _context64.next = 8;\n              return this._pkceManager.getPKPair();\n            case 8:\n              keyPair = _context64.sent;\n              if (!keyPair) {\n                _context64.next = 11;\n                break;\n              }\n              return _context64.abrupt(\"return\", keyPair.code_challenge);\n            case 11:\n              _context64.next = 13;\n              return this._pkceManager.startPKCETransaction();\n            case 13:\n              keyPair = _context64.sent;\n              return _context64.abrupt(\"return\", keyPair.code_challenge);\n            case 15:\n            case \"end\":\n              return _context64.stop();\n          }\n        }, _callee64, this);\n      }));\n    }\n  }, {\n    key: \"handlePKCEForAuthenticate\",\n    value: function handlePKCEForAuthenticate(pkceManager, data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee65() {\n        var pkPair, _yield$this$dfpProtec20, dfp_telemetry_id, captcha_token, requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee65$(_context65) {\n          while (1) switch (_context65.prev = _context65.next) {\n            case 0:\n              _context65.next = 2;\n              return pkceManager.getPKPair();\n            case 2:\n              pkPair = _context65.sent;\n              _context65.next = 5;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 5:\n              _yield$this$dfpProtec20 = _context65.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec20.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec20.captcha_token;\n              _context65.t0 = Object;\n              _context65.t1 = pkPair === null || pkPair === void 0 ? void 0 : pkPair.code_verifier;\n              _context65.t2 = dfp_telemetry_id;\n              _context65.t3 = captcha_token;\n              _context65.next = 14;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 14:\n              _context65.t4 = _context65.sent;\n              if (_context65.t4) {\n                _context65.next = 17;\n                break;\n              }\n              _context65.t4 = undefined;\n            case 17:\n              _context65.t5 = _context65.t4;\n              _context65.t6 = {\n                pkce_code_verifier: _context65.t1,\n                dfp_telemetry_id: _context65.t2,\n                captcha_token: _context65.t3,\n                intermediate_session_token: _context65.t5\n              };\n              _context65.t7 = data;\n              requestBody = _context65.t0.assign.call(_context65.t0, _context65.t6, _context65.t7);\n              _context65.next = 23;\n              return this._networkClient.retriableFetchSDK({\n                url: '/b2b/magic_links/authenticate',\n                body: requestBody,\n                errorMessage: 'Failed to authenticate token',\n                method: 'POST',\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              });\n            case 23:\n              resp = _context65.sent;\n              pkceManager.clearPKPair();\n              return _context65.abrupt(\"return\", resp);\n            case 26:\n            case \"end\":\n              return _context65.stop();\n          }\n        }, _callee65, this);\n      }));\n    }\n  }]);\n  return HeadlessB2BMagicLinksClient;\n}();\nvar HeadlessB2BSelfClient = /*#__PURE__*/_createClass(function HeadlessB2BSelfClient(_networkClient, _subscriptionService) {\n  var _this10 = this;\n  _classCallCheck(this, HeadlessB2BSelfClient);\n  this._networkClient = _networkClient;\n  this._subscriptionService = _subscriptionService;\n  this.get = function () {\n    return __awaiter$1(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee66() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee66$(_context66) {\n        while (1) switch (_context66.prev = _context66.next) {\n          case 0:\n            _context66.next = 2;\n            return this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/members/me\",\n              errorMessage: 'Failed to retrieve member info.',\n              method: 'GET'\n            });\n          case 2:\n            resp = _context66.sent;\n            this._subscriptionService.updateMember(resp.member);\n            return _context66.abrupt(\"return\", resp.member);\n          case 5:\n          case \"end\":\n            return _context66.stop();\n        }\n      }, _callee66, this);\n    }));\n  };\n  this.getSync = function () {\n    return _this10._subscriptionService.getMember();\n  };\n  this.getInfo = function () {\n    return {\n      member: _this10.getSync(),\n      fromCache: _this10._subscriptionService.getFromCache()\n    };\n  };\n  this.onChange = function (callback) {\n    return _this10._subscriptionService.subscribeToState(function (state) {\n      var _a;\n      return callback((_a = state === null || state === void 0 ? void 0 : state.member) !== null && _a !== void 0 ? _a : null);\n    });\n  };\n  this.update = function (data) {\n    return __awaiter$1(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee67() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee67$(_context67) {\n        while (1) switch (_context67.prev = _context67.next) {\n          case 0:\n            validate('stytch.self.update').isOptionalString('name', data.name).isOptionalObject('untrusted_metadata', data.untrusted_metadata).isOptionalBoolean('mfa_enrolled', data.mfa_enrolled).isOptionalString('mfa_phone_number', data.mfa_phone_number).isOptionalString('default_mfa_method', data.default_mfa_method);\n            _context67.next = 3;\n            return this._networkClient.fetchSDK({\n              url: '/b2b/organizations/members/update',\n              body: data,\n              errorMessage: 'Failed to update member.',\n              method: 'PUT'\n            });\n          case 3:\n            resp = _context67.sent;\n            this._subscriptionService.updateMember(resp.member);\n            return _context67.abrupt(\"return\", resp);\n          case 6:\n          case \"end\":\n            return _context67.stop();\n        }\n      }, _callee67, this);\n    }));\n  };\n  this.deleteMFAPhoneNumber = function () {\n    return __awaiter$1(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee68() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee68$(_context68) {\n        while (1) switch (_context68.prev = _context68.next) {\n          case 0:\n            _context68.next = 2;\n            return this._networkClient.fetchSDK({\n              url: '/b2b/organizations/members/deletePhoneNumber',\n              errorMessage: 'Failed to delete member phone number.',\n              method: 'DELETE'\n            });\n          case 2:\n            resp = _context68.sent;\n            this._subscriptionService.updateMember(resp.member);\n            return _context68.abrupt(\"return\", resp);\n          case 5:\n          case \"end\":\n            return _context68.stop();\n        }\n      }, _callee68, this);\n    }));\n  };\n  this.deleteMFATOTP = function () {\n    return __awaiter$1(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee69() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee69$(_context69) {\n        while (1) switch (_context69.prev = _context69.next) {\n          case 0:\n            _context69.next = 2;\n            return this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/members/deleteTOTP\",\n              errorMessage: 'Failed to delete member totp.',\n              method: 'DELETE'\n            });\n          case 2:\n            resp = _context69.sent;\n            this._subscriptionService.updateMember(resp.member);\n            return _context69.abrupt(\"return\", resp);\n          case 5:\n          case \"end\":\n            return _context69.stop();\n        }\n      }, _callee69, this);\n    }));\n  };\n  this.deletePassword = function (passwordId) {\n    return __awaiter$1(_this10, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee70() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee70$(_context70) {\n        while (1) switch (_context70.prev = _context70.next) {\n          case 0:\n            _context70.next = 2;\n            return this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/members/passwords/\".concat(passwordId),\n              errorMessage: 'Failed to delete member password.',\n              method: 'DELETE'\n            });\n          case 2:\n            resp = _context70.sent;\n            this._subscriptionService.updateMember(resp.member);\n            return _context70.abrupt(\"return\", resp);\n          case 5:\n          case \"end\":\n            return _context70.stop();\n        }\n      }, _callee70, this);\n    }));\n  };\n});\nvar HeadlessB2BSSOClient = /*#__PURE__*/function () {\n  function HeadlessB2BSSOClient(_networkClient, _subscriptionService, _pkceManager, _dynamicConfig, _config) {\n    var _this11 = this;\n    var dfpProtectedAuth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : DisabledDFPProtectedAuthProvider();\n    _classCallCheck(this, HeadlessB2BSSOClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this._pkceManager = _pkceManager;\n    this._dynamicConfig = _dynamicConfig;\n    this._config = _config;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n    this.saml = {\n      createConnection: function createConnection(data) {\n        return __awaiter$1(_this11, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee71() {\n          return _regeneratorRuntime().wrap(function _callee71$(_context71) {\n            while (1) switch (_context71.prev = _context71.next) {\n              case 0:\n                _context71.next = 2;\n                return this._networkClient.fetchSDK({\n                  url: '/b2b/sso/saml',\n                  method: 'POST',\n                  body: data,\n                  errorMessage: 'Failed to create SAML Connection.'\n                });\n              case 2:\n                return _context71.abrupt(\"return\", _context71.sent);\n              case 3:\n              case \"end\":\n                return _context71.stop();\n            }\n          }, _callee71, this);\n        }));\n      },\n      updateConnection: function updateConnection(data) {\n        return __awaiter$1(_this11, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee72() {\n          return _regeneratorRuntime().wrap(function _callee72$(_context72) {\n            while (1) switch (_context72.prev = _context72.next) {\n              case 0:\n                _context72.next = 2;\n                return this._networkClient.fetchSDK({\n                  url: \"/b2b/sso/saml/\".concat(data.connection_id),\n                  method: 'PUT',\n                  body: data,\n                  errorMessage: 'Failed to update SAML Connection.'\n                });\n              case 2:\n                return _context72.abrupt(\"return\", _context72.sent);\n              case 3:\n              case \"end\":\n                return _context72.stop();\n            }\n          }, _callee72, this);\n        }));\n      },\n      updateConnectionByURL: function updateConnectionByURL(data) {\n        return __awaiter$1(_this11, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee73() {\n          return _regeneratorRuntime().wrap(function _callee73$(_context73) {\n            while (1) switch (_context73.prev = _context73.next) {\n              case 0:\n                _context73.next = 2;\n                return this._networkClient.fetchSDK({\n                  url: \"/b2b/sso/saml/\".concat(data.connection_id, \"/url\"),\n                  method: 'PUT',\n                  body: data,\n                  errorMessage: 'Failed to update SAML Connection.'\n                });\n              case 2:\n                return _context73.abrupt(\"return\", _context73.sent);\n              case 3:\n              case \"end\":\n                return _context73.stop();\n            }\n          }, _callee73, this);\n        }));\n      },\n      deleteVerificationCertificate: function deleteVerificationCertificate(data) {\n        return __awaiter$1(_this11, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee74() {\n          return _regeneratorRuntime().wrap(function _callee74$(_context74) {\n            while (1) switch (_context74.prev = _context74.next) {\n              case 0:\n                _context74.next = 2;\n                return this._networkClient.fetchSDK({\n                  url: \"/b2b/sso/saml/\".concat(data.connection_id, \"/verification_certificates/\").concat(data.certificate_id),\n                  method: 'DELETE',\n                  errorMessage: 'Failed to delete SAML Verification Certificate.'\n                });\n              case 2:\n                return _context74.abrupt(\"return\", _context74.sent);\n              case 3:\n              case \"end\":\n                return _context74.stop();\n            }\n          }, _callee74, this);\n        }));\n      }\n    };\n    this.oidc = {\n      createConnection: function createConnection(data) {\n        return __awaiter$1(_this11, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee75() {\n          return _regeneratorRuntime().wrap(function _callee75$(_context75) {\n            while (1) switch (_context75.prev = _context75.next) {\n              case 0:\n                _context75.next = 2;\n                return this._networkClient.fetchSDK({\n                  url: '/b2b/sso/oidc',\n                  method: 'POST',\n                  body: data,\n                  errorMessage: 'Failed to create OIDC Connection.'\n                });\n              case 2:\n                return _context75.abrupt(\"return\", _context75.sent);\n              case 3:\n              case \"end\":\n                return _context75.stop();\n            }\n          }, _callee75, this);\n        }));\n      },\n      updateConnection: function updateConnection(data) {\n        return __awaiter$1(_this11, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee76() {\n          return _regeneratorRuntime().wrap(function _callee76$(_context76) {\n            while (1) switch (_context76.prev = _context76.next) {\n              case 0:\n                _context76.next = 2;\n                return this._networkClient.fetchSDK({\n                  url: \"/b2b/sso/oidc/\".concat(data.connection_id),\n                  method: 'PUT',\n                  body: data,\n                  errorMessage: 'Failed to update OIDC Connection.'\n                });\n              case 2:\n                return _context76.abrupt(\"return\", _context76.sent);\n              case 3:\n              case \"end\":\n                return _context76.stop();\n            }\n          }, _callee76, this);\n        }));\n      }\n    };\n  }\n  _createClass(HeadlessB2BSSOClient, [{\n    key: \"authenticate\",\n    value: function authenticate(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee77() {\n        var keyPair, _yield$this$dfpProtec21, dfp_telemetry_id, captcha_token, resp;\n        return _regeneratorRuntime().wrap(function _callee77$(_context77) {\n          while (1) switch (_context77.prev = _context77.next) {\n            case 0:\n              validate('stytch.sso.authenticate').isString('sso_token', options.sso_token).isNumber('session_duration_minutes', options.session_duration_minutes).isOptionalString('locale', options.locale);\n              _context77.next = 3;\n              return this._pkceManager.getPKPair();\n            case 3:\n              keyPair = _context77.sent;\n              if (!keyPair) {\n                logger.warn('No code verifier found in local storage for SSO flow.\\n' + 'Consider using stytch.sso.start() to add PKCE to your SSO flows for added security.\\n' + 'See https://stytch.com/docs/oauth#guides_pkce for more information.');\n              }\n              _context77.next = 7;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 7:\n              _yield$this$dfpProtec21 = _context77.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec21.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec21.captcha_token;\n              _context77.t0 = this._networkClient;\n              _context77.t1 = Object;\n              _context77.t2 = Object.assign({\n                pkce_code_verifier: keyPair === null || keyPair === void 0 ? void 0 : keyPair.code_verifier\n              }, options);\n              _context77.t3 = dfp_telemetry_id;\n              _context77.t4 = captcha_token;\n              _context77.next = 17;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 17:\n              _context77.t5 = _context77.sent;\n              if (_context77.t5) {\n                _context77.next = 20;\n                break;\n              }\n              _context77.t5 = undefined;\n            case 20:\n              _context77.t6 = _context77.t5;\n              _context77.t7 = {\n                dfp_telemetry_id: _context77.t3,\n                captcha_token: _context77.t4,\n                intermediate_session_token: _context77.t6\n              };\n              _context77.t8 = _context77.t1.assign.call(_context77.t1, _context77.t2, _context77.t7);\n              _context77.t9 = this.dfpProtectedAuth.retryWithCaptchaAndDFP;\n              _context77.t10 = {\n                url: '/b2b/sso/authenticate',\n                method: 'POST',\n                body: _context77.t8,\n                errorMessage: 'Failed to authenticate token',\n                retryCallback: _context77.t9\n              };\n              _context77.next = 27;\n              return _context77.t0.retriableFetchSDK.call(_context77.t0, _context77.t10);\n            case 27:\n              resp = _context77.sent;\n              this._pkceManager.clearPKPair();\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context77.abrupt(\"return\", resp);\n            case 31:\n            case \"end\":\n              return _context77.stop();\n          }\n        }, _callee77, this);\n      }));\n    }\n  }, {\n    key: \"getBaseApiUrl\",\n    value: function getBaseApiUrl() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee78() {\n        return _regeneratorRuntime().wrap(function _callee78$(_context78) {\n          while (1) switch (_context78.prev = _context78.next) {\n            case 0:\n              if (!isTestPublicToken(this._config.publicToken)) {\n                _context78.next = 2;\n                break;\n              }\n              return _context78.abrupt(\"return\", this._config.testAPIURL);\n            case 2:\n              return _context78.abrupt(\"return\", this._config.liveAPIURL);\n            case 3:\n            case \"end\":\n              return _context78.stop();\n          }\n        }, _callee78, this);\n      }));\n    }\n  }, {\n    key: \"start\",\n    value: function start(_ref4) {\n      var connection_id = _ref4.connection_id,\n        login_redirect_url = _ref4.login_redirect_url,\n        signup_redirect_url = _ref4.signup_redirect_url;\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee79() {\n        var _yield$this$_dynamicC3, pkceRequiredForSso, baseURL, startUrl, keyPair;\n        return _regeneratorRuntime().wrap(function _callee79$(_context79) {\n          while (1) switch (_context79.prev = _context79.next) {\n            case 0:\n              _context79.next = 2;\n              return this._dynamicConfig;\n            case 2:\n              _yield$this$_dynamicC3 = _context79.sent;\n              pkceRequiredForSso = _yield$this$_dynamicC3.pkceRequiredForSso;\n              _context79.next = 6;\n              return this.getBaseApiUrl();\n            case 6:\n              baseURL = _context79.sent;\n              startUrl = new URL(\"\".concat(baseURL, \"/v1/public/sso/start\"));\n              startUrl.searchParams.set('public_token', this._config.publicToken);\n              startUrl.searchParams.set('connection_id', connection_id);\n              if (!pkceRequiredForSso) {\n                _context79.next = 17;\n                break;\n              }\n              _context79.next = 13;\n              return this._pkceManager.startPKCETransaction();\n            case 13:\n              keyPair = _context79.sent;\n              startUrl.searchParams.set('pkce_code_challenge', keyPair.code_challenge);\n              _context79.next = 18;\n              break;\n            case 17:\n              this._pkceManager.clearPKPair();\n            case 18:\n              login_redirect_url && startUrl.searchParams.set('login_redirect_url', login_redirect_url);\n              signup_redirect_url && startUrl.searchParams.set('signup_redirect_url', signup_redirect_url);\n              window.location.href = startUrl.toString();\n            case 21:\n            case \"end\":\n              return _context79.stop();\n          }\n        }, _callee79, this);\n      }));\n    }\n  }, {\n    key: \"getConnections\",\n    value: function getConnections() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee80() {\n        return _regeneratorRuntime().wrap(function _callee80$(_context80) {\n          while (1) switch (_context80.prev = _context80.next) {\n            case 0:\n              _context80.next = 2;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/sso',\n                method: 'GET',\n                errorMessage: 'Failed to get SSO Connections.'\n              });\n            case 2:\n              return _context80.abrupt(\"return\", _context80.sent);\n            case 3:\n            case \"end\":\n              return _context80.stop();\n          }\n        }, _callee80, this);\n      }));\n    }\n  }, {\n    key: \"deleteConnection\",\n    value: function deleteConnection(connectionId) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee81() {\n        return _regeneratorRuntime().wrap(function _callee81$(_context81) {\n          while (1) switch (_context81.prev = _context81.next) {\n            case 0:\n              return _context81.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/sso/\".concat(connectionId),\n                method: 'DELETE',\n                errorMessage: 'Failed to delete SSO Connection.'\n              }));\n            case 1:\n            case \"end\":\n              return _context81.stop();\n          }\n        }, _callee81, this);\n      }));\n    }\n  }]);\n  return HeadlessB2BSSOClient;\n}();\nvar HeadlessB2BSCIMClient = /*#__PURE__*/function () {\n  function HeadlessB2BSCIMClient(_networkClient, _subscriptionService) {\n    _classCallCheck(this, HeadlessB2BSCIMClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n  }\n  _createClass(HeadlessB2BSCIMClient, [{\n    key: \"createConnection\",\n    value: function createConnection(data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee82() {\n        return _regeneratorRuntime().wrap(function _callee82$(_context82) {\n          while (1) switch (_context82.prev = _context82.next) {\n            case 0:\n              validate('stytch.scim.createConnection').isOptionalString('display_name', data.display_name).isOptionalString('identity_provider', data.identity_provider);\n              _context82.next = 3;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/scim',\n                method: 'POST',\n                body: data,\n                errorMessage: 'Failed to create SCIM Connection.'\n              });\n            case 3:\n              return _context82.abrupt(\"return\", _context82.sent);\n            case 4:\n            case \"end\":\n              return _context82.stop();\n          }\n        }, _callee82, this);\n      }));\n    }\n  }, {\n    key: \"updateConnection\",\n    value: function updateConnection(data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee83() {\n        return _regeneratorRuntime().wrap(function _callee83$(_context83) {\n          while (1) switch (_context83.prev = _context83.next) {\n            case 0:\n              validate('stytch.scim.updateConnection').isString('connection_id', data.connection_id).isOptionalString('display_name', data.display_name).isOptionalString('identity_provider', data.identity_provider);\n              _context83.next = 3;\n              return this._networkClient.fetchSDK({\n                url: \"/b2b/scim/\".concat(data.connection_id),\n                method: 'PUT',\n                body: data,\n                errorMessage: 'Failed to update SCIM Connection.'\n              });\n            case 3:\n              return _context83.abrupt(\"return\", _context83.sent);\n            case 4:\n            case \"end\":\n              return _context83.stop();\n          }\n        }, _callee83, this);\n      }));\n    }\n  }, {\n    key: \"deleteConnection\",\n    value: function deleteConnection(connectionId) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee84() {\n        return _regeneratorRuntime().wrap(function _callee84$(_context84) {\n          while (1) switch (_context84.prev = _context84.next) {\n            case 0:\n              validate('stytch.scim.deleteConnection').isString('connection_id', connectionId);\n              _context84.next = 3;\n              return this._networkClient.fetchSDK({\n                url: \"/b2b/scim/\".concat(connectionId),\n                method: 'DELETE',\n                errorMessage: 'Failed to delete SCIM Connection.'\n              });\n            case 3:\n              return _context84.abrupt(\"return\", _context84.sent);\n            case 4:\n            case \"end\":\n              return _context84.stop();\n          }\n        }, _callee84, this);\n      }));\n    }\n  }, {\n    key: \"getConnection\",\n    value: function getConnection() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee85() {\n        return _regeneratorRuntime().wrap(function _callee85$(_context85) {\n          while (1) switch (_context85.prev = _context85.next) {\n            case 0:\n              _context85.next = 2;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/scim',\n                method: 'GET',\n                errorMessage: 'Failed to get SCIM Connection.'\n              });\n            case 2:\n              return _context85.abrupt(\"return\", _context85.sent);\n            case 3:\n            case \"end\":\n              return _context85.stop();\n          }\n        }, _callee85, this);\n      }));\n    }\n  }, {\n    key: \"getConnectionGroups\",\n    value: function getConnectionGroups(data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee86() {\n        return _regeneratorRuntime().wrap(function _callee86$(_context86) {\n          while (1) switch (_context86.prev = _context86.next) {\n            case 0:\n              validate('stytch.scim.getConnectionGroups').isOptionalNumber('limit', data.limit).isOptionalString('cursor', data.cursor);\n              _context86.next = 3;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/scim/groups',\n                method: 'POST',\n                body: data,\n                errorMessage: 'Failed to get SCIM Connection groups.'\n              });\n            case 3:\n              return _context86.abrupt(\"return\", _context86.sent);\n            case 4:\n            case \"end\":\n              return _context86.stop();\n          }\n        }, _callee86, this);\n      }));\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(connectionId) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee87() {\n        return _regeneratorRuntime().wrap(function _callee87$(_context87) {\n          while (1) switch (_context87.prev = _context87.next) {\n            case 0:\n              validate('stytch.scim.rotateStart').isString('connectionId', connectionId);\n              _context87.next = 3;\n              return this._networkClient.fetchSDK({\n                url: \"/b2b/scim/rotate/start\",\n                method: 'POST',\n                errorMessage: 'Failed to start SCIM token rotation.'\n              });\n            case 3:\n              return _context87.abrupt(\"return\", _context87.sent);\n            case 4:\n            case \"end\":\n              return _context87.stop();\n          }\n        }, _callee87, this);\n      }));\n    }\n  }, {\n    key: \"rotateComplete\",\n    value: function rotateComplete(connectionId) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee88() {\n        return _regeneratorRuntime().wrap(function _callee88$(_context88) {\n          while (1) switch (_context88.prev = _context88.next) {\n            case 0:\n              validate('stytch.scim.rotateComplete').isString('connectionId', connectionId);\n              _context88.next = 3;\n              return this._networkClient.fetchSDK({\n                url: \"/b2b/scim/rotate/complete\",\n                method: 'POST',\n                errorMessage: 'Failed to complete SCIM token rotation.'\n              });\n            case 3:\n              return _context88.abrupt(\"return\", _context88.sent);\n            case 4:\n            case \"end\":\n              return _context88.stop();\n          }\n        }, _callee88, this);\n      }));\n    }\n  }, {\n    key: \"rotateCancel\",\n    value: function rotateCancel(connectionId) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee89() {\n        return _regeneratorRuntime().wrap(function _callee89$(_context89) {\n          while (1) switch (_context89.prev = _context89.next) {\n            case 0:\n              validate('stytch.scim.rotateCancel').isString('connectionId', connectionId);\n              _context89.next = 3;\n              return this._networkClient.fetchSDK({\n                url: \"/b2b/scim/rotate/cancel\",\n                method: 'POST',\n                errorMessage: 'Failed to cancel SCIM token rotation.'\n              });\n            case 3:\n              return _context89.abrupt(\"return\", _context89.sent);\n            case 4:\n            case \"end\":\n              return _context89.stop();\n          }\n        }, _callee89, this);\n      }));\n    }\n  }]);\n  return HeadlessB2BSCIMClient;\n}();\nvar HeadlessB2BOrganizationClient = /*#__PURE__*/_createClass(function HeadlessB2BOrganizationClient(_networkClient, _subscriptionService) {\n  var _this12 = this;\n  _classCallCheck(this, HeadlessB2BOrganizationClient);\n  this._networkClient = _networkClient;\n  this._subscriptionService = _subscriptionService;\n  this.get = function () {\n    return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee90() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee90$(_context90) {\n        while (1) switch (_context90.prev = _context90.next) {\n          case 0:\n            _context90.next = 2;\n            return this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/me\",\n              errorMessage: 'Failed to retrieve organization info.',\n              method: 'GET'\n            });\n          case 2:\n            resp = _context90.sent;\n            this._subscriptionService.updateOrganization(resp.organization);\n            return _context90.abrupt(\"return\", resp.organization);\n          case 5:\n          case \"end\":\n            return _context90.stop();\n        }\n      }, _callee90, this);\n    }));\n  };\n  this.getSync = function () {\n    return _this12._subscriptionService.getOrganization();\n  };\n  this.getInfo = function () {\n    return {\n      organization: _this12.getSync(),\n      fromCache: _this12._subscriptionService.getFromCache()\n    };\n  };\n  this.onChange = function (callback) {\n    return _this12._subscriptionService.subscribeToState(function (state) {\n      var _a;\n      return callback((_a = state === null || state === void 0 ? void 0 : state.organization) !== null && _a !== void 0 ? _a : null);\n    });\n  };\n  this.update = function (data) {\n    return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee91() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee91$(_context91) {\n        while (1) switch (_context91.prev = _context91.next) {\n          case 0:\n            _context91.next = 2;\n            return this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/me\",\n              errorMessage: 'Failed to update organization info.',\n              method: 'PUT',\n              body: data\n            });\n          case 2:\n            resp = _context91.sent;\n            return _context91.abrupt(\"return\", resp);\n          case 4:\n          case \"end\":\n            return _context91.stop();\n        }\n      }, _callee91, this);\n    }));\n  };\n  this[\"delete\"] = function () {\n    return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee92() {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee92$(_context92) {\n        while (1) switch (_context92.prev = _context92.next) {\n          case 0:\n            _context92.next = 2;\n            return this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/me\",\n              errorMessage: 'Failed to delete organization.',\n              method: 'DELETE'\n            });\n          case 2:\n            resp = _context92.sent;\n            this._subscriptionService.destroyState();\n            return _context92.abrupt(\"return\", resp);\n          case 5:\n          case \"end\":\n            return _context92.stop();\n        }\n      }, _callee92, this);\n    }));\n  };\n  this.getBySlug = function (data) {\n    return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee93() {\n      return _regeneratorRuntime().wrap(function _callee93$(_context93) {\n        while (1) switch (_context93.prev = _context93.next) {\n          case 0:\n            validate('stytch.organization.getBySlug').isString('organization_slug', data.organization_slug);\n            return _context93.abrupt(\"return\", this._networkClient.fetchSDK({\n              url: \"/b2b/organizations/search\",\n              errorMessage: 'Failed to get organization by slug.',\n              method: 'POST',\n              body: data\n            }));\n          case 2:\n          case \"end\":\n            return _context93.stop();\n        }\n      }, _callee93, this);\n    }));\n  };\n  this.members = {\n    create: function create(data) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee94() {\n        return _regeneratorRuntime().wrap(function _callee94$(_context94) {\n          while (1) switch (_context94.prev = _context94.next) {\n            case 0:\n              return _context94.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members\",\n                errorMessage: 'Failed to create member.',\n                method: 'POST',\n                body: data\n              }));\n            case 1:\n            case \"end\":\n              return _context94.stop();\n          }\n        }, _callee94, this);\n      }));\n    },\n    search: function search(data) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee95() {\n        return _regeneratorRuntime().wrap(function _callee95$(_context95) {\n          while (1) switch (_context95.prev = _context95.next) {\n            case 0:\n              return _context95.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/me/members/search\",\n                errorMessage: 'Failed to search members.',\n                method: 'POST',\n                body: data\n              }));\n            case 1:\n            case \"end\":\n              return _context95.stop();\n          }\n        }, _callee95, this);\n      }));\n    },\n    update: function update(data) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee96() {\n        return _regeneratorRuntime().wrap(function _callee96$(_context96) {\n          while (1) switch (_context96.prev = _context96.next) {\n            case 0:\n              return _context96.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members/\".concat(data.member_id),\n                errorMessage: 'Failed to update member.',\n                method: 'PUT',\n                body: data\n              }));\n            case 1:\n            case \"end\":\n              return _context96.stop();\n          }\n        }, _callee96, this);\n      }));\n    },\n    deletePassword: function deletePassword(passwordId) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee97() {\n        return _regeneratorRuntime().wrap(function _callee97$(_context97) {\n          while (1) switch (_context97.prev = _context97.next) {\n            case 0:\n              return _context97.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members/passwords/\".concat(passwordId),\n                errorMessage: 'Failed to delete member password.',\n                method: 'DELETE'\n              }));\n            case 1:\n            case \"end\":\n              return _context97.stop();\n          }\n        }, _callee97, this);\n      }));\n    },\n    deleteMFAPhoneNumber: function deleteMFAPhoneNumber(memberId) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee98() {\n        return _regeneratorRuntime().wrap(function _callee98$(_context98) {\n          while (1) switch (_context98.prev = _context98.next) {\n            case 0:\n              return _context98.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members/mfa_phone_numbers/\".concat(memberId),\n                errorMessage: 'Failed to delete member MFA Phone number.',\n                method: 'DELETE'\n              }));\n            case 1:\n            case \"end\":\n              return _context98.stop();\n          }\n        }, _callee98, this);\n      }));\n    },\n    deleteMFATOTP: function deleteMFATOTP(memberId) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee99() {\n        return _regeneratorRuntime().wrap(function _callee99$(_context99) {\n          while (1) switch (_context99.prev = _context99.next) {\n            case 0:\n              return _context99.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members/totp/\".concat(memberId),\n                errorMessage: 'Failed to delete member totp.',\n                method: 'DELETE'\n              }));\n            case 1:\n            case \"end\":\n              return _context99.stop();\n          }\n        }, _callee99, this);\n      }));\n    },\n    \"delete\": function _delete(memberId) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee100() {\n        return _regeneratorRuntime().wrap(function _callee100$(_context100) {\n          while (1) switch (_context100.prev = _context100.next) {\n            case 0:\n              return _context100.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members/\".concat(memberId),\n                errorMessage: 'Failed to delete member.',\n                method: 'DELETE'\n              }));\n            case 1:\n            case \"end\":\n              return _context100.stop();\n          }\n        }, _callee100, this);\n      }));\n    },\n    reactivate: function reactivate(memberId) {\n      return __awaiter$1(_this12, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee101() {\n        return _regeneratorRuntime().wrap(function _callee101$(_context101) {\n          while (1) switch (_context101.prev = _context101.next) {\n            case 0:\n              return _context101.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: \"/b2b/organizations/members/\".concat(memberId, \"/reactivate\"),\n                errorMessage: 'Failed to reactivate member.',\n                method: 'PUT'\n              }));\n            case 1:\n            case \"end\":\n              return _context101.stop();\n          }\n        }, _callee101, this);\n      }));\n    }\n  };\n});\nvar HeadlessB2BOAuthClient$1 = /*#__PURE__*/function () {\n  function HeadlessB2BOAuthClient(_networkClient, _subscriptionService, _pkceManager, _dynamicConfig, _config) {\n    var _this13 = this;\n    var dfpProtectedAuth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : DisabledDFPProtectedAuthProvider();\n    _classCallCheck(this, HeadlessB2BOAuthClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this._pkceManager = _pkceManager;\n    this._dynamicConfig = _dynamicConfig;\n    this._config = _config;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n    this.discovery = {\n      authenticate: function authenticate(data) {\n        return __awaiter$1(_this13, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee102() {\n          var pkPair, _yield$this$dfpProtec22, dfp_telemetry_id, captcha_token, requestBody, resp;\n          return _regeneratorRuntime().wrap(function _callee102$(_context102) {\n            while (1) switch (_context102.prev = _context102.next) {\n              case 0:\n                validate('stytch.oauth.discovery.authenticate').isString('discovery_oauth_token', data.discovery_oauth_token);\n                _context102.next = 3;\n                return this._pkceManager.getPKPair();\n              case 3:\n                pkPair = _context102.sent;\n                _context102.next = 6;\n                return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n              case 6:\n                _yield$this$dfpProtec22 = _context102.sent;\n                dfp_telemetry_id = _yield$this$dfpProtec22.dfp_telemetry_id;\n                captcha_token = _yield$this$dfpProtec22.captcha_token;\n                requestBody = Object.assign({\n                  pkce_code_verifier: pkPair === null || pkPair === void 0 ? void 0 : pkPair.code_verifier,\n                  dfp_telemetry_id: dfp_telemetry_id,\n                  captcha_token: captcha_token\n                }, data);\n                _context102.next = 12;\n                return this._networkClient.retriableFetchSDK({\n                  url: '/b2b/oauth/discovery/authenticate',\n                  body: requestBody,\n                  errorMessage: 'Failed to authenticate discovery oauth token',\n                  method: 'POST',\n                  retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n                });\n              case 12:\n                resp = _context102.sent;\n                this._pkceManager.clearPKPair();\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n                return _context102.abrupt(\"return\", resp);\n              case 16:\n              case \"end\":\n                return _context102.stop();\n            }\n          }, _callee102, this);\n        }));\n      }\n    };\n    this.google = {\n      start: this.startOAuthFlow(B2BOAuthProviders.Google),\n      discovery: {\n        start: this.startDiscoveryOAuthFlow(B2BOAuthProviders.Google)\n      }\n    };\n    this.microsoft = {\n      start: this.startOAuthFlow(B2BOAuthProviders.Microsoft),\n      discovery: {\n        start: this.startDiscoveryOAuthFlow(B2BOAuthProviders.Microsoft)\n      }\n    };\n  }\n  _createClass(HeadlessB2BOAuthClient, [{\n    key: \"authenticate\",\n    value: function authenticate(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee103() {\n        var keyPair, _yield$this$dfpProtec23, dfp_telemetry_id, captcha_token, resp;\n        return _regeneratorRuntime().wrap(function _callee103$(_context103) {\n          while (1) switch (_context103.prev = _context103.next) {\n            case 0:\n              validate('stytch.oauth.authenticate').isString('oauth_token', options.oauth_token).isNumber('session_duration_minutes', options.session_duration_minutes).isOptionalString('locale', options.locale);\n              _context103.next = 3;\n              return this._pkceManager.getPKPair();\n            case 3:\n              keyPair = _context103.sent;\n              if (!keyPair) {\n                logger.warn('No code verifier found in local storage for OAuth flow.\\n' + 'Consider using stytch.oauth.$provider.start() to add PKCE to your OAuth flows for added security.\\n' + 'See https://stytch.com/docs/oauth#guides_pkce for more information.');\n              }\n              _context103.next = 7;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 7:\n              _yield$this$dfpProtec23 = _context103.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec23.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec23.captcha_token;\n              _context103.t0 = this._networkClient;\n              _context103.t1 = Object;\n              _context103.t2 = keyPair === null || keyPair === void 0 ? void 0 : keyPair.code_verifier;\n              _context103.t3 = dfp_telemetry_id;\n              _context103.t4 = captcha_token;\n              _context103.next = 17;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 17:\n              _context103.t5 = _context103.sent;\n              if (_context103.t5) {\n                _context103.next = 20;\n                break;\n              }\n              _context103.t5 = undefined;\n            case 20:\n              _context103.t6 = _context103.t5;\n              _context103.t7 = {\n                pkce_code_verifier: _context103.t2,\n                dfp_telemetry_id: _context103.t3,\n                captcha_token: _context103.t4,\n                intermediate_session_token: _context103.t6\n              };\n              _context103.t8 = options;\n              _context103.t9 = _context103.t1.assign.call(_context103.t1, _context103.t7, _context103.t8);\n              _context103.t10 = this.dfpProtectedAuth.retryWithCaptchaAndDFP;\n              _context103.t11 = {\n                url: '/b2b/oauth/authenticate',\n                method: 'POST',\n                body: _context103.t9,\n                errorMessage: 'Failed to authenticate token',\n                retryCallback: _context103.t10\n              };\n              _context103.next = 28;\n              return _context103.t0.retriableFetchSDK.call(_context103.t0, _context103.t11);\n            case 28:\n              resp = _context103.sent;\n              this._pkceManager.clearPKPair();\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context103.abrupt(\"return\", resp);\n            case 32:\n            case \"end\":\n              return _context103.stop();\n          }\n        }, _callee103, this);\n      }));\n    }\n  }, {\n    key: \"getBaseApiUrl\",\n    value: function getBaseApiUrl() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee104() {\n        var _yield$this$_dynamicC4, cnameDomain;\n        return _regeneratorRuntime().wrap(function _callee104$(_context104) {\n          while (1) switch (_context104.prev = _context104.next) {\n            case 0:\n              _context104.next = 2;\n              return this._dynamicConfig;\n            case 2:\n              _yield$this$_dynamicC4 = _context104.sent;\n              cnameDomain = _yield$this$_dynamicC4.cnameDomain;\n              if (!cnameDomain) {\n                _context104.next = 6;\n                break;\n              }\n              return _context104.abrupt(\"return\", \"https://\".concat(cnameDomain));\n            case 6:\n              if (!isTestPublicToken(this._config.publicToken)) {\n                _context104.next = 8;\n                break;\n              }\n              return _context104.abrupt(\"return\", this._config.testAPIURL);\n            case 8:\n              return _context104.abrupt(\"return\", this._config.liveAPIURL);\n            case 9:\n            case \"end\":\n              return _context104.stop();\n          }\n        }, _callee104, this);\n      }));\n    }\n  }, {\n    key: \"startOAuthFlow\",\n    value: function startOAuthFlow(providerType) {\n      var _this14 = this;\n      return function (_ref5) {\n        var organization_id = _ref5.organization_id,\n          organization_slug = _ref5.organization_slug,\n          login_redirect_url = _ref5.login_redirect_url,\n          signup_redirect_url = _ref5.signup_redirect_url,\n          custom_scopes = _ref5.custom_scopes,\n          provider_params = _ref5.provider_params;\n        return __awaiter$1(_this14, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee105() {\n          var _yield$this$_dynamicC5, pkceRequiredForOAuth, baseURL, startUrl, key, keyPair;\n          return _regeneratorRuntime().wrap(function _callee105$(_context105) {\n            while (1) switch (_context105.prev = _context105.next) {\n              case 0:\n                _context105.next = 2;\n                return this._dynamicConfig;\n              case 2:\n                _yield$this$_dynamicC5 = _context105.sent;\n                pkceRequiredForOAuth = _yield$this$_dynamicC5.pkceRequiredForOAuth;\n                _context105.next = 6;\n                return this.getBaseApiUrl();\n              case 6:\n                baseURL = _context105.sent;\n                startUrl = new URL(\"\".concat(baseURL, \"/v1/b2b/public/oauth/\").concat(providerType, \"/start\"));\n                startUrl.searchParams.set('public_token', this._config.publicToken);\n                if (organization_id && organization_id != '') {\n                  startUrl.searchParams.set('organization_id', organization_id);\n                }\n                if (organization_slug && organization_slug != '') {\n                  startUrl.searchParams.set('slug', organization_slug);\n                }\n                if (custom_scopes) {\n                  validate('startOAuthFlow').isStringArray('custom_scopes', custom_scopes);\n                  startUrl.searchParams.set('custom_scopes', custom_scopes.join(' '));\n                }\n                if (provider_params) {\n                  validate('startOAuthFlow').isOptionalObject('provider_params', provider_params);\n                  for (key in provider_params) {\n                    startUrl.searchParams.set('provider_' + key, provider_params[key]);\n                  }\n                }\n                if (!pkceRequiredForOAuth) {\n                  _context105.next = 20;\n                  break;\n                }\n                _context105.next = 16;\n                return this._pkceManager.startPKCETransaction();\n              case 16:\n                keyPair = _context105.sent;\n                startUrl.searchParams.set('pkce_code_challenge', keyPair.code_challenge);\n                _context105.next = 21;\n                break;\n              case 20:\n                this._pkceManager.clearPKPair();\n              case 21:\n                login_redirect_url && startUrl.searchParams.set('login_redirect_url', login_redirect_url);\n                signup_redirect_url && startUrl.searchParams.set('signup_redirect_url', signup_redirect_url);\n                window.location.href = startUrl.toString();\n              case 24:\n              case \"end\":\n                return _context105.stop();\n            }\n          }, _callee105, this);\n        }));\n      };\n    }\n  }, {\n    key: \"startDiscoveryOAuthFlow\",\n    value: function startDiscoveryOAuthFlow(providerType) {\n      var _this15 = this;\n      return function (_ref6) {\n        var discovery_redirect_url = _ref6.discovery_redirect_url,\n          custom_scopes = _ref6.custom_scopes,\n          provider_params = _ref6.provider_params;\n        return __awaiter$1(_this15, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee106() {\n          var _yield$this$_dynamicC6, pkceRequiredForOAuth, baseURL, startUrl, key, keyPair;\n          return _regeneratorRuntime().wrap(function _callee106$(_context106) {\n            while (1) switch (_context106.prev = _context106.next) {\n              case 0:\n                _context106.next = 2;\n                return this._dynamicConfig;\n              case 2:\n                _yield$this$_dynamicC6 = _context106.sent;\n                pkceRequiredForOAuth = _yield$this$_dynamicC6.pkceRequiredForOAuth;\n                _context106.next = 6;\n                return this.getBaseApiUrl();\n              case 6:\n                baseURL = _context106.sent;\n                startUrl = new URL(\"\".concat(baseURL, \"/v1/b2b/public/oauth/\").concat(providerType, \"/discovery/start\"));\n                startUrl.searchParams.set('public_token', this._config.publicToken);\n                if (custom_scopes) {\n                  validate('startOAuthFlow').isStringArray('custom_scopes', custom_scopes);\n                  startUrl.searchParams.set('custom_scopes', custom_scopes.join(' '));\n                }\n                if (provider_params) {\n                  validate('startOAuthFlow').isOptionalObject('provider_params', provider_params);\n                  for (key in provider_params) {\n                    startUrl.searchParams.set('provider_' + key, provider_params[key]);\n                  }\n                }\n                if (!pkceRequiredForOAuth) {\n                  _context106.next = 18;\n                  break;\n                }\n                _context106.next = 14;\n                return this._pkceManager.startPKCETransaction();\n              case 14:\n                keyPair = _context106.sent;\n                startUrl.searchParams.set('pkce_code_challenge', keyPair.code_challenge);\n                _context106.next = 19;\n                break;\n              case 18:\n                this._pkceManager.clearPKPair();\n              case 19:\n                discovery_redirect_url && startUrl.searchParams.set('discovery_redirect_url', discovery_redirect_url);\n                window.location.href = startUrl.toString();\n              case 21:\n              case \"end\":\n                return _context106.stop();\n            }\n          }, _callee106, this);\n        }));\n      };\n    }\n  }]);\n  return HeadlessB2BOAuthClient;\n}();\nvar HeadlessB2BSessionClient = /*#__PURE__*/function () {\n  function HeadlessB2BSessionClient(_networkClient, _subscriptionService) {\n    var _this16 = this;\n    _classCallCheck(this, HeadlessB2BSessionClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this.getSync = function () {\n      return _this16._subscriptionService.getSession();\n    };\n    this.getInfo = function () {\n      return {\n        session: _this16.getSync(),\n        fromCache: _this16._subscriptionService.getFromCache()\n      };\n    };\n    this.onChange = function (callback) {\n      return _this16._subscriptionService.subscribeToState(function (state) {\n        var _a;\n        return callback((_a = state === null || state === void 0 ? void 0 : state.session) !== null && _a !== void 0 ? _a : null);\n      });\n    };\n    this.revoke = function (options) {\n      return __awaiter$1(_this16, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee107() {\n        var resp;\n        return _regeneratorRuntime().wrap(function _callee107$(_context107) {\n          while (1) switch (_context107.prev = _context107.next) {\n            case 0:\n              _context107.prev = 0;\n              _context107.next = 3;\n              return this._networkClient.fetchSDK({\n                url: \"/b2b/sessions/revoke\",\n                errorMessage: 'Error revoking session',\n                method: 'POST'\n              });\n            case 3:\n              resp = _context107.sent;\n              this._subscriptionService.destroyState();\n              return _context107.abrupt(\"return\", resp);\n            case 8:\n              _context107.prev = 8;\n              _context107.t0 = _context107[\"catch\"](0);\n              if (!!(options === null || options === void 0 ? void 0 : options.forceClear)) {\n                this._subscriptionService.destroyState();\n              } else if (UNRECOVERABLE_ERROR_TYPES.includes(_context107.t0.error_type)) {\n                this._subscriptionService.destroyState();\n              }\n              throw _context107.t0;\n            case 12:\n            case \"end\":\n              return _context107.stop();\n          }\n        }, _callee107, this, [[0, 8]]);\n      }));\n    };\n    this.authenticate = function (options) {\n      return __awaiter$1(_this16, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee108() {\n        var _this17 = this;\n        var initialSession, isSessionStale, requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee108$(_context108) {\n          while (1) switch (_context108.prev = _context108.next) {\n            case 0:\n              initialSession = this._subscriptionService.getSession();\n              isSessionStale = function isSessionStale() {\n                var _a;\n                return (initialSession === null || initialSession === void 0 ? void 0 : initialSession.member_session_id) !== ((_a = _this17._subscriptionService.getSession()) === null || _a === void 0 ? void 0 : _a.member_session_id);\n              };\n              _context108.prev = 2;\n              requestBody = {\n                session_duration_minutes: options === null || options === void 0 ? void 0 : options.session_duration_minutes\n              };\n              _context108.next = 6;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/sessions/authenticate',\n                body: requestBody,\n                errorMessage: 'Error authenticating session',\n                method: 'POST'\n              });\n            case 6:\n              resp = _context108.sent;\n              if (!isSessionStale()) {\n                _context108.next = 9;\n                break;\n              }\n              return _context108.abrupt(\"return\", this.authenticate(options));\n            case 9:\n              this._subscriptionService.updateStateAndTokens({\n                state: {\n                  session: resp.member_session,\n                  member: resp.member,\n                  organization: resp.organization\n                },\n                session_token: resp.session_token,\n                session_jwt: resp.session_jwt,\n                intermediate_session_token: null\n              });\n              return _context108.abrupt(\"return\", resp);\n            case 13:\n              _context108.prev = 13;\n              _context108.t0 = _context108[\"catch\"](2);\n              if (!isSessionStale()) {\n                _context108.next = 17;\n                break;\n              }\n              return _context108.abrupt(\"return\", this.authenticate(options));\n            case 17:\n              if (UNRECOVERABLE_ERROR_TYPES.includes(_context108.t0.error_type)) {\n                this._subscriptionService.destroySession();\n              }\n              throw _context108.t0;\n            case 19:\n            case \"end\":\n              return _context108.stop();\n          }\n        }, _callee108, this, [[2, 13]]);\n      }));\n    };\n    this.exchange = function (data) {\n      return __awaiter$1(_this16, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee109() {\n        var resp;\n        return _regeneratorRuntime().wrap(function _callee109$(_context109) {\n          while (1) switch (_context109.prev = _context109.next) {\n            case 0:\n              validate('stytch.sessions.exchange').isString('organization_id', data.organization_id).isNumber('session_duration_minutes', data.session_duration_minutes).isOptionalString('locale', data.locale);\n              _context109.prev = 1;\n              _context109.next = 4;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/sessions/exchange',\n                body: data,\n                errorMessage: 'Failed to exchange session',\n                method: 'POST'\n              });\n            case 4:\n              resp = _context109.sent;\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context109.abrupt(\"return\", resp);\n            case 9:\n              _context109.prev = 9;\n              _context109.t0 = _context109[\"catch\"](1);\n              throw _context109.t0;\n            case 12:\n            case \"end\":\n              return _context109.stop();\n          }\n        }, _callee109, this, [[1, 9]]);\n      }));\n    };\n  }\n  _createClass(HeadlessB2BSessionClient, [{\n    key: \"getTokens\",\n    value: function getTokens() {\n      return this._subscriptionService.getTokens();\n    }\n  }, {\n    key: \"updateSession\",\n    value: function updateSession(tokens) {\n      var _a;\n      validate('stytch.sessions.updateSession').isString('session_token', tokens.session_token).isOptionalString('session_jwt', (_a = tokens.session_jwt) !== null && _a !== void 0 ? _a : undefined);\n      this._subscriptionService.updateTokens(tokens);\n    }\n  }]);\n  return HeadlessB2BSessionClient;\n}();\nvar HeadlessB2BDiscoveryClient = /*#__PURE__*/_createClass(function HeadlessB2BDiscoveryClient(_networkClient, _subscriptionService) {\n  var _this18 = this;\n  _classCallCheck(this, HeadlessB2BDiscoveryClient);\n  this._networkClient = _networkClient;\n  this._subscriptionService = _subscriptionService;\n  this.organizations = {\n    list: function list() {\n      return __awaiter$1(_this18, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee110() {\n        return _regeneratorRuntime().wrap(function _callee110$(_context110) {\n          while (1) switch (_context110.prev = _context110.next) {\n            case 0:\n              _context110.t0 = this._networkClient;\n              _context110.next = 3;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 3:\n              _context110.t1 = _context110.sent;\n              if (_context110.t1) {\n                _context110.next = 6;\n                break;\n              }\n              _context110.t1 = undefined;\n            case 6:\n              _context110.t2 = _context110.t1;\n              _context110.t3 = {\n                intermediate_session_token: _context110.t2\n              };\n              _context110.t4 = {\n                url: '/b2b/discovery/organizations',\n                body: _context110.t3,\n                errorMessage: 'Failed to retrieve discovered organizations',\n                method: 'POST'\n              };\n              return _context110.abrupt(\"return\", _context110.t0.fetchSDK.call(_context110.t0, _context110.t4));\n            case 10:\n            case \"end\":\n              return _context110.stop();\n          }\n        }, _callee110, this);\n      }));\n    },\n    create: function create(data) {\n      return __awaiter$1(_this18, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee111() {\n        var requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee111$(_context111) {\n          while (1) switch (_context111.prev = _context111.next) {\n            case 0:\n              validate('stytch.discovery.organizations.create').isNumber('session_duration_minutes', data.session_duration_minutes).isOptionalString('organization_name', data.organization_name).isOptionalString('organization_slug', data.organization_slug).isOptionalString('organization_logo_url', data.organization_logo_url).isOptionalString('sso_jit_provisioning', data.sso_jit_provisioning).isOptionalStringArray('email_allowed_domains', data.email_allowed_domains).isOptionalString('email_invites', data.email_invites).isOptionalString('auth_methods', data.auth_methods).isOptionalStringArray('allowed_auth_methods', data.allowed_auth_methods).isOptionalString('mfa_policy', data.mfa_policy);\n              _context111.t0 = Object;\n              _context111.t1 = Object.assign({}, data);\n              _context111.next = 5;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 5:\n              _context111.t2 = _context111.sent;\n              if (_context111.t2) {\n                _context111.next = 8;\n                break;\n              }\n              _context111.t2 = undefined;\n            case 8:\n              _context111.t3 = _context111.t2;\n              _context111.t4 = {\n                intermediate_session_token: _context111.t3\n              };\n              requestBody = _context111.t0.assign.call(_context111.t0, _context111.t1, _context111.t4);\n              _context111.next = 13;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/discovery/organizations/create',\n                body: requestBody,\n                errorMessage: 'Failed to create organization and member',\n                method: 'POST'\n              });\n            case 13:\n              resp = _context111.sent;\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context111.abrupt(\"return\", resp);\n            case 16:\n            case \"end\":\n              return _context111.stop();\n          }\n        }, _callee111, this);\n      }));\n    }\n  };\n  this.intermediateSessions = {\n    exchange: function exchange(data) {\n      return __awaiter$1(_this18, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee112() {\n        var requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee112$(_context112) {\n          while (1) switch (_context112.prev = _context112.next) {\n            case 0:\n              validate('stytch.discovery.intermediateSessions.exchange').isString('organization_id', data.organization_id).isNumber('session_duration_minutes', data.session_duration_minutes).isOptionalString('locale', data.locale);\n              _context112.t0 = Object;\n              _context112.t1 = Object.assign({}, data);\n              _context112.next = 5;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 5:\n              _context112.t2 = _context112.sent;\n              if (_context112.t2) {\n                _context112.next = 8;\n                break;\n              }\n              _context112.t2 = undefined;\n            case 8:\n              _context112.t3 = _context112.t2;\n              _context112.t4 = {\n                intermediate_session_token: _context112.t3\n              };\n              requestBody = _context112.t0.assign.call(_context112.t0, _context112.t1, _context112.t4);\n              _context112.next = 13;\n              return this._networkClient.fetchSDK({\n                url: '/b2b/discovery/intermediate_sessions/exchange',\n                body: requestBody,\n                errorMessage: 'Failed to exchange intermediate session',\n                method: 'POST'\n              });\n            case 13:\n              resp = _context112.sent;\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context112.abrupt(\"return\", resp);\n            case 16:\n            case \"end\":\n              return _context112.stop();\n          }\n        }, _callee112, this);\n      }));\n    }\n  };\n});\nvar DefaultDynamicConfig = Promise.resolve({\n  pkceRequiredForPasswordResets: false\n});\nvar HeadlessB2BPasswordsClient = /*#__PURE__*/function () {\n  function HeadlessB2BPasswordsClient(_networkClient, _subscriptionService, _pkceManager) {\n    var _config = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DefaultDynamicConfig;\n    var dfpProtectedAuth = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DisabledDFPProtectedAuthProvider();\n    _classCallCheck(this, HeadlessB2BPasswordsClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this._pkceManager = _pkceManager;\n    this._config = _config;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n  }\n  _createClass(HeadlessB2BPasswordsClient, [{\n    key: \"getCodeChallenge\",\n    value: function getCodeChallenge() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee113() {\n        var _yield$this$_config5, pkceRequiredForPasswordResets, keyPair;\n        return _regeneratorRuntime().wrap(function _callee113$(_context113) {\n          while (1) switch (_context113.prev = _context113.next) {\n            case 0:\n              _context113.next = 2;\n              return this._config;\n            case 2:\n              _yield$this$_config5 = _context113.sent;\n              pkceRequiredForPasswordResets = _yield$this$_config5.pkceRequiredForPasswordResets;\n              if (pkceRequiredForPasswordResets) {\n                _context113.next = 6;\n                break;\n              }\n              return _context113.abrupt(\"return\", undefined);\n            case 6:\n              _context113.next = 8;\n              return this._pkceManager.getPKPair();\n            case 8:\n              keyPair = _context113.sent;\n              if (!keyPair) {\n                _context113.next = 11;\n                break;\n              }\n              return _context113.abrupt(\"return\", keyPair.code_challenge);\n            case 11:\n              _context113.next = 13;\n              return this._pkceManager.startPKCETransaction();\n            case 13:\n              keyPair = _context113.sent;\n              return _context113.abrupt(\"return\", keyPair.code_challenge);\n            case 15:\n            case \"end\":\n              return _context113.stop();\n          }\n        }, _callee113, this);\n      }));\n    }\n  }, {\n    key: \"authenticate\",\n    value: function authenticate(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee114() {\n        var pkPair, code_verifier, _yield$this$dfpProtec24, dfp_telemetry_id, captcha_token, resp;\n        return _regeneratorRuntime().wrap(function _callee114$(_context114) {\n          while (1) switch (_context114.prev = _context114.next) {\n            case 0:\n              validate('stytch.passwords.authenticate').isString('org_id', options.organization_id).isString('password', options.password).isString('email_address', options.email_address).isNumber('session_duration_minutes', options.session_duration_minutes).isOptionalString('locale', options.locale);\n              _context114.next = 3;\n              return this._pkceManager.getPKPair();\n            case 3:\n              pkPair = _context114.sent;\n              code_verifier = pkPair === null || pkPair === void 0 ? void 0 : pkPair.code_verifier;\n              _context114.next = 7;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 7:\n              _yield$this$dfpProtec24 = _context114.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec24.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec24.captcha_token;\n              _context114.t0 = this._networkClient;\n              _context114.t1 = options.organization_id;\n              _context114.t2 = options.email_address;\n              _context114.t3 = options.password;\n              _context114.t4 = options.session_duration_minutes;\n              _context114.t5 = options.locale;\n              _context114.t6 = captcha_token;\n              _context114.t7 = dfp_telemetry_id;\n              _context114.t8 = code_verifier;\n              _context114.next = 21;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 21:\n              _context114.t9 = _context114.sent;\n              if (_context114.t9) {\n                _context114.next = 24;\n                break;\n              }\n              _context114.t9 = undefined;\n            case 24:\n              _context114.t10 = _context114.t9;\n              _context114.t11 = {\n                organization_id: _context114.t1,\n                email_address: _context114.t2,\n                password: _context114.t3,\n                session_duration_minutes: _context114.t4,\n                locale: _context114.t5,\n                captcha_token: _context114.t6,\n                dfp_telemetry_id: _context114.t7,\n                code_verifier: _context114.t8,\n                intermediate_session_token: _context114.t10\n              };\n              _context114.t12 = this.dfpProtectedAuth.retryWithCaptchaAndDFP;\n              _context114.t13 = {\n                url: '/b2b/passwords/authenticate',\n                method: 'POST',\n                errorMessage: 'Failed to authenticate password.',\n                body: _context114.t11,\n                retryCallback: _context114.t12\n              };\n              _context114.next = 30;\n              return _context114.t0.retriableFetchSDK.call(_context114.t0, _context114.t13);\n            case 30:\n              resp = _context114.sent;\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context114.abrupt(\"return\", resp);\n            case 33:\n            case \"end\":\n              return _context114.stop();\n          }\n        }, _callee114, this);\n      }));\n    }\n  }, {\n    key: \"resetByEmailStart\",\n    value: function resetByEmailStart(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee115() {\n        var code_challenge, _yield$this$dfpProtec25, dfp_telemetry_id, captcha_token;\n        return _regeneratorRuntime().wrap(function _callee115$(_context115) {\n          while (1) switch (_context115.prev = _context115.next) {\n            case 0:\n              validate('stytch.passwords.resetByEmailStart').isString('email', options.email_address).isOptionalString('login_redirect_url', options.login_redirect_url).isOptionalString('reset_password_redirect_url', options.reset_password_redirect_url).isOptionalString('reset_password_template_id', options.reset_password_template_id).isOptionalNumber('reset_password_expiration_minutes', options.reset_password_expiration_minutes);\n              _context115.next = 3;\n              return this.getCodeChallenge();\n            case 3:\n              code_challenge = _context115.sent;\n              _context115.next = 6;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 6:\n              _yield$this$dfpProtec25 = _context115.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec25.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec25.captcha_token;\n              return _context115.abrupt(\"return\", this._networkClient.retriableFetchSDK({\n                url: '/b2b/passwords/email/reset/start',\n                method: 'POST',\n                errorMessage: 'Failed to start password reset flow.',\n                body: {\n                  organization_id: options.organization_id,\n                  email_address: options.email_address,\n                  login_redirect_url: options.login_redirect_url,\n                  reset_password_redirect_url: options.reset_password_redirect_url,\n                  reset_password_expiration_minutes: options.reset_password_expiration_minutes,\n                  reset_password_template_id: options.reset_password_template_id,\n                  code_challenge: code_challenge,\n                  captcha_token: captcha_token,\n                  dfp_telemetry_id: dfp_telemetry_id\n                },\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              }));\n            case 10:\n            case \"end\":\n              return _context115.stop();\n          }\n        }, _callee115, this);\n      }));\n    }\n  }, {\n    key: \"resetByEmail\",\n    value: function resetByEmail(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee116() {\n        var _yield$this$dfpProtec26, dfp_telemetry_id, captcha_token, pkPair, code_verifier, resp;\n        return _regeneratorRuntime().wrap(function _callee116$(_context116) {\n          while (1) switch (_context116.prev = _context116.next) {\n            case 0:\n              validate('stytch.passwords.resetByEmail').isString('password_reset_token', options.password_reset_token).isString('password', options.password).isNumber('session_duration_minutes', options.session_duration_minutes).isOptionalString('locale', options.locale);\n              _context116.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec26 = _context116.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec26.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec26.captcha_token;\n              _context116.next = 8;\n              return this._pkceManager.getPKPair();\n            case 8:\n              pkPair = _context116.sent;\n              code_verifier = pkPair === null || pkPair === void 0 ? void 0 : pkPair.code_verifier;\n              _context116.t0 = this._networkClient;\n              _context116.t1 = options.password_reset_token;\n              _context116.t2 = options.password;\n              _context116.t3 = options.session_duration_minutes;\n              _context116.t4 = options.locale;\n              _context116.t5 = captcha_token;\n              _context116.t6 = dfp_telemetry_id;\n              _context116.t7 = code_verifier;\n              _context116.next = 20;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 20:\n              _context116.t8 = _context116.sent;\n              if (_context116.t8) {\n                _context116.next = 23;\n                break;\n              }\n              _context116.t8 = undefined;\n            case 23:\n              _context116.t9 = _context116.t8;\n              _context116.t10 = {\n                password_reset_token: _context116.t1,\n                password: _context116.t2,\n                session_duration_minutes: _context116.t3,\n                locale: _context116.t4,\n                captcha_token: _context116.t5,\n                dfp_telemetry_id: _context116.t6,\n                code_verifier: _context116.t7,\n                intermediate_session_token: _context116.t9\n              };\n              _context116.t11 = this.dfpProtectedAuth.retryWithCaptchaAndDFP;\n              _context116.t12 = {\n                url: '/b2b/passwords/email/reset',\n                method: 'POST',\n                errorMessage: 'Failed to reset password.',\n                body: _context116.t10,\n                retryCallback: _context116.t11\n              };\n              _context116.next = 29;\n              return _context116.t0.retriableFetchSDK.call(_context116.t0, _context116.t12);\n            case 29:\n              resp = _context116.sent;\n              this._pkceManager.clearPKPair();\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context116.abrupt(\"return\", resp);\n            case 33:\n            case \"end\":\n              return _context116.stop();\n          }\n        }, _callee116, this);\n      }));\n    }\n  }, {\n    key: \"resetByExistingPassword\",\n    value: function resetByExistingPassword(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee117() {\n        var _yield$this$dfpProtec27, dfp_telemetry_id, captcha_token, resp;\n        return _regeneratorRuntime().wrap(function _callee117$(_context117) {\n          while (1) switch (_context117.prev = _context117.next) {\n            case 0:\n              validate('stytch.passwords.resetByExistingPassword').isString('email', options.email_address).isString('existing_password', options.existing_password).isString('new_password', options.new_password).isOptionalString('locale', options.locale);\n              _context117.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec27 = _context117.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec27.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec27.captcha_token;\n              _context117.next = 8;\n              return this._networkClient.retriableFetchSDK({\n                url: '/b2b/passwords/existing_password/reset',\n                method: 'POST',\n                errorMessage: 'Failed to reset password.',\n                body: {\n                  organization_id: options.organization_id,\n                  email_address: options.email_address,\n                  existing_password: options.existing_password,\n                  new_password: options.new_password,\n                  locale: options.locale,\n                  session_duration_minutes: options.session_duration_minutes,\n                  captcha_token: captcha_token,\n                  dfp_telemetry_id: dfp_telemetry_id\n                },\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              });\n            case 8:\n              resp = _context117.sent;\n              if (resp.member_session) {\n                this._subscriptionService.updateStateAndTokens({\n                  state: {\n                    session: resp.member_session,\n                    member: resp.member,\n                    organization: resp.organization\n                  },\n                  session_token: resp.session_token,\n                  session_jwt: resp.session_jwt,\n                  intermediate_session_token: null\n                });\n              } else {\n                this._subscriptionService.updateStateAndTokens({\n                  state: null,\n                  session_token: null,\n                  session_jwt: null,\n                  intermediate_session_token: resp.intermediate_session_token\n                });\n              }\n              return _context117.abrupt(\"return\", resp);\n            case 11:\n            case \"end\":\n              return _context117.stop();\n          }\n        }, _callee117, this);\n      }));\n    }\n  }, {\n    key: \"resetBySession\",\n    value: function resetBySession(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee118() {\n        var _yield$this$dfpProtec28, dfp_telemetry_id, captcha_token, resp;\n        return _regeneratorRuntime().wrap(function _callee118$(_context118) {\n          while (1) switch (_context118.prev = _context118.next) {\n            case 0:\n              validate('stytch.passwords.resetBySession').isString('password', options.password);\n              _context118.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec28 = _context118.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec28.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec28.captcha_token;\n              _context118.next = 8;\n              return this._networkClient.retriableFetchSDK({\n                url: '/b2b/passwords/session/reset',\n                method: 'POST',\n                errorMessage: 'Failed to reset by session.',\n                body: {\n                  password: options.password,\n                  captcha_token: captcha_token,\n                  dfp_telemetry_id: dfp_telemetry_id\n                },\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              });\n            case 8:\n              resp = _context118.sent;\n              this._subscriptionService.updateStateAndTokens({\n                state: {\n                  session: resp.member_session,\n                  member: resp.member,\n                  organization: resp.organization\n                },\n                session_token: resp.session_token,\n                session_jwt: resp.session_jwt,\n                intermediate_session_token: null\n              });\n              return _context118.abrupt(\"return\", resp);\n            case 11:\n            case \"end\":\n              return _context118.stop();\n          }\n        }, _callee118, this);\n      }));\n    }\n  }, {\n    key: \"strengthCheck\",\n    value: function strengthCheck(options) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee119() {\n        return _regeneratorRuntime().wrap(function _callee119$(_context119) {\n          while (1) switch (_context119.prev = _context119.next) {\n            case 0:\n              validate('stytch.passwords.strengthCheck').isOptionalString('email', options.email_address).isString('password', options.password);\n              return _context119.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: '/b2b/passwords/strength_check',\n                method: 'POST',\n                errorMessage: 'Failed to check password strength.',\n                body: {\n                  email_address: options.email_address,\n                  password: options.password\n                }\n              }));\n            case 2:\n            case \"end\":\n              return _context119.stop();\n          }\n        }, _callee119, this);\n      }));\n    }\n  }]);\n  return HeadlessB2BPasswordsClient;\n}();\nvar HeadlessB2BOTPsClient = /*#__PURE__*/_createClass(function HeadlessB2BOTPsClient(_networkClient, _subscriptionService) {\n  var _this19 = this;\n  var dfpProtectedAuth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DisabledDFPProtectedAuthProvider();\n  _classCallCheck(this, HeadlessB2BOTPsClient);\n  this._networkClient = _networkClient;\n  this._subscriptionService = _subscriptionService;\n  this.dfpProtectedAuth = dfpProtectedAuth;\n  this.sms = {\n    send: function send(data) {\n      return __awaiter$1(_this19, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee120() {\n        var _yield$this$dfpProtec29, dfp_telemetry_id, captcha_token;\n        return _regeneratorRuntime().wrap(function _callee120$(_context120) {\n          while (1) switch (_context120.prev = _context120.next) {\n            case 0:\n              validate('stytch.otps.sms.send').isString('organization_id', data.organization_id).isString('member_id', data.member_id).isOptionalString('mfa_phone_number', data.mfa_phone_number).isOptionalString('locale', data.locale);\n              _context120.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec29 = _context120.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec29.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec29.captcha_token;\n              _context120.t0 = this._networkClient;\n              _context120.t1 = Object;\n              _context120.t2 = Object.assign({}, data);\n              _context120.t3 = dfp_telemetry_id;\n              _context120.t4 = captcha_token;\n              _context120.next = 13;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 13:\n              _context120.t5 = _context120.sent;\n              if (_context120.t5) {\n                _context120.next = 16;\n                break;\n              }\n              _context120.t5 = undefined;\n            case 16:\n              _context120.t6 = _context120.t5;\n              _context120.t7 = {\n                dfp_telemetry_id: _context120.t3,\n                captcha_token: _context120.t4,\n                intermediate_session_token: _context120.t6\n              };\n              _context120.t8 = _context120.t1.assign.call(_context120.t1, _context120.t2, _context120.t7);\n              _context120.t9 = this.dfpProtectedAuth.retryWithCaptchaAndDFP;\n              _context120.t10 = {\n                url: '/b2b/otps/sms/send',\n                body: _context120.t8,\n                errorMessage: 'Failed to send one time passcode',\n                method: 'POST',\n                retryCallback: _context120.t9\n              };\n              return _context120.abrupt(\"return\", _context120.t0.retriableFetchSDK.call(_context120.t0, _context120.t10));\n            case 22:\n            case \"end\":\n              return _context120.stop();\n          }\n        }, _callee120, this);\n      }));\n    },\n    authenticate: function authenticate(data) {\n      return __awaiter$1(_this19, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee121() {\n        var _yield$this$dfpProtec30, dfp_telemetry_id, captcha_token, requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee121$(_context121) {\n          while (1) switch (_context121.prev = _context121.next) {\n            case 0:\n              validate('stytch.otps.sms.authenticate').isString('organization_id', data.organization_id).isString('member_id', data.member_id).isString('code', data.code).isOptionalString('set_mfa_enrollment', data.set_mfa_enrollment);\n              _context121.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec30 = _context121.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec30.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec30.captcha_token;\n              _context121.t0 = Object;\n              _context121.t1 = Object.assign({}, data);\n              _context121.t2 = dfp_telemetry_id;\n              _context121.t3 = captcha_token;\n              _context121.next = 12;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 12:\n              _context121.t4 = _context121.sent;\n              if (_context121.t4) {\n                _context121.next = 15;\n                break;\n              }\n              _context121.t4 = undefined;\n            case 15:\n              _context121.t5 = _context121.t4;\n              _context121.t6 = {\n                dfp_telemetry_id: _context121.t2,\n                captcha_token: _context121.t3,\n                intermediate_session_token: _context121.t5\n              };\n              requestBody = _context121.t0.assign.call(_context121.t0, _context121.t1, _context121.t6);\n              _context121.next = 20;\n              return this._networkClient.retriableFetchSDK({\n                url: '/b2b/otps/sms/authenticate',\n                body: requestBody,\n                errorMessage: 'Failed to authenticate one time passcode',\n                method: 'POST',\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              });\n            case 20:\n              resp = _context121.sent;\n              this._subscriptionService.updateStateAndTokens({\n                state: {\n                  session: resp.member_session,\n                  member: resp.member,\n                  organization: resp.organization\n                },\n                session_token: resp.session_token,\n                session_jwt: resp.session_jwt,\n                intermediate_session_token: null\n              });\n              return _context121.abrupt(\"return\", resp);\n            case 23:\n            case \"end\":\n              return _context121.stop();\n          }\n        }, _callee121, this);\n      }));\n    }\n  };\n});\nvar HeadlessB2BTOTPsClient = /*#__PURE__*/function () {\n  function HeadlessB2BTOTPsClient(_networkClient, _subscriptionService) {\n    var dfpProtectedAuth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DisabledDFPProtectedAuthProvider();\n    _classCallCheck(this, HeadlessB2BTOTPsClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n  }\n  _createClass(HeadlessB2BTOTPsClient, [{\n    key: \"create\",\n    value: function create(data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee122() {\n        var _yield$this$dfpProtec31, dfp_telemetry_id, captcha_token;\n        return _regeneratorRuntime().wrap(function _callee122$(_context122) {\n          while (1) switch (_context122.prev = _context122.next) {\n            case 0:\n              validate('stytch.totp.create').isString('organization_id', data.organization_id).isString('member_id', data.member_id).isOptionalNumber('expiration_minutes', data.expiration_minutes);\n              _context122.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec31 = _context122.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec31.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec31.captcha_token;\n              _context122.t0 = this._networkClient;\n              _context122.t1 = Object;\n              _context122.t2 = Object.assign({}, data);\n              _context122.t3 = dfp_telemetry_id;\n              _context122.t4 = captcha_token;\n              _context122.next = 13;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 13:\n              _context122.t5 = _context122.sent;\n              if (_context122.t5) {\n                _context122.next = 16;\n                break;\n              }\n              _context122.t5 = undefined;\n            case 16:\n              _context122.t6 = _context122.t5;\n              _context122.t7 = {\n                dfp_telemetry_id: _context122.t3,\n                captcha_token: _context122.t4,\n                intermediate_session_token: _context122.t6\n              };\n              _context122.t8 = _context122.t1.assign.call(_context122.t1, _context122.t2, _context122.t7);\n              _context122.t9 = this.dfpProtectedAuth.retryWithCaptchaAndDFP;\n              _context122.t10 = {\n                url: '/b2b/totp',\n                body: _context122.t8,\n                errorMessage: 'Failed to create TOTP',\n                method: 'POST',\n                retryCallback: _context122.t9\n              };\n              return _context122.abrupt(\"return\", _context122.t0.retriableFetchSDK.call(_context122.t0, _context122.t10));\n            case 22:\n            case \"end\":\n              return _context122.stop();\n          }\n        }, _callee122, this);\n      }));\n    }\n  }, {\n    key: \"authenticate\",\n    value: function authenticate(data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee123() {\n        var _yield$this$dfpProtec32, dfp_telemetry_id, captcha_token, requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee123$(_context123) {\n          while (1) switch (_context123.prev = _context123.next) {\n            case 0:\n              validate('stytch.totp.authenticate').isString('organization_id', data.organization_id).isString('member_id', data.member_id).isString('code', data.code).isOptionalString('set_mfa_enrollment', data.set_mfa_enrollment).isOptionalBoolean('set_default_mfa', data.set_default_mfa);\n              _context123.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec32 = _context123.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec32.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec32.captcha_token;\n              _context123.t0 = Object;\n              _context123.t1 = Object.assign({}, data);\n              _context123.t2 = dfp_telemetry_id;\n              _context123.t3 = captcha_token;\n              _context123.next = 12;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 12:\n              _context123.t4 = _context123.sent;\n              if (_context123.t4) {\n                _context123.next = 15;\n                break;\n              }\n              _context123.t4 = undefined;\n            case 15:\n              _context123.t5 = _context123.t4;\n              _context123.t6 = {\n                dfp_telemetry_id: _context123.t2,\n                captcha_token: _context123.t3,\n                intermediate_session_token: _context123.t5\n              };\n              requestBody = _context123.t0.assign.call(_context123.t0, _context123.t1, _context123.t6);\n              _context123.next = 20;\n              return this._networkClient.retriableFetchSDK({\n                url: '/b2b/totp/authenticate',\n                body: requestBody,\n                errorMessage: 'Failed to authenticate TOTP',\n                method: 'POST',\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              });\n            case 20:\n              resp = _context123.sent;\n              this._subscriptionService.updateStateAndTokens({\n                state: {\n                  session: resp.member_session,\n                  member: resp.member,\n                  organization: resp.organization\n                },\n                session_token: resp.session_token,\n                session_jwt: resp.session_jwt,\n                intermediate_session_token: null\n              });\n              return _context123.abrupt(\"return\", resp);\n            case 23:\n            case \"end\":\n              return _context123.stop();\n          }\n        }, _callee123, this);\n      }));\n    }\n  }]);\n  return HeadlessB2BTOTPsClient;\n}();\nvar HeadlessB2BRecoveryCodesClient = /*#__PURE__*/function () {\n  function HeadlessB2BRecoveryCodesClient(_networkClient, _subscriptionService) {\n    var dfpProtectedAuth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DisabledDFPProtectedAuthProvider();\n    _classCallCheck(this, HeadlessB2BRecoveryCodesClient);\n    this._networkClient = _networkClient;\n    this._subscriptionService = _subscriptionService;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n  }\n  _createClass(HeadlessB2BRecoveryCodesClient, [{\n    key: \"recover\",\n    value: function recover(data) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee124() {\n        var _yield$this$dfpProtec33, dfp_telemetry_id, captcha_token, requestBody, resp;\n        return _regeneratorRuntime().wrap(function _callee124$(_context124) {\n          while (1) switch (_context124.prev = _context124.next) {\n            case 0:\n              validate('stytch.recoveryCodes.recover').isString('organization_id', data.organization_id).isString('member_id', data.member_id).isString('recovery_code', data.recovery_code);\n              _context124.next = 3;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 3:\n              _yield$this$dfpProtec33 = _context124.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec33.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec33.captcha_token;\n              _context124.t0 = Object;\n              _context124.t1 = Object.assign({}, data);\n              _context124.t2 = dfp_telemetry_id;\n              _context124.t3 = captcha_token;\n              _context124.next = 12;\n              return this._subscriptionService.getIntermediateSessionToken();\n            case 12:\n              _context124.t4 = _context124.sent;\n              if (_context124.t4) {\n                _context124.next = 15;\n                break;\n              }\n              _context124.t4 = undefined;\n            case 15:\n              _context124.t5 = _context124.t4;\n              _context124.t6 = {\n                dfp_telemetry_id: _context124.t2,\n                captcha_token: _context124.t3,\n                intermediate_session_token: _context124.t5\n              };\n              requestBody = _context124.t0.assign.call(_context124.t0, _context124.t1, _context124.t6);\n              _context124.next = 20;\n              return this._networkClient.retriableFetchSDK({\n                url: '/b2b/recovery_codes/recover',\n                body: requestBody,\n                errorMessage: 'Failed to recover using recovery code',\n                method: 'POST',\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              });\n            case 20:\n              resp = _context124.sent;\n              this._subscriptionService.updateStateAndTokens({\n                state: {\n                  session: resp.member_session,\n                  member: resp.member,\n                  organization: resp.organization\n                },\n                session_token: resp.session_token,\n                session_jwt: resp.session_jwt,\n                intermediate_session_token: null\n              });\n              return _context124.abrupt(\"return\", resp);\n            case 23:\n            case \"end\":\n              return _context124.stop();\n          }\n        }, _callee124, this);\n      }));\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee125() {\n        var _yield$this$dfpProtec34, dfp_telemetry_id, captcha_token;\n        return _regeneratorRuntime().wrap(function _callee125$(_context125) {\n          while (1) switch (_context125.prev = _context125.next) {\n            case 0:\n              _context125.next = 2;\n              return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha();\n            case 2:\n              _yield$this$dfpProtec34 = _context125.sent;\n              dfp_telemetry_id = _yield$this$dfpProtec34.dfp_telemetry_id;\n              captcha_token = _yield$this$dfpProtec34.captcha_token;\n              return _context125.abrupt(\"return\", this._networkClient.retriableFetchSDK({\n                url: '/b2b/recovery_codes/rotate',\n                body: {\n                  dfp_telemetry_id: dfp_telemetry_id,\n                  captcha_token: captcha_token\n                },\n                errorMessage: 'Failed to rotate recovery codes',\n                method: 'POST',\n                retryCallback: this.dfpProtectedAuth.retryWithCaptchaAndDFP\n              }));\n            case 6:\n            case \"end\":\n              return _context125.stop();\n          }\n        }, _callee125, this);\n      }));\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee126() {\n        return _regeneratorRuntime().wrap(function _callee126$(_context126) {\n          while (1) switch (_context126.prev = _context126.next) {\n            case 0:\n              return _context126.abrupt(\"return\", this._networkClient.fetchSDK({\n                url: '/b2b/recovery_codes',\n                errorMessage: 'Failed to get recovery codes',\n                method: 'GET'\n              }));\n            case 1:\n            case \"end\":\n              return _context126.stop();\n          }\n        }, _callee126, this);\n      }));\n    }\n  }]);\n  return HeadlessB2BRecoveryCodesClient;\n}();\nvar HeadlessB2BRBACClient = /*#__PURE__*/function () {\n  function HeadlessB2BRBACClient(cachedConfig, dynamicConfig, _subscriptionService) {\n    var _this20 = this;\n    _classCallCheck(this, HeadlessB2BRBACClient);\n    this._subscriptionService = _subscriptionService;\n    this.isAuthorizedSync = function (resourceId, action) {\n      var _a;\n      return !!((_a = _this20.cachedPolicy) === null || _a === void 0 ? void 0 : _a.callerIsAuthorized(_this20.roleIds(), resourceId, action));\n    };\n    this.isAuthorized = function (resourceId, action) {\n      return _this20.policyPromise.then(function (policy) {\n        return policy.callerIsAuthorized(_this20.roleIds(), resourceId, action);\n      });\n    };\n    this.cachedPolicy = cachedConfig.rbacPolicy ? RBACPolicy.fromJSON(cachedConfig.rbacPolicy) : null;\n    this.policyPromise = dynamicConfig.then(function (data) {\n      if (!data.rbacPolicy) {\n        logger.error('Unable to retrieve RBAC policy from servers. Assuming caller has no permissions.');\n        return new RBACPolicy([], []);\n      }\n      _this20.cachedPolicy = RBACPolicy.fromJSON(data.rbacPolicy);\n      return _this20.cachedPolicy;\n    });\n  }\n  _createClass(HeadlessB2BRBACClient, [{\n    key: \"allPermissions\",\n    value: function allPermissions() {\n      var _this21 = this;\n      return this.policyPromise.then(function (policy) {\n        return policy.allPermissionsForCaller(_this21.roleIds());\n      });\n    }\n  }, {\n    key: \"roleIds\",\n    value: function roleIds() {\n      var _a;\n      var session = this._subscriptionService.getSession();\n      if (!session) {\n        return [];\n      }\n      return (_a = session.roles) !== null && _a !== void 0 ? _a : [];\n    }\n  }]);\n  return HeadlessB2BRBACClient;\n}();\nvar IframeHostClient = /*#__PURE__*/function () {\n  function IframeHostClient(iframeURL) {\n    _classCallCheck(this, IframeHostClient);\n    this.iframeURL = iframeURL;\n    this.createIframe();\n  }\n  _createClass(IframeHostClient, [{\n    key: \"createIframe\",\n    value: function createIframe() {\n      var existingIframe = document.querySelector(\"[src~=\\\"\".concat(this.iframeURL, \"\\\"]\"));\n      if (!existingIframe) {\n        existingIframe = document.createElement('iframe');\n        existingIframe.src = this.iframeURL;\n        existingIframe.style.position = 'absolute';\n        existingIframe.style.width = '0';\n        existingIframe.style.height = '0';\n        existingIframe.style.border = '0';\n        document.body.appendChild(existingIframe);\n      } else {\n        logger.warn(\"It looks like you're creating multiple copies of the Stytch client.\" + ' This behavior is unsupported, and unintended side effects may occur. ' + \"Make sure you are creating the Stytch client at the global level, and not inside a component's render function.\");\n      }\n      if (existingIframe.dataset.loaded === 'true') {\n        this.frame = Promise.resolve(existingIframe);\n        return;\n      }\n      this.frame = new Promise(function (resolve) {\n        existingIframe.addEventListener('load', function () {\n          existingIframe.dataset.loaded = 'true';\n          resolve(existingIframe);\n        }, {\n          once: true\n        });\n      });\n    }\n  }, {\n    key: \"call\",\n    value: function call(method, args) {\n      return __awaiter$1(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee127() {\n        var _this22 = this;\n        var frame, channel;\n        return _regeneratorRuntime().wrap(function _callee127$(_context127) {\n          while (1) switch (_context127.prev = _context127.next) {\n            case 0:\n              _context127.next = 2;\n              return this.frame;\n            case 2:\n              frame = _context127.sent;\n              channel = new MessageChannel();\n              return _context127.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _a;\n                channel.port1.onmessage = function (event) {\n                  var resp = event.data;\n                  channel.port1.close();\n                  if (resp.success) {\n                    resolve(resp.payload);\n                  } else {\n                    reject(ErrorMarshaller.unmarshall(resp.error));\n                  }\n                };\n                var message = {\n                  method: method,\n                  args: args\n                };\n                (_a = frame.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage(message, _this22.iframeURL, [channel.port2]);\n              }));\n            case 5:\n            case \"end\":\n              return _context127.stop();\n          }\n        }, _callee127, this);\n      }));\n    }\n  }]);\n  return IframeHostClient;\n}();\nvar SearchDataManager = /*#__PURE__*/function () {\n  function SearchDataManager(_networkClient, dfpProtectedAuth) {\n    _classCallCheck(this, SearchDataManager);\n    this._networkClient = _networkClient;\n    this.dfpProtectedAuth = dfpProtectedAuth;\n  }\n  _createClass(SearchDataManager, [{\n    key: \"searchUser\",\n    value: function searchUser(email) {\n      var _this24 = this;\n      return this.dfpProtectedAuth.getDFPTelemetryIDAndCaptcha().then(function (_ref7) {\n        var dfp_telemetry_id = _ref7.dfp_telemetry_id,\n          captcha_token = _ref7.captcha_token;\n        return _this24._networkClient.fetchSDK({\n          url: \"/users/search\",\n          method: 'POST',\n          body: {\n            email: email,\n            dfp_telemetry_id: dfp_telemetry_id,\n            captcha_token: captcha_token\n          },\n          errorMessage: \"Error searching for user \".concat(email)\n        });\n      });\n    }\n  }, {\n    key: \"searchMember\",\n    value: function searchMember(email, organization_id) {\n      return this._networkClient.fetchSDK({\n        url: \"/b2b/organizations/members/search\",\n        method: 'POST',\n        body: {\n          email_address: email,\n          organization_id: organization_id\n        },\n        errorMessage: \"Error searching for member \".concat(email)\n      });\n    }\n  }]);\n  return SearchDataManager;\n}();\nvar shouldTryRefresh = function shouldTryRefresh(state) {\n  return !!(state === null || state === void 0 ? void 0 : state.session);\n};\nvar SessionManager = /*#__PURE__*/function () {\n  function SessionManager(_subscriptionService, _headlessSessionClient) {\n    var _this25 = this;\n    _classCallCheck(this, SessionManager);\n    this._subscriptionService = _subscriptionService;\n    this._headlessSessionClient = _headlessSessionClient;\n    this._onDataChange = function (state) {\n      if (shouldTryRefresh(state)) {\n        _this25.scheduleBackgroundRefresh();\n      } else {\n        _this25.cancelBackgroundRefresh();\n      }\n    };\n    this._reauthenticateWithBackoff = function () {\n      return __awaiter$1(_this25, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee129() {\n        var count;\n        return _regeneratorRuntime().wrap(function _callee129$(_context129) {\n          while (1) switch (_context129.prev = _context129.next) {\n            case 0:\n              count = 0;\n            case 1:\n              _context129.prev = 2;\n              _context129.next = 5;\n              return this._headlessSessionClient.authenticate();\n            case 5:\n              return _context129.abrupt(\"return\", _context129.sent);\n            case 8:\n              _context129.prev = 8;\n              _context129.t0 = _context129[\"catch\"](2);\n              if (!SessionManager.isUnrecoverableError(_context129.t0)) {\n                _context129.next = 12;\n                break;\n              }\n              return _context129.abrupt(\"return\", Promise.reject(_context129.t0));\n            case 12:\n              count++;\n              _context129.next = 15;\n              return new Promise(function (done) {\n                return setTimeout(done, SessionManager.timeoutForAttempt(count));\n              });\n            case 15:\n              _context129.next = 1;\n              break;\n            case 17:\n            case \"end\":\n              return _context129.stop();\n          }\n        }, _callee129, this, [[2, 8]]);\n      }));\n    };\n    this.timeout = null;\n    this._subscriptionService.subscribeToState(this._onDataChange);\n  }\n  _createClass(SessionManager, [{\n    key: \"performBackgroundRefresh\",\n    value: function performBackgroundRefresh() {\n      var _this26 = this;\n      this._reauthenticateWithBackoff().then(function () {\n        _this26.scheduleBackgroundRefresh();\n      })[\"catch\"](function (error) {\n        logger.warn('Session background refresh failed. Signalling to app that user is logged out.', {\n          error: error\n        });\n        _this26._subscriptionService.destroySession();\n      });\n    }\n  }, {\n    key: \"scheduleBackgroundRefresh\",\n    value: function scheduleBackgroundRefresh() {\n      var _this27 = this;\n      this.cancelBackgroundRefresh();\n      this.timeout = setTimeout(function () {\n        _this27.performBackgroundRefresh();\n      }, SessionManager.REFRESH_INTERVAL_MS);\n    }\n  }, {\n    key: \"cancelBackgroundRefresh\",\n    value: function cancelBackgroundRefresh() {\n      if (this.timeout !== null) {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n    }\n  }], [{\n    key: \"timeoutForAttempt\",\n    value: function timeoutForAttempt(count) {\n      count = Math.min(count, 7);\n      var jitter = Math.floor(Math.random() * 350) - 175;\n      var delayMS = 2000 * Math.pow(2, count);\n      return jitter + delayMS;\n    }\n  }, {\n    key: \"isUnrecoverableError\",\n    value: function isUnrecoverableError(error) {\n      return UNRECOVERABLE_ERROR_TYPES.includes(error.error_type);\n    }\n  }]);\n  return SessionManager;\n}();\nSessionManager.REFRESH_INTERVAL_MS = 1000 * 60 * 3;\nvar StateChangeClient = /*#__PURE__*/_createClass(function StateChangeClient(_subscriptionService, emptyState) {\n  var _this28 = this;\n  _classCallCheck(this, StateChangeClient);\n  this._subscriptionService = _subscriptionService;\n  this.emptyState = emptyState;\n  this.onStateChange = function (callback) {\n    return _this28._subscriptionService.subscribeToState(function (state) {\n      callback(state !== null && state !== void 0 ? state : _this28.emptyState);\n    });\n  };\n});\nvar WILDCARD_ACTION = '*';\nvar RBACPolicy = /*#__PURE__*/function () {\n  function RBACPolicy(roles, resources) {\n    var _this34 = this;\n    _classCallCheck(this, RBACPolicy);\n    this.roles = roles;\n    this.resources = resources;\n    this.rolesByID = {};\n    roles.forEach(function (role) {\n      return _this34.rolesByID[role.role_id] = role;\n    });\n  }\n  _createClass(RBACPolicy, [{\n    key: \"callerIsAuthorized\",\n    value: function callerIsAuthorized(memberRoles, resourceId, action) {\n      var _this35 = this;\n      return !!memberRoles.map(function (roleId) {\n        return _this35.rolesByID[roleId];\n      }).filter(function (v) {\n        return v;\n      }).flatMap(function (role) {\n        return role.permissions;\n      }).filter(function (permission) {\n        return permission.resource_id === resourceId;\n      }).find(function (permission) {\n        return permission.actions.includes(action) || permission.actions.includes(WILDCARD_ACTION);\n      });\n    }\n  }, {\n    key: \"allPermissionsForCaller\",\n    value: function allPermissionsForCaller(memberRoles) {\n      var _this36 = this;\n      var allPermsMap = {};\n      this.resources.forEach(function (resource) {\n        allPermsMap[resource.resource_id] = {};\n        resource.actions.forEach(function (action) {\n          allPermsMap[resource.resource_id][action] = _this36.callerIsAuthorized(memberRoles, resource.resource_id, action);\n        });\n      });\n      return allPermsMap;\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(input) {\n      return new RBACPolicy(input.roles, input.resources);\n    }\n  }]);\n  return RBACPolicy;\n}();\nvar createDeepEqual = function createDeepEqual() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref8$KEYS_TO_EXCLUDE = _ref8.KEYS_TO_EXCLUDE,\n    KEYS_TO_EXCLUDE = _ref8$KEYS_TO_EXCLUDE === void 0 ? [] : _ref8$KEYS_TO_EXCLUDE;\n  var deepEqual = function deepEqual(a, b) {\n    if (_typeof(a) !== _typeof(b)) return false;\n    if (a === null || b === null) return a === b;\n    if (_typeof(a) === 'object') {\n      if (Object.keys(a).length !== Object.keys(b).length || Object.keys(a).some(function (k) {\n        return !(k in b);\n      })) return false;\n      return Object.entries(a).filter(function (_ref9) {\n        var _ref10 = _slicedToArray(_ref9, 1),\n          k = _ref10[0];\n        return !KEYS_TO_EXCLUDE.includes(k);\n      }).every(function (_ref11) {\n        var _ref12 = _slicedToArray(_ref11, 2),\n          k = _ref12[0],\n          v = _ref12[1];\n        return deepEqual(v, b[k]);\n      });\n    }\n    return a === b;\n  };\n  return deepEqual;\n};\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nvar LOCAL_STORAGE_KEY_PREFIX = 'stytch_sdk_state_';\nvar getLocalStorageKey = function getLocalStorageKey(publicToken) {\n  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(LOCAL_STORAGE_KEY_PREFIX).concat(publicToken).concat(key ? \"::\".concat(key) : '');\n};\nvar internalSymB2B = Symbol[\"for\"]('stytch__internal_b2b');\nvar writeB2BInternals = function writeB2BInternals(obj, internals) {\n  Object.assign(obj, _defineProperty({}, internalSymB2B, internals));\n};\nvar readB2BInternals = function readB2BInternals(obj) {\n  var casted = obj;\n  if (!casted[internalSymB2B]) {\n    throw Error('Internals not found!');\n  }\n  return casted[internalSymB2B];\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvaW50ZXJuYWwtRDVPcUxzUHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsdUJBQXVCLDJCQUEyQixxR0FBcUcsbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDalQsNENBQTRDLDRCQUE0QixrQkFBa0Isa0NBQWtDLG9FQUFvRSxLQUFLLE9BQU8sb0JBQW9CO0FBQ2hPLDhCQUE4QixvQ0FBb0M7QUFDbEUsK0JBQStCLDZDQUE2QywrQkFBK0Isb0JBQW9CLG1DQUFtQyx1Q0FBdUMsdUVBQXVFO0FBQ2hSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RjtBQUN6RixJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksa0VBQWtFO0FBQ3RGLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGVBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RjtBQUN6RixJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdEQUFnRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEdBQUc7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0VBQXdFLGFBQWE7QUFDckY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwyRUFBMkUsZUFBZTtBQUMxRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJFQUEyRSxlQUFlO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1QkFBdUIseUJBQXlCLGdFQUFnRTtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdDQUFnQywwQkFBMEIsMkVBQTJFO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhCQUE4QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esb0ZBQW9GO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRIQUE0SCxjQUFjO0FBQzFJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDcXVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtbC1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHN0eXRjaC92YW5pbGxhLWpzL2Rpc3QvaW50ZXJuYWwtRDVPcUxzUHMuanM/NDYxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mMihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YyID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2YyKG8pOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5MihrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5Mih0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlMih0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZjIoaSkgPyBpIDogU3RyaW5nKGkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUyKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZjIodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZjIoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3R5cGVvZiQxKG8pIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mJDEgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykge1xuICAgIHJldHVybiB0eXBlb2YgbztcbiAgfSA6IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87XG4gIH0sIF90eXBlb2YkMShvKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyQxKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQxKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jYWxsU3VwZXIkMSh0LCBvLCBlKSB7XG4gIHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mJDEobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJDEodCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQxKCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YkMSh0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTtcbn1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJDEoc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZiQxKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO1xuICB9XG4gIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoc2VsZik7XG59XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG4gIHJldHVybiBzZWxmO1xufVxuZnVuY3Rpb24gX2luaGVyaXRzJDEoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YkMShzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyJDEoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcbiAgX3dyYXBOYXRpdmVTdXBlciQxID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24kMShDbGFzcykpIHJldHVybiBDbGFzcztcbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO1xuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdCQxKENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZiQxKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiQxKFdyYXBwZXIsIENsYXNzKTtcbiAgfTtcbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIkMShDbGFzcyk7XG59XG5mdW5jdGlvbiBfY29uc3RydWN0JDEodCwgZSwgcikge1xuICBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQxKCkpIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB2YXIgbyA9IFtudWxsXTtcbiAgby5wdXNoLmFwcGx5KG8sIGUpO1xuICB2YXIgcCA9IG5ldyAodC5iaW5kLmFwcGx5KHQsIG8pKSgpO1xuICByZXR1cm4gciAmJiBfc2V0UHJvdG90eXBlT2YkMShwLCByLnByb3RvdHlwZSksIHA7XG59XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDEoKSB7XG4gIHRyeSB7XG4gICAgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICB9IGNhdGNoICh0KSB7fVxuICByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QkMSA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gICAgcmV0dXJuICEhdDtcbiAgfSkoKTtcbn1cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uJDEoZm4pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG59XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YkMShvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiQxID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mJDEobywgcCk7XG59XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YkMShvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiQxID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiQxKG8pO1xufVxudmFyIFByb2R1Y3RzO1xuKGZ1bmN0aW9uIChQcm9kdWN0cykge1xuICBQcm9kdWN0c1tcImVtYWlsTWFnaWNMaW5rc1wiXSA9IFwiZW1haWxNYWdpY0xpbmtzXCI7XG4gIFByb2R1Y3RzW1wib2F1dGhcIl0gPSBcIm9hdXRoXCI7XG4gIFByb2R1Y3RzW1wib3RwXCJdID0gXCJvdHBcIjtcbiAgUHJvZHVjdHNbXCJjcnlwdG9cIl0gPSBcImNyeXB0b1wiO1xuICBQcm9kdWN0c1tcInBhc3N3b3Jkc1wiXSA9IFwicGFzc3dvcmRzXCI7XG4gIFByb2R1Y3RzW1wicGFzc2tleXNcIl0gPSBcInBhc3NrZXlzXCI7XG59KShQcm9kdWN0cyB8fCAoUHJvZHVjdHMgPSB7fSkpO1xudmFyIE9BdXRoUHJvdmlkZXJzO1xuKGZ1bmN0aW9uIChPQXV0aFByb3ZpZGVycykge1xuICBPQXV0aFByb3ZpZGVyc1tcIkdvb2dsZVwiXSA9IFwiZ29vZ2xlXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiTWljcm9zb2Z0XCJdID0gXCJtaWNyb3NvZnRcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJBcHBsZVwiXSA9IFwiYXBwbGVcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJHaXRodWJcIl0gPSBcImdpdGh1YlwiO1xuICBPQXV0aFByb3ZpZGVyc1tcIkdpdExhYlwiXSA9IFwiZ2l0bGFiXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiRmFjZWJvb2tcIl0gPSBcImZhY2Vib29rXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiRGlzY29yZFwiXSA9IFwiZGlzY29yZFwiO1xuICBPQXV0aFByb3ZpZGVyc1tcIlNhbGVzZm9yY2VcIl0gPSBcInNhbGVzZm9yY2VcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJTbGFja1wiXSA9IFwic2xhY2tcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJBbWF6b25cIl0gPSBcImFtYXpvblwiO1xuICBPQXV0aFByb3ZpZGVyc1tcIkJpdGJ1Y2tldFwiXSA9IFwiYml0YnVja2V0XCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiTGlua2VkSW5cIl0gPSBcImxpbmtlZGluXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiQ29pbmJhc2VcIl0gPSBcImNvaW5iYXNlXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiVHdpdGNoXCJdID0gXCJ0d2l0Y2hcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJUd2l0dGVyXCJdID0gXCJ0d2l0dGVyXCI7XG4gIE9BdXRoUHJvdmlkZXJzW1wiVGlrVG9rXCJdID0gXCJ0aWt0b2tcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJTbmFwY2hhdFwiXSA9IFwic25hcGNoYXRcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJGaWdtYVwiXSA9IFwiZmlnbWFcIjtcbiAgT0F1dGhQcm92aWRlcnNbXCJZYWhvb1wiXSA9IFwieWFob29cIjtcbn0pKE9BdXRoUHJvdmlkZXJzIHx8IChPQXV0aFByb3ZpZGVycyA9IHt9KSk7XG52YXIgV2FsbGV0cztcbihmdW5jdGlvbiAoV2FsbGV0cykge1xuICBXYWxsZXRzW1wiVmVzc2VsXCJdID0gXCJWZXNzZWxcIjtcbiAgV2FsbGV0c1tcIlBoYW50b21cIl0gPSBcIlBoYW50b21cIjtcbiAgV2FsbGV0c1tcIk1ldGFtYXNrXCJdID0gXCJNZXRhbWFza1wiO1xuICBXYWxsZXRzW1wiQ29pbmJhc2VcIl0gPSBcIkNvaW5iYXNlXCI7XG4gIFdhbGxldHNbXCJCaW5hbmNlXCJdID0gXCJCaW5hbmNlXCI7XG4gIFdhbGxldHNbXCJHZW5lcmljRXRoZXJldW1XYWxsZXRcIl0gPSBcIk90aGVyIEV0aGVyZXVtIFdhbGxldFwiO1xuICBXYWxsZXRzW1wiR2VuZXJpY1NvbGFuYVdhbGxldFwiXSA9IFwiT3RoZXIgU29sYW5hIFdhbGxldFwiO1xufSkoV2FsbGV0cyB8fCAoV2FsbGV0cyA9IHt9KSk7XG52YXIgT25lVGFwUG9zaXRpb25zO1xuKGZ1bmN0aW9uIChPbmVUYXBQb3NpdGlvbnMpIHtcbiAgT25lVGFwUG9zaXRpb25zW1wiZW1iZWRkZWRcIl0gPSBcImVtYmVkZGVkXCI7XG4gIE9uZVRhcFBvc2l0aW9uc1tcImZsb2F0aW5nXCJdID0gXCJmbG9hdGluZ1wiO1xuICBPbmVUYXBQb3NpdGlvbnNbXCJlbWJlZGRlZE9ubHlcIl0gPSBcImVtYmVkZGVkT25seVwiO1xuICBPbmVUYXBQb3NpdGlvbnNbXCJmbG9hdGluZ09yRW1iZWRkZWRcIl0gPSBcImZsb2F0aW5nT3JFbWJlZGRlZFwiO1xuICBPbmVUYXBQb3NpdGlvbnNbXCJmb3JjZUxlZ2FjeUVtYmVkZGVkXCJdID0gXCJmb3JjZUxlZ2FjeUVtYmVkZGVkXCI7XG59KShPbmVUYXBQb3NpdGlvbnMgfHwgKE9uZVRhcFBvc2l0aW9ucyA9IHt9KSk7XG52YXIgT1RQTWV0aG9kcztcbihmdW5jdGlvbiAoT1RQTWV0aG9kcykge1xuICBPVFBNZXRob2RzW1wiU01TXCJdID0gXCJzbXNcIjtcbiAgT1RQTWV0aG9kc1tcIldoYXRzQXBwXCJdID0gXCJ3aGF0c2FwcFwiO1xuICBPVFBNZXRob2RzW1wiRW1haWxcIl0gPSBcImVtYWlsXCI7XG59KShPVFBNZXRob2RzIHx8IChPVFBNZXRob2RzID0ge30pKTtcbnZhciBTdHl0Y2hFdmVudFR5cGU7XG4oZnVuY3Rpb24gKFN0eXRjaEV2ZW50VHlwZSkge1xuICBTdHl0Y2hFdmVudFR5cGVbXCJNYWdpY0xpbmtMb2dpbk9yQ3JlYXRlRXZlbnRcIl0gPSBcIk1BR0lDX0xJTktfTE9HSU5fT1JfQ1JFQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIk9UUHNMb2dpbk9yQ3JlYXRlRXZlbnRcIl0gPSBcIk9UUF9MT0dJTl9PUl9DUkVBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiT1RQc0F1dGhlbnRpY2F0ZVwiXSA9IFwiT1RQX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJDcnlwdG9XYWxsZXRBdXRoZW50aWNhdGVTdGFydFwiXSA9IFwiQ1JZUFRPX1dBTExFVF9BVVRIRU5USUNBVEVfU1RBUlRcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQ3J5cHRvV2FsbGV0QXV0aGVudGljYXRlXCJdID0gXCJDUllQVE9fV0FMTEVUX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJQYXNzd29yZENyZWF0ZVwiXSA9IFwiUEFTU1dPUkRfQ1JFQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIlBhc3N3b3JkQXV0aGVudGljYXRlXCJdID0gXCJQQVNTV09SRF9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiUGFzc3dvcmRSZXNldEJ5RW1haWxTdGFydFwiXSA9IFwiUEFTU1dPUkRfUkVTRVRfQllfRU1BSUxfU1RBUlRcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiUGFzc3dvcmRSZXNldEJ5RW1haWxcIl0gPSBcIlBBU1NXT1JEX1JFU0VUX0JZX0VNQUlMXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIlBhc3NrZXlSZWdpc3RlclwiXSA9IFwiUEFTU0tFWV9SRUdJU1RFUlwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJQYXNza2V5QXV0aGVudGljYXRlXCJdID0gXCJQQVNTS0VZX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJQYXNza2V5U2tpcFwiXSA9IFwiUEFTU0tFWV9TS0lQXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIlBhc3NrZXlEb25lXCJdID0gXCJQQVNTS0VZX0RPTkVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCTWFnaWNMaW5rRW1haWxMb2dpbk9yU2lnbnVwXCJdID0gXCJCMkJfTUFHSUNfTElOS19FTUFJTF9MT0dJTl9PUl9TSUdOVVBcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCTWFnaWNMaW5rQXV0aGVudGljYXRlXCJdID0gXCJCMkJfTUFHSUNfTElOS19BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCTWFnaWNMaW5rRW1haWxEaXNjb3ZlcnlTZW5kXCJdID0gXCJCMkJfTUFHSUNfTElOS19FTUFJTF9ESVNDT1ZFUllfU0VORFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJNYWdpY0xpbmtEaXNjb3ZlcnlBdXRoZW50aWNhdGVcIl0gPSBcIkIyQl9NQUdJQ19MSU5LX0RJU0NPVkVSWV9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCU1NPU3RhcnRcIl0gPSBcIkIyQl9TU09fU1RBUlRcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCU1NPQXV0aGVudGljYXRlXCJdID0gXCJCMkJfU1NPX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJPQXV0aEF1dGhlbnRpY2F0ZVwiXSA9IFwiQjJCX09BVVRIX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJPQXV0aERpc2NvdmVyeUF1dGhlbnRpY2F0ZVwiXSA9IFwiQjJCX09BVVRIX0RJU0NPVkVSWV9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCRGlzY292ZXJ5T3JnYW5pemF0aW9uc0NyZWF0ZVwiXSA9IFwiQjJCX0RJU0NPVkVSWV9PUkdBTklaQVRJT05TX0NSRUFURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJEaXNjb3ZlcnlJbnRlcm1lZGlhdGVTZXNzaW9uRXhjaGFuZ2VcIl0gPSBcIkIyQl9ESVNDT1ZFUllfSU5URVJNRURJQVRFX1NFU1NJT05fRVhDSEFOR0VcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCUGFzc3dvcmRBdXRoZW50aWNhdGVcIl0gPSBcIkIyQl9QQVNTV09SRF9BVVRIRU5USUNBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCUGFzc3dvcmRSZXNldEJ5RW1haWxTdGFydFwiXSA9IFwiQjJCX1BBU1NXT1JEX1JFU0VUX0JZX0VNQUlMX1NUQVJUXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQlBhc3N3b3JkUmVzZXRCeUVtYWlsXCJdID0gXCJCMkJfUEFTU1dPUkRfUkVTRVRfQllfRU1BSUxcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCUGFzc3dvcmRSZXNldEJ5U2Vzc2lvblwiXSA9IFwiQjJCX1BBU1NXT1JEX1JFU0VUX0JZX1NFU1NJT05cIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCU01TT1RQU2VuZFwiXSA9IFwiQjJCX1NNU19PVFBfU0VORFwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJTTVNPVFBBdXRoZW50aWNhdGVcIl0gPSBcIkIyQl9TTVNfT1RQX0FVVEhFTlRJQ0FURVwiO1xuICBTdHl0Y2hFdmVudFR5cGVbXCJCMkJUT1RQQ3JlYXRlXCJdID0gXCJCMkJfVE9UUF9DUkVBVEVcIjtcbiAgU3R5dGNoRXZlbnRUeXBlW1wiQjJCVE9UUEF1dGhlbnRpY2F0ZVwiXSA9IFwiQjJCX1RPVFBfQVVUSEVOVElDQVRFXCI7XG4gIFN0eXRjaEV2ZW50VHlwZVtcIkIyQlJlY292ZXJ5Q29kZXNSZWNvdmVyXCJdID0gXCJCMkJfUkVDT1ZFUllfQ09ERVNfUkVDT1ZFUlwiO1xufSkoU3R5dGNoRXZlbnRUeXBlIHx8IChTdHl0Y2hFdmVudFR5cGUgPSB7fSkpO1xudmFyIFJOVUlQcm9kdWN0cztcbihmdW5jdGlvbiAoUk5VSVByb2R1Y3RzKSB7XG4gIFJOVUlQcm9kdWN0c1tSTlVJUHJvZHVjdHNbXCJlbWFpbE1hZ2ljTGlua3NcIl0gPSAwXSA9IFwiZW1haWxNYWdpY0xpbmtzXCI7XG4gIFJOVUlQcm9kdWN0c1tSTlVJUHJvZHVjdHNbXCJvYXV0aFwiXSA9IDFdID0gXCJvYXV0aFwiO1xuICBSTlVJUHJvZHVjdHNbUk5VSVByb2R1Y3RzW1wib3RwXCJdID0gMl0gPSBcIm90cFwiO1xuICBSTlVJUHJvZHVjdHNbUk5VSVByb2R1Y3RzW1wicGFzc3dvcmRzXCJdID0gM10gPSBcInBhc3N3b3Jkc1wiO1xufSkoUk5VSVByb2R1Y3RzIHx8IChSTlVJUHJvZHVjdHMgPSB7fSkpO1xudmFyIFNES0FQSVVucmVhY2hhYmxlRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHMkMShTREtBUElVbnJlYWNoYWJsZUVycm9yLCBfRXJyb3IpO1xuICBmdW5jdGlvbiBTREtBUElVbnJlYWNoYWJsZUVycm9yKG1lc3NhZ2UsIGRldGFpbHMpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgU0RLQVBJVW5yZWFjaGFibGVFcnJvcik7XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyJDEodGhpcywgU0RLQVBJVW5yZWFjaGFibGVFcnJvciwgW21lc3NhZ2UgKyAnXFxuJyArIGRldGFpbHNdKTtcbiAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZSArICdcXG4nICsgZGV0YWlscztcbiAgICBfdGhpcy5uYW1lID0gJ1NES0FQSVVucmVhY2hhYmxlRXJyb3InO1xuICAgIF90aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoX3RoaXMpLCBTREtBUElVbnJlYWNoYWJsZUVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShTREtBUElVbnJlYWNoYWJsZUVycm9yKTtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyJDEoRXJyb3IpKTtcbnZhciBTdHl0Y2hTREtVc2FnZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IyKSB7XG4gIF9pbmhlcml0cyQxKFN0eXRjaFNES1VzYWdlRXJyb3IsIF9FcnJvcjIpO1xuICBmdW5jdGlvbiBTdHl0Y2hTREtVc2FnZUVycm9yKG1ldGhvZE5hbWUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgX3RoaXMyO1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFN0eXRjaFNES1VzYWdlRXJyb3IpO1xuICAgIF90aGlzMiA9IF9jYWxsU3VwZXIkMSh0aGlzLCBTdHl0Y2hTREtVc2FnZUVycm9yKTtcbiAgICBfdGhpczIubmFtZSA9ICdTdHl0Y2hTREtVc2FnZUVycm9yJztcbiAgICBfdGhpczIubWVzc2FnZSA9IFwiSW52YWxpZCBjYWxsIHRvIFwiLmNvbmNhdChtZXRob2ROYW1lLCBcIlxcblwiKSArIG1lc3NhZ2U7XG4gICAgcmV0dXJuIF90aGlzMjtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoU0RLVXNhZ2VFcnJvcik7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlciQxKEVycm9yKSk7XG52YXIgU3R5dGNoU0RLU2NoZW1hRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcjMpIHtcbiAgX2luaGVyaXRzJDEoU3R5dGNoU0RLU2NoZW1hRXJyb3IsIF9FcnJvcjMpO1xuICBmdW5jdGlvbiBTdHl0Y2hTREtTY2hlbWFFcnJvcihzY2hlbWFFcnJvcikge1xuICAgIHZhciBfdGhpczM7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgU3R5dGNoU0RLU2NoZW1hRXJyb3IpO1xuICAgIHZhciBfYTtcbiAgICBfdGhpczMgPSBfY2FsbFN1cGVyJDEodGhpcywgU3R5dGNoU0RLU2NoZW1hRXJyb3IpO1xuICAgIF90aGlzMy5uYW1lID0gJ1N0eXRjaFNES1NjaGVtYUVycm9yJztcbiAgICB2YXIgbWVzc2FnZXMgPSAoX2EgPSBzY2hlbWFFcnJvci5ib2R5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChlcnIuZGF0YVBhdGgsIFwiOiBcIikuY29uY2F0KGVyci5tZXNzYWdlKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgICBfdGhpczMubWVzc2FnZSA9IFwiWzQwMF0gUmVxdWVzdCBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFcXG5cIi5jb25jYXQobWVzc2FnZXMpO1xuICAgIHJldHVybiBfdGhpczM7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKFN0eXRjaFNES1NjaGVtYUVycm9yKTtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyJDEoRXJyb3IpKTtcbnZhciBTdHl0Y2hTREtBUElFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yNCkge1xuICBfaW5oZXJpdHMkMShTdHl0Y2hTREtBUElFcnJvciwgX0Vycm9yNCk7XG4gIGZ1bmN0aW9uIFN0eXRjaFNES0FQSUVycm9yKGRldGFpbHMpIHtcbiAgICB2YXIgX3RoaXM0O1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFN0eXRjaFNES0FQSUVycm9yKTtcbiAgICBfdGhpczQgPSBfY2FsbFN1cGVyJDEodGhpcywgU3R5dGNoU0RLQVBJRXJyb3IpO1xuICAgIF90aGlzNC5uYW1lID0gJ1N0eXRjaFNES0FQSUVycm9yJztcbiAgICB2YXIgc3RhdHVzX2NvZGUgPSBkZXRhaWxzLnN0YXR1c19jb2RlLFxuICAgICAgZXJyb3JfdHlwZSA9IGRldGFpbHMuZXJyb3JfdHlwZSxcbiAgICAgIGVycm9yX21lc3NhZ2UgPSBkZXRhaWxzLmVycm9yX21lc3NhZ2UsXG4gICAgICBlcnJvcl91cmwgPSBkZXRhaWxzLmVycm9yX3VybCxcbiAgICAgIHJlcXVlc3RfaWQgPSBkZXRhaWxzLnJlcXVlc3RfaWQ7XG4gICAgX3RoaXM0LmVycm9yX3R5cGUgPSBlcnJvcl90eXBlO1xuICAgIF90aGlzNC5lcnJvcl9tZXNzYWdlID0gZXJyb3JfbWVzc2FnZTtcbiAgICBfdGhpczQuZXJyb3JfdXJsID0gZXJyb3JfdXJsO1xuICAgIF90aGlzNC5yZXF1ZXN0X2lkID0gcmVxdWVzdF9pZDtcbiAgICBfdGhpczQuc3RhdHVzX2NvZGUgPSBzdGF0dXNfY29kZTtcbiAgICBfdGhpczQubWVzc2FnZSA9IFwiW1wiLmNvbmNhdChzdGF0dXNfY29kZSwgXCJdIFwiKS5jb25jYXQoZXJyb3JfdHlwZSwgXCJcXG5cIikgKyBcIlwiLmNvbmNhdChlcnJvcl9tZXNzYWdlLCBcIlxcblwiKSArIFwiU2VlIFwiLmNvbmNhdChlcnJvcl91cmwsIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcblwiKSArIChyZXF1ZXN0X2lkID8gXCJyZXF1ZXN0X2lkOiBcIi5jb25jYXQocmVxdWVzdF9pZCwgXCJcXG5cIikgOiAnJyk7XG4gICAgcmV0dXJuIF90aGlzNDtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoU0RLQVBJRXJyb3IpO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIkMShFcnJvcikpO1xudmFyIFVOUkVDT1ZFUkFCTEVfRVJST1JfVFlQRVMgPSBbJ3VuYXV0aG9yaXplZF9jcmVkZW50aWFscycsICd1c2VyX3VuYXV0aGVudGljYXRlZCcsICdpbnZhbGlkX3NlY3JldF9hdXRoZW50aWNhdGlvbicsICdzZXNzaW9uX25vdF9mb3VuZCddO1xudmFyIFN0eXRjaEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3I1KSB7XG4gIF9pbmhlcml0cyQxKFN0eXRjaEVycm9yLCBfRXJyb3I1KTtcbiAgZnVuY3Rpb24gU3R5dGNoRXJyb3IobmFtZSwgbWVzc2FnZSkge1xuICAgIHZhciBfdGhpczU7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgU3R5dGNoRXJyb3IpO1xuICAgIF90aGlzNSA9IF9jYWxsU3VwZXIkMSh0aGlzLCBTdHl0Y2hFcnJvciwgW21lc3NhZ2VdKTtcbiAgICBfdGhpczUubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIF90aGlzNTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoRXJyb3IpO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIkMShFcnJvcikpO1xudmFyIFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hFcnJvcikge1xuICBfaW5oZXJpdHMkMShTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yLCBfU3R5dGNoRXJyb3IpO1xuICBmdW5jdGlvbiBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yKGRldGFpbHMpIHtcbiAgICB2YXIgX3RoaXM2O1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IpO1xuICAgIF90aGlzNiA9IF9jYWxsU3VwZXIkMSh0aGlzLCBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yLCBbJ1N0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3InLCBkZXRhaWxzXSk7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQkMShfdGhpczYpLCBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIF90aGlzNjtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcik7XG59KFN0eXRjaEVycm9yKTtcbnZhciBTdHl0Y2hBUElTY2hlbWFFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaEVycm9yMikge1xuICBfaW5oZXJpdHMkMShTdHl0Y2hBUElTY2hlbWFFcnJvciwgX1N0eXRjaEVycm9yMik7XG4gIGZ1bmN0aW9uIFN0eXRjaEFQSVNjaGVtYUVycm9yKHNjaGVtYUVycm9yKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgU3R5dGNoQVBJU2NoZW1hRXJyb3IpO1xuICAgIHZhciBfYTtcbiAgICB2YXIgbWVzc2FnZXMgPSAoX2EgPSBzY2hlbWFFcnJvci5ib2R5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChlcnIuZGF0YVBhdGgsIFwiOiBcIikuY29uY2F0KGVyci5tZXNzYWdlKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIFN0eXRjaEFQSVNjaGVtYUVycm9yLCBbJ1N0eXRjaEFQSVNjaGVtYUVycm9yJywgXCJSZXF1ZXN0IGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkIHNjaGVtYVxcblwiLmNvbmNhdChtZXNzYWdlcyldKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU3R5dGNoQVBJU2NoZW1hRXJyb3IpO1xufShTdHl0Y2hFcnJvcik7XG52YXIgU3R5dGNoQVBJRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hFcnJvcjMpIHtcbiAgX2luaGVyaXRzJDEoU3R5dGNoQVBJRXJyb3IsIF9TdHl0Y2hFcnJvcjMpO1xuICBmdW5jdGlvbiBTdHl0Y2hBUElFcnJvcihkZXRhaWxzKSB7XG4gICAgdmFyIF90aGlzNztcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBTdHl0Y2hBUElFcnJvcik7XG4gICAgdmFyIHN0YXR1c19jb2RlID0gZGV0YWlscy5zdGF0dXNfY29kZSxcbiAgICAgIGVycm9yX3R5cGUgPSBkZXRhaWxzLmVycm9yX3R5cGUsXG4gICAgICBlcnJvcl9tZXNzYWdlID0gZGV0YWlscy5lcnJvcl9tZXNzYWdlLFxuICAgICAgZXJyb3JfdXJsID0gZGV0YWlscy5lcnJvcl91cmwsXG4gICAgICByZXF1ZXN0X2lkID0gZGV0YWlscy5yZXF1ZXN0X2lkO1xuICAgIF90aGlzNyA9IF9jYWxsU3VwZXIkMSh0aGlzLCBTdHl0Y2hBUElFcnJvciwgWydTdHl0Y2hBUElFcnJvcicsIFwiW1wiLmNvbmNhdChzdGF0dXNfY29kZSwgXCJdIFwiKS5jb25jYXQoZXJyb3JfdHlwZSwgXCJcXG5cIikgKyBcIlwiLmNvbmNhdChlcnJvcl9tZXNzYWdlLCBcIlxcblwiKSArIFwiU2VlIFwiLmNvbmNhdChlcnJvcl91cmwsIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcblwiKSArIChyZXF1ZXN0X2lkID8gXCJyZXF1ZXN0X2lkOiBcIi5jb25jYXQocmVxdWVzdF9pZCwgXCJcXG5cIikgOiAnJyldKTtcbiAgICBfdGhpczcuZXJyb3JfdHlwZSA9IGVycm9yX3R5cGU7XG4gICAgX3RoaXM3LmVycm9yX21lc3NhZ2UgPSBlcnJvcl9tZXNzYWdlO1xuICAgIF90aGlzNy5lcnJvcl91cmwgPSBlcnJvcl91cmw7XG4gICAgX3RoaXM3LnJlcXVlc3RfaWQgPSByZXF1ZXN0X2lkO1xuICAgIF90aGlzNy5zdGF0dXNfY29kZSA9IHN0YXR1c19jb2RlO1xuICAgIHJldHVybiBfdGhpczc7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKFN0eXRjaEFQSUVycm9yKTtcbn0oU3R5dGNoRXJyb3IpO1xudmFyIFN0eXRjaFNES0Vycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoRXJyb3I0KSB7XG4gIF9pbmhlcml0cyQxKFN0eXRjaFNES0Vycm9yLCBfU3R5dGNoRXJyb3I0KTtcbiAgZnVuY3Rpb24gU3R5dGNoU0RLRXJyb3IobmFtZSwgZGVzY3JpcHRpb24sIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM4O1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFN0eXRjaFNES0Vycm9yKTtcbiAgICBfdGhpczggPSBfY2FsbFN1cGVyJDEodGhpcywgU3R5dGNoU0RLRXJyb3IsIFtuYW1lLCBkZXNjcmlwdGlvbl0pO1xuICAgIF90aGlzOC5vcHRpb25zID0gb3B0aW9ucztcbiAgICByZXR1cm4gX3RoaXM4O1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShTdHl0Y2hTREtFcnJvcik7XG59KFN0eXRjaEVycm9yKTtcbnZhciBOb0N1cnJlbnRTZXNzaW9uRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcikge1xuICBfaW5oZXJpdHMkMShOb0N1cnJlbnRTZXNzaW9uRXJyb3IsIF9TdHl0Y2hTREtFcnJvcik7XG4gIGZ1bmN0aW9uIE5vQ3VycmVudFNlc3Npb25FcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBOb0N1cnJlbnRTZXNzaW9uRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgTm9DdXJyZW50U2Vzc2lvbkVycm9yLCBbJ05vQ3VycmVudFNlc3Npb25FcnJvcicsICdUaGVyZSBpcyBubyBzZXNzaW9uIGN1cnJlbnRseSBhdmFpbGFibGUuIE1ha2Ugc3VyZSB0aGUgdXNlciBpcyBhdXRoZW50aWNhdGVkIHdpdGggYSB2YWxpZCBzZXNzaW9uLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTm9DdXJyZW50U2Vzc2lvbkVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIEludGVybmFsRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjIpIHtcbiAgX2luaGVyaXRzJDEoSW50ZXJuYWxFcnJvciwgX1N0eXRjaFNES0Vycm9yMik7XG4gIGZ1bmN0aW9uIEludGVybmFsRXJyb3IobWVzc2FnZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIEludGVybmFsRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgSW50ZXJuYWxFcnJvciwgWydJbnRlcm5hbEVycm9yJywgbWVzc2FnZSA/IG1lc3NhZ2UgOiAnQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLiBQbGVhc2UgY29udGFjdCBTdHl0Y2ggaWYgdGhpcyBvY2N1cnMuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShJbnRlcm5hbEVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IzKSB7XG4gIF9pbmhlcml0cyQxKE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yLCBfU3R5dGNoU0RLRXJyb3IzKTtcbiAgZnVuY3Rpb24gTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IsIFsnTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3InLCAnVGhlcmUgaXMgbm8gYmlvbWV0cmljIHJlZ2lzdHJhdGlvbiBhdmFpbGFibGUuIEF1dGhlbnRpY2F0ZSB3aXRoIGFub3RoZXIgbWV0aG9kIGFuZCBhZGQgYSBuZXcgYmlvbWV0cmljIHJlZ2lzdHJhdGlvbiBmaXJzdC4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3I0KSB7XG4gIF9pbmhlcml0cyQxKEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yLCBfU3R5dGNoU0RLRXJyb3I0KTtcbiAgZnVuY3Rpb24gQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IsIFsnQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3InLCAnQmlvbWV0cmljcyBpcyBub3QgYXZhaWxhYmxlIG9uIHRoZSBkZXZpY2UuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShCaW9tZXRyaWNzVW5hdmFpbGFibGVFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBLZXlJbnZhbGlkYXRlZEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3I1KSB7XG4gIF9pbmhlcml0cyQxKEtleUludmFsaWRhdGVkRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjUpO1xuICBmdW5jdGlvbiBLZXlJbnZhbGlkYXRlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIEtleUludmFsaWRhdGVkRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgS2V5SW52YWxpZGF0ZWRFcnJvciwgWydLZXlJbnZhbGlkYXRlZEVycm9yJywgJ1RoZSBiaW9tZXRyaWNzIGVucm9sbG1lbnQgb24gdGhlIGRldmljZSBoYXMgY2hhbmdlZC4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKEtleUludmFsaWRhdGVkRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG52YXIgS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3I2KSB7XG4gIF9pbmhlcml0cyQxKEtleXN0b3JlVW5hdmFpbGFibGVFcnJvciwgX1N0eXRjaFNES0Vycm9yNik7XG4gIGZ1bmN0aW9uIEtleXN0b3JlVW5hdmFpbGFibGVFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBLZXlzdG9yZVVuYXZhaWxhYmxlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yLCBbJ0tleXN0b3JlVW5hdmFpbGFibGVFcnJvcicsICdUaGUgQW5kcm9pZCBrZXlzdG9yZSBpcyB1bmF2YWlsYWJsZSBvbiB0aGUgZGV2aWNlLiBDb25zaWRlciBzZXR0aW5nIGFsbG93RmFsbGJhY2tUb0NsZWFydGV4dCB0byB0cnVlLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjcpIHtcbiAgX2luaGVyaXRzJDEoTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yNyk7XG4gIGZ1bmN0aW9uIE5vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yLCBbJ05vQmlvbWV0cmljc0Vucm9sbGVkRXJyb3InLCAnVGhlcmUgaXMgbm8gYmlvbWV0cmljIGZhY3RvciBlbnJvbGxlZCBvbiB0aGUgZGV2aWNlLiBBZGQgYSBiaW9tZXRyaWMgZmFjdG9yIGluIHRoZSBkZXZpY2Ugc2V0dGluZ3MuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShOb0Jpb21ldHJpY3NFbnJvbGxlZEVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIFVzZXJDYW5jZWxsYXRpb25FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yOCkge1xuICBfaW5oZXJpdHMkMShVc2VyQ2FuY2VsbGF0aW9uRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjgpO1xuICBmdW5jdGlvbiBVc2VyQ2FuY2VsbGF0aW9uRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgVXNlckNhbmNlbGxhdGlvbkVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIFVzZXJDYW5jZWxsYXRpb25FcnJvciwgWydVc2VyQ2FuY2VsbGF0aW9uRXJyb3InLCAnVGhlIHVzZXIgY2FuY2VsZWQgdGhlIHByb21wdC4gQXNrIHRoZSB1c2VyIHRvIHRyeSBhZ2Fpbi4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKFVzZXJDYW5jZWxsYXRpb25FcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBVc2VyTG9ja2VkT3V0RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjkpIHtcbiAgX2luaGVyaXRzJDEoVXNlckxvY2tlZE91dEVycm9yLCBfU3R5dGNoU0RLRXJyb3I5KTtcbiAgZnVuY3Rpb24gVXNlckxvY2tlZE91dEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFVzZXJMb2NrZWRPdXRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBVc2VyTG9ja2VkT3V0RXJyb3IsIFsnVXNlckxvY2tlZE91dEVycm9yJywgJ1RoZSB1c2VyIGhhcyBiZWVuIGxvY2tlZCBvdXQgZHVlIHRvIHRvbyBtYW55IGZhaWxlZCBhdHRlbXB0cy4gQXNrIHRoZSB1c2VyIHRvIHRyeSBhZ2FpbiBsYXRlci4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKFVzZXJMb2NrZWRPdXRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTApIHtcbiAgX2luaGVyaXRzJDEoRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjEwKTtcbiAgZnVuY3Rpb24gRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IsIFsnRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3InLCAnVGhlIGRldmljZSBjcmVkZW50aWFscyBhbGxvd21lbnQgaXMgbWlzbWF0Y2hlZC4gQ2hhbmdlIHRoZSBhbGxvd0RldmljZUNyZWRlbnRpYWxzIHBhcmFtZXRlciB0byBiZSB0aGUgc2FtZSBpbiBib3RoIHRoZSByZWdpc3RlciBhbmQgYXV0aGVudGljYXRlIG1ldGhvZHMuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTEpIHtcbiAgX2luaGVyaXRzJDEoTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IsIF9TdHl0Y2hTREtFcnJvcjExKTtcbiAgZnVuY3Rpb24gTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3IsIFsnTWlzc2luZ0dvb2dsZUNsaWVudElERXJyb3InLCAnTm8gR29vZ2xlIGNsaWVudCBJRCB3YXMgZm91bmQgaW4gdGhlIHByb2plY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBNaXNzaW5nUEtDRUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxMikge1xuICBfaW5oZXJpdHMkMShNaXNzaW5nUEtDRUVycm9yLCBfU3R5dGNoU0RLRXJyb3IxMik7XG4gIGZ1bmN0aW9uIE1pc3NpbmdQS0NFRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTWlzc2luZ1BLQ0VFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBNaXNzaW5nUEtDRUVycm9yLCBbJ01pc3NpbmdQS0NFRXJyb3InLCAnTWFrZSBzdXJlIHRoaXMgZmxvdyBpcyBjb21wbGV0ZWQgb24gdGhlIHNhbWUgZGV2aWNlIG9uIHdoaWNoIGl0IHdhcyBzdGFydGVkLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTWlzc2luZ1BLQ0VFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjEzKSB7XG4gIF9pbmhlcml0cyQxKE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvciwgX1N0eXRjaFNES0Vycm9yMTMpO1xuICBmdW5jdGlvbiBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvciwgWydNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3InLCAnVGhlIGF1dGhvcml6YXRpb24gY3JlZGVudGlhbCBpcyBtaXNzaW5nIGFuIElEIHRva2VuLiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxNCkge1xuICBfaW5oZXJpdHMkMShJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvciwgX1N0eXRjaFNES0Vycm9yMTQpO1xuICBmdW5jdGlvbiBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvciwgWydJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcicsICdUaGUgYXV0aG9yaXphdGlvbiBjcmVkZW50aWFsIGlzIGludmFsaWQuIFZlcmlmeSB0aGF0IE9BdXRoIGlzIHNldCB1cCBjb3JyZWN0bHkgaW4gdGhlIGRldmVsb3BlciBjb25zb2xlLCBhbmQgY2FsbCB0aGUgc3RhcnQgZmxvdyBtZXRob2QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShJbnZhbGlkQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxNSkge1xuICBfaW5oZXJpdHMkMShOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yLCBfU3R5dGNoU0RLRXJyb3IxNSk7XG4gIGZ1bmN0aW9uIE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBOb0NyZWRlbnRpYWxzUHJlc2VudEVycm9yLCBbJ05vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3InLCAnVGhlIHVzZXIgZGlkIG5vdCBwcm92aWRlIGNyZWRlbnRpYWxzIGZvciBhIEdvb2dsZSBPbmVUYXAgYXR0ZW1wdCddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBNaXNzaW5nUHVibGljS2V5RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjE2KSB7XG4gIF9pbmhlcml0cyQxKE1pc3NpbmdQdWJsaWNLZXlFcnJvciwgX1N0eXRjaFNES0Vycm9yMTYpO1xuICBmdW5jdGlvbiBNaXNzaW5nUHVibGljS2V5RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTWlzc2luZ1B1YmxpY0tleUVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIE1pc3NpbmdQdWJsaWNLZXlFcnJvciwgWydNaXNzaW5nUHVibGljS2V5RXJyb3InLCAnRmFpbGVkIHRvIHJldHJpZXZlIHRoZSBwdWJsaWMga2V5LiBBZGQgYSBuZXcgYmlvbWV0cmljIHJlZ2lzdHJhdGlvbi4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKE1pc3NpbmdQdWJsaWNLZXlFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjE3KSB7XG4gIF9pbmhlcml0cyQxKENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yMTcpO1xuICBmdW5jdGlvbiBDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvciwgWydDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3InLCAnRmFpbGVkIHRvIHNpZ24gdGhlIGNoYWxsZW5nZSB3aXRoIHRoZSBrZXkuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShDaGFsbGVuZ2VTaWduaW5nRmFpbGVkRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG52YXIgU0RLTm90Q29uZmlndXJlZEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IxOCkge1xuICBfaW5oZXJpdHMkMShTREtOb3RDb25maWd1cmVkRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjE4KTtcbiAgZnVuY3Rpb24gU0RLTm90Q29uZmlndXJlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFNES05vdENvbmZpZ3VyZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBTREtOb3RDb25maWd1cmVkRXJyb3IsIFsnU0RLTm90Q29uZmlndXJlZEVycm9yJywgJ1N0eXRjaCBjbGllbnQgaXMgbm90IGNvbmZpdXJlZC4gWW91IG11c3QgY2FsbCB0aGUgY29uZmlndXJlIG1ldGhvZCBiZWZvcmUgdXNpbmcgdGhlIFNESyddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoU0RLTm90Q29uZmlndXJlZEVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIEZhaWxlZENvZGVDaGFsbGVuZ2VFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMTkpIHtcbiAgX2luaGVyaXRzJDEoRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yLCBfU3R5dGNoU0RLRXJyb3IxOSk7XG4gIGZ1bmN0aW9uIEZhaWxlZENvZGVDaGFsbGVuZ2VFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgRmFpbGVkQ29kZUNoYWxsZW5nZUVycm9yLCBbJ0ZhaWxlZENvZGVDaGFsbGVuZ2VFcnJvcicsICdGYWlsZWQgdG8gY3JlYXRlIGEgY29kZSBjaGFsbGVuZ2UnXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKEZhaWxlZENvZGVDaGFsbGVuZ2VFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjIwKSB7XG4gIF9pbmhlcml0cyQxKFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvciwgX1N0eXRjaFNES0Vycm9yMjApO1xuICBmdW5jdGlvbiBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgUGFzc2tleXNVbnN1cHBvcnRlZEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvciwgWydQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3InLCAnUGFzc2tleXMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UnXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjIxKSB7XG4gIF9pbmhlcml0cyQxKEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciwgX1N0eXRjaFNES0Vycm9yMjEpO1xuICBmdW5jdGlvbiBGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIEZhaWxlZFRvRGVjcnlwdERhdGFFcnJvciwgWydGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3InLCAnRmFpbGVkIHRvIGRlY3J5cHQgdXNlciBkYXRhJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IpO1xufShTdHl0Y2hTREtFcnJvcik7XG52YXIgQmlvbWV0cmljc0ZhaWxlZEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyMikge1xuICBfaW5oZXJpdHMkMShCaW9tZXRyaWNzRmFpbGVkRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjIyKTtcbiAgZnVuY3Rpb24gQmlvbWV0cmljc0ZhaWxlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIEJpb21ldHJpY3NGYWlsZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBCaW9tZXRyaWNzRmFpbGVkRXJyb3IsIFsnQmlvbWV0cmljc0ZhaWxlZEVycm9yJywgJ0Jpb21ldHJpYyBhdXRoZW50aWNhdGlvbiBmYWlsZWQnXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKEJpb21ldHJpY3NGYWlsZWRFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBJbnZhbGlkU3RhcnRVcmxFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjMpIHtcbiAgX2luaGVyaXRzJDEoSW52YWxpZFN0YXJ0VXJsRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjIzKTtcbiAgZnVuY3Rpb24gSW52YWxpZFN0YXJ0VXJsRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgSW52YWxpZFN0YXJ0VXJsRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgSW52YWxpZFN0YXJ0VXJsRXJyb3IsIFsnSW52YWxpZFN0YXJ0VXJsRXJyb3InLCAnVGhlIHN0YXJ0IFVSTCB3YXMgaW52YWxpZCBvciBpbXByb3Blcmx5IGZvcm1hdHRlZC4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKEludmFsaWRTdGFydFVybEVycm9yKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyNCkge1xuICBfaW5oZXJpdHMkMShJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvciwgX1N0eXRjaFNES0Vycm9yMjQpO1xuICBmdW5jdGlvbiBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvciwgWydJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcicsICdUaGUgc2NoZW1lIGZyb20gdGhlIGdpdmVuIHJlZGlyZWN0IHVybHMgd2FzIGludmFsaWQuIFBvc3NpYmxlIHJlYXNvbnMgaW5jbHVkZTogbmlsIHNjaGVtZSwgbm9uLWN1c3RvbSBzY2hlbWUgKHVzaW5nIGh0dHAgb3IgaHR0cHMpLCBvciBkaWZmZXJpbmcgc2NoZW1lcyBmb3IgbG9naW4vc2lnbnVwIHVybHMuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShJbnZhbGlkUmVkaXJlY3RTY2hlbWVFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBNaXNzaW5nVXJsRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjI1KSB7XG4gIF9pbmhlcml0cyQxKE1pc3NpbmdVcmxFcnJvciwgX1N0eXRjaFNES0Vycm9yMjUpO1xuICBmdW5jdGlvbiBNaXNzaW5nVXJsRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTWlzc2luZ1VybEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIE1pc3NpbmdVcmxFcnJvciwgWydNaXNzaW5nVXJsRXJyb3InLCAnVGhlIHVuZGVybHlpbmcgd2ViIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgZmFpbGVkIHRvIHJldHVybiBhIFVSTC4nXSk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyQxKE1pc3NpbmdVcmxFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjYpIHtcbiAgX2luaGVyaXRzJDEoSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjI2KTtcbiAgZnVuY3Rpb24gSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3IsIFsnSW52YWxpZENyZWRlbnRpYWxUeXBlRXJyb3InLCAnVGhlIHB1YmxpYyBrZXkgY3JlZGVudGlhbCB0eXBlIHdhcyBub3Qgb2YgdGhlIGV4cGVjdGVkIHR5cGUuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShJbnZhbGlkQ3JlZGVudGlhbFR5cGVFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjcpIHtcbiAgX2luaGVyaXRzJDEoTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IsIF9TdHl0Y2hTREtFcnJvcjI3KTtcbiAgZnVuY3Rpb24gTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IsIFsnTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3InLCAnVGhlIHB1YmxpYyBrZXkgY3JlZGVudGlhbCBpcyBtaXNzaW5nIHRoZSBhdHRlc3RhdGlvbiBvYmplY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMjgpIHtcbiAgX2luaGVyaXRzJDEoSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IsIF9TdHl0Y2hTREtFcnJvcjI4KTtcbiAgZnVuY3Rpb24gSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IsIFsnSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3InLCAnSlNPTiBkYXRhIHVuYWJsZSB0byBiZSBjb252ZXJ0ZWQgdG8gU3RyaW5nIHR5cGUuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShKU09ORGF0YU5vdENvbnZlcnRpYmxlVG9TdHJpbmdFcnJvcik7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3R5dGNoU0RLRXJyb3IyOSkge1xuICBfaW5oZXJpdHMkMShSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkLCBfU3R5dGNoU0RLRXJyb3IyOSk7XG4gIGZ1bmN0aW9uIFJhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZCk7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIkMSh0aGlzLCBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkLCBbJ1JhbmRvbU51bWJlckdlbmVyYXRpb25GYWlsZWQnLCAnUmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIGZhaWxlZCddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZCk7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBQYXNza2V5c0ludmFsaWRFbmNvZGluZyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0eXRjaFNES0Vycm9yMzApIHtcbiAgX2luaGVyaXRzJDEoUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcsIF9TdHl0Y2hTREtFcnJvcjMwKTtcbiAgZnVuY3Rpb24gUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyJDEodGhpcywgUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcsIFsnUGFzc2tleXNJbnZhbGlkRW5jb2RpbmcnLCAnSW52YWxpZCBwYXNza2V5IGVuY29kaW5nJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShQYXNza2V5c0ludmFsaWRFbmNvZGluZyk7XG59KFN0eXRjaFNES0Vycm9yKTtcbnZhciBQYXNza2V5c01pc2NvbmZpZ3VyZWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjMxKSB7XG4gIF9pbmhlcml0cyQxKFBhc3NrZXlzTWlzY29uZmlndXJlZCwgX1N0eXRjaFNES0Vycm9yMzEpO1xuICBmdW5jdGlvbiBQYXNza2V5c01pc2NvbmZpZ3VyZWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDEodGhpcywgUGFzc2tleXNNaXNjb25maWd1cmVkKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIFBhc3NrZXlzTWlzY29uZmlndXJlZCwgWydQYXNza2V5c01pc2NvbmZpZ3VyZWQnLCAnUGFzc2tleXMgYXJlIG1pc2NvbmZpZ3VyZWQuIFZlcmlmeSB0aGF0IHlvdSBoYXZlIGFkZGVkIHRoZSBjb3JyZWN0IGFzc29jaWF0ZWQgZG9tYWluIGZvciB5b3VyIGFwcGxpY2F0aW9uLCBhbmQgdGhhdCB0aGUgc2lnbmluZyBpbmZvcm1hdGlvbiBpcyBjb3JyZWN0LiddKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzJDEoUGFzc2tleXNNaXNjb25maWd1cmVkKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xudmFyIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdHl0Y2hTREtFcnJvcjMyKSB7XG4gIF9pbmhlcml0cyQxKFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQsIF9TdHl0Y2hTREtFcnJvcjMyKTtcbiAgZnVuY3Rpb24gU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBTaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlciQxKHRoaXMsIFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQsIFsnU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCcsICdTaWduIEluIFdpdGggQXBwbGUgaXMgbWlzY29uZmlndXJlZC4gVmVyaWZ5IHRoYXQgeW91IGhhdmUgY29ycmVjdGx5IGNvbmZpZ3VyZWQgQXBwbGUgT0F1dGggaW4gdGhlIFN0eXRjaCBEYXNoYm9hcmQgYW5kIGFkZGVkIHRoZSBTaWduIEluIFdpdGggQXBwbGUgY2FwYWJpbGl0eSB0byB5b3VyIHByb2plY3QuJ10pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MkMShTaWduSW5XaXRoQXBwbGVNaXNjb25maWd1cmVkKTtcbn0oU3R5dGNoU0RLRXJyb3IpO1xuZnVuY3Rpb24gZXJyb3JUb1N0eXRjaEVycm9yKGVycm9yKSB7XG4gIHN3aXRjaCAoZXJyb3IubWVzc2FnZSkge1xuICAgIGNhc2UgJ2ludGVybmFsX2Vycm9yJzpcbiAgICAgIHJldHVybiBuZXcgSW50ZXJuYWxFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICBjYXNlICdub19jdXJyZW50X3Nlc3Npb24nOlxuICAgICAgcmV0dXJuIG5ldyBOb0N1cnJlbnRTZXNzaW9uRXJyb3IoKTtcbiAgICBjYXNlICdub19iaW9tZXRyaWNzX3JlZ2lzdHJhdGlvbic6XG4gICAgICByZXR1cm4gbmV3IE5vQmlvbWV0cmljc1JlZ2lzdHJhdGlvbkVycm9yKCk7XG4gICAgY2FzZSAnYmlvbWV0cmljc191bmF2YWlsYWJsZSc6XG4gICAgICByZXR1cm4gbmV3IEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgY2FzZSAna2V5X2ludmFsaWRhdGVkJzpcbiAgICAgIHJldHVybiBuZXcgS2V5SW52YWxpZGF0ZWRFcnJvcigpO1xuICAgIGNhc2UgJ2RldmljZV9oYXJkd2FyZV9lcnJvcic6XG4gICAgICByZXR1cm4gbmV3IEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgY2FzZSAnYmlvbWV0cmljc19ub3RfYXZhaWxhYmxlJzpcbiAgICAgIHJldHVybiBuZXcgQmlvbWV0cmljc1VuYXZhaWxhYmxlRXJyb3IoKTtcbiAgICBjYXNlICdub19iaW9tZXRyaWNzX2Vucm9sbGVkJzpcbiAgICAgIHJldHVybiBuZXcgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvcigpO1xuICAgIGNhc2UgJ2tleXN0b3JlX3VuYXZhaWxhYmxlJzpcbiAgICAgIHJldHVybiBuZXcgS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yKCk7XG4gICAgY2FzZSAnbm9fYmlvbWV0cmljX2tleSc6XG4gICAgICByZXR1cm4gbmV3IEtleUludmFsaWRhdGVkRXJyb3IoKTtcbiAgICBjYXNlICdkZXZpY2VfY3JlZGVudGlhbHNfbm90X2FsbG93ZWQnOlxuICAgICAgcmV0dXJuIG5ldyBEZXZpY2VDcmVkZW50aWFsc05vdEFsbG93ZWRFcnJvcigpO1xuICAgIGNhc2UgJ3VzZXJfY2FuY2VsbGF0aW9uJzpcbiAgICAgIHJldHVybiBuZXcgVXNlckNhbmNlbGxhdGlvbkVycm9yKCk7XG4gICAgY2FzZSAndXNlcl9sb2NrZWRfb3V0JzpcbiAgICAgIHJldHVybiBuZXcgVXNlckxvY2tlZE91dEVycm9yKCk7XG4gICAgY2FzZSAnZ29vZ2xlX29uZXRhcF9taXNzaW5nX2lkX3Rva2VuJzpcbiAgICAgIHJldHVybiBuZXcgTWlzc2luZ0F1dGhvcml6YXRpb25DcmVkZW50aWFsSURUb2tlbkVycm9yKCk7XG4gICAgY2FzZSAnZ29vZ2xlX29uZXRhcF9taXNzaW5nX21lbWJlcic6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKCk7XG4gICAgY2FzZSAnb2F1dGhfYXBwbGVfbWlzc2luZ19pZF90b2tlbic6XG4gICAgICByZXR1cm4gbmV3IE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvcigpO1xuICAgIGNhc2UgJ29hdXRoX2FwcGxlX2NyZWRlbnRpYWxfaW52YWxpZCc6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKCk7XG4gICAgY2FzZSAnbWlzc2luZ19wdWJsaWNfa2V5JzpcbiAgICAgIHJldHVybiBuZXcgTWlzc2luZ1B1YmxpY0tleUVycm9yKCk7XG4gICAgY2FzZSAnY2hhbGxlbmdlX3NpZ25pbmdfZmFpbGVkJzpcbiAgICAgIHJldHVybiBuZXcgQ2hhbGxlbmdlU2lnbmluZ0ZhaWxlZEVycm9yKCk7XG4gICAgY2FzZSAnbWlzc2luZ19hdXRob3JpemF0aW9uX2NyZWRlbnRpYWxfaWRfdG9rZW4nOlxuICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQXV0aG9yaXphdGlvbkNyZWRlbnRpYWxJRFRva2VuRXJyb3IoKTtcbiAgICBjYXNlICdpbnZhbGlkX2F1dGhvcml6YXRpb25fY3JlZGVudGlhbCc6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yKCk7XG4gICAgY2FzZSAnbm9fY3JlZGVudGlhbHNfcHJlc2VudCc6XG4gICAgICByZXR1cm4gbmV3IE5vQ3JlZGVudGlhbHNQcmVzZW50RXJyb3IoKTtcbiAgICBjYXNlICdzZGtfbm90X2NvbmZpZ3VyZWQnOlxuICAgICAgcmV0dXJuIG5ldyBTREtOb3RDb25maWd1cmVkRXJyb3IoKTtcbiAgICBjYXNlICdmYWlsZWRfY29kZV9jaGFsbGVuZ2UnOlxuICAgICAgcmV0dXJuIG5ldyBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IoKTtcbiAgICBjYXNlICdwYXNza2V5c191bnN1cHBvcnRlZCc6XG4gICAgICByZXR1cm4gbmV3IFBhc3NrZXlzVW5zdXBwb3J0ZWRFcnJvcigpO1xuICAgIGNhc2UgJ2ZhaWxlZF90b19kZWNyeXB0X2RhdGEnOlxuICAgICAgcmV0dXJuIG5ldyBGYWlsZWRUb0RlY3J5cHREYXRhRXJyb3IoKTtcbiAgICBjYXNlICdiaW9tZXRyaWNzX2ZhaWxlZCc6XG4gICAgICByZXR1cm4gbmV3IEJpb21ldHJpY3NGYWlsZWRFcnJvcigpO1xuICAgIGNhc2UgJ2ludmFsaWRfc3RhcnRfdXJsJzpcbiAgICAgIHJldHVybiBuZXcgSW52YWxpZFN0YXJ0VXJsRXJyb3IoKTtcbiAgICBjYXNlICdpbnZhbGlkX3JlZGlyZWN0X3NjaGVtZSc6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yKCk7XG4gICAgY2FzZSAnbWlzc2luZ191cmwnOlxuICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nVXJsRXJyb3IoKTtcbiAgICBjYXNlICdpbnZhbGlkX2NyZWRlbnRpYWxfdHlwZSc6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yKCk7XG4gICAgY2FzZSAnbWlzc2luZ19hdHRlc3RhdGlvbl9vYmplY3QnOlxuICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQXR0ZXN0YXRpb25PYmplY3RFcnJvcigpO1xuICAgIGNhc2UgJ2pzb25fZGF0YV9ub3RfY29udmVydGlibGVfdG9fc3RyaW5nJzpcbiAgICAgIHJldHVybiBuZXcgSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IoKTtcbiAgICBjYXNlICdyYW5kb21fbnVtYmVyX2dlbmVyYXRpb25fZmFpbGVkJzpcbiAgICAgIHJldHVybiBuZXcgUmFuZG9tTnVtYmVyR2VuZXJhdGlvbkZhaWxlZCgpO1xuICAgIGNhc2UgJ3Bhc3NrZXlzX2ludmFsaWRfZW5jb2RpbmcnOlxuICAgICAgcmV0dXJuIG5ldyBQYXNza2V5c0ludmFsaWRFbmNvZGluZygpO1xuICAgIGNhc2UgJ3Bhc3NrZXlzX21pc2NvbmZpZ3VyZWQnOlxuICAgICAgcmV0dXJuIG5ldyBQYXNza2V5c01pc2NvbmZpZ3VyZWQoKTtcbiAgICBjYXNlICdzaWduaW53aXRoYXBwbGVfbWlzY29uZmlndXJlZCc6XG4gICAgICByZXR1cm4gbmV3IFNpZ25JbldpdGhBcHBsZU1pc2NvbmZpZ3VyZWQoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG5ldyBTdHl0Y2hTREtFcnJvcihlcnJvci5uYW1lLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxufVxudmFyIEIyQlByb2R1Y3RzO1xuKGZ1bmN0aW9uIChCMkJQcm9kdWN0cykge1xuICBCMkJQcm9kdWN0c1tcImVtYWlsTWFnaWNMaW5rc1wiXSA9IFwiZW1haWxNYWdpY0xpbmtzXCI7XG4gIEIyQlByb2R1Y3RzW1wic3NvXCJdID0gXCJzc29cIjtcbiAgQjJCUHJvZHVjdHNbXCJwYXNzd29yZHNcIl0gPSBcInBhc3N3b3Jkc1wiO1xuICBCMkJQcm9kdWN0c1tcIm9hdXRoXCJdID0gXCJvYXV0aFwiO1xufSkoQjJCUHJvZHVjdHMgfHwgKEIyQlByb2R1Y3RzID0ge30pKTtcbnZhciBBdXRoRmxvd1R5cGU7XG4oZnVuY3Rpb24gKEF1dGhGbG93VHlwZSkge1xuICBBdXRoRmxvd1R5cGVbXCJEaXNjb3ZlcnlcIl0gPSBcIkRpc2NvdmVyeVwiO1xuICBBdXRoRmxvd1R5cGVbXCJPcmdhbml6YXRpb25cIl0gPSBcIk9yZ2FuaXphdGlvblwiO1xuICBBdXRoRmxvd1R5cGVbXCJQYXNzd29yZFJlc2V0XCJdID0gXCJQYXNzd29yZFJlc2V0XCI7XG59KShBdXRoRmxvd1R5cGUgfHwgKEF1dGhGbG93VHlwZSA9IHt9KSk7XG52YXIgQjJCTUZBUHJvZHVjdHM7XG4oZnVuY3Rpb24gKEIyQk1GQVByb2R1Y3RzKSB7XG4gIEIyQk1GQVByb2R1Y3RzW1wic21zT3RwXCJdID0gXCJzbXNPdHBcIjtcbiAgQjJCTUZBUHJvZHVjdHNbXCJ0b3RwXCJdID0gXCJ0b3RwXCI7XG59KShCMkJNRkFQcm9kdWN0cyB8fCAoQjJCTUZBUHJvZHVjdHMgPSB7fSkpO1xudmFyIEIyQk9BdXRoUHJvdmlkZXJzO1xuKGZ1bmN0aW9uIChCMkJPQXV0aFByb3ZpZGVycykge1xuICBCMkJPQXV0aFByb3ZpZGVyc1tcIkdvb2dsZVwiXSA9IFwiZ29vZ2xlXCI7XG4gIEIyQk9BdXRoUHJvdmlkZXJzW1wiTWljcm9zb2Z0XCJdID0gXCJtaWNyb3NvZnRcIjtcbn0pKEIyQk9BdXRoUHJvdmlkZXJzIHx8IChCMkJPQXV0aFByb3ZpZGVycyA9IHt9KSk7XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbn1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkge1xuICB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSB0KSB7XG4gICAgdmFyIGUsXG4gICAgICBuLFxuICAgICAgaSxcbiAgICAgIHUsXG4gICAgICBhID0gW10sXG4gICAgICBmID0gITAsXG4gICAgICBvID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHtcbiAgICAgICAgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuO1xuICAgICAgICBmID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7XG4gICAgfSBjYXRjaCAocikge1xuICAgICAgbyA9ICEwLCBuID0gcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFmICYmIG51bGwgIT0gdFtcInJldHVyblwiXSAmJiAodSA9IHRbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG8pIHRocm93IG47XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG59XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkge1xuICB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKCFpdCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UpIHtcbiAgICAgIGlmIChpdCkgbyA9IGl0O1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzOiBGLFxuICAgICAgICBuOiBmdW5jdGlvbiBuKCkge1xuICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGU6IGZ1bmN0aW9uIGUoX2UpIHtcbiAgICAgICAgICB0aHJvdyBfZTtcbiAgICAgICAgfSxcbiAgICAgICAgZjogRlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICB9XG4gIHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSxcbiAgICBkaWRFcnIgPSBmYWxzZSxcbiAgICBlcnI7XG4gIHJldHVybiB7XG4gICAgczogZnVuY3Rpb24gcygpIHtcbiAgICAgIGl0ID0gaXQuY2FsbChvKTtcbiAgICB9LFxuICAgIG46IGZ1bmN0aW9uIG4oKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTtcbiAgICAgIG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7XG4gICAgICByZXR1cm4gc3RlcDtcbiAgICB9LFxuICAgIGU6IGZ1bmN0aW9uIGUoX2UyKSB7XG4gICAgICBkaWRFcnIgPSB0cnVlO1xuICAgICAgZXJyID0gX2UyO1xuICAgIH0sXG4gICAgZjogZnVuY3Rpb24gZigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGRpZEVycikgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvO1xuICB9IDogZnVuY3Rpb24gKG8pIHtcbiAgICByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbztcbiAgfSwgX3R5cGVvZihvKTtcbn1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7XG4gIC8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi9cbiAgX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7XG4gICAgcmV0dXJuIGU7XG4gIH07XG4gIHZhciB0LFxuICAgIGUgPSB7fSxcbiAgICByID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICBuID0gci5oYXNPd25Qcm9wZXJ0eSxcbiAgICBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7XG4gICAgICB0W2VdID0gci52YWx1ZTtcbiAgICB9LFxuICAgIGkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LFxuICAgIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLFxuICAgIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIixcbiAgICB1ID0gaS50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcbiAgZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHtcbiAgICAgIHZhbHVlOiByLFxuICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgd3JpdGFibGU6ICEwXG4gICAgfSksIHRbZV07XG4gIH1cbiAgdHJ5IHtcbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoICh0KSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHtcbiAgICAgIHJldHVybiB0W2VdID0gcjtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHdyYXAodCwgZSwgciwgbikge1xuICAgIHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsXG4gICAgICBhID0gT2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksXG4gICAgICBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7XG4gICAgcmV0dXJuIG8oYSwgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpXG4gICAgfSksIGE7XG4gIH1cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2godCwgZSwgcikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm5vcm1hbFwiLFxuICAgICAgICBhcmc6IHQuY2FsbChlLCByKVxuICAgICAgfTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInRocm93XCIsXG4gICAgICAgIGFyZzogdFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgZS53cmFwID0gd3JhcDtcbiAgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsXG4gICAgbCA9IFwic3VzcGVuZGVkWWllbGRcIixcbiAgICBmID0gXCJleGVjdXRpbmdcIixcbiAgICBzID0gXCJjb21wbGV0ZWRcIixcbiAgICB5ID0ge307XG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuICB2YXIgcCA9IHt9O1xuICBkZWZpbmUocCwgYSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTtcbiAgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpO1xuICB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApO1xuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkge1xuICAgIGZ1bmN0aW9uIGludm9rZShyLCBvLCBpLCBhKSB7XG4gICAgICB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pO1xuICAgICAgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7XG4gICAgICAgIHZhciB1ID0gYy5hcmcsXG4gICAgICAgICAgaCA9IHUudmFsdWU7XG4gICAgICAgIHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdCwgaSwgYSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7XG4gICAgICAgIH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICB1LnZhbHVlID0gdCwgaSh1KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYShjLmFyZyk7XG4gICAgfVxuICAgIHZhciByO1xuICAgIG8odGhpcywgXCJfaW52b2tlXCIsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh0LCBuKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICAgIHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikge1xuICAgICAgICAgICAgaW52b2tlKHQsIG4sIGUsIHIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHtcbiAgICB2YXIgbyA9IGg7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpLCBhKSB7XG4gICAgICBpZiAobyA9PT0gZikgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIGlmIChvID09PSBzKSB7XG4gICAgICAgIGlmIChcInRocm93XCIgPT09IGkpIHRocm93IGE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IHQsXG4gICAgICAgICAgZG9uZTogITBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGZvciAobi5tZXRob2QgPSBpLCBuLmFyZyA9IGE7Oykge1xuICAgICAgICB2YXIgYyA9IG4uZGVsZWdhdGU7XG4gICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pO1xuICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICBpZiAodSA9PT0geSkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gdTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHtcbiAgICAgICAgICBpZiAobyA9PT0gaCkgdGhyb3cgbyA9IHMsIG4uYXJnO1xuICAgICAgICAgIG4uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpO1xuICAgICAgICB9IGVsc2UgXCJyZXR1cm5cIiA9PT0gbi5tZXRob2QgJiYgbi5hYnJ1cHQoXCJyZXR1cm5cIiwgbi5hcmcpO1xuICAgICAgICBvID0gZjtcbiAgICAgICAgdmFyIHAgPSB0cnlDYXRjaChlLCByLCBuKTtcbiAgICAgICAgaWYgKFwibm9ybWFsXCIgPT09IHAudHlwZSkge1xuICAgICAgICAgIGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHAuYXJnLFxuICAgICAgICAgICAgZG9uZTogbi5kb25lXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikge1xuICAgIHZhciBuID0gci5tZXRob2QsXG4gICAgICBvID0gZS5pdGVyYXRvcltuXTtcbiAgICBpZiAobyA9PT0gdCkgcmV0dXJuIHIuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG4gJiYgZS5pdGVyYXRvcltcInJldHVyblwiXSAmJiAoci5tZXRob2QgPSBcInJldHVyblwiLCByLmFyZyA9IHQsIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgciksIFwidGhyb3dcIiA9PT0gci5tZXRob2QpIHx8IFwicmV0dXJuXCIgIT09IG4gJiYgKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG4gKyBcIicgbWV0aG9kXCIpKSwgeTtcbiAgICB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTtcbiAgICBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7XG4gICAgdmFyIGEgPSBpLmFyZztcbiAgICByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7XG4gICAgdmFyIGUgPSB7XG4gICAgICB0cnlMb2M6IHRbMF1cbiAgICB9O1xuICAgIDEgaW4gdCAmJiAoZS5jYXRjaExvYyA9IHRbMV0pLCAyIGluIHQgJiYgKGUuZmluYWxseUxvYyA9IHRbMl0sIGUuYWZ0ZXJMb2MgPSB0WzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeSh0KSB7XG4gICAgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307XG4gICAgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlO1xuICB9XG4gIGZ1bmN0aW9uIENvbnRleHQodCkge1xuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gICAgICB0cnlMb2M6IFwicm9vdFwiXG4gICAgfV0sIHQuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTtcbiAgfVxuICBmdW5jdGlvbiB2YWx1ZXMoZSkge1xuICAgIGlmIChlIHx8IFwiXCIgPT09IGUpIHtcbiAgICAgIHZhciByID0gZVthXTtcbiAgICAgIGlmIChyKSByZXR1cm4gci5jYWxsKGUpO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTtcbiAgICAgIGlmICghaXNOYU4oZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBvID0gLTEsXG4gICAgICAgICAgaSA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICBmb3IgKDsgKytvIDwgZS5sZW5ndGg7KSBpZiAobi5jYWxsKGUsIG8pKSByZXR1cm4gbmV4dC52YWx1ZSA9IGVbb10sIG5leHQuZG9uZSA9ICExLCBuZXh0O1xuICAgICAgICAgICAgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5uZXh0ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpO1xuICB9XG4gIHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHtcbiAgICB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgY29uZmlndXJhYmxlOiAhMFxuICB9KSwgbyhHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7XG4gICAgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLFxuICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkge1xuICAgIHZhciBlID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ICYmIHQuY29uc3RydWN0b3I7XG4gICAgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTtcbiAgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDtcbiAgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXdhaXQ6IHRcbiAgICB9O1xuICB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGMsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkge1xuICAgIHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpO1xuICAgIHZhciBhID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcCh0LCByLCBuLCBvKSwgaSk7XG4gICAgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gdC5kb25lID8gdC52YWx1ZSA6IGEubmV4dCgpO1xuICAgIH0pO1xuICB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfSksIGUua2V5cyA9IGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIGUgPSBPYmplY3QodCksXG4gICAgICByID0gW107XG4gICAgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7XG4gICAgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgZm9yICg7IHIubGVuZ3RoOykge1xuICAgICAgICB2YXIgdCA9IHIucG9wKCk7XG4gICAgICAgIGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7XG4gICAgfTtcbiAgfSwgZS52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7XG4gICAgICBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7XG4gICAgfSxcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gITA7XG4gICAgICB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO1xuICAgICAgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZztcbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkge1xuICAgICAgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZTtcbiAgICAgIHZhciByID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykge1xuICAgICAgICB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSxcbiAgICAgICAgICBhID0gaS5jb21wbGV0aW9uO1xuICAgICAgICBpZiAoXCJyb290XCIgPT09IGkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICBpZiAoaS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSxcbiAgICAgICAgICAgIHUgPSBuLmNhbGwoaSwgXCJmaW5hbGx5TG9jXCIpO1xuICAgICAgICAgIGlmIChjICYmIHUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF1KSB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHQsIGUpIHtcbiAgICAgIGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHtcbiAgICAgICAgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07XG4gICAgICAgIGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgaSA9IG87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTtcbiAgICAgIHZhciBhID0gaSA/IGkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmV0dXJuIGEudHlwZSA9IHQsIGEuYXJnID0gZSwgaSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBpLmZpbmFsbHlMb2MsIHkpIDogdGhpcy5jb21wbGV0ZShhKTtcbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7XG4gICAgICBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnO1xuICAgICAgcmV0dXJuIFwiYnJlYWtcIiA9PT0gdC50eXBlIHx8IFwiY29udGludWVcIiA9PT0gdC50eXBlID8gdGhpcy5uZXh0ID0gdC5hcmcgOiBcInJldHVyblwiID09PSB0LnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSB0LmFyZywgdGhpcy5tZXRob2QgPSBcInJldHVyblwiLCB0aGlzLm5leHQgPSBcImVuZFwiKSA6IFwibm9ybWFsXCIgPT09IHQudHlwZSAmJiBlICYmICh0aGlzLm5leHQgPSBlKSwgeTtcbiAgICB9LFxuICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHtcbiAgICAgIGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07XG4gICAgICAgIGlmIChyLmZpbmFsbHlMb2MgPT09IHQpIHJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbiwgci5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkociksIHk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7XG4gICAgICBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7XG4gICAgICAgIHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdO1xuICAgICAgICBpZiAoci50cnlMb2MgPT09IHQpIHtcbiAgICAgICAgICB2YXIgbiA9IHIuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHtcbiAgICAgICAgICAgIHZhciBvID0gbi5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChlLCByLCBuKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcixcbiAgICAgICAgbmV4dExvYzogblxuICAgICAgfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5O1xuICAgIH1cbiAgfSwgZTtcbn1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7XG4gIHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IFN0cmluZyhpKTtcbn1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7XG4gIGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0O1xuICB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgIHZhciBpID0gZS5jYWxsKHQsIHIpO1xuICAgIGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gU3RyaW5nKHQpO1xufVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkge1xuICByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpO1xufVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgfVxuICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG4gIHJldHVybiBzZWxmO1xufVxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gIH1cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcbiAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG4gICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG59XG5mdW5jdGlvbiBfY29uc3RydWN0KHQsIGUsIHIpIHtcbiAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIHZhciBvID0gW251bGxdO1xuICBvLnB1c2guYXBwbHkobywgZSk7XG4gIHZhciBwID0gbmV3ICh0LmJpbmQuYXBwbHkodCwgbykpKCk7XG4gIHJldHVybiByICYmIF9zZXRQcm90b3R5cGVPZihwLCByLnByb3RvdHlwZSksIHA7XG59XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICB0cnkge1xuICAgIHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgfSBjYXRjaCAodCkge31cbiAgcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICByZXR1cm4gISF0O1xuICB9KSgpO1xufVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG59XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxudmFyIFRFU1RfQVBJX1VSTCA9ICdodHRwczovL3Rlc3Quc3R5dGNoLmNvbSc7XG52YXIgTElWRV9BUElfVVJMID0gJ2h0dHBzOi8vYXBpLnN0eXRjaC5jb20nO1xudmFyIENMSUVOVFNJREVfU0VSVklDRVNfSUZSQU1FX1VSTCA9ICdodHRwczovL2pzLnN0eXRjaC5jb20vY2xpZW50c2lkZS1zZXJ2aWNlcy9pbmRleC5odG1sJztcbnZhciBTVFlUQ0hfV0VCX0JBQ0tFTkRfVVJMID0gXCJodHRwczovL3dlYi5zdHl0Y2guY29tXCI7XG52YXIgU1RZVENIX0RGUF9CQUNLRU5EX1VSTCA9IFwiaHR0cHM6Ly90ZWxlbWV0cnkuc3R5dGNoLmNvbVwiO1xudmFyIFNUWVRDSF9ERlBfQ0ROX1VSTCA9IFwiaHR0cHM6Ly9lbGVtZW50cy5zdHl0Y2guY29tXCI7XG52YXIgR09PR0xFX09ORV9UQVBfSE9TVCA9ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vZ3NpJztcbnZhciBHT09HTEVfT05FX1RBUF9TQ1JJUFRfVVJMID0gXCJcIi5jb25jYXQoR09PR0xFX09ORV9UQVBfSE9TVCwgXCIvY2xpZW50XCIpO1xudmFyIERFRkFVTFRfU0VTU0lPTl9EVVJBVElPTl9NSU5VVEVTID0gMzA7XG5mdW5jdGlvbiBfX2F3YWl0ZXIkMSh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcbnZhciBSZXRyaWFibGVFcnJvclR5cGU7XG4oZnVuY3Rpb24gKFJldHJpYWJsZUVycm9yVHlwZSkge1xuICBSZXRyaWFibGVFcnJvclR5cGVbXCJSZXF1aXJlZENhdGNoYVwiXSA9IFwiQ2F0Y2hhIFJlcXVpcmVkXCI7XG59KShSZXRyaWFibGVFcnJvclR5cGUgfHwgKFJldHJpYWJsZUVycm9yVHlwZSA9IHt9KSk7XG52YXIgUmV0cmlhYmxlRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHMoUmV0cmlhYmxlRXJyb3IsIF9FcnJvcik7XG4gIGZ1bmN0aW9uIFJldHJpYWJsZUVycm9yKHR5cGUpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJldHJpYWJsZUVycm9yKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgUmV0cmlhYmxlRXJyb3IsIFt0eXBlXSk7XG4gICAgX3RoaXMudHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoUmV0cmlhYmxlRXJyb3IpO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbmZ1bmN0aW9uIHJldHJpYWJsZUZldGNoU0RLKF9yZWYpIHtcbiAgdmFyIG1ldGhvZCA9IF9yZWYubWV0aG9kLFxuICAgIGVycm9yTWVzc2FnZSA9IF9yZWYuZXJyb3JNZXNzYWdlLFxuICAgIGZpbmFsVVJMID0gX3JlZi5maW5hbFVSTCxcbiAgICBiYXNpY0F1dGhIZWFkZXIgPSBfcmVmLmJhc2ljQXV0aEhlYWRlcixcbiAgICB4U0RLQ2xpZW50SGVhZGVyID0gX3JlZi54U0RLQ2xpZW50SGVhZGVyLFxuICAgIHhTREtQYXJlbnRIb3N0SGVhZGVyID0gX3JlZi54U0RLUGFyZW50SG9zdEhlYWRlcixcbiAgICBib2R5ID0gX3JlZi5ib2R5LFxuICAgIHJldHJ5Q2FsbGJhY2sgPSBfcmVmLnJldHJ5Q2FsbGJhY2s7XG4gIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgdmFyIHJlcTtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXEgPSB7XG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgZmluYWxVUkw6IGZpbmFsVVJMLFxuICAgICAgICAgICAgYmFzaWNBdXRoSGVhZGVyOiBiYXNpY0F1dGhIZWFkZXIsXG4gICAgICAgICAgICB4U0RLQ2xpZW50SGVhZGVyOiB4U0RLQ2xpZW50SGVhZGVyLFxuICAgICAgICAgICAgeFNES1BhcmVudEhvc3RIZWFkZXI6IHhTREtQYXJlbnRIb3N0SGVhZGVyLFxuICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICAgIH07XG4gICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgcmV0dXJuIGJhc2VGZXRjaFNESyhyZXEpO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dC5zZW50KTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3O1xuICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxKTtcbiAgICAgICAgICBpZiAoIShfY29udGV4dC50MCBpbnN0YW5jZW9mIFJldHJpYWJsZUVycm9yKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICByZXR1cm4gcmV0cnlDYWxsYmFjayhfY29udGV4dC50MCwgcmVxKTtcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICByZXEgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTtcbiAgICAgICAgICByZXR1cm4gYmFzZUZldGNoU0RLKHJlcSk7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dC5zZW50KTtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICB0aHJvdyBfY29udGV4dC50MDtcbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA3XV0pO1xuICB9KSk7XG59XG5mdW5jdGlvbiBiYXNlRmV0Y2hTREsoX3JlZjIpIHtcbiAgdmFyIG1ldGhvZCA9IF9yZWYyLm1ldGhvZCxcbiAgICBmaW5hbFVSTCA9IF9yZWYyLmZpbmFsVVJMLFxuICAgIGJhc2ljQXV0aEhlYWRlciA9IF9yZWYyLmJhc2ljQXV0aEhlYWRlcixcbiAgICB4U0RLQ2xpZW50SGVhZGVyID0gX3JlZjIueFNES0NsaWVudEhlYWRlcixcbiAgICB4U0RLUGFyZW50SG9zdEhlYWRlciA9IF9yZWYyLnhTREtQYXJlbnRIb3N0SGVhZGVyLFxuICAgIGJvZHkgPSBfcmVmMi5ib2R5O1xuICB2YXIgX2E7XG4gIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgIHZhciBoZWFkZXJzLCBmZXRjaE9wdHMsIHJlc3AsIF9yZXNwRGF0YSwgcmVzcEVycm9yLCByZXNwRGF0YTtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgaGVhZGVycyA9IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGJhc2ljQXV0aEhlYWRlcixcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnWC1TREstQ2xpZW50JzogeFNES0NsaWVudEhlYWRlclxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHhTREtQYXJlbnRIb3N0SGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydYLVNESy1QYXJlbnQtSG9zdCddID0geFNES1BhcmVudEhvc3RIZWFkZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZldGNoT3B0cyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgJiYgSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMztcbiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7XG4gICAgICAgICAgcmV0dXJuIGZldGNoKGZpbmFsVVJMLCBmZXRjaE9wdHMpO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7XG4gICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMyk7XG4gICAgICAgICAgaWYgKCEoX2NvbnRleHQyLnQwLm1lc3NhZ2UgPT09ICdGYWlsZWQgdG8gZmV0Y2gnKSkge1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcignVW5hYmxlIHRvIGNvbnRhY3QgdGhlIFN0eXRjaCBzZXJ2ZXJzLiBBcmUgeW91IG9ubGluZT8nKTtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICB0aHJvdyBfY29udGV4dDIudDA7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgaWYgKCEocmVzcC5zdGF0dXMgPD0gMjk5KSkge1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE1O1xuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7XG4gICAgICAgICAgcmV0dXJuIHJlc3AuanNvbigpO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIF9yZXNwRGF0YSA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIF9yZXNwRGF0YS5kYXRhKTtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyO1xuICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MltcImNhdGNoXCJdKDE1KTtcbiAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcignSW52YWxpZCBKU09OIHJlc3BvbnNlIGZyb20gdGhlIFN0eXRjaCBzZXJ2ZXJzLicpO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIGlmICghKHJlc3Auc3RhdHVzICE9PSAyMDAgJiYgKChfYSA9IHJlc3AuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkpKSB7XG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM4O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjY7XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTtcbiAgICAgICAgICByZXR1cm4gcmVzcC5qc29uKCk7XG4gICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgcmVzcEVycm9yID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDMyO1xuICAgICAgICAgIF9jb250ZXh0Mi50MiA9IF9jb250ZXh0MltcImNhdGNoXCJdKDI2KTtcbiAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcignSW52YWxpZCBvciBubyByZXNwb25zZSBmcm9tIHNlcnZlcicpO1xuICAgICAgICBjYXNlIDM1OlxuICAgICAgICAgIGlmICghKCdib2R5JyBpbiByZXNwRXJyb3IgfHwgJ3BhcmFtcycgaW4gcmVzcEVycm9yIHx8ICdxdWVyeScgaW4gcmVzcEVycm9yKSkge1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoQVBJU2NoZW1hRXJyb3IocmVzcEVycm9yKTtcbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoQVBJRXJyb3IocmVzcEVycm9yKTtcbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM4O1xuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDE7XG4gICAgICAgICAgcmV0dXJuIHJlc3AudGV4dCgpO1xuICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgIHJlc3BEYXRhID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0NztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0NDpcbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ0O1xuICAgICAgICAgIF9jb250ZXh0Mi50MyA9IF9jb250ZXh0MltcImNhdGNoXCJdKDM4KTtcbiAgICAgICAgICB0aHJvdyBuZXcgU3R5dGNoQVBJVW5yZWFjaGFibGVFcnJvcignSW52YWxpZCByZXNwb25zZSBmcm9tIHRoZSBTdHl0Y2ggc2VydmVycy4nKTtcbiAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICBpZiAoIXJlc3BEYXRhLmluY2x1ZGVzKCdDYXB0Y2hhIHJlcXVpcmVkJykpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IFJldHJpYWJsZUVycm9yKFJldHJpYWJsZUVycm9yVHlwZS5SZXF1aXJlZENhdGNoYSk7XG4gICAgICAgIGNhc2UgNDk6XG4gICAgICAgICAgdGhyb3cgbmV3IFN0eXRjaEFQSVVucmVhY2hhYmxlRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZnJvbSB0aGUgU3R5dGNoIHNlcnZlcnMuJyk7XG4gICAgICAgIGNhc2UgNTA6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCA5XSwgWzE1LCAyMl0sIFsyNiwgMzJdLCBbMzgsIDQ0XV0pO1xuICB9KSk7XG59XG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZnVuY3Rpb24gcm5nKCkge1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn1cbnZhciBSRUdFWCA9IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmZ1bmN0aW9uIHZhbGlkYXRlJDEodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KGFycikge1xuICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCF2YWxpZGF0ZSQxKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuICByZXR1cm4gdXVpZDtcbn1cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7XG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG52YXIgTW9kdWxlUHJvbWlzZUNhY2hlID0ge307XG5mdW5jdGlvbiBsb2FkRVNNb2R1bGUodXJsLCBtb2R1bGVGcm9tR2xvYmFsU2NvcGUpIHtcbiAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGlmICghKE1vZHVsZVByb21pc2VDYWNoZVt1cmxdICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgTW9kdWxlUHJvbWlzZUNhY2hlW3VybF0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgTW9kdWxlUHJvbWlzZUNhY2hlW3VybF0gPSBsb2FkRVNNb2R1bGVGcm9tTmV0d29yayh1cmwsIG1vZHVsZUZyb21HbG9iYWxTY29wZSk7XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgTW9kdWxlUHJvbWlzZUNhY2hlW3VybF0pO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMyk7XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGxvYWRFU01vZHVsZUZyb21OZXR3b3JrKHVybCwgbW9kdWxlRnJvbUdsb2JhbFNjb3BlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIG1heWJlU2NyaXB0ID0gZmluZFNjcmlwdCh1cmwpO1xuICAgIGlmIChtYXliZVNjcmlwdCAmJiBtYXliZVNjcmlwdC5kYXRhc2V0LmxvYWRlZCA9PT0gJ3RydWUnKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlKG1vZHVsZUZyb21HbG9iYWxTY29wZSgpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIlwiLmNvbmNhdCh1cmwsIFwiIGFscmVhZHkgbG9hZGVkLCBidXQgbW9kdWxlIHdhcyBub3QgZm91bmQgaW4gZ2xvYmFsIHNjb3BlOiBcIikuY29uY2F0KGVycikpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHNjcmlwdCA9IGNyZWF0ZVNjcmlwdCh1cmwpO1xuICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgc2NyaXB0LmRhdGFzZXQubG9hZGVkID0gJ3RydWUnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb2x2ZShtb2R1bGVGcm9tR2xvYmFsU2NvcGUoKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlwiLmNvbmNhdCh1cmwsIFwiIHdhcyBsb2FkZWQsIGJ1dCBtb2R1bGUgd2FzIG5vdCBmb3VuZCBpbiBnbG9iYWwgc2NvcGU6IFwiKS5jb25jYXQoZXJyKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJcIi5jb25jYXQodXJsLCBcIiBjb3VsZCBub3QgYmUgbG9hZGVkOiBcIikuY29uY2F0KGVycikpKTtcbiAgICB9KTtcbiAgfSk7XG59XG52YXIgZmluZFNjcmlwdHNJbkRvbSA9IGZ1bmN0aW9uIGZpbmRTY3JpcHRzSW5Eb20odXJsKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0W3NyYz1cXFwiXCIuY29uY2F0KHVybCwgXCJcXFwiXVwiKSk7XG59O1xuZnVuY3Rpb24gZmluZFNjcmlwdCh1cmwpIHtcbiAgdmFyIHNjcmlwdHMgPSBmaW5kU2NyaXB0c0luRG9tKHVybCk7XG4gIGlmIChzY3JpcHRzWzBdKSB7XG4gICAgcmV0dXJuIHNjcmlwdHNbMF07XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVNjcmlwdCh1cmwpIHtcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICBzY3JpcHQuc2V0QXR0cmlidXRlKCdhc3luYycsICd0cnVlJyk7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2RlZmVyJywgJ3RydWUnKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gc2NyaXB0O1xufVxudmFyIFNUWVRDSF9CQURHRSA9IFsnW1N0eXRjaF0nXTtcbnZhciBERUJVRyA9IGZhbHNlO1xudmFyIGxvZ2dlciA9IHtcbiAgZGVidWc6IGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIHJldHVybiBERUJVRztcbiAgfSxcbiAgbG9nOiBmdW5jdGlvbiBsb2coKSB7XG4gICAgdmFyIF9jb25zb2xlO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgU1RZVENIX0JBREdFLmNvbmNhdChhcmdzKSk7XG4gIH0sXG4gIHdhcm46IGZ1bmN0aW9uIHdhcm4oKSB7XG4gICAgdmFyIF9jb25zb2xlMjtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgcmV0dXJuIChfY29uc29sZTIgPSBjb25zb2xlKS53YXJuLmFwcGx5KF9jb25zb2xlMiwgU1RZVENIX0JBREdFLmNvbmNhdChhcmdzKSk7XG4gIH0sXG4gIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICB2YXIgX2NvbnNvbGUzO1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cbiAgICByZXR1cm4gKF9jb25zb2xlMyA9IGNvbnNvbGUpLmVycm9yLmFwcGx5KF9jb25zb2xlMywgU1RZVENIX0JBREdFLmNvbmNhdChhcmdzKSk7XG4gIH1cbn07XG52YXIgdHJhaWxlciA9IFwiXFxuWW91IGNhbiBmaW5kIHlvdXIgcHVibGljIHRva2VuIGF0IGh0dHBzOi8vc3R5dGNoLmNvbS9kYXNoYm9hcmQvYXBpLWtleXMuXCI7XG52YXIgY2hlY2tQdWJsaWNUb2tlbiA9IGZ1bmN0aW9uIGNoZWNrUHVibGljVG9rZW4ocHVibGljVG9rZW4pIHtcbiAgaWYgKHR5cGVvZiBwdWJsaWNUb2tlbiAhPT0gJ3N0cmluZycpIHtcbiAgICBsb2dnZXIud2FybihcIlB1YmxpYyB0b2tlbiBpcyBtYWxmb3JtZWQuIEV4cGVjdGVkIGEgc3RyaW5nLCBnb3QgXCIuY29uY2F0KF90eXBlb2YocHVibGljVG9rZW4pLCBcIi5cIikuY29uY2F0KHRyYWlsZXIpKTtcbiAgfSBlbHNlIGlmIChwdWJsaWNUb2tlbiA9PT0gJycpIHtcbiAgICBsb2dnZXIud2FybihcIlB1YmxpYyB0b2tlbiBpcyBtYWxmb3JtZWQuIEV4cGVjdGVkIFxcXCJwdWJsaWMtdG9rZW4tLi4uXFxcIiwgZ290IGFuIGVtcHR5IHN0cmluZy5cIi5jb25jYXQodHJhaWxlcikpO1xuICB9IGVsc2UgaWYgKCFwdWJsaWNUb2tlbi5zdGFydHNXaXRoKCdwdWJsaWMtdG9rZW4tJykpIHtcbiAgICBsb2dnZXIud2FybihcIlB1YmxpYyB0b2tlbiBpcyBtYWxmb3JtZWQuIEV4cGVjdGVkIFxcXCJwdWJsaWMtdG9rZW4tLi4uXFxcIiwgZ290IFwiLmNvbmNhdChwdWJsaWNUb2tlbiwgXCIuXCIpLmNvbmNhdCh0cmFpbGVyKSk7XG4gIH1cbn07XG52YXIgY2hlY2tOb3RTU1IgPSBmdW5jdGlvbiBjaGVja05vdFNTUihjbGllbnROYW1lKSB7XG4gIHZhciBjb2RlU2FtcGxlID0gXCJpbXBvcnQgeyBjcmVhdGVTdHl0Y2hVSUNsaWVudCB9IGZyb20gJ0BzdHl0Y2gvbmV4dGpzL3VpJztcXG4gICAgXFxuY29uc3Qgc3R5dGNoID0gY3JlYXRlU3R5dGNoVUlDbGllbnQoJ3B1YmxpYy10b2tlbi0uLi4nKTtcXG5cIjtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIFwiLmNvbmNhdChjbGllbnROYW1lLCBcIiBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHNlcnZlci1zaWRlIGVudmlyb25tZW50cy5cXG5JZiB1c2luZyBuZXh0anMsIHVzZSB0aGUgY3JlYXRlXCIpLmNvbmNhdChjbGllbnROYW1lLCBcIiBtZXRob2QgaW5zdGVhZC5cXG5gYGBcXG5cIikuY29uY2F0KGNvZGVTYW1wbGUsIFwiXFxuYGBgXFxuXCIpKTtcbiAgfVxufTtcbnZhciBjaGVja0IyQk5vdFNTUiA9IGZ1bmN0aW9uIGNoZWNrQjJCTm90U1NSKGNsaWVudE5hbWUpIHtcbiAgdmFyIGNvZGVTYW1wbGUgPSBcImltcG9ydCB7IGNyZWF0ZVN0eXRjaEIyQkhlYWRsZXNzQ2xpZW50IH0gZnJvbSAnQHN0eXRjaC9uZXh0anMvYjJiJztcXG4gICAgXFxuICBjb25zdCBzdHl0Y2ggPSBjcmVhdGVTdHl0Y2hCMkJIZWFkbGVzc0NsaWVudCgncHVibGljLXRva2VuLS4uLicpO1xcbiAgXCI7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBcIi5jb25jYXQoY2xpZW50TmFtZSwgXCIgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBzZXJ2ZXItc2lkZSBlbnZpcm9ubWVudHMuXFxuSWYgdXNpbmcgbmV4dGpzLCB1c2UgdGhlIGNyZWF0ZVwiKS5jb25jYXQoY2xpZW50TmFtZSwgXCIgbWV0aG9kIGluc3RlYWQuXFxuYGBgXFxuXCIpLmNvbmNhdChjb2RlU2FtcGxlLCBcIlxcbmBgYFxcblwiKSk7XG4gIH1cbn07XG52YXIgQ09VTlRSSUVTX0xJU1QgPSB7XG4gIFVTOiAnMScsXG4gIEFYOiAnMzU4JyxcbiAgQVM6ICcxNjg0JyxcbiAgQUc6ICcxMjY4JyxcbiAgQUk6ICcxMjY0JyxcbiAgQVI6ICc1NCcsXG4gIEFUOiAnNDMnLFxuICBBVTogJzYxJyxcbiAgQkU6ICczMicsXG4gIEJKOiAnMjI5JyxcbiAgQk86ICc1OTEnLFxuICBCUjogJzU1JyxcbiAgSU86ICcyNDYnLFxuICBCTjogJzY3MycsXG4gIEJHOiAnMzU5JyxcbiAgQkY6ICcyMjYnLFxuICBDTTogJzIzNycsXG4gIENBOiAnMScsXG4gIEJROiAnNTk5JyxcbiAgQ0Y6ICcyMzYnLFxuICBDTDogJzU2JyxcbiAgQ1g6ICc2MScsXG4gIENDOiAnNjEnLFxuICBDTzogJzU3JyxcbiAgQ0Q6ICcyNDMnLFxuICBDSzogJzY4MicsXG4gIENSOiAnNTA2JyxcbiAgSFI6ICczODUnLFxuICBDWjogJzQyMCcsXG4gIERLOiAnNDUnLFxuICBETzogJzE4MjknLFxuICBFQzogJzU5MycsXG4gIFNWOiAnNTAzJyxcbiAgRUU6ICczNzInLFxuICBTWjogJzI2OCcsXG4gIEZLOiAnNTAwJyxcbiAgRkk6ICczNTgnLFxuICBGUjogJzMzJyxcbiAgR0Y6ICc1OTQnLFxuICBERTogJzQ5JyxcbiAgR0g6ICcyMzMnLFxuICBHUjogJzMwJyxcbiAgR0Q6ICcxNDczJyxcbiAgR1Q6ICc1MDInLFxuICBHRzogJzQ0JyxcbiAgR1c6ICcyNDUnLFxuICBHWTogJzU5MicsXG4gIEhVOiAnMzYnLFxuICBJUzogJzM1NCcsXG4gIElOOiAnOTEnLFxuICBJRTogJzM1MycsXG4gIElNOiAnNDQnLFxuICBJVDogJzM5JyxcbiAgSk06ICcxODc2JyxcbiAgSlA6ICc4MScsXG4gIEtaOiAnNycsXG4gIEtFOiAnMjU0JyxcbiAgS0k6ICc2ODYnLFxuICBLUjogJzgyJyxcbiAgTFY6ICczNzEnLFxuICBMVDogJzM3MCcsXG4gIExVOiAnMzUyJyxcbiAgTU86ICc4NTMnLFxuICBNVDogJzM1NicsXG4gIE1IOiAnNjkyJyxcbiAgTVI6ICcyMjInLFxuICBNVTogJzIzMCcsXG4gIFlUOiAnMjYyJyxcbiAgTVg6ICc1MicsXG4gIE1DOiAnMzc3JyxcbiAgTUU6ICczODInLFxuICBOUjogJzY3NCcsXG4gIE5MOiAnMzEnLFxuICBOWjogJzY0JyxcbiAgTkk6ICc1MDUnLFxuICBORjogJzY3MicsXG4gIE5POiAnNDcnLFxuICBQQTogJzUwNycsXG4gIFBZOiAnNTk1JyxcbiAgUEU6ICc1MScsXG4gIFBOOiAnODcwJyxcbiAgUEw6ICc0OCcsXG4gIFBUOiAnMzUxJyxcbiAgUFI6ICcxJyxcbiAgUk86ICc0MCcsXG4gIEJMOiAnNTkwJyxcbiAgU0g6ICcyOTAnLFxuICBLTjogJzE4NjknLFxuICBMQzogJzE3NTgnLFxuICBNRjogJzU5MCcsXG4gIFBNOiAnNTA4JyxcbiAgU006ICczNzgnLFxuICBTVDogJzIzOScsXG4gIFNDOiAnMjQ4JyxcbiAgU1g6ICc1OTknLFxuICBTSzogJzQyMScsXG4gIFNJOiAnMzg2JyxcbiAgWkE6ICcyNycsXG4gIFNTOiAnMjExJyxcbiAgRVM6ICczNCcsXG4gIFNSOiAnNTk3JyxcbiAgU0o6ICc0NycsXG4gIFNFOiAnNDYnLFxuICBDSDogJzQxJyxcbiAgVFc6ICc4ODYnLFxuICBUWjogJzI1NScsXG4gIFRLOiAnNjkwJyxcbiAgVE86ICc2NzYnLFxuICBUVDogJzE4NjgnLFxuICBUUjogJzkwJyxcbiAgVUE6ICczODAnLFxuICBHQjogJzQ0JyxcbiAgVU06ICcxJyxcbiAgVVk6ICc1OTgnLFxuICBWQTogJzM3OScsXG4gIEVIOiAnMjEyJ1xufTtcbnZhciBpc1Rlc3RQdWJsaWNUb2tlbiA9IGZ1bmN0aW9uIGlzVGVzdFB1YmxpY1Rva2VuKHRva2VuKSB7XG4gIHJldHVybiB0b2tlbi5pbmNsdWRlcygncHVibGljLXRva2VuLXRlc3QnKTtcbn07XG52YXIgY3JlYXRlRXZlbnRJZCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50SWQoKSB7XG4gIHJldHVybiBcImV2ZW50LWlkLVwiLmNvbmNhdCh2NCgpKTtcbn07XG52YXIgY3JlYXRlQXBwU2Vzc2lvbklkID0gZnVuY3Rpb24gY3JlYXRlQXBwU2Vzc2lvbklkKCkge1xuICByZXR1cm4gXCJhcHAtc2Vzc2lvbi1pZC1cIi5jb25jYXQodjQoKSk7XG59O1xudmFyIGNyZWF0ZVBlcnNpc3RlbnRJZCA9IGZ1bmN0aW9uIGNyZWF0ZVBlcnNpc3RlbnRJZCgpIHtcbiAgcmV0dXJuIFwicGVyc2lzdGVudC1pZC1cIi5jb25jYXQodjQoKSk7XG59O1xudmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUobWV0aG9kTmFtZSkge1xuICB2YXIgdmFsaWRhdG9yID0ge1xuICAgIGlzT2JqZWN0OiBmdW5jdGlvbiBpc09iamVjdChmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgaXNPYmplY3QgPSBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlICE9PSBudWxsO1xuICAgICAgaWYgKCFpc09iamVjdCkge1xuICAgICAgICB0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLCBmaWVsZE5hbWUgKyAnIG11c3QgYmUgYW4gb2JqZWN0LicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgICB9LFxuICAgIGlzT3B0aW9uYWxPYmplY3Q6IGZ1bmN0aW9uIGlzT3B0aW9uYWxPYmplY3QoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWxpZGF0b3IuaXNPYmplY3QoZmllbGROYW1lLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBpc1N0cmluZzogZnVuY3Rpb24gaXNTdHJpbmcoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0eXRjaFNES1VzYWdlRXJyb3IobWV0aG9kTmFtZSwgZmllbGROYW1lICsgJyBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgICB9LFxuICAgIGlzT3B0aW9uYWxTdHJpbmc6IGZ1bmN0aW9uIGlzT3B0aW9uYWxTdHJpbmcoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWxpZGF0b3IuaXNTdHJpbmcoZmllbGROYW1lLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBpc1N0cmluZ0FycmF5OiBmdW5jdGlvbiBpc1N0cmluZ0FycmF5KGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0eXRjaFNES1VzYWdlRXJyb3IobWV0aG9kTmFtZSwgZmllbGROYW1lICsgJyBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuJyk7XG4gICAgICB9XG4gICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmFsdWUpLFxuICAgICAgICBfc3RlcDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIHN0ciA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0eXRjaFNES1VzYWdlRXJyb3IobWV0aG9kTmFtZSwgZmllbGROYW1lICsgJyBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsaWRhdG9yO1xuICAgIH0sXG4gICAgaXNPcHRpb25hbFN0cmluZ0FycmF5OiBmdW5jdGlvbiBpc09wdGlvbmFsU3RyaW5nQXJyYXkoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWxpZGF0b3IuaXNTdHJpbmdBcnJheShmaWVsZE5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIGlzTnVtYmVyOiBmdW5jdGlvbiBpc051bWJlcihmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLCBmaWVsZE5hbWUgKyAnIG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsaWRhdG9yO1xuICAgIH0sXG4gICAgaXNPcHRpb25hbE51bWJlcjogZnVuY3Rpb24gaXNPcHRpb25hbE51bWJlcihmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsaWRhdG9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRvci5pc051bWJlcihmaWVsZE5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIGlzQm9vbGVhbjogZnVuY3Rpb24gaXNCb29sZWFuKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJykge1xuICAgICAgICB0aHJvdyBuZXcgU3R5dGNoU0RLVXNhZ2VFcnJvcihtZXRob2ROYW1lLCBmaWVsZE5hbWUgKyAnIG11c3QgYmUgYSBib29sZWFuLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgICB9LFxuICAgIGlzT3B0aW9uYWxCb29sZWFuOiBmdW5jdGlvbiBpc09wdGlvbmFsQm9vbGVhbihmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsaWRhdG9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRvci5pc0Jvb2xlYW4oZmllbGROYW1lLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdmFsaWRhdG9yO1xufTtcbnZhciBsb2FkVGVsZW1ldHJ5SlMgPSBmdW5jdGlvbiBsb2FkVGVsZW1ldHJ5SlMoKSB7XG4gIHJldHVybiBsb2FkRVNNb2R1bGUoXCJcIi5jb25jYXQoU1RZVENIX0RGUF9DRE5fVVJMLCBcIi90ZWxlbWV0cnkuanNcIiksIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93LkdldFRlbGVtZXRyeUlEO1xuICB9KTtcbn07XG52YXIgREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIocHVibGljVG9rZW4sIGRmcEJhY2tlbmRVUkwsIGJvb3RzdHJhcFByb21pc2UpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG4gIHZhciBleGVjdXRlUmVjYXB0Y2hhID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICB9O1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKTtcbiAgdGhpcy5ib290c3RyYXBQcm9taXNlID0gYm9vdHN0cmFwUHJvbWlzZTtcbiAgdGhpcy5pc0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCB0aGlzLnN0YXRlLnRoZW4oZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5lbmFibGVkO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpO1xuICAgIH0pKTtcbiAgfTtcbiAgdGhpcy5nZXRUZWxlbWV0cnlJRCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMyLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkge1xuICAgICAgdmFyIF95aWVsZCR0aGlzJHN0YXRlLCBwdWJsaWNUb2tlbiwgZW5hYmxlZCwgZGZwQmFja2VuZFVSTDtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBfeWllbGQkdGhpcyRzdGF0ZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgcHVibGljVG9rZW4gPSBfeWllbGQkdGhpcyRzdGF0ZS5wdWJsaWNUb2tlbjtcbiAgICAgICAgICAgIGVuYWJsZWQgPSBfeWllbGQkdGhpcyRzdGF0ZS5lbmFibGVkO1xuICAgICAgICAgICAgZGZwQmFja2VuZFVSTCA9IF95aWVsZCR0aGlzJHN0YXRlLmRmcEJhY2tlbmRVUkw7XG4gICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwO1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5HZXRUZWxlbWV0cnlJRChwdWJsaWNUb2tlbiwgXCJcIi5jb25jYXQoZGZwQmFja2VuZFVSTCwgXCIvc3VibWl0XCIpKTtcbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1LnNlbnQpO1xuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTtcbiAgICB9KSk7XG4gIH07XG4gIHRoaXMuZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7XG4gICAgICB2YXIgX3lpZWxkJHRoaXMkc3RhdGUyLCBlbmFibGVkLCBleGVjdXRlUmVjYXB0Y2hhLCBtb2RlLCBkZnBfdGVsZW1ldHJ5X2lkLCBjYXB0Y2hhX3Rva2VuO1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIF95aWVsZCR0aGlzJHN0YXRlMiA9IF9jb250ZXh0Ni5zZW50O1xuICAgICAgICAgICAgZW5hYmxlZCA9IF95aWVsZCR0aGlzJHN0YXRlMi5lbmFibGVkO1xuICAgICAgICAgICAgZXhlY3V0ZVJlY2FwdGNoYSA9IF95aWVsZCR0aGlzJHN0YXRlMi5leGVjdXRlUmVjYXB0Y2hhO1xuICAgICAgICAgICAgbW9kZSA9IF95aWVsZCR0aGlzJHN0YXRlMi5tb2RlO1xuICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTE7XG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlY2FwdGNoYSgpO1xuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICBjYXB0Y2hhX3Rva2VuID0gX2NvbnRleHQ2LnNlbnQ7XG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIGlmICghKG1vZGUgPT09ICdERUNJU0lPTklORycpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRlbGVtZXRyeUlEKCk7XG4gICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfY29udGV4dDYuc2VudDtcbiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgaWYgKCEobW9kZSA9PT0gJ09CU0VSVkFUSU9OJykpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIxO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGVsZW1ldHJ5SUQoKTtcbiAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF9jb250ZXh0Ni5zZW50O1xuICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNDtcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVjYXB0Y2hhKCk7XG4gICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfY29udGV4dDYuc2VudDtcbiAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIiwge1xuICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiBkZnBfdGVsZW1ldHJ5X2lkLFxuICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBjYXB0Y2hhX3Rva2VuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLnJldHJ5V2l0aENhcHRjaGFBbmRERlAgPSBmdW5jdGlvbiAoZSwgcmVxKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHtcbiAgICAgIHZhciBfeWllbGQkdGhpcyRzdGF0ZTMsIGVuYWJsZWQsIGV4ZWN1dGVSZWNhcHRjaGE7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0Nykge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgX3lpZWxkJHRoaXMkc3RhdGUzID0gX2NvbnRleHQ3LnNlbnQ7XG4gICAgICAgICAgICBlbmFibGVkID0gX3lpZWxkJHRoaXMkc3RhdGUzLmVuYWJsZWQ7XG4gICAgICAgICAgICBleGVjdXRlUmVjYXB0Y2hhID0gX3lpZWxkJHRoaXMkc3RhdGUzLmV4ZWN1dGVSZWNhcHRjaGE7XG4gICAgICAgICAgICBpZiAoIShlLnR5cGUgPT09IFJldHJpYWJsZUVycm9yVHlwZS5SZXF1aXJlZENhdGNoYSAmJiBlbmFibGVkKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVxLmJvZHkpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUZWxlbWV0cnlJRCgpO1xuICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIHJlcS5ib2R5LmRmcF90ZWxlbWV0cnlfaWQgPSBfY29udGV4dDcuc2VudDtcbiAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTI7XG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlY2FwdGNoYSgpO1xuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICByZXEuYm9keS5jYXB0Y2hhX3Rva2VuID0gX2NvbnRleHQ3LnNlbnQ7XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KFwicmV0dXJuXCIsIHJlcSk7XG4gICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHF1ZXJ5IGNhcHRjaGEgYW5kL29yIGRmcCB0ZWxlbWV0cnkgSUQnKTtcbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNywgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLnN0YXRlID0gYm9vdHN0cmFwUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChib290c3RyYXBEYXRhKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoYm9vdHN0cmFwRGF0YS5ydW5ERlBQcm90ZWN0ZWRBdXRoKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgIHB1YmxpY1Rva2VuOiBwdWJsaWNUb2tlbixcbiAgICAgICAgICAgICAgZGZwQmFja2VuZFVSTDogZGZwQmFja2VuZFVSTCxcbiAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGV4ZWN1dGVSZWNhcHRjaGE6IGV4ZWN1dGVSZWNhcHRjaGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNDtcbiAgICAgICAgICAgIHJldHVybiBsb2FkVGVsZW1ldHJ5SlMoKTtcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgIHB1YmxpY1Rva2VuOiBwdWJsaWNUb2tlbixcbiAgICAgICAgICAgICAgZGZwQmFja2VuZFVSTDogZGZwQmFja2VuZFVSTCxcbiAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbW9kZTogYm9vdHN0cmFwRGF0YS5kZnBQcm90ZWN0ZWRBdXRoTW9kZSB8fCAnT0JTRVJWQVRJT04nLFxuICAgICAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGV4ZWN1dGVSZWNhcHRjaGE6IGV4ZWN1dGVSZWNhcHRjaGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTgpO1xuICAgIH0pKTtcbiAgfSk7XG59KTtcbnZhciBEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlciA9IGZ1bmN0aW9uIERpc2FibGVkREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKCkge1xuICByZXR1cm4ge1xuICAgIGlzRW5hYmxlZDogZnVuY3Rpb24gaXNFbmFibGVkKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KFwicmV0dXJuXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSk7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBnZXRUZWxlbWV0cnlJRDogZnVuY3Rpb24gZ2V0VGVsZW1ldHJ5SUQoKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwKTtcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYTogZnVuY3Rpb24gZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogdW5kZWZpbmVkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTEpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgcmV0cnlXaXRoQ2FwdGNoYUFuZERGUDogZnVuY3Rpb24gcmV0cnlXaXRoQ2FwdGNoYUFuZERGUCgpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignREZQIHByb3RlY3RlZCBhdXRoIGlzIGRpc2FibGVkJyk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMik7XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcbnZhciBFcnJvck1hcnNoYWxsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFcnJvck1hcnNoYWxsZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yTWFyc2hhbGxlcik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEVycm9yTWFyc2hhbGxlciwgbnVsbCwgW3tcbiAgICBrZXk6IFwibWFyc2hhbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFyc2hhbGwoZXJyb3IpIHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVycm9yKSwge1xuICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2tcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmZsYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluZmxhdGUoRXJyb3JDbGFzcywgRXJyb3JEYXRhKSB7XG4gICAgICB2YXIgZXJyID0gbmV3IEVycm9yQ2xhc3MoRXJyb3JEYXRhKTtcbiAgICAgIE9iamVjdC5hc3NpZ24oZXJyLCBFcnJvckRhdGEpO1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGVyciwgRXJyb3JDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5tYXJzaGFsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bm1hcnNoYWxsKGVycm9yKSB7XG4gICAgICBpZiAoJ25hbWUnIGluIGVycm9yKSB7XG4gICAgICAgIHN3aXRjaCAoZXJyb3IubmFtZSkge1xuICAgICAgICAgIGNhc2UgJ1NES0FQSVVucmVhY2hhYmxlRXJyb3InOlxuICAgICAgICAgICAgcmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFNES0FQSVVucmVhY2hhYmxlRXJyb3IsIGVycm9yKTtcbiAgICAgICAgICBjYXNlICdTdHl0Y2hTREtTY2hlbWFFcnJvcic6XG4gICAgICAgICAgICByZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoU3R5dGNoU0RLU2NoZW1hRXJyb3IsIGVycm9yKTtcbiAgICAgICAgICBjYXNlICdTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yJzpcbiAgICAgICAgICAgIHJldHVybiBFcnJvck1hcnNoYWxsZXIuaW5mbGF0ZShTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yLCBlcnJvcik7XG4gICAgICAgICAgY2FzZSAnU3R5dGNoQVBJU2NoZW1hRXJyb3InOlxuICAgICAgICAgICAgcmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFN0eXRjaEFQSVNjaGVtYUVycm9yLCBlcnJvcik7XG4gICAgICAgICAgY2FzZSAnU3R5dGNoU0RLQVBJRXJyb3InOlxuICAgICAgICAgICAgcmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFN0eXRjaFNES0FQSUVycm9yLCBlcnJvcik7XG4gICAgICAgICAgY2FzZSAnU3R5dGNoQVBJRXJyb3InOlxuICAgICAgICAgICAgcmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKFN0eXRjaEFQSUVycm9yLCBlcnJvcik7XG4gICAgICAgICAgY2FzZSAnVHlwZUVycm9yJzpcbiAgICAgICAgICAgIHJldHVybiBFcnJvck1hcnNoYWxsZXIuaW5mbGF0ZShUeXBlRXJyb3IsIGVycm9yKTtcbiAgICAgICAgICBjYXNlICdTeW50YXhFcnJvcic6XG4gICAgICAgICAgICByZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoU3ludGF4RXJyb3IsIGVycm9yKTtcbiAgICAgICAgICBjYXNlICdSZWZlcmVuY2VFcnJvcic6XG4gICAgICAgICAgICByZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoUmVmZXJlbmNlRXJyb3IsIGVycm9yKTtcbiAgICAgICAgICBjYXNlICdSYW5nZUVycm9yJzpcbiAgICAgICAgICAgIHJldHVybiBFcnJvck1hcnNoYWxsZXIuaW5mbGF0ZShSYW5nZUVycm9yLCBlcnJvcik7XG4gICAgICAgICAgY2FzZSAnRXZhbEVycm9yJzpcbiAgICAgICAgICAgIHJldHVybiBFcnJvck1hcnNoYWxsZXIuaW5mbGF0ZShFdmFsRXJyb3IsIGVycm9yKTtcbiAgICAgICAgICBjYXNlICdVUklFcnJvcic6XG4gICAgICAgICAgICByZXR1cm4gRXJyb3JNYXJzaGFsbGVyLmluZmxhdGUoVVJJRXJyb3IsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIEVycm9yTWFyc2hhbGxlci5pbmZsYXRlKEVycm9yLCBlcnJvcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBFcnJvck1hcnNoYWxsZXI7XG59KCk7XG52YXIgREVGQVVMVF9NQVhfQkFUQ0hfU0laRSA9IDE1O1xudmFyIERFRkFVTFRfSU5URVJWQUxfRFVSQVRJT05fTVMgPSA4MDA7XG52YXIgRXZlbnRMb2dnZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFdmVudExvZ2dlcihhcmdzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50TG9nZ2VyKTtcbiAgICB0aGlzLm1heEJhdGNoU2l6ZSA9IGFyZ3MubWF4QmF0Y2hTaXplO1xuICAgIHRoaXMubG9nRXZlbnRVUkwgPSBhcmdzLmxvZ0V2ZW50VVJMO1xuICAgIHNldEludGVydmFsKHRoaXMuZmx1c2guYmluZCh0aGlzKSwgYXJncy5pbnRlcnZhbER1cmF0aW9uTXMpO1xuICAgIHRoaXMuYmF0Y2ggPSBbXTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRXZlbnRMb2dnZXIsIFt7XG4gICAga2V5OiBcImxvZ0V2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ0V2ZW50KHRlbGVtZXRyeSwgZXZlbnQpIHtcbiAgICAgIHRoaXMuYmF0Y2gucHVzaCh7XG4gICAgICAgIHRlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICAgICAgICBldmVudDogZXZlbnRcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuYmF0Y2gubGVuZ3RoID49IHRoaXMubWF4QmF0Y2hTaXplKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmx1c2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7XG4gICAgICAgIHZhciBiYXRjaFRvU3VibWl0O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBiYXRjaFRvU3VibWl0ID0gdGhpcy5iYXRjaDtcbiAgICAgICAgICAgICAgdGhpcy5iYXRjaCA9IFtdO1xuICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSA0O1xuICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3O1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5sb2dFdmVudFVSTCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJhdGNoVG9TdWJtaXQpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzW1wiY2F0Y2hcIl0oNCk7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTMsIHRoaXMsIFtbNCwgOV1dKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEV2ZW50TG9nZ2VyO1xufSgpO1xudmFyIEVtYWlsU2VudFR5cGU7XG4oZnVuY3Rpb24gKEVtYWlsU2VudFR5cGUpIHtcbiAgRW1haWxTZW50VHlwZVtcIkxvZ2luT3JDcmVhdGVFTUxcIl0gPSBcImxvZ2luX29yX2NyZWF0ZV9lbWxcIjtcbiAgRW1haWxTZW50VHlwZVtcIkxvZ2luT3JDcmVhdGVPVFBcIl0gPSBcImxvZ2luX29yX2NyZWF0ZV9vdHBcIjtcbiAgRW1haWxTZW50VHlwZVtcIlJlc2V0UGFzc3dvcmRcIl0gPSBcInJlc2V0X3Bhc3N3b3JkXCI7XG59KShFbWFpbFNlbnRUeXBlIHx8IChFbWFpbFNlbnRUeXBlID0ge30pKTtcblByb21pc2UucmVzb2x2ZSh7XG4gIHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rczogZmFsc2Vcbn0pO1xuUHJvbWlzZS5yZXNvbHZlKHtcbiAgcGtjZVJlcXVpcmVkRm9yUGFzc3dvcmRSZXNldHM6IGZhbHNlXG59KTtcbnZhciBEZWZhdWx0RHluYW1pY0NvbmZpZyQxID0gUHJvbWlzZS5yZXNvbHZlKHtcbiAgcGtjZVJlcXVpcmVkRm9yRW1haWxNYWdpY0xpbmtzOiBmYWxzZVxufSk7XG52YXIgSGVhZGxlc3NCMkJNYWdpY0xpbmtzQ2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGVhZGxlc3NCMkJNYWdpY0xpbmtzQ2xpZW50KF9uZXR3b3JrQ2xpZW50LCBfc3Vic2NyaXB0aW9uU2VydmljZSwgX3BrY2VNYW5hZ2VyLCBfcGFzc3dvcmRSZXNldFBLQ0VNYW5hZ2VyKSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG4gICAgdmFyIF9jb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IERlZmF1bHREeW5hbWljQ29uZmlnJDE7XG4gICAgdmFyIGRmcFByb3RlY3RlZEF1dGggPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IERpc2FibGVkREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKCk7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRsZXNzQjJCTWFnaWNMaW5rc0NsaWVudCk7XG4gICAgdGhpcy5fbmV0d29ya0NsaWVudCA9IF9uZXR3b3JrQ2xpZW50O1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UgPSBfc3Vic2NyaXB0aW9uU2VydmljZTtcbiAgICB0aGlzLl9wa2NlTWFuYWdlciA9IF9wa2NlTWFuYWdlcjtcbiAgICB0aGlzLl9wYXNzd29yZFJlc2V0UEtDRU1hbmFnZXIgPSBfcGFzc3dvcmRSZXNldFBLQ0VNYW5hZ2VyO1xuICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgdGhpcy5kZnBQcm90ZWN0ZWRBdXRoID0gZGZwUHJvdGVjdGVkQXV0aDtcbiAgICB0aGlzLmVtYWlsID0ge1xuICAgICAgaW52aXRlOiBmdW5jdGlvbiBpbnZpdGUoZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM5LCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1OSgpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTU5JChfY29udGV4dDU5KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDU5LnByZXYgPSBfY29udGV4dDU5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHZhbGlkYXRlKCdzdHl0Y2gubWFnaWNMaW5rcy5lbWFpbC5sb2dpbk9yU2lnbnVwJykuaXNTdHJpbmcoJ2VtYWlsX2FkZHJlc3MnLCBkYXRhLmVtYWlsX2FkZHJlc3MpLmlzT3B0aW9uYWxTdHJpbmcoJ2ludml0ZV9yZWRpcmVjdF91cmwnLCBkYXRhLmludml0ZV9yZWRpcmVjdF91cmwpLmlzT3B0aW9uYWxTdHJpbmcoJ2ludml0ZV90ZW1wbGF0ZV9pZCcsIGRhdGEuaW52aXRlX3RlbXBsYXRlX2lkKS5pc09wdGlvbmFsU3RyaW5nKCduYW1lJywgZGF0YS5uYW1lKS5pc09wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBkYXRhLmxvY2FsZSkuaXNPcHRpb25hbFN0cmluZ0FycmF5KCdyb2xlcycsIGRhdGEucm9sZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU5LmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICAgIHVybDogJy9iMmIvbWFnaWNfbGlua3MvZW1haWwvaW52aXRlJyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gc2VuZCBpbnZpdGUuJyxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2NhbGxlZTU5LCB0aGlzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIGxvZ2luT3JTaWdudXA6IGZ1bmN0aW9uIGxvZ2luT3JTaWdudXAoZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXM5LCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2MCgpIHtcbiAgICAgICAgICB2YXIgcGtjZV9jb2RlX2NoYWxsZW5nZSwgcmVxdWVzdEJvZHk7XG4gICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MCQoX2NvbnRleHQ2MCkge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2MC5wcmV2ID0gX2NvbnRleHQ2MC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLm1hZ2ljTGlua3MuZW1haWwubG9naW5PclNpZ251cCcpLmlzU3RyaW5nKCdlbWFpbF9hZGRyZXNzJywgZGF0YS5lbWFpbF9hZGRyZXNzKS5pc1N0cmluZygnb3JnYW5pemF0aW9uX2lkJywgZGF0YS5vcmdhbml6YXRpb25faWQpLmlzT3B0aW9uYWxTdHJpbmcoJ2xvZ2luX3JlZGlyZWN0X3VybCcsIGRhdGEubG9naW5fcmVkaXJlY3RfdXJsKS5pc09wdGlvbmFsU3RyaW5nKCdsb2dpbl90ZW1wbGF0ZV9pZCcsIGRhdGEubG9naW5fdGVtcGxhdGVfaWQpLmlzT3B0aW9uYWxTdHJpbmcoJ3NpZ251cF9yZWRpcmVjdF91cmwnLCBkYXRhLnNpZ251cF9yZWRpcmVjdF91cmwpLmlzT3B0aW9uYWxTdHJpbmcoJ3NpZ251cF90ZW1wbGF0ZV9pZCcsIGRhdGEuc2lnbnVwX3RlbXBsYXRlX2lkKS5pc09wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBkYXRhLmxvY2FsZSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2MC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2RlQ2hhbGxlbmdlKCk7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBwa2NlX2NvZGVfY2hhbGxlbmdlID0gX2NvbnRleHQ2MC5zZW50O1xuICAgICAgICAgICAgICAgIHJlcXVlc3RCb2R5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkYXRhKSwge1xuICAgICAgICAgICAgICAgICAgcGtjZV9jb2RlX2NoYWxsZW5nZTogcGtjZV9jb2RlX2NoYWxsZW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYwLmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICAgIHVybDogJy9iMmIvbWFnaWNfbGlua3MvZW1haWwvbG9naW5fb3Jfc2lnbnVwJyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IHJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHNlbmQgbWFnaWMgbGluaycsXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWU2MCwgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICBkaXNjb3Zlcnk6IHtcbiAgICAgICAgc2VuZDogZnVuY3Rpb24gc2VuZChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzOSwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjEoKSB7XG4gICAgICAgICAgICB2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMTgsIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW4sIHBrY2VfY29kZV9jaGFsbGVuZ2UsIHJlcXVlc3RCb2R5O1xuICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MSQoX2NvbnRleHQ2MSkge1xuICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYxLnByZXYgPSBfY29udGV4dDYxLm5leHQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLm1hZ2ljTGlua3MuZW1haWwuZGlzY292ZXJ5LnNlbmQnKS5pc1N0cmluZygnZW1haWxfYWRkcmVzcycsIGRhdGEuZW1haWxfYWRkcmVzcykuaXNPcHRpb25hbFN0cmluZygnZGlzY292ZXJ5X3JlZGlyZWN0X3VybCcsIGRhdGEuZGlzY292ZXJ5X3JlZGlyZWN0X3VybCkuaXNPcHRpb25hbFN0cmluZygnbG9naW5fdGVtcGxhdGVfaWQnLCBkYXRhLmxvZ2luX3RlbXBsYXRlX2lkKS5pc09wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBkYXRhLmxvY2FsZSk7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRkZnBQcm90ZWMxOCA9IF9jb250ZXh0NjEuc2VudDtcbiAgICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMxOC5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbiA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzE4LmNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYxLm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZUNoYWxsZW5nZSgpO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgIHBrY2VfY29kZV9jaGFsbGVuZ2UgPSBfY29udGV4dDYxLnNlbnQ7XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0Qm9keSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHtcbiAgICAgICAgICAgICAgICAgICAgcGtjZV9jb2RlX2NoYWxsZW5nZTogcGtjZV9jb2RlX2NoYWxsZW5nZSxcbiAgICAgICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogZGZwX3RlbGVtZXRyeV9pZCxcbiAgICAgICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogY2FwdGNoYV90b2tlblxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2MS5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9iMmIvbWFnaWNfbGlua3MvZW1haWwvZGlzY292ZXJ5L3NlbmQnLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiByZXF1ZXN0Qm9keSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHNlbmQgZGlzY292ZXJ5IG1hZ2ljIGxpbmsnLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYxLnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgX2NhbGxlZTYxLCB0aGlzKTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYXV0aGVudGljYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczksIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYyKCkge1xuICAgICAgICB2YXIgcGFzc3dvcmRSZXNldFBLUGFpciwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MiQoX2NvbnRleHQ2Mikge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NjIucHJldiA9IF9jb250ZXh0NjIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLm1hZ2ljTGlua3MuYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ21hZ2ljX2xpbmtzX3Rva2VuJywgZGF0YS5tYWdpY19saW5rc190b2tlbikuaXNOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsIGRhdGEuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKS5pc09wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBkYXRhLmxvY2FsZSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NjIubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXNzd29yZFJlc2V0UEtDRU1hbmFnZXIuZ2V0UEtQYWlyKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHBhc3N3b3JkUmVzZXRQS1BhaXIgPSBfY29udGV4dDYyLnNlbnQ7XG4gICAgICAgICAgICAgIHJlc3AgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoIShwYXNzd29yZFJlc2V0UEtQYWlyID09PSBudWxsIHx8IHBhc3N3b3JkUmVzZXRQS1BhaXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhc3N3b3JkUmVzZXRQS1BhaXIuY29kZV92ZXJpZmllcikpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYyLm5leHQgPSAxOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDYyLnByZXYgPSA2O1xuICAgICAgICAgICAgICBfY29udGV4dDYyLm5leHQgPSA5O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQS0NFRm9yQXV0aGVudGljYXRlKHRoaXMuX3Bhc3N3b3JkUmVzZXRQS0NFTWFuYWdlciwgZGF0YSk7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDYyLnNlbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0NjIubmV4dCA9IDE5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIF9jb250ZXh0NjIucHJldiA9IDEyO1xuICAgICAgICAgICAgICBfY29udGV4dDYyLnQwID0gX2NvbnRleHQ2MltcImNhdGNoXCJdKDYpO1xuICAgICAgICAgICAgICBpZiAoIV9jb250ZXh0NjIudDAubWVzc2FnZS5pbmNsdWRlcygncGtjZScpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Mi5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhlbnRpY2F0ZSB3aXRoIHBhc3N3b3JkcyBwa2NlIG5hbWVzcGFjZSBmYWlsZWQuIEZhbGxpbmcgYmFjayB0byBhdXRoZW50aWNhdGUgd2l0aCBtYWdpY19saW5rcyBuYW1lc3BhY2UuJyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NjIubmV4dCA9IDE5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIHRocm93IF9jb250ZXh0NjIudDA7XG4gICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICBpZiAocmVzcCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NjIubmV4dCA9IDIzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0NjIubmV4dCA9IDIyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQS0NFRm9yQXV0aGVudGljYXRlKHRoaXMuX3BrY2VNYW5hZ2VyLCBkYXRhKTtcbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDYyLnNlbnQ7XG4gICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICBpZiAocmVzcC5tZW1iZXJfc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVzcC5tZW1iZXJfc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyOiByZXNwLm1lbWJlcixcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IHJlc3Auc2Vzc2lvbl90b2tlbixcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IHJlc3AuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Mi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjIsIHRoaXMsIFtbNiwgMTJdXSk7XG4gICAgICB9KSk7XG4gICAgfTtcbiAgICB0aGlzLmRpc2NvdmVyeSA9IHtcbiAgICAgIGF1dGhlbnRpY2F0ZTogZnVuY3Rpb24gYXV0aGVudGljYXRlKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzOSwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjMoKSB7XG4gICAgICAgICAgdmFyIHBrUGFpciwgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMTksIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW4sIHJlcXVlc3RCb2R5LCByZXNwO1xuICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjMkKF9jb250ZXh0NjMpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NjMucHJldiA9IF9jb250ZXh0NjMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5tYWdpY0xpbmtzLmRpc2NvdmVyeS5hdXRoZW50aWNhdGUnKS5pc1N0cmluZygnZGlzY292ZXJ5X21hZ2ljX2xpbmtzX3Rva2VuJywgZGF0YS5kaXNjb3ZlcnlfbWFnaWNfbGlua3NfdG9rZW4pO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NjMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLmdldFBLUGFpcigpO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcGtQYWlyID0gX2NvbnRleHQ2My5zZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NjMubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzE5ID0gX2NvbnRleHQ2My5zZW50O1xuICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMxOS5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMxOS5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICAgIHJlcXVlc3RCb2R5ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICBwa2NlX2NvZGVfdmVyaWZpZXI6IHBrUGFpciA9PT0gbnVsbCB8fCBwa1BhaXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBrUGFpci5jb2RlX3ZlcmlmaWVyLFxuICAgICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogZGZwX3RlbGVtZXRyeV9pZCxcbiAgICAgICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW46IGNhcHRjaGFfdG9rZW5cbiAgICAgICAgICAgICAgICB9LCBkYXRhKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYzLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL21hZ2ljX2xpbmtzL2Rpc2NvdmVyeS9hdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgICAgICAgYm9keTogcmVxdWVzdEJvZHksXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gYXV0aGVudGljYXRlIGludGVybWVkaWF0ZSBtYWdpYyBsaW5rIHRva2VuJyxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQ2My5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuX3BrY2VNYW5hZ2VyLmNsZWFyUEtQYWlyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IG51bGwsXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX2p3dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiByZXNwLmludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjMuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWU2MywgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9jcmVhdGVDbGFzcyhIZWFkbGVzc0IyQk1hZ2ljTGlua3NDbGllbnQsIFt7XG4gICAga2V5OiBcImdldENvZGVDaGFsbGVuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29kZUNoYWxsZW5nZSgpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2NCgpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJF9jb25maWc0LCBwa2NlUmVxdWlyZWRGb3JFbWFpbE1hZ2ljTGlua3MsIGtleVBhaXI7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjQkKF9jb250ZXh0NjQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDY0LnByZXYgPSBfY29udGV4dDY0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkX2NvbmZpZzQgPSBfY29udGV4dDY0LnNlbnQ7XG4gICAgICAgICAgICAgIHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcyA9IF95aWVsZCR0aGlzJF9jb25maWc0LnBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcztcbiAgICAgICAgICAgICAgaWYgKHBrY2VSZXF1aXJlZEZvckVtYWlsTWFnaWNMaW5rcykge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NjQubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjQuYWJydXB0KFwicmV0dXJuXCIsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIF9jb250ZXh0NjQubmV4dCA9IDg7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wa2NlTWFuYWdlci5nZXRQS1BhaXIoKTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAga2V5UGFpciA9IF9jb250ZXh0NjQuc2VudDtcbiAgICAgICAgICAgICAgaWYgKCFrZXlQYWlyKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2NC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjQuYWJydXB0KFwicmV0dXJuXCIsIGtleVBhaXIuY29kZV9jaGFsbGVuZ2UpO1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NC5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wa2NlTWFuYWdlci5zdGFydFBLQ0VUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAga2V5UGFpciA9IF9jb250ZXh0NjQuc2VudDtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjQuYWJydXB0KFwicmV0dXJuXCIsIGtleVBhaXIuY29kZV9jaGFsbGVuZ2UpO1xuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTY0LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlUEtDRUZvckF1dGhlbnRpY2F0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVQS0NFRm9yQXV0aGVudGljYXRlKHBrY2VNYW5hZ2VyLCBkYXRhKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjUoKSB7XG4gICAgICAgIHZhciBwa1BhaXIsIF95aWVsZCR0aGlzJGRmcFByb3RlYzIwLCBkZnBfdGVsZW1ldHJ5X2lkLCBjYXB0Y2hhX3Rva2VuLCByZXF1ZXN0Qm9keSwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2NSQoX2NvbnRleHQ2NSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NjUucHJldiA9IF9jb250ZXh0NjUubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDY1Lm5leHQgPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gcGtjZU1hbmFnZXIuZ2V0UEtQYWlyKCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHBrUGFpciA9IF9jb250ZXh0NjUuc2VudDtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjAgPSBfY29udGV4dDY1LnNlbnQ7XG4gICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyMC5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjAuY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS50MCA9IE9iamVjdDtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS50MSA9IHBrUGFpciA9PT0gbnVsbCB8fCBwa1BhaXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBrUGFpci5jb2RlX3ZlcmlmaWVyO1xuICAgICAgICAgICAgICBfY29udGV4dDY1LnQyID0gZGZwX3RlbGVtZXRyeV9pZDtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS50MyA9IGNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0NjUubmV4dCA9IDE0O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKTtcbiAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgIF9jb250ZXh0NjUudDQgPSBfY29udGV4dDY1LnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChfY29udGV4dDY1LnQ0KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2NS5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS50NCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIF9jb250ZXh0NjUudDUgPSBfY29udGV4dDY1LnQ0O1xuICAgICAgICAgICAgICBfY29udGV4dDY1LnQ2ID0ge1xuICAgICAgICAgICAgICAgIHBrY2VfY29kZV92ZXJpZmllcjogX2NvbnRleHQ2NS50MSxcbiAgICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiBfY29udGV4dDY1LnQyLFxuICAgICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW46IF9jb250ZXh0NjUudDMsXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IF9jb250ZXh0NjUudDVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS50NyA9IGRhdGE7XG4gICAgICAgICAgICAgIHJlcXVlc3RCb2R5ID0gX2NvbnRleHQ2NS50MC5hc3NpZ24uY2FsbChfY29udGV4dDY1LnQwLCBfY29udGV4dDY1LnQ2LCBfY29udGV4dDY1LnQ3KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2NS5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL21hZ2ljX2xpbmtzL2F1dGhlbnRpY2F0ZScsXG4gICAgICAgICAgICAgICAgYm9keTogcmVxdWVzdEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSB0b2tlbicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQ2NS5zZW50O1xuICAgICAgICAgICAgICBwa2NlTWFuYWdlci5jbGVhclBLUGFpcigpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2NS5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2NS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSGVhZGxlc3NCMkJNYWdpY0xpbmtzQ2xpZW50O1xufSgpO1xudmFyIEhlYWRsZXNzQjJCU2VsZkNsaWVudCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gSGVhZGxlc3NCMkJTZWxmQ2xpZW50KF9uZXR3b3JrQ2xpZW50LCBfc3Vic2NyaXB0aW9uU2VydmljZSkge1xuICB2YXIgX3RoaXMxMCA9IHRoaXM7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkbGVzc0IyQlNlbGZDbGllbnQpO1xuICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gX25ldHdvcmtDbGllbnQ7XG4gIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UgPSBfc3Vic2NyaXB0aW9uU2VydmljZTtcbiAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY2KCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY2JChfY29udGV4dDY2KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NjYucHJldiA9IF9jb250ZXh0NjYubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0NjYubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgIHVybDogXCIvYjJiL29yZ2FuaXphdGlvbnMvbWVtYmVycy9tZVwiLFxuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gcmV0cmlldmUgbWVtYmVyIGluZm8uJyxcbiAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0NjYuc2VudDtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlTWVtYmVyKHJlc3AubWVtYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY2LmFicnVwdChcInJldHVyblwiLCByZXNwLm1lbWJlcik7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY2LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTY2LCB0aGlzKTtcbiAgICB9KSk7XG4gIH07XG4gIHRoaXMuZ2V0U3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMxMC5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRNZW1iZXIoKTtcbiAgfTtcbiAgdGhpcy5nZXRJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtZW1iZXI6IF90aGlzMTAuZ2V0U3luYygpLFxuICAgICAgZnJvbUNhY2hlOiBfdGhpczEwLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldEZyb21DYWNoZSgpXG4gICAgfTtcbiAgfTtcbiAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBfdGhpczEwLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnN1YnNjcmliZVRvU3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKF9hID0gc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLm1lbWJlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCk7XG4gICAgfSk7XG4gIH07XG4gIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjcoKSB7XG4gICAgICB2YXIgcmVzcDtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjckKF9jb250ZXh0NjcpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2Ny5wcmV2ID0gX2NvbnRleHQ2Ny5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5zZWxmLnVwZGF0ZScpLmlzT3B0aW9uYWxTdHJpbmcoJ25hbWUnLCBkYXRhLm5hbWUpLmlzT3B0aW9uYWxPYmplY3QoJ3VudHJ1c3RlZF9tZXRhZGF0YScsIGRhdGEudW50cnVzdGVkX21ldGFkYXRhKS5pc09wdGlvbmFsQm9vbGVhbignbWZhX2Vucm9sbGVkJywgZGF0YS5tZmFfZW5yb2xsZWQpLmlzT3B0aW9uYWxTdHJpbmcoJ21mYV9waG9uZV9udW1iZXInLCBkYXRhLm1mYV9waG9uZV9udW1iZXIpLmlzT3B0aW9uYWxTdHJpbmcoJ2RlZmF1bHRfbWZhX21ldGhvZCcsIGRhdGEuZGVmYXVsdF9tZmFfbWV0aG9kKTtcbiAgICAgICAgICAgIF9jb250ZXh0NjcubmV4dCA9IDM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgIHVybDogJy9iMmIvb3JnYW5pemF0aW9ucy9tZW1iZXJzL3VwZGF0ZScsXG4gICAgICAgICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgbWVtYmVyLicsXG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDY3LnNlbnQ7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZU1lbWJlcihyZXNwLm1lbWJlcik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY3LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTY3LCB0aGlzKTtcbiAgICB9KSk7XG4gIH07XG4gIHRoaXMuZGVsZXRlTUZBUGhvbmVOdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTAsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY4KCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY4JChfY29udGV4dDY4KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NjgucHJldiA9IF9jb250ZXh0NjgubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0NjgubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgIHVybDogJy9iMmIvb3JnYW5pemF0aW9ucy9tZW1iZXJzL2RlbGV0ZVBob25lTnVtYmVyJyxcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBtZW1iZXIgcGhvbmUgbnVtYmVyLicsXG4gICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDY4LnNlbnQ7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZU1lbWJlcihyZXNwLm1lbWJlcik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY4LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTY4LCB0aGlzKTtcbiAgICB9KSk7XG4gIH07XG4gIHRoaXMuZGVsZXRlTUZBVE9UUCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNjkoKSB7XG4gICAgICB2YXIgcmVzcDtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNjkkKF9jb250ZXh0NjkpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2OS5wcmV2ID0gX2NvbnRleHQ2OS5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ2OS5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvb3JnYW5pemF0aW9ucy9tZW1iZXJzL2RlbGV0ZVRPVFBcIixcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBtZW1iZXIgdG90cC4nLFxuICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXNwID0gX2NvbnRleHQ2OS5zZW50O1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVNZW1iZXIocmVzcC5tZW1iZXIpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjkuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU2OSwgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLmRlbGV0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKHBhc3N3b3JkSWQpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzAoKSB7XG4gICAgICB2YXIgcmVzcDtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzAkKF9jb250ZXh0NzApIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ3MC5wcmV2ID0gX2NvbnRleHQ3MC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ3MC5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvb3JnYW5pemF0aW9ucy9tZW1iZXJzL3Bhc3N3b3Jkcy9cIi5jb25jYXQocGFzc3dvcmRJZCksXG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgbWVtYmVyIHBhc3N3b3JkLicsXG4gICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDcwLnNlbnQ7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZU1lbWJlcihyZXNwLm1lbWJlcik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcwLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTcwLCB0aGlzKTtcbiAgICB9KSk7XG4gIH07XG59KTtcbnZhciBIZWFkbGVzc0IyQlNTT0NsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhlYWRsZXNzQjJCU1NPQ2xpZW50KF9uZXR3b3JrQ2xpZW50LCBfc3Vic2NyaXB0aW9uU2VydmljZSwgX3BrY2VNYW5hZ2VyLCBfZHluYW1pY0NvbmZpZywgX2NvbmZpZykge1xuICAgIHZhciBfdGhpczExID0gdGhpcztcbiAgICB2YXIgZGZwUHJvdGVjdGVkQXV0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogRGlzYWJsZWRERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIoKTtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGxlc3NCMkJTU09DbGllbnQpO1xuICAgIHRoaXMuX25ldHdvcmtDbGllbnQgPSBfbmV0d29ya0NsaWVudDtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gICAgdGhpcy5fcGtjZU1hbmFnZXIgPSBfcGtjZU1hbmFnZXI7XG4gICAgdGhpcy5fZHluYW1pY0NvbmZpZyA9IF9keW5hbWljQ29uZmlnO1xuICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgdGhpcy5kZnBQcm90ZWN0ZWRBdXRoID0gZGZwUHJvdGVjdGVkQXV0aDtcbiAgICB0aGlzLnNhbWwgPSB7XG4gICAgICBjcmVhdGVDb25uZWN0aW9uOiBmdW5jdGlvbiBjcmVhdGVDb25uZWN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTEsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcxKCkge1xuICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzEkKF9jb250ZXh0NzEpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NzEucHJldiA9IF9jb250ZXh0NzEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3MS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3Nzby9zYW1sJyxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBjcmVhdGUgU0FNTCBDb25uZWN0aW9uLidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDcxLnNlbnQpO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2NhbGxlZTcxLCB0aGlzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUNvbm5lY3Rpb246IGZ1bmN0aW9uIHVwZGF0ZUNvbm5lY3Rpb24oZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMSwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzIoKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MiQoX2NvbnRleHQ3Mikge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ3Mi5wcmV2ID0gX2NvbnRleHQ3Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDcyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL3Nzby9zYW1sL1wiLmNvbmNhdChkYXRhLmNvbm5lY3Rpb25faWQpLFxuICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gdXBkYXRlIFNBTUwgQ29ubmVjdGlvbi4nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3Mi5zZW50KTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWU3MiwgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVDb25uZWN0aW9uQnlVUkw6IGZ1bmN0aW9uIHVwZGF0ZUNvbm5lY3Rpb25CeVVSTChkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczExLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3MygpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTczJChfY29udGV4dDczKSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDczLnByZXYgPSBfY29udGV4dDczLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NzMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvc3NvL3NhbWwvXCIuY29uY2F0KGRhdGEuY29ubmVjdGlvbl9pZCwgXCIvdXJsXCIpLFxuICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gdXBkYXRlIFNBTUwgQ29ubmVjdGlvbi4nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3My5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3My5zZW50KTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWU3MywgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICBkZWxldGVWZXJpZmljYXRpb25DZXJ0aWZpY2F0ZTogZnVuY3Rpb24gZGVsZXRlVmVyaWZpY2F0aW9uQ2VydGlmaWNhdGUoZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMSwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzQoKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NCQoX2NvbnRleHQ3NCkge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ3NC5wcmV2ID0gX2NvbnRleHQ3NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDc0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL3Nzby9zYW1sL1wiLmNvbmNhdChkYXRhLmNvbm5lY3Rpb25faWQsIFwiL3ZlcmlmaWNhdGlvbl9jZXJ0aWZpY2F0ZXMvXCIpLmNvbmNhdChkYXRhLmNlcnRpZmljYXRlX2lkKSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gZGVsZXRlIFNBTUwgVmVyaWZpY2F0aW9uIENlcnRpZmljYXRlLidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDc0LnNlbnQpO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2NhbGxlZTc0LCB0aGlzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5vaWRjID0ge1xuICAgICAgY3JlYXRlQ29ubmVjdGlvbjogZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGlvbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczExLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3NSgpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc1JChfY29udGV4dDc1KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDc1LnByZXYgPSBfY29udGV4dDc1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NzUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9zc28vb2lkYycsXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIE9JREMgQ29ubmVjdGlvbi4nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3NS5zZW50KTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWU3NSwgdGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVDb25uZWN0aW9uOiBmdW5jdGlvbiB1cGRhdGVDb25uZWN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTEsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc2KCkge1xuICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzYkKF9jb250ZXh0NzYpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NzYucHJldiA9IF9jb250ZXh0NzYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Ni5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9zc28vb2lkYy9cIi5jb25jYXQoZGF0YS5jb25uZWN0aW9uX2lkKSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBPSURDIENvbm5lY3Rpb24uJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NzYuc2VudCk7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlNzYsIHRoaXMpO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSGVhZGxlc3NCMkJTU09DbGllbnQsIFt7XG4gICAga2V5OiBcImF1dGhlbnRpY2F0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRoZW50aWNhdGUob3B0aW9ucykge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc3KCkge1xuICAgICAgICB2YXIga2V5UGFpciwgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjEsIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW4sIHJlc3A7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzckKF9jb250ZXh0NzcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDc3LnByZXYgPSBfY29udGV4dDc3Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5zc28uYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ3Nzb190b2tlbicsIG9wdGlvbnMuc3NvX3Rva2VuKS5pc051bWJlcignc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzJywgb3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMpLmlzT3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG9wdGlvbnMubG9jYWxlKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Ny5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLmdldFBLUGFpcigpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBrZXlQYWlyID0gX2NvbnRleHQ3Ny5zZW50O1xuICAgICAgICAgICAgICBpZiAoIWtleVBhaXIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignTm8gY29kZSB2ZXJpZmllciBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlIGZvciBTU08gZmxvdy5cXG4nICsgJ0NvbnNpZGVyIHVzaW5nIHN0eXRjaC5zc28uc3RhcnQoKSB0byBhZGQgUEtDRSB0byB5b3VyIFNTTyBmbG93cyBmb3IgYWRkZWQgc2VjdXJpdHkuXFxuJyArICdTZWUgaHR0cHM6Ly9zdHl0Y2guY29tL2RvY3Mvb2F1dGgjZ3VpZGVzX3BrY2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQ3Ny5uZXh0ID0gNztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjEgPSBfY29udGV4dDc3LnNlbnQ7XG4gICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyMS5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjEuY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Ny50MCA9IHRoaXMuX25ldHdvcmtDbGllbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0NzcudDEgPSBPYmplY3Q7XG4gICAgICAgICAgICAgIF9jb250ZXh0NzcudDIgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICBwa2NlX2NvZGVfdmVyaWZpZXI6IGtleVBhaXIgPT09IG51bGwgfHwga2V5UGFpciA9PT0gdm9pZCAwID8gdm9pZCAwIDoga2V5UGFpci5jb2RlX3ZlcmlmaWVyXG4gICAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBfY29udGV4dDc3LnQzID0gZGZwX3RlbGVtZXRyeV9pZDtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Ny50NCA9IGNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0NzcubmV4dCA9IDE3O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKTtcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIF9jb250ZXh0NzcudDUgPSBfY29udGV4dDc3LnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChfY29udGV4dDc3LnQ1KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Ny5uZXh0ID0gMjA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQ3Ny50NSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgIF9jb250ZXh0NzcudDYgPSBfY29udGV4dDc3LnQ1O1xuICAgICAgICAgICAgICBfY29udGV4dDc3LnQ3ID0ge1xuICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQ6IF9jb250ZXh0NzcudDMsXG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogX2NvbnRleHQ3Ny50NCxcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogX2NvbnRleHQ3Ny50NlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBfY29udGV4dDc3LnQ4ID0gX2NvbnRleHQ3Ny50MS5hc3NpZ24uY2FsbChfY29udGV4dDc3LnQxLCBfY29udGV4dDc3LnQyLCBfY29udGV4dDc3LnQ3KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Ny50OSA9IHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQO1xuICAgICAgICAgICAgICBfY29udGV4dDc3LnQxMCA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3Nzby9hdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IF9jb250ZXh0NzcudDgsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSB0b2tlbicsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogX2NvbnRleHQ3Ny50OVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBfY29udGV4dDc3Lm5leHQgPSAyNztcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzcudDAucmV0cmlhYmxlRmV0Y2hTREsuY2FsbChfY29udGV4dDc3LnQwLCBfY29udGV4dDc3LnQxMCk7XG4gICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQ3Ny5zZW50O1xuICAgICAgICAgICAgICB0aGlzLl9wa2NlTWFuYWdlci5jbGVhclBLUGFpcigpO1xuICAgICAgICAgICAgICBpZiAocmVzcC5tZW1iZXJfc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVzcC5tZW1iZXJfc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyOiByZXNwLm1lbWJlcixcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IHJlc3Auc2Vzc2lvbl90b2tlbixcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IHJlc3AuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDMxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzcsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRCYXNlQXBpVXJsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJhc2VBcGlVcmwoKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNzgoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNzgkKF9jb250ZXh0NzgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDc4LnByZXYgPSBfY29udGV4dDc4Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaWYgKCFpc1Rlc3RQdWJsaWNUb2tlbih0aGlzLl9jb25maWcucHVibGljVG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3OC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fY29uZmlnLnRlc3RBUElVUkwpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fY29uZmlnLmxpdmVBUElVUkwpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzgsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydChfcmVmNCkge1xuICAgICAgdmFyIGNvbm5lY3Rpb25faWQgPSBfcmVmNC5jb25uZWN0aW9uX2lkLFxuICAgICAgICBsb2dpbl9yZWRpcmVjdF91cmwgPSBfcmVmNC5sb2dpbl9yZWRpcmVjdF91cmwsXG4gICAgICAgIHNpZ251cF9yZWRpcmVjdF91cmwgPSBfcmVmNC5zaWdudXBfcmVkaXJlY3RfdXJsO1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc5KCkge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkX2R5bmFtaWNDMywgcGtjZVJlcXVpcmVkRm9yU3NvLCBiYXNlVVJMLCBzdGFydFVybCwga2V5UGFpcjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3OSQoX2NvbnRleHQ3OSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NzkucHJldiA9IF9jb250ZXh0NzkubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDc5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZHluYW1pY0NvbmZpZztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkX2R5bmFtaWNDMyA9IF9jb250ZXh0Nzkuc2VudDtcbiAgICAgICAgICAgICAgcGtjZVJlcXVpcmVkRm9yU3NvID0gX3lpZWxkJHRoaXMkX2R5bmFtaWNDMy5wa2NlUmVxdWlyZWRGb3JTc287XG4gICAgICAgICAgICAgIF9jb250ZXh0NzkubmV4dCA9IDY7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEJhc2VBcGlVcmwoKTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgYmFzZVVSTCA9IF9jb250ZXh0Nzkuc2VudDtcbiAgICAgICAgICAgICAgc3RhcnRVcmwgPSBuZXcgVVJMKFwiXCIuY29uY2F0KGJhc2VVUkwsIFwiL3YxL3B1YmxpYy9zc28vc3RhcnRcIikpO1xuICAgICAgICAgICAgICBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdwdWJsaWNfdG9rZW4nLCB0aGlzLl9jb25maWcucHVibGljVG9rZW4pO1xuICAgICAgICAgICAgICBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdjb25uZWN0aW9uX2lkJywgY29ubmVjdGlvbl9pZCk7XG4gICAgICAgICAgICAgIGlmICghcGtjZVJlcXVpcmVkRm9yU3NvKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3OS5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQ3OS5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wa2NlTWFuYWdlci5zdGFydFBLQ0VUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAga2V5UGFpciA9IF9jb250ZXh0Nzkuc2VudDtcbiAgICAgICAgICAgICAgc3RhcnRVcmwuc2VhcmNoUGFyYW1zLnNldCgncGtjZV9jb2RlX2NoYWxsZW5nZScsIGtleVBhaXIuY29kZV9jaGFsbGVuZ2UpO1xuICAgICAgICAgICAgICBfY29udGV4dDc5Lm5leHQgPSAxODtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICB0aGlzLl9wa2NlTWFuYWdlci5jbGVhclBLUGFpcigpO1xuICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgbG9naW5fcmVkaXJlY3RfdXJsICYmIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2xvZ2luX3JlZGlyZWN0X3VybCcsIGxvZ2luX3JlZGlyZWN0X3VybCk7XG4gICAgICAgICAgICAgIHNpZ251cF9yZWRpcmVjdF91cmwgJiYgc3RhcnRVcmwuc2VhcmNoUGFyYW1zLnNldCgnc2lnbnVwX3JlZGlyZWN0X3VybCcsIHNpZ251cF9yZWRpcmVjdF91cmwpO1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHN0YXJ0VXJsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3OS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzksIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb25uZWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25uZWN0aW9ucygpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MCQoX2NvbnRleHQ4MCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0ODAucHJldiA9IF9jb250ZXh0ODAubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDgwLm5leHQgPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9zc28nLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGdldCBTU08gQ29ubmVjdGlvbnMuJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODAuc2VudCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgwLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4MCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNvbm5lY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlQ29ubmVjdGlvbihjb25uZWN0aW9uSWQpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MSQoX2NvbnRleHQ4MSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0ODEucHJldiA9IF9jb250ZXh0ODEubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MS5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvc3NvL1wiLmNvbmNhdChjb25uZWN0aW9uSWQpLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBTU08gQ29ubmVjdGlvbi4nXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODEuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgxLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhlYWRsZXNzQjJCU1NPQ2xpZW50O1xufSgpO1xudmFyIEhlYWRsZXNzQjJCU0NJTUNsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhlYWRsZXNzQjJCU0NJTUNsaWVudChfbmV0d29ya0NsaWVudCwgX3N1YnNjcmlwdGlvblNlcnZpY2UpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGxlc3NCMkJTQ0lNQ2xpZW50KTtcbiAgICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gX25ldHdvcmtDbGllbnQ7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSA9IF9zdWJzY3JpcHRpb25TZXJ2aWNlO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhIZWFkbGVzc0IyQlNDSU1DbGllbnQsIFt7XG4gICAga2V5OiBcImNyZWF0ZUNvbm5lY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODIoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODIkKF9jb250ZXh0ODIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgyLnByZXYgPSBfY29udGV4dDgyLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5zY2ltLmNyZWF0ZUNvbm5lY3Rpb24nKS5pc09wdGlvbmFsU3RyaW5nKCdkaXNwbGF5X25hbWUnLCBkYXRhLmRpc3BsYXlfbmFtZSkuaXNPcHRpb25hbFN0cmluZygnaWRlbnRpdHlfcHJvdmlkZXInLCBkYXRhLmlkZW50aXR5X3Byb3ZpZGVyKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ4Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogJy9iMmIvc2NpbScsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIFNDSU0gQ29ubmVjdGlvbi4nXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4Mi5zZW50KTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODIuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgyLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQ29ubmVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDb25uZWN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MygpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MyQoX2NvbnRleHQ4Mykge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0ODMucHJldiA9IF9jb250ZXh0ODMubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnNjaW0udXBkYXRlQ29ubmVjdGlvbicpLmlzU3RyaW5nKCdjb25uZWN0aW9uX2lkJywgZGF0YS5jb25uZWN0aW9uX2lkKS5pc09wdGlvbmFsU3RyaW5nKCdkaXNwbGF5X25hbWUnLCBkYXRhLmRpc3BsYXlfbmFtZSkuaXNPcHRpb25hbFN0cmluZygnaWRlbnRpdHlfcHJvdmlkZXInLCBkYXRhLmlkZW50aXR5X3Byb3ZpZGVyKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ4My5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL3NjaW0vXCIuY29uY2F0KGRhdGEuY29ubmVjdGlvbl9pZCksXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgU0NJTSBDb25uZWN0aW9uLidcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDgzLnNlbnQpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4My5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODMsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVDb25uZWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNvbm5lY3Rpb24oY29ubmVjdGlvbklkKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODQoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODQkKF9jb250ZXh0ODQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDg0LnByZXYgPSBfY29udGV4dDg0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5zY2ltLmRlbGV0ZUNvbm5lY3Rpb24nKS5pc1N0cmluZygnY29ubmVjdGlvbl9pZCcsIGNvbm5lY3Rpb25JZCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0ODQubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9zY2ltL1wiLmNvbmNhdChjb25uZWN0aW9uSWQpLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBTQ0lNIENvbm5lY3Rpb24uJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODQuc2VudCk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4NCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENvbm5lY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbigpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4NSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4NSQoX2NvbnRleHQ4NSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0ODUucHJldiA9IF9jb250ZXh0ODUubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDg1Lm5leHQgPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9zY2ltJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBnZXQgU0NJTSBDb25uZWN0aW9uLidcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDg1LnNlbnQpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4NS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb25uZWN0aW9uR3JvdXBzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbm5lY3Rpb25Hcm91cHMoZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTg2KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTg2JChfY29udGV4dDg2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ4Ni5wcmV2ID0gX2NvbnRleHQ4Ni5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHZhbGlkYXRlKCdzdHl0Y2guc2NpbS5nZXRDb25uZWN0aW9uR3JvdXBzJykuaXNPcHRpb25hbE51bWJlcignbGltaXQnLCBkYXRhLmxpbWl0KS5pc09wdGlvbmFsU3RyaW5nKCdjdXJzb3InLCBkYXRhLmN1cnNvcik7XG4gICAgICAgICAgICAgIF9jb250ZXh0ODYubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3NjaW0vZ3JvdXBzJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBnZXQgU0NJTSBDb25uZWN0aW9uIGdyb3Vwcy4nXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4Ni5zZW50KTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODYuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTg2LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicm90YXRlU3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlU3RhcnQoY29ubmVjdGlvbklkKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODcoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODckKF9jb250ZXh0ODcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDg3LnByZXYgPSBfY29udGV4dDg3Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5zY2ltLnJvdGF0ZVN0YXJ0JykuaXNTdHJpbmcoJ2Nvbm5lY3Rpb25JZCcsIGNvbm5lY3Rpb25JZCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0ODcubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9zY2ltL3JvdGF0ZS9zdGFydFwiLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBzdGFydCBTQ0lNIHRva2VuIHJvdGF0aW9uLidcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDg3LnNlbnQpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Ny5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODcsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb3RhdGVDb21wbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByb3RhdGVDb21wbGV0ZShjb25uZWN0aW9uSWQpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4OCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4OCQoX2NvbnRleHQ4OCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0ODgucHJldiA9IF9jb250ZXh0ODgubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnNjaW0ucm90YXRlQ29tcGxldGUnKS5pc1N0cmluZygnY29ubmVjdGlvbklkJywgY29ubmVjdGlvbklkKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ4OC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL3NjaW0vcm90YXRlL2NvbXBsZXRlXCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGNvbXBsZXRlIFNDSU0gdG9rZW4gcm90YXRpb24uJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODguc2VudCk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg4LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4OCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvdGF0ZUNhbmNlbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByb3RhdGVDYW5jZWwoY29ubmVjdGlvbklkKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlODkoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlODkkKF9jb250ZXh0ODkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDg5LnByZXYgPSBfY29udGV4dDg5Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5zY2ltLnJvdGF0ZUNhbmNlbCcpLmlzU3RyaW5nKCdjb25uZWN0aW9uSWQnLCBjb25uZWN0aW9uSWQpO1xuICAgICAgICAgICAgICBfY29udGV4dDg5Lm5leHQgPSAzO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvc2NpbS9yb3RhdGUvY2FuY2VsXCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGNhbmNlbCBTQ0lNIHRva2VuIHJvdGF0aW9uLidcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDg5LnNlbnQpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4OS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODksIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSGVhZGxlc3NCMkJTQ0lNQ2xpZW50O1xufSgpO1xudmFyIEhlYWRsZXNzQjJCT3JnYW5pemF0aW9uQ2xpZW50ID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBIZWFkbGVzc0IyQk9yZ2FuaXphdGlvbkNsaWVudChfbmV0d29ya0NsaWVudCwgX3N1YnNjcmlwdGlvblNlcnZpY2UpIHtcbiAgdmFyIF90aGlzMTIgPSB0aGlzO1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGxlc3NCMkJPcmdhbml6YXRpb25DbGllbnQpO1xuICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gX25ldHdvcmtDbGllbnQ7XG4gIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UgPSBfc3Vic2NyaXB0aW9uU2VydmljZTtcbiAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkwKCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkwJChfY29udGV4dDkwKSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OTAucHJldiA9IF9jb250ZXh0OTAubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0OTAubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgIHVybDogXCIvYjJiL29yZ2FuaXphdGlvbnMvbWVcIixcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHJldHJpZXZlIG9yZ2FuaXphdGlvbiBpbmZvLicsXG4gICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDkwLnNlbnQ7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZU9yZ2FuaXphdGlvbihyZXNwLm9yZ2FuaXphdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5MC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcC5vcmdhbml6YXRpb24pO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5MC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU5MCwgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLmdldFN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90aGlzMTIuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0T3JnYW5pemF0aW9uKCk7XG4gIH07XG4gIHRoaXMuZ2V0SW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JnYW5pemF0aW9uOiBfdGhpczEyLmdldFN5bmMoKSxcbiAgICAgIGZyb21DYWNoZTogX3RoaXMxMi5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRGcm9tQ2FjaGUoKVxuICAgIH07XG4gIH07XG4gIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gX3RoaXMxMi5fc3Vic2NyaXB0aW9uU2VydmljZS5zdWJzY3JpYmVUb1N0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKChfYSA9IHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS5vcmdhbml6YXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwpO1xuICAgIH0pO1xuICB9O1xuICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkxKCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkxJChfY29udGV4dDkxKSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OTEucHJldiA9IF9jb250ZXh0OTEubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0OTEubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgIHVybDogXCIvYjJiL29yZ2FuaXphdGlvbnMvbWVcIixcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBvcmdhbml6YXRpb24gaW5mby4nLFxuICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICBib2R5OiBkYXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXNwID0gX2NvbnRleHQ5MS5zZW50O1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTEuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5MS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU5MSwgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczEyLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5MigpIHtcbiAgICAgIHZhciByZXNwO1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5MiQoX2NvbnRleHQ5Mikge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDkyLnByZXYgPSBfY29udGV4dDkyLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDkyLm5leHQgPSAyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9vcmdhbml6YXRpb25zL21lXCIsXG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgb3JnYW5pemF0aW9uLicsXG4gICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDkyLnNlbnQ7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmRlc3Ryb3lTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTIuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5Mi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU5MiwgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLmdldEJ5U2x1ZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkzKCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5MyQoX2NvbnRleHQ5Mykge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDkzLnByZXYgPSBfY29udGV4dDkzLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLm9yZ2FuaXphdGlvbi5nZXRCeVNsdWcnKS5pc1N0cmluZygnb3JnYW5pemF0aW9uX3NsdWcnLCBkYXRhLm9yZ2FuaXphdGlvbl9zbHVnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkzLmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvb3JnYW5pemF0aW9ucy9zZWFyY2hcIixcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGdldCBvcmdhbml6YXRpb24gYnkgc2x1Zy4nLFxuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgYm9keTogZGF0YVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5My5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU5MywgdGhpcyk7XG4gICAgfSkpO1xuICB9O1xuICB0aGlzLm1lbWJlcnMgPSB7XG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTk0KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTk0JChfY29udGV4dDk0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5NC5wcmV2ID0gX2NvbnRleHQ5NC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDk0LmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9vcmdhbml6YXRpb25zL21lbWJlcnNcIixcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIG1lbWJlci4nLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IGRhdGFcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5NC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOTQsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTk1KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTk1JChfY29udGV4dDk1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5NS5wcmV2ID0gX2NvbnRleHQ5NS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDk1LmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9vcmdhbml6YXRpb25zL21lL21lbWJlcnMvc2VhcmNoXCIsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHNlYXJjaCBtZW1iZXJzLicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogZGF0YVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDk1LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5NSwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOTYoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOTYkKF9jb250ZXh0OTYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDk2LnByZXYgPSBfY29udGV4dDk2Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL29yZ2FuaXphdGlvbnMvbWVtYmVycy9cIi5jb25jYXQoZGF0YS5tZW1iZXJfaWQpLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgbWVtYmVyLicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBkYXRhXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTYuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTk2LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIGRlbGV0ZVBhc3N3b3JkOiBmdW5jdGlvbiBkZWxldGVQYXNzd29yZChwYXNzd29yZElkKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOTcoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOTckKF9jb250ZXh0OTcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDk3LnByZXYgPSBfY29udGV4dDk3Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTcuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL29yZ2FuaXphdGlvbnMvbWVtYmVycy9wYXNzd29yZHMvXCIuY29uY2F0KHBhc3N3b3JkSWQpLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgbWVtYmVyIHBhc3N3b3JkLicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDk3LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5NywgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBkZWxldGVNRkFQaG9uZU51bWJlcjogZnVuY3Rpb24gZGVsZXRlTUZBUGhvbmVOdW1iZXIobWVtYmVySWQpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczEyLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5OCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5OCQoX2NvbnRleHQ5OCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OTgucHJldiA9IF9jb250ZXh0OTgubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5OC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvb3JnYW5pemF0aW9ucy9tZW1iZXJzL21mYV9waG9uZV9udW1iZXJzL1wiLmNvbmNhdChtZW1iZXJJZCksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBtZW1iZXIgTUZBIFBob25lIG51bWJlci4nLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5OC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOTgsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgZGVsZXRlTUZBVE9UUDogZnVuY3Rpb24gZGVsZXRlTUZBVE9UUChtZW1iZXJJZCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTk5KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTk5JChfY29udGV4dDk5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5OS5wcmV2ID0gX2NvbnRleHQ5OS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDk5LmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9vcmdhbml6YXRpb25zL21lbWJlcnMvdG90cC9cIi5jb25jYXQobWVtYmVySWQpLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgbWVtYmVyIHRvdHAuJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTkuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTk5LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFwiZGVsZXRlXCI6IGZ1bmN0aW9uIF9kZWxldGUobWVtYmVySWQpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczEyLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMDAoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAwJChfY29udGV4dDEwMCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTAwLnByZXYgPSBfY29udGV4dDEwMC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9iMmIvb3JnYW5pemF0aW9ucy9tZW1iZXJzL1wiLmNvbmNhdChtZW1iZXJJZCksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBtZW1iZXIuJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAwLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMDAsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgcmVhY3RpdmF0ZTogZnVuY3Rpb24gcmVhY3RpdmF0ZShtZW1iZXJJZCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTIsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwMSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMDEkKF9jb250ZXh0MTAxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMDEucHJldiA9IF9jb250ZXh0MTAxLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAxLmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2IyYi9vcmdhbml6YXRpb25zL21lbWJlcnMvXCIuY29uY2F0KG1lbWJlcklkLCBcIi9yZWFjdGl2YXRlXCIpLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byByZWFjdGl2YXRlIG1lbWJlci4nLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCdcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDEuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwMSwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufSk7XG52YXIgSGVhZGxlc3NCMkJPQXV0aENsaWVudCQxID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGVhZGxlc3NCMkJPQXV0aENsaWVudChfbmV0d29ya0NsaWVudCwgX3N1YnNjcmlwdGlvblNlcnZpY2UsIF9wa2NlTWFuYWdlciwgX2R5bmFtaWNDb25maWcsIF9jb25maWcpIHtcbiAgICB2YXIgX3RoaXMxMyA9IHRoaXM7XG4gICAgdmFyIGRmcFByb3RlY3RlZEF1dGggPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IERpc2FibGVkREZQUHJvdGVjdGVkQXV0aFByb3ZpZGVyKCk7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRsZXNzQjJCT0F1dGhDbGllbnQpO1xuICAgIHRoaXMuX25ldHdvcmtDbGllbnQgPSBfbmV0d29ya0NsaWVudDtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gICAgdGhpcy5fcGtjZU1hbmFnZXIgPSBfcGtjZU1hbmFnZXI7XG4gICAgdGhpcy5fZHluYW1pY0NvbmZpZyA9IF9keW5hbWljQ29uZmlnO1xuICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgdGhpcy5kZnBQcm90ZWN0ZWRBdXRoID0gZGZwUHJvdGVjdGVkQXV0aDtcbiAgICB0aGlzLmRpc2NvdmVyeSA9IHtcbiAgICAgIGF1dGhlbnRpY2F0ZTogZnVuY3Rpb24gYXV0aGVudGljYXRlKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwMigpIHtcbiAgICAgICAgICB2YXIgcGtQYWlyLCBfeWllbGQkdGhpcyRkZnBQcm90ZWMyMiwgZGZwX3RlbGVtZXRyeV9pZCwgY2FwdGNoYV90b2tlbiwgcmVxdWVzdEJvZHksIHJlc3A7XG4gICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMDIkKF9jb250ZXh0MTAyKSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEwMi5wcmV2ID0gX2NvbnRleHQxMDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5vYXV0aC5kaXNjb3ZlcnkuYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ2Rpc2NvdmVyeV9vYXV0aF90b2tlbicsIGRhdGEuZGlzY292ZXJ5X29hdXRoX3Rva2VuKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwMi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGtjZU1hbmFnZXIuZ2V0UEtQYWlyKCk7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBwa1BhaXIgPSBfY29udGV4dDEwMi5zZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAyLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRkZnBQcm90ZWMyMiA9IF9jb250ZXh0MTAyLnNlbnQ7XG4gICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzIyLmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbiA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzIyLmNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgICAgcmVxdWVzdEJvZHkgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgIHBrY2VfY29kZV92ZXJpZmllcjogcGtQYWlyID09PSBudWxsIHx8IHBrUGFpciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGtQYWlyLmNvZGVfdmVyaWZpZXIsXG4gICAgICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiBkZnBfdGVsZW1ldHJ5X2lkLFxuICAgICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogY2FwdGNoYV90b2tlblxuICAgICAgICAgICAgICAgIH0sIGRhdGEpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAyLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL29hdXRoL2Rpc2NvdmVyeS9hdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgICAgICAgYm9keTogcmVxdWVzdEJvZHksXG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gYXV0aGVudGljYXRlIGRpc2NvdmVyeSBvYXV0aCB0b2tlbicsXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgIHJldHJ5Q2FsbGJhY2s6IHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0MTAyLnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGtjZU1hbmFnZXIuY2xlYXJQS1BhaXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IHJlc3AuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDIuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMTAyLCB0aGlzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nb29nbGUgPSB7XG4gICAgICBzdGFydDogdGhpcy5zdGFydE9BdXRoRmxvdyhCMkJPQXV0aFByb3ZpZGVycy5Hb29nbGUpLFxuICAgICAgZGlzY292ZXJ5OiB7XG4gICAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0RGlzY292ZXJ5T0F1dGhGbG93KEIyQk9BdXRoUHJvdmlkZXJzLkdvb2dsZSlcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubWljcm9zb2Z0ID0ge1xuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnRPQXV0aEZsb3coQjJCT0F1dGhQcm92aWRlcnMuTWljcm9zb2Z0KSxcbiAgICAgIGRpc2NvdmVyeToge1xuICAgICAgICBzdGFydDogdGhpcy5zdGFydERpc2NvdmVyeU9BdXRoRmxvdyhCMkJPQXV0aFByb3ZpZGVycy5NaWNyb3NvZnQpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSGVhZGxlc3NCMkJPQXV0aENsaWVudCwgW3tcbiAgICBrZXk6IFwiYXV0aGVudGljYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShvcHRpb25zKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAzKCkge1xuICAgICAgICB2YXIga2V5UGFpciwgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjMsIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW4sIHJlc3A7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAzJChfY29udGV4dDEwMykge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTAzLnByZXYgPSBfY29udGV4dDEwMy5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHZhbGlkYXRlKCdzdHl0Y2gub2F1dGguYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ29hdXRoX3Rva2VuJywgb3B0aW9ucy5vYXV0aF90b2tlbikuaXNOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsIG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKS5pc09wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBvcHRpb25zLmxvY2FsZSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLm5leHQgPSAzO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGtjZU1hbmFnZXIuZ2V0UEtQYWlyKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGtleVBhaXIgPSBfY29udGV4dDEwMy5zZW50O1xuICAgICAgICAgICAgICBpZiAoIWtleVBhaXIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignTm8gY29kZSB2ZXJpZmllciBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlIGZvciBPQXV0aCBmbG93LlxcbicgKyAnQ29uc2lkZXIgdXNpbmcgc3R5dGNoLm9hdXRoLiRwcm92aWRlci5zdGFydCgpIHRvIGFkZCBQS0NFIHRvIHlvdXIgT0F1dGggZmxvd3MgZm9yIGFkZGVkIHNlY3VyaXR5LlxcbicgKyAnU2VlIGh0dHBzOi8vc3R5dGNoLmNvbS9kb2NzL29hdXRoI2d1aWRlc19wa2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLm5leHQgPSA3O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBfeWllbGQkdGhpcyRkZnBQcm90ZWMyMyA9IF9jb250ZXh0MTAzLnNlbnQ7XG4gICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyMy5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjMuY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDMudDAgPSB0aGlzLl9uZXR3b3JrQ2xpZW50O1xuICAgICAgICAgICAgICBfY29udGV4dDEwMy50MSA9IE9iamVjdDtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDMudDIgPSBrZXlQYWlyID09PSBudWxsIHx8IGtleVBhaXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGtleVBhaXIuY29kZV92ZXJpZmllcjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDMudDMgPSBkZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBfY29udGV4dDEwMy50NCA9IGNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLm5leHQgPSAxNztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCk7XG4gICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICBfY29udGV4dDEwMy50NSA9IF9jb250ZXh0MTAzLnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChfY29udGV4dDEwMy50NSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAzLm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDEwMy50NSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLnQ2ID0gX2NvbnRleHQxMDMudDU7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLnQ3ID0ge1xuICAgICAgICAgICAgICAgIHBrY2VfY29kZV92ZXJpZmllcjogX2NvbnRleHQxMDMudDIsXG4gICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogX2NvbnRleHQxMDMudDMsXG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogX2NvbnRleHQxMDMudDQsXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IF9jb250ZXh0MTAzLnQ2XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLnQ4ID0gb3B0aW9ucztcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDMudDkgPSBfY29udGV4dDEwMy50MS5hc3NpZ24uY2FsbChfY29udGV4dDEwMy50MSwgX2NvbnRleHQxMDMudDcsIF9jb250ZXh0MTAzLnQ4KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDMudDEwID0gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlA7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLnQxMSA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL29hdXRoL2F1dGhlbnRpY2F0ZScsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogX2NvbnRleHQxMDMudDksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSB0b2tlbicsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogX2NvbnRleHQxMDMudDEwXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIF9jb250ZXh0MTAzLm5leHQgPSAyODtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAzLnQwLnJldHJpYWJsZUZldGNoU0RLLmNhbGwoX2NvbnRleHQxMDMudDAsIF9jb250ZXh0MTAzLnQxMSk7XG4gICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQxMDMuc2VudDtcbiAgICAgICAgICAgICAgdGhpcy5fcGtjZU1hbmFnZXIuY2xlYXJQS1BhaXIoKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3AubWVtYmVyX3Nlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb246IHJlc3AubWVtYmVyX3Nlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlcjogcmVzcC5tZW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogcmVzcC5vcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX3Rva2VuOiByZXNwLnNlc3Npb25fdG9rZW4sXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX2p3dDogcmVzcC5zZXNzaW9uX2p3dCxcbiAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IG51bGwsXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX2p3dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiByZXNwLmludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAzLmFicnVwdChcInJldHVyblwiLCByZXNwKTtcbiAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwMy5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTAzLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QmFzZUFwaVVybFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCYXNlQXBpVXJsKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwNCgpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJF9keW5hbWljQzQsIGNuYW1lRG9tYWluO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwNCQoX2NvbnRleHQxMDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEwNC5wcmV2ID0gX2NvbnRleHQxMDQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDEwNC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2R5bmFtaWNDb25maWc7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJF9keW5hbWljQzQgPSBfY29udGV4dDEwNC5zZW50O1xuICAgICAgICAgICAgICBjbmFtZURvbWFpbiA9IF95aWVsZCR0aGlzJF9keW5hbWljQzQuY25hbWVEb21haW47XG4gICAgICAgICAgICAgIGlmICghY25hbWVEb21haW4pIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwNC5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDQuYWJydXB0KFwicmV0dXJuXCIsIFwiaHR0cHM6Ly9cIi5jb25jYXQoY25hbWVEb21haW4pKTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgaWYgKCFpc1Rlc3RQdWJsaWNUb2tlbih0aGlzLl9jb25maWcucHVibGljVG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMDQubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTA0LmFicnVwdChcInJldHVyblwiLCB0aGlzLl9jb25maWcudGVzdEFQSVVSTCk7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwNC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fY29uZmlnLmxpdmVBUElVUkwpO1xuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwNCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0T0F1dGhGbG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0T0F1dGhGbG93KHByb3ZpZGVyVHlwZSkge1xuICAgICAgdmFyIF90aGlzMTQgPSB0aGlzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgb3JnYW5pemF0aW9uX2lkID0gX3JlZjUub3JnYW5pemF0aW9uX2lkLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbl9zbHVnID0gX3JlZjUub3JnYW5pemF0aW9uX3NsdWcsXG4gICAgICAgICAgbG9naW5fcmVkaXJlY3RfdXJsID0gX3JlZjUubG9naW5fcmVkaXJlY3RfdXJsLFxuICAgICAgICAgIHNpZ251cF9yZWRpcmVjdF91cmwgPSBfcmVmNS5zaWdudXBfcmVkaXJlY3RfdXJsLFxuICAgICAgICAgIGN1c3RvbV9zY29wZXMgPSBfcmVmNS5jdXN0b21fc2NvcGVzLFxuICAgICAgICAgIHByb3ZpZGVyX3BhcmFtcyA9IF9yZWY1LnByb3ZpZGVyX3BhcmFtcztcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTQsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwNSgpIHtcbiAgICAgICAgICB2YXIgX3lpZWxkJHRoaXMkX2R5bmFtaWNDNSwgcGtjZVJlcXVpcmVkRm9yT0F1dGgsIGJhc2VVUkwsIHN0YXJ0VXJsLCBrZXksIGtleVBhaXI7XG4gICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMDUkKF9jb250ZXh0MTA1KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEwNS5wcmV2ID0gX2NvbnRleHQxMDUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMDUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2R5bmFtaWNDb25maWc7XG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRfZHluYW1pY0M1ID0gX2NvbnRleHQxMDUuc2VudDtcbiAgICAgICAgICAgICAgICBwa2NlUmVxdWlyZWRGb3JPQXV0aCA9IF95aWVsZCR0aGlzJF9keW5hbWljQzUucGtjZVJlcXVpcmVkRm9yT0F1dGg7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMDUubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmFzZUFwaVVybCgpO1xuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgYmFzZVVSTCA9IF9jb250ZXh0MTA1LnNlbnQ7XG4gICAgICAgICAgICAgICAgc3RhcnRVcmwgPSBuZXcgVVJMKFwiXCIuY29uY2F0KGJhc2VVUkwsIFwiL3YxL2IyYi9wdWJsaWMvb2F1dGgvXCIpLmNvbmNhdChwcm92aWRlclR5cGUsIFwiL3N0YXJ0XCIpKTtcbiAgICAgICAgICAgICAgICBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdwdWJsaWNfdG9rZW4nLCB0aGlzLl9jb25maWcucHVibGljVG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChvcmdhbml6YXRpb25faWQgJiYgb3JnYW5pemF0aW9uX2lkICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdvcmdhbml6YXRpb25faWQnLCBvcmdhbml6YXRpb25faWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3JnYW5pemF0aW9uX3NsdWcgJiYgb3JnYW5pemF0aW9uX3NsdWcgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3NsdWcnLCBvcmdhbml6YXRpb25fc2x1Zyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXN0b21fc2NvcGVzKSB7XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3RhcnRPQXV0aEZsb3cnKS5pc1N0cmluZ0FycmF5KCdjdXN0b21fc2NvcGVzJywgY3VzdG9tX3Njb3Blcyk7XG4gICAgICAgICAgICAgICAgICBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdjdXN0b21fc2NvcGVzJywgY3VzdG9tX3Njb3Blcy5qb2luKCcgJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJfcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3RhcnRPQXV0aEZsb3cnKS5pc09wdGlvbmFsT2JqZWN0KCdwcm92aWRlcl9wYXJhbXMnLCBwcm92aWRlcl9wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gcHJvdmlkZXJfcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb3ZpZGVyXycgKyBrZXksIHByb3ZpZGVyX3BhcmFtc1trZXldKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwa2NlUmVxdWlyZWRGb3JPQXV0aCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMDUubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTA1Lm5leHQgPSAxNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGtjZU1hbmFnZXIuc3RhcnRQS0NFVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICBrZXlQYWlyID0gX2NvbnRleHQxMDUuc2VudDtcbiAgICAgICAgICAgICAgICBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdwa2NlX2NvZGVfY2hhbGxlbmdlJywga2V5UGFpci5jb2RlX2NoYWxsZW5nZSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMDUubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgIHRoaXMuX3BrY2VNYW5hZ2VyLmNsZWFyUEtQYWlyKCk7XG4gICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgbG9naW5fcmVkaXJlY3RfdXJsICYmIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2xvZ2luX3JlZGlyZWN0X3VybCcsIGxvZ2luX3JlZGlyZWN0X3VybCk7XG4gICAgICAgICAgICAgICAgc2lnbnVwX3JlZGlyZWN0X3VybCAmJiBzdGFydFVybC5zZWFyY2hQYXJhbXMuc2V0KCdzaWdudXBfcmVkaXJlY3RfdXJsJywgc2lnbnVwX3JlZGlyZWN0X3VybCk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBzdGFydFVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTA1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMTA1LCB0aGlzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnREaXNjb3ZlcnlPQXV0aEZsb3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnREaXNjb3ZlcnlPQXV0aEZsb3cocHJvdmlkZXJUeXBlKSB7XG4gICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgICAgIHZhciBkaXNjb3ZlcnlfcmVkaXJlY3RfdXJsID0gX3JlZjYuZGlzY292ZXJ5X3JlZGlyZWN0X3VybCxcbiAgICAgICAgICBjdXN0b21fc2NvcGVzID0gX3JlZjYuY3VzdG9tX3Njb3BlcyxcbiAgICAgICAgICBwcm92aWRlcl9wYXJhbXMgPSBfcmVmNi5wcm92aWRlcl9wYXJhbXM7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczE1LCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMDYoKSB7XG4gICAgICAgICAgdmFyIF95aWVsZCR0aGlzJF9keW5hbWljQzYsIHBrY2VSZXF1aXJlZEZvck9BdXRoLCBiYXNlVVJMLCBzdGFydFVybCwga2V5LCBrZXlQYWlyO1xuICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTA2JChfY29udGV4dDEwNikge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMDYucHJldiA9IF9jb250ZXh0MTA2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTA2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9keW5hbWljQ29uZmlnO1xuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkX2R5bmFtaWNDNiA9IF9jb250ZXh0MTA2LnNlbnQ7XG4gICAgICAgICAgICAgICAgcGtjZVJlcXVpcmVkRm9yT0F1dGggPSBfeWllbGQkdGhpcyRfZHluYW1pY0M2LnBrY2VSZXF1aXJlZEZvck9BdXRoO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTA2Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEJhc2VBcGlVcmwoKTtcbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGJhc2VVUkwgPSBfY29udGV4dDEwNi5zZW50O1xuICAgICAgICAgICAgICAgIHN0YXJ0VXJsID0gbmV3IFVSTChcIlwiLmNvbmNhdChiYXNlVVJMLCBcIi92MS9iMmIvcHVibGljL29hdXRoL1wiKS5jb25jYXQocHJvdmlkZXJUeXBlLCBcIi9kaXNjb3Zlcnkvc3RhcnRcIikpO1xuICAgICAgICAgICAgICAgIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3B1YmxpY190b2tlbicsIHRoaXMuX2NvbmZpZy5wdWJsaWNUb2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbV9zY29wZXMpIHtcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKCdzdGFydE9BdXRoRmxvdycpLmlzU3RyaW5nQXJyYXkoJ2N1c3RvbV9zY29wZXMnLCBjdXN0b21fc2NvcGVzKTtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2N1c3RvbV9zY29wZXMnLCBjdXN0b21fc2NvcGVzLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlcl9wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKCdzdGFydE9BdXRoRmxvdycpLmlzT3B0aW9uYWxPYmplY3QoJ3Byb3ZpZGVyX3BhcmFtcycsIHByb3ZpZGVyX3BhcmFtcyk7XG4gICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBwcm92aWRlcl9wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRVcmwuc2VhcmNoUGFyYW1zLnNldCgncHJvdmlkZXJfJyArIGtleSwgcHJvdmlkZXJfcGFyYW1zW2tleV0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXBrY2VSZXF1aXJlZEZvck9BdXRoKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDEwNi5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMDYubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wa2NlTWFuYWdlci5zdGFydFBLQ0VUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIGtleVBhaXIgPSBfY29udGV4dDEwNi5zZW50O1xuICAgICAgICAgICAgICAgIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3BrY2VfY29kZV9jaGFsbGVuZ2UnLCBrZXlQYWlyLmNvZGVfY2hhbGxlbmdlKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwNi5uZXh0ID0gMTk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgdGhpcy5fcGtjZU1hbmFnZXIuY2xlYXJQS1BhaXIoKTtcbiAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICBkaXNjb3ZlcnlfcmVkaXJlY3RfdXJsICYmIHN0YXJ0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2Rpc2NvdmVyeV9yZWRpcmVjdF91cmwnLCBkaXNjb3ZlcnlfcmVkaXJlY3RfdXJsKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHN0YXJ0VXJsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUxMDYsIHRoaXMpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSGVhZGxlc3NCMkJPQXV0aENsaWVudDtcbn0oKTtcbnZhciBIZWFkbGVzc0IyQlNlc3Npb25DbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkbGVzc0IyQlNlc3Npb25DbGllbnQoX25ldHdvcmtDbGllbnQsIF9zdWJzY3JpcHRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIF90aGlzMTYgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkbGVzc0IyQlNlc3Npb25DbGllbnQpO1xuICAgIHRoaXMuX25ldHdvcmtDbGllbnQgPSBfbmV0d29ya0NsaWVudDtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gICAgdGhpcy5nZXRTeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzMTYuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbigpO1xuICAgIH07XG4gICAgdGhpcy5nZXRJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbjogX3RoaXMxNi5nZXRTeW5jKCksXG4gICAgICAgIGZyb21DYWNoZTogX3RoaXMxNi5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRGcm9tQ2FjaGUoKVxuICAgICAgfTtcbiAgICB9O1xuICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdGhpczE2Ll9zdWJzY3JpcHRpb25TZXJ2aWNlLnN1YnNjcmliZVRvU3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKChfYSA9IHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS5zZXNzaW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZXZva2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTYsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwNygpIHtcbiAgICAgICAgdmFyIHJlc3A7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTA3JChfY29udGV4dDEwNykge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTA3LnByZXYgPSBfY29udGV4dDEwNy5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTA3LnByZXYgPSAwO1xuICAgICAgICAgICAgICBfY29udGV4dDEwNy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYjJiL3Nlc3Npb25zL3Jldm9rZVwiLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0Vycm9yIHJldm9raW5nIHNlc3Npb24nLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQxMDcuc2VudDtcbiAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5kZXN0cm95U3RhdGUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTA3LmFicnVwdChcInJldHVyblwiLCByZXNwKTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDcucHJldiA9IDg7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTA3LnQwID0gX2NvbnRleHQxMDdbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgICAgaWYgKCEhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mb3JjZUNsZWFyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZGVzdHJveVN0YXRlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoVU5SRUNPVkVSQUJMRV9FUlJPUl9UWVBFUy5pbmNsdWRlcyhfY29udGV4dDEwNy50MC5lcnJvcl90eXBlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZGVzdHJveVN0YXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQxMDcudDA7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDcuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwNywgdGhpcywgW1swLCA4XV0pO1xuICAgICAgfSkpO1xuICAgIH07XG4gICAgdGhpcy5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTYsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwOCgpIHtcbiAgICAgICAgdmFyIF90aGlzMTcgPSB0aGlzO1xuICAgICAgICB2YXIgaW5pdGlhbFNlc3Npb24sIGlzU2Vzc2lvblN0YWxlLCByZXF1ZXN0Qm9keSwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMDgkKF9jb250ZXh0MTA4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMDgucHJldiA9IF9jb250ZXh0MTA4Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaW5pdGlhbFNlc3Npb24gPSB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgICAgaXNTZXNzaW9uU3RhbGUgPSBmdW5jdGlvbiBpc1Nlc3Npb25TdGFsZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbml0aWFsU2Vzc2lvbiA9PT0gbnVsbCB8fCBpbml0aWFsU2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbFNlc3Npb24ubWVtYmVyX3Nlc3Npb25faWQpICE9PSAoKF9hID0gX3RoaXMxNy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRTZXNzaW9uKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZW1iZXJfc2Vzc2lvbl9pZCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIF9jb250ZXh0MTA4LnByZXYgPSAyO1xuICAgICAgICAgICAgICByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDgubmV4dCA9IDY7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3Nlc3Npb25zL2F1dGhlbnRpY2F0ZScsXG4gICAgICAgICAgICAgICAgYm9keTogcmVxdWVzdEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRXJyb3IgYXV0aGVudGljYXRpbmcgc2Vzc2lvbicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDEwOC5zZW50O1xuICAgICAgICAgICAgICBpZiAoIWlzU2Vzc2lvblN0YWxlKCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwOC5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDguYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuYXV0aGVudGljYXRlKG9wdGlvbnMpKTtcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgIHNlc3Npb246IHJlc3AubWVtYmVyX3Nlc3Npb24sXG4gICAgICAgICAgICAgICAgICBtZW1iZXI6IHJlc3AubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogcmVzcC5zZXNzaW9uX3Rva2VuLFxuICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBudWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDguYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDgucHJldiA9IDEzO1xuICAgICAgICAgICAgICBfY29udGV4dDEwOC50MCA9IF9jb250ZXh0MTA4W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgIGlmICghaXNTZXNzaW9uU3RhbGUoKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTA4Lm5leHQgPSAxNztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDguYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuYXV0aGVudGljYXRlKG9wdGlvbnMpKTtcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIGlmIChVTlJFQ09WRVJBQkxFX0VSUk9SX1RZUEVTLmluY2x1ZGVzKF9jb250ZXh0MTA4LnQwLmVycm9yX3R5cGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5kZXN0cm95U2Vzc2lvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IF9jb250ZXh0MTA4LnQwO1xuICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTA4LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMDgsIHRoaXMsIFtbMiwgMTNdXSk7XG4gICAgICB9KSk7XG4gICAgfTtcbiAgICB0aGlzLmV4Y2hhbmdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczE2LCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMDkoKSB7XG4gICAgICAgIHZhciByZXNwO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwOSQoX2NvbnRleHQxMDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEwOS5wcmV2ID0gX2NvbnRleHQxMDkubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnNlc3Npb25zLmV4Y2hhbmdlJykuaXNTdHJpbmcoJ29yZ2FuaXphdGlvbl9pZCcsIGRhdGEub3JnYW5pemF0aW9uX2lkKS5pc051bWJlcignc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzJywgZGF0YS5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMpLmlzT3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIGRhdGEubG9jYWxlKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDkucHJldiA9IDE7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTA5Lm5leHQgPSA0O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9zZXNzaW9ucy9leGNoYW5nZScsXG4gICAgICAgICAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gZXhjaGFuZ2Ugc2Vzc2lvbicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDEwOS5zZW50O1xuICAgICAgICAgICAgICBpZiAocmVzcC5tZW1iZXJfc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVzcC5tZW1iZXJfc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyOiByZXNwLm1lbWJlcixcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IHJlc3Auc2Vzc2lvbl90b2tlbixcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IHJlc3AuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMDkuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBfY29udGV4dDEwOS5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMDkudDAgPSBfY29udGV4dDEwOVtcImNhdGNoXCJdKDEpO1xuICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDEwOS50MDtcbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwOS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTA5LCB0aGlzLCBbWzEsIDldXSk7XG4gICAgICB9KSk7XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSGVhZGxlc3NCMkJTZXNzaW9uQ2xpZW50LCBbe1xuICAgIGtleTogXCJnZXRUb2tlbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9rZW5zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0VG9rZW5zKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVNlc3Npb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbih0b2tlbnMpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHZhbGlkYXRlKCdzdHl0Y2guc2Vzc2lvbnMudXBkYXRlU2Vzc2lvbicpLmlzU3RyaW5nKCdzZXNzaW9uX3Rva2VuJywgdG9rZW5zLnNlc3Npb25fdG9rZW4pLmlzT3B0aW9uYWxTdHJpbmcoJ3Nlc3Npb25fand0JywgKF9hID0gdG9rZW5zLnNlc3Npb25fand0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQpO1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVUb2tlbnModG9rZW5zKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhlYWRsZXNzQjJCU2Vzc2lvbkNsaWVudDtcbn0oKTtcbnZhciBIZWFkbGVzc0IyQkRpc2NvdmVyeUNsaWVudCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gSGVhZGxlc3NCMkJEaXNjb3ZlcnlDbGllbnQoX25ldHdvcmtDbGllbnQsIF9zdWJzY3JpcHRpb25TZXJ2aWNlKSB7XG4gIHZhciBfdGhpczE4ID0gdGhpcztcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRsZXNzQjJCRGlzY292ZXJ5Q2xpZW50KTtcbiAgdGhpcy5fbmV0d29ya0NsaWVudCA9IF9uZXR3b3JrQ2xpZW50O1xuICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gIHRoaXMub3JnYW5pemF0aW9ucyA9IHtcbiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTgsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExMCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMTAkKF9jb250ZXh0MTEwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMTAucHJldiA9IF9jb250ZXh0MTEwLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTAudDAgPSB0aGlzLl9uZXR3b3JrQ2xpZW50O1xuICAgICAgICAgICAgICBfY29udGV4dDExMC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEwLnQxID0gX2NvbnRleHQxMTAuc2VudDtcbiAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTEwLnQxKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMTAubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQxMTAudDEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEwLnQyID0gX2NvbnRleHQxMTAudDE7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEwLnQzID0ge1xuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBfY29udGV4dDExMC50MlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBfY29udGV4dDExMC50NCA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL2Rpc2NvdmVyeS9vcmdhbml6YXRpb25zJyxcbiAgICAgICAgICAgICAgICBib2R5OiBfY29udGV4dDExMC50MyxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gcmV0cmlldmUgZGlzY292ZXJlZCBvcmdhbml6YXRpb25zJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTEwLnQwLmZldGNoU0RLLmNhbGwoX2NvbnRleHQxMTAudDAsIF9jb250ZXh0MTEwLnQ0KSk7XG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTAuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExMCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEoX3RoaXMxOCwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTExKCkge1xuICAgICAgICB2YXIgcmVxdWVzdEJvZHksIHJlc3A7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTExJChfY29udGV4dDExMSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTExLnByZXYgPSBfY29udGV4dDExMS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHZhbGlkYXRlKCdzdHl0Y2guZGlzY292ZXJ5Lm9yZ2FuaXphdGlvbnMuY3JlYXRlJykuaXNOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsIGRhdGEuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKS5pc09wdGlvbmFsU3RyaW5nKCdvcmdhbml6YXRpb25fbmFtZScsIGRhdGEub3JnYW5pemF0aW9uX25hbWUpLmlzT3B0aW9uYWxTdHJpbmcoJ29yZ2FuaXphdGlvbl9zbHVnJywgZGF0YS5vcmdhbml6YXRpb25fc2x1ZykuaXNPcHRpb25hbFN0cmluZygnb3JnYW5pemF0aW9uX2xvZ29fdXJsJywgZGF0YS5vcmdhbml6YXRpb25fbG9nb191cmwpLmlzT3B0aW9uYWxTdHJpbmcoJ3Nzb19qaXRfcHJvdmlzaW9uaW5nJywgZGF0YS5zc29faml0X3Byb3Zpc2lvbmluZykuaXNPcHRpb25hbFN0cmluZ0FycmF5KCdlbWFpbF9hbGxvd2VkX2RvbWFpbnMnLCBkYXRhLmVtYWlsX2FsbG93ZWRfZG9tYWlucykuaXNPcHRpb25hbFN0cmluZygnZW1haWxfaW52aXRlcycsIGRhdGEuZW1haWxfaW52aXRlcykuaXNPcHRpb25hbFN0cmluZygnYXV0aF9tZXRob2RzJywgZGF0YS5hdXRoX21ldGhvZHMpLmlzT3B0aW9uYWxTdHJpbmdBcnJheSgnYWxsb3dlZF9hdXRoX21ldGhvZHMnLCBkYXRhLmFsbG93ZWRfYXV0aF9tZXRob2RzKS5pc09wdGlvbmFsU3RyaW5nKCdtZmFfcG9saWN5JywgZGF0YS5tZmFfcG9saWN5KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTEudDAgPSBPYmplY3Q7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTExLnQxID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTExLm5leHQgPSA1O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTEudDIgPSBfY29udGV4dDExMS5zZW50O1xuICAgICAgICAgICAgICBpZiAoX2NvbnRleHQxMTEudDIpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDExMS5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDExMS50MiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTEudDMgPSBfY29udGV4dDExMS50MjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTEudDQgPSB7XG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IF9jb250ZXh0MTExLnQzXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJlcXVlc3RCb2R5ID0gX2NvbnRleHQxMTEudDAuYXNzaWduLmNhbGwoX2NvbnRleHQxMTEudDAsIF9jb250ZXh0MTExLnQxLCBfY29udGV4dDExMS50NCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTExLm5leHQgPSAxMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogJy9iMmIvZGlzY292ZXJ5L29yZ2FuaXphdGlvbnMvY3JlYXRlJyxcbiAgICAgICAgICAgICAgICBib2R5OiByZXF1ZXN0Qm9keSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIG9yZ2FuaXphdGlvbiBhbmQgbWVtYmVyJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDExMS5zZW50O1xuICAgICAgICAgICAgICBpZiAocmVzcC5tZW1iZXJfc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVzcC5tZW1iZXJfc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyOiByZXNwLm1lbWJlcixcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IHJlc3Auc2Vzc2lvbl90b2tlbixcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IHJlc3AuaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTEuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTExLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMTEsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgdGhpcy5pbnRlcm1lZGlhdGVTZXNzaW9ucyA9IHtcbiAgICBleGNoYW5nZTogZnVuY3Rpb24gZXhjaGFuZ2UoZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTgsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExMigpIHtcbiAgICAgICAgdmFyIHJlcXVlc3RCb2R5LCByZXNwO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExMiQoX2NvbnRleHQxMTIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDExMi5wcmV2ID0gX2NvbnRleHQxMTIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLmRpc2NvdmVyeS5pbnRlcm1lZGlhdGVTZXNzaW9ucy5leGNoYW5nZScpLmlzU3RyaW5nKCdvcmdhbml6YXRpb25faWQnLCBkYXRhLm9yZ2FuaXphdGlvbl9pZCkuaXNOdW1iZXIoJ3Nlc3Npb25fZHVyYXRpb25fbWludXRlcycsIGRhdGEuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzKS5pc09wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBkYXRhLmxvY2FsZSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEyLnQwID0gT2JqZWN0O1xuICAgICAgICAgICAgICBfY29udGV4dDExMi50MSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICAgICAgICBfY29udGV4dDExMi5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCk7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEyLnQyID0gX2NvbnRleHQxMTIuc2VudDtcbiAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTEyLnQyKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMTIubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQxMTIudDIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEyLnQzID0gX2NvbnRleHQxMTIudDI7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTEyLnQ0ID0ge1xuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBfY29udGV4dDExMi50M1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXF1ZXN0Qm9keSA9IF9jb250ZXh0MTEyLnQwLmFzc2lnbi5jYWxsKF9jb250ZXh0MTEyLnQwLCBfY29udGV4dDExMi50MSwgX2NvbnRleHQxMTIudDQpO1xuICAgICAgICAgICAgICBfY29udGV4dDExMi5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL2Rpc2NvdmVyeS9pbnRlcm1lZGlhdGVfc2Vzc2lvbnMvZXhjaGFuZ2UnLFxuICAgICAgICAgICAgICAgIGJvZHk6IHJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBleGNoYW5nZSBpbnRlcm1lZGlhdGUgc2Vzc2lvbicsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQxMTIuc2VudDtcbiAgICAgICAgICAgICAgaWYgKHJlc3AubWVtYmVyX3Nlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb246IHJlc3AubWVtYmVyX3Nlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlcjogcmVzcC5tZW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogcmVzcC5vcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX3Rva2VuOiByZXNwLnNlc3Npb25fdG9rZW4sXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX2p3dDogcmVzcC5zZXNzaW9uX2p3dCxcbiAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IG51bGwsXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX2p3dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiByZXNwLmludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEyLmFicnVwdChcInJldHVyblwiLCByZXNwKTtcbiAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExMi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTEyLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59KTtcbnZhciBEZWZhdWx0RHluYW1pY0NvbmZpZyA9IFByb21pc2UucmVzb2x2ZSh7XG4gIHBrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzOiBmYWxzZVxufSk7XG52YXIgSGVhZGxlc3NCMkJQYXNzd29yZHNDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkbGVzc0IyQlBhc3N3b3Jkc0NsaWVudChfbmV0d29ya0NsaWVudCwgX3N1YnNjcmlwdGlvblNlcnZpY2UsIF9wa2NlTWFuYWdlcikge1xuICAgIHZhciBfY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBEZWZhdWx0RHluYW1pY0NvbmZpZztcbiAgICB2YXIgZGZwUHJvdGVjdGVkQXV0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogRGlzYWJsZWRERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIoKTtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGxlc3NCMkJQYXNzd29yZHNDbGllbnQpO1xuICAgIHRoaXMuX25ldHdvcmtDbGllbnQgPSBfbmV0d29ya0NsaWVudDtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gICAgdGhpcy5fcGtjZU1hbmFnZXIgPSBfcGtjZU1hbmFnZXI7XG4gICAgdGhpcy5fY29uZmlnID0gX2NvbmZpZztcbiAgICB0aGlzLmRmcFByb3RlY3RlZEF1dGggPSBkZnBQcm90ZWN0ZWRBdXRoO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhIZWFkbGVzc0IyQlBhc3N3b3Jkc0NsaWVudCwgW3tcbiAgICBrZXk6IFwiZ2V0Q29kZUNoYWxsZW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2RlQ2hhbGxlbmdlKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExMygpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJF9jb25maWc1LCBwa2NlUmVxdWlyZWRGb3JQYXNzd29yZFJlc2V0cywga2V5UGFpcjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMTMkKF9jb250ZXh0MTEzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMTMucHJldiA9IF9jb250ZXh0MTEzLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTMubmV4dCA9IDI7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJF9jb25maWc1ID0gX2NvbnRleHQxMTMuc2VudDtcbiAgICAgICAgICAgICAgcGtjZVJlcXVpcmVkRm9yUGFzc3dvcmRSZXNldHMgPSBfeWllbGQkdGhpcyRfY29uZmlnNS5wa2NlUmVxdWlyZWRGb3JQYXNzd29yZFJlc2V0cztcbiAgICAgICAgICAgICAgaWYgKHBrY2VSZXF1aXJlZEZvclBhc3N3b3JkUmVzZXRzKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMTMubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEzLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBfY29udGV4dDExMy5uZXh0ID0gODtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLmdldFBLUGFpcigpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBrZXlQYWlyID0gX2NvbnRleHQxMTMuc2VudDtcbiAgICAgICAgICAgICAgaWYgKCFrZXlQYWlyKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMTMubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExMy5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5UGFpci5jb2RlX2NoYWxsZW5nZSk7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBfY29udGV4dDExMy5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wa2NlTWFuYWdlci5zdGFydFBLQ0VUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAga2V5UGFpciA9IF9jb250ZXh0MTEzLnNlbnQ7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExMy5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5UGFpci5jb2RlX2NoYWxsZW5nZSk7XG4gICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExMywgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImF1dGhlbnRpY2F0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRoZW50aWNhdGUob3B0aW9ucykge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExNCgpIHtcbiAgICAgICAgdmFyIHBrUGFpciwgY29kZV92ZXJpZmllciwgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjQsIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW4sIHJlc3A7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTE0JChfY29udGV4dDExNCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTE0LnByZXYgPSBfY29udGV4dDExNC5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHZhbGlkYXRlKCdzdHl0Y2gucGFzc3dvcmRzLmF1dGhlbnRpY2F0ZScpLmlzU3RyaW5nKCdvcmdfaWQnLCBvcHRpb25zLm9yZ2FuaXphdGlvbl9pZCkuaXNTdHJpbmcoJ3Bhc3N3b3JkJywgb3B0aW9ucy5wYXNzd29yZCkuaXNTdHJpbmcoJ2VtYWlsX2FkZHJlc3MnLCBvcHRpb25zLmVtYWlsX2FkZHJlc3MpLmlzTnVtYmVyKCdzZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMnLCBvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcykuaXNPcHRpb25hbFN0cmluZygnbG9jYWxlJywgb3B0aW9ucy5sb2NhbGUpO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLmdldFBLUGFpcigpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBwa1BhaXIgPSBfY29udGV4dDExNC5zZW50O1xuICAgICAgICAgICAgICBjb2RlX3ZlcmlmaWVyID0gcGtQYWlyID09PSBudWxsIHx8IHBrUGFpciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGtQYWlyLmNvZGVfdmVyaWZpZXI7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE0Lm5leHQgPSA3O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNCA9IF9jb250ZXh0MTE0LnNlbnQ7XG4gICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNC5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjQuY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTQudDAgPSB0aGlzLl9uZXR3b3JrQ2xpZW50O1xuICAgICAgICAgICAgICBfY29udGV4dDExNC50MSA9IG9wdGlvbnMub3JnYW5pemF0aW9uX2lkO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC50MiA9IG9wdGlvbnMuZW1haWxfYWRkcmVzcztcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTQudDMgPSBvcHRpb25zLnBhc3N3b3JkO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC50NCA9IG9wdGlvbnMuc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC50NSA9IG9wdGlvbnMubG9jYWxlO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC50NiA9IGNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE0LnQ3ID0gZGZwX3RlbGVtZXRyeV9pZDtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTQudDggPSBjb2RlX3ZlcmlmaWVyO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLmdldEludGVybWVkaWF0ZVNlc3Npb25Ub2tlbigpO1xuICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTQudDkgPSBfY29udGV4dDExNC5zZW50O1xuICAgICAgICAgICAgICBpZiAoX2NvbnRleHQxMTQudDkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDExNC5uZXh0ID0gMjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQxMTQudDkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICBfY29udGV4dDExNC50MTAgPSBfY29udGV4dDExNC50OTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTQudDExID0ge1xuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogX2NvbnRleHQxMTQudDEsXG4gICAgICAgICAgICAgICAgZW1haWxfYWRkcmVzczogX2NvbnRleHQxMTQudDIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF9jb250ZXh0MTE0LnQzLFxuICAgICAgICAgICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogX2NvbnRleHQxMTQudDQsXG4gICAgICAgICAgICAgICAgbG9jYWxlOiBfY29udGV4dDExNC50NSxcbiAgICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBfY29udGV4dDExNC50NixcbiAgICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiBfY29udGV4dDExNC50NyxcbiAgICAgICAgICAgICAgICBjb2RlX3ZlcmlmaWVyOiBfY29udGV4dDExNC50OCxcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogX2NvbnRleHQxMTQudDEwXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE0LnQxMiA9IHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQO1xuICAgICAgICAgICAgICBfY29udGV4dDExNC50MTMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9wYXNzd29yZHMvYXV0aGVudGljYXRlJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gYXV0aGVudGljYXRlIHBhc3N3b3JkLicsXG4gICAgICAgICAgICAgICAgYm9keTogX2NvbnRleHQxMTQudDExLFxuICAgICAgICAgICAgICAgIHJldHJ5Q2FsbGJhY2s6IF9jb250ZXh0MTE0LnQxMlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBfY29udGV4dDExNC5uZXh0ID0gMzA7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExNC50MC5yZXRyaWFibGVGZXRjaFNESy5jYWxsKF9jb250ZXh0MTE0LnQwLCBfY29udGV4dDExNC50MTMpO1xuICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0MTE0LnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChyZXNwLm1lbWJlcl9zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXNwLm1lbWJlcl9zZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXI6IHJlc3AubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246IHJlc3Aub3JnYW5pemF0aW9uXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogcmVzcC5zZXNzaW9uX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IHJlc3Auc2Vzc2lvbl9qd3QsXG4gICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX3Rva2VuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogcmVzcC5pbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExNC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExNCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0QnlFbWFpbFN0YXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0QnlFbWFpbFN0YXJ0KG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMTUoKSB7XG4gICAgICAgIHZhciBjb2RlX2NoYWxsZW5nZSwgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjUsIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW47XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTE1JChfY29udGV4dDExNSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTE1LnByZXYgPSBfY29udGV4dDExNS5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHZhbGlkYXRlKCdzdHl0Y2gucGFzc3dvcmRzLnJlc2V0QnlFbWFpbFN0YXJ0JykuaXNTdHJpbmcoJ2VtYWlsJywgb3B0aW9ucy5lbWFpbF9hZGRyZXNzKS5pc09wdGlvbmFsU3RyaW5nKCdsb2dpbl9yZWRpcmVjdF91cmwnLCBvcHRpb25zLmxvZ2luX3JlZGlyZWN0X3VybCkuaXNPcHRpb25hbFN0cmluZygncmVzZXRfcGFzc3dvcmRfcmVkaXJlY3RfdXJsJywgb3B0aW9ucy5yZXNldF9wYXNzd29yZF9yZWRpcmVjdF91cmwpLmlzT3B0aW9uYWxTdHJpbmcoJ3Jlc2V0X3Bhc3N3b3JkX3RlbXBsYXRlX2lkJywgb3B0aW9ucy5yZXNldF9wYXNzd29yZF90ZW1wbGF0ZV9pZCkuaXNPcHRpb25hbE51bWJlcigncmVzZXRfcGFzc3dvcmRfZXhwaXJhdGlvbl9taW51dGVzJywgb3B0aW9ucy5yZXNldF9wYXNzd29yZF9leHBpcmF0aW9uX21pbnV0ZXMpO1xuICAgICAgICAgICAgICBfY29udGV4dDExNS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZUNoYWxsZW5nZSgpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjb2RlX2NoYWxsZW5nZSA9IF9jb250ZXh0MTE1LnNlbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE1Lm5leHQgPSA2O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLmdldERGUFRlbGVtZXRyeUlEQW5kQ2FwdGNoYSgpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNSA9IF9jb250ZXh0MTE1LnNlbnQ7XG4gICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQgPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNS5kZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjUuY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTE1LmFicnVwdChcInJldHVyblwiLCB0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3Bhc3N3b3Jkcy9lbWFpbC9yZXNldC9zdGFydCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHN0YXJ0IHBhc3N3b3JkIHJlc2V0IGZsb3cuJyxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9wdGlvbnMub3JnYW5pemF0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgZW1haWxfYWRkcmVzczogb3B0aW9ucy5lbWFpbF9hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgbG9naW5fcmVkaXJlY3RfdXJsOiBvcHRpb25zLmxvZ2luX3JlZGlyZWN0X3VybCxcbiAgICAgICAgICAgICAgICAgIHJlc2V0X3Bhc3N3b3JkX3JlZGlyZWN0X3VybDogb3B0aW9ucy5yZXNldF9wYXNzd29yZF9yZWRpcmVjdF91cmwsXG4gICAgICAgICAgICAgICAgICByZXNldF9wYXNzd29yZF9leHBpcmF0aW9uX21pbnV0ZXM6IG9wdGlvbnMucmVzZXRfcGFzc3dvcmRfZXhwaXJhdGlvbl9taW51dGVzLFxuICAgICAgICAgICAgICAgICAgcmVzZXRfcGFzc3dvcmRfdGVtcGxhdGVfaWQ6IG9wdGlvbnMucmVzZXRfcGFzc3dvcmRfdGVtcGxhdGVfaWQsXG4gICAgICAgICAgICAgICAgICBjb2RlX2NoYWxsZW5nZTogY29kZV9jaGFsbGVuZ2UsXG4gICAgICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBjYXB0Y2hhX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogZGZwX3RlbGVtZXRyeV9pZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTE1LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMTUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldEJ5RW1haWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRCeUVtYWlsKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMTYoKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNiwgZGZwX3RlbGVtZXRyeV9pZCwgY2FwdGNoYV90b2tlbiwgcGtQYWlyLCBjb2RlX3ZlcmlmaWVyLCByZXNwO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExNiQoX2NvbnRleHQxMTYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDExNi5wcmV2ID0gX2NvbnRleHQxMTYubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnBhc3N3b3Jkcy5yZXNldEJ5RW1haWwnKS5pc1N0cmluZygncGFzc3dvcmRfcmVzZXRfdG9rZW4nLCBvcHRpb25zLnBhc3N3b3JkX3Jlc2V0X3Rva2VuKS5pc1N0cmluZygncGFzc3dvcmQnLCBvcHRpb25zLnBhc3N3b3JkKS5pc051bWJlcignc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzJywgb3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXMpLmlzT3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG9wdGlvbnMubG9jYWxlKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTYubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzI2ID0gX2NvbnRleHQxMTYuc2VudDtcbiAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzI2LmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNi5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDExNi5uZXh0ID0gODtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BrY2VNYW5hZ2VyLmdldFBLUGFpcigpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBwa1BhaXIgPSBfY29udGV4dDExNi5zZW50O1xuICAgICAgICAgICAgICBjb2RlX3ZlcmlmaWVyID0gcGtQYWlyID09PSBudWxsIHx8IHBrUGFpciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGtQYWlyLmNvZGVfdmVyaWZpZXI7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQwID0gdGhpcy5fbmV0d29ya0NsaWVudDtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTYudDEgPSBvcHRpb25zLnBhc3N3b3JkX3Jlc2V0X3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDExNi50MiA9IG9wdGlvbnMucGFzc3dvcmQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQzID0gb3B0aW9ucy5zZXNzaW9uX2R1cmF0aW9uX21pbnV0ZXM7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQ0ID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQ1ID0gY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTYudDYgPSBkZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBfY29udGV4dDExNi50NyA9IGNvZGVfdmVyaWZpZXI7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCk7XG4gICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICBfY29udGV4dDExNi50OCA9IF9jb250ZXh0MTE2LnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChfY29udGV4dDExNi50OCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTE2Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDExNi50OCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQ5ID0gX2NvbnRleHQxMTYudDg7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQxMCA9IHtcbiAgICAgICAgICAgICAgICBwYXNzd29yZF9yZXNldF90b2tlbjogX2NvbnRleHQxMTYudDEsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF9jb250ZXh0MTE2LnQyLFxuICAgICAgICAgICAgICAgIHNlc3Npb25fZHVyYXRpb25fbWludXRlczogX2NvbnRleHQxMTYudDMsXG4gICAgICAgICAgICAgICAgbG9jYWxlOiBfY29udGV4dDExNi50NCxcbiAgICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBfY29udGV4dDExNi50NSxcbiAgICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiBfY29udGV4dDExNi50NixcbiAgICAgICAgICAgICAgICBjb2RlX3ZlcmlmaWVyOiBfY29udGV4dDExNi50NyxcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogX2NvbnRleHQxMTYudDlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTYudDExID0gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlA7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE2LnQxMiA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3Bhc3N3b3Jkcy9lbWFpbC9yZXNldCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkLicsXG4gICAgICAgICAgICAgICAgYm9keTogX2NvbnRleHQxMTYudDEwLFxuICAgICAgICAgICAgICAgIHJldHJ5Q2FsbGJhY2s6IF9jb250ZXh0MTE2LnQxMVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBfY29udGV4dDExNi5uZXh0ID0gMjk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExNi50MC5yZXRyaWFibGVGZXRjaFNESy5jYWxsKF9jb250ZXh0MTE2LnQwLCBfY29udGV4dDExNi50MTIpO1xuICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0MTE2LnNlbnQ7XG4gICAgICAgICAgICAgIHRoaXMuX3BrY2VNYW5hZ2VyLmNsZWFyUEtQYWlyKCk7XG4gICAgICAgICAgICAgIGlmIChyZXNwLm1lbWJlcl9zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXNwLm1lbWJlcl9zZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXI6IHJlc3AubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246IHJlc3Aub3JnYW5pemF0aW9uXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogcmVzcC5zZXNzaW9uX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IHJlc3Auc2Vzc2lvbl9qd3QsXG4gICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX3Rva2VuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogcmVzcC5pbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExNi5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTYuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExNiwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0QnlFeGlzdGluZ1Bhc3N3b3JkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0QnlFeGlzdGluZ1Bhc3N3b3JkKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMTcoKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMyNywgZGZwX3RlbGVtZXRyeV9pZCwgY2FwdGNoYV90b2tlbiwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMTckKF9jb250ZXh0MTE3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMTcucHJldiA9IF9jb250ZXh0MTE3Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5wYXNzd29yZHMucmVzZXRCeUV4aXN0aW5nUGFzc3dvcmQnKS5pc1N0cmluZygnZW1haWwnLCBvcHRpb25zLmVtYWlsX2FkZHJlc3MpLmlzU3RyaW5nKCdleGlzdGluZ19wYXNzd29yZCcsIG9wdGlvbnMuZXhpc3RpbmdfcGFzc3dvcmQpLmlzU3RyaW5nKCduZXdfcGFzc3dvcmQnLCBvcHRpb25zLm5ld19wYXNzd29yZCkuaXNPcHRpb25hbFN0cmluZygnbG9jYWxlJywgb3B0aW9ucy5sb2NhbGUpO1xuICAgICAgICAgICAgICBfY29udGV4dDExNy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjcgPSBfY29udGV4dDExNy5zZW50O1xuICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMjcuZGZwX3RlbGVtZXRyeV9pZDtcbiAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbiA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzI3LmNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0MTE3Lm5leHQgPSA4O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9wYXNzd29yZHMvZXhpc3RpbmdfcGFzc3dvcmQvcmVzZXQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byByZXNldCBwYXNzd29yZC4nLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3B0aW9ucy5vcmdhbml6YXRpb25faWQsXG4gICAgICAgICAgICAgICAgICBlbWFpbF9hZGRyZXNzOiBvcHRpb25zLmVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICBleGlzdGluZ19wYXNzd29yZDogb3B0aW9ucy5leGlzdGluZ19wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgIG5ld19wYXNzd29yZDogb3B0aW9ucy5uZXdfcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICBsb2NhbGU6IG9wdGlvbnMubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9kdXJhdGlvbl9taW51dGVzOiBvcHRpb25zLnNlc3Npb25fZHVyYXRpb25fbWludXRlcyxcbiAgICAgICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW46IGNhcHRjaGFfdG9rZW4sXG4gICAgICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkOiBkZnBfdGVsZW1ldHJ5X2lkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXRyeUNhbGxiYWNrOiB0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0MTE3LnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChyZXNwLm1lbWJlcl9zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXNwLm1lbWJlcl9zZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXI6IHJlc3AubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246IHJlc3Aub3JnYW5pemF0aW9uXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogcmVzcC5zZXNzaW9uX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IHJlc3Auc2Vzc2lvbl9qd3QsXG4gICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICBzZXNzaW9uX3Rva2VuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogcmVzcC5pbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExNy5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTcuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExNywgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0QnlTZXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0QnlTZXNzaW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMTgoKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMyOCwgZGZwX3RlbGVtZXRyeV9pZCwgY2FwdGNoYV90b2tlbiwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMTgkKF9jb250ZXh0MTE4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMTgucHJldiA9IF9jb250ZXh0MTE4Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5wYXNzd29yZHMucmVzZXRCeVNlc3Npb24nKS5pc1N0cmluZygncGFzc3dvcmQnLCBvcHRpb25zLnBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMTgubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzI4ID0gX2NvbnRleHQxMTguc2VudDtcbiAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzI4LmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyOC5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDExOC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQucmV0cmlhYmxlRmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogJy9iMmIvcGFzc3dvcmRzL3Nlc3Npb24vcmVzZXQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byByZXNldCBieSBzZXNzaW9uLicsXG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG9wdGlvbnMucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBjYXB0Y2hhX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogZGZwX3RlbGVtZXRyeV9pZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDExOC5zZW50O1xuICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlLnVwZGF0ZVN0YXRlQW5kVG9rZW5zKHtcbiAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVzcC5tZW1iZXJfc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgIG1lbWJlcjogcmVzcC5tZW1iZXIsXG4gICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246IHJlc3Aub3JnYW5pemF0aW9uXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uX3Rva2VuOiByZXNwLnNlc3Npb25fdG9rZW4sXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9qd3Q6IHJlc3Auc2Vzc2lvbl9qd3QsXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IG51bGxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExOC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcCk7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTguc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExOCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0cmVuZ3RoQ2hlY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RyZW5ndGhDaGVjayhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTE5KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExOSQoX2NvbnRleHQxMTkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDExOS5wcmV2ID0gX2NvbnRleHQxMTkubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnBhc3N3b3Jkcy5zdHJlbmd0aENoZWNrJykuaXNPcHRpb25hbFN0cmluZygnZW1haWwnLCBvcHRpb25zLmVtYWlsX2FkZHJlc3MpLmlzU3RyaW5nKCdwYXNzd29yZCcsIG9wdGlvbnMucGFzc3dvcmQpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTkuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuX25ldHdvcmtDbGllbnQuZmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogJy9iMmIvcGFzc3dvcmRzL3N0cmVuZ3RoX2NoZWNrJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gY2hlY2sgcGFzc3dvcmQgc3RyZW5ndGguJyxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICBlbWFpbF9hZGRyZXNzOiBvcHRpb25zLmVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICBwYXNzd29yZDogb3B0aW9ucy5wYXNzd29yZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMTkuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExOSwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBIZWFkbGVzc0IyQlBhc3N3b3Jkc0NsaWVudDtcbn0oKTtcbnZhciBIZWFkbGVzc0IyQk9UUHNDbGllbnQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIEhlYWRsZXNzQjJCT1RQc0NsaWVudChfbmV0d29ya0NsaWVudCwgX3N1YnNjcmlwdGlvblNlcnZpY2UpIHtcbiAgdmFyIF90aGlzMTkgPSB0aGlzO1xuICB2YXIgZGZwUHJvdGVjdGVkQXV0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRGlzYWJsZWRERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIoKTtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRsZXNzQjJCT1RQc0NsaWVudCk7XG4gIHRoaXMuX25ldHdvcmtDbGllbnQgPSBfbmV0d29ya0NsaWVudDtcbiAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSA9IF9zdWJzY3JpcHRpb25TZXJ2aWNlO1xuICB0aGlzLmRmcFByb3RlY3RlZEF1dGggPSBkZnBQcm90ZWN0ZWRBdXRoO1xuICB0aGlzLnNtcyA9IHtcbiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKGRhdGEpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMShfdGhpczE5LCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMjAoKSB7XG4gICAgICAgIHZhciBfeWllbGQkdGhpcyRkZnBQcm90ZWMyOSwgZGZwX3RlbGVtZXRyeV9pZCwgY2FwdGNoYV90b2tlbjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMjAkKF9jb250ZXh0MTIwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMjAucHJldiA9IF9jb250ZXh0MTIwLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5vdHBzLnNtcy5zZW5kJykuaXNTdHJpbmcoJ29yZ2FuaXphdGlvbl9pZCcsIGRhdGEub3JnYW5pemF0aW9uX2lkKS5pc1N0cmluZygnbWVtYmVyX2lkJywgZGF0YS5tZW1iZXJfaWQpLmlzT3B0aW9uYWxTdHJpbmcoJ21mYV9waG9uZV9udW1iZXInLCBkYXRhLm1mYV9waG9uZV9udW1iZXIpLmlzT3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIGRhdGEubG9jYWxlKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjAubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzI5ID0gX2NvbnRleHQxMjAuc2VudDtcbiAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzI5LmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMyOS5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMC50MCA9IHRoaXMuX25ldHdvcmtDbGllbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQxID0gT2JqZWN0O1xuICAgICAgICAgICAgICBfY29udGV4dDEyMC50MiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMC50MyA9IGRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQ0ID0gY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjAubmV4dCA9IDEzO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKTtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQ1ID0gX2NvbnRleHQxMjAuc2VudDtcbiAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTIwLnQ1KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMjAubmV4dCA9IDE2O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQ1ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjAudDYgPSBfY29udGV4dDEyMC50NTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjAudDcgPSB7XG4gICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogX2NvbnRleHQxMjAudDMsXG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogX2NvbnRleHQxMjAudDQsXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IF9jb250ZXh0MTIwLnQ2XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQ4ID0gX2NvbnRleHQxMjAudDEuYXNzaWduLmNhbGwoX2NvbnRleHQxMjAudDEsIF9jb250ZXh0MTIwLnQyLCBfY29udGV4dDEyMC50Nyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQ5ID0gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlA7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIwLnQxMCA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL290cHMvc21zL3NlbmQnLFxuICAgICAgICAgICAgICAgIGJvZHk6IF9jb250ZXh0MTIwLnQ4LFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBzZW5kIG9uZSB0aW1lIHBhc3Njb2RlJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICByZXRyeUNhbGxiYWNrOiBfY29udGV4dDEyMC50OVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMjAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTIwLnQwLnJldHJpYWJsZUZldGNoU0RLLmNhbGwoX2NvbnRleHQxMjAudDAsIF9jb250ZXh0MTIwLnQxMCkpO1xuICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIwLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMjAsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgYXV0aGVudGljYXRlOiBmdW5jdGlvbiBhdXRoZW50aWNhdGUoZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMTksIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyMSgpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJGRmcFByb3RlYzMwLCBkZnBfdGVsZW1ldHJ5X2lkLCBjYXB0Y2hhX3Rva2VuLCByZXF1ZXN0Qm9keSwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMjEkKF9jb250ZXh0MTIxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMjEucHJldiA9IF9jb250ZXh0MTIxLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5vdHBzLnNtcy5hdXRoZW50aWNhdGUnKS5pc1N0cmluZygnb3JnYW5pemF0aW9uX2lkJywgZGF0YS5vcmdhbml6YXRpb25faWQpLmlzU3RyaW5nKCdtZW1iZXJfaWQnLCBkYXRhLm1lbWJlcl9pZCkuaXNTdHJpbmcoJ2NvZGUnLCBkYXRhLmNvZGUpLmlzT3B0aW9uYWxTdHJpbmcoJ3NldF9tZmFfZW5yb2xsbWVudCcsIGRhdGEuc2V0X21mYV9lbnJvbGxtZW50KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjEubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzMwID0gX2NvbnRleHQxMjEuc2VudDtcbiAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzMwLmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMzMC5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMS50MCA9IE9iamVjdDtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjEudDEgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjEudDIgPSBkZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMS50MyA9IGNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIxLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCk7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBfY29udGV4dDEyMS50NCA9IF9jb250ZXh0MTIxLnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChfY29udGV4dDEyMS50NCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIxLm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDEyMS50NCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIxLnQ1ID0gX2NvbnRleHQxMjEudDQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIxLnQ2ID0ge1xuICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQ6IF9jb250ZXh0MTIxLnQyLFxuICAgICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW46IF9jb250ZXh0MTIxLnQzLFxuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBfY29udGV4dDEyMS50NVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXF1ZXN0Qm9keSA9IF9jb250ZXh0MTIxLnQwLmFzc2lnbi5jYWxsKF9jb250ZXh0MTIxLnQwLCBfY29udGV4dDEyMS50MSwgX2NvbnRleHQxMjEudDYpO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMS5uZXh0ID0gMjA7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL290cHMvc21zL2F1dGhlbnRpY2F0ZScsXG4gICAgICAgICAgICAgICAgYm9keTogcmVxdWVzdEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSBvbmUgdGltZSBwYXNzY29kZScsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQxMjEuc2VudDtcbiAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgIHNlc3Npb246IHJlc3AubWVtYmVyX3Nlc3Npb24sXG4gICAgICAgICAgICAgICAgICBtZW1iZXI6IHJlc3AubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogcmVzcC5zZXNzaW9uX3Rva2VuLFxuICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBudWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMjEuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIxLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMjEsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn0pO1xudmFyIEhlYWRsZXNzQjJCVE9UUHNDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkbGVzc0IyQlRPVFBzQ2xpZW50KF9uZXR3b3JrQ2xpZW50LCBfc3Vic2NyaXB0aW9uU2VydmljZSkge1xuICAgIHZhciBkZnBQcm90ZWN0ZWRBdXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlcigpO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkbGVzc0IyQlRPVFBzQ2xpZW50KTtcbiAgICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gX25ldHdvcmtDbGllbnQ7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSA9IF9zdWJzY3JpcHRpb25TZXJ2aWNlO1xuICAgIHRoaXMuZGZwUHJvdGVjdGVkQXV0aCA9IGRmcFByb3RlY3RlZEF1dGg7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEhlYWRsZXNzQjJCVE9UUHNDbGllbnQsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyMigpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJGRmcFByb3RlYzMxLCBkZnBfdGVsZW1ldHJ5X2lkLCBjYXB0Y2hhX3Rva2VuO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyMiQoX2NvbnRleHQxMjIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyMi5wcmV2ID0gX2NvbnRleHQxMjIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnRvdHAuY3JlYXRlJykuaXNTdHJpbmcoJ29yZ2FuaXphdGlvbl9pZCcsIGRhdGEub3JnYW5pemF0aW9uX2lkKS5pc1N0cmluZygnbWVtYmVyX2lkJywgZGF0YS5tZW1iZXJfaWQpLmlzT3B0aW9uYWxOdW1iZXIoJ2V4cGlyYXRpb25fbWludXRlcycsIGRhdGEuZXhwaXJhdGlvbl9taW51dGVzKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjIubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzMxID0gX2NvbnRleHQxMjIuc2VudDtcbiAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzMxLmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMzMS5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMi50MCA9IHRoaXMuX25ldHdvcmtDbGllbnQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQxID0gT2JqZWN0O1xuICAgICAgICAgICAgICBfY29udGV4dDEyMi50MiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMi50MyA9IGRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQ0ID0gY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKTtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQ1ID0gX2NvbnRleHQxMjIuc2VudDtcbiAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTIyLnQ1KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMjIubmV4dCA9IDE2O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQ1ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjIudDYgPSBfY29udGV4dDEyMi50NTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjIudDcgPSB7XG4gICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogX2NvbnRleHQxMjIudDMsXG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogX2NvbnRleHQxMjIudDQsXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IF9jb250ZXh0MTIyLnQ2XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQ4ID0gX2NvbnRleHQxMjIudDEuYXNzaWduLmNhbGwoX2NvbnRleHQxMjIudDEsIF9jb250ZXh0MTIyLnQyLCBfY29udGV4dDEyMi50Nyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQ5ID0gdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlA7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIyLnQxMCA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3RvdHAnLFxuICAgICAgICAgICAgICAgIGJvZHk6IF9jb250ZXh0MTIyLnQ4LFxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ0ZhaWxlZCB0byBjcmVhdGUgVE9UUCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogX2NvbnRleHQxMjIudDlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEyMi50MC5yZXRyaWFibGVGZXRjaFNESy5jYWxsKF9jb250ZXh0MTIyLnQwLCBfY29udGV4dDEyMi50MTApKTtcbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyMi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTIyLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXV0aGVudGljYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShkYXRhKSB7XG4gICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIzKCkge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMzIsIGRmcF90ZWxlbWV0cnlfaWQsIGNhcHRjaGFfdG9rZW4sIHJlcXVlc3RCb2R5LCByZXNwO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyMyQoX2NvbnRleHQxMjMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyMy5wcmV2ID0gX2NvbnRleHQxMjMubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB2YWxpZGF0ZSgnc3R5dGNoLnRvdHAuYXV0aGVudGljYXRlJykuaXNTdHJpbmcoJ29yZ2FuaXphdGlvbl9pZCcsIGRhdGEub3JnYW5pemF0aW9uX2lkKS5pc1N0cmluZygnbWVtYmVyX2lkJywgZGF0YS5tZW1iZXJfaWQpLmlzU3RyaW5nKCdjb2RlJywgZGF0YS5jb2RlKS5pc09wdGlvbmFsU3RyaW5nKCdzZXRfbWZhX2Vucm9sbG1lbnQnLCBkYXRhLnNldF9tZmFfZW5yb2xsbWVudCkuaXNPcHRpb25hbEJvb2xlYW4oJ3NldF9kZWZhdWx0X21mYScsIGRhdGEuc2V0X2RlZmF1bHRfbWZhKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjMubmV4dCA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRmcFByb3RlY3RlZEF1dGguZ2V0REZQVGVsZW1ldHJ5SURBbmRDYXB0Y2hhKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF95aWVsZCR0aGlzJGRmcFByb3RlYzMyID0gX2NvbnRleHQxMjMuc2VudDtcbiAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZCA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzMyLmRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW4gPSBfeWllbGQkdGhpcyRkZnBQcm90ZWMzMi5jYXB0Y2hhX3Rva2VuO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMy50MCA9IE9iamVjdDtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjMudDEgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjMudDIgPSBkZnBfdGVsZW1ldHJ5X2lkO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMy50MyA9IGNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIzLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0SW50ZXJtZWRpYXRlU2Vzc2lvblRva2VuKCk7XG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBfY29udGV4dDEyMy50NCA9IF9jb250ZXh0MTIzLnNlbnQ7XG4gICAgICAgICAgICAgIGlmIChfY29udGV4dDEyMy50NCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIzLm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDEyMy50NCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIzLnQ1ID0gX2NvbnRleHQxMjMudDQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTIzLnQ2ID0ge1xuICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQ6IF9jb250ZXh0MTIzLnQyLFxuICAgICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW46IF9jb250ZXh0MTIzLnQzLFxuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBfY29udGV4dDEyMy50NVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXF1ZXN0Qm9keSA9IF9jb250ZXh0MTIzLnQwLmFzc2lnbi5jYWxsKF9jb250ZXh0MTIzLnQwLCBfY29udGV4dDEyMy50MSwgX2NvbnRleHQxMjMudDYpO1xuICAgICAgICAgICAgICBfY29udGV4dDEyMy5uZXh0ID0gMjA7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrQ2xpZW50LnJldHJpYWJsZUZldGNoU0RLKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYjJiL3RvdHAvYXV0aGVudGljYXRlJyxcbiAgICAgICAgICAgICAgICBib2R5OiByZXF1ZXN0Qm9keSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gYXV0aGVudGljYXRlIFRPVFAnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHJldHJ5Q2FsbGJhY2s6IHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5yZXRyeVdpdGhDYXB0Y2hhQW5kREZQXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0MTIzLnNlbnQ7XG4gICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UudXBkYXRlU3RhdGVBbmRUb2tlbnMoe1xuICAgICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXNwLm1lbWJlcl9zZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgbWVtYmVyOiByZXNwLm1lbWJlcixcbiAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogcmVzcC5vcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlc3Npb25fdG9rZW46IHJlc3Auc2Vzc2lvbl90b2tlbixcbiAgICAgICAgICAgICAgICBzZXNzaW9uX2p3dDogcmVzcC5zZXNzaW9uX2p3dCxcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVfc2Vzc2lvbl90b2tlbjogbnVsbFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIzLmFicnVwdChcInJldHVyblwiLCByZXNwKTtcbiAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyMy5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTIzLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhlYWRsZXNzQjJCVE9UUHNDbGllbnQ7XG59KCk7XG52YXIgSGVhZGxlc3NCMkJSZWNvdmVyeUNvZGVzQ2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGVhZGxlc3NCMkJSZWNvdmVyeUNvZGVzQ2xpZW50KF9uZXR3b3JrQ2xpZW50LCBfc3Vic2NyaXB0aW9uU2VydmljZSkge1xuICAgIHZhciBkZnBQcm90ZWN0ZWRBdXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBEaXNhYmxlZERGUFByb3RlY3RlZEF1dGhQcm92aWRlcigpO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkbGVzc0IyQlJlY292ZXJ5Q29kZXNDbGllbnQpO1xuICAgIHRoaXMuX25ldHdvcmtDbGllbnQgPSBfbmV0d29ya0NsaWVudDtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gICAgdGhpcy5kZnBQcm90ZWN0ZWRBdXRoID0gZGZwUHJvdGVjdGVkQXV0aDtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSGVhZGxlc3NCMkJSZWNvdmVyeUNvZGVzQ2xpZW50LCBbe1xuICAgIGtleTogXCJyZWNvdmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY292ZXIoZGF0YSkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyNCgpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJGRmcFByb3RlYzMzLCBkZnBfdGVsZW1ldHJ5X2lkLCBjYXB0Y2hhX3Rva2VuLCByZXF1ZXN0Qm9keSwgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMjQkKF9jb250ZXh0MTI0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMjQucHJldiA9IF9jb250ZXh0MTI0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdmFsaWRhdGUoJ3N0eXRjaC5yZWNvdmVyeUNvZGVzLnJlY292ZXInKS5pc1N0cmluZygnb3JnYW5pemF0aW9uX2lkJywgZGF0YS5vcmdhbml6YXRpb25faWQpLmlzU3RyaW5nKCdtZW1iZXJfaWQnLCBkYXRhLm1lbWJlcl9pZCkuaXNTdHJpbmcoJ3JlY292ZXJ5X2NvZGUnLCBkYXRhLnJlY292ZXJ5X2NvZGUpO1xuICAgICAgICAgICAgICBfY29udGV4dDEyNC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMzMgPSBfY29udGV4dDEyNC5zZW50O1xuICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMzMuZGZwX3RlbGVtZXRyeV9pZDtcbiAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbiA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzMzLmNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI0LnQwID0gT2JqZWN0O1xuICAgICAgICAgICAgICBfY29udGV4dDEyNC50MSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICAgICAgICBfY29udGV4dDEyNC50MiA9IGRmcF90ZWxlbWV0cnlfaWQ7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI0LnQzID0gY2FwdGNoYV90b2tlbjtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS5nZXRJbnRlcm1lZGlhdGVTZXNzaW9uVG9rZW4oKTtcbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI0LnQ0ID0gX2NvbnRleHQxMjQuc2VudDtcbiAgICAgICAgICAgICAgaWYgKF9jb250ZXh0MTI0LnQ0KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMjQubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI0LnQ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjQudDUgPSBfY29udGV4dDEyNC50NDtcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjQudDYgPSB7XG4gICAgICAgICAgICAgICAgZGZwX3RlbGVtZXRyeV9pZDogX2NvbnRleHQxMjQudDIsXG4gICAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbjogX2NvbnRleHQxMjQudDMsXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlX3Nlc3Npb25fdG9rZW46IF9jb250ZXh0MTI0LnQ1XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJlcXVlc3RCb2R5ID0gX2NvbnRleHQxMjQudDAuYXNzaWduLmNhbGwoX2NvbnRleHQxMjQudDAsIF9jb250ZXh0MTI0LnQxLCBfY29udGV4dDEyNC50Nik7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI0Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ldHdvcmtDbGllbnQucmV0cmlhYmxlRmV0Y2hTREsoe1xuICAgICAgICAgICAgICAgIHVybDogJy9iMmIvcmVjb3ZlcnlfY29kZXMvcmVjb3ZlcicsXG4gICAgICAgICAgICAgICAgYm9keTogcmVxdWVzdEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIHJlY292ZXIgdXNpbmcgcmVjb3ZlcnkgY29kZScsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcmV0cnlDYWxsYmFjazogdGhpcy5kZnBQcm90ZWN0ZWRBdXRoLnJldHJ5V2l0aENhcHRjaGFBbmRERlBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQxMjQuc2VudDtcbiAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZS51cGRhdGVTdGF0ZUFuZFRva2Vucyh7XG4gICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgIHNlc3Npb246IHJlc3AubWVtYmVyX3Nlc3Npb24sXG4gICAgICAgICAgICAgICAgICBtZW1iZXI6IHJlc3AubWVtYmVyLFxuICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uOiByZXNwLm9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl90b2tlbjogcmVzcC5zZXNzaW9uX3Rva2VuLFxuICAgICAgICAgICAgICAgIHNlc3Npb25fand0OiByZXNwLnNlc3Npb25fand0LFxuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZV9zZXNzaW9uX3Rva2VuOiBudWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMjQuYWJydXB0KFwicmV0dXJuXCIsIHJlc3ApO1xuICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTI0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMjQsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyNSgpIHtcbiAgICAgICAgdmFyIF95aWVsZCR0aGlzJGRmcFByb3RlYzM0LCBkZnBfdGVsZW1ldHJ5X2lkLCBjYXB0Y2hhX3Rva2VuO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyNSQoX2NvbnRleHQxMjUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyNS5wcmV2ID0gX2NvbnRleHQxMjUubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDEyNS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZGZwUHJvdGVjMzQgPSBfY29udGV4dDEyNS5zZW50O1xuICAgICAgICAgICAgICBkZnBfdGVsZW1ldHJ5X2lkID0gX3lpZWxkJHRoaXMkZGZwUHJvdGVjMzQuZGZwX3RlbGVtZXRyeV9pZDtcbiAgICAgICAgICAgICAgY2FwdGNoYV90b2tlbiA9IF95aWVsZCR0aGlzJGRmcFByb3RlYzM0LmNhcHRjaGFfdG9rZW47XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyNS5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fbmV0d29ya0NsaWVudC5yZXRyaWFibGVGZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9yZWNvdmVyeV9jb2Rlcy9yb3RhdGUnLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQ6IGRmcF90ZWxlbWV0cnlfaWQsXG4gICAgICAgICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBjYXB0Y2hhX3Rva2VuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdGYWlsZWQgdG8gcm90YXRlIHJlY292ZXJ5IGNvZGVzJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICByZXRyeUNhbGxiYWNrOiB0aGlzLmRmcFByb3RlY3RlZEF1dGgucmV0cnlXaXRoQ2FwdGNoYUFuZERGUFxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyNS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTI1LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMjYoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTI2JChfY29udGV4dDEyNikge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTI2LnByZXYgPSBfY29udGV4dDEyNi5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyNi5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2IyYi9yZWNvdmVyeV9jb2RlcycsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGdldCByZWNvdmVyeSBjb2RlcycsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyNi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTI2LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhlYWRsZXNzQjJCUmVjb3ZlcnlDb2Rlc0NsaWVudDtcbn0oKTtcbnZhciBIZWFkbGVzc0IyQlJCQUNDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkbGVzc0IyQlJCQUNDbGllbnQoY2FjaGVkQ29uZmlnLCBkeW5hbWljQ29uZmlnLCBfc3Vic2NyaXB0aW9uU2VydmljZSkge1xuICAgIHZhciBfdGhpczIwID0gdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGxlc3NCMkJSQkFDQ2xpZW50KTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25TZXJ2aWNlID0gX3N1YnNjcmlwdGlvblNlcnZpY2U7XG4gICAgdGhpcy5pc0F1dGhvcml6ZWRTeW5jID0gZnVuY3Rpb24gKHJlc291cmNlSWQsIGFjdGlvbikge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuICEhKChfYSA9IF90aGlzMjAuY2FjaGVkUG9saWN5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbGVySXNBdXRob3JpemVkKF90aGlzMjAucm9sZUlkcygpLCByZXNvdXJjZUlkLCBhY3Rpb24pKTtcbiAgICB9O1xuICAgIHRoaXMuaXNBdXRob3JpemVkID0gZnVuY3Rpb24gKHJlc291cmNlSWQsIGFjdGlvbikge1xuICAgICAgcmV0dXJuIF90aGlzMjAucG9saWN5UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChwb2xpY3kpIHtcbiAgICAgICAgcmV0dXJuIHBvbGljeS5jYWxsZXJJc0F1dGhvcml6ZWQoX3RoaXMyMC5yb2xlSWRzKCksIHJlc291cmNlSWQsIGFjdGlvbik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuY2FjaGVkUG9saWN5ID0gY2FjaGVkQ29uZmlnLnJiYWNQb2xpY3kgPyBSQkFDUG9saWN5LmZyb21KU09OKGNhY2hlZENvbmZpZy5yYmFjUG9saWN5KSA6IG51bGw7XG4gICAgdGhpcy5wb2xpY3lQcm9taXNlID0gZHluYW1pY0NvbmZpZy50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoIWRhdGEucmJhY1BvbGljeSkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byByZXRyaWV2ZSBSQkFDIHBvbGljeSBmcm9tIHNlcnZlcnMuIEFzc3VtaW5nIGNhbGxlciBoYXMgbm8gcGVybWlzc2lvbnMuJyk7XG4gICAgICAgIHJldHVybiBuZXcgUkJBQ1BvbGljeShbXSwgW10pO1xuICAgICAgfVxuICAgICAgX3RoaXMyMC5jYWNoZWRQb2xpY3kgPSBSQkFDUG9saWN5LmZyb21KU09OKGRhdGEucmJhY1BvbGljeSk7XG4gICAgICByZXR1cm4gX3RoaXMyMC5jYWNoZWRQb2xpY3k7XG4gICAgfSk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEhlYWRsZXNzQjJCUkJBQ0NsaWVudCwgW3tcbiAgICBrZXk6IFwiYWxsUGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWxsUGVybWlzc2lvbnMoKSB7XG4gICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5wb2xpY3lQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHBvbGljeSkge1xuICAgICAgICByZXR1cm4gcG9saWN5LmFsbFBlcm1pc3Npb25zRm9yQ2FsbGVyKF90aGlzMjEucm9sZUlkcygpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb2xlSWRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJvbGVJZHMoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2UuZ2V0U2Vzc2lvbigpO1xuICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoX2EgPSBzZXNzaW9uLnJvbGVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhlYWRsZXNzQjJCUkJBQ0NsaWVudDtcbn0oKTtcbnZhciBJZnJhbWVIb3N0Q2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSWZyYW1lSG9zdENsaWVudChpZnJhbWVVUkwpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSWZyYW1lSG9zdENsaWVudCk7XG4gICAgdGhpcy5pZnJhbWVVUkwgPSBpZnJhbWVVUkw7XG4gICAgdGhpcy5jcmVhdGVJZnJhbWUoKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSWZyYW1lSG9zdENsaWVudCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlSWZyYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpIHtcbiAgICAgIHZhciBleGlzdGluZ0lmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbc3Jjfj1cXFwiXCIuY29uY2F0KHRoaXMuaWZyYW1lVVJMLCBcIlxcXCJdXCIpKTtcbiAgICAgIGlmICghZXhpc3RpbmdJZnJhbWUpIHtcbiAgICAgICAgZXhpc3RpbmdJZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgZXhpc3RpbmdJZnJhbWUuc3JjID0gdGhpcy5pZnJhbWVVUkw7XG4gICAgICAgIGV4aXN0aW5nSWZyYW1lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZXhpc3RpbmdJZnJhbWUuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgICAgIGV4aXN0aW5nSWZyYW1lLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICAgICAgZXhpc3RpbmdJZnJhbWUuc3R5bGUuYm9yZGVyID0gJzAnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGV4aXN0aW5nSWZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgY3JlYXRpbmcgbXVsdGlwbGUgY29waWVzIG9mIHRoZSBTdHl0Y2ggY2xpZW50LlwiICsgJyBUaGlzIGJlaGF2aW9yIGlzIHVuc3VwcG9ydGVkLCBhbmQgdW5pbnRlbmRlZCBzaWRlIGVmZmVjdHMgbWF5IG9jY3VyLiAnICsgXCJNYWtlIHN1cmUgeW91IGFyZSBjcmVhdGluZyB0aGUgU3R5dGNoIGNsaWVudCBhdCB0aGUgZ2xvYmFsIGxldmVsLCBhbmQgbm90IGluc2lkZSBhIGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbi5cIik7XG4gICAgICB9XG4gICAgICBpZiAoZXhpc3RpbmdJZnJhbWUuZGF0YXNldC5sb2FkZWQgPT09ICd0cnVlJykge1xuICAgICAgICB0aGlzLmZyYW1lID0gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nSWZyYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5mcmFtZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIGV4aXN0aW5nSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZXhpc3RpbmdJZnJhbWUuZGF0YXNldC5sb2FkZWQgPSAndHJ1ZSc7XG4gICAgICAgICAgcmVzb2x2ZShleGlzdGluZ0lmcmFtZSk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbChtZXRob2QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMjcoKSB7XG4gICAgICAgIHZhciBfdGhpczIyID0gdGhpcztcbiAgICAgICAgdmFyIGZyYW1lLCBjaGFubmVsO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyNyQoX2NvbnRleHQxMjcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyNy5wcmV2ID0gX2NvbnRleHQxMjcubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDEyNy5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWU7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGZyYW1lID0gX2NvbnRleHQxMjcuc2VudDtcbiAgICAgICAgICAgICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMjcuYWJydXB0KFwicmV0dXJuXCIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIHZhciByZXNwID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWwucG9ydDEuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KEVycm9yTWFyc2hhbGxlci51bm1hcnNoYWxsKHJlc3AuZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAoX2EgPSBmcmFtZS5jb250ZW50V2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9zdE1lc3NhZ2UobWVzc2FnZSwgX3RoaXMyMi5pZnJhbWVVUkwsIFtjaGFubmVsLnBvcnQyXSk7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTI3LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMjcsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSWZyYW1lSG9zdENsaWVudDtcbn0oKTtcbnZhciBTZWFyY2hEYXRhTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlYXJjaERhdGFNYW5hZ2VyKF9uZXR3b3JrQ2xpZW50LCBkZnBQcm90ZWN0ZWRBdXRoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaERhdGFNYW5hZ2VyKTtcbiAgICB0aGlzLl9uZXR3b3JrQ2xpZW50ID0gX25ldHdvcmtDbGllbnQ7XG4gICAgdGhpcy5kZnBQcm90ZWN0ZWRBdXRoID0gZGZwUHJvdGVjdGVkQXV0aDtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoU2VhcmNoRGF0YU1hbmFnZXIsIFt7XG4gICAga2V5OiBcInNlYXJjaFVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoVXNlcihlbWFpbCkge1xuICAgICAgdmFyIF90aGlzMjQgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuZGZwUHJvdGVjdGVkQXV0aC5nZXRERlBUZWxlbWV0cnlJREFuZENhcHRjaGEoKS50aGVuKGZ1bmN0aW9uIChfcmVmNykge1xuICAgICAgICB2YXIgZGZwX3RlbGVtZXRyeV9pZCA9IF9yZWY3LmRmcF90ZWxlbWV0cnlfaWQsXG4gICAgICAgICAgY2FwdGNoYV90b2tlbiA9IF9yZWY3LmNhcHRjaGFfdG9rZW47XG4gICAgICAgIHJldHVybiBfdGhpczI0Ll9uZXR3b3JrQ2xpZW50LmZldGNoU0RLKHtcbiAgICAgICAgICB1cmw6IFwiL3VzZXJzL3NlYXJjaFwiLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIGRmcF90ZWxlbWV0cnlfaWQ6IGRmcF90ZWxlbWV0cnlfaWQsXG4gICAgICAgICAgICBjYXB0Y2hhX3Rva2VuOiBjYXB0Y2hhX3Rva2VuXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwiRXJyb3Igc2VhcmNoaW5nIGZvciB1c2VyIFwiLmNvbmNhdChlbWFpbClcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VhcmNoTWVtYmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaE1lbWJlcihlbWFpbCwgb3JnYW5pemF0aW9uX2lkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbmV0d29ya0NsaWVudC5mZXRjaFNESyh7XG4gICAgICAgIHVybDogXCIvYjJiL29yZ2FuaXphdGlvbnMvbWVtYmVycy9zZWFyY2hcIixcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBlbWFpbF9hZGRyZXNzOiBlbWFpbCxcbiAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbl9pZFxuICAgICAgICB9LFxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiRXJyb3Igc2VhcmNoaW5nIGZvciBtZW1iZXIgXCIuY29uY2F0KGVtYWlsKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTZWFyY2hEYXRhTWFuYWdlcjtcbn0oKTtcbnZhciBzaG91bGRUcnlSZWZyZXNoID0gZnVuY3Rpb24gc2hvdWxkVHJ5UmVmcmVzaChzdGF0ZSkge1xuICByZXR1cm4gISEoc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLnNlc3Npb24pO1xufTtcbnZhciBTZXNzaW9uTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlc3Npb25NYW5hZ2VyKF9zdWJzY3JpcHRpb25TZXJ2aWNlLCBfaGVhZGxlc3NTZXNzaW9uQ2xpZW50KSB7XG4gICAgdmFyIF90aGlzMjUgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXNzaW9uTWFuYWdlcik7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSA9IF9zdWJzY3JpcHRpb25TZXJ2aWNlO1xuICAgIHRoaXMuX2hlYWRsZXNzU2Vzc2lvbkNsaWVudCA9IF9oZWFkbGVzc1Nlc3Npb25DbGllbnQ7XG4gICAgdGhpcy5fb25EYXRhQ2hhbmdlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBpZiAoc2hvdWxkVHJ5UmVmcmVzaChzdGF0ZSkpIHtcbiAgICAgICAgX3RoaXMyNS5zY2hlZHVsZUJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczI1LmNhbmNlbEJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9yZWF1dGhlbnRpY2F0ZVdpdGhCYWNrb2ZmID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9fYXdhaXRlciQxKF90aGlzMjUsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyOSgpIHtcbiAgICAgICAgdmFyIGNvdW50O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyOSQoX2NvbnRleHQxMjkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEyOS5wcmV2ID0gX2NvbnRleHQxMjkubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI5LnByZXYgPSAyO1xuICAgICAgICAgICAgICBfY29udGV4dDEyOS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWRsZXNzU2Vzc2lvbkNsaWVudC5hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTI5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDEyOS5zZW50KTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjkucHJldiA9IDg7XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI5LnQwID0gX2NvbnRleHQxMjlbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgaWYgKCFTZXNzaW9uTWFuYWdlci5pc1VucmVjb3ZlcmFibGVFcnJvcihfY29udGV4dDEyOS50MCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyOS5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTI5LmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJlamVjdChfY29udGV4dDEyOS50MCkpO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgX2NvbnRleHQxMjkubmV4dCA9IDE1O1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChkb25lLCBTZXNzaW9uTWFuYWdlci50aW1lb3V0Rm9yQXR0ZW1wdChjb3VudCkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgIF9jb250ZXh0MTI5Lm5leHQgPSAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyOS5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTI5LCB0aGlzLCBbWzIsIDhdXSk7XG4gICAgICB9KSk7XG4gICAgfTtcbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvblNlcnZpY2Uuc3Vic2NyaWJlVG9TdGF0ZSh0aGlzLl9vbkRhdGFDaGFuZ2UpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhTZXNzaW9uTWFuYWdlciwgW3tcbiAgICBrZXk6IFwicGVyZm9ybUJhY2tncm91bmRSZWZyZXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBlcmZvcm1CYWNrZ3JvdW5kUmVmcmVzaCgpIHtcbiAgICAgIHZhciBfdGhpczI2ID0gdGhpcztcbiAgICAgIHRoaXMuX3JlYXV0aGVudGljYXRlV2l0aEJhY2tvZmYoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyNi5zY2hlZHVsZUJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBsb2dnZXIud2FybignU2Vzc2lvbiBiYWNrZ3JvdW5kIHJlZnJlc2ggZmFpbGVkLiBTaWduYWxsaW5nIHRvIGFwcCB0aGF0IHVzZXIgaXMgbG9nZ2VkIG91dC4nLCB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczI2Ll9zdWJzY3JpcHRpb25TZXJ2aWNlLmRlc3Ryb3lTZXNzaW9uKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2NoZWR1bGVCYWNrZ3JvdW5kUmVmcmVzaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY2hlZHVsZUJhY2tncm91bmRSZWZyZXNoKCkge1xuICAgICAgdmFyIF90aGlzMjcgPSB0aGlzO1xuICAgICAgdGhpcy5jYW5jZWxCYWNrZ3JvdW5kUmVmcmVzaCgpO1xuICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMjcucGVyZm9ybUJhY2tncm91bmRSZWZyZXNoKCk7XG4gICAgICB9LCBTZXNzaW9uTWFuYWdlci5SRUZSRVNIX0lOVEVSVkFMX01TKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuY2VsQmFja2dyb3VuZFJlZnJlc2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsQmFja2dyb3VuZFJlZnJlc2goKSB7XG4gICAgICBpZiAodGhpcy50aW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcInRpbWVvdXRGb3JBdHRlbXB0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVvdXRGb3JBdHRlbXB0KGNvdW50KSB7XG4gICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCA3KTtcbiAgICAgIHZhciBqaXR0ZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzNTApIC0gMTc1O1xuICAgICAgdmFyIGRlbGF5TVMgPSAyMDAwICogTWF0aC5wb3coMiwgY291bnQpO1xuICAgICAgcmV0dXJuIGppdHRlciArIGRlbGF5TVM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVW5yZWNvdmVyYWJsZUVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVW5yZWNvdmVyYWJsZUVycm9yKGVycm9yKSB7XG4gICAgICByZXR1cm4gVU5SRUNPVkVSQUJMRV9FUlJPUl9UWVBFUy5pbmNsdWRlcyhlcnJvci5lcnJvcl90eXBlKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNlc3Npb25NYW5hZ2VyO1xufSgpO1xuU2Vzc2lvbk1hbmFnZXIuUkVGUkVTSF9JTlRFUlZBTF9NUyA9IDEwMDAgKiA2MCAqIDM7XG52YXIgU3RhdGVDaGFuZ2VDbGllbnQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIFN0YXRlQ2hhbmdlQ2xpZW50KF9zdWJzY3JpcHRpb25TZXJ2aWNlLCBlbXB0eVN0YXRlKSB7XG4gIHZhciBfdGhpczI4ID0gdGhpcztcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRlQ2hhbmdlQ2xpZW50KTtcbiAgdGhpcy5fc3Vic2NyaXB0aW9uU2VydmljZSA9IF9zdWJzY3JpcHRpb25TZXJ2aWNlO1xuICB0aGlzLmVtcHR5U3RhdGUgPSBlbXB0eVN0YXRlO1xuICB0aGlzLm9uU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gX3RoaXMyOC5fc3Vic2NyaXB0aW9uU2VydmljZS5zdWJzY3JpYmVUb1N0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgY2FsbGJhY2soc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHZvaWQgMCA/IHN0YXRlIDogX3RoaXMyOC5lbXB0eVN0YXRlKTtcbiAgICB9KTtcbiAgfTtcbn0pO1xudmFyIFdJTERDQVJEX0FDVElPTiA9ICcqJztcbnZhciBSQkFDUG9saWN5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUkJBQ1BvbGljeShyb2xlcywgcmVzb3VyY2VzKSB7XG4gICAgdmFyIF90aGlzMzQgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSQkFDUG9saWN5KTtcbiAgICB0aGlzLnJvbGVzID0gcm9sZXM7XG4gICAgdGhpcy5yZXNvdXJjZXMgPSByZXNvdXJjZXM7XG4gICAgdGhpcy5yb2xlc0J5SUQgPSB7fTtcbiAgICByb2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb2xlKSB7XG4gICAgICByZXR1cm4gX3RoaXMzNC5yb2xlc0J5SURbcm9sZS5yb2xlX2lkXSA9IHJvbGU7XG4gICAgfSk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKFJCQUNQb2xpY3ksIFt7XG4gICAga2V5OiBcImNhbGxlcklzQXV0aG9yaXplZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxsZXJJc0F1dGhvcml6ZWQobWVtYmVyUm9sZXMsIHJlc291cmNlSWQsIGFjdGlvbikge1xuICAgICAgdmFyIF90aGlzMzUgPSB0aGlzO1xuICAgICAgcmV0dXJuICEhbWVtYmVyUm9sZXMubWFwKGZ1bmN0aW9uIChyb2xlSWQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMzUucm9sZXNCeUlEW3JvbGVJZF07XG4gICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB9KS5mbGF0TWFwKGZ1bmN0aW9uIChyb2xlKSB7XG4gICAgICAgIHJldHVybiByb2xlLnBlcm1pc3Npb25zO1xuICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChwZXJtaXNzaW9uKSB7XG4gICAgICAgIHJldHVybiBwZXJtaXNzaW9uLnJlc291cmNlX2lkID09PSByZXNvdXJjZUlkO1xuICAgICAgfSkuZmluZChmdW5jdGlvbiAocGVybWlzc2lvbikge1xuICAgICAgICByZXR1cm4gcGVybWlzc2lvbi5hY3Rpb25zLmluY2x1ZGVzKGFjdGlvbikgfHwgcGVybWlzc2lvbi5hY3Rpb25zLmluY2x1ZGVzKFdJTERDQVJEX0FDVElPTik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWxsUGVybWlzc2lvbnNGb3JDYWxsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWxsUGVybWlzc2lvbnNGb3JDYWxsZXIobWVtYmVyUm9sZXMpIHtcbiAgICAgIHZhciBfdGhpczM2ID0gdGhpcztcbiAgICAgIHZhciBhbGxQZXJtc01hcCA9IHt9O1xuICAgICAgdGhpcy5yZXNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgYWxsUGVybXNNYXBbcmVzb3VyY2UucmVzb3VyY2VfaWRdID0ge307XG4gICAgICAgIHJlc291cmNlLmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgYWxsUGVybXNNYXBbcmVzb3VyY2UucmVzb3VyY2VfaWRdW2FjdGlvbl0gPSBfdGhpczM2LmNhbGxlcklzQXV0aG9yaXplZChtZW1iZXJSb2xlcywgcmVzb3VyY2UucmVzb3VyY2VfaWQsIGFjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxsUGVybXNNYXA7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUpTT04oaW5wdXQpIHtcbiAgICAgIHJldHVybiBuZXcgUkJBQ1BvbGljeShpbnB1dC5yb2xlcywgaW5wdXQucmVzb3VyY2VzKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFJCQUNQb2xpY3k7XG59KCk7XG52YXIgY3JlYXRlRGVlcEVxdWFsID0gZnVuY3Rpb24gY3JlYXRlRGVlcEVxdWFsKCkge1xuICB2YXIgX3JlZjggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgIF9yZWY4JEtFWVNfVE9fRVhDTFVERSA9IF9yZWY4LktFWVNfVE9fRVhDTFVERSxcbiAgICBLRVlTX1RPX0VYQ0xVREUgPSBfcmVmOCRLRVlTX1RPX0VYQ0xVREUgPT09IHZvaWQgMCA/IFtdIDogX3JlZjgkS0VZU19UT19FWENMVURFO1xuICB2YXIgZGVlcEVxdWFsID0gZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgICBpZiAoX3R5cGVvZihhKSAhPT0gX3R5cGVvZihiKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChhID09PSBudWxsIHx8IGIgPT09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIGlmIChfdHlwZW9mKGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKGEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoIHx8IE9iamVjdC5rZXlzKGEpLnNvbWUoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuICEoayBpbiBiKTtcbiAgICAgIH0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoYSkuZmlsdGVyKGZ1bmN0aW9uIChfcmVmOSkge1xuICAgICAgICB2YXIgX3JlZjEwID0gX3NsaWNlZFRvQXJyYXkoX3JlZjksIDEpLFxuICAgICAgICAgIGsgPSBfcmVmMTBbMF07XG4gICAgICAgIHJldHVybiAhS0VZU19UT19FWENMVURFLmluY2x1ZGVzKGspO1xuICAgICAgfSkuZXZlcnkoZnVuY3Rpb24gKF9yZWYxMSkge1xuICAgICAgICB2YXIgX3JlZjEyID0gX3NsaWNlZFRvQXJyYXkoX3JlZjExLCAyKSxcbiAgICAgICAgICBrID0gX3JlZjEyWzBdLFxuICAgICAgICAgIHYgPSBfcmVmMTJbMV07XG4gICAgICAgIHJldHVybiBkZWVwRXF1YWwodiwgYltrXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH07XG4gIHJldHVybiBkZWVwRXF1YWw7XG59O1xuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn07XG52YXIgTE9DQUxfU1RPUkFHRV9LRVlfUFJFRklYID0gJ3N0eXRjaF9zZGtfc3RhdGVfJztcbnZhciBnZXRMb2NhbFN0b3JhZ2VLZXkgPSBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2VLZXkocHVibGljVG9rZW4pIHtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gIHJldHVybiBcIlwiLmNvbmNhdChMT0NBTF9TVE9SQUdFX0tFWV9QUkVGSVgpLmNvbmNhdChwdWJsaWNUb2tlbikuY29uY2F0KGtleSA/IFwiOjpcIi5jb25jYXQoa2V5KSA6ICcnKTtcbn07XG52YXIgaW50ZXJuYWxTeW1CMkIgPSBTeW1ib2xbXCJmb3JcIl0oJ3N0eXRjaF9faW50ZXJuYWxfYjJiJyk7XG52YXIgd3JpdGVCMkJJbnRlcm5hbHMgPSBmdW5jdGlvbiB3cml0ZUIyQkludGVybmFscyhvYmosIGludGVybmFscykge1xuICBPYmplY3QuYXNzaWduKG9iaiwgX2RlZmluZVByb3BlcnR5KHt9LCBpbnRlcm5hbFN5bUIyQiwgaW50ZXJuYWxzKSk7XG59O1xudmFyIHJlYWRCMkJJbnRlcm5hbHMgPSBmdW5jdGlvbiByZWFkQjJCSW50ZXJuYWxzKG9iaikge1xuICB2YXIgY2FzdGVkID0gb2JqO1xuICBpZiAoIWNhc3RlZFtpbnRlcm5hbFN5bUIyQl0pIHtcbiAgICB0aHJvdyBFcnJvcignSW50ZXJuYWxzIG5vdCBmb3VuZCEnKTtcbiAgfVxuICByZXR1cm4gY2FzdGVkW2ludGVybmFsU3ltQjJCXTtcbn07XG5leHBvcnQgeyBTdHl0Y2hFcnJvciBhcyAkLCBBdXRoRmxvd1R5cGUgYXMgQSwgQjJCTUZBUHJvZHVjdHMgYXMgQiwgQ09VTlRSSUVTX0xJU1QgYXMgQywgREVGQVVMVF9TRVNTSU9OX0RVUkFUSU9OX01JTlVURVMgYXMgRCwgTm9DcmVkZW50aWFsc1ByZXNlbnRFcnJvciBhcyBFLCBGYWlsZWRDb2RlQ2hhbGxlbmdlRXJyb3IgYXMgRiwgTm9DdXJyZW50U2Vzc2lvbkVycm9yIGFzIEcsIFBhc3NrZXlzSW52YWxpZEVuY29kaW5nIGFzIEgsIEludGVybmFsRXJyb3IgYXMgSSwgSlNPTkRhdGFOb3RDb252ZXJ0aWJsZVRvU3RyaW5nRXJyb3IgYXMgSiwgS2V5SW52YWxpZGF0ZWRFcnJvciBhcyBLLCBQYXNza2V5c01pc2NvbmZpZ3VyZWQgYXMgTCwgTWlzc2luZ0F0dGVzdGF0aW9uT2JqZWN0RXJyb3IgYXMgTSwgTm9CaW9tZXRyaWNzRW5yb2xsZWRFcnJvciBhcyBOLCBPQXV0aFByb3ZpZGVycyBhcyBPLCBQcm9kdWN0cyBhcyBQLCBQYXNza2V5c1Vuc3VwcG9ydGVkRXJyb3IgYXMgUSwgUk5VSVByb2R1Y3RzIGFzIFIsIFN0eXRjaEV2ZW50VHlwZSBhcyBTLCBSYW5kb21OdW1iZXJHZW5lcmF0aW9uRmFpbGVkIGFzIFQsIFNES0FQSVVucmVhY2hhYmxlRXJyb3IgYXMgVSwgU0RLTm90Q29uZmlndXJlZEVycm9yIGFzIFYsIFdhbGxldHMgYXMgVywgU2lnbkluV2l0aEFwcGxlTWlzY29uZmlndXJlZCBhcyBYLCBTdHl0Y2hBUElTY2hlbWFFcnJvciBhcyBZLCBTdHl0Y2hBUElVbnJlYWNoYWJsZUVycm9yIGFzIFosIF9fYXdhaXRlciBhcyBfLCBCMkJQcm9kdWN0cyBhcyBhLCBTdHl0Y2hTREtBUElFcnJvciBhcyBhMCwgU3R5dGNoU0RLU2NoZW1hRXJyb3IgYXMgYTEsIFN0eXRjaFNES1VzYWdlRXJyb3IgYXMgYTIsIFVOUkVDT1ZFUkFCTEVfRVJST1JfVFlQRVMgYXMgYTMsIFVzZXJDYW5jZWxsYXRpb25FcnJvciBhcyBhNCwgVXNlckxvY2tlZE91dEVycm9yIGFzIGE1LCBlcnJvclRvU3R5dGNoRXJyb3IgYXMgYTYsIF9fcmVzdCBhcyBhNywgY3JlYXRlRGVlcEVxdWFsIGFzIGE4LCBnZXRMb2NhbFN0b3JhZ2VLZXkgYXMgYTksIEhlYWRsZXNzQjJCTWFnaWNMaW5rc0NsaWVudCBhcyBhQSwgSGVhZGxlc3NCMkJTU09DbGllbnQgYXMgYUIsIEhlYWRsZXNzQjJCRGlzY292ZXJ5Q2xpZW50IGFzIGFDLCBIZWFkbGVzc0IyQlBhc3N3b3Jkc0NsaWVudCBhcyBhRCwgSGVhZGxlc3NCMkJPVFBzQ2xpZW50IGFzIGFFLCBIZWFkbGVzc0IyQlRPVFBzQ2xpZW50IGFzIGFGLCBIZWFkbGVzc0IyQlJlY292ZXJ5Q29kZXNDbGllbnQgYXMgYUcsIEhlYWRsZXNzQjJCUkJBQ0NsaWVudCBhcyBhSCwgSGVhZGxlc3NCMkJTQ0lNQ2xpZW50IGFzIGFJLCBTZXNzaW9uTWFuYWdlciBhcyBhSiwgU2VhcmNoRGF0YU1hbmFnZXIgYXMgYUssIHdyaXRlQjJCSW50ZXJuYWxzIGFzIGFMLCBIZWFkbGVzc0IyQk9BdXRoQ2xpZW50JDEgYXMgYWEsIGxvYWRFU01vZHVsZSBhcyBhYiwgSWZyYW1lSG9zdENsaWVudCBhcyBhYywgRXZlbnRMb2dnZXIgYXMgYWQsIERFRkFVTFRfTUFYX0JBVENIX1NJWkUgYXMgYWUsIERFRkFVTFRfSU5URVJWQUxfRFVSQVRJT05fTVMgYXMgYWYsIGNyZWF0ZUV2ZW50SWQgYXMgYWcsIGNyZWF0ZUFwcFNlc3Npb25JZCBhcyBhaCwgY3JlYXRlUGVyc2lzdGVudElkIGFzIGFpLCBiYXNlRmV0Y2hTREsgYXMgYWosIHJldHJpYWJsZUZldGNoU0RLIGFzIGFrLCBTVFlUQ0hfV0VCX0JBQ0tFTkRfVVJMIGFzIGFsLCBURVNUX0FQSV9VUkwgYXMgYW0sIExJVkVfQVBJX1VSTCBhcyBhbiwgU1RZVENIX0RGUF9CQUNLRU5EX1VSTCBhcyBhbywgQ0xJRU5UU0lERV9TRVJWSUNFU19JRlJBTUVfVVJMIGFzIGFwLCB2YWxpZGF0ZSBhcyBhcSwgR09PR0xFX09ORV9UQVBfSE9TVCBhcyBhciwgR09PR0xFX09ORV9UQVBfU0NSSVBUX1VSTCBhcyBhcywgY2hlY2tCMkJOb3RTU1IgYXMgYXQsIGNoZWNrUHVibGljVG9rZW4gYXMgYXUsIFN0YXRlQ2hhbmdlQ2xpZW50IGFzIGF2LCBERlBQcm90ZWN0ZWRBdXRoUHJvdmlkZXIgYXMgYXcsIEhlYWRsZXNzQjJCT3JnYW5pemF0aW9uQ2xpZW50IGFzIGF4LCBIZWFkbGVzc0IyQlNlbGZDbGllbnQgYXMgYXksIEhlYWRsZXNzQjJCU2Vzc2lvbkNsaWVudCBhcyBheiwgT1RQTWV0aG9kcyBhcyBiLCBTdHl0Y2hBUElFcnJvciBhcyBjLCBCMkJPQXV0aFByb3ZpZGVycyBhcyBkLCBPbmVUYXBQb3NpdGlvbnMgYXMgZSwgU3R5dGNoU0RLRXJyb3IgYXMgZiwgY2hlY2tOb3RTU1IgYXMgZywgQmlvbWV0cmljc0ZhaWxlZEVycm9yIGFzIGgsIGlzVGVzdFB1YmxpY1Rva2VuIGFzIGksIEJpb21ldHJpY3NVbmF2YWlsYWJsZUVycm9yIGFzIGosIENoYWxsZW5nZVNpZ25pbmdGYWlsZWRFcnJvciBhcyBrLCBsb2dnZXIgYXMgbCwgRGV2aWNlQ3JlZGVudGlhbHNOb3RBbGxvd2VkRXJyb3IgYXMgbSwgRmFpbGVkVG9EZWNyeXB0RGF0YUVycm9yIGFzIG4sIEludmFsaWRBdXRob3JpemF0aW9uQ3JlZGVudGlhbEVycm9yIGFzIG8sIEludmFsaWRDcmVkZW50aWFsVHlwZUVycm9yIGFzIHAsIEludmFsaWRSZWRpcmVjdFNjaGVtZUVycm9yIGFzIHEsIHJlYWRCMkJJbnRlcm5hbHMgYXMgciwgSW52YWxpZFN0YXJ0VXJsRXJyb3IgYXMgcywgS2V5c3RvcmVVbmF2YWlsYWJsZUVycm9yIGFzIHQsIE1pc3NpbmdBdXRob3JpemF0aW9uQ3JlZGVudGlhbElEVG9rZW5FcnJvciBhcyB1LCBNaXNzaW5nR29vZ2xlQ2xpZW50SURFcnJvciBhcyB2LCBNaXNzaW5nUEtDRUVycm9yIGFzIHcsIE1pc3NpbmdQdWJsaWNLZXlFcnJvciBhcyB4LCBNaXNzaW5nVXJsRXJyb3IgYXMgeSwgTm9CaW9tZXRyaWNzUmVnaXN0cmF0aW9uRXJyb3IgYXMgeiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stytch/vanilla-js/dist/internal-D5OqLsPs.js\n");

/***/ })

};
;